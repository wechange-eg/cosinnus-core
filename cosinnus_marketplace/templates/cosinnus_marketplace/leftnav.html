{% load i18n static cosinnus_tags widget_tweaks %}

{% group_url 'cosinnus:marketplace:list' group=group as marketplace_list_page %}
{% group_url 'cosinnus:marketplace:list_mine' group=group as marketplace_list_mine_page %}
{% group_url 'cosinnus:marketplace:add' group=group as marketplace_add_page %}


{% if return_to == "offers" %}

    <button type="button" class="btn w100 btn-emphasized" href="{% group_url 'cosinnus:marketplace:list' group=group %}">
        <ul class="media-list">
            <li class="media">
                <span class="pull-left">
                    <i class="fa fa-reply"></i>
                </span>
                <span class="pull-right"></span><!-- only block width -->
                <div class="media-body">
                    {% trans "Back to Offers" %}
                </div>
            </li>
        </ul>
    </button>
    
{% else %} {# Offer list view #}
    
    <button type="button" class="btn w100 btn-{% if request.path == marketplace_list_page %}extra-{% endif %}emphasized fine-space" href="{{ marketplace_list_page }}">
        <ul class="media-list">
            <li class="media">
                <span class="pull-left">
                    <i class="fa fa-exchange"></i>
                </span>
                {% if request.path == marketplace_list_page %}
                    <span class="pull-right">
                        <i class="fa fa-caret-right"></i>
                    </span>
                {% endif %}
                <div class="media-body">
                    {% trans "Offers" %}
                </div>
            </li>
        </ul>
    </button>
    
    <button type="button" class="btn w100 btn-{% if request.path == marketplace_list_mine_page %}extra-{% endif %}emphasized large-space" href="{{ marketplace_list_mine_page }}">
        <ul class="media-list">
            <li class="media">
                <span class="pull-left">
                    {% if my_offer_count or my_offer_count == 0 %}
                        {{ my_offer_count }}
                        <i class="fa fa-exchange" style="display:none;"></i>
                    {% else %}
                        <i class="fa fa-exchange"></i>
                    {% endif %}
                </span>
                <span class="pull-right">
                    {% if request.path == marketplace_list_mine_page %}
                        <i class="fa fa-caret-right"></i>
                    {% endif %}
                </span>
                <div class="media-body">
                    {% trans "My Offers" %}
                </div>
            </li>
        </ul>
    </button>

    {% if user|can_create_objects_in:group %}
        <button type="button" class="btn w100 btn-emphasized large-space" href="{{ marketplace_add_page }}">
            <ul class="media-list">
                <li class="media">
                    <span class="pull-left">
                        <i class="fa fa-plus"></i>
                    </span>
                    <div class="media-body">
                        {% trans "Add Offer" %}
                    </div>
                </li>
            </ul>
        </button>
    {% endif %}
{% endif %}

{% block leftnav_extra %}{% endblock leftnav_extra %}
