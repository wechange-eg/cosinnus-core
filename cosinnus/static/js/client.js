/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	// Main application class
	
	var Router = __webpack_require__(1);
	var mediator = __webpack_require__(13);
	var util = __webpack_require__(5);
	
	var ControlView = __webpack_require__(14);
	var MapView = __webpack_require__(2);
	var TileListView = __webpack_require__(28);
	var TileDetailView = __webpack_require__(37);
	var NavbarQuickSearchView = __webpack_require__(49);
	var NavbarMainMenuView = __webpack_require__(51);
	var NavbarNotificationWidgetView = __webpack_require__(53);
	var UserDashboardView = __webpack_require__(57);
	
	
	var App = function App () {
	    var self = this;
	    
	    // emulate a view's anchorpoint
	    self.el = null;
	    self.$el = null;
	    
	    // contains all views that can display Results
	    self.contentViews = [];
	    self.controlView = null;
	    self.tileListView = null;
	    self.mapView = null;
	    self.tileDetailView = null;
	    
	    // other views
	    self.navbarQuickSearchView = null;
	    self.navbarMainMenuView = null;
	    self.navbarNotificationWidget = null;
	    self.userDashboardView = null;
	
	    self.router = null;
	    self.mediator = null;
	    
	    // should have them all here
	    self.defaultSettings = {
	        // we can't actually define them here, as these get set in controlView.defaults!
	    	// see controlView.defaults for all their default values
			/*
	         * filterGroup: <int> if given, filters all content by the given group id
	         * filterManagedTag: <int> if given, filters all content by the given managed tag id
			 * availableFilters: <dict> the shown result filters by type
			 * activeFilters: <dict> the active (selected) current result filters by type
			 * basePageUrl: <str> the eg "/map/" url fragment as base of this page, used to build history URLs 
			 * 		(independent of search endpoint URLs)
			 */
	    };
	    
	    self.defaultDisplayOptions = {
	        showMap: true,
	        showTiles: true,
	        showControls: true,
	        fullscreen: true,
	        routeNavigation: true,
	        forcePaginationControlsEnabled: false
	    };
	    self.displayOptions = {}
	    self.defaultEl = '#app-fullscreen';
	    self.defaultBasePageUrl = '/map/';
	    
	    self.passedOptions = null;
	    
	    // the most recent complete settings the app was initialized with
	    self.settings = null;
	    
	    
	    /** Main entry point */
	    self.start = function () {
	        self.mediator = Backbone.mediator = mediator;
	        self.mediator.settings = window.settings || {};
	        
	        var triggerResizeEvent = function (){
	            Backbone.mediator.publish('resize:window');
	        }
	        var resizeTimer;
	        // A global resize event with a delay so it won't fire constantly
	        $(window).on('resize', function () {
	            clearTimeout(resizeTimer);
	            resizeTimer = setTimeout(triggerResizeEvent, 500);
	        });
	        
	        // init-module calls. inside a listener to the 'init:client' event,
	        // one of these need to be called from the template to initialize the required modules
	        Backbone.mediator.subscribe('init:module-full-routed', self.initModuleFullRouted, self);
	        Backbone.mediator.subscribe('init:module-embed', self.initAppFromOptions, self);
	        Backbone.mediator.subscribe('init:module-navbar-quicksearch', self.initNavbarQuicksearchFromOptions, self);
	        Backbone.mediator.subscribe('init:module-navbar-main-menu', self.initNavbarMainMenuFromOptions, self);
	        Backbone.mediator.subscribe('init:module-navbar-notification-widget', self.initNavbarNotificationWidgetFromOptions, self);
	        Backbone.mediator.subscribe('init:module-user-dashboard', self.initUserDashboardFromOptions, self);
	        
	        // - the 'init:client' signal is the marker for all pages using this client.js to now
	        //      publish the "init:<module>" event for whichever module configuration they wish to load (see above)
	        util.log('app.js: finish start() and publishing "init:client"')
	        Backbone.mediator.publish('init:client');
	        // we trigger both on the mediator and on html, in case scripts loaded earlier than this have already subsribed on 'html'
	        $('html').trigger('init:client');
	        
	        return self;
	    };
	    
	    /** Module configuration for a fullscreen App with full control of the page, that uses routing and history.
	     *  This module uses the full set of default options and gets passed no options */
	    self.initModuleFullRouted = function (options) {
	    	self.passedOptions = options;
	    	
	    	self.router = new Router();
	    	
	        // (The first routing will autoinitialize views and model in self.navigate_map())
	        Backbone.mediator.subscribe('navigate:map', self.navigate_map, self);
	        Backbone.mediator.subscribe('navigate:router', self.router.on_navigate, self);
	        
	        // Start routing... this will automatically call `self.navigate_map()` once
	        util.log('app.js: init routing')
	        var root = options.basePageUrl || self.defaultBasePageUrl;
	        Backbone.history.start({
	            pushState: true,
	            root: root
	        });
	    };
	    
	    /** Called on navigate, from router.js */
	    self.navigate_map = function (event) {
	    	// this will be called the on the first navigate to the URL, so we use
	    	// it to init the app
	        if (self.controlView == null) {
	            self.initAppFromOptions(self.passedOptions);
	        } else {
	            Backbone.mediator.publish('app:stale-results', {reason: 'map-navigate'});
	        }
	    };
	    
	
	    /** Inits the app with many or no passed options.
	     *  Default settings will be used for any options not passed.
	     * 
	     *  Many options can be configured for hiding the tile-list, disabling the visual control-view
	     *  or enabling only specific Result model types. */
	    self.initAppFromOptions = function (options) {
	        // add passed options into params extended over the default options
	    	  var el = options.el ? options.el : self.defaultEl;
	        var displayOptions = $.extend(true, {}, self.defaultDisplayOptions, options.display || {});
	        var settings = $.extend(true, {}, self.defaultSettings, options.settings || {});
	        var basePageUrl = options.basePageUrl || self.defaultBasePageUrl;
	        
	        self.init_app(el, basePageUrl, settings, displayOptions);
	    };
	    
	    /** Main initialization function, this eventually gets called no matter which modules we load. */
	    self.init_app = function (el, basePageUrl, settings, displayOptions) {
	        util.log('app.js: init_app called with event, params')
	        
	        self.el = el;
	        self.$el = $(self.el);
	        
	        self.settings = settings;
	        self.displayOptions = displayOptions;
	        
	        var topicsJson = typeof COSINNUS_MAP_TOPICS_JSON !== 'undefined' ? COSINNUS_MAP_TOPICS_JSON : {};
	        var textTopicsJson = typeof COSINNUS_MAP_TEXT_TOPICS_JSON !== 'undefined' ? COSINNUS_MAP_TEXT_TOPICS_JSON : {};
	        var sdgsJson = typeof COSINNUS_MAP_SDGS_JSON !== 'undefined' ? COSINNUS_MAP_SDGS_JSON : {};
	        var allManagedTags = typeof COSINNUS_MANAGED_TAGS_JSON !== 'undefined' ? COSINNUS_MANAGED_TAGS_JSON : {};
	        var showManagedTagsOnTypesSelected = typeof COSINNUS_MANAGED_TAGS_SHOW_FILTER_ON_MAP_WHEN_CONTENT_TYPE_SELECTED !== 'undefined' ? COSINNUS_MANAGED_TAGS_SHOW_FILTER_ON_MAP_WHEN_CONTENT_TYPE_SELECTED : [];
	        var showTextTopicsOnTypesSelected = typeof COSINNUS_TEXT_TOPICS_SHOW_FILTER_ON_MAP_WHEN_CONTENT_TYPE_SELECTED !== 'undefined' ? COSINNUS_TEXT_TOPICS_SHOW_FILTER_ON_MAP_WHEN_CONTENT_TYPE_SELECTED : [];
	        var managedTagsLabels = typeof COSINNUS_MANAGED_TAGS_LABELS_JSON !== 'undefined' ? COSINNUS_MANAGED_TAGS_LABELS_JSON : {};
	        var portalInfo = typeof COSINNUS_PORTAL_INFOS !== 'undefined' ? COSINNUS_PORTAL_INFOS : {};
	        self.controlView = new ControlView({
	                el: null, // will only be set if attached to tile-view
	                availableFilters: self.settings.availableFilters,
	                activeFilters: self.settings.activeFilters,
	                allTopics: topicsJson,
	                allTextTopics: textTopicsJson,
	                allSDGS: sdgsJson,
	                allManagedTags: allManagedTags,
	                managedTagsLabels: managedTagsLabels,
	                showManagedTagsOnTypesSelected: showManagedTagsOnTypesSelected,
	                showTextTopicsOnTypesSelected: showTextTopicsOnTypesSelected,
	                portalInfo: portalInfo,
	                controlsEnabled: self.displayOptions.showControls,
	                scrollControlsEnabled: self.displayOptions.showControls && self.displayOptions.showMap,
	                paginationControlsEnabled: self.displayOptions.forcePaginationControlsEnabled || self.displayOptions.showTiles,
	                paginationControlsUseInfiniteScroll: !self.displayOptions.showMap && self.displayOptions.showTiles,
	                filterGroup: self.settings.filterGroup,
	                filterManagedTag: self.settings.filterManagedTag,
	                basePageURL: basePageUrl,
	                showMine: self.settings.showMine,
	                fullscreen: self.displayOptions.fullscreen,
	                splitscreen: self.displayOptions.showMap && self.displayOptions.showTiles,
	                mapShown: self.displayOptions.showMap,
	                searchResultLimit: self.settings.searchResultLimit || 20,
	                hideTopics: self.settings.hideTopics || false,
	            },
	            self,
	            null
	        ); // collection=null here, gets instantiated in the control view
	        self.contentViews.push(self.controlView);
	        
	        util.log('app.js: TODO: really do this if check for controlsEnabled?')
	        util.log(self.displayOptions)
	        
	        self.loadMapView();
	        self.loadTileView();
	        
	        self.tileDetailView = new TileDetailView({
		            model: null,
		            elParent: self.el,
		            fullscreen: self.displayOptions.fullscreen,
		            splitscreen: self.displayOptions.showMap && self.displayOptions.showTiles
		        }, 
		        self
	        ).render();
	        
	        Backbone.mediator.publish('app:ready');
	    };
	    
	    /**
	     * Loads the map view based on display options
	     */
	    self.loadMapView = function() {
	    	if (self.mapView == null) {
	    		// load map from scratch
	    		if (self.displayOptions.showMap) {
	    			var options = {
	    				elParent: self.el,
	    				fullscreen: self.displayOptions.fullscreen,
	    				splitscreen: self.displayOptions.showMap && self.displayOptions.showTiles,
	                    controlsEnabled: self.displayOptions.showControls,
	                    mobileSafeInteractions: self.settings && self.settings.mobileSafeInteractions,
	    			};
	    			if (self.settings.map && self.settings.map.location) {
	    				options['location'] = self.settings.map.location;
	    			}
	    			if (self.settings.map && self.settings.map.zoom) {
	    				options['zoom'] = self.settings.map.zoom;
	    			}
	    			
	    			self.mapView = new MapView(
	    				options, 
		    			self,
		    			self.controlView.collection
	    			).render();
	    			self.contentViews.push(self.mapView);
	    		}
	        } else {
	        	if (self.displayOptions.showMap) {
	        		// update settings to show/hide view
	        		self.mapView.options.fullscreen = self.displayOptions.fullscreen;
	        		self.mapView.options.splitscreen = self.displayOptions.showMap && self.displayOptions.showTiles;
	        		self.mapView.reload();
	        	} else {
	        		// hide map and activate non-in-map-searching
	        		self.mapView.hide();
	        	}
	        }
	    };
	    
	    /**
	     * Loads the tile view based on display options
	     */
	    self.loadTileView = function() {
	    	if (self.tileListView == null) {
	    		if (self.displayOptions.showTiles) {
	    			// load tiles from scratch
	    			self.tileListView = new TileListView({
		    				elParent: self.el,
		    				fullscreen: self.displayOptions.fullscreen,
		    				splitscreen: self.displayOptions.showMap && self.displayOptions.showTiles
		    			}, 
		    			self,
		    			self.controlView.collection
	    			).render();
	    			self.contentViews.push(self.tileListView);
	    			
	    			// render control-view controls inside tile-list-view
	    			if (self.displayOptions.showControls) {
	    				util.log('app.js: actually rendering controls')
	    				self.controlView.setElement(self.tileListView.$el.find('.controls'));
	    				self.controlView.render();
	    			}
	    		}
	        } else {
	        	if (self.displayOptions.showTiles) {
	        		// update settings to show/hide view
	        		self.tileListView.options.fullscreen = self.displayOptions.fullscreen;
	        		self.tileListView.options.splitscreen = self.displayOptions.showMap && self.displayOptions.showTiles;
	        		self.tileListView.reload();
	        	} else {
	        		// hide tiles (animate!) but keep search params! 
	        		self.tileListView.hide();
	        	}
	        }
	    };
	    
	
	    self.initNavbarQuicksearchFromOptions = function (options) {
	        // add passed options into params extended over the default options
	    	  var el = options.el ? options.el : '#nav-quicksearch';
	        var topicsJson = typeof COSINNUS_MAP_TOPICS_JSON !== 'undefined' ? COSINNUS_MAP_TOPICS_JSON : {};
	        var textTopicsJson = typeof COSINNUS_MAP_TEXT_TOPICS_JSON !== 'undefined' ? COSINNUS_MAP_TEXT_TOPICS_JSON : {};
	        var sdgsJson = typeof COSINNUS_MAP_SDGS_JSON !== 'undefined' ? COSINNUS_MAP_SDGS_JSON : {};
	        var portalInfo = typeof COSINNUS_PORTAL_INFOS !== 'undefined' ? COSINNUS_PORTAL_INFOS : {};
	        var cloudEnabled = COSINNUS_CLOUD_ENABLED || false;
	
	        if (self.navbarQuickSearchView == null) {
	        	self.navbarQuickSearchView = new NavbarQuickSearchView({
	        		model: null,
	        		el: el,
	        		topicsJson: topicsJson,
	                textTopicsJson: textTopicsJson,
	                sdgsJson: sdgsJson,
	                portalInfo: portalInfo,
	                cloudEnabled: cloudEnabled,
	                placeholder: options.placeholder
	        	},
	        	self
	        	).render();
	        	Backbone.mediator.publish('navbar-quicksearch:ready');
	        }
	    };
	    
	    
	    self.initNavbarMainMenuFromOptions = function (options) {
	        // add passed options into params extended over the default options
	        var el = options.el ? options.el : '#nav-main-menu';
	        var topicsJson = typeof COSINNUS_MAP_TOPICS_JSON !== 'undefined' ? COSINNUS_MAP_TOPICS_JSON : {};
	        var textTopicsJson = typeof COSINNUS_MAP_TEXT_TOPICS_JSON !== 'undefined' ? COSINNUS_MAP_TEXT_TOPICS_JSON : {};
	        var sdgsJson = typeof COSINNUS_MAP_SDGS_JSON !== 'undefined' ? COSINNUS_MAP_SDGS_JSON : {};
	        var portalInfo = typeof COSINNUS_PORTAL_INFOS !== 'undefined' ? COSINNUS_PORTAL_INFOS : {};
	        var contextData = options.contextData ? options.contextData : {};
	        var contextDataJSON = options.contextDataJSON ? options.contextDataJSON : {};
	
	        if (self.navbarMainMenuView == null) {
	            self.navbarMainMenuView = new NavbarMainMenuView({
	                model: null,
	                el: el,
	                contextData: contextData,
	                contextDataJSON: contextDataJSON,
	                topicsJson: topicsJson,
	                textTopicsJson: textTopicsJson,
	                sdgsJson: sdgsJson,
	                portalInfo: portalInfo,
	            }, 
	            self
	            ).render();
	            Backbone.mediator.publish('navbar-main-manu:ready');
	        }
	    };
	    
	    self.initNavbarNotificationWidgetFromOptions = function (options) {
	        // add passed options into params extended over the default options
	        var el = options.el ? options.el : '#nav-notification-items';
	        
	        if (self.navbarNotificationWidgetView == null) {
	            //        elParent: self.$el.find('.typed-widgets-root'),
	            self.navbarNotificationWidgetView = new NavbarNotificationWidgetView({
	                el: el,
	            }, self.app);
	            self.navbarNotificationWidgetView.load().then(function(){
	                Backbone.mediator.publish('navbar-notification-widget:ready');
	                util.log('# #### loaded notification widget.')
	            });
	        }
	    };
	
	    self.initUserDashboardFromOptions = function (options) {
	        // add passed options into params extended over the default options
	        var topicsJson = typeof COSINNUS_MAP_TOPICS_JSON !== 'undefined' ? COSINNUS_MAP_TOPICS_JSON : {};
	        var textTopicsJson = typeof COSINNUS_MAP_TEXT_TOPICS_JSON !== 'undefined' ? COSINNUS_MAP_TEXT_TOPICS_JSON : {};
	        var sdgsJson = typeof COSINNUS_MAP_SDGS_JSON !== 'undefined' ? COSINNUS_MAP_SDGS_JSON : {};
	        var portalInfo = typeof COSINNUS_PORTAL_INFOS !== 'undefined' ? COSINNUS_PORTAL_INFOS : {};
	        
	        if (self.userDashboardView == null) {
	        	self.userDashboardView = new UserDashboardView({
	        		model: null,
	        		el: null,
	        		topicsJson: topicsJson,
	                textTopicsJson: textTopicsJson,
	                sdgsJson: sdgsJson,
	        		portalInfo: portalInfo,
	        		uiPrefs: options.ui_prefs,
	        		forceOnlyMine: options.force_only_mine,
	        	}, 
	        	self
	        	).render();
	        	Backbone.mediator.publish('user-dashboard:ready');
	        }
	    };
	    
	    
	    
	};
	
	module.exports = App;
	
	$(function () {
	    window.App = new App().start();
	});


/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict'
	
	var MapView = __webpack_require__(2);
	var util = __webpack_require__(5);
	
	module.exports = Backbone.Router.extend({
	    
	    routes: {
	        '': 'route_app_map_tiles'
	    },
	    
	    first_route_event: true,
	
	    route_app_map_tiles: function () {
	        // If the base app view hasn't been instantiated, create and render it.
	        util.log('router.js: routed ')
	        Backbone.mediator.publish('navigate:map');
	    },
	    
	    /** Triggered by the mediator event 'navigate:router' */
	    on_navigate: function(url) {
	        util.log('router.js: got a navigate event!')
	        util.log(url)
	        
	        if (url) {
	        	// since a '/' leading slash would be dropped by the router and we always
	        	// operate on the root url of this router, we have to format the URL like so './...'
	        	url = '.' + url;
	            Backbone.Router.prototype.navigate.call(this, url, { 
	                trigger: false,
	                replace: App.router.first_route_event
	            });
	            
	            if (App.router.first_route_event) {
	                util.log('router.js: THIS IS THE FIRST NAVIGATE EVENT. Replacing history state instead of adding a new one!')
	                App.router.first_route_event = false;
	            }
	        }
	    },
	    
	    /**
	     * Direct convenience function to update the URL without any fetches or routing
	     */
	    replaceUrl: function(url) {
	        util.log('router.js: Replacing the current history URL without navigation or routing.')
	        Backbone.Router.prototype.navigate.call(this, url, { 
	            trigger: false,
	            replace: true
	        });
	    }
	    
	    
	});


/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var ContentControlView = __webpack_require__(3);
	var MapLayerButtonsView = __webpack_require__(6);
	var popupTemplate = __webpack_require__(11);
	var util = __webpack_require__(5);
	
	module.exports = ContentControlView.extend({
	
	    template: __webpack_require__(12),
	    
	    // The DOM events specific to an item.
	    events: {
	        'click .map-expand-button': 'onExpandButtonClicked',
	    },
	    
	    // English / International version of the OpenStreetMap tileset based on CartoDB
	    layers: {
	        street: {
	            url: (util.protocol() === 'http:' ?
	                'http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}@2x.png' :
	                'https://cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png'),
	            options: {
	                attribution: '<a href="https://carto.com" target="_blank">CartoDB</a> | <a href="https://www.openstreetmap.org" target="_blank">&copy; OpenStreetMap contributors</a>'
	            }
	        },
	    },
	
	    // German version of the OpenStreetMap tileset
	    layersModernTileset: {
	        street: {
	            url: (util.protocol() === 'https:' ?
	                'http://{s}.tile.openstreetmap.de/tiles/osmde/{z}/{x}/{y}.png' :
	                'https://{s}.tile.openstreetmap.de/tiles/osmde/{z}/{x}/{y}.png'),
	            options: {
	                attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
	            }
	        },
	    },
	    
	    // path to a geojson file in static folder containing regions that should be outlined on the map
	    // You can configure a geojson region here: http://opendatalab.de/projects/geojson-utilities/ 
	    geoRegionUrl: util.ifundef(COSINNUS_MAP_OPTIONS.geojson_region, null), 
	
	    
	    // the map Layer Buttons (Sattelite, Street, Terrain)
	    mapLayerButtonsView: null,
	    
	    // handle on the current popup
	    popup: null,
	    
	    // leaflet instance
	    leaflet: null,
	    
	    // Marker storage dict of {<resultModel.id>: <L.marker>, ...}
	    // id corresponds to self.collection.get(<id>)
	    // updated through the handlers of self.collection's signals
	    markers: {},
	    
	    // if not null, this is an active, draggable marker
	    draggableMarker: null,
	    
	    // will be set to self.options during initialization
	    defaults: {
	        // is the window in full-screen mode (instead of inside a widget or similar)
	        fullscreen: true,
	        
	        // is this view shown together with the map view as a 50% split screen?
	        splitscreen: false,
	        
	        // will a popup be shown when a map marker is clicked?
	        enablePopup: false,
	        
	        // will clicking on a marker cause its result to be selected?
	        enableDetailSelection: true,
	        
	        // shall we cluster close markers together
	        clusteringEnabled: false,
	        clusterZoomThreshold: 5,
	        maxClusterRadius: 15,
	        
	        // should drag and zoom options that disrupt page UX on mobile be disabled
	        mobileSafeInteractions: false,
	        
	        // if a marker popup is open, but the search results change and the marker would be removed,
	        // should we still keep it and the popup?
	        keepOpenMarkersAfterResultChange: false, 
	        
	        // added percentage to visible map area
	        // the resulting area is actually sent as coords to the search API 
	        latLngBuffer: 0.01,
	        
	        // the amount of decimals to round all coordinates to
	        latLngRoundToDecimals: 5,
	        
	        // image size and display size multiplier for the marker images
	        resultMarkerSizes: {
	            width:          14 * 0.8,
	            height:         14 * 0.8,
	            widthLarge:     28 * 0.8,
	            heightLarge:    37 * 0.8,
	            widthStacked:   23 * 0.8,
	            heightStacked:  23 * 0.8,
	            widthBase:      28 * 0.8,
	            heightBase:     37 * 0.8,
	        },
	        
	        // calculated dynamically depending on zoom, in `handleViewportChange()`
	        resultMarkerClusterDistance: {
	            x: 0,
	            y: 0,
	            perZoom: 0, // hardcoded function of px per zoom level, if you want to offset in px for current zoom
	        },
	        
	        MARKER_NUMBER_OF_LARGE_MARKERS: 8, // this many of the most relevant results become large markers
	        
	        MARKER_CLUSTER_RADIUS_LIMIT: 0.85, // cluster radius multiplier: modifier for how aggressively the clusters should pull in markers
	        MARKER_STACK_PX_OFFSET_PER_CLUSTER_LEVEL: 7, // offset in px for clustered stack-makers per level
	        MARKER_STACK_PX_OFFSET_BASE: 8, // additional offset in px of first clustered stack-marker (level 1) from the base marker
	
	        // if location is set to a location pair at initialization,
	        // the `COSINNUS_MAP_OPTIONS.default_coordinates` will be ignored and the
	        // set `location` is used with the zoom setting instead!
	        location: [], // [52.5233, 13.4138],
	        zoom: 7,
	        
	        // the current layer option as string
	        layer: 'street',
	        
	        state: {
	            // the curren Leaflet layer object
	            currentLayer: null,
	
	            // are we currently seeing clustered markers?
	            currentlyClustering: false,
	            // the current open spider cluster handle, or null if no spider open
	            currentSpiderfied: null,
	            
	            // fallback default coordinates when navigated without loc params
	            north: util.ifundef(COSINNUS_MAP_OPTIONS.default_coordinates.ne_lat, 55.78), 
	            east: util.ifundef(COSINNUS_MAP_OPTIONS.default_coordinates.ne_lon, 23.02),
	            south: util.ifundef(COSINNUS_MAP_OPTIONS.default_coordinates.sw_lat, 49.00),
	            west: util.ifundef(COSINNUS_MAP_OPTIONS.default_coordinates.sw_lon, 3.80),
	        }
	    },
	    
	    initialize: function (options, app, collection) {
	        var self = this;
	        // this calls self.applyUrlSearchParameters()
	        ContentControlView.prototype.initialize.call(self, options, app, collection);
	        
	        self.state.currentlyClustering = self.options.clusteringEnabled;
	        self.state.mobileSafeInteractions = self.options.mobileSafeInteractions;
	        
	        Backbone.mediator.subscribe('change:bounds', self.fitBounds, self);
	        Backbone.mediator.subscribe('resize:window', function () {
	            self.leaflet.invalidateSize();
	            self.handleViewportChange();
	        }, self);
	        Backbone.mediator.subscribe('change:layer', self.setLayer, self);
	        
	        // result events
	        self.collection.on({
	           'add' : self.thisContext(self.markerAdd),
	           'change:hovered': self.thisContext(self.markerChangeHovered),
	           'change:selected': self.thisContext(self.markerChangeSelected),
	           'change': self.thisContext(self.markerUpdate),
	           'remove': self.thisContext(self.markerRemove),
	           'reset': self.thisContext(self.markersReset),
	        });
	    },
	
	    render: function () {
	        var self = this;
	        ContentControlView.prototype.render.call(self);
	        self.renderMap();
	        return self;
	    },
	    
	    afterRender: function () {
	        var self = this;
	        if (self.mapLayerButtonsView == null) {
	        	self.mapLayerButtonsView = new MapLayerButtonsView({
	        		el: self.$el.find('.map-layers-buttons'),
	        		layer: self.options.layer,
	        		mapView: self
	        	}).render();
	        } else {
	        	self.mapLayerButtonsView.render();
	        }
	    },
	    
	    // extended from content-control-view.js
	    applyUrlSearchParameters: function (urlParams) {
	        util.log('map-view.js: url params on init: ')
	        util.log(urlParams)
	        _.extend(this.state, {
	            north: util.ifundef(urlParams.ne_lat, this.state.north),
	            east: util.ifundef(urlParams.ne_lon, this.state.east),
	            south: util.ifundef(urlParams.sw_lat, this.state.south),
	            west: util.ifundef(urlParams.sw_lon, this.state.west),
	        });
	        this.fitBounds();
	        this.updateBounds();
	    },
	    
	    // extended from content-control-view.js
	    contributeToSearchParameters: function(forAPI) {
	        var padded = forAPI;
	        var searchParams = {
	            ne_lat: padded ? this.state.paddedNorth : this.state.north,
	            ne_lon: padded ? this.state.paddedEast : this.state.east,
	            sw_lat: padded ? this.state.paddedSouth : this.state.south,
	            sw_lon: padded ? this.state.paddedWest : this.state.west,
	        };
	        return searchParams
	    },
	    
	    
	    // ResultCollection Event handlers
	    // --------------
	    
	    /**
	     * 
	     * @param result: Result model
	     * @param isLargeMarker: (optional) bool. make this marker icon large?
	     * @param clusterLevel: (optional) int. if supplied, the result is considered in a cluster, at this rank. 0 means base cluster-marker
	     * @param clusterCoords: (optional) {lat: int, lon: int} if result is in a cluster, the coords (rank will be added as offset)
	     */
	    markerAdd: function(result, isLargeMarker, clusterLevel, clusterCoords) {
	        var self = this;
	        
	        if (!result.get('lat') || !result.get('lon')) {
	            // if the result has no location, the map cannot handle it. 
	            util.log('Cancelled adding a marker for a result with no location.')
	            return;
	        }
	        
	        // adding a marker that is already there? impossibru! but best be sure.
	        if (result.id in this.markers) {
	            this.markerRemove(result);
	        }
	        
	        // for clustered markers, every marker but the base marker becomes a stacked marker.
	        var markerIcon = this.getMarkerIconForType(result.get('type'), isLargeMarker, clusterLevel > 0, clusterLevel == 0);
	        var coords = clusterCoords ? clusterCoords : [result.get('lat'), result.get('lon')];
	        var isPointedMarker = isLargeMarker || typeof clusterLevel !== 'undefined' || clusterLevel == 0;
	        var clusterOffset = 0;
	        
	        // add clusterLevel as offset
	        if (typeof clusterLevel !== 'undefined' && clusterLevel > 0) {
	            clusterOffset = this.options.MARKER_STACK_PX_OFFSET_BASE + (this.options.MARKER_STACK_PX_OFFSET_PER_CLUSTER_LEVEL * clusterLevel);
	        }
	        //util.log('adding marker at coords ' + JSON.stringify(coords))
	        
	        var marker = L.marker(coords, {
	            icon: L.divIcon({
	                iconSize: [markerIcon.iconWidth, markerIcon.iconHeight],
	                iconAnchor: [markerIcon.iconWidth / 2, (markerIcon.iconHeight / (isPointedMarker ? 1 : 2)) + clusterOffset],
	                className: markerIcon.className + (result.get('selected') ? ' marker-selected' : ''),
	//                popupAnchor: [1, -27],
	            }),
	            zIndexOffset: clusterLevel ? (1000 + (100*clusterLevel)) : null,
	            riseOnHover: false
	        });
	
	        
	        // bind click/hover events 
	        if (this.options.enablePopup) {
	            marker.bindPopup(popupTemplate.render({
	                imageURL: result.get('imageUrl'),
	                title: result.get('title'),
	                url: result.get('url'),
	                address: result.get('address'),
	                description: result.get('description')
	            }));
	        } 
	        if (this.options.enableDetailSelection) {
	            marker.on('click', function(){
	                self.App.controlView.onResultLinkClicked(null, result.id);
	            });
	        }
	        marker.on('mouseover', function(){
	            self.App.controlView.setHoveredResult(result);
	        });
	        marker.on('mouseout', function(){
	            self.App.controlView.setHoveredResult(null);
	        });
	        
	        
	        if (!this.options.keepOpenMarkersAfterResultChange || (this.markerNotPopup(marker) && this.markerNotSpiderfied(marker))) {
	            if (this.state.currentlyClustering) {
	                this.clusteredMarkers.addLayer(marker);
	            } else {
	                marker.addTo(this.leaflet);
	            }
	            this.markers[result.id] = marker;
	        }
	    },
	    
	    markerChangeHovered: function(result) {
	        if (result.id in this.markers) {
	            var marker = this.markers[result.id];
	            $(marker._icon).toggleClass('marker-hovered', result.get('hovered'));
	        }
	    },
	    
	
	    markerChangeSelected: function(result) {
	        if (result.id in this.markers) {
	            var marker = this.markers[result.id];
	            $(marker._icon).toggleClass('marker-selected', result.get('selected'));
	        }
	    },
	    
	    /**
	     * On marker update. This happens extremely infrequently, as on new searches the whole
	     * result collections gets exchanged (which triggers `markersReset()`)
	     */
	    markerUpdate: function(result, what) {
	        // don't use this trigger when only hovered/selected state was changed! - they have their own handlers
	        var attrs = result.changedAttributes();
	        if (attrs && ('selected' in attrs || 'hovered' in attrs)) {
	            return;
	        }
	        util.log('map-view.js: TODO: actually *update* the marker and dont just remove/add it!')
	        if (!result.selected) {
	            this.markerRemove(result);
	            this.markerAdd(result);
	        } else {
	            util.log('map-view.js: TODO:: was ordered to remove a marker that is currently selected. NOT DOING ANYTHING RN!')
	        }
	    },
	    
	    /** Remove a leaflet marker from the map. 
	     *  Acts as handler for model Result removal from self.collection */
	    markerRemove: function(result) {
	        if (result.id in this.markers) {
	            var marker = this.markers[result.id];
	            
	            if (this.state.currentlyClustering) {
	                this.clusteredMarkers.removeLayer(marker);
	            } else {
	                this.leaflet.removeLayer(marker);
	            }
	            delete this.markers[result.id];
	            //util.log('Removed marker at ' + result.get('lat') + ', ' + result.get('lon'));
	        }
	    },
	    
	    /** Handler for when the entire collection changes */
	    markersReset: function(resultCollection, options) {
	        var self = this;
	        _.each(options.previousModels, function(result){
	            self.markerRemove(result);
	        });
	        
	        /**
	         * Cluster results by maximum radius
	         * [
	         *        { // cluster
	         *            loc: {lat: 0, lon: 0},
	         *         items: [ <result>, ...]
	         *        },
	         *        ...
	         * ]
	         */
	        
	        var clusters = [];
	        //_.each(resultCollection.models, function(result){
	        for (var i=0; i < resultCollection.models.length; i++) {
	            var result = resultCollection.models[i];
	            if (!result.get('lat') || !result.get('lon')) {
	                // results without locations are ignored
	                continue;
	            }
	            
	            //_.each(resultCollection.models, function(cluster){
	            for (var j=0; j < clusters.length; j++) {
	                var cluster = clusters[j];
	                // calculate distance from this result to each cluster
	                var distx = Math.abs(cluster['loc']['lon'] - result.get('lon'));
	                var disty = Math.abs(cluster['loc']['lat'] - result.get('lat'));
	                if (distx < self.options.resultMarkerClusterDistance['x'] && disty < self.options.resultMarkerClusterDistance['y']) {
	                    // result lies within radius of cluster
	                    cluster['items'].push(result);
	                    result = null;
	                    break;
	                } 
	            };
	            // result didn't lie within radius of cluster, make a new one
	            if (result != null) {
	                clusters.push({
	                    loc: {
	                        lat: result.get('lat'),
	                        lon: result.get('lon')
	                    },
	                    items: [result]
	                });
	            }
	        };
	        
	        // remove all single-result clusters and add their results into a single list
	        var singleResults = [];
	        for (var k=clusters.length-1; k >= 0; k--) {
	            var cluster = clusters[k];
	            if (cluster['items'].length == 1) {
	                singleResults.push(cluster['items'][0]);
	                clusters.splice(k, 1);
	            } else {
	                // sort the items inside a cluster, most important last (highest in stack)
	                cluster['items'].sort(function(a, b) {
	                    return a.get('relevance') - b.get('relevance');
	                });
	            }
	        }
	        
	        // all cluster bases are large markers
	        var remainingLargeMarkers = self.options.MARKER_NUMBER_OF_LARGE_MARKERS;
	        for (var i=0; i < clusters.length; i++) {
	            var cluster = clusters[i];
	            // for each cluster, add all results in a stacking offset
	            for (var j=cluster['items'].length-1; j >= 0; j--) {
	                var item = cluster['items'][j];
	                self.markerAdd(item, false, j, cluster['loc']);
	            }
	            remainingLargeMarkers -= 1;
	        }
	        
	        // sort (by relevance) and add the results that aren't in a cluster
	        singleResults.sort(function(a, b) {
	            return b.get('relevance') - a.get('relevance');
	        });
	        _.each(singleResults, function(result){
	            if (remainingLargeMarkers > 0) {
	                self.markerAdd(result, true);
	                remainingLargeMarkers -= 1;
	            } else {
	                self.markerAdd(result);
	            }
	        });
	    },
	    
	    /** Activates the Map-Marker-Place mode where a draggable marker is shown
	     * in the center of the map and all other markers are hidden. */
	    activateDraggableMarker: function (resultType) {
	    	var self = this;
	    	// hide all other markers
	    	$('.leaflet-marker-pane').addClass('marker-place-mode');
	    	var width = this.options.resultMarkerSizes['widthLarge'];
	    	var height = this.options.resultMarkerSizes['heightLarge']
	    	
	    	this.draggableMarker = L.marker(this.leaflet.getCenter(), {
	            icon: L.divIcon({
	                iconSize: [width, this.options.resultMarkerSizes['heightLarge']],
	                iconAnchor: [width / 2, height],
	                className: 'draggable-placemark placemark l icon ' + resultType,
	            }),
	            riseOnHover: false,
	            draggable: true,
	            keyboard: false
	        });
	    	this.draggableMarker.on("dragend", function(e) {
	    	    var marker = e.target;
	    	    self.leaflet.panTo(marker.getLatLng());
	    	});
	    	this.draggableMarker.addTo(this.leaflet);
	    },
	    
	    /** Deactivates the Map-Marker-Place mode. */
	    deactivateDraggableMarker: function () {
	    	this.leaflet.removeLayer(this.draggableMarker);
	    	this.draggableMarker = null;
	    	// show other markers again
	    	$('.leaflet-marker-pane').removeClass('marker-place-mode');
	    },
	    
	    /** If the Map-Marker-Place mode is active, return the LatLng object of
	     *  the draggable marker, else return null. */
	    getDraggableMarkerLatLng: function () {
	    	if (this.draggableMarker) {
	    		return this.draggableMarker.getLatLng();
	    	} else {
	    		return null;
	    	}
	    },
	    
	
	    /**
	     * Called when the expand button is clicked for expanding or contracting
	     * the map (splitscreen vs maximized).
	     */
	    onExpandButtonClicked: function (event) {
	    	this.App.controlView.switchDisplayState(true, !this.options.splitscreen);
	    },
	    
	    
	    /** Shows and reloads the map with current settings */
	    reload: function () {
	    	util.log('*** Reloading Map View ***')
	        this.$el.toggleClass('map-splitscreen', this.options.splitscreen);
	    	this.$el.show();
	        Backbone.mediator.publish('resize:window');
	    },
	    
	    /** Hides the map */
	    hide: function () {
	    	util.log('*** Hiding Map View ***')
	    	this.$el.hide();
	    },
	
	    // Private
	    // -------
	
	    renderMap: function () {
	        var self = this;
	        
	        util.log('++++++ map-view.js renderMap called! This should only happen once at init! +++++++++++++++++++')
	        
	        var options = {};
	        if (self.state.mobileSafeInteractions) {
	            options = {
	                scrollWheelZoom: false,
	                // dragging: false, // this only disables the actual dragging, but not the handlers, so scrolling on mobile is still not possible even with this set to false
	            };
	        }
	        this.leaflet = L.map('map-container', options);
	        this.setLayer(this.options.layer);
	        
	        if (self.geoRegionUrl) {
	            $.ajax({
	                dataType: "json",
	                url: self.geoRegionUrl,
	                success: function(data) {
	                    // style see https://leafletjs.com/reference-1.3.0.html#path-option
	                    var district_boundary = new L.geoJson(null, {
	                        style: function (feature) {
	                            return util.ifundef(COSINNUS_MAP_OPTIONS.geojson_style, {
	                                width: 1,
	                                weight: 0.5,
	                                fillOpacity: 0.035,
	                            });
	                        }
	                    });
	                    district_boundary.addTo(self.leaflet);
	                    $(data.features).each(function(key, data) {
	                        district_boundary.addData(data);
	                    });
	                }
	            }).error(function() {});
	            
	        }
	        
	        
	        if (this.options.clusteringEnabled) {
	            // Setup the cluster layer
	            this.clusteredMarkers = L.markerClusterGroup({
	                maxClusterRadius: this.options.maxClusterRadius
	            });
	            this.clusteredMarkers.on('spiderfied', this.handleSpiderfied, this);
	            this.leaflet.addLayer(this.clusteredMarkers);
	            this.setClusterState();
	        }
	        
	        // if an initial location was defined, set that location and zoom as initial viewport
	        // otherwise, use fitBounds to adjust the viewport to the one 
	        // defined in `state` with `COSINNUS_MAP_OPTIONS.default_coordinates.ne_lat`
	        if (this.options.location && this.options.location.length == 2) {
	        	this.leaflet.setView(this.options.location, this.options.zoom);
	        } else {
	        	this.fitBounds();
	        }
	        this.updateClusterDistances();
	
	        this.leaflet.on('zoomend', this.handleViewportChange, this);
	        this.leaflet.on('dragend', this.handleViewportChange, this);
	        this.leaflet.on('popupopen', this.handlePopup, this);
	        this.leaflet.on('popupclose', this.handlePopup, this);
	        
	        // disable drag dropping inside map controls
	        var div = this.$el.find('.map-controls')[0];
	        if (div) {
	            if (!L.Browser.touch) {
	                L.DomEvent.disableClickPropagation(div);
	                L.DomEvent.on(div, 'mousewheel', L.DomEvent.stopPropagation);
	            } else {
	                L.DomEvent.on(div, 'click', L.DomEvent.stopPropagation);
	            }
	        }
	        
	        this.updateBounds();
	    },
	
	    setLayer: function (layer) {
	        this.state.currentLayer && this.leaflet.removeLayer(this.state.currentLayer);
	        if (COSINNUS_MAP_USE_MODERN_TILESET == true){
	            var options = _(this.layersModernTileset[layer].options).extend({
	                maxZoom: 15,
	                minZoom:3
	            });
	            this.state.currentLayer = L.tileLayer(this.layersModernTileset[layer].url, options)
	                .addTo(this.leaflet);
	        } else {
	            var options = _(this.layers[layer].options).extend({
	                maxZoom: 15,
	                minZoom:3
	            });
	            this.state.currentLayer = L.tileLayer(this.layers[layer].url, options)
	                .addTo(this.leaflet);
	        }
	    },
	
	    updateBounds: function () {
	        var bounds = this.leaflet.getBounds()
	        var paddedBounds = bounds.pad(this.options.latLngBuffer);
	        _.extend(this.state, {
	            south: L.Util.formatNum(bounds.getSouth(), this.options.latLngRoundToDecimals),
	            paddedSouth: L.Util.formatNum(paddedBounds.getSouth(), this.options.latLngRoundToDecimals),
	            west: L.Util.formatNum(bounds.getWest(), this.options.latLngRoundToDecimals),
	            paddedWest: L.Util.formatNum(paddedBounds.getWest(), this.options.latLngRoundToDecimals),
	            north: L.Util.formatNum(bounds.getNorth(), this.options.latLngRoundToDecimals),
	            paddedNorth: L.Util.formatNum(paddedBounds.getNorth(), this.options.latLngRoundToDecimals),
	            east: L.Util.formatNum(bounds.getEast(), this.options.latLngRoundToDecimals),
	            paddedEast: L.Util.formatNum(paddedBounds.getEast(), this.options.latLngRoundToDecimals)
	        });
	        this.state.zoom = this.leaflet._zoom;
	    },
	
	    setClusterState: function () {
	        if (this.options.clusteringEnabled) {
	            // Set clustering state: cluster only when zoomed in enough.
	            var zoom = this.leaflet.getZoom();
	            this.state.currentlyClustering = zoom > this.options.clusterZoomThreshold;
	        }
	    },
	    
	    /** Gets a dict of {iconUrl: <str>, iconWidth: <int>, iconHeight: <int>}
	     *  for a given type corresponding to model Result.type. */
	    getMarkerIconForType: function(resultType, isLargeMarker, isStackedMarker, isBaseMarker) {
	        var markerIcon;
	        var suffix = '';
	        var className = 'placemark';
	        
	        if (isBaseMarker) {
	            suffix = 'Base';
	            className += ' l';
	        } else if (isStackedMarker) {
	            suffix = 'Stacked';
	            className += ' m';
	        } else if (isLargeMarker) {
	            suffix = 'Large';
	            className += ' l icon';
	        } else {
	            className += ' s';
	        }
	        // type of the marker
	        className += ' ' + resultType;
	        
	        markerIcon = {
	            iconWidth: this.options.resultMarkerSizes['width' + suffix],
	            iconHeight: this.options.resultMarkerSizes['height' + suffix],
	            className: className
	        };
	        return markerIcon;
	    },
	
	    markerNotPopup: function (marker) {
	        var p = this.popup;
	        return !p || !_(p.getLatLng()).isEqual(marker.getLatLng());
	    },
	
	    markerNotSpiderfied: function (marker) {
	        var s = this.state.currentSpiderfied;
	        var ret = !s || !_(s.getAllChildMarkers()).find(function (m) {
	            return _(m.getLatLng()).isEqual(marker.getLatLng());
	        });
	        return ret;
	    },
	
	    // Event Handlers
	    // --------------
	
	    // Render the search results as markers on the map.
	    // TODO: remove! deprecated and unused.
	    /*
	    updateMarkers: function () {
	        var self = this,
	            results = self.model.get('results');
	
	        // Remove previous markers from map based on current clustering state.
	        if (self.markers) {
	            _(self.markers).each(function (marker) {
	
	                if (!self.options.keepOpenMarkersAfterResultChange || (self.markerNotPopup(marker) && self.markerNotSpiderfied(marker))) {
	                    self.removeMarker(marker);
	                }
	            });
	        }
	
	        self.setClusterState();
	        self.markers = [];
	
	        // Ensure popup and spiderfied markers are in the markers array;
	        // even when they aren't included in the latest results.
	        if (self.options.keepOpenMarkersAfterResultChange) {
	            if (self.popup) {
	                self.markers.push(self.popup._source);
	            } else if (self.state.currentSpiderfied) {
	                _(self.state.currentSpiderfied.getAllChildMarkers()).each(function (m) {
	                    self.markers.push(m);
	                });
	            }
	        }
	
	        // Add the individual markers.
	        _(this.model.activeFilterList()).each(function (resultType) {
	            _(results[resultType]).each(function (result) {
	                self.addMarker(result, resultType);
	            });
	        });
	    },
	    */
	
	    handleViewportChange: function () {
	        this.setClusterState();
	        this.updateBounds();
	        this.updateClusterDistances();
	        Backbone.mediator.publish('app:stale-results', {reason: 'viewport-changed'});
	    },
	    
	    /** Recalculate clustering distances based on current map area and zoom */
	    updateClusterDistances: function () {
	        var ns = Math.abs(this.state.south - this.state.north) / this.$el.height();
	        var we = Math.abs(this.state.east - this.state.west) / this.$el.width();
	        this.options.resultMarkerClusterDistance['x'] = we * this.options.resultMarkerSizes['widthLarge'] * this.options.MARKER_CLUSTER_RADIUS_LIMIT;
	        this.options.resultMarkerClusterDistance['y'] = ns * this.options.resultMarkerSizes['heightLarge'] * this.options.MARKER_CLUSTER_RADIUS_LIMIT;
	        this.options.resultMarkerClusterDistance['perZoom'] = 1 / (Math.pow(2, this.leaflet.getZoom()));
	    },
	
	    // Handle change bounds (from URL).
	    fitBounds: function () {
	        if (this.leaflet) {
	            util.log('map-view.js: fitBounds called')
	            this.leaflet.fitBounds(L.latLngBounds(
	                    L.latLng(this.state.south, this.state.west),
	                    L.latLng(this.state.north, this.state.east)
	            ));
	        } else {
	            util.log('map-view.js: fitBounds fizzled')
	        }
	    },
	
	    handlePopup: function (event) {
	        if (event.type === 'popupopen') {
	            this.popup = event.popup;
	        } else {
	            var popLatLng = this.popup.getLatLng();
	            var marker = event.popup._source;
	            // Remove the popup's marker if it's now off screen.
	            /*
	            if (!this.leaflet.getBounds().pad(this.options.latLngBuffer).contains(popLatLng)) {
	                this.removeMarker(marker);
	            }
	            */
	            this.popup = null;
	        }
	    },
	
	    handleSpiderfied: function (event) {
	        this.state.currentSpiderfied = event.cluster;
	    }
	});


/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var BaseView = __webpack_require__(4);
	var util = __webpack_require__(5);
	
	module.exports = BaseView.extend({
	    
	    // reference back to the main App
	    App: null,
	    
	    // the resultCollection data source this view operates on.
	    // often the same collection other views use as well
	    collection: null,
	
	    initialize: function (options, app, collection) {
	        var self = this;
	        BaseView.prototype.initialize.call(self, options);
	        self.App = app;
	        self.collection = collection;
	    },
	    
	    /** Called at the end of initialization.
	     * 
	     *  Purpose is to initialize the combined parameters from URL and initial App options
	     *  into self.state = {}, so that they are ready to be built into a search API URL 
	     *  using params from each ContentControlView's `contributeToSearchParameters()` 
	     *  
	     *  */
	    applyUrlSearchParameters: function(urlParams) {
	        // stub, extend this in the inheriting view
	    },
	    
	    /** Add all relevant search parameters to the search API query for your view.
	     *  Anything happening in your view that affects the search should be involved here.
	     *  
	     *  @param forAPI: if true, contains all search parameters.
	     *         if false, contains only these that should be visible in the browser URL 
	     *  @return: dict of params 
	     */
	    contributeToSearchParameters: function(forAPI) {
	        // stub, extend this in the inheriting view
	        return {}
	    },
	    
	    /** Called during search */
	    disableInput: function() {
	        // stub, extend this in the inheriting view
	    },
	    
	    /** Called when searches end */
	    enableInput: function() {
	        // stub, extend this in the inheriting view
	    },
	    
	    // private
	
	    parseUrl: function (url) {
	        if (url.indexOf('?') >= 0) {
	            var json = JSON.parse('{"' + decodeURI(url.replace(/\%2C/g, ',').replace(/\+/g,' ').replace(/[^?]*\?/, '').replace(/&/g, "\",\"").replace(/=/g,"\":\"")) + '"}')
	        } else {
	            var json = {};
	        }
	        _(_(json).keys()).each(function (key) {
	            if (json[key] !== '') {
	                try {
	                    json[key] = JSON.parse(json[key]);
	                } catch (err) {}
	            }
	        });
	        if (typeof json['topics'] === "number" || (typeof json['topics'] === "string" && json['topics'].length > 0)) {
	            json['topics'] = json['topics'].toString().split(',').map(Number);
	        }
	        if (typeof json['text_topics'] === "number" || (typeof json['text_topics'] === "string" && json['text_topics'].length > 0)) {
	            json['text_topics'] = json['text_topics'].toString().split(',').map(Number);
	        }
	        if (typeof json['sdgs'] === "number" || (typeof json['sdgs'] === "string" && json['sdgs'].length > 0)) {
	            json['sdgs'] = json['sdgs'].toString().split(',').map(Number);
	        }
	        if (typeof json['managed_tags'] === "number" || (typeof json['managed_tags'] === "string" && json['managed_tags'].length > 0)) {
	            json['managed_tags'] = json['managed_tags'].toString().split(',').map(Number);
	        }
	        return json;
	    },
	});


/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var util = __webpack_require__(5);
	
	module.exports = Backbone.View.extend({
	    
	    /**
	     * Sets these values on the view:
	     *  - self.options: 
	     *      - purpose: the general behavioural settings for the view. only differ from default
	     *          if passed through as View.init(options). don't change during runtime
	     *      - value: extended self.defaults with the parameter options
	     *  - self.state:
	     *      - purpose: current state variables of the view. defaults can be set in 
	     *          self.defaults.state, or passed through View.init(options.state).
	     *          constantly change with the view's current state
	     *      - value: self.options.state if exists or {}
	     */
	    initialize: function (options) {
	        this.options = $.extend(true, {}, this.defaults, options);
	        this.state = this.options && this.options.state || {};
	    },
	    
	    /**
	     * If self.options.elParent is set,
	     *         the given el is ignored at first and elParent is considered the 
	     *         parent element, so
	     *         instead of creating this template by filling a giving element,
	     *         the complete rendered template will appended to the given $el,
	     *         and then become this views actual $el!
	     */
	    render: function () {
	        var self = this;
	        // Collect the data to be rendered; can be overridden in child view.
	        var data = this.getTemplateData();
	        // Use nunjucks to render the template (specified in child view).
	        if (this.template && this.template.render &&
	            typeof this.template.render === 'function') {
	            var rendered = this.template.render(data);
	            
	            if (self.options.elParent) {
	                // if this element is not in place yet, append it to the parent
	                // otherwise replace it
	                rendered = $(rendered);
	                if (self.$el.parent().length == 0) {
	                    $(self.options.elParent).append(rendered);
	                } else {
	                    self.$el.replaceWith(rendered);
	                }
	                this.setElement(rendered);
	            } else {
	                this.$el.html(rendered);
	            }
	
	            $.cosinnus.titledby(this.$el);
	        }
	        // After a repaint (to allow further rendering in #afterRender),
	        // call the after render method if it exists.
	        setTimeout(function () {
	            self.afterRender && self.afterRender();
	        }, 0);
	        return this;
	    },
	
	    /**
	     *  Default implementation to retrieve data to be rendered.
	     *  If a model is set, return its attributes as JSON, otherwise
	     *  an empty object with any options and state attributes on the 
	     *  view mixed in.
	     */
	    getTemplateData: function () {
	        var modelData = this.model && this.model.toJSON() || {'noModel': true};
	        var data = _.extend(
	            modelData,
	            this.options,
	            this.state,
	            {
	                'cosinnus_active_user': cosinnus_active_user,
	                'COSINNUS_IDEAS_ENABLED': COSINNUS_IDEAS_ENABLED,
	                'COSINNUS_ORGANIZATIONS_ENABLED': COSINNUS_ORGANIZATIONS_ENABLED,
	                'COSINNUS_CONFERENCES_ENABLED': COSINNUS_CONFERENCES_ENABLED,
	                'COSINNUS_EXCHANGE_ENABLED': COSINNUS_EXCHANGE_ENABLED,
	                'COSINNUS_EXCHANGE_PORTAL_ID': COSINNUS_EXCHANGE_PORTAL_ID,
	                'COSINNUS_MATCHING_ENABLED': COSINNUS_MATCHING_ENABLED,
	                'COSINNUS_SHOW_PROJECT_AND_GROUP_CREATE_BUTTONS': COSINNUS_SHOW_PROJECT_AND_GROUP_CREATE_BUTTONS,
	                'COSINNUS_SHOW_SUPERUSER_CONTROLS': COSINNUS_SHOW_SUPERUSER_CONTROLS,
	                'COSINNUS_USER_CAN_CREATE_CONFERENCE': COSINNUS_USER_CAN_CREATE_CONFERENCE,
	                'COSINNUS_USER_EXTERNAL_USERS_FORBIDDEN': COSINNUS_USER_EXTERNAL_USERS_FORBIDDEN,
	                'COSINNUS_FORUM_GROUP_SLUG': COSINNUS_FORUM_GROUP_SLUG,
	                'COSINNUS_TRANS': {
	                    'COSINNUS_TRANS_MY_CONFERENCES': COSINNUS_TRANS_MY_CONFERENCES,
	                    'COSINNUS_TRANS_MY_CONFERENCES_EMPTY': COSINNUS_TRANS_MY_CONFERENCES_EMPTY,
	                    'COSINNUS_TRANS_CONFERENCE': COSINNUS_TRANS_CONFERENCE,
	                    'COSINNUS_TRANS_CONFERENCES': COSINNUS_TRANS_CONFERENCES,
	                    'COSINNUS_TRANS_ALL_CONFERENCES': COSINNUS_TRANS_ALL_CONFERENCES,
	                    'COSINNUS_TRANS_BROWSE_ALL_CONFERENCES': COSINNUS_TRANS_BROWSE_ALL_CONFERENCES,
	                    'COSINNUS_TRANS_CREATE_CONFERENCE': COSINNUS_TRANS_CREATE_CONFERENCE,
	                }
	            }
	        );
	        return data;
	    },
	    
	    /** Wrap you signal handlers in this function inside views to retain
	     *  the view as `this` as context.
	     *  Example: 
	     *      collection.on({
	     *         'add' : self.thisContext(self.myCall)
	     *      });
	     *  ==>  myCall(...) will have `this` set to `self`
	    */
	    thisContext: function(func) {
	        var self = this;
	        return function(){
	            func.apply(self, arguments);
	        };
	    }
	});


/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	module.exports = {
	    protocol: function () {
	        return window.location.protocol;
	    },
	    
	    isIgnorableKey: function (event) {
	        var keycodes = [
	            9,  // tab
	            13, // enter
	            16, // shift
	            17, // ctrl
	            18, // alt
	            19, // pause/break
	            20, // capslock
	            27, // escape
	            33, // pageup
	            34, // pagedown
	            35, // end
	            36, // home
	            37, // leftarrow
	            38, // uparrow
	            39, // rightarrow
	            40, // downarrow
	            45, // insert
	            46 // delete
	        ];
	        return _(keycodes).contains(event.keyCode);
	    },
	    
	    /** Returns a if it is defined, else b */
	    ifundef: function(a, b) {
	        return typeof a == "undefined" ? b : a;
	    },
	    
	    log: function(obj) {
	        // determine test/prod environment
	        if (true) {
	            if (typeof obj == "string" && new Error().stack) {
	                console.log(obj + '    || from:  ' + new Error().stack.replace(/(?:\r\n|\r|\n)/g, '').split(' at ')[2]);
	            } else {
	                console.log(obj);
	            }
	        }
	    },
	    
	    /** Returns a statusData dict of important state data of a text input,
	     *  to be restored later using `restoreInputStatus()` */
	    saveInputStatus: function ($input) {
	        var elem = $input[0];
	        return {
	            hadFocus: $input.is(":focus"),
	            val: elem.value,
	            start: elem.selectionStart,
	            end: elem.selectionEnd
	        }
	    },
	    
	    /** Restores a text input's state saved with `saveInputStatus` */
	    restoreInputStatus: function ($input, statusData) {
	        var elem = $input[0];
	        elem.value = statusData['val'];
	        elem.setSelectionRange(statusData['start'], statusData['end']);
	        if (statusData['hadFocus']) {
	            $input.focus();
	        }
	    },
	    
	    /** Parses a combined Result id from the backend into its parts.
	     * 	Example: "1.events.forum*tolles-event" or "1.groups.forum".
	     * 	Returns: A dict of parts:
	     *  {
	     * 		portal: int,
	     * 		type: str,
	     * 		slug: str,
	     *  }*/
	    parseDirectItemId: function (directItemIdStr) {
	    	var data = directItemIdStr.split('.');
	        data = {
	            portal: data[0],
	            type: data[1],
	            slug: data.slice(2).join('.'), // the rest of the split string
	        };
	        return data;
	    },
	    
	    /** Create a combined Result id for the backend from its parts */
	    makeDirectItemId: function (portal, type, slug) {
	    	return portal + '.' + type + '.' + slug;
	    },
	    
	    getAPIDataForDirectItemId: function (directItemId) {
	    	var data = this.parseDirectItemId(directItemId);
	        var apiData = {};
	    	if (data.type == 'ideas') {
	    		apiData = {
	    			ct: 'cosinnus.CosinnusIdea',
	    			slug: data.slug,
	    		};
	    	} else if (data.type == 'organizations') {
	    		apiData = {
					ct: 'cosinnus.CosinnusOrganization',
					slug: data.slug,
	    		};
	    	} else if (data.type == 'events') {
	    		apiData = {
					ct: 'cosinnus_event.Event',
					slug: data.slug,
	    		};
	    	} else if (data.type == 'projects') {
	    		apiData = {
					ct: 'cosinnus.CosinnusProject',
					slug: data.slug,
	    		};
	    	} else if (data.type == 'groups') {
	            apiData = {
	                ct: 'cosinnus.CosinnusSociety',
	                slug: data.slug,
	            };
	        } else if (data.type == 'conferences') {
	            apiData = {
	                ct: 'cosinnus.CosinnusConference',
	                slug: data.slug,
	            };
	        } else if (data.type == 'people') {
	    		apiData = {
	                slug: data.slug,
	                ct: 'people'
	    		};
	    	} else {
	    		return null;
	    	}
	    	return apiData;
	    },
	    
	    /** Case insensitive string replace */
	    iReplace: function (strSouce, strReplace, strWith) {
	        var esc = strReplace.replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&');
	        var reg = new RegExp('(' + esc + ')', 'ig');
	        return strSouce.replace(reg, strWith);
	    },
	};


/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var BaseView = __webpack_require__(4);
	var util = __webpack_require__(5);
	
	module.exports = BaseView.extend({
	    
	    template: __webpack_require__(7),
	    
	    mapView: null,
	    
	    // will be set to self.options during initialization
	    defaults: {
	        // will be set to self.state during initialization
	        state: {
	            layer: null
	        }
	    },
	    
	    initialize: function (options) {
	        var self = this;
	        BaseView.prototype.initialize.call(self, options);
	        
	        self.state.layer = options.layer;
	        self.mapView = options.mapView;
	    },
	
	    events: {
	        'click .layer-button': 'switchLayerClicked',
	    },
	
	    // Event Handlers
	    // --------------
	
	    // Switch layers if clicked layer isn't the active layer.
	    switchLayerClicked: function (event) {
	        var layer = $(event.currentTarget).data('layer');
	        if (this.mapView.options.layer !== layer) {
	            this.mapView.options.layer = layer;
	            this.state.layer = layer;
	            this.render();
	            Backbone.mediator.publish('change:layer', layer);
	        }
	    },
	    
	});


/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/map/map-layer-buttons.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	output += runtime.suppressValue(env.getExtension("passThrough")["run"](context,runtime.contextOrFrameLookup(context, frame, "i18n")), true && env.opts.autoescape);
	output += "\n";
	if(false) {
	output += " ";
	output += "\n<div>\n    <div data-layer=\"street\"\n        class=\"rounded-button rounded-button-small button-action layer-button ";
	if(runtime.contextOrFrameLookup(context, frame, "layer") == "street") {
	output += " selected ";
	;
	}
	output += "\">\n        <span class=\"rounded-button-inner\">\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Street"), true && env.opts.autoescape);
	output += "\n        </span>\n    </div>\n</div>\n";
	;
	}
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/map/map-layer-buttons.html"] , dependencies)

/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

	/*! Browser bundle of nunjucks 2.5.2 (slim, only works with precompiled templates) */
	(function webpackUniversalModuleDefinition(root, factory) {
		if(true)
			module.exports = factory();
		else if(typeof define === 'function' && define.amd)
			define([], factory);
		else if(typeof exports === 'object')
			exports["nunjucks"] = factory();
		else
			root["nunjucks"] = factory();
	})(this, function() {
	return /******/ (function(modules) { // webpackBootstrap
	/******/ 	// The module cache
	/******/ 	var installedModules = {};
	
	/******/ 	// The require function
	/******/ 	function __webpack_require__(moduleId) {
	
	/******/ 		// Check if module is in cache
	/******/ 		if(installedModules[moduleId])
	/******/ 			return installedModules[moduleId].exports;
	
	/******/ 		// Create a new module (and put it into the cache)
	/******/ 		var module = installedModules[moduleId] = {
	/******/ 			exports: {},
	/******/ 			id: moduleId,
	/******/ 			loaded: false
	/******/ 		};
	
	/******/ 		// Execute the module function
	/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
	
	/******/ 		// Flag the module as loaded
	/******/ 		module.loaded = true;
	
	/******/ 		// Return the exports of the module
	/******/ 		return module.exports;
	/******/ 	}
	
	
	/******/ 	// expose the modules object (__webpack_modules__)
	/******/ 	__webpack_require__.m = modules;
	
	/******/ 	// expose the module cache
	/******/ 	__webpack_require__.c = installedModules;
	
	/******/ 	// __webpack_public_path__
	/******/ 	__webpack_require__.p = "";
	
	/******/ 	// Load entry module and return exports
	/******/ 	return __webpack_require__(0);
	/******/ })
	/************************************************************************/
	/******/ ([
	/* 0 */
	/***/ function(module, exports, __webpack_require__) {
	
		'use strict';
	
		var lib = __webpack_require__(1);
		var env = __webpack_require__(2);
		var Loader = __webpack_require__(11);
		var loaders = __webpack_require__(3);
		var precompile = __webpack_require__(3);
	
		module.exports = {};
		module.exports.Environment = env.Environment;
		module.exports.Template = env.Template;
	
		module.exports.Loader = Loader;
		module.exports.FileSystemLoader = loaders.FileSystemLoader;
		module.exports.PrecompiledLoader = loaders.PrecompiledLoader;
		module.exports.WebLoader = loaders.WebLoader;
	
		module.exports.compiler = __webpack_require__(3);
		module.exports.parser = __webpack_require__(3);
		module.exports.lexer = __webpack_require__(3);
		module.exports.runtime = __webpack_require__(8);
		module.exports.lib = lib;
		module.exports.nodes = __webpack_require__(3);
	
		module.exports.installJinjaCompat = __webpack_require__(12);
	
		// A single instance of an environment, since this is so commonly used
	
		var e;
		module.exports.configure = function(templatesPath, opts) {
		    opts = opts || {};
		    if(lib.isObject(templatesPath)) {
		        opts = templatesPath;
		        templatesPath = null;
		    }
	
		    var TemplateLoader;
		    if(loaders.FileSystemLoader) {
		        TemplateLoader = new loaders.FileSystemLoader(templatesPath, {
		            watch: opts.watch,
		            noCache: opts.noCache
		        });
		    }
		    else if(loaders.WebLoader) {
		        TemplateLoader = new loaders.WebLoader(templatesPath, {
		            useCache: opts.web && opts.web.useCache,
		            async: opts.web && opts.web.async
		        });
		    }
	
		    e = new env.Environment(TemplateLoader, opts);
	
		    if(opts && opts.express) {
		        e.express(opts.express);
		    }
	
		    return e;
		};
	
		module.exports.compile = function(src, env, path, eagerCompile) {
		    if(!e) {
		        module.exports.configure();
		    }
		    return new module.exports.Template(src, env, path, eagerCompile);
		};
	
		module.exports.render = function(name, ctx, cb) {
		    if(!e) {
		        module.exports.configure();
		    }
	
		    return e.render(name, ctx, cb);
		};
	
		module.exports.renderString = function(src, ctx, cb) {
		    if(!e) {
		        module.exports.configure();
		    }
	
		    return e.renderString(src, ctx, cb);
		};
	
		if(precompile) {
		    module.exports.precompile = precompile.precompile;
		    module.exports.precompileString = precompile.precompileString;
		}
	
	
	/***/ },
	/* 1 */
	/***/ function(module, exports) {
	
		'use strict';
	
		var ArrayProto = Array.prototype;
		var ObjProto = Object.prototype;
	
		var escapeMap = {
		    '&': '&amp;',
		    '"': '&quot;',
		    '\'': '&#39;',
		    '<': '&lt;',
		    '>': '&gt;'
		};
	
		var escapeRegex = /[&"'<>]/g;
	
		var lookupEscape = function(ch) {
		    return escapeMap[ch];
		};
	
		var exports = module.exports = {};
	
		exports.prettifyError = function(path, withInternals, err) {
		    // jshint -W022
		    // http://jslinterrors.com/do-not-assign-to-the-exception-parameter
		    if (!err.Update) {
		        // not one of ours, cast it
		        err = new exports.TemplateError(err);
		    }
		    err.Update(path);
	
		    // Unless they marked the dev flag, show them a trace from here
		    if (!withInternals) {
		        var old = err;
		        err = new Error(old.message);
		        err.name = old.name;
		    }
	
		    return err;
		};
	
		exports.TemplateError = function(message, lineno, colno) {
		    var err = this;
	
		    if (message instanceof Error) { // for casting regular js errors
		        err = message;
		        message = message.name + ': ' + message.message;
	
		        try {
		            if(err.name = '') {}
		        }
		        catch(e) {
		            // If we can't set the name of the error object in this
		            // environment, don't use it
		            err = this;
		        }
		    } else {
		        if(Error.captureStackTrace) {
		            Error.captureStackTrace(err);
		        }
		    }
	
		    err.name = 'Template render error';
		    err.message = message;
		    err.lineno = lineno;
		    err.colno = colno;
		    err.firstUpdate = true;
	
		    err.Update = function(path) {
		        var message = '(' + (path || 'unknown path') + ')';
	
		        // only show lineno + colno next to path of template
		        // where error occurred
		        if (this.firstUpdate) {
		            if(this.lineno && this.colno) {
		                message += ' [Line ' + this.lineno + ', Column ' + this.colno + ']';
		            }
		            else if(this.lineno) {
		                message += ' [Line ' + this.lineno + ']';
		            }
		        }
	
		        message += '\n ';
		        if (this.firstUpdate) {
		            message += ' ';
		        }
	
		        this.message = message + (this.message || '');
		        this.firstUpdate = false;
		        return this;
		    };
	
		    return err;
		};
	
		exports.TemplateError.prototype = Error.prototype;
	
		exports.escape = function(val) {
		  return val.replace(escapeRegex, lookupEscape);
		};
	
		exports.isFunction = function(obj) {
		    return ObjProto.toString.call(obj) === '[object Function]';
		};
	
		exports.isArray = Array.isArray || function(obj) {
		    return ObjProto.toString.call(obj) === '[object Array]';
		};
	
		exports.isString = function(obj) {
		    return ObjProto.toString.call(obj) === '[object String]';
		};
	
		exports.isObject = function(obj) {
		    return ObjProto.toString.call(obj) === '[object Object]';
		};
	
		exports.groupBy = function(obj, val) {
		    var result = {};
		    var iterator = exports.isFunction(val) ? val : function(obj) { return obj[val]; };
		    for(var i=0; i<obj.length; i++) {
		        var value = obj[i];
		        var key = iterator(value, i);
		        (result[key] || (result[key] = [])).push(value);
		    }
		    return result;
		};
	
		exports.toArray = function(obj) {
		    return Array.prototype.slice.call(obj);
		};
	
		exports.without = function(array) {
		    var result = [];
		    if (!array) {
		        return result;
		    }
		    var index = -1,
		    length = array.length,
		    contains = exports.toArray(arguments).slice(1);
	
		    while(++index < length) {
		        if(exports.indexOf(contains, array[index]) === -1) {
		            result.push(array[index]);
		        }
		    }
		    return result;
		};
	
		exports.extend = function(obj, obj2) {
		    for(var k in obj2) {
		        obj[k] = obj2[k];
		    }
		    return obj;
		};
	
		exports.repeat = function(char_, n) {
		    var str = '';
		    for(var i=0; i<n; i++) {
		        str += char_;
		    }
		    return str;
		};
	
		exports.each = function(obj, func, context) {
		    if(obj == null) {
		        return;
		    }
	
		    if(ArrayProto.each && obj.each === ArrayProto.each) {
		        obj.forEach(func, context);
		    }
		    else if(obj.length === +obj.length) {
		        for(var i=0, l=obj.length; i<l; i++) {
		            func.call(context, obj[i], i, obj);
		        }
		    }
		};
	
		exports.map = function(obj, func) {
		    var results = [];
		    if(obj == null) {
		        return results;
		    }
	
		    if(ArrayProto.map && obj.map === ArrayProto.map) {
		        return obj.map(func);
		    }
	
		    for(var i=0; i<obj.length; i++) {
		        results[results.length] = func(obj[i], i);
		    }
	
		    if(obj.length === +obj.length) {
		        results.length = obj.length;
		    }
	
		    return results;
		};
	
		exports.asyncIter = function(arr, iter, cb) {
		    var i = -1;
	
		    function next() {
		        i++;
	
		        if(i < arr.length) {
		            iter(arr[i], i, next, cb);
		        }
		        else {
		            cb();
		        }
		    }
	
		    next();
		};
	
		exports.asyncFor = function(obj, iter, cb) {
		    var keys = exports.keys(obj);
		    var len = keys.length;
		    var i = -1;
	
		    function next() {
		        i++;
		        var k = keys[i];
	
		        if(i < len) {
		            iter(k, obj[k], i, len, next);
		        }
		        else {
		            cb();
		        }
		    }
	
		    next();
		};
	
		// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf#Polyfill
		exports.indexOf = Array.prototype.indexOf ?
		    function (arr, searchElement, fromIndex) {
		        return Array.prototype.indexOf.call(arr, searchElement, fromIndex);
		    } :
		    function (arr, searchElement, fromIndex) {
		        var length = this.length >>> 0; // Hack to convert object.length to a UInt32
	
		        fromIndex = +fromIndex || 0;
	
		        if(Math.abs(fromIndex) === Infinity) {
		            fromIndex = 0;
		        }
	
		        if(fromIndex < 0) {
		            fromIndex += length;
		            if (fromIndex < 0) {
		                fromIndex = 0;
		            }
		        }
	
		        for(;fromIndex < length; fromIndex++) {
		            if (arr[fromIndex] === searchElement) {
		                return fromIndex;
		            }
		        }
	
		        return -1;
		    };
	
		if(!Array.prototype.map) {
		    Array.prototype.map = function() {
		        throw new Error('map is unimplemented for this js engine');
		    };
		}
	
		exports.keys = function(obj) {
		    if(Object.prototype.keys) {
		        return obj.keys();
		    }
		    else {
		        var keys = [];
		        for(var k in obj) {
		            if(obj.hasOwnProperty(k)) {
		                keys.push(k);
		            }
		        }
		        return keys;
		    }
		};
	
		exports.inOperator = function (key, val) {
		    if (exports.isArray(val)) {
		        return exports.indexOf(val, key) !== -1;
		    } else if (exports.isObject(val)) {
		        return key in val;
		    } else if (exports.isString(val)) {
		        return val.indexOf(key) !== -1;
		    } else {
		        throw new Error('Cannot use "in" operator to search for "'
		            + key + '" in unexpected types.');
		    }
		};
	
	
	/***/ },
	/* 2 */
	/***/ function(module, exports, __webpack_require__) {
	
		'use strict';
	
		var path = __webpack_require__(3);
		var asap = __webpack_require__(4);
		var lib = __webpack_require__(1);
		var Obj = __webpack_require__(6);
		var compiler = __webpack_require__(3);
		var builtin_filters = __webpack_require__(7);
		var builtin_loaders = __webpack_require__(3);
		var runtime = __webpack_require__(8);
		var globals = __webpack_require__(9);
		var Frame = runtime.Frame;
		var Template;
	
		// Unconditionally load in this loader, even if no other ones are
		// included (possible in the slim browser build)
		builtin_loaders.PrecompiledLoader = __webpack_require__(10);
	
		// If the user is using the async API, *always* call it
		// asynchronously even if the template was synchronous.
		function callbackAsap(cb, err, res) {
		    asap(function() { cb(err, res); });
		}
	
		var Environment = Obj.extend({
		    init: function(loaders, opts) {
		        // The dev flag determines the trace that'll be shown on errors.
		        // If set to true, returns the full trace from the error point,
		        // otherwise will return trace starting from Template.render
		        // (the full trace from within nunjucks may confuse developers using
		        //  the library)
		        // defaults to false
		        opts = this.opts = opts || {};
		        this.opts.dev = !!opts.dev;
	
		        // The autoescape flag sets global autoescaping. If true,
		        // every string variable will be escaped by default.
		        // If false, strings can be manually escaped using the `escape` filter.
		        // defaults to true
		        this.opts.autoescape = opts.autoescape != null ? opts.autoescape : true;
	
		        // If true, this will make the system throw errors if trying
		        // to output a null or undefined value
		        this.opts.throwOnUndefined = !!opts.throwOnUndefined;
		        this.opts.trimBlocks = !!opts.trimBlocks;
		        this.opts.lstripBlocks = !!opts.lstripBlocks;
	
		        this.loaders = [];
	
		        if(!loaders) {
		            // The filesystem loader is only available server-side
		            if(builtin_loaders.FileSystemLoader) {
		                this.loaders = [new builtin_loaders.FileSystemLoader('views')];
		            }
		            else if(builtin_loaders.WebLoader) {
		                this.loaders = [new builtin_loaders.WebLoader('/views')];
		            }
		        }
		        else {
		            this.loaders = lib.isArray(loaders) ? loaders : [loaders];
		        }
	
		        // It's easy to use precompiled templates: just include them
		        // before you configure nunjucks and this will automatically
		        // pick it up and use it
		        if((true) && window.nunjucksPrecompiled) {
		            this.loaders.unshift(
		                new builtin_loaders.PrecompiledLoader(window.nunjucksPrecompiled)
		            );
		        }
	
		        this.initCache();
	
		        this.globals = globals();
		        this.filters = {};
		        this.asyncFilters = [];
		        this.extensions = {};
		        this.extensionsList = [];
	
		        for(var name in builtin_filters) {
		            this.addFilter(name, builtin_filters[name]);
		        }
		    },
	
		    initCache: function() {
		        // Caching and cache busting
		        lib.each(this.loaders, function(loader) {
		            loader.cache = {};
	
		            if(typeof loader.on === 'function') {
		                loader.on('update', function(template) {
		                    loader.cache[template] = null;
		                });
		            }
		        });
		    },
	
		    addExtension: function(name, extension) {
		        extension._name = name;
		        this.extensions[name] = extension;
		        this.extensionsList.push(extension);
		        return this;
		    },
	
		    removeExtension: function(name) {
		        var extension = this.getExtension(name);
		        if (!extension) return;
	
		        this.extensionsList = lib.without(this.extensionsList, extension);
		        delete this.extensions[name];
		    },
	
		    getExtension: function(name) {
		        return this.extensions[name];
		    },
	
		    hasExtension: function(name) {
		        return !!this.extensions[name];
		    },
	
		    addGlobal: function(name, value) {
		        this.globals[name] = value;
		        return this;
		    },
	
		    getGlobal: function(name) {
		        if(typeof this.globals[name] === 'undefined') {
		            throw new Error('global not found: ' + name);
		        }
		        return this.globals[name];
		    },
	
		    addFilter: function(name, func, async) {
		        var wrapped = func;
	
		        if(async) {
		            this.asyncFilters.push(name);
		        }
		        this.filters[name] = wrapped;
		        return this;
		    },
	
		    getFilter: function(name) {
		        if(!this.filters[name]) {
		            throw new Error('filter not found: ' + name);
		        }
		        return this.filters[name];
		    },
	
		    resolveTemplate: function(loader, parentName, filename) {
		        var isRelative = (loader.isRelative && parentName)? loader.isRelative(filename) : false;
		        return (isRelative && loader.resolve)? loader.resolve(parentName, filename) : filename;
		    },
	
		    getTemplate: function(name, eagerCompile, parentName, ignoreMissing, cb) {
		        var that = this;
		        var tmpl = null;
		        if(name && name.raw) {
		            // this fixes autoescape for templates referenced in symbols
		            name = name.raw;
		        }
	
		        if(lib.isFunction(parentName)) {
		            cb = parentName;
		            parentName = null;
		            eagerCompile = eagerCompile || false;
		        }
	
		        if(lib.isFunction(eagerCompile)) {
		            cb = eagerCompile;
		            eagerCompile = false;
		        }
	
		        if (name instanceof Template) {
		             tmpl = name;
		        }
		        else if(typeof name !== 'string') {
		            throw new Error('template names must be a string: ' + name);
		        }
		        else {
		            for (var i = 0; i < this.loaders.length; i++) {
		                var _name = this.resolveTemplate(this.loaders[i], parentName, name);
		                tmpl = this.loaders[i].cache[_name];
		                if (tmpl) break;
		            }
		        }
	
		        if(tmpl) {
		            if(eagerCompile) {
		                tmpl.compile();
		            }
	
		            if(cb) {
		                cb(null, tmpl);
		            }
		            else {
		                return tmpl;
		            }
		        } else {
		            var syncResult;
		            var _this = this;
	
		            var createTemplate = function(err, info) {
		                if(!info && !err) {
		                    if(!ignoreMissing) {
		                        err = new Error('template not found: ' + name);
		                    }
		                }
	
		                if (err) {
		                    if(cb) {
		                        cb(err);
		                    }
		                    else {
		                        throw err;
		                    }
		                }
		                else {
		                    var tmpl;
		                    if(info) {
		                        tmpl = new Template(info.src, _this,
		                                            info.path, eagerCompile);
	
		                        if(!info.noCache) {
		                            info.loader.cache[name] = tmpl;
		                        }
		                    }
		                    else {
		                        tmpl = new Template('', _this,
		                                            '', eagerCompile);
		                    }
	
		                    if(cb) {
		                        cb(null, tmpl);
		                    }
		                    else {
		                        syncResult = tmpl;
		                    }
		                }
		            };
	
		            lib.asyncIter(this.loaders, function(loader, i, next, done) {
		                function handle(err, src) {
		                    if(err) {
		                        done(err);
		                    }
		                    else if(src) {
		                        src.loader = loader;
		                        done(null, src);
		                    }
		                    else {
		                        next();
		                    }
		                }
	
		                // Resolve name relative to parentName
		                name = that.resolveTemplate(loader, parentName, name);
	
		                if(loader.async) {
		                    loader.getSource(name, handle);
		                }
		                else {
		                    handle(null, loader.getSource(name));
		                }
		            }, createTemplate);
	
		            return syncResult;
		        }
		    },
	
		    express: function(app) {
		        var env = this;
	
		        function NunjucksView(name, opts) {
		            this.name          = name;
		            this.path          = name;
		            this.defaultEngine = opts.defaultEngine;
		            this.ext           = path.extname(name);
		            if (!this.ext && !this.defaultEngine) throw new Error('No default engine was specified and no extension was provided.');
		            if (!this.ext) this.name += (this.ext = ('.' !== this.defaultEngine[0] ? '.' : '') + this.defaultEngine);
		        }
	
		        NunjucksView.prototype.render = function(opts, cb) {
		          env.render(this.name, opts, cb);
		        };
	
		        app.set('view', NunjucksView);
		        app.set('nunjucksEnv', this);
		        return this;
		    },
	
		    render: function(name, ctx, cb) {
		        if(lib.isFunction(ctx)) {
		            cb = ctx;
		            ctx = null;
		        }
	
		        // We support a synchronous API to make it easier to migrate
		        // existing code to async. This works because if you don't do
		        // anything async work, the whole thing is actually run
		        // synchronously.
		        var syncResult = null;
	
		        this.getTemplate(name, function(err, tmpl) {
		            if(err && cb) {
		                callbackAsap(cb, err);
		            }
		            else if(err) {
		                throw err;
		            }
		            else {
		                syncResult = tmpl.render(ctx, cb);
		            }
		        });
	
		        return syncResult;
		    },
	
		    renderString: function(src, ctx, opts, cb) {
		        if(lib.isFunction(opts)) {
		            cb = opts;
		            opts = {};
		        }
		        opts = opts || {};
	
		        var tmpl = new Template(src, this, opts.path);
		        return tmpl.render(ctx, cb);
		    }
		});
	
		var Context = Obj.extend({
		    init: function(ctx, blocks, env) {
		        // Has to be tied to an environment so we can tap into its globals.
		        this.env = env || new Environment();
	
		        // Make a duplicate of ctx
		        this.ctx = {};
		        for(var k in ctx) {
		            if(ctx.hasOwnProperty(k)) {
		                this.ctx[k] = ctx[k];
		            }
		        }
	
		        this.blocks = {};
		        this.exported = [];
	
		        for(var name in blocks) {
		            this.addBlock(name, blocks[name]);
		        }
		    },
	
		    lookup: function(name) {
		        // This is one of the most called functions, so optimize for
		        // the typical case where the name isn't in the globals
		        if(name in this.env.globals && !(name in this.ctx)) {
		            return this.env.globals[name];
		        }
		        else {
		            return this.ctx[name];
		        }
		    },
	
		    setVariable: function(name, val) {
		        this.ctx[name] = val;
		    },
	
		    getVariables: function() {
		        return this.ctx;
		    },
	
		    addBlock: function(name, block) {
		        this.blocks[name] = this.blocks[name] || [];
		        this.blocks[name].push(block);
		        return this;
		    },
	
		    getBlock: function(name) {
		        if(!this.blocks[name]) {
		            throw new Error('unknown block "' + name + '"');
		        }
	
		        return this.blocks[name][0];
		    },
	
		    getSuper: function(env, name, block, frame, runtime, cb) {
		        var idx = lib.indexOf(this.blocks[name] || [], block);
		        var blk = this.blocks[name][idx + 1];
		        var context = this;
	
		        if(idx === -1 || !blk) {
		            throw new Error('no super block available for "' + name + '"');
		        }
	
		        blk(env, context, frame, runtime, cb);
		    },
	
		    addExport: function(name) {
		        this.exported.push(name);
		    },
	
		    getExported: function() {
		        var exported = {};
		        for(var i=0; i<this.exported.length; i++) {
		            var name = this.exported[i];
		            exported[name] = this.ctx[name];
		        }
		        return exported;
		    }
		});
	
		Template = Obj.extend({
		    init: function (src, env, path, eagerCompile) {
		        this.env = env || new Environment();
	
		        if(lib.isObject(src)) {
		            switch(src.type) {
		            case 'code': this.tmplProps = src.obj; break;
		            case 'string': this.tmplStr = src.obj; break;
		            }
		        }
		        else if(lib.isString(src)) {
		            this.tmplStr = src;
		        }
		        else {
		            throw new Error('src must be a string or an object describing ' +
		                            'the source');
		        }
	
		        this.path = path;
	
		        if(eagerCompile) {
		            var _this = this;
		            try {
		                _this._compile();
		            }
		            catch(err) {
		                throw lib.prettifyError(this.path, this.env.opts.dev, err);
		            }
		        }
		        else {
		            this.compiled = false;
		        }
		    },
	
		    render: function(ctx, parentFrame, cb) {
		        if (typeof ctx === 'function') {
		            cb = ctx;
		            ctx = {};
		        }
		        else if (typeof parentFrame === 'function') {
		            cb = parentFrame;
		            parentFrame = null;
		        }
	
		        var forceAsync = true;
		        if(parentFrame) {
		            // If there is a frame, we are being called from internal
		            // code of another template, and the internal system
		            // depends on the sync/async nature of the parent template
		            // to be inherited, so force an async callback
		            forceAsync = false;
		        }
	
		        var _this = this;
		        // Catch compile errors for async rendering
		        try {
		            _this.compile();
		        } catch (_err) {
		            var err = lib.prettifyError(this.path, this.env.opts.dev, _err);
		            if (cb) return callbackAsap(cb, err);
		            else throw err;
		        }
	
		        var context = new Context(ctx || {}, _this.blocks, _this.env);
		        var frame = parentFrame ? parentFrame.push(true) : new Frame();
		        frame.topLevel = true;
		        var syncResult = null;
	
		        _this.rootRenderFunc(
		            _this.env,
		            context,
		            frame || new Frame(),
		            runtime,
		            function(err, res) {
		                if(err) {
		                    err = lib.prettifyError(_this.path, _this.env.opts.dev, err);
		                }
	
		                if(cb) {
		                    if(forceAsync) {
		                        callbackAsap(cb, err, res);
		                    }
		                    else {
		                        cb(err, res);
		                    }
		                }
		                else {
		                    if(err) { throw err; }
		                    syncResult = res;
		                }
		            }
		        );
	
		        return syncResult;
		    },
	
	
		    getExported: function(ctx, parentFrame, cb) {
		        if (typeof ctx === 'function') {
		            cb = ctx;
		            ctx = {};
		        }
	
		        if (typeof parentFrame === 'function') {
		            cb = parentFrame;
		            parentFrame = null;
		        }
	
		        // Catch compile errors for async rendering
		        try {
		            this.compile();
		        } catch (e) {
		            if (cb) return cb(e);
		            else throw e;
		        }
	
		        var frame = parentFrame ? parentFrame.push() : new Frame();
		        frame.topLevel = true;
	
		        // Run the rootRenderFunc to populate the context with exported vars
		        var context = new Context(ctx || {}, this.blocks, this.env);
		        this.rootRenderFunc(this.env,
		                            context,
		                            frame,
		                            runtime,
		                            function(err) {
		        		        if ( err ) {
		        			    cb(err, null);
		        		        } else {
		        			    cb(null, context.getExported());
		        		        }
		                            });
		    },
	
		    compile: function() {
		        if(!this.compiled) {
		            this._compile();
		        }
		    },
	
		    _compile: function() {
		        var props;
	
		        if(this.tmplProps) {
		            props = this.tmplProps;
		        }
		        else {
		            var source = compiler.compile(this.tmplStr,
		                                          this.env.asyncFilters,
		                                          this.env.extensionsList,
		                                          this.path,
		                                          this.env.opts);
	
		            /* jslint evil: true */
		            var func = new Function(source);
		            props = func();
		        }
	
		        this.blocks = this._getBlocks(props);
		        this.rootRenderFunc = props.root;
		        this.compiled = true;
		    },
	
		    _getBlocks: function(props) {
		        var blocks = {};
	
		        for(var k in props) {
		            if(k.slice(0, 2) === 'b_') {
		                blocks[k.slice(2)] = props[k];
		            }
		        }
	
		        return blocks;
		    }
		});
	
		module.exports = {
		    Environment: Environment,
		    Template: Template
		};
	
	
	/***/ },
	/* 3 */
	/***/ function(module, exports) {
	
		
	
	/***/ },
	/* 4 */
	/***/ function(module, exports, __webpack_require__) {
	
		"use strict";
	
		// rawAsap provides everything we need except exception management.
		var rawAsap = __webpack_require__(5);
		// RawTasks are recycled to reduce GC churn.
		var freeTasks = [];
		// We queue errors to ensure they are thrown in right order (FIFO).
		// Array-as-queue is good enough here, since we are just dealing with exceptions.
		var pendingErrors = [];
		var requestErrorThrow = rawAsap.makeRequestCallFromTimer(throwFirstError);
	
		function throwFirstError() {
		    if (pendingErrors.length) {
		        throw pendingErrors.shift();
		    }
		}
	
		/**
		 * Calls a task as soon as possible after returning, in its own event, with priority
		 * over other events like animation, reflow, and repaint. An error thrown from an
		 * event will not interrupt, nor even substantially slow down the processing of
		 * other events, but will be rather postponed to a lower priority event.
		 * @param {{call}} task A callable object, typically a function that takes no
		 * arguments.
		 */
		module.exports = asap;
		function asap(task) {
		    var rawTask;
		    if (freeTasks.length) {
		        rawTask = freeTasks.pop();
		    } else {
		        rawTask = new RawTask();
		    }
		    rawTask.task = task;
		    rawAsap(rawTask);
		}
	
		// We wrap tasks with recyclable task objects.  A task object implements
		// `call`, just like a function.
		function RawTask() {
		    this.task = null;
		}
	
		// The sole purpose of wrapping the task is to catch the exception and recycle
		// the task object after its single use.
		RawTask.prototype.call = function () {
		    try {
		        this.task.call();
		    } catch (error) {
		        if (asap.onerror) {
		            // This hook exists purely for testing purposes.
		            // Its name will be periodically randomized to break any code that
		            // depends on its existence.
		            asap.onerror(error);
		        } else {
		            // In a web browser, exceptions are not fatal. However, to avoid
		            // slowing down the queue of pending tasks, we rethrow the error in a
		            // lower priority turn.
		            pendingErrors.push(error);
		            requestErrorThrow();
		        }
		    } finally {
		        this.task = null;
		        freeTasks[freeTasks.length] = this;
		    }
		};
	
	
	/***/ },
	/* 5 */
	/***/ function(module, exports) {
	
		/* WEBPACK VAR INJECTION */(function(global) {"use strict";
	
		// Use the fastest means possible to execute a task in its own turn, with
		// priority over other events including IO, animation, reflow, and redraw
		// events in browsers.
		//
		// An exception thrown by a task will permanently interrupt the processing of
		// subsequent tasks. The higher level `asap` function ensures that if an
		// exception is thrown by a task, that the task queue will continue flushing as
		// soon as possible, but if you use `rawAsap` directly, you are responsible to
		// either ensure that no exceptions are thrown from your task, or to manually
		// call `rawAsap.requestFlush` if an exception is thrown.
		module.exports = rawAsap;
		function rawAsap(task) {
		    if (!queue.length) {
		        requestFlush();
		        flushing = true;
		    }
		    // Equivalent to push, but avoids a function call.
		    queue[queue.length] = task;
		}
	
		var queue = [];
		// Once a flush has been requested, no further calls to `requestFlush` are
		// necessary until the next `flush` completes.
		var flushing = false;
		// `requestFlush` is an implementation-specific method that attempts to kick
		// off a `flush` event as quickly as possible. `flush` will attempt to exhaust
		// the event queue before yielding to the browser's own event loop.
		var requestFlush;
		// The position of the next task to execute in the task queue. This is
		// preserved between calls to `flush` so that it can be resumed if
		// a task throws an exception.
		var index = 0;
		// If a task schedules additional tasks recursively, the task queue can grow
		// unbounded. To prevent memory exhaustion, the task queue will periodically
		// truncate already-completed tasks.
		var capacity = 1024;
	
		// The flush function processes all tasks that have been scheduled with
		// `rawAsap` unless and until one of those tasks throws an exception.
		// If a task throws an exception, `flush` ensures that its state will remain
		// consistent and will resume where it left off when called again.
		// However, `flush` does not make any arrangements to be called again if an
		// exception is thrown.
		function flush() {
		    while (index < queue.length) {
		        var currentIndex = index;
		        // Advance the index before calling the task. This ensures that we will
		        // begin flushing on the next task the task throws an error.
		        index = index + 1;
		        queue[currentIndex].call();
		        // Prevent leaking memory for long chains of recursive calls to `asap`.
		        // If we call `asap` within tasks scheduled by `asap`, the queue will
		        // grow, but to avoid an O(n) walk for every task we execute, we don't
		        // shift tasks off the queue after they have been executed.
		        // Instead, we periodically shift 1024 tasks off the queue.
		        if (index > capacity) {
		            // Manually shift all values starting at the index back to the
		            // beginning of the queue.
		            for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {
		                queue[scan] = queue[scan + index];
		            }
		            queue.length -= index;
		            index = 0;
		        }
		    }
		    queue.length = 0;
		    index = 0;
		    flushing = false;
		}
	
		// `requestFlush` is implemented using a strategy based on data collected from
		// every available SauceLabs Selenium web driver worker at time of writing.
		// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593
	
		// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that
		// have WebKitMutationObserver but not un-prefixed MutationObserver.
		// Must use `global` instead of `window` to work in both frames and web
		// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.
		var BrowserMutationObserver = global.MutationObserver || global.WebKitMutationObserver;
	
		// MutationObservers are desirable because they have high priority and work
		// reliably everywhere they are implemented.
		// They are implemented in all modern browsers.
		//
		// - Android 4-4.3
		// - Chrome 26-34
		// - Firefox 14-29
		// - Internet Explorer 11
		// - iPad Safari 6-7.1
		// - iPhone Safari 7-7.1
		// - Safari 6-7
		if (typeof BrowserMutationObserver === "function") {
		    requestFlush = makeRequestCallFromMutationObserver(flush);
	
		// MessageChannels are desirable because they give direct access to the HTML
		// task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera
		// 11-12, and in web workers in many engines.
		// Although message channels yield to any queued rendering and IO tasks, they
		// would be better than imposing the 4ms delay of timers.
		// However, they do not work reliably in Internet Explorer or Safari.
	
		// Internet Explorer 10 is the only browser that has setImmediate but does
		// not have MutationObservers.
		// Although setImmediate yields to the browser's renderer, it would be
		// preferrable to falling back to setTimeout since it does not have
		// the minimum 4ms penalty.
		// Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and
		// Desktop to a lesser extent) that renders both setImmediate and
		// MessageChannel useless for the purposes of ASAP.
		// https://github.com/kriskowal/q/issues/396
	
		// Timers are implemented universally.
		// We fall back to timers in workers in most engines, and in foreground
		// contexts in the following browsers.
		// However, note that even this simple case requires nuances to operate in a
		// broad spectrum of browsers.
		//
		// - Firefox 3-13
		// - Internet Explorer 6-9
		// - iPad Safari 4.3
		// - Lynx 2.8.7
		} else {
		    requestFlush = makeRequestCallFromTimer(flush);
		}
	
		// `requestFlush` requests that the high priority event queue be flushed as
		// soon as possible.
		// This is useful to prevent an error thrown in a task from stalling the event
		// queue if the exception handled by Node.jss
		// `process.on("uncaughtException")` or by a domain.
		rawAsap.requestFlush = requestFlush;
	
		// To request a high priority event, we induce a mutation observer by toggling
		// the text of a text node between "1" and "-1".
		function makeRequestCallFromMutationObserver(callback) {
		    var toggle = 1;
		    var observer = new BrowserMutationObserver(callback);
		    var node = document.createTextNode("");
		    observer.observe(node, {characterData: true});
		    return function requestCall() {
		        toggle = -toggle;
		        node.data = toggle;
		    };
		}
	
		// The message channel technique was discovered by Malte Ubl and was the
		// original foundation for this library.
		// http://www.nonblocking.io/2011/06/windownexttick.html
	
		// Safari 6.0.5 (at least) intermittently fails to create message ports on a
		// page's first load. Thankfully, this version of Safari supports
		// MutationObservers, so we don't need to fall back in that case.
	
		// function makeRequestCallFromMessageChannel(callback) {
		//     var channel = new MessageChannel();
		//     channel.port1.onmessage = callback;
		//     return function requestCall() {
		//         channel.port2.postMessage(0);
		//     };
		// }
	
		// For reasons explained above, we are also unable to use `setImmediate`
		// under any circumstances.
		// Even if we were, there is another bug in Internet Explorer 10.
		// It is not sufficient to assign `setImmediate` to `requestFlush` because
		// `setImmediate` must be called *by name* and therefore must be wrapped in a
		// closure.
		// Never forget.
	
		// function makeRequestCallFromSetImmediate(callback) {
		//     return function requestCall() {
		//         setImmediate(callback);
		//     };
		// }
	
		// Safari 6.0 has a problem where timers will get lost while the user is
		// scrolling. This problem does not impact ASAP because Safari 6.0 supports
		// mutation observers, so that implementation is used instead.
		// However, if we ever elect to use timers in Safari, the prevalent work-around
		// is to add a scroll event listener that calls for a flush.
	
		// `setTimeout` does not call the passed callback if the delay is less than
		// approximately 7 in web workers in Firefox 8 through 18, and sometimes not
		// even then.
	
		function makeRequestCallFromTimer(callback) {
		    return function requestCall() {
		        // We dispatch a timeout with a specified delay of 0 for engines that
		        // can reliably accommodate that request. This will usually be snapped
		        // to a 4 milisecond delay, but once we're flushing, there's no delay
		        // between events.
		        var timeoutHandle = setTimeout(handleTimer, 0);
		        // However, since this timer gets frequently dropped in Firefox
		        // workers, we enlist an interval handle that will try to fire
		        // an event 20 times per second until it succeeds.
		        var intervalHandle = setInterval(handleTimer, 50);
	
		        function handleTimer() {
		            // Whichever timer succeeds will cancel both timers and
		            // execute the callback.
		            clearTimeout(timeoutHandle);
		            clearInterval(intervalHandle);
		            callback();
		        }
		    };
		}
	
		// This is for `asap.js` only.
		// Its name will be periodically randomized to break any code that depends on
		// its existence.
		rawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer;
	
		// ASAP was originally a nextTick shim included in Q. This was factored out
		// into this ASAP package. It was later adapted to RSVP which made further
		// amendments. These decisions, particularly to marginalize MessageChannel and
		// to capture the MutationObserver implementation in a closure, were integrated
		// back into ASAP proper.
		// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js
	
		/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))
	
	/***/ },
	/* 6 */
	/***/ function(module, exports) {
	
		'use strict';
	
		// A simple class system, more documentation to come
	
		function extend(cls, name, props) {
		    // This does that same thing as Object.create, but with support for IE8
		    var F = function() {};
		    F.prototype = cls.prototype;
		    var prototype = new F();
	
		    // jshint undef: false
		    var fnTest = /xyz/.test(function(){ xyz; }) ? /\bparent\b/ : /.*/;
		    props = props || {};
	
		    for(var k in props) {
		        var src = props[k];
		        var parent = prototype[k];
	
		        if(typeof parent === 'function' &&
		           typeof src === 'function' &&
		           fnTest.test(src)) {
		            /*jshint -W083 */
		            prototype[k] = (function (src, parent) {
		                return function() {
		                    // Save the current parent method
		                    var tmp = this.parent;
	
		                    // Set parent to the previous method, call, and restore
		                    this.parent = parent;
		                    var res = src.apply(this, arguments);
		                    this.parent = tmp;
	
		                    return res;
		                };
		            })(src, parent);
		        }
		        else {
		            prototype[k] = src;
		        }
		    }
	
		    prototype.typename = name;
	
		    var new_cls = function() {
		        if(prototype.init) {
		            prototype.init.apply(this, arguments);
		        }
		    };
	
		    new_cls.prototype = prototype;
		    new_cls.prototype.constructor = new_cls;
	
		    new_cls.extend = function(name, props) {
		        if(typeof name === 'object') {
		            props = name;
		            name = 'anonymous';
		        }
		        return extend(new_cls, name, props);
		    };
	
		    return new_cls;
		}
	
		module.exports = extend(Object, 'Object', {});
	
	
	/***/ },
	/* 7 */
	/***/ function(module, exports, __webpack_require__) {
	
		'use strict';
	
		var lib = __webpack_require__(1);
		var r = __webpack_require__(8);
	
		function normalize(value, defaultValue) {
		    if(value === null || value === undefined || value === false) {
		        return defaultValue;
		    }
		    return value;
		}
	
		var filters = {
		    abs: function(n) {
		        return Math.abs(n);
		    },
	
		    batch: function(arr, linecount, fill_with) {
		        var i;
		        var res = [];
		        var tmp = [];
	
		        for(i = 0; i < arr.length; i++) {
		            if(i % linecount === 0 && tmp.length) {
		                res.push(tmp);
		                tmp = [];
		            }
	
		            tmp.push(arr[i]);
		        }
	
		        if(tmp.length) {
		            if(fill_with) {
		                for(i = tmp.length; i < linecount; i++) {
		                    tmp.push(fill_with);
		                }
		            }
	
		            res.push(tmp);
		        }
	
		        return res;
		    },
	
		    capitalize: function(str) {
		        str = normalize(str, '');
		        var ret = str.toLowerCase();
		        return r.copySafeness(str, ret.charAt(0).toUpperCase() + ret.slice(1));
		    },
	
		    center: function(str, width) {
		        str = normalize(str, '');
		        width = width || 80;
	
		        if(str.length >= width) {
		            return str;
		        }
	
		        var spaces = width - str.length;
		        var pre = lib.repeat(' ', spaces/2 - spaces % 2);
		        var post = lib.repeat(' ', spaces/2);
		        return r.copySafeness(str, pre + str + post);
		    },
	
		    'default': function(val, def, bool) {
		        if(bool) {
		            return val ? val : def;
		        }
		        else {
		            return (val !== undefined) ? val : def;
		        }
		    },
	
		    dictsort: function(val, case_sensitive, by) {
		        if (!lib.isObject(val)) {
		            throw new lib.TemplateError('dictsort filter: val must be an object');
		        }
	
		        var array = [];
		        for (var k in val) {
		            // deliberately include properties from the object's prototype
		            array.push([k,val[k]]);
		        }
	
		        var si;
		        if (by === undefined || by === 'key') {
		            si = 0;
		        } else if (by === 'value') {
		            si = 1;
		        } else {
		            throw new lib.TemplateError(
		                'dictsort filter: You can only sort by either key or value');
		        }
	
		        array.sort(function(t1, t2) {
		            var a = t1[si];
		            var b = t2[si];
	
		            if (!case_sensitive) {
		                if (lib.isString(a)) {
		                    a = a.toUpperCase();
		                }
		                if (lib.isString(b)) {
		                    b = b.toUpperCase();
		                }
		            }
	
		            return a > b ? 1 : (a === b ? 0 : -1);
		        });
	
		        return array;
		    },
	
		    dump: function(obj) {
		        return JSON.stringify(obj);
		    },
	
		    escape: function(str) {
		        if(str instanceof r.SafeString) {
		            return str;
		        }
		        str = (str === null || str === undefined) ? '' : str;
		        return r.markSafe(lib.escape(str.toString()));
		    },
	
		    safe: function(str) {
		        if (str instanceof r.SafeString) {
		            return str;
		        }
		        str = (str === null || str === undefined) ? '' : str;
		        return r.markSafe(str.toString());
		    },
	
		    first: function(arr) {
		        return arr[0];
		    },
	
		    groupby: function(arr, attr) {
		        return lib.groupBy(arr, attr);
		    },
	
		    indent: function(str, width, indentfirst) {
		        str = normalize(str, '');
	
		        if (str === '') return '';
	
		        width = width || 4;
		        var res = '';
		        var lines = str.split('\n');
		        var sp = lib.repeat(' ', width);
	
		        for(var i=0; i<lines.length; i++) {
		            if(i === 0 && !indentfirst) {
		                res += lines[i] + '\n';
		            }
		            else {
		                res += sp + lines[i] + '\n';
		            }
		        }
	
		        return r.copySafeness(str, res);
		    },
	
		    join: function(arr, del, attr) {
		        del = del || '';
	
		        if(attr) {
		            arr = lib.map(arr, function(v) {
		                return v[attr];
		            });
		        }
	
		        return arr.join(del);
		    },
	
		    last: function(arr) {
		        return arr[arr.length-1];
		    },
	
		    length: function(val) {
		        var value = normalize(val, '');
	
		        if(value !== undefined) {
		            if(
		                (typeof Map === 'function' && value instanceof Map) ||
		                (typeof Set === 'function' && value instanceof Set)
		            ) {
		                // ECMAScript 2015 Maps and Sets
		                return value.size;
		            }
		            if(lib.isObject(value) && !(value instanceof r.SafeString)) {
		                // Objects (besides SafeStrings), non-primative Arrays
		                return Object.keys(value).length;
		            }
		            return value.length;
		        }
		        return 0;
		    },
	
		    list: function(val) {
		        if(lib.isString(val)) {
		            return val.split('');
		        }
		        else if(lib.isObject(val)) {
		            var keys = [];
	
		            if(Object.keys) {
		                keys = Object.keys(val);
		            }
		            else {
		                for(var k in val) {
		                    keys.push(k);
		                }
		            }
	
		            return lib.map(keys, function(k) {
		                return { key: k,
		                         value: val[k] };
		            });
		        }
		        else if(lib.isArray(val)) {
		          return val;
		        }
		        else {
		            throw new lib.TemplateError('list filter: type not iterable');
		        }
		    },
	
		    lower: function(str) {
		        str = normalize(str, '');
		        return str.toLowerCase();
		    },
	
		    random: function(arr) {
		        return arr[Math.floor(Math.random() * arr.length)];
		    },
	
		    rejectattr: function(arr, attr) {
		      return arr.filter(function (item) {
		        return !item[attr];
		      });
		    },
	
		    selectattr: function(arr, attr) {
		      return arr.filter(function (item) {
		        return !!item[attr];
		      });
		    },
	
		    replace: function(str, old, new_, maxCount) {
		        var originalStr = str;
	
		        if (old instanceof RegExp) {
		            return str.replace(old, new_);
		        }
	
		        if(typeof maxCount === 'undefined'){
		            maxCount = -1;
		        }
	
		        var res = '';  // Output
	
		        // Cast Numbers in the search term to string
		        if(typeof old === 'number'){
		            old = old + '';
		        }
		        else if(typeof old !== 'string') {
		            // If it is something other than number or string,
		            // return the original string
		            return str;
		        }
	
		        // Cast numbers in the replacement to string
		        if(typeof str === 'number'){
		            str = str + '';
		        }
	
		        // If by now, we don't have a string, throw it back
		        if(typeof str !== 'string' && !(str instanceof r.SafeString)){
		            return str;
		        }
	
		        // ShortCircuits
		        if(old === ''){
		            // Mimic the python behaviour: empty string is replaced
		            // by replacement e.g. "abc"|replace("", ".") -> .a.b.c.
		            res = new_ + str.split('').join(new_) + new_;
		            return r.copySafeness(str, res);
		        }
	
		        var nextIndex = str.indexOf(old);
		        // if # of replacements to perform is 0, or the string to does
		        // not contain the old value, return the string
		        if(maxCount === 0 || nextIndex === -1){
		            return str;
		        }
	
		        var pos = 0;
		        var count = 0; // # of replacements made
	
		        while(nextIndex  > -1 && (maxCount === -1 || count < maxCount)){
		            // Grab the next chunk of src string and add it with the
		            // replacement, to the result
		            res += str.substring(pos, nextIndex) + new_;
		            // Increment our pointer in the src string
		            pos = nextIndex + old.length;
		            count++;
		            // See if there are any more replacements to be made
		            nextIndex = str.indexOf(old, pos);
		        }
	
		        // We've either reached the end, or done the max # of
		        // replacements, tack on any remaining string
		        if(pos < str.length) {
		            res += str.substring(pos);
		        }
	
		        return r.copySafeness(originalStr, res);
		    },
	
		    reverse: function(val) {
		        var arr;
		        if(lib.isString(val)) {
		            arr = filters.list(val);
		        }
		        else {
		            // Copy it
		            arr = lib.map(val, function(v) { return v; });
		        }
	
		        arr.reverse();
	
		        if(lib.isString(val)) {
		            return r.copySafeness(val, arr.join(''));
		        }
		        return arr;
		    },
	
		    round: function(val, precision, method) {
		        precision = precision || 0;
		        var factor = Math.pow(10, precision);
		        var rounder;
	
		        if(method === 'ceil') {
		            rounder = Math.ceil;
		        }
		        else if(method === 'floor') {
		            rounder = Math.floor;
		        }
		        else {
		            rounder = Math.round;
		        }
	
		        return rounder(val * factor) / factor;
		    },
	
		    slice: function(arr, slices, fillWith) {
		        var sliceLength = Math.floor(arr.length / slices);
		        var extra = arr.length % slices;
		        var offset = 0;
		        var res = [];
	
		        for(var i=0; i<slices; i++) {
		            var start = offset + i * sliceLength;
		            if(i < extra) {
		                offset++;
		            }
		            var end = offset + (i + 1) * sliceLength;
	
		            var slice = arr.slice(start, end);
		            if(fillWith && i >= extra) {
		                slice.push(fillWith);
		            }
		            res.push(slice);
		        }
	
		        return res;
		    },
	
		    sum: function(arr, attr, start) {
		        var sum = 0;
	
		        if(typeof start === 'number'){
		            sum += start;
		        }
	
		        if(attr) {
		            arr = lib.map(arr, function(v) {
		                return v[attr];
		            });
		        }
	
		        for(var i = 0; i < arr.length; i++) {
		            sum += arr[i];
		        }
	
		        return sum;
		    },
	
		    sort: r.makeMacro(['value', 'reverse', 'case_sensitive', 'attribute'], [], function(arr, reverse, caseSens, attr) {
		         // Copy it
		        arr = lib.map(arr, function(v) { return v; });
	
		        arr.sort(function(a, b) {
		            var x, y;
	
		            if(attr) {
		                x = a[attr];
		                y = b[attr];
		            }
		            else {
		                x = a;
		                y = b;
		            }
	
		            if(!caseSens && lib.isString(x) && lib.isString(y)) {
		                x = x.toLowerCase();
		                y = y.toLowerCase();
		            }
	
		            if(x < y) {
		                return reverse ? 1 : -1;
		            }
		            else if(x > y) {
		                return reverse ? -1: 1;
		            }
		            else {
		                return 0;
		            }
		        });
	
		        return arr;
		    }),
	
		    string: function(obj) {
		        return r.copySafeness(obj, obj);
		    },
	
		    striptags: function(input, preserve_linebreaks) {
		        input = normalize(input, '');
		        preserve_linebreaks = preserve_linebreaks || false;
		        var tags = /<\/?([a-z][a-z0-9]*)\b[^>]*>|<!--[\s\S]*?-->/gi;
		        var trimmedInput = filters.trim(input.replace(tags, ''));
		        var res = '';
		        if (preserve_linebreaks) {
		            res = trimmedInput
		                .replace(/^ +| +$/gm, '')     // remove leading and trailing spaces
		                .replace(/ +/g, ' ')          // squash adjacent spaces
		                .replace(/(\r\n)/g, '\n')     // normalize linebreaks (CRLF -> LF)
		                .replace(/\n\n\n+/g, '\n\n'); // squash abnormal adjacent linebreaks
		        } else {
		            res = trimmedInput.replace(/\s+/gi, ' ');
		        }
		        return r.copySafeness(input, res);
		    },
	
		    title: function(str) {
		        str = normalize(str, '');
		        var words = str.split(' ');
		        for(var i = 0; i < words.length; i++) {
		            words[i] = filters.capitalize(words[i]);
		        }
		        return r.copySafeness(str, words.join(' '));
		    },
	
		    trim: function(str) {
		        return r.copySafeness(str, str.replace(/^\s*|\s*$/g, ''));
		    },
	
		    truncate: function(input, length, killwords, end) {
		        var orig = input;
		        input = normalize(input, '');
		        length = length || 255;
	
		        if (input.length <= length)
		            return input;
	
		        if (killwords) {
		            input = input.substring(0, length);
		        } else {
		            var idx = input.lastIndexOf(' ', length);
		            if(idx === -1) {
		                idx = length;
		            }
	
		            input = input.substring(0, idx);
		        }
	
		        input += (end !== undefined && end !== null) ? end : '...';
		        return r.copySafeness(orig, input);
		    },
	
		    upper: function(str) {
		        str = normalize(str, '');
		        return str.toUpperCase();
		    },
	
		    urlencode: function(obj) {
		        var enc = encodeURIComponent;
		        if (lib.isString(obj)) {
		            return enc(obj);
		        } else {
		            var parts;
		            if (lib.isArray(obj)) {
		                parts = obj.map(function(item) {
		                    return enc(item[0]) + '=' + enc(item[1]);
		                });
		            } else {
		                parts = [];
		                for (var k in obj) {
		                    if (obj.hasOwnProperty(k)) {
		                        parts.push(enc(k) + '=' + enc(obj[k]));
		                    }
		                }
		            }
		            return parts.join('&');
		        }
		    },
	
		    urlize: function(str, length, nofollow) {
		        if (isNaN(length)) length = Infinity;
	
		        var noFollowAttr = (nofollow === true ? ' rel="nofollow"' : '');
	
		        // For the jinja regexp, see
		        // https://github.com/mitsuhiko/jinja2/blob/f15b814dcba6aa12bc74d1f7d0c881d55f7126be/jinja2/utils.py#L20-L23
		        var puncRE = /^(?:\(|<|&lt;)?(.*?)(?:\.|,|\)|\n|&gt;)?$/;
		        // from http://blog.gerv.net/2011/05/html5_email_address_regexp/
		        var emailRE = /^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i;
		        var httpHttpsRE = /^https?:\/\/.*$/;
		        var wwwRE = /^www\./;
		        var tldRE = /\.(?:org|net|com)(?:\:|\/|$)/;
	
		        var words = str.split(/(\s+)/).filter(function(word) {
		          // If the word has no length, bail. This can happen for str with
		          // trailing whitespace.
		          return word && word.length;
		        }).map(function(word) {
		          var matches = word.match(puncRE);
		          var possibleUrl = matches && matches[1] || word;
	
		          // url that starts with http or https
		          if (httpHttpsRE.test(possibleUrl))
		            return '<a href="' + possibleUrl + '"' + noFollowAttr + '>' + possibleUrl.substr(0, length) + '</a>';
	
		          // url that starts with www.
		          if (wwwRE.test(possibleUrl))
		            return '<a href="http://' + possibleUrl + '"' + noFollowAttr + '>' + possibleUrl.substr(0, length) + '</a>';
	
		          // an email address of the form username@domain.tld
		          if (emailRE.test(possibleUrl))
		            return '<a href="mailto:' + possibleUrl + '">' + possibleUrl + '</a>';
	
		          // url that ends in .com, .org or .net that is not an email address
		          if (tldRE.test(possibleUrl))
		            return '<a href="http://' + possibleUrl + '"' + noFollowAttr + '>' + possibleUrl.substr(0, length) + '</a>';
	
		          return word;
	
		        });
	
		        return words.join('');
		    },
	
		    wordcount: function(str) {
		        str = normalize(str, '');
		        var words = (str) ? str.match(/\w+/g) : null;
		        return (words) ? words.length : null;
		    },
	
		    'float': function(val, def) {
		        var res = parseFloat(val);
		        return isNaN(res) ? def : res;
		    },
	
		    'int': function(val, def) {
		        var res = parseInt(val, 10);
		        return isNaN(res) ? def : res;
		    }
		};
	
		// Aliases
		filters.d = filters['default'];
		filters.e = filters.escape;
	
		module.exports = filters;
	
	
	/***/ },
	/* 8 */
	/***/ function(module, exports, __webpack_require__) {
	
		'use strict';
	
		var lib = __webpack_require__(1);
		var Obj = __webpack_require__(6);
	
		// Frames keep track of scoping both at compile-time and run-time so
		// we know how to access variables. Block tags can introduce special
		// variables, for example.
		var Frame = Obj.extend({
		    init: function(parent, isolateWrites) {
		        this.variables = {};
		        this.parent = parent;
		        this.topLevel = false;
		        // if this is true, writes (set) should never propagate upwards past
		        // this frame to its parent (though reads may).
		        this.isolateWrites = isolateWrites;
		    },
	
		    set: function(name, val, resolveUp) {
		        // Allow variables with dots by automatically creating the
		        // nested structure
		        var parts = name.split('.');
		        var obj = this.variables;
		        var frame = this;
	
		        if(resolveUp) {
		            if((frame = this.resolve(parts[0], true))) {
		                frame.set(name, val);
		                return;
		            }
		        }
	
		        for(var i=0; i<parts.length - 1; i++) {
		            var id = parts[i];
	
		            if(!obj[id]) {
		                obj[id] = {};
		            }
		            obj = obj[id];
		        }
	
		        obj[parts[parts.length - 1]] = val;
		    },
	
		    get: function(name) {
		        var val = this.variables[name];
		        if(val !== undefined && val !== null) {
		            return val;
		        }
		        return null;
		    },
	
		    lookup: function(name) {
		        var p = this.parent;
		        var val = this.variables[name];
		        if(val !== undefined && val !== null) {
		            return val;
		        }
		        return p && p.lookup(name);
		    },
	
		    resolve: function(name, forWrite) {
		        var p = (forWrite && this.isolateWrites) ? undefined : this.parent;
		        var val = this.variables[name];
		        if(val !== undefined && val !== null) {
		            return this;
		        }
		        return p && p.resolve(name);
		    },
	
		    push: function(isolateWrites) {
		        return new Frame(this, isolateWrites);
		    },
	
		    pop: function() {
		        return this.parent;
		    }
		});
	
		function makeMacro(argNames, kwargNames, func) {
		    return function() {
		        var argCount = numArgs(arguments);
		        var args;
		        var kwargs = getKeywordArgs(arguments);
		        var i;
	
		        if(argCount > argNames.length) {
		            args = Array.prototype.slice.call(arguments, 0, argNames.length);
	
		            // Positional arguments that should be passed in as
		            // keyword arguments (essentially default values)
		            var vals = Array.prototype.slice.call(arguments, args.length, argCount);
		            for(i = 0; i < vals.length; i++) {
		                if(i < kwargNames.length) {
		                    kwargs[kwargNames[i]] = vals[i];
		                }
		            }
	
		            args.push(kwargs);
		        }
		        else if(argCount < argNames.length) {
		            args = Array.prototype.slice.call(arguments, 0, argCount);
	
		            for(i = argCount; i < argNames.length; i++) {
		                var arg = argNames[i];
	
		                // Keyword arguments that should be passed as
		                // positional arguments, i.e. the caller explicitly
		                // used the name of a positional arg
		                args.push(kwargs[arg]);
		                delete kwargs[arg];
		            }
	
		            args.push(kwargs);
		        }
		        else {
		            args = arguments;
		        }
	
		        return func.apply(this, args);
		    };
		}
	
		function makeKeywordArgs(obj) {
		    obj.__keywords = true;
		    return obj;
		}
	
		function getKeywordArgs(args) {
		    var len = args.length;
		    if(len) {
		        var lastArg = args[len - 1];
		        if(lastArg && lastArg.hasOwnProperty('__keywords')) {
		            return lastArg;
		        }
		    }
		    return {};
		}
	
		function numArgs(args) {
		    var len = args.length;
		    if(len === 0) {
		        return 0;
		    }
	
		    var lastArg = args[len - 1];
		    if(lastArg && lastArg.hasOwnProperty('__keywords')) {
		        return len - 1;
		    }
		    else {
		        return len;
		    }
		}
	
		// A SafeString object indicates that the string should not be
		// autoescaped. This happens magically because autoescaping only
		// occurs on primitive string objects.
		function SafeString(val) {
		    if(typeof val !== 'string') {
		        return val;
		    }
	
		    this.val = val;
		    this.length = val.length;
		}
	
		SafeString.prototype = Object.create(String.prototype, {
		    length: { writable: true, configurable: true, value: 0 }
		});
		SafeString.prototype.valueOf = function() {
		    return this.val;
		};
		SafeString.prototype.toString = function() {
		    return this.val;
		};
	
		function copySafeness(dest, target) {
		    if(dest instanceof SafeString) {
		        return new SafeString(target);
		    }
		    return target.toString();
		}
	
		function markSafe(val) {
		    var type = typeof val;
	
		    if(type === 'string') {
		        return new SafeString(val);
		    }
		    else if(type !== 'function') {
		        return val;
		    }
		    else {
		        return function() {
		            var ret = val.apply(this, arguments);
	
		            if(typeof ret === 'string') {
		                return new SafeString(ret);
		            }
	
		            return ret;
		        };
		    }
		}
	
		function suppressValue(val, autoescape) {
		    val = (val !== undefined && val !== null) ? val : '';
	
		    if(autoescape && !(val instanceof SafeString)) {
		        val = lib.escape(val.toString());
		    }
	
		    return val;
		}
	
		function ensureDefined(val, lineno, colno) {
		    if(val === null || val === undefined) {
		        throw new lib.TemplateError(
		            'attempted to output null or undefined value',
		            lineno + 1,
		            colno + 1
		        );
		    }
		    return val;
		}
	
		function memberLookup(obj, val) {
		    obj = obj || {};
	
		    if(typeof obj[val] === 'function') {
		        return function() {
		            return obj[val].apply(obj, arguments);
		        };
		    }
	
		    return obj[val];
		}
	
		function callWrap(obj, name, context, args) {
		    if(!obj) {
		        throw new Error('Unable to call `' + name + '`, which is undefined or falsey');
		    }
		    else if(typeof obj !== 'function') {
		        throw new Error('Unable to call `' + name + '`, which is not a function');
		    }
	
		    // jshint validthis: true
		    return obj.apply(context, args);
		}
	
		function contextOrFrameLookup(context, frame, name) {
		    var val = frame.lookup(name);
		    return (val !== undefined && val !== null) ?
		        val :
		        context.lookup(name);
		}
	
		function handleError(error, lineno, colno) {
		    if(error.lineno) {
		        return error;
		    }
		    else {
		        return new lib.TemplateError(error, lineno, colno);
		    }
		}
	
		function asyncEach(arr, dimen, iter, cb) {
		    if(lib.isArray(arr)) {
		        var len = arr.length;
	
		        lib.asyncIter(arr, function(item, i, next) {
		            switch(dimen) {
		            case 1: iter(item, i, len, next); break;
		            case 2: iter(item[0], item[1], i, len, next); break;
		            case 3: iter(item[0], item[1], item[2], i, len, next); break;
		            default:
		                item.push(i, next);
		                iter.apply(this, item);
		            }
		        }, cb);
		    }
		    else {
		        lib.asyncFor(arr, function(key, val, i, len, next) {
		            iter(key, val, i, len, next);
		        }, cb);
		    }
		}
	
		function asyncAll(arr, dimen, func, cb) {
		    var finished = 0;
		    var len, i;
		    var outputArr;
	
		    function done(i, output) {
		        finished++;
		        outputArr[i] = output;
	
		        if(finished === len) {
		            cb(null, outputArr.join(''));
		        }
		    }
	
		    if(lib.isArray(arr)) {
		        len = arr.length;
		        outputArr = new Array(len);
	
		        if(len === 0) {
		            cb(null, '');
		        }
		        else {
		            for(i = 0; i < arr.length; i++) {
		                var item = arr[i];
	
		                switch(dimen) {
		                case 1: func(item, i, len, done); break;
		                case 2: func(item[0], item[1], i, len, done); break;
		                case 3: func(item[0], item[1], item[2], i, len, done); break;
		                default:
		                    item.push(i, done);
		                    // jshint validthis: true
		                    func.apply(this, item);
		                }
		            }
		        }
		    }
		    else {
		        var keys = lib.keys(arr);
		        len = keys.length;
		        outputArr = new Array(len);
	
		        if(len === 0) {
		            cb(null, '');
		        }
		        else {
		            for(i = 0; i < keys.length; i++) {
		                var k = keys[i];
		                func(k, arr[k], i, len, done);
		            }
		        }
		    }
		}
	
		module.exports = {
		    Frame: Frame,
		    makeMacro: makeMacro,
		    makeKeywordArgs: makeKeywordArgs,
		    numArgs: numArgs,
		    suppressValue: suppressValue,
		    ensureDefined: ensureDefined,
		    memberLookup: memberLookup,
		    contextOrFrameLookup: contextOrFrameLookup,
		    callWrap: callWrap,
		    handleError: handleError,
		    isArray: lib.isArray,
		    keys: lib.keys,
		    SafeString: SafeString,
		    copySafeness: copySafeness,
		    markSafe: markSafe,
		    asyncEach: asyncEach,
		    asyncAll: asyncAll,
		    inOperator: lib.inOperator
		};
	
	
	/***/ },
	/* 9 */
	/***/ function(module, exports) {
	
		'use strict';
	
		function cycler(items) {
		    var index = -1;
	
		    return {
		        current: null,
		        reset: function() {
		            index = -1;
		            this.current = null;
		        },
	
		        next: function() {
		            index++;
		            if(index >= items.length) {
		                index = 0;
		            }
	
		            this.current = items[index];
		            return this.current;
		        },
		    };
	
		}
	
		function joiner(sep) {
		    sep = sep || ',';
		    var first = true;
	
		    return function() {
		        var val = first ? '' : sep;
		        first = false;
		        return val;
		    };
		}
	
		// Making this a function instead so it returns a new object
		// each time it's called. That way, if something like an environment
		// uses it, they will each have their own copy.
		function globals() {
		    return {
		        range: function(start, stop, step) {
		            if(typeof stop === 'undefined') {
		                stop = start;
		                start = 0;
		                step = 1;
		            }
		            else if(!step) {
		                step = 1;
		            }
	
		            var arr = [];
		            var i;
		            if (step > 0) {
		                for (i=start; i<stop; i+=step) {
		                    arr.push(i);
		                }
		            } else {
		                for (i=start; i>stop; i+=step) {
		                    arr.push(i);
		                }
		            }
		            return arr;
		        },
	
		        // lipsum: function(n, html, min, max) {
		        // },
	
		        cycler: function() {
		            return cycler(Array.prototype.slice.call(arguments));
		        },
	
		        joiner: function(sep) {
		            return joiner(sep);
		        }
		    };
		}
	
		module.exports = globals;
	
	
	/***/ },
	/* 10 */
	/***/ function(module, exports, __webpack_require__) {
	
		'use strict';
	
		var Loader = __webpack_require__(11);
	
		var PrecompiledLoader = Loader.extend({
		    init: function(compiledTemplates) {
		        this.precompiled = compiledTemplates || {};
		    },
	
		    getSource: function(name) {
		        if (this.precompiled[name]) {
		            return {
		                src: { type: 'code',
		                       obj: this.precompiled[name] },
		                path: name
		            };
		        }
		        return null;
		    }
		});
	
		module.exports = PrecompiledLoader;
	
	
	/***/ },
	/* 11 */
	/***/ function(module, exports, __webpack_require__) {
	
		'use strict';
	
		var path = __webpack_require__(3);
		var Obj = __webpack_require__(6);
		var lib = __webpack_require__(1);
	
		var Loader = Obj.extend({
		    on: function(name, func) {
		        this.listeners = this.listeners || {};
		        this.listeners[name] = this.listeners[name] || [];
		        this.listeners[name].push(func);
		    },
	
		    emit: function(name /*, arg1, arg2, ...*/) {
		        var args = Array.prototype.slice.call(arguments, 1);
	
		        if(this.listeners && this.listeners[name]) {
		            lib.each(this.listeners[name], function(listener) {
		                listener.apply(null, args);
		            });
		        }
		    },
	
		    resolve: function(from, to) {
		        return path.resolve(path.dirname(from), to);
		    },
	
		    isRelative: function(filename) {
		        return (filename.indexOf('./') === 0 || filename.indexOf('../') === 0);
		    }
		});
	
		module.exports = Loader;
	
	
	/***/ },
	/* 12 */
	/***/ function(module, exports) {
	
		function installCompat() {
		  'use strict';
	
		  // This must be called like `nunjucks.installCompat` so that `this`
		  // references the nunjucks instance
		  var runtime = this.runtime; // jshint ignore:line
		  var lib = this.lib; // jshint ignore:line
	
		  var orig_contextOrFrameLookup = runtime.contextOrFrameLookup;
		  runtime.contextOrFrameLookup = function(context, frame, key) {
		    var val = orig_contextOrFrameLookup.apply(this, arguments);
		    if (val === undefined) {
		      switch (key) {
		      case 'True':
		        return true;
		      case 'False':
		        return false;
		      case 'None':
		        return null;
		      }
		    }
	
		    return val;
		  };
	
		  var orig_memberLookup = runtime.memberLookup;
		  var ARRAY_MEMBERS = {
		    pop: function(index) {
		      if (index === undefined) {
		        return this.pop();
		      }
		      if (index >= this.length || index < 0) {
		        throw new Error('KeyError');
		      }
		      return this.splice(index, 1);
		    },
		    remove: function(element) {
		      for (var i = 0; i < this.length; i++) {
		        if (this[i] === element) {
		          return this.splice(i, 1);
		        }
		      }
		      throw new Error('ValueError');
		    },
		    count: function(element) {
		      var count = 0;
		      for (var i = 0; i < this.length; i++) {
		        if (this[i] === element) {
		          count++;
		        }
		      }
		      return count;
		    },
		    index: function(element) {
		      var i;
		      if ((i = this.indexOf(element)) === -1) {
		        throw new Error('ValueError');
		      }
		      return i;
		    },
		    find: function(element) {
		      return this.indexOf(element);
		    },
		    insert: function(index, elem) {
		      return this.splice(index, 0, elem);
		    }
		  };
		  var OBJECT_MEMBERS = {
		    items: function() {
		      var ret = [];
		      for(var k in this) {
		        ret.push([k, this[k]]);
		      }
		      return ret;
		    },
		    values: function() {
		      var ret = [];
		      for(var k in this) {
		        ret.push(this[k]);
		      }
		      return ret;
		    },
		    keys: function() {
		      var ret = [];
		      for(var k in this) {
		        ret.push(k);
		      }
		      return ret;
		    },
		    get: function(key, def) {
		      var output = this[key];
		      if (output === undefined) {
		        output = def;
		      }
		      return output;
		    },
		    has_key: function(key) {
		      return this.hasOwnProperty(key);
		    },
		    pop: function(key, def) {
		      var output = this[key];
		      if (output === undefined && def !== undefined) {
		        output = def;
		      } else if (output === undefined) {
		        throw new Error('KeyError');
		      } else {
		        delete this[key];
		      }
		      return output;
		    },
		    popitem: function() {
		      for (var k in this) {
		        // Return the first object pair.
		        var val = this[k];
		        delete this[k];
		        return [k, val];
		      }
		      throw new Error('KeyError');
		    },
		    setdefault: function(key, def) {
		      if (key in this) {
		        return this[key];
		      }
		      if (def === undefined) {
		        def = null;
		      }
		      return this[key] = def;
		    },
		    update: function(kwargs) {
		      for (var k in kwargs) {
		        this[k] = kwargs[k];
		      }
		      return null;  // Always returns None
		    }
		  };
		  OBJECT_MEMBERS.iteritems = OBJECT_MEMBERS.items;
		  OBJECT_MEMBERS.itervalues = OBJECT_MEMBERS.values;
		  OBJECT_MEMBERS.iterkeys = OBJECT_MEMBERS.keys;
		  runtime.memberLookup = function(obj, val, autoescape) { // jshint ignore:line
		    obj = obj || {};
	
		    // If the object is an object, return any of the methods that Python would
		    // otherwise provide.
		    if (lib.isArray(obj) && ARRAY_MEMBERS.hasOwnProperty(val)) {
		      return function() {return ARRAY_MEMBERS[val].apply(obj, arguments);};
		    }
	
		    if (lib.isObject(obj) && OBJECT_MEMBERS.hasOwnProperty(val)) {
		      return function() {return OBJECT_MEMBERS[val].apply(obj, arguments);};
		    }
	
		    return orig_memberLookup.apply(this, arguments);
		  };
		}
	
		module.exports = installCompat;
	
	
	/***/ }
	/******/ ])
	});
	;

/***/ }),
/* 9 */
/***/ (function(module, exports, __webpack_require__) {

	module.exports = function(env){
	    function parse (parser, nodes, lexer) {
	        var tok = parser.nextToken();
	        key = parser.parseSignature(null, true);
	        parser.advanceAfterBlockEnd(tok.value);
	        return new nodes.CallExtension(this, 'run', key);
	    }
	    
	    function Translation () {
	        this.tags = ['trans'];
	        this.parse = parse;
	        this.run = function (ctx, key) {
	        	// cosinnus_current_language is defined in base.html
	        	// COSINNUS_PO_TRANS is defined in webpack/shared.config.js
	        	if (cosinnus_current_language in ({"en":{"Groups":"Groups","Like":"","Group":"Group","Title":"","Workshops":"","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"","Liked":"","Following":"","Events":"","Projects":"","Event":"","Members":"","Follow":"","Conference Applications":"","Last updated on: ":"","Report offensive content":"","From":"","Until":"","website":"","Contact":"","Send Message":"","Invitations":"","You will now receive notifications for content posted in this project.":"","You will now receive notifications for content posted in this group.":"","Sustainable Development Goals":"","Contact Group Admins":"","Membership request pending...":"","You are invited!":"","All Groups":"All Groups","All Projects":"All Projects","Organizations":"","People":"","My Groups":"My Groups","My Projects":"My Projects","Ideas":"","All Ideas":"","My Organizations":"","All Organizations":"","Include contents from other platforms":"","My Cloud Files":"","Cloud Files":"","Idea":"","Organization":"","Cloud File":"","Create Project":"Create Project","Create Group":"Create Group","Categories":"","SDGS":"","Search for Names, Topics and Places...":"","Search for Names and Topics...":"","Where":"","In map area":"","If active, searching will be restricted to the visible map area.":"","Apply Filters":"","Clear Filters":"","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"","Next":"","Choose a location for your idea by dragging the marker!":"","of":"","No results found.":"","Could not complete the search due to an error.":"","Search when moving the map":"","Search this area":"","Find partners":"","Membership Requests":"","You are not in any groups or projects yet":"","You have not created any organizations yet.":"","Ideas I am following":"","You are not following any ideas yet.":"","Browse all Ideas":"","You have not RSVPed to any Events.":"","Go to Calendar":"","No current notifications":"","Find on map:":"","Entire Network":"","On the Map":"","In my Cloud Files":"","Topic":"","SDG":"","from":"","You":"","No info.":"","Administrator":"","Administrators":"","Administrators unknown":"","No description yet.":"","max.":"","You are participating":"","Participation request pending...":"","Participate":"","You will now receive notifications for content posted.":"","If you do not want notifications, click the unfollow button!":"","Could not save your like setting because of an error.":"","Could not save your follow setting because of an error.":"","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"","Back to location selection":"","Sorry, but you cannot view details for this content.":"","This can happen when its visibility settings have changed recently.":"","Please register or log in to continue!":"","Error!":"","Sorry, but the requested content could not be retrieved from the server.":"","Visit Event Page":"","You will now receive notifications for comments or when this event is updated or its details change.":"","Hidden Users":"","Hidden User":"","This group is open for further partner organizations.":"","You are a Member":"","Author":"","Edit your Idea":"","You will receive a notification when a project is created from your liked idea.":"","Projects - Created from this Idea":"","This organization is open for further partner organizations.":"","You are a Admin":"","Ownership request pending...":"","Open to be contacted about potential collaboration opportunities":"","Does NOT wish to be contacted for potential collaboration!":"","This project is open for further partner organizations.":"","Move up":"","Move down":"","Items you follow":"","Nothing here yet.":"","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"","You can create Groups or Projects via the '+' button in the header.":"","Ideas I like":"","Here you can find an overview of Ideas you have liked.":"","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"","Discover":"","Filter":"","Content from the Forum":"","We could not load more data at this time.":"","Retry":""},"de":{"Groups":"Gruppen","Like":"Gefllt mir","Group":"Gruppe","Title":"Titel","Workshops":"Workshops","Results":"Ergebnisse","Participants":"Teilnehmende","Description":"Beschreibung","Project":"Projekt","Topics":"Themen","Likes":"\"Gefllt mir\"-Angaben","User":"Benutzer_in","Liked":"Gefllt dir","Following":"Gefolgt","Events":"Veranstaltungen","Projects":"Projekte","Event":"Veranstaltung","Members":"Mitglieder","Follow":"Folgen","Conference Applications":"Tagungs-Teilnahmeantrge","Created on: ":"Erstellt am: ","Last updated on: ":"Zuletzt aktualisiert am: ","Report offensive content":"Anstigen Inhalt melden","From":"Von","Until":"Bis","website":"Webseite","Contact":"Kontakt","Send Message":"Nachricht schicken","Invitations":"Einladungen","You will now receive notifications for content posted in this project.":"Du wirst jetzt Benachrichtigungen fr Inhalte in diesem Projekt erhalten.","You will now receive notifications for content posted in this group.":"Du wirst jetzt Benachrichtigungen fr Inhalte in dieser Gruppe erhalten.","Sustainable Development Goals":"Ziele fr nachhaltige Entwicklung","Contact Project Admins":"Projektadministratoren kontaktieren","Contact Group Admins":"Gruppenadministratoren kontaktieren","Contact Conference Admins":"Tagungsadministratoren kontaktieren","Membership request pending...":"Mitgliedschaft wurde beantragt...","You are invited!":"Du bist eingeladen worden!","All Groups":"Alle Gruppen","All Projects":"Alle Projekte","Organizations":"Organisationen","Create Idea":"Idee erstellen","People":"Menschen","My Groups":"Meine Gruppen","My Projects":"Meine Projekte","Ideas":"Ideen","My Ideas":"Meine Ideen","All Ideas":"Alle Ideen","My Organizations":"Meine Organisationen","All Organizations":"Alle Organisationen","External contents":"Externe Inhalte","Include contents from other platforms":"Auch Inhalte von anderen Plattformen anzeigen","My Users":"Meine Benutzer_innen","My Events":"Meine Veranstaltungen","My Cloud Files":"Meine Cloud-Dateien","All Users":"Alle Benutzer_innen","All Events":"Alle Veranstaltungen","Cloud Files":"Cloud-Dateien","Idea":"Idee","Organization":"Organisation","Cloud File":"Cloud-Dateien","Create User":"Benutzerkonto erstellen","Create Event":"Veranstaltung erstellen","Create Project":"Projekt erstellen","Create Group":"Gruppe erstellen","Create Organization":"Organisation erstellen","Categories":"Kategorien","SDGS":"SDGs","Search for Names, Topics and Places...":"Suche nach Namen, Themen und Orten...","Search for Names and Topics...":"Suche nach Namen und Themen...","Where":"Wo","In map area":"In Kartenaussschnitt","If active, searching will be restricted to the visible map area.":"Wenn aktiv wird die Suche auf die sichtbare Kartenflche beschrnkt.","Apply Filters":"Filter anwenden","Clear Filters":"Filter zurcksetzen","Show potential partners":"Potentielle Partner anzeigen","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"Hier kannst du nach Partnerorganisationen und Projekten suchen, die zur Partnerschaft offen sind. Die Ergebnisse sind so sortiert, dass Partner*innen mit vielen berschneidungen bei den Finanzierungszielen, frderfhigen Bereichen und SDGs, fr die du aktiv bist, zuerst aufgefhrt werden.","Show potential partners for ...":"Zeige potentielle Partner fr ","You're currently not member of any project, group or organization.":"Du bist derzeit kein Mitglied eines Projekts, einer Gruppe oder einer Organisation.","Street":"Straen","Create idea":"Idee erstellen","Next":"Weiter","Choose a location for your idea by dragging the marker!":"Whle einen Ort fr deine Idee indem du die Markierung in der Karte verschiebst!","of":"von","No results found.":"Keine Ergebnisse gefunden.","Could not complete the search due to an error.":"Konnte die Suche aufgrund eines Fehlers nicht abschlieen.","Search when moving the map":"Suchen wenn die Karte bewegt wird","Search this area":"In diesem Ausschnitt suchen","Find partners":"Partner finden","Membership Requests":"Mitgliedschaftsantrge","My Groups and Projects":"Meine Gruppen und Projekte","Show more Projects of this Group":"Weitere Projekte dieser Gruppe anzeigen","You are not in any groups or projects yet":"Du bist noch in keinen Gruppen oder Projekten Mitglied","Create new Group":"Neue Gruppe anlegen","Create new Project":"Neues Projekt anlegen","Browse all Groups":"Alle Gruppen anzeigen","Browse all Projects":"Alle Projekte anzeigen","You have not created any organizations yet.":"Du hast noch keine Organisationen angelegt.","Create new Organization":"Neue Organisation anlegen","Browse all Organizations":"Alle Organisationen durchsuchen","Search for Organizations":"Nach Organisation suchen","Ideas I am following":"Ideen, die mir gefallen","You are not following any ideas yet.":"Du folgst noch keine Ideen.","Post new Idea":"Neue Idee eintragen","Browse all Ideas":"Alle Ideen anzeigen","Search for Ideas":"Nach Ideen suchen","You have not RSVPed to any Events.":"Du hast bei keinen aktuellen Veranstaltungen zugesagt.","Add Event":"Veranstaltung hinzufgen","Go to Calendar":"Zum Kalender","There was an error loading the widget":"Es gab einen Fehler beim Laden der Inhalte","Notifications":"Benachrichtigungen","Show more":"Weitere anzeigen","No current notifications":"Keine aktuellen Benachrichtigungen","Find on map:":"Auf der Karte finden:","Entire Network":"Gesamtes Netzwerk","On the Map":"Auf der Karte","In my Groups and Projects":"In meinen Gruppen und Projekten","In my Cloud Files":"In meinen Cloud-Dateien","Topic":"Thema","SDG":"SDG","from":"von","You":"Du","Projects/Groups":"Projekte/Gruppen","No info.":"Keine Informationen.","Administrator":"Administrator","Administrators":"Administratoren","Administrators unknown":"Administratoren unbekannt","No description yet.":"Noch keine Beschreibung erstellt.","max.":"max.","You are participating":"Du nimmst teil","Participation request pending...":"Teilnahmeantrag luft...","Participate":"Teilnehmen","You will now receive notifications for content posted.":"Du wirst jetzt Benachrichtigungen fr neue Inhalte erhalten.","If you do not want notifications, click the unfollow button!":"Wenn du das nicht mchtest, klicke oben den Entfolgen-Button!","Could not save your like setting because of an error.":"Konnte deine \"Gefllt mir\"-Angabe aufgrund eines Fehlers nicht speichern.","Could not save your follow setting because of an error.":"Konnte deine Folgen-Einstellung aufgrund eines Fehlers nicht speichern.","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"Whle einen Ort fr deine Idee indem du die Markierung in der Karte verschiebst. Du kannst diesen Ort spter ndern.","Back to location selection":"Zurck zur Ortsauswahl","Protected Content":"Geschtzter Inhalt","Sorry, but you cannot view details for this content.":"Tut uns leid, aber du kannst keine Details dieses Inhalts sehen.","This can happen when its visibility settings have changed recently.":"Dies kann passieren, wenn die Sichtbarkeitseinstellungen des Inhalts vor Kurzem gendert wurden.","Please register or log in to continue!":"Bitte registriere dich oder log dich ein um weiterzumachen!","Error!":"Fehler!","Sorry, but the requested content could not be retrieved from the server.":"Tut uns leid, aber der gewnschte Inhalt konnte nicht vom Server geladen werden.","Visit Event Page":"Event-Seite besuchen","You will now receive notifications for comments or when this event is updated or its details change.":"Du wirst jetzt Benachrichtigungen fr Kommentare erhalten und wenn dieser Inhalt gendert wird.","Hidden Users":"Versteckte Benutzer","Hidden User":"Versteckter Benutzer","This group is open for further partner organizations.":"Diese Gruppe ist offen fr weitere Partnerorganisationen.","You are a Member":"Du bist Mitglied","Join Group":"Gruppe beitreten","Author":"Autor","Create Project from Idea":"Projekt aus Idee erstellen","Edit your Idea":"Deine Idee bearbeiten","You will receive a notification when a project is created from your liked idea.":"Du erhltst eine Benachrichtigung, wenn ein Projekt aus dieser Idee erstellt wird.","Projects - Created from this Idea":"Projekte - entstanden aus dieser Idee","This organization is open for further partner organizations.":"Diese Organisation ist offen fr weitere Partnerorganisationen.","You are a Admin":"Du bist ein Admin","Ownership request pending...":"Mitgliedschaftsantrag luft...","Projects and groups":"Projekte und Gruppen","Project/group":"Projekt/Gruppe","Open to be contacted about potential collaboration opportunities":"Kann gerne fr potentielle Zusammenarbeit kontaktiert werden","Does NOT wish to be contacted for potential collaboration!":"Mchte KEINE Anfragen fr potentielle Zusammenarbeit erhalten!","To Profile":"Zum Profil","This project is open for further partner organizations.":"Dieses Projekt ist offen fr weitere Partnerorganisationen.","Join Project":"Projekt beitreten","Move up":"Nach oben","Move down":"Nach unten","There are no items yet":"Noch keine Inhalte vorhanden","Items you follow":"Objekte, denen ich folge","Nothing here yet.":"Keine Eintrge bisher.","Groups and Projects":"Gruppen und Projekte","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"Hier findest du in Zukunft eine bersicht ber deine Gruppen und Projekte. Noch bist du in keiner Gruppe oder einem Projekt aktiv.","You can create Groups or Projects via the '+' button in the header.":"Du kannst eigene Gruppen oder Projekte ber den '+'-Button im Header anlegen.","Ideas I like":"Ideen, die mir gefallen","Here you can find an overview of Ideas you have liked.":"Hier findest du in Zukunft eine bersicht ber Ideen, die dir gefallen.","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"Du kannst eigene Ideen ber den '+'-Button im Header anlegen oder bestehende Ideen hier entdecken","Discover":"Entdecken","Filter":"Filter","Content from the Forum":"Inhalte aus dem Forum","Content from my Groups and Projects":"Inhalte aus meinen Gruppen und Projekten","Platform content":"Portalweite Inhalte","Public content":"ffentliche Inhalte","We could not load more data at this time.":"Wir konnten leider keine weiteren Daten laden.","Retry":"Erneut versuchen"},"ru":{"Groups":"","Like":"","Group":"","Title":"","Workshops":"","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"","Liked":"","Following":"","Events":"","Projects":"","Event":"","Members":"","Follow":"","Conference Applications":"    ","Report offensive content":"","From":"","Until":"","website":"","Contact":"","Send Message":" ","Invitations":"","You will now receive notifications for content posted in this project.":"      ,    .","You will now receive notifications for content posted in this group.":"      ,    .","Sustainable Development Goals":"  ","Membership request pending...":"    ...","You are invited!":" !","All Groups":" ","All Projects":" ","Organizations":"","Create Idea":" ","People":"","My Groups":" ","My Projects":" ","Ideas":"","My Ideas":" ","All Ideas":" ","My Organizations":" ","All Organizations":" ","External contents":" ","Include contents from other platforms":"      ","My Users":" ","My Events":" ","My Cloud Files":" ","All Users":" ","All Events":" ","Cloud Files":" ","Idea":"","Organization":"","Cloud File":" ","Create User":" ","Create Event":" ","Create Project":" ","Create Group":" ","Create Organization":" ","Categories":"","SDGS":"  ","Search for Names, Topics and Places...":" ,   ","Search for Names and Topics...":"   ","Where":"","In map area":"  ","If active, searching will be restricted to the visible map area.":" ,      .","Apply Filters":" ","Clear Filters":" ","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":"    ,  !","of":"","No results found.":"  .","Could not complete the search due to an error.":"    - .","Search when moving the map":"   ","Search this area":"   ","Find partners":"","Membership Requests":"  ","My Groups and Projects":"   ","Show more Projects of this Group":"    ","You are not in any groups or projects yet":"        ","Create new Group":"  ","Create new Project":"  ","Browse all Groups":"  ","Browse all Projects":"  ","You have not created any organizations yet.":"      .","Create new Organization":"  ","Browse all Organizations":"  ","Search for Organizations":" ","Ideas I am following":",   ","You are not following any ideas yet.":"       .","Post new Idea":"  ","Browse all Ideas":"  ","Search for Ideas":" ","You have not RSVPed to any Events.":"      .","Add Event":" ","Go to Calendar":"  ","There was an error loading the widget":"     ","Notifications":"","Show more":" ","No current notifications":"  ","Find on map:":"  :","Entire Network":" ","On the Map":" ","In my Groups and Projects":"    ","In my Cloud Files":"   ","Topic":"","SDG":"  ","from":"","You":"","Projects/Groups":"/","No info.":" .","Administrator":"","Administrators":"","Administrators unknown":"  ","No description yet.":" .","max.":".","You are participating":"  ","Participation request pending...":"    ...","Participate":"","You will now receive notifications for content posted.":"      ,    .","If you do not want notifications, click the unfollow button!":"     ,    !","Could not save your like setting because of an error.":"-      .","Could not save your follow setting because of an error.":"       .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"    ,  .      .","Back to location selection":"   ","Protected Content":" ","Sorry, but you cannot view details for this content.":",         .","This can happen when its visibility settings have changed recently.":"  ,       .","Please register or log in to continue!":",   ,  !","Error!":"a!","Sorry, but the requested content could not be retrieved from the server.":",         .","Visit Event Page":"  ","You will now receive notifications for comments or when this event is updated or its details change.":"    ,            .","Hidden Users":" ","Hidden User":" ","This group is open for further partner organizations.":"","You are a Member":"  ","Join Group":"  ","Author":"","Create Project from Idea":"    ","Edit your Idea":"  ","You will receive a notification when a project is created from your liked idea.":"  ,       ,   .","Projects - Created from this Idea":" -     ","This organization is open for further partner organizations.":"","You are a Admin":"  ","Ownership request pending...":"    ...","Projects and groups":"   ","Project/group":"/","Open to be contacted about potential collaboration opportunities":"()     ","Does NOT wish to be contacted for potential collaboration!":"     !","To Profile":" ","This project is open for further partner organizations.":"","Join Project":"  ","Move up":" ","Move down":" ","There are no items yet":"  ","Items you follow":",   ","Nothing here yet.":"   .","Groups and Projects":"  ","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"        ,          .","You can create Groups or Projects via the '+' button in the header.":"           '+'     .","Ideas I like":",   ","Here you can find an overview of Ideas you have liked.":"    ,   .","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"         '+'          ","Discover":" ","Filter":" ","Content from the Forum":"  ","Content from my Groups and Projects":"     ","Platform content":"      ","Public content":"   ","We could not load more data at this time.":"      .","Retry":" "},"uk":{"Groups":"","Like":"","Group":"","Title":"","Workshops":"","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"(-)","Liked":"","Following":"","Events":"","Projects":"","Event":"","Members":"","Follow":"","Conference Applications":"    ","Report offensive content":"   ","From":"","Until":"","website":"-","Contact":"","Send Message":" ","Invitations":"","You will now receive notifications for content posted in this project.":"      ,    .","You will now receive notifications for content posted in this group.":"      ,    .","Sustainable Development Goals":"  ","Membership request pending...":"     ...","You are invited!":" !","All Groups":" ","All Projects":" ","Organizations":"","Create Idea":" ","People":"","My Groups":" ","My Projects":" ","Ideas":"","My Ideas":" ","All Ideas":" ","My Organizations":" ","All Organizations":" ","External contents":" ","Include contents from other platforms":"   ","My Users":" ","My Events":" ","My Cloud Files":"   ","All Users":" ","All Events":" ","Cloud Files":"  ","Idea":"","Organization":"","Cloud File":"  ","Create User":" ","Create Event":" ","Create Project":" ","Create Group":" ","Create Organization":" ","Categories":"","SDGS":"  ","Search for Names, Topics and Places...":" ,   ","Search for Names and Topics...":"   ","Where":"","In map area":"  ","If active, searching will be restricted to the visible map area.":"  ,      .","Apply Filters":" ","Clear Filters":" ","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":"    ,  !","of":"","No results found.":"   .","Could not complete the search due to an error.":"     .","Search when moving the map":"   ","Search this area":"   ","Find partners":"","Membership Requests":"  ","My Groups and Projects":"   ","Show more Projects of this Group":"    ","You are not in any groups or projects yet":"       ","Create new Group":"  ","Create new Project":"  ","Browse all Groups":"  ","Browse all Projects":"  ","You have not created any organizations yet.":"     .","Create new Organization":"  ","Browse all Organizations":"  ","Search for Organizations":" ","Ideas I am following":",    ","You are not following any ideas yet.":"      .","Post new Idea":"  ","Browse all Ideas":"  ","Search for Ideas":" ","You have not RSVPed to any Events.":"  RSVP   .","Add Event":" ","Go to Calendar":"  ","There was an error loading the widget":"     ","Notifications":"","Show more":" ","No current notifications":"  ","Find on map:":"  :","Entire Network":" ","On the Map":" ","In my Groups and Projects":"    ","In my Cloud Files":"    ","Topic":"","SDG":"  ","from":"","You":"","Projects/Groups":"/","No info.":" .","Administrator":"","Administrators":"","Administrators unknown":" ","No description yet.":"  .","max.":".","You are participating":"  ","Participation request pending...":"     ...","Participate":"","You will now receive notifications for content posted.":"       .","If you do not want notifications, click the unfollow button!":"     ,    !","Could not save your like setting because of an error.":"       .","Could not save your follow setting because of an error.":"       .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"    ,  .       .","Back to location selection":"   ","Protected Content":" ","Sorry, but you cannot view details for this content.":",        .","This can happen when its visibility settings have changed recently.":"  ,     .","Please register or log in to continue!":" ,   ,  !","Error!":"!","Sorry, but the requested content could not be retrieved from the server.":", ,    ,     .","Visit Event Page":"  ","You will now receive notifications for comments or when this event is updated or its details change.":"      ,      .","Hidden Users":" ","Hidden User":" ","This group is open for further partner organizations.":"","You are a Member":"  ","Join Group":"  ","Author":"","Create Project from Idea":"   ","Edit your Idea":"  ","You will receive a notification when a project is created from your liked idea.":"  ,        .","Projects - Created from this Idea":"     ","This organization is open for further partner organizations.":"","You are a Admin":"  ","Ownership request pending...":"       ...","Projects and groups":"  ","Project/group":"/","Open to be contacted about potential collaboration opportunities":"(-)      ","Does NOT wish to be contacted for potential collaboration!":"     !","To Profile":" ","This project is open for further partner organizations.":"","Join Project":"  ","Move up":" ","Move down":" ","There are no items yet":"    ","Items you follow":",    ","Nothing here yet.":"   .","Groups and Projects":"  ","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"        ,          .","You can create Groups or Projects via the '+' button in the header.":"         +  .","Ideas I like":",   ","Here you can find an overview of Ideas you have liked.":"      ,   .","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"        +       ","Discover":"","Filter":" ","Content from the Forum":"  ","Content from my Groups and Projects":"      ","Public content":" ","We could not load more data at this time.":"       .","Retry":"  "},"fr":{"Groups":"Groupes","Like":"Aimer","Group":"Groupe","Title":"Titre","Workshops":"Ateliers","Results":"Rsultats","Participants":"Participants","Description":"Description","Project":"Projet","Topics":"Sujets","Likes":"J'aime","User":"Utilisateur","Liked":"Est aim","Following":"Suit","Events":"Evnements","Projects":"Projets","Event":"Evnement","Members":"Membres","Follow":"S'abonner","Conference Applications":"Demandes de confrence","Report offensive content":"Rapporter un contenu choquant","From":"De","Until":"jusqu","website":"site internet","Contact":"Contact","Send Message":"Envoyer un message","Invitations":"Invitations","You will now receive notifications for content posted in this project.":"Tu recevras dsormais des notifications pour le contenu affich dans ce projet.","You will now receive notifications for content posted in this group.":"Tu recevras dsormais des notifications pour le contenu affich dans ce groupe.","Sustainable Development Goals":"Objectifs de dveloppement durable","Membership request pending...":"Demande d'ajout en attente...","You are invited!":"Tu es invit !","All Groups":"Tous les groupes","All Projects":"Tous les projets","Organizations":"Organisations","Create Idea":"Crer ide","People":"Personnes","My Groups":"Mes groupes","My Projects":"Mes projets","Ideas":"Ides","My Ideas":"Mes ides","All Ideas":"Toutes les ides","My Organizations":"Mes organisations","All Organizations":"Toutes les organisations","My Users":"Mes utilisateurs","My Events":"Mes vnements","My Cloud Files":"Mes fichiers Cloud","All Users":"Tous les utilisateurs","All Events":"Tous les vnements","Cloud Files":"Fichiers cloud","Idea":"Ide","Organization":"Organisation","Cloud File":"Fichier cloud","Create User":"Crer utilisateur","Create Event":"Crer vnement","Create Project":"Crer projet","Create Group":"Crer groupe","Create Organization":"Crer lorganisation","Categories":"","SDGS":"SDGS","Search for Names, Topics and Places...":"Rechercher des noms, sujets et lieux...","Search for Names and Topics...":"Rechercher des noms et des sujets...","Where":"O","In map area":"Sur l'aire de la carte","If active, searching will be restricted to the visible map area.":"Si activ, la recherche sera limit  l'aire visible sur la carte.","Apply Filters":"Appliquer les filtres","Clear Filters":"Supprimer les filtres","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"Rue","Create idea":"Crer ide","Next":"Suivant","Choose a location for your idea by dragging the marker!":"Choisis un lieu pour ton ide en dplaant et en relchant la souris !","of":"de","No results found.":"Aucun rsultat trouv.","Could not complete the search due to an error.":"La recherche n'a pas pu aboutir  cause d'une erreur.","Search when moving the map":"Rechercher en faisant bouger la carte","Search this area":"Rechercher dans cette zone","Find partners":"","Membership Requests":"Demandes d'adhsion","My Groups and Projects":"Mes groupes et projets","Show more Projects of this Group":"Afficher plus de projets de ce groupe","You are not in any groups or projects yet":"Vous ne faites pas encore partie d'un groupe ou d'un projet","Create new Group":"Crer un nouveau groupe","Create new Project":"Crer un nouveau projet","Browse all Groups":"Parcourir tous les groupes","Browse all Projects":"Parcourir tous les projets","You have not created any organizations yet.":"Tu nas encore cr aucune organisation.","Create new Organization":"Crer une nouvelle organisation","Browse all Organizations":"Parcourir toutes les organisations","Search for Organizations":"Rechercher des organisations","Ideas I am following":"Ides que je suis","You are not following any ideas yet.":"Tu ne suis pas encore dides.","Post new Idea":"Publier une nouvelle ide","Browse all Ideas":"Parcourir toutes les ides","Search for Ideas":"Rechercher des ides","You have not RSVPed to any Events.":"Tu n'as rpondu  aucun vnement.","Add Event":"Ajouter un vnement","Go to Calendar":"Aller au calendrier","There was an error loading the widget":"Une erreur est survenue lors du chargement du widget","Notifications":"Notifications","Show more":"Afficher plus","No current notifications":"Pas de notifications actuelles","Find on map:":"","Entire Network":"Tout le rseau","On the Map":"Sur la carte","In my Groups and Projects":"Dans mes groupes et projets","In my Cloud Files":"Dans mes fichiers Cloud","Topic":"Sujet","SDG":"SDG","from":"","You":"Toi","Projects/Groups":"Projets / groupes","No info.":"Pas d'info.","Administrator":"Administrateur","Administrators":"Administrateurs","Administrators unknown":"Administrateurs inconnus","No description yet.":"Pas encore de description.","max.":"max.","You are participating":"Tu participes","Participation request pending...":"Demande de participation en attente...","Participate":"Participer","You will now receive notifications for content posted.":"Tu recevras dsormais des notifications pour le contenu affich.","If you do not want notifications, click the unfollow button!":"Si tu ne souhaites pas recevoir de notifications, clique sur le bouton de dsabonnement !","Could not save your like setting because of an error.":"Ton paramtre \"j'aime\" n'a pas pu tre enregistr  cause d'une erreur.","Could not save your follow setting because of an error.":"Ton paramtre \"abonn\" n'a pas pu tre enregistr  cause d'une erreur.","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"Choisis un lieu pour ton ide en dplaant et en relchant la souris. Tu pourras changer ce lieu plus tard.","Back to location selection":"Retour  la slection du lieu","Protected Content":"Contenu protg","Sorry, but you cannot view details for this content.":"Dsol, tu ne peux pas voir les dtails pour ce contenu.","This can happen when its visibility settings have changed recently.":"Cela peut se produire quand les paramtres de visibilit ont t changs rcemment.","Please register or log in to continue!":"Inscris-toi ou connecte-toi pour continuer !","Error!":"Erreur !","Sorry, but the requested content could not be retrieved from the server.":"Dsol, le contenu demand n'a pas pu tre rcupr sur le serveur.","Visit Event Page":"Visiter la page de l'vnement","You will now receive notifications for comments or when this event is updated or its details change.":"Tu recevras maintenant des notifications pour les commentaires ou lorsque cet vnement est mis  jour ou que ses dtails changent.","Hidden Users":"Utilisateurs masqus","Hidden User":"Utilisateur masqu","This group is open for further partner organizations.":"","You are a Member":"Tu es membre","Join Group":"Rejoindre groupe","Author":"Auteur","Create Project from Idea":"Crer projet  partir d'une ide","Edit your Idea":"Modifier ton ide","You will receive a notification when a project is created from your liked idea.":"Tu recevras une notification lorsqu'un projet sera cr  partir de l'ide que tu aimes.","Projects - Created from this Idea":"Projets - Crs  partir de cette ide","This organization is open for further partner organizations.":"","You are a Admin":"Tu es administrateur","Ownership request pending...":"Demande de proprit en attente...","Projects and groups":"Projets et groupes","Project/group":"Projet / groupe","Open to be contacted about potential collaboration opportunities":"Peut tre contact (e) au sujet d'ventuelles possibilits de collaboration","Does NOT wish to be contacted for potential collaboration!":"Je ne souhaite PAS tre contact (e) pour une ventuelle collaboration ","This project is open for further partner organizations.":"","Join Project":"Rejoindre projet","Move up":"Dplacer vers le haut","Move down":"Dplacer vers le bas","There are no items yet":"Il n'y a pas encore d'lments","Items you follow":"lments que tu suis","Nothing here yet.":"Rien ici pour l'instant.","Groups and Projects":"Groupes et projets","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"Tu trouveras ici un aperu de tes groupes et projets une fois que tu seras actif(active) dans un ou plusieurs d'entre eux.","You can create Groups or Projects via the '+' button in the header.":"Tu peux crer des groupes ou des projets en cliquant sur le bouton \"+\" dans l'en-tte.","Ideas I like":"Ides que j'aime","Here you can find an overview of Ideas you have liked.":"Tu trouveras ici un aperu des ides que tu as aimes.","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"Tu peux crer tes propres ides via le bouton \"+\" dans l'en-tte, ou dcouvrir ici des ides dj existantes","Discover":"Dcouvrir","We could not load more data at this time.":"Nous navons pas pu tlcharger plus de donnes pour le moment.","Retry":"Rssayer"},"pl":{"Groups":"Grupy","Like":"Polubienie","Group":"Grupa","Title":"Tytu","Workshops":"Warsztaty","Results":"Wynikw","Participants":"Uczestnicy","Description":"Opis","Project":"Projekt","Topics":"Tematy","Likes":"Polubienia","User":"Uytkownik","Liked":"Polubione","Following":"Nastpujcy/-a","Events":"Wydarzenia","Projects":"Projekty","Event":"Wydarzenie","Members":"Czonkowie","Follow":"led","Conference Applications":"Aplikacje do udziau w konferencji","Report offensive content":"Zgo niedozwolon tre","From":"Od","Until":"Do","website":"strona internetowa","Contact":"Kontakt","Send Message":"Wylij Wiadomo","Invitations":"Zaproszenia","You will now receive notifications for content posted in this project.":"Otrzymasz teraz powiadomienie dotyczce treci zawartej w tym projekcie.","You will now receive notifications for content posted in this group.":"Otrzymasz teraz powiadomienie dotyczce treci zawartej w tej grupie.","Sustainable Development Goals":"Przyjazne dla rodowiska cele rozwoju","Membership request pending...":"Trwa przetwarzanie proby o czonkostwo...","You are invited!":"Zostae/-a zaproszony/-a!","All Groups":"Wszystkie Grupy","All Projects":"Wszystkie Projekty","Organizations":"Organizacje","Create Idea":"Utwrz ide","People":"Ludzie","My Groups":"Moje Grupy","My Projects":"Moje Projekty","Ideas":"Pomysy","My Ideas":"Moje Pomysy","All Ideas":"Wszystkie Pomysy","My Organizations":"Moje organizacje","All Organizations":"Wszystkie organizacje","My Users":"Moi Uytkownicy","My Events":"Moje Wydarzenia","My Cloud Files":"Moje Pliki w Chmurze","All Users":"Wszyscy Uytkownicy","All Events":"Wszystkie Wydarzenia","Cloud Files":"Pliki w Chmurze","Idea":"Idea","Organization":"Organizacja","Cloud File":"Plik w Chmurze","Create User":"Utwrz Uytkownika","Create Event":"Utwrz Wydarzenie","Create Project":"Utwrz Projekt","Create Group":"Utwrz Grup","Create Organization":"Stwrz Organizacj","Categories":"","SDGS":"SDGS","Search for Names, Topics and Places...":"Wyszukaj nazwy, tematy i miejsca...","Search for Names and Topics...":"Wyszukaj Nazwy i Tematy...","Where":"Gdzie","In map area":"W obszarze na mapie","If active, searching will be restricted to the visible map area.":"Jeli aktywne, wyszukiwanie bdzie ograniczone do widocznego obszaru mapy.","Apply Filters":"Zastosuj Filtry","Clear Filters":"Wyczy Filtry","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"Ulica","Create idea":"Utwrz ide","Next":"Nastpna","Choose a location for your idea by dragging the marker!":"Wybierz lokalizacj dla swojej idei przesuwajc znacznik na mapie!","of":"z","No results found.":"Nie znaleziono adnych wynikw.","Could not complete the search due to an error.":"Wyszukiwanie nie powiodo si z powodu wystpienia bdu.","Search when moving the map":"Wyszukaj przesuwajc map","Search this area":"Przeszukaj ten obszar","Find partners":"","Membership Requests":"Proby o zostanie czonkiem","My Groups and Projects":"Moje Grupy i Projekty","Show more Projects of this Group":"Poka wicej projektw tej grupy","You are not in any groups or projects yet":"Nie jeste jeszcze w adnej grupie ani w adnym projekcie","Create new Group":"Utwrz now Grup","Create new Project":"Utwrz nowy Projekt","Browse all Groups":"Przejrzyj wszystkie Grupy","Browse all Projects":"Przejrzyj wszystkie Projekty","You have not created any organizations yet.":"Nie stworzye/-a jak dotd adnych organizacji.","Create new Organization":"Utwrz now organizacj","Browse all Organizations":"Przejrzyj wszystkie Organizacje","Search for Organizations":"Wyszukiwanie organizacji","Ideas I am following":"Pomysy, ktre ledz","You are not following any ideas yet.":"Nie ledzisz jeszcze adnych idei.","Post new Idea":"Opublikuj now Pomysy","Browse all Ideas":"Przejrzyj wszystkie Pomysy","Search for Ideas":"Szukaj pomysw","You have not RSVPed to any Events.":"Nie masz RSVPed do adnych wydarze.","Add Event":"Dodaj Wydarzenie","Go to Calendar":"Id do kalendarza","There was an error loading the widget":"Podczas adowania widgetu nastpi bd","Notifications":"Powiadomienia","Show more":"Poka wicej","No current notifications":"Brak biecych powiadomie","Find on map:":"","Entire Network":"Cakowita Sie","On the Map":"Na mapie","In my Groups and Projects":"W moich Grupach i Projektach","In my Cloud Files":"W moich Plikach w Chmurze","Topic":"Temat","SDG":"SDG","from":"","You":"Ty","Projects/Groups":"Projekty/Grupy","No info.":"Brak informacji.","Administrator":"Administrator","Administrators":"Administratorzy","Administrators unknown":"Administratorzy nieznani","No description yet.":"Brak jeszcze opisu.","max.":"maks.","You are participating":"Jeste uczestnikiem","Participation request pending...":"Trwa danie uczestnictwa...","Participate":"Uczestnik","You will now receive notifications for content posted.":"Otrzymasz teraz powiadomienie dotyczce zawartej treci.","If you do not want notifications, click the unfollow button!":"Jeli nie yczysz sobie otrzymywania powiadomie, kliknij na przycisk \"przesta ledzi\"!","Could not save your like setting because of an error.":"Twoje ustawienia nie mogy zosta zapisane w wyniku wystpienia bdu.","Could not save your follow setting because of an error.":"Twoje ustawienia ledzenia nie mogy zosta zapisane w wyniku wystpienia bdu.","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"Wybierz lokalizacj dla swojej idei przesuwajc i upuszczajc znacznik. Moesz pniej zmieni lokalizacj.","Back to location selection":"Powrt do wyboru lokalizacji","Protected Content":"Zawarto Chroniona","Sorry, but you cannot view details for this content.":"Przepraszamy, ale nie moesz zobaczy szczegw tej treci.","This can happen when its visibility settings have changed recently.":"Przyczyn moe by niedawna zmiana ustawie widocznoci.","Please register or log in to continue!":"Zarejestruj si lub zaloguj by kontynuowa!","Error!":"Bd!","Sorry, but the requested content could not be retrieved from the server.":"Przepraszamy, ale dana tre nie zostaa odnaleziona na serwerze.","Visit Event Page":"Odwied Stron Wydarzenia","You will now receive notifications for comments or when this event is updated or its details change.":"Bdziesz otrzymywa powiadomienia o komentarzach lub gdy to wydarzenie zostanie zaktualizowane albo jego szczegy ulegn zmianie.","Hidden Users":"Ukryci Uytkownicy","Hidden User":"Ukryty Uytkownik","This group is open for further partner organizations.":"","You are a Member":"Jeste Czonkiem","Join Group":"Docz do Grupy","Author":"Autor","Create Project from Idea":"Utwrz Projekt dla Idei","Edit your Idea":"Edytuj swoj Ide","You will receive a notification when a project is created from your liked idea.":"Otrzymasz powiadomienie, kiedy w ramach polubionej przez Ciebie idei zostanie utworzony projekt.","Projects - Created from this Idea":"Projekty - Utworzone w ramach tej Idei","This organization is open for further partner organizations.":"","You are a Admin":"Jeste adminem","Ownership request pending...":"Trwa przetwarzanie proby o wasno...","Projects and groups":"Projekty i grupy","Project/group":"Projekt/grupa","Open to be contacted about potential collaboration opportunities":"Otwrz, aby zosta skontaktowanym z potencjalnymi moliwociami wsppracy","Does NOT wish to be contacted for potential collaboration!":"NIE ycz sobie kontaktu z potencjalnymi wsppracownikami!","This project is open for further partner organizations.":"","Join Project":"Docz do Projektu","Move up":"Przenie do gry","Move down":"Przenie na d","There are no items yet":"Nie ma widocznych elementw","Items you follow":"Pozycje, ktre ledz","Nothing here yet.":"Jeszcze nic tu nie ma.","Groups and Projects":"Grupy i Projekty","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"Tu moesz znale oglny zarys twoich Grup i Projektw gdy bdziesz raz aktywny w jednym lub wicej.","You can create Groups or Projects via the '+' button in the header.":"Moesz zaoy wasne grupy i projekty za pomoc przycisku \"+\" w nagwku.","Ideas I like":"Pomysy, ktre mi si podobaj","Here you can find an overview of Ideas you have liked.":"Tu w przyszoci znajdziesz podgld pomysw, ktre ci si podobaj.","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"Moesz doda wasne pomysy za pomoc przycisku + w nagwku lub przejrze pomysy innych","Discover":"Odkryj","We could not load more data at this time.":"Nie moemy teraz zaadowa wicej danych.","Retry":"Sprbuj ponownie"},"be":{"Groups":"","Like":"","Group":"","Title":"","Workshops":"","Results":"","Participants":"(-)","Description":"","Project":"","Topics":"","Likes":"","User":"(-)","Liked":"","Following":"","Events":"","Projects":"","Event":"","Members":"","Follow":"","Conference Applications":"","Report offensive content":"   ","From":"","Until":"","Contact":"","Send Message":" ","Invitations":"","Sustainable Development Goals":"","Membership request pending...":"     ...","You are invited!":"  !","All Groups":" ","All Projects":" ","Create Idea":" ","People":"","My Groups":" ","My Projects":" ","Ideas":"","My Ideas":" ","All Ideas":" ","My Organizations":"","All Organizations":"","Include contents from other platforms":"","My Users":" (-)","My Events":" ","All Users":" (-)","All Events":" ","Idea":"","Create User":" (-)","Create Event":" ","Create Project":" ","Create Group":" ","Categories":"","SDGS":"","Search for Names, Topics and Places...":" ,   ...","Search for Names and Topics...":"   ...","Where":"","In map area":"   ","If active, searching will be restricted to the visible map area.":" ,      .","Apply Filters":" ","Clear Filters":" ","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":"   ,  !","of":"","No results found.":"  .","Could not complete the search due to an error.":"   - .","Search when moving the map":"   ","Search this area":"   ","Find partners":"","You are not in any groups or projects yet":"","Ideas I am following":"","You have not RSVPed to any Events.":"","Go to Calendar":"","Find on map:":"","Entire Network":"","On the Map":"","SDG":"","from":"","You":"","Projects/Groups":"/","No info.":" .","Administrator":"","Administrators":"","Administrators unknown":" ","No description yet.":"  .","max.":"","If you do not want notifications, click the unfollow button!":"     ,    \" \"!","Could not save your like setting because of an error.":"      - .","Could not save your follow setting because of an error.":"      - .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"    ,  .     .","Back to location selection":"   ","Protected Content":" ","Sorry, but you cannot view details for this content.":",        .","This can happen when its visibility settings have changed recently.":"    ,     .","Please register or log in to continue!":" ,   ,  !","Error!":"!","Sorry, but the requested content could not be retrieved from the server.":" ,       .","Visit Event Page":"   ","You will now receive notifications for comments or when this event is updated or its details change.":"     ,          .","Hidden Users":" (-)","Hidden User":" (-)","This group is open for further partner organizations.":"","You are a Member":" ' ","Join Group":"  ","Author":"(-)","Create Project from Idea":"   ","Edit your Idea":"  ","You will receive a notification when a project is created from your liked idea.":"   ,        .","Projects - Created from this Idea":",    ","This organization is open for further partner organizations.":"","Open to be contacted about potential collaboration opportunities":"","Does NOT wish to be contacted for potential collaboration!":"","This project is open for further partner organizations.":"","Join Project":"  ","Items you follow":"","Nothing here yet.":"","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"","You can create Groups or Projects via the '+' button in the header.":"","Ideas I like":"","Here you can find an overview of Ideas you have liked.":"","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"","Discover":"","We could not load more data at this time.":"","Retry":""},"es":{"Groups":"Grupos","Group":"Grupo","Title":"Ttulo","Workshops":"","Results":"Resultados","Participants":"Participantes","Description":"Descripcin","Project":"Proyecto","Topics":"Temas","User":"Usario","Following":"Siguiendo","Events":"Eventos","Projects":"Proyectos","Event":"Evento","Members":"Miembros","Follow":"Seguir","Conference Applications":"","Report offensive content":"Informar contenido ofensivo","From":"De","Until":"Hasta","Contact":"Contacto","Send Message":"Enviar mensaje","Invitations":"Invitaciones","Sustainable Development Goals":"","Membership request pending...":"Solicitud de participacin pendiente...","You are invited!":"Estas invitado!","All Groups":"Todos los grupos","All Projects":"Todos los proyectos","Create Idea":"Crear idea","People":"Personas","My Groups":"Mis grupos","My Projects":"Mis proyectos","Ideas":"Ideas","My Ideas":"Mis Ideas","All Ideas":"Todas la ideas","My Organizations":"","All Organizations":"","Include contents from other platforms":"","My Users":"Mis usarios","My Events":"Mis eventos","All Users":"Todos los usarios","All Events":"Todos los eventos","Idea":"Idea","Create User":"Crear usario","Create Event":"Crear evento","Create Project":"Crear proyecto","Create Group":"Crear grupo","Categories":"","SDGS":"","Search for Names, Topics and Places...":"Buscar nombres, temas y lugares...","Search for Names and Topics...":"Buscar nombres y temas...","Where":"Donde","In map area":"En zona de mapa","If active, searching will be restricted to the visible map area.":"Si est activo, la bsqueda se restringir al rea de mapa visible.","Apply Filters":"Aplicar Filtros","Clear Filters":"Limpiar filtros","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"Calle","Create idea":"Crear idea","Next":"Prximo","Choose a location for your idea by dragging the marker!":"Elige un lugar para tu idea arrastrando el marcador!","of":"de","No results found.":"No se han encontrado resultados.","Could not complete the search due to an error.":"No se pudo completar la bsqueda debido a un error.","Search when moving the map":"Buscar al mover el mapa","Search this area":"Busca en esta zona","Find partners":"","You are not in any groups or projects yet":"","Ideas I am following":"","You have not RSVPed to any Events.":"","Go to Calendar":"","Find on map:":"","Entire Network":"","On the Map":"","SDG":"","from":"","You":"","Projects/Groups":"Proyectos/grupos","No info.":"Ninguna informacin.","Administrator":"Administrador","Administrators":"Administratores","Administrators unknown":"Administratores desconocidos","No description yet.":"An no hay descripcin.","max.":"","If you do not want notifications, click the unfollow button!":"Si no desea notificaciones, haga clic en el botn de dejar de seguir!","Could not save your like setting because of an error.":"No se pudo guardar tu configuracin de me gusta debido a un error.","Could not save your follow setting because of an error.":"No se pudo guardar tu configuracin de seguir debido a un error.","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"Elija una ubicacin para su idea arrastrando y soltando el marcador. Todava puede cambiar esta ubicacin ms adelante.","Back to location selection":"Volver a la seleccin del lugar","Protected Content":"Contenido potejido","Sorry, but you cannot view details for this content.":"Lo sentimos, pero to puedes ver detalles para este comtenido.","This can happen when its visibility settings have changed recently.":"Esto puede suceder cuando su configuracin de visibilidad ha cambiado recientemente.","Please register or log in to continue!":"Por favor regstrate o inicia sesin para continuar!","Error!":"Error!","Visit Event Page":"Visitar pgina de eventos","You will now receive notifications for comments or when this event is updated or its details change.":"Ahora recibirs notificaciones de comentarios o cuando este evento se actualice o sus detalles cambien.","Hidden Users":"Usuarios ocultos","Hidden User":"Usuario ocultos","This group is open for further partner organizations.":"","You are a Member":"Eres un miembro","Join Group":"Participar en el grupo","Author":"Autor","Create Project from Idea":"Crear proyecto de la idea","Edit your Idea":"Editar tu idea","You will receive a notification when a project is created from your liked idea.":"Recibirs una notificacin cuando se cree un proyecto de tu idea.","Projects - Created from this Idea":"Proyectos - Creados de esta idea","This organization is open for further partner organizations.":"","Open to be contacted about potential collaboration opportunities":"","Does NOT wish to be contacted for potential collaboration!":"","This project is open for further partner organizations.":"","Join Project":"Participar en el proyecto","Items you follow":"","Nothing here yet.":"","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"","You can create Groups or Projects via the '+' button in the header.":"","Ideas I like":"","Here you can find an overview of Ideas you have liked.":"","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"","Discover":"","We could not load more data at this time.":"","Retry":""},"ro":{"Groups":"Grupuri","Like":"Ca","Group":"Grup","Title":"Titlu","Workshops":"Ateliere","Results":"Rezultate","Participants":"Participani","Description":"Descriere","Project":"Proiect","Topics":"Subiecte","Likes":"i place","User":"Utilizator","Liked":"Plcut","Following":"Ca urmare","Events":"Evenimente","Projects":"Proiecte","Event":"Eveniment","Members":"Membrii","Follow":"Urmeaz","Report offensive content":"Raportai coninutul ofensator","From":"Din","Until":"Pn cnd","Contact":"Contact","Send Message":"Trimite mesaj","Invitations":"Invitaii","You will now receive notifications for content posted in this project.":"Acum vei primi notificri pentru coninutul postat n acest proiect.","You will now receive notifications for content posted in this group.":"Acum vei primi notificri pentru coninutul  postat n acest grup.","Sustainable Development Goals":"Obiectivele Dezvoltrii Durabile","Membership request pending...":"Cerere de membru n ateptare...","You are invited!":"Eti invitat!","All Groups":"Toate Grupurile","All Projects":"Toate Proiectele","Organizations":"Organizaii","Create Idea":"Crea Idee","People":"Oameni","My Groups":"Grupurile Mele","My Projects":"Proiectele Mele","Ideas":"Idei","My Ideas":"Ideile Mele","All Ideas":"Toate Ideile","My Organizations":"Organizaiile Mele","All Organizations":"Toate Organizaiile","My Users":"Utilizatorii Mei","My Events":"Evenimentele Mele","All Users":"Toi Utilizatorii","All Events":"Toate Evenimentele","Idea":"Ideea","Organization":"Organizare","Create User":"Creeaz Utilizator","Create Event":"Creeaz Eveniment","Create Project":"Creeaz Proiect","Create Group":"Creeaz Grup","Create Organization":"Creeaz Organizarea","Categories":"","SDGS":"SDGS","Search for Names, Topics and Places...":"Cutai Nume, Subiecte i Locuri...","Search for Names and Topics...":"Cutai Nume i Subiecte...","Where":"Unde","In map area":"n zona hrii","If active, searching will be restricted to the visible map area.":"Dac este activ, cutarea va fi limitat la zona de hart vizibil.","Apply Filters":"Aplicai Filtre","Clear Filters":"tergei Filtrele","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"Strada","Create idea":"Crea idee","Next":"Urmtor","Choose a location for your idea by dragging the marker!":"Alegei o locaie pentru ideea dvs. trgnd marcatorul!","of":"de","No results found.":"Nici un rezultat gsit.","Could not complete the search due to an error.":"Nu s-a putut finaliza cutarea din cauza unei erori.","Search when moving the map":"Cutai atunci cnd mutai harta","Search this area":"Cutai n aceast zon","Find partners":"","Membership Requests":"Cereri de Membru","My Groups and Projects":"Grupurile i Proiectele mele","Show more Projects of this Group":"Arat mai multe Proiecte ale acestui Grup","You are not in any groups or projects yet":"Nu suntei nc n nici un grup sau proiect","Create new Group":"Creai un Grup nou","Create new Project":"Creai un Proiect nou","Browse all Groups":"Rsfoii toate Grupurile","Browse all Projects":"Rsfoii toate Proiectele","You have not created any organizations yet.":"Nu ai creat nc nicio organizaie.","Create new Organization":"Creai o Organizaie nou","Browse all Organizations":"Rsfoii toate Organizrile","Search for Organizations":"Cutai organizaii","Ideas I am following":"Idei pe care le urmresc","You are not following any ideas yet.":"Nu urmai niciun fel de idei.","Post new Idea":"Posteaz o nou Idee","Browse all Ideas":"Rsfoii toate Ideile","Search for Ideas":"Caut Idei","You have not RSVPed to any Events.":"Nu ai fcut RSVPed la niciun Eveniment.","Add Event":"Adugai eveniment","Go to Calendar":"Accesai Calendar","There was an error loading the widget":"A aprut o eroare la ncrcarea widget-ului","Notifications":"Notificri","Show more":"Afiai mai multe","No current notifications":"Fr notificri actuale","Find on map:":"","Entire Network":"ntreaga Reea","On the Map":"Pe Hart","In my Groups and Projects":"n Grupurile i Proiectele mele","Topic":"Subiect","SDG":"SDG","from":"","You":"Tu","Projects/Groups":"Proiecte/Grupuri","No info.":"Fr informaii.","Administrator":"Administrator","Administrators":"Administratorii","Administrators unknown":"Administratorii necunoscui","No description yet.":"Nici o descriere nc.","max.":"","If you do not want notifications, click the unfollow button!":"Dac nu dorii notificri, facei clic pe butonul de urmrire!","Could not save your like setting because of an error.":"Nu s-a putut salva setarea dvs. similar din cauza unei erori.","Could not save your follow setting because of an error.":"Nu s-a putut salva setarea de urmrire din cauza unei erori.","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"Alegei o locaie pentru ideea dvs. trgnd & aruncnd marcajul. Putei schimba aceast locaie ulterior.","Back to location selection":"napoi la selecia locaiei","Protected Content":"Coninutul Protejat","Sorry, but you cannot view details for this content.":"Scuze, dar nu putei vedea detalii pentru acest coninut.","This can happen when its visibility settings have changed recently.":"Acest lucru se poate ntmpla atunci cnd setrile sale de vizibilitate s-au schimbat recent.","Please register or log in to continue!":"V rugm s v nregistrai sau s v autentificai pentru a continua!","Error!":"Eroare!","Sorry, but the requested content could not be retrieved from the server.":"Scuz, dar coninutul solicitat nu a putut fi preluat de pe server.","Visit Event Page":"Accesai Pagina de Evenimente","You will now receive notifications for comments or when this event is updated or its details change.":"A cum vei primi notificri pentru comentarii sau cnd acest eveniment este actualizat sau detaliile sale se schimb.","Hidden Users":"Utilizatorii ascuni","Hidden User":"Utilizator ascuns","This group is open for further partner organizations.":"","You are a Member":"Suntei membru","Join Group":"Alturai-v Grupului","Author":"Autor","Create Project from Idea":"Creai Proiect din Idea","Edit your Idea":"Editeaz-i Ideea","You will receive a notification when a project is created from your liked idea.":"Vei primi o notificare atunci cnd un proiect este creat din ideea dvs. preferat.","Projects - Created from this Idea":"Proiecte - Create din aceast Idee","This organization is open for further partner organizations.":"","You are a Admin":"Suntei un Administrator","Open to be contacted about potential collaboration opportunities":"Deschis pentru a fi contactat cu privire la oportunitile de colaborare poteniale","Does NOT wish to be contacted for potential collaboration!":"Nu dorete s fie contactat pentru o colaborare potenial!","This project is open for further partner organizations.":"","Join Project":"Alturai-v Proiectului","Move up":"Mut n sus","Move down":"Mut n jos","There are no items yet":"Nu exist articole nc","Nothing here yet.":"","Groups and Projects":"Grupuri i Proiecte","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"Aici putei gsi o imagine de ansamblu asupra Grupurilor i Proiectelor dvs. odat ce ai activat ntr-unul sau mai multe dintre acestea.","You can create Groups or Projects via the '+' button in the header.":"Putei crea Grupuri sau Proiecte prin intermediul '+' buton n antet.","Ideas I like":"Idei mi plac","Here you can find an overview of Ideas you have liked.":"Aici putei gsi o imagine o imagine de ansamblu a Ideilor care v-au plcut.","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"Putei s v creai propriile Idei cu ajutorul butonului '+' din antet sau putei descoperi Idei existente aici","Discover":"Descoperi","We could not load more data at this time.":"Nu am putut ncrca mai multe date n acest moment.","Retry":"Rencercare"},"nl":{"Groups":"Groepen","Like":"Vind ik leuk","Group":"Groep","Title":"Titel","Workshops":"Workshops","Results":"Resultaten","Participants":"Deelnemers","Description":"Beschrijving","Project":"Project","Topics":"Onderwerpen","Likes":"Likes","User":"Gebruiker","Liked":"Ge-liked","Following":"Volgend","Events":"Evenementen","Projects":"Projecten","Event":"Evenement","Members":"Leden","Follow":"Volgen","Report offensive content":"Aanstootgevende inhoud melden","From":"Van","Until":"Tot","Contact":"Contact","Send Message":"Bericht versturen","Invitations":"Uitnodigingen","You will now receive notifications for content posted in this project.":"Je ontvangt nu meldingen wanneer inhoud in dit project wordt geplaatst.","You will now receive notifications for content posted in this group.":"Je ontvangt nu meldingen wanneer inhoud in deze groep wordt geplaatst.","Sustainable Development Goals":"Doelstellingen duurzame ontwikeling","Membership request pending...":"Lidmaatschapsverzoek in behandeling","You are invited!":"Je bent uitgenodigd!","All Groups":"Alle groepen","All Projects":"Alle projecten","Organizations":"Organisaties","Create Idea":"Idee aanmaken","People":"Mensen","My Groups":"Mijn groepen","My Projects":"Mijn projecten","Ideas":"Ideen","My Ideas":"Mijn ideen","All Ideas":"Alle ideen","My Organizations":"Mijn organisaties","All Organizations":"Alle organisaties","My Users":"Mijn gebruikers","My Events":"Mijn evenementen","All Users":"Alle gebruikers","All Events":"Alle evenementen","Idea":"Idee","Organization":"Organisatie","Create User":"Gebruiker aanmaken","Create Event":"Evenement aanmaken","Create Project":"Project aanmaken","Create Group":"Groep aanmaken","Create Organization":"Organisatie aanmaken","Categories":"","SDGS":"SDGS","Search for Names, Topics and Places...":"Zoeken naar namen, onderwerpen en plaatsen","Search for Names and Topics...":"Zoeken naar namen en onderwerpen","Where":"Waar","In map area":"In kaartgebied","If active, searching will be restricted to the visible map area.":"Indien actief, wordt zoeken beperkt tot het zichtbare kaartgebied.","Apply Filters":"Filters toepassen","Clear Filters":"Filters wissen","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"Straat","Create idea":"Idee aanmaken","Next":"Volgende","Choose a location for your idea by dragging the marker!":"Kies een locatie voor je idee door de markering te slepen!","of":"uit","No results found.":"Geen resultaten gevonden.","Could not complete the search due to an error.":"Kan de zoekopdracht niet voltooien vanwege een fout.","Search when moving the map":"Zoeken door het verplaatsen van de kaart","Search this area":"Zoeken in dit gebied","Find partners":"","Membership Requests":"Lidmaatschapsverzoek","My Groups and Projects":"Mijn groepen en projecten","Show more Projects of this Group":"Toon meer projecten van deze groep","You are not in any groups or projects yet":"Je zit nog niet in groepen of projecten","Create new Group":"Nieuwe groep aanmaken","Create new Project":"Nieuw project aanmaken","Browse all Groups":"Blader door alle groepen","Browse all Projects":"Blader door alle projecten","You have not created any organizations yet.":"Je hebt niet ge-RSVPED op evenementen.","Create new Organization":"Nieuwe organisatie aanmaken","Browse all Organizations":"Blader door alle organisaties","Search for Organizations":"Zoek naar organisaties","Ideas I am following":"Ideen die ik volg","You are not following any ideas yet.":"Je volgt nog geen ideen.","Post new Idea":"Nieuw idee posten","Browse all Ideas":"Blader door alle ideen","Search for Ideas":"Zoek naar ideen","You have not RSVPed to any Events.":"Je hebt niet ge-RSVPED op evenementen.","Add Event":"Evenement toevoegen","Go to Calendar":"Ga naar kalender","There was an error loading the widget":"Er is een fout opgetreden bij het laden van de widget","Notifications":"Notificaties","Show more":"Toon meer","No current notifications":"Momenteel geen notificaties","Find on map:":"","Entire Network":"Volledig netwerk","On the Map":"Op de kaart","In my Groups and Projects":"In mijn groepen en projecten","Topic":"Onderwerp","SDG":"SDG","from":"","You":"Jij","Projects/Groups":"Projecten/groepen","No info.":"Geen informatie.","Administrator":"Beheerder","Administrators":"Beheerders","Administrators unknown":"Beheerders onbekend","No description yet.":"Nog geen beschrijving.","max.":"","If you do not want notifications, click the unfollow button!":"Als je geen meldingen wilt ontvangen, klik je op de knop niet meer volgen!","Could not save your like setting because of an error.":"Kan je like-instelling niet opslaan vanwege een fout.","Could not save your follow setting because of an error.":"Kan je volginstelling niet opslaan vanwege een fout.","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"Kies een locatie voor je idee door de markering te slepen en neer te zetten. Je kunt deze locatie later nog wijzigen.","Back to location selection":"Terug naar locatie selectie","Protected Content":"Beschermde inhoud","Sorry, but you cannot view details for this content.":"Sorry, je kunt geen details bekijken voor deze inhoud.","This can happen when its visibility settings have changed recently.":"Dit kan gebeuren wanneer de zichtbaarheidsinstellingen onlangs zijn gewijzigd.","Please register or log in to continue!":"Registreer of log in om door te gaan!","Error!":"Foutmelding!","Sorry, but the requested content could not be retrieved from the server.":"Sorry, de gevraagde inhoud kon helaas niet worden opgehaald van de server.","Visit Event Page":"Bezoek evenementenpagina","You will now receive notifications for comments or when this event is updated or its details change.":"Je ontvangt nu meldingen voor reacties of wanneer dit evenement wordt bijgewerkt of de details ervan veranderen.","Hidden Users":"Verborgen gebruikers","Hidden User":"Verborgen gebruiker","This group is open for further partner organizations.":"","You are a Member":"Je bent lid","Join Group":"Deelnemen aan groep","Author":"Auteur","Create Project from Idea":"Maak project aan van idee","Edit your Idea":"Wijzig je idee","You will receive a notification when a project is created from your liked idea.":"Je ontvangt een melding wanneer een project wordt gemaakt op basis van je idee.","Projects - Created from this Idea":"Projecten - gemaakt van dit idee","This organization is open for further partner organizations.":"","You are a Admin":"Je bent beheerder","Open to be contacted about potential collaboration opportunities":"Open om gecontacteerd te worden over mogelijke samenwerkingsmogelijkheden","Does NOT wish to be contacted for potential collaboration!":"Wenst NIET gecontacteerd te worden voor mogelijke samenwerking!","This project is open for further partner organizations.":"","Join Project":"Meedoen aan project","Move up":"Omhoog","Move down":"Omlaag","There are no items yet":"Er zijn nog geen items","Nothing here yet.":"","Groups and Projects":"Groepen en projecten","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"Hier vind je een overzicht van je groepen en projecten zodra je in een of meer actief wordt.","You can create Groups or Projects via the '+' button in the header.":"Je kunt groepen of projecten maken via de knop + in de header.","Ideas I like":"Ideen die ik leuk vind","Here you can find an overview of Ideas you have liked.":"Hier vind je een overzicht van ideen die je leuk vindt.","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"Je kunt je eigen ideen maken via de knop + in de header of je kunt hier bestaande ideen ontdekken","Discover":"Ontdekken","We could not load more data at this time.":"We kunnen momenteel geen gegevens meer laden.","Retry":"Opnieuw proberen"},"az":{"Groups":"Qruplar","Like":"Bynm","Group":"Qrup","Title":"Balq","Workshops":"","Results":"Nticlr","Participants":"tiraklar","Description":"Tsvir","Project":"Layih","Topics":"Mvzular","Likes":"Bynmlr","User":"stifadi","Liked":"Bynilmilr","Following":"Aadak","Events":"Tdbirlr","Projects":"Layihlr","Event":"Tdbir","Members":"zvlr","Follow":"zl","Report offensive content":"Thqiramiz mzmunu bildirin","From":"Dan/dn","Until":"Qdr","Contact":"laq","Send Message":"Mesaj Gndrin","Invitations":"Dvtlr","You will now receive notifications for content posted in this project.":"ndi bu layihd yerldiriln mzmun n bildirilr alacaqsnz.","You will now receive notifications for content posted in this group.":"ndi bu qrupda yerldiriln mzmun n bildirilr alacaqsnz.","Sustainable Development Goals":"","Membership request pending...":"zvlk tlbi gzlyir...","You are invited!":"Siz dvtlisiniz!","All Groups":"Btn qruplar","All Projects":"Btn layihlr","Create Idea":"dea Yaradn","People":"nsanlar","My Groups":"Mnim Qrupum","My Projects":"Mnim layihlrim","Ideas":"deyalar","My Ideas":"Mnim deyalarm","All Ideas":"Btn deyalar","My Organizations":"","All Organizations":"","Include contents from other platforms":"","My Users":"stifadilrim","My Events":"Tdbirlrim","All Users":"Btn istifadilr","All Events":"Btn Tdbirlr","Idea":"deya","Create User":"stifadi Yaradn","Create Event":"Tdbir Yaradn","Create Project":"Layih Yaradn","Create Group":"Qrup Yaradn","Categories":"","SDGS":"","Search for Names, Topics and Places...":"Adlar, mvzular v Yerlr n axtar...","Search for Names and Topics...":"Adlar v mvzular n axtar...","Where":"Hara","In map area":"Xrit blgsind","If active, searching will be restricted to the visible map area.":"Aktiv olduqda, grnn xrit sahsi il mhdudlaacaqdr.","Apply Filters":"Filtrlr ttbiq edin","Clear Filters":"Filtrlri tmizlyin","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"K","Create idea":"dea Yaradn","Next":"Nvbti","Choose a location for your idea by dragging the marker!":"Markeri srdrrk ideyanz n bir dislokasiya sein!","of":"n/in/n/un","No results found.":"He bir ntic taplmad.","Could not complete the search due to an error.":"Shv sbbindn axtar baa atdrla bilmdi.","Search when moving the map":"Xritni hrkt edrkn axtarn","Search this area":"Bu razini aradrn","Find partners":"","Membership Requests":"zvlk stklri","My Groups and Projects":"Qruplarm v Layihlrim","Show more Projects of this Group":"Bu Qrupun Layihlrini daha ox gstr","You are not in any groups or projects yet":"Hl he bir qrupda v ya layihd deyilsiniz","Create new Group":"Yeni Qrup Yaradn","Create new Project":"Yeni Layih Yaradn","Browse all Groups":"Btn Qruplar gstrin","Browse all Projects":"Btn Layihlri gstrin","Ideas I am following":"zldiyim deyalar","You are not following any ideas yet.":"Hl he bir ideya izlmirsiniz.","Post new Idea":"Yeni deya gndrin","Browse all Ideas":"Btn deyalar gstrin","Search for Ideas":"deyalar n Axtar","You have not RSVPed to any Events.":"He bir Tdbir dvtin cavab vermmisiniz.","Add Event":"Tdbir lav et","Go to Calendar":"Tqvim get","There was an error loading the widget":"Widjet yklnrkn xta ba verdi","Notifications":"Bildirilr","Show more":"Daha ox gstr","No current notifications":"Cari bildiri yoxdur","Find on map:":"","Entire Network":"Btn bk","On the Map":"Xritd","In my Groups and Projects":"In my Groups and Projects","Topic":"Mvzu","SDG":"","from":"","You":"Sn","Projects/Groups":"Layihlr/Qruplar","No info.":"Mlumat yoxdur.","Administrator":"Admin","Administrators":"Adminlr","Administrators unknown":"Namlum adminlr","No description yet.":"Hl tsvir yoxdur.","max.":"","If you do not want notifications, click the unfollow button!":"Bildirilr almaq istmirsinizs, izlmni dayandr dymsin kliklyin!","Could not save your like setting because of an error.":"Xta sbbindn bynm parametrinizi yaddada saxlaya bilmdik.","Could not save your follow setting because of an error.":"Xta sbbindn izlm parametrinizi yaddada saxlaya bilmdik.","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"Markeri sryb ataraq ideyalarnz n bir dislokasiya sein. Daha sonra bu yeri dyi bilrsiniz.","Back to location selection":"Dislokasiya seimin qayt","Protected Content":"Qorunan Mzmun","Sorry, but you cannot view details for this content.":"Balayn, lakin bu mzmun n tfrratlar gr bilmzsiniz.","This can happen when its visibility settings have changed recently.":"Grm parametrlri yaxn zamanda dyidikd bu ba ver bilr.","Please register or log in to continue!":"Xahi edirm qeydiyyatdan kein v ya davam etmk n daxil olun!","Error!":"Xta!","Sorry, but the requested content could not be retrieved from the server.":"Balayn, ancaq tlb olunan mzmunu serverdn almaq mmkn olmad.","Visit Event Page":"Tdbir Shifsin ba kin","You will now receive notifications for comments or when this event is updated or its details change.":"ndi rhlr n v ya bu tdbir yenilndikd v ya detallar dyidikd bildirilr alacaqsnz.","Hidden Users":"Gizli stifadilr","Hidden User":"Gizli stifadi","This group is open for further partner organizations.":"","You are a Member":"Siz zvsnz","Join Group":"Qrupa Qoulun","Author":"Mllif","Create Project from Idea":"deayadan Layih Yaradn","Edit your Idea":"deaynz redakt edin","You will receive a notification when a project is created from your liked idea.":"Byndiyiniz ideyalardan bir layih yaradldqda bir bildiri alacaqsnz.","Projects - Created from this Idea":"Layihlr - Bu deyadan yaradlb","This organization is open for further partner organizations.":"","Open to be contacted about potential collaboration opportunities":"Potensial mkdalq imkanlar n laq qurmaa aq olun","Does NOT wish to be contacted for potential collaboration!":"Potensial mkdalq n laq qurmaq STMR!","This project is open for further partner organizations.":"","Join Project":"Layihy qoulun","Move up":"Yuxarya doru hrkt edin","Move down":"Aaya doru hrkt edin","There are no items yet":"Hllik yalar yoxdur","Nothing here yet.":"","Groups and Projects":"Qruplar v Layihlr","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"Qruplarnz v Layihlrinizin icmaln bunlardan birind v ya bir nesind fal olduqdan sonra tapa bilrsiniz.","You can create Groups or Projects via the '+' button in the header.":"Balqdak '+' dymsin vasitsil Qruplar v ya Layihlr yarada bilrsiniz.","Ideas I like":"Byndiyim ideyalar","Here you can find an overview of Ideas you have liked.":"Burada byndiyiniz ideyalarn mumi icmaln tapa bilrsiniz.","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"Balqdak '+' dymsin il z deyalarnz yarada bilrsiniz v ya mvcud deyalar burada akar ed bilrsiniz","Discover":"Akar etmk","We could not load more data at this time.":"Bu anda daha ox mlumat ykly bilmdik.","Retry":"Yenidn chd edin"},"hy":{"Groups":"","Like":"","Group":"","Title":"","Workshops":"","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"","Liked":"","Following":" ","Events":"","Projects":"","Event":"","Members":"","Follow":"","Report offensive content":"   ","From":"","Until":"","Contact":"","Send Message":" ","Invitations":"","You will now receive notifications for content posted in this project.":"        .","You will now receive notifications for content posted in this group.":"        .","Sustainable Development Goals":"","Membership request pending...":"     ...","You are invited!":"  !","All Groups":" ","All Projects":" ","Create Idea":" ","People":"","My Groups":" ","My Projects":" ","Ideas":"","My Ideas":" ","All Ideas":" ","My Organizations":"","All Organizations":"","Include contents from other platforms":"","My Users":" ","My Events":" ","All Users":" ","All Events":" ","Idea":"","Create User":" ","Create Event":" ","Create Project":" ","Create Group":" ","Categories":"","SDGS":"","Search for Names, Topics and Places...":" ,    ...","Search for Names and Topics...":"    ...","Where":"","In map area":" ","If active, searching will be restricted to the visible map area.":"       .","Apply Filters":" ","Clear Filters":" ","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":"      !","of":"-","No results found.":"    .","Could not complete the search due to an error.":"    .","Search when moving the map":"  ","Search this area":"  ","Find partners":"","Membership Requests":" ","My Groups and Projects":"   ","Show more Projects of this Group":"     ","You are not in any groups or projects yet":"       ","Create new Group":"  ","Create new Project":"  ","Browse all Groups":"  ","Browse all Projects":"  ","Ideas I am following":",    ","You are not following any ideas yet.":"      .","Post new Idea":"  ","Browse all Ideas":"  ","Search for Ideas":" ","You have not RSVPed to any Events.":"   RSVP  .","Add Event":" ","Go to Calendar":" ","There was an error loading the widget":"    ","Notifications":"","Show more":" ","No current notifications":"  ","Find on map:":"","Entire Network":" ","On the Map":" ","In my Groups and Projects":"  / ","Topic":"","SDG":"","from":"","You":"","Projects/Groups":" / ","No info.":" .","Administrator":"","Administrators":"","Administrators unknown":"  ","No description yet.":"  .","max.":"","If you do not want notifications, click the unfollow button!":"     ,  unfollow !","Could not save your like setting because of an error.":"     .","Could not save your follow setting because of an error.":"     .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"       :          .","Back to location selection":"   ","Protected Content":" ","Sorry, but you cannot view details for this content.":",        .","This can happen when its visibility settings have changed recently.":"      ,        .","Please register or log in to continue!":"        !","Error!":"!","Sorry, but the requested content could not be retrieved from the server.":",       .","Visit Event Page":"  ","You will now receive notifications for comments or when this event is updated or its details change.":"     ,         .","Hidden Users":" ","Hidden User":" ","This group is open for further partner organizations.":"","You are a Member":"  ","Join Group":" ","Author":"","Create Project from Idea":"  ","Edit your Idea":"  ","You will receive a notification when a project is created from your liked idea.":"  ,      .","Projects - Created from this Idea":" -   ","This organization is open for further partner organizations.":"","Open to be contacted about potential collaboration opportunities":"     ","Does NOT wish to be contacted for potential collaboration!":"     !","This project is open for further partner organizations.":"","Join Project":" ","Move up":"","Move down":"","There are no items yet":"  ","Nothing here yet.":"","Groups and Projects":"  ","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"                  .","You can create Groups or Projects via the '+' button in the header.":"         '+'  .","Ideas I like":"  ","Here you can find an overview of Ideas you have liked.":"       .","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"          +        ","Discover":"","We could not load more data at this time.":"       .","Retry":" "},"ka":{"Groups":"","Like":"","Group":"","Title":"","Workshops":"","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"","Liked":"","Following":"","Events":"","Projects":"","Event":"","Members":"","Follow":" ","Report offensive content":"  ","From":"","Until":"","Contact":"","Send Message":" ","Invitations":"","You will now receive notifications for content posted in this project.":"       .","You will now receive notifications for content posted in this group.":"       .","Sustainable Development Goals":"","Membership request pending...":"  ...","You are invited!":"  !","All Groups":" ","All Projects":" ","Create Idea":" ","People":"","My Groups":" ","My Projects":" ","Ideas":"","My Ideas":" ","All Ideas":" ","My Organizations":"","All Organizations":"","Include contents from other platforms":"","My Users":" ","My Events":" ","All Users":" ","All Events":" ","Idea":"","Create User":" ","Create Event":" ","Create Project":" ","Create Group":" ","Categories":"","SDGS":"","Search for Names, Topics and Places...":",    ...","Search for Names and Topics...":"   ...","Where":"","In map area":" ","If active, searching will be restricted to the visible map area.":" ,      .","Apply Filters":" ","Clear Filters":" ","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":"      !","No results found.":"  .","Could not complete the search due to an error.":"     .","Search when moving the map":"  ","Search this area":"  ","Find partners":"","Membership Requests":" ","My Groups and Projects":"   ","Show more Projects of this Group":"    ","You are not in any groups or projects yet":"       ","Create new Group":"  ","Create new Project":"  ","Browse all Groups":"  ","Browse all Projects":"  ","Ideas I am following":"   ","You are not following any ideas yet.":"     .","Post new Idea":"  ","Browse all Ideas":"  ","Search for Ideas":" ","You have not RSVPed to any Events.":"   RSVPed  .","Add Event":" ","Go to Calendar":" ","There was an error loading the widget":"   ","Notifications":"","Show more":" ","No current notifications":" ","Find on map:":"","Entire Network":" ","On the Map":"","In my Groups and Projects":"   ","Topic":"","SDG":"","from":"","You":"","Projects/Groups":"/","No info.":"  .","Administrator":"","Administrators":"","Administrators unknown":"   ","No description yet.":"   .","max.":"","If you do not want notifications, click the unfollow button!":"    ,    !","Could not save your like setting because of an error.":" ,      .","Could not save your follow setting because of an error.":" ,      .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"      .     .","Back to location selection":"  ","Protected Content":" ","Sorry, but you cannot view details for this content.":" ,        .","This can happen when its visibility settings have changed recently.":"  ,       .","Please register or log in to continue!":",    !","Error!":"!","Sorry, but the requested content could not be retrieved from the server.":" ,     .","Visit Event Page":"  ","You will now receive notifications for comments or when this event is updated or its details change.":"    . ,        .","Hidden Users":" ","Hidden User":" ","This group is open for further partner organizations.":"","You are a Member":"  ","Join Group":" ","Author":"","Create Project from Idea":"  ","Edit your Idea":"  ","You will receive a notification when a project is created from your liked idea.":"  ,       .","Projects - Created from this Idea":" -   ","This organization is open for further partner organizations.":"","Open to be contacted about potential collaboration opportunities":",      ","Does NOT wish to be contacted for potential collaboration!":"    !","This project is open for further partner organizations.":"","Join Project":" ","Move up":"","Move down":"","There are no items yet":"   ","Nothing here yet.":"","Groups and Projects":"  ","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"       ,      -  .","You can create Groups or Projects via the '+' button in the header.":"      '+'   .","Ideas I like":",   ","Here you can find an overview of Ideas you have liked.":"       .","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"      '+'       ","Discover":"","We could not load more data at this time.":"      .","Retry":""},"kk":{"Groups":"","Like":"","Group":"","Title":"","Workshops":"","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"","Liked":"","Following":"","Events":"","Projects":"","Event":"","Members":"","Follow":"","Report offensive content":" ","From":"","Until":"","Contact":"","Send Message":"X ","Invitations":"","You will now receive notifications for content posted in this project.":"       .","You will now receive notifications for content posted in this group.":"       .","Sustainable Development Goals":"","Membership request pending...":"  .","You are invited!":" !","All Groups":" ","All Projects":" ","Create Idea":" ","People":"","My Groups":" ","My Projects":" ","Ideas":"","My Ideas":" ","All Ideas":" ","My Organizations":"","All Organizations":"","Include contents from other platforms":"","My Users":" ","My Events":" ","All Users":" ","All Events":" ","Idea":"","Create User":" ","Create Event":" ","Create Project":" ","Create Group":" ","Categories":"","SDGS":"","Search for Names, Topics and Places...":",    .","Search for Names and Topics...":"   .","Where":"","In map area":"","If active, searching will be restricted to the visible map area.":" ,     .","Apply Filters":" ","Clear Filters":"  ","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":" ,    !","of":"","No results found.":" .","Could not complete the search due to an error.":"     .","Search when moving the map":"  ","Search this area":"  ","Find partners":"","Membership Requests":" ","My Groups and Projects":"   ","Show more Projects of this Group":"    ","You are not in any groups or projects yet":"      ","Create new Group":"  ","Create new Project":"  ","Browse all Groups":"  ","Browse all Projects":"  ","Ideas I am following":"  ","You are not following any ideas yet.":"    .","Post new Idea":"  ","Browse all Ideas":"  ","Search for Ideas":" ","You have not RSVPed to any Events.":"    .","Add Event":" ","Go to Calendar":" ","There was an error loading the widget":"     ","Notifications":"","Show more":" ","No current notifications":" ","Find on map:":"","Entire Network":" ","On the Map":"","In my Groups and Projects":"   ","Topic":"","SDG":"","from":"","You":"","Projects/Groups":"/","No info.":" .","Administrator":"","Administrators":"","Administrators unknown":" ","No description yet.":" .","max.":"","If you do not want notifications, click the unfollow button!":"    ,    !","Could not save your like setting because of an error.":" ,     .","Could not save your follow setting because of an error.":"      .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"       .      .","Back to location selection":"  ","Protected Content":" ","Sorry, but you cannot view details for this content.":",        .","This can happen when its visibility settings have changed recently.":"         .","Please register or log in to continue!":"    !","Error!":"!","Sorry, but the requested content could not be retrieved from the server.":",      .","Visit Event Page":" ","You will now receive notifications for comments or when this event is updated or its details change.":"              .","Hidden Users":" ","Hidden User":" ","This group is open for further partner organizations.":"","You are a Member":" ","Join Group":" ","Author":"","Create Project from Idea":"  ","Edit your Idea":" ","You will receive a notification when a project is created from your liked idea.":"        .","Projects - Created from this Idea":" -   ","This organization is open for further partner organizations.":"","Open to be contacted about potential collaboration opportunities":"     ","Does NOT wish to be contacted for potential collaboration!":"    !","This project is open for further partner organizations.":"","Join Project":" ","Move up":" ","Move down":" ","There are no items yet":"    ","Nothing here yet.":"","Groups and Projects":"  ","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"             .","You can create Groups or Projects via the '+' button in the header.":" +        .","Ideas I like":"  ","Here you can find an overview of Ideas you have liked.":"      .","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":" +             ","Discover":" ","We could not load more data at this time.":"      .","Retry":""},"he":{"Groups":"","Like":"","Group":"","Title":"","Workshops":"","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"","Liked":"","Following":"","Events":"","Projects":"","Event":"","Members":"","Follow":"","Conference Applications":"  ","Report offensive content":"   ","From":"","Until":"","website":" ","Contact":"  ","Send Message":" ","Invitations":"","You will now receive notifications for content posted in this project.":"       .","You will now receive notifications for content posted in this group.":"       .","Sustainable Development Goals":"   ","Membership request pending...":"  ...","You are invited!":"!","All Groups":" ","All Projects":" ","Organizations":"","Create Idea":" ","People":"","My Groups":" ","My Projects":" ","Ideas":"","My Ideas":" ","All Ideas":" ","My Organizations":" ","All Organizations":" ","My Users":" ","My Events":" ","My Cloud Files":"  ","All Users":" ","All Events":" ","Cloud Files":" ","Idea":"","Organization":"","Cloud File":" ","Create User":" ","Create Event":" ","Create Project":" ","Create Group":" ","Create Organization":" ","Categories":"","SDGS":"   ","Search for Names, Topics and Places...":" ,  ...","Search for Names and Topics...":"  ...","Where":"","In map area":" ","If active, searching will be restricted to the visible map area.":"  ,      .","Apply Filters":" ","Clear Filters":" ","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":"     -  !","of":"","No results found.":"  .","Could not complete the search due to an error.":"       .","Search when moving the map":"   ","Search this area":"  ","Find partners":"","Membership Requests":" ","My Groups and Projects":"  ","Show more Projects of this Group":"     ","You are not in any groups or projects yet":"       ","Create new Group":"  ","Create new Project":"  ","Browse all Groups":"  ","Browse all Projects":"  ","You have not created any organizations yet.":"  .","Create new Organization":"  ","Browse all Organizations":"  ","Search for Organizations":" ","Ideas I am following":"   ","You are not following any ideas yet.":"     .","Post new Idea":"  ","Browse all Ideas":"  ","Search for Ideas":" ","You have not RSVPed to any Events.":"  RSVPed  .","Add Event":" ","Go to Calendar":"   ","There was an error loading the widget":"   ","Notifications":"","Show more":" ","No current notifications":" ","Find on map:":"","Entire Network":" ","On the Map":" ","In my Groups and Projects":"  ","In my Cloud Files":"  ","Topic":"","SDG":"   ","from":"","You":"/","Projects/Groups":"/","No info.":" .","Administrator":" ","Administrators":" ","Administrators unknown":"   ","No description yet.":"  .","max.":".","You are participating":"  ","Participation request pending...":"  ...","Participate":"","You will now receive notifications for content posted.":"     .","If you do not want notifications, click the unfollow button!":"    ,     !","Could not save your like setting because of an error.":"      -like   .","Could not save your follow setting because of an error.":"        .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"     -   .       .","Back to location selection":"  ","Protected Content":" ","Sorry, but you cannot view details for this content.":",       .","This can happen when its visibility settings have changed recently.":"        .","Please register or log in to continue!":"     !","Error!":"!","Sorry, but the requested content could not be retrieved from the server.":",         .","Visit Event Page":"  ","You will now receive notifications for comments or when this event is updated or its details change.":"    ,    .","Hidden Users":" ","Hidden User":" ","This group is open for further partner organizations.":"","You are a Member":" ","Join Group":" ","Author":"","Create Project from Idea":"  ","Edit your Idea":"   ","You will receive a notification when a project is created from your liked idea.":"      .","Projects - Created from this Idea":"   ","This organization is open for further partner organizations.":"","You are a Admin":"  ","Ownership request pending...":"  ...","Projects and groups":" ","Project/group":"/","Open to be contacted about potential collaboration opportunities":"       ","Does NOT wish to be contacted for potential collaboration!":"        !","This project is open for further partner organizations.":"","Join Project":" ","Move up":" ","Move down":" ","There are no items yet":"  ","Items you follow":"   ","Nothing here yet.":"  .","Groups and Projects":" ","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"              .","You can create Groups or Projects via the '+' button in the header.":"       '+'  .","Ideas I like":"  /","Here you can find an overview of Ideas you have liked.":"       .","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"      '+'       ","Discover":"/","We could not load more data at this time.":"        .","Retry":" "},"ar":{"Groups":"","Like":"","Group":"","Title":"","Workshops":" ","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"","Events":"","Projects":"","Event":"","Members":"","Follow":"","Conference Applications":" ","Report offensive content":"   ","From":"","Until":"","Contact":"","Send Message":" ","Invitations":"","You will now receive notifications for content posted in this project.":"       .","You will now receive notifications for content posted in this group.":"       .","Sustainable Development Goals":"  ","Membership request pending...":"  ...","You are invited!":" !","All Groups":" ","All Projects":" ","Organizations":"","Create Idea":" ","People":"","My Groups":"","My Projects":"","Ideas":"","My Ideas":"","All Ideas":" ","My Organizations":"","All Organizations":" ","My Users":" ","My Events":" ","My Cloud Files":"  ","All Users":" ","All Events":" ","Cloud Files":" ","Idea":"","Organization":"","Cloud File":" ","Create User":" ","Create Event":" ","Create Project":" ","Create Group":" ","Create Organization":" ","Categories":"","SDGS":"   SDGS","Search for Names, Topics and Places...":"    ...","Search for Names and Topics...":"   ...","Where":"","In map area":"  ","If active, searching will be restricted to the visible map area.":"        .","Apply Filters":"   ","Clear Filters":"   ","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":"      !","of":"","No results found.":"    .","Could not complete the search due to an error.":"    .","Search when moving the map":"   ","Search this area":"   ","Find partners":"","Membership Requests":" ","My Groups and Projects":" ","Show more Projects of this Group":"     ","You are not in any groups or projects yet":"        ","Create new Group":"  ","Create new Project":"  ","Browse all Groups":"  ","Browse all Projects":"  ","You have not created any organizations yet.":"        .","Create new Organization":"  ","Browse all Organizations":"  ","Search for Organizations":"  ","Ideas I am following":"  ","You are not following any ideas yet.":"      .","Post new Idea":"  ","Browse all Ideas":"  ","Search for Ideas":"  ","You have not RSVPed to any Events.":"        .","Add Event":" ","Go to Calendar":"  ","There was an error loading the widget":"    ","Notifications":"","Show more":" ","No current notifications":"   ","Find on map:":"","Entire Network":" ","On the Map":" ","In my Groups and Projects":"  ","In my Cloud Files":"   ","Topic":"","SDG":"   SDG","from":"","You":"","Projects/Groups":"/","No info.":" .","Administrator":"","Administrators":"","Administrators unknown":"  ","No description yet.":"    .","max.":"","You are participating":" ","Participation request pending...":"  ...","Participate":"","You will now receive notifications for content posted.":"       .","If you do not want notifications, click the unfollow button!":"         !","Could not save your like setting because of an error.":"       .","Could not save your follow setting because of an error.":"     .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"       .       .","Back to location selection":"   ","Protected Content":" ","Sorry, but you cannot view details for this content.":"       .","This can happen when its visibility settings have changed recently.":"          .","Please register or log in to continue!":"    !","Error!":"!","Sorry, but the requested content could not be retrieved from the server.":"        .","Visit Event Page":"   ","You will now receive notifications for comments or when this event is updated or its details change.":"            .","Hidden Users":" ","Hidden User":" ","This group is open for further partner organizations.":"","You are a Member":" ","Join Group":" ","Author":"","Create Project from Idea":"   ","Edit your Idea":"  ","You will receive a notification when a project is created from your liked idea.":"       .","Projects - Created from this Idea":" -      ","This organization is open for further partner organizations.":"","You are a Admin":" ","Ownership request pending...":"  ...","Projects and groups":" ","Project/group":"/","Open to be contacted about potential collaboration opportunities":"        ","Does NOT wish to be contacted for potential collaboration!":"          !","This project is open for further partner organizations.":"","Join Project":"  ","Move up":"  ","Move down":"  ","There are no items yet":"    ","Items you follow":"  ","Nothing here yet.":"    .","Groups and Projects":" ","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"                 .","You can create Groups or Projects via the '+' button in the header.":"       \"+\"  .","Ideas I like":"   ","Here you can find an overview of Ideas you have liked.":"         .","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"       \"+\"        ","Discover":"","We could not load more data at this time.":"         .","Retry":" "},"el":{"Groups":"","Like":" ","Group":"","Title":"","Workshops":"","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":" ","User":"","Liked":" ","Following":"","Events":"","Projects":"","Event":"","Members":"","Follow":"","Conference Applications":" ","Report offensive content":"  ","From":"","Until":"","website":"","Contact":"","Send Message":" ","Invitations":"","You will now receive notifications for content posted in this project.":"           .","You will now receive notifications for content posted in this group.":"           .","Sustainable Development Goals":"  ","Membership request pending...":"  ...","You are invited!":" !","All Groups":"  ","All Projects":"  ","Organizations":"","Create Idea":" ","People":"","My Groups":"  ","My Projects":"  ","Ideas":"","My Ideas":"  ","All Ideas":"  ","My Organizations":"  ","All Organizations":"  ","My Users":"  ","My Events":"  ","My Cloud Files":"  Cloud","All Users":"  ","All Events":"  ","Cloud Files":" Cloud","Idea":"","Organization":"","Cloud File":" Cloud","Create User":" ","Create Event":" ","Create Project":" ","Create Group":" ","Create Organization":" ","Categories":"","SDGS":"SDGS","Search for Names, Topics and Places...":"  ,   ...","Search for Names and Topics...":"    ...","Where":"","In map area":"   ","If active, searching will be restricted to the visible map area.":"  ,         .","Apply Filters":" ","Clear Filters":" ","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":"         !","of":"","No results found.":"  .","Could not complete the search due to an error.":"        .","Search when moving the map":"     ","Search this area":"   ","Find partners":"","Membership Requests":" ","My Groups and Projects":"     ","Show more Projects of this Group":"     ","You are not in any groups or projects yet":"       ","Create new Group":"  ","Create new Project":"  ","Browse all Groups":"    ","Browse all Projects":"    ","You have not created any organizations yet.":"    .","Create new Organization":"  ","Browse all Organizations":"    ","Search for Organizations":"  ","Ideas I am following":"  ","You are not following any ideas yet.":"    .","Post new Idea":"  ","Browse all Ideas":"    ","Search for Ideas":"  ","You have not RSVPed to any Events.":"      .","Add Event":" ","Go to Calendar":"  ","There was an error loading the widget":"      widget","Notifications":"","Show more":" ","No current notifications":"  ","Find on map:":"","Entire Network":" ","On the Map":" ","In my Groups and Projects":"    ","In my Cloud Files":"  Cloud","Topic":"","SDG":"SDG","from":"","You":"","Projects/Groups":"/","No info.":" ","Administrator":"","Administrators":"","Administrators unknown":" ","No description yet.":"  .","max.":"","You are participating":"","Participation request pending...":"  ...","Participate":"","You will now receive notifications for content posted.":"       .","If you do not want notifications, click the unfollow button!":"     ,         !","Could not save your like setting because of an error.":"       \" \"  .","Could not save your follow setting because of an error.":"       \"\"  .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"          .        .","Back to location selection":"   ","Protected Content":" ","Sorry, but you cannot view details for this content.":"           .","This can happen when its visibility settings have changed recently.":"          .","Please register or log in to continue!":"     !","Error!":"!","Sorry, but the requested content could not be retrieved from the server.":"             .","Visit Event Page":"  ","You will now receive notifications for comments or when this event is updated or its details change.":"                .","Hidden Users":" ","Hidden User":" ","This group is open for further partner organizations.":"","You are a Member":" ","Join Group":"  ","Author":"","Create Project from Idea":"   ","Edit your Idea":"   ","You will receive a notification when a project is created from your liked idea.":"            .","Projects - Created from this Idea":"      ","This organization is open for further partner organizations.":"","You are a Admin":" ","Ownership request pending...":"  ...","Projects and groups":"  ","Project/group":"/","Open to be contacted about potential collaboration opportunities":"      ","Does NOT wish to be contacted for potential collaboration!":"      !","This project is open for further partner organizations.":"","Join Project":"  ","Move up":" ","Move down":" ","There are no items yet":"   ","Items you follow":"  ","Nothing here yet.":"    .","Groups and Projects":"  ","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"                    .","You can create Groups or Projects via the '+' button in the header.":"         \"+\"  .","Ideas I like":"   ","Here you can find an overview of Ideas you have liked.":"          .","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"          \"+\"         ","Discover":"","We could not load more data at this time.":"        .","Retry":"  "},"fa":{"Groups":"","Group":"","Title":"","Workshops":"","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"","Liked":"","Following":"","Events":"","Projects":"","Event":"","Members":"","Follow":"","Conference Applications":"","Report offensive content":"","From":"","Until":"","website":"","Contact":"","Send Message":"","Invitations":"","You will now receive notifications for content posted in this project.":"","You will now receive notifications for content posted in this group.":"","Sustainable Development Goals":"","Contact Project Admins":"","Contact Group Admins":"","Membership request pending...":"","You are invited!":"","All Groups":"","All Projects":"","Organizations":"","Create Idea":"","People":"","My Groups":"","My Projects":"","Ideas":"","My Ideas":"","All Ideas":"","My Organizations":"","All Organizations":"","External contents":"","Include contents from other platforms":"","My Users":"","My Events":"","My Cloud Files":"","All Users":"","All Events":"","Cloud Files":"","Idea":"","Organization":"","Cloud File":"","Create User":"","Create Event":"","Create Project":"","Create Group":"","Create Organization":"","Categories":"","SDGS":"","Search for Names, Topics and Places...":"","Search for Names and Topics...":"","Where":"","In map area":"","If active, searching will be restricted to the visible map area.":"","Apply Filters":"","Clear Filters":"","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"","Create idea":"","Next":"","Choose a location for your idea by dragging the marker!":"","of":"","No results found.":"","Could not complete the search due to an error.":"","Search when moving the map":"","Search this area":"","Find partners":"","Membership Requests":"","My Groups and Projects":"","Show more Projects of this Group":"","You are not in any groups or projects yet":"","Create new Group":"","Create new Project":"","Browse all Groups":"","Browse all Projects":"","You have not created any organizations yet.":"","Create new Organization":"","Browse all Organizations":"","Search for Organizations":"","Ideas I am following":"","You are not following any ideas yet.":"","Post new Idea":"","Browse all Ideas":"","Search for Ideas":"","You have not RSVPed to any Events.":"","Add Event":"","Go to Calendar":"","There was an error loading the widget":"","Notifications":"","Show more":"","No current notifications":"","Find on map:":"","Entire Network":"","On the Map":"","In my Groups and Projects":"","In my Cloud Files":"","Topic":"","SDG":"","from":"","You":"","Projects/Groups":"","No info.":"","Administrator":"","Administrators":"","Administrators unknown":"","No description yet.":"","max.":"","You are participating":"","Participation request pending...":"","Participate":"","You will now receive notifications for content posted.":"","If you do not want notifications, click the unfollow button!":"","Could not save your like setting because of an error.":"","Could not save your follow setting because of an error.":"","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"","Back to location selection":"","Protected Content":"","Sorry, but you cannot view details for this content.":"","This can happen when its visibility settings have changed recently.":"","Please register or log in to continue!":"","Error!":"","Sorry, but the requested content could not be retrieved from the server.":"","Visit Event Page":"","You will now receive notifications for comments or when this event is updated or its details change.":"","Hidden Users":"","Hidden User":"","This group is open for further partner organizations.":"","You are a Member":"","Join Group":"","Author":"","Create Project from Idea":"","Edit your Idea":"","You will receive a notification when a project is created from your liked idea.":"","Projects - Created from this Idea":"","This organization is open for further partner organizations.":"","You are a Admin":"","Ownership request pending...":"","Projects and groups":"","Project/group":"","Open to be contacted about potential collaboration opportunities":"","Does NOT wish to be contacted for potential collaboration!":"","To Profile":"","This project is open for further partner organizations.":"","Join Project":"","Move up":"","Move down":"","There are no items yet":"","Items you follow":"","Nothing here yet.":"","Groups and Projects":"","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"","You can create Groups or Projects via the '+' button in the header.":"","Ideas I like":"","Here you can find an overview of Ideas you have liked.":"","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"","Discover":"","Filter":"","Content from the Forum":"","Content from my Groups and Projects":"","Platform content":"","Public content":"","We could not load more data at this time.":"","Retry":""},"uz":{}}) && key in ({"en":{"Groups":"Groups","Like":"","Group":"Group","Title":"","Workshops":"","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"","Liked":"","Following":"","Events":"","Projects":"","Event":"","Members":"","Follow":"","Conference Applications":"","Last updated on: ":"","Report offensive content":"","From":"","Until":"","website":"","Contact":"","Send Message":"","Invitations":"","You will now receive notifications for content posted in this project.":"","You will now receive notifications for content posted in this group.":"","Sustainable Development Goals":"","Contact Group Admins":"","Membership request pending...":"","You are invited!":"","All Groups":"All Groups","All Projects":"All Projects","Organizations":"","People":"","My Groups":"My Groups","My Projects":"My Projects","Ideas":"","All Ideas":"","My Organizations":"","All Organizations":"","Include contents from other platforms":"","My Cloud Files":"","Cloud Files":"","Idea":"","Organization":"","Cloud File":"","Create Project":"Create Project","Create Group":"Create Group","Categories":"","SDGS":"","Search for Names, Topics and Places...":"","Search for Names and Topics...":"","Where":"","In map area":"","If active, searching will be restricted to the visible map area.":"","Apply Filters":"","Clear Filters":"","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"","Next":"","Choose a location for your idea by dragging the marker!":"","of":"","No results found.":"","Could not complete the search due to an error.":"","Search when moving the map":"","Search this area":"","Find partners":"","Membership Requests":"","You are not in any groups or projects yet":"","You have not created any organizations yet.":"","Ideas I am following":"","You are not following any ideas yet.":"","Browse all Ideas":"","You have not RSVPed to any Events.":"","Go to Calendar":"","No current notifications":"","Find on map:":"","Entire Network":"","On the Map":"","In my Cloud Files":"","Topic":"","SDG":"","from":"","You":"","No info.":"","Administrator":"","Administrators":"","Administrators unknown":"","No description yet.":"","max.":"","You are participating":"","Participation request pending...":"","Participate":"","You will now receive notifications for content posted.":"","If you do not want notifications, click the unfollow button!":"","Could not save your like setting because of an error.":"","Could not save your follow setting because of an error.":"","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"","Back to location selection":"","Sorry, but you cannot view details for this content.":"","This can happen when its visibility settings have changed recently.":"","Please register or log in to continue!":"","Error!":"","Sorry, but the requested content could not be retrieved from the server.":"","Visit Event Page":"","You will now receive notifications for comments or when this event is updated or its details change.":"","Hidden Users":"","Hidden User":"","This group is open for further partner organizations.":"","You are a Member":"","Author":"","Edit your Idea":"","You will receive a notification when a project is created from your liked idea.":"","Projects - Created from this Idea":"","This organization is open for further partner organizations.":"","You are a Admin":"","Ownership request pending...":"","Open to be contacted about potential collaboration opportunities":"","Does NOT wish to be contacted for potential collaboration!":"","This project is open for further partner organizations.":"","Move up":"","Move down":"","Items you follow":"","Nothing here yet.":"","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"","You can create Groups or Projects via the '+' button in the header.":"","Ideas I like":"","Here you can find an overview of Ideas you have liked.":"","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"","Discover":"","Filter":"","Content from the Forum":"","We could not load more data at this time.":"","Retry":""},"de":{"Groups":"Gruppen","Like":"Gefllt mir","Group":"Gruppe","Title":"Titel","Workshops":"Workshops","Results":"Ergebnisse","Participants":"Teilnehmende","Description":"Beschreibung","Project":"Projekt","Topics":"Themen","Likes":"\"Gefllt mir\"-Angaben","User":"Benutzer_in","Liked":"Gefllt dir","Following":"Gefolgt","Events":"Veranstaltungen","Projects":"Projekte","Event":"Veranstaltung","Members":"Mitglieder","Follow":"Folgen","Conference Applications":"Tagungs-Teilnahmeantrge","Created on: ":"Erstellt am: ","Last updated on: ":"Zuletzt aktualisiert am: ","Report offensive content":"Anstigen Inhalt melden","From":"Von","Until":"Bis","website":"Webseite","Contact":"Kontakt","Send Message":"Nachricht schicken","Invitations":"Einladungen","You will now receive notifications for content posted in this project.":"Du wirst jetzt Benachrichtigungen fr Inhalte in diesem Projekt erhalten.","You will now receive notifications for content posted in this group.":"Du wirst jetzt Benachrichtigungen fr Inhalte in dieser Gruppe erhalten.","Sustainable Development Goals":"Ziele fr nachhaltige Entwicklung","Contact Project Admins":"Projektadministratoren kontaktieren","Contact Group Admins":"Gruppenadministratoren kontaktieren","Contact Conference Admins":"Tagungsadministratoren kontaktieren","Membership request pending...":"Mitgliedschaft wurde beantragt...","You are invited!":"Du bist eingeladen worden!","All Groups":"Alle Gruppen","All Projects":"Alle Projekte","Organizations":"Organisationen","Create Idea":"Idee erstellen","People":"Menschen","My Groups":"Meine Gruppen","My Projects":"Meine Projekte","Ideas":"Ideen","My Ideas":"Meine Ideen","All Ideas":"Alle Ideen","My Organizations":"Meine Organisationen","All Organizations":"Alle Organisationen","External contents":"Externe Inhalte","Include contents from other platforms":"Auch Inhalte von anderen Plattformen anzeigen","My Users":"Meine Benutzer_innen","My Events":"Meine Veranstaltungen","My Cloud Files":"Meine Cloud-Dateien","All Users":"Alle Benutzer_innen","All Events":"Alle Veranstaltungen","Cloud Files":"Cloud-Dateien","Idea":"Idee","Organization":"Organisation","Cloud File":"Cloud-Dateien","Create User":"Benutzerkonto erstellen","Create Event":"Veranstaltung erstellen","Create Project":"Projekt erstellen","Create Group":"Gruppe erstellen","Create Organization":"Organisation erstellen","Categories":"Kategorien","SDGS":"SDGs","Search for Names, Topics and Places...":"Suche nach Namen, Themen und Orten...","Search for Names and Topics...":"Suche nach Namen und Themen...","Where":"Wo","In map area":"In Kartenaussschnitt","If active, searching will be restricted to the visible map area.":"Wenn aktiv wird die Suche auf die sichtbare Kartenflche beschrnkt.","Apply Filters":"Filter anwenden","Clear Filters":"Filter zurcksetzen","Show potential partners":"Potentielle Partner anzeigen","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"Hier kannst du nach Partnerorganisationen und Projekten suchen, die zur Partnerschaft offen sind. Die Ergebnisse sind so sortiert, dass Partner*innen mit vielen berschneidungen bei den Finanzierungszielen, frderfhigen Bereichen und SDGs, fr die du aktiv bist, zuerst aufgefhrt werden.","Show potential partners for ...":"Zeige potentielle Partner fr ","You're currently not member of any project, group or organization.":"Du bist derzeit kein Mitglied eines Projekts, einer Gruppe oder einer Organisation.","Street":"Straen","Create idea":"Idee erstellen","Next":"Weiter","Choose a location for your idea by dragging the marker!":"Whle einen Ort fr deine Idee indem du die Markierung in der Karte verschiebst!","of":"von","No results found.":"Keine Ergebnisse gefunden.","Could not complete the search due to an error.":"Konnte die Suche aufgrund eines Fehlers nicht abschlieen.","Search when moving the map":"Suchen wenn die Karte bewegt wird","Search this area":"In diesem Ausschnitt suchen","Find partners":"Partner finden","Membership Requests":"Mitgliedschaftsantrge","My Groups and Projects":"Meine Gruppen und Projekte","Show more Projects of this Group":"Weitere Projekte dieser Gruppe anzeigen","You are not in any groups or projects yet":"Du bist noch in keinen Gruppen oder Projekten Mitglied","Create new Group":"Neue Gruppe anlegen","Create new Project":"Neues Projekt anlegen","Browse all Groups":"Alle Gruppen anzeigen","Browse all Projects":"Alle Projekte anzeigen","You have not created any organizations yet.":"Du hast noch keine Organisationen angelegt.","Create new Organization":"Neue Organisation anlegen","Browse all Organizations":"Alle Organisationen durchsuchen","Search for Organizations":"Nach Organisation suchen","Ideas I am following":"Ideen, die mir gefallen","You are not following any ideas yet.":"Du folgst noch keine Ideen.","Post new Idea":"Neue Idee eintragen","Browse all Ideas":"Alle Ideen anzeigen","Search for Ideas":"Nach Ideen suchen","You have not RSVPed to any Events.":"Du hast bei keinen aktuellen Veranstaltungen zugesagt.","Add Event":"Veranstaltung hinzufgen","Go to Calendar":"Zum Kalender","There was an error loading the widget":"Es gab einen Fehler beim Laden der Inhalte","Notifications":"Benachrichtigungen","Show more":"Weitere anzeigen","No current notifications":"Keine aktuellen Benachrichtigungen","Find on map:":"Auf der Karte finden:","Entire Network":"Gesamtes Netzwerk","On the Map":"Auf der Karte","In my Groups and Projects":"In meinen Gruppen und Projekten","In my Cloud Files":"In meinen Cloud-Dateien","Topic":"Thema","SDG":"SDG","from":"von","You":"Du","Projects/Groups":"Projekte/Gruppen","No info.":"Keine Informationen.","Administrator":"Administrator","Administrators":"Administratoren","Administrators unknown":"Administratoren unbekannt","No description yet.":"Noch keine Beschreibung erstellt.","max.":"max.","You are participating":"Du nimmst teil","Participation request pending...":"Teilnahmeantrag luft...","Participate":"Teilnehmen","You will now receive notifications for content posted.":"Du wirst jetzt Benachrichtigungen fr neue Inhalte erhalten.","If you do not want notifications, click the unfollow button!":"Wenn du das nicht mchtest, klicke oben den Entfolgen-Button!","Could not save your like setting because of an error.":"Konnte deine \"Gefllt mir\"-Angabe aufgrund eines Fehlers nicht speichern.","Could not save your follow setting because of an error.":"Konnte deine Folgen-Einstellung aufgrund eines Fehlers nicht speichern.","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"Whle einen Ort fr deine Idee indem du die Markierung in der Karte verschiebst. Du kannst diesen Ort spter ndern.","Back to location selection":"Zurck zur Ortsauswahl","Protected Content":"Geschtzter Inhalt","Sorry, but you cannot view details for this content.":"Tut uns leid, aber du kannst keine Details dieses Inhalts sehen.","This can happen when its visibility settings have changed recently.":"Dies kann passieren, wenn die Sichtbarkeitseinstellungen des Inhalts vor Kurzem gendert wurden.","Please register or log in to continue!":"Bitte registriere dich oder log dich ein um weiterzumachen!","Error!":"Fehler!","Sorry, but the requested content could not be retrieved from the server.":"Tut uns leid, aber der gewnschte Inhalt konnte nicht vom Server geladen werden.","Visit Event Page":"Event-Seite besuchen","You will now receive notifications for comments or when this event is updated or its details change.":"Du wirst jetzt Benachrichtigungen fr Kommentare erhalten und wenn dieser Inhalt gendert wird.","Hidden Users":"Versteckte Benutzer","Hidden User":"Versteckter Benutzer","This group is open for further partner organizations.":"Diese Gruppe ist offen fr weitere Partnerorganisationen.","You are a Member":"Du bist Mitglied","Join Group":"Gruppe beitreten","Author":"Autor","Create Project from Idea":"Projekt aus Idee erstellen","Edit your Idea":"Deine Idee bearbeiten","You will receive a notification when a project is created from your liked idea.":"Du erhltst eine Benachrichtigung, wenn ein Projekt aus dieser Idee erstellt wird.","Projects - Created from this Idea":"Projekte - entstanden aus dieser Idee","This organization is open for further partner organizations.":"Diese Organisation ist offen fr weitere Partnerorganisationen.","You are a Admin":"Du bist ein Admin","Ownership request pending...":"Mitgliedschaftsantrag luft...","Projects and groups":"Projekte und Gruppen","Project/group":"Projekt/Gruppe","Open to be contacted about potential collaboration opportunities":"Kann gerne fr potentielle Zusammenarbeit kontaktiert werden","Does NOT wish to be contacted for potential collaboration!":"Mchte KEINE Anfragen fr potentielle Zusammenarbeit erhalten!","To Profile":"Zum Profil","This project is open for further partner organizations.":"Dieses Projekt ist offen fr weitere Partnerorganisationen.","Join Project":"Projekt beitreten","Move up":"Nach oben","Move down":"Nach unten","There are no items yet":"Noch keine Inhalte vorhanden","Items you follow":"Objekte, denen ich folge","Nothing here yet.":"Keine Eintrge bisher.","Groups and Projects":"Gruppen und Projekte","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"Hier findest du in Zukunft eine bersicht ber deine Gruppen und Projekte. Noch bist du in keiner Gruppe oder einem Projekt aktiv.","You can create Groups or Projects via the '+' button in the header.":"Du kannst eigene Gruppen oder Projekte ber den '+'-Button im Header anlegen.","Ideas I like":"Ideen, die mir gefallen","Here you can find an overview of Ideas you have liked.":"Hier findest du in Zukunft eine bersicht ber Ideen, die dir gefallen.","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"Du kannst eigene Ideen ber den '+'-Button im Header anlegen oder bestehende Ideen hier entdecken","Discover":"Entdecken","Filter":"Filter","Content from the Forum":"Inhalte aus dem Forum","Content from my Groups and Projects":"Inhalte aus meinen Gruppen und Projekten","Platform content":"Portalweite Inhalte","Public content":"ffentliche Inhalte","We could not load more data at this time.":"Wir konnten leider keine weiteren Daten laden.","Retry":"Erneut versuchen"},"ru":{"Groups":"","Like":"","Group":"","Title":"","Workshops":"","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"","Liked":"","Following":"","Events":"","Projects":"","Event":"","Members":"","Follow":"","Conference Applications":"    ","Report offensive content":"","From":"","Until":"","website":"","Contact":"","Send Message":" ","Invitations":"","You will now receive notifications for content posted in this project.":"      ,    .","You will now receive notifications for content posted in this group.":"      ,    .","Sustainable Development Goals":"  ","Membership request pending...":"    ...","You are invited!":" !","All Groups":" ","All Projects":" ","Organizations":"","Create Idea":" ","People":"","My Groups":" ","My Projects":" ","Ideas":"","My Ideas":" ","All Ideas":" ","My Organizations":" ","All Organizations":" ","External contents":" ","Include contents from other platforms":"      ","My Users":" ","My Events":" ","My Cloud Files":" ","All Users":" ","All Events":" ","Cloud Files":" ","Idea":"","Organization":"","Cloud File":" ","Create User":" ","Create Event":" ","Create Project":" ","Create Group":" ","Create Organization":" ","Categories":"","SDGS":"  ","Search for Names, Topics and Places...":" ,   ","Search for Names and Topics...":"   ","Where":"","In map area":"  ","If active, searching will be restricted to the visible map area.":" ,      .","Apply Filters":" ","Clear Filters":" ","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":"    ,  !","of":"","No results found.":"  .","Could not complete the search due to an error.":"    - .","Search when moving the map":"   ","Search this area":"   ","Find partners":"","Membership Requests":"  ","My Groups and Projects":"   ","Show more Projects of this Group":"    ","You are not in any groups or projects yet":"        ","Create new Group":"  ","Create new Project":"  ","Browse all Groups":"  ","Browse all Projects":"  ","You have not created any organizations yet.":"      .","Create new Organization":"  ","Browse all Organizations":"  ","Search for Organizations":" ","Ideas I am following":",   ","You are not following any ideas yet.":"       .","Post new Idea":"  ","Browse all Ideas":"  ","Search for Ideas":" ","You have not RSVPed to any Events.":"      .","Add Event":" ","Go to Calendar":"  ","There was an error loading the widget":"     ","Notifications":"","Show more":" ","No current notifications":"  ","Find on map:":"  :","Entire Network":" ","On the Map":" ","In my Groups and Projects":"    ","In my Cloud Files":"   ","Topic":"","SDG":"  ","from":"","You":"","Projects/Groups":"/","No info.":" .","Administrator":"","Administrators":"","Administrators unknown":"  ","No description yet.":" .","max.":".","You are participating":"  ","Participation request pending...":"    ...","Participate":"","You will now receive notifications for content posted.":"      ,    .","If you do not want notifications, click the unfollow button!":"     ,    !","Could not save your like setting because of an error.":"-      .","Could not save your follow setting because of an error.":"       .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"    ,  .      .","Back to location selection":"   ","Protected Content":" ","Sorry, but you cannot view details for this content.":",         .","This can happen when its visibility settings have changed recently.":"  ,       .","Please register or log in to continue!":",   ,  !","Error!":"a!","Sorry, but the requested content could not be retrieved from the server.":",         .","Visit Event Page":"  ","You will now receive notifications for comments or when this event is updated or its details change.":"    ,            .","Hidden Users":" ","Hidden User":" ","This group is open for further partner organizations.":"","You are a Member":"  ","Join Group":"  ","Author":"","Create Project from Idea":"    ","Edit your Idea":"  ","You will receive a notification when a project is created from your liked idea.":"  ,       ,   .","Projects - Created from this Idea":" -     ","This organization is open for further partner organizations.":"","You are a Admin":"  ","Ownership request pending...":"    ...","Projects and groups":"   ","Project/group":"/","Open to be contacted about potential collaboration opportunities":"()     ","Does NOT wish to be contacted for potential collaboration!":"     !","To Profile":" ","This project is open for further partner organizations.":"","Join Project":"  ","Move up":" ","Move down":" ","There are no items yet":"  ","Items you follow":",   ","Nothing here yet.":"   .","Groups and Projects":"  ","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"        ,          .","You can create Groups or Projects via the '+' button in the header.":"           '+'     .","Ideas I like":",   ","Here you can find an overview of Ideas you have liked.":"    ,   .","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"         '+'          ","Discover":" ","Filter":" ","Content from the Forum":"  ","Content from my Groups and Projects":"     ","Platform content":"      ","Public content":"   ","We could not load more data at this time.":"      .","Retry":" "},"uk":{"Groups":"","Like":"","Group":"","Title":"","Workshops":"","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"(-)","Liked":"","Following":"","Events":"","Projects":"","Event":"","Members":"","Follow":"","Conference Applications":"    ","Report offensive content":"   ","From":"","Until":"","website":"-","Contact":"","Send Message":" ","Invitations":"","You will now receive notifications for content posted in this project.":"      ,    .","You will now receive notifications for content posted in this group.":"      ,    .","Sustainable Development Goals":"  ","Membership request pending...":"     ...","You are invited!":" !","All Groups":" ","All Projects":" ","Organizations":"","Create Idea":" ","People":"","My Groups":" ","My Projects":" ","Ideas":"","My Ideas":" ","All Ideas":" ","My Organizations":" ","All Organizations":" ","External contents":" ","Include contents from other platforms":"   ","My Users":" ","My Events":" ","My Cloud Files":"   ","All Users":" ","All Events":" ","Cloud Files":"  ","Idea":"","Organization":"","Cloud File":"  ","Create User":" ","Create Event":" ","Create Project":" ","Create Group":" ","Create Organization":" ","Categories":"","SDGS":"  ","Search for Names, Topics and Places...":" ,   ","Search for Names and Topics...":"   ","Where":"","In map area":"  ","If active, searching will be restricted to the visible map area.":"  ,      .","Apply Filters":" ","Clear Filters":" ","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":"    ,  !","of":"","No results found.":"   .","Could not complete the search due to an error.":"     .","Search when moving the map":"   ","Search this area":"   ","Find partners":"","Membership Requests":"  ","My Groups and Projects":"   ","Show more Projects of this Group":"    ","You are not in any groups or projects yet":"       ","Create new Group":"  ","Create new Project":"  ","Browse all Groups":"  ","Browse all Projects":"  ","You have not created any organizations yet.":"     .","Create new Organization":"  ","Browse all Organizations":"  ","Search for Organizations":" ","Ideas I am following":",    ","You are not following any ideas yet.":"      .","Post new Idea":"  ","Browse all Ideas":"  ","Search for Ideas":" ","You have not RSVPed to any Events.":"  RSVP   .","Add Event":" ","Go to Calendar":"  ","There was an error loading the widget":"     ","Notifications":"","Show more":" ","No current notifications":"  ","Find on map:":"  :","Entire Network":" ","On the Map":" ","In my Groups and Projects":"    ","In my Cloud Files":"    ","Topic":"","SDG":"  ","from":"","You":"","Projects/Groups":"/","No info.":" .","Administrator":"","Administrators":"","Administrators unknown":" ","No description yet.":"  .","max.":".","You are participating":"  ","Participation request pending...":"     ...","Participate":"","You will now receive notifications for content posted.":"       .","If you do not want notifications, click the unfollow button!":"     ,    !","Could not save your like setting because of an error.":"       .","Could not save your follow setting because of an error.":"       .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"    ,  .       .","Back to location selection":"   ","Protected Content":" ","Sorry, but you cannot view details for this content.":",        .","This can happen when its visibility settings have changed recently.":"  ,     .","Please register or log in to continue!":" ,   ,  !","Error!":"!","Sorry, but the requested content could not be retrieved from the server.":", ,    ,     .","Visit Event Page":"  ","You will now receive notifications for comments or when this event is updated or its details change.":"      ,      .","Hidden Users":" ","Hidden User":" ","This group is open for further partner organizations.":"","You are a Member":"  ","Join Group":"  ","Author":"","Create Project from Idea":"   ","Edit your Idea":"  ","You will receive a notification when a project is created from your liked idea.":"  ,        .","Projects - Created from this Idea":"     ","This organization is open for further partner organizations.":"","You are a Admin":"  ","Ownership request pending...":"       ...","Projects and groups":"  ","Project/group":"/","Open to be contacted about potential collaboration opportunities":"(-)      ","Does NOT wish to be contacted for potential collaboration!":"     !","To Profile":" ","This project is open for further partner organizations.":"","Join Project":"  ","Move up":" ","Move down":" ","There are no items yet":"    ","Items you follow":",    ","Nothing here yet.":"   .","Groups and Projects":"  ","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"        ,          .","You can create Groups or Projects via the '+' button in the header.":"         +  .","Ideas I like":",   ","Here you can find an overview of Ideas you have liked.":"      ,   .","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"        +       ","Discover":"","Filter":" ","Content from the Forum":"  ","Content from my Groups and Projects":"      ","Public content":" ","We could not load more data at this time.":"       .","Retry":"  "},"fr":{"Groups":"Groupes","Like":"Aimer","Group":"Groupe","Title":"Titre","Workshops":"Ateliers","Results":"Rsultats","Participants":"Participants","Description":"Description","Project":"Projet","Topics":"Sujets","Likes":"J'aime","User":"Utilisateur","Liked":"Est aim","Following":"Suit","Events":"Evnements","Projects":"Projets","Event":"Evnement","Members":"Membres","Follow":"S'abonner","Conference Applications":"Demandes de confrence","Report offensive content":"Rapporter un contenu choquant","From":"De","Until":"jusqu","website":"site internet","Contact":"Contact","Send Message":"Envoyer un message","Invitations":"Invitations","You will now receive notifications for content posted in this project.":"Tu recevras dsormais des notifications pour le contenu affich dans ce projet.","You will now receive notifications for content posted in this group.":"Tu recevras dsormais des notifications pour le contenu affich dans ce groupe.","Sustainable Development Goals":"Objectifs de dveloppement durable","Membership request pending...":"Demande d'ajout en attente...","You are invited!":"Tu es invit !","All Groups":"Tous les groupes","All Projects":"Tous les projets","Organizations":"Organisations","Create Idea":"Crer ide","People":"Personnes","My Groups":"Mes groupes","My Projects":"Mes projets","Ideas":"Ides","My Ideas":"Mes ides","All Ideas":"Toutes les ides","My Organizations":"Mes organisations","All Organizations":"Toutes les organisations","My Users":"Mes utilisateurs","My Events":"Mes vnements","My Cloud Files":"Mes fichiers Cloud","All Users":"Tous les utilisateurs","All Events":"Tous les vnements","Cloud Files":"Fichiers cloud","Idea":"Ide","Organization":"Organisation","Cloud File":"Fichier cloud","Create User":"Crer utilisateur","Create Event":"Crer vnement","Create Project":"Crer projet","Create Group":"Crer groupe","Create Organization":"Crer lorganisation","Categories":"","SDGS":"SDGS","Search for Names, Topics and Places...":"Rechercher des noms, sujets et lieux...","Search for Names and Topics...":"Rechercher des noms et des sujets...","Where":"O","In map area":"Sur l'aire de la carte","If active, searching will be restricted to the visible map area.":"Si activ, la recherche sera limit  l'aire visible sur la carte.","Apply Filters":"Appliquer les filtres","Clear Filters":"Supprimer les filtres","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"Rue","Create idea":"Crer ide","Next":"Suivant","Choose a location for your idea by dragging the marker!":"Choisis un lieu pour ton ide en dplaant et en relchant la souris !","of":"de","No results found.":"Aucun rsultat trouv.","Could not complete the search due to an error.":"La recherche n'a pas pu aboutir  cause d'une erreur.","Search when moving the map":"Rechercher en faisant bouger la carte","Search this area":"Rechercher dans cette zone","Find partners":"","Membership Requests":"Demandes d'adhsion","My Groups and Projects":"Mes groupes et projets","Show more Projects of this Group":"Afficher plus de projets de ce groupe","You are not in any groups or projects yet":"Vous ne faites pas encore partie d'un groupe ou d'un projet","Create new Group":"Crer un nouveau groupe","Create new Project":"Crer un nouveau projet","Browse all Groups":"Parcourir tous les groupes","Browse all Projects":"Parcourir tous les projets","You have not created any organizations yet.":"Tu nas encore cr aucune organisation.","Create new Organization":"Crer une nouvelle organisation","Browse all Organizations":"Parcourir toutes les organisations","Search for Organizations":"Rechercher des organisations","Ideas I am following":"Ides que je suis","You are not following any ideas yet.":"Tu ne suis pas encore dides.","Post new Idea":"Publier une nouvelle ide","Browse all Ideas":"Parcourir toutes les ides","Search for Ideas":"Rechercher des ides","You have not RSVPed to any Events.":"Tu n'as rpondu  aucun vnement.","Add Event":"Ajouter un vnement","Go to Calendar":"Aller au calendrier","There was an error loading the widget":"Une erreur est survenue lors du chargement du widget","Notifications":"Notifications","Show more":"Afficher plus","No current notifications":"Pas de notifications actuelles","Find on map:":"","Entire Network":"Tout le rseau","On the Map":"Sur la carte","In my Groups and Projects":"Dans mes groupes et projets","In my Cloud Files":"Dans mes fichiers Cloud","Topic":"Sujet","SDG":"SDG","from":"","You":"Toi","Projects/Groups":"Projets / groupes","No info.":"Pas d'info.","Administrator":"Administrateur","Administrators":"Administrateurs","Administrators unknown":"Administrateurs inconnus","No description yet.":"Pas encore de description.","max.":"max.","You are participating":"Tu participes","Participation request pending...":"Demande de participation en attente...","Participate":"Participer","You will now receive notifications for content posted.":"Tu recevras dsormais des notifications pour le contenu affich.","If you do not want notifications, click the unfollow button!":"Si tu ne souhaites pas recevoir de notifications, clique sur le bouton de dsabonnement !","Could not save your like setting because of an error.":"Ton paramtre \"j'aime\" n'a pas pu tre enregistr  cause d'une erreur.","Could not save your follow setting because of an error.":"Ton paramtre \"abonn\" n'a pas pu tre enregistr  cause d'une erreur.","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"Choisis un lieu pour ton ide en dplaant et en relchant la souris. Tu pourras changer ce lieu plus tard.","Back to location selection":"Retour  la slection du lieu","Protected Content":"Contenu protg","Sorry, but you cannot view details for this content.":"Dsol, tu ne peux pas voir les dtails pour ce contenu.","This can happen when its visibility settings have changed recently.":"Cela peut se produire quand les paramtres de visibilit ont t changs rcemment.","Please register or log in to continue!":"Inscris-toi ou connecte-toi pour continuer !","Error!":"Erreur !","Sorry, but the requested content could not be retrieved from the server.":"Dsol, le contenu demand n'a pas pu tre rcupr sur le serveur.","Visit Event Page":"Visiter la page de l'vnement","You will now receive notifications for comments or when this event is updated or its details change.":"Tu recevras maintenant des notifications pour les commentaires ou lorsque cet vnement est mis  jour ou que ses dtails changent.","Hidden Users":"Utilisateurs masqus","Hidden User":"Utilisateur masqu","This group is open for further partner organizations.":"","You are a Member":"Tu es membre","Join Group":"Rejoindre groupe","Author":"Auteur","Create Project from Idea":"Crer projet  partir d'une ide","Edit your Idea":"Modifier ton ide","You will receive a notification when a project is created from your liked idea.":"Tu recevras une notification lorsqu'un projet sera cr  partir de l'ide que tu aimes.","Projects - Created from this Idea":"Projets - Crs  partir de cette ide","This organization is open for further partner organizations.":"","You are a Admin":"Tu es administrateur","Ownership request pending...":"Demande de proprit en attente...","Projects and groups":"Projets et groupes","Project/group":"Projet / groupe","Open to be contacted about potential collaboration opportunities":"Peut tre contact (e) au sujet d'ventuelles possibilits de collaboration","Does NOT wish to be contacted for potential collaboration!":"Je ne souhaite PAS tre contact (e) pour une ventuelle collaboration ","This project is open for further partner organizations.":"","Join Project":"Rejoindre projet","Move up":"Dplacer vers le haut","Move down":"Dplacer vers le bas","There are no items yet":"Il n'y a pas encore d'lments","Items you follow":"lments que tu suis","Nothing here yet.":"Rien ici pour l'instant.","Groups and Projects":"Groupes et projets","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"Tu trouveras ici un aperu de tes groupes et projets une fois que tu seras actif(active) dans un ou plusieurs d'entre eux.","You can create Groups or Projects via the '+' button in the header.":"Tu peux crer des groupes ou des projets en cliquant sur le bouton \"+\" dans l'en-tte.","Ideas I like":"Ides que j'aime","Here you can find an overview of Ideas you have liked.":"Tu trouveras ici un aperu des ides que tu as aimes.","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"Tu peux crer tes propres ides via le bouton \"+\" dans l'en-tte, ou dcouvrir ici des ides dj existantes","Discover":"Dcouvrir","We could not load more data at this time.":"Nous navons pas pu tlcharger plus de donnes pour le moment.","Retry":"Rssayer"},"pl":{"Groups":"Grupy","Like":"Polubienie","Group":"Grupa","Title":"Tytu","Workshops":"Warsztaty","Results":"Wynikw","Participants":"Uczestnicy","Description":"Opis","Project":"Projekt","Topics":"Tematy","Likes":"Polubienia","User":"Uytkownik","Liked":"Polubione","Following":"Nastpujcy/-a","Events":"Wydarzenia","Projects":"Projekty","Event":"Wydarzenie","Members":"Czonkowie","Follow":"led","Conference Applications":"Aplikacje do udziau w konferencji","Report offensive content":"Zgo niedozwolon tre","From":"Od","Until":"Do","website":"strona internetowa","Contact":"Kontakt","Send Message":"Wylij Wiadomo","Invitations":"Zaproszenia","You will now receive notifications for content posted in this project.":"Otrzymasz teraz powiadomienie dotyczce treci zawartej w tym projekcie.","You will now receive notifications for content posted in this group.":"Otrzymasz teraz powiadomienie dotyczce treci zawartej w tej grupie.","Sustainable Development Goals":"Przyjazne dla rodowiska cele rozwoju","Membership request pending...":"Trwa przetwarzanie proby o czonkostwo...","You are invited!":"Zostae/-a zaproszony/-a!","All Groups":"Wszystkie Grupy","All Projects":"Wszystkie Projekty","Organizations":"Organizacje","Create Idea":"Utwrz ide","People":"Ludzie","My Groups":"Moje Grupy","My Projects":"Moje Projekty","Ideas":"Pomysy","My Ideas":"Moje Pomysy","All Ideas":"Wszystkie Pomysy","My Organizations":"Moje organizacje","All Organizations":"Wszystkie organizacje","My Users":"Moi Uytkownicy","My Events":"Moje Wydarzenia","My Cloud Files":"Moje Pliki w Chmurze","All Users":"Wszyscy Uytkownicy","All Events":"Wszystkie Wydarzenia","Cloud Files":"Pliki w Chmurze","Idea":"Idea","Organization":"Organizacja","Cloud File":"Plik w Chmurze","Create User":"Utwrz Uytkownika","Create Event":"Utwrz Wydarzenie","Create Project":"Utwrz Projekt","Create Group":"Utwrz Grup","Create Organization":"Stwrz Organizacj","Categories":"","SDGS":"SDGS","Search for Names, Topics and Places...":"Wyszukaj nazwy, tematy i miejsca...","Search for Names and Topics...":"Wyszukaj Nazwy i Tematy...","Where":"Gdzie","In map area":"W obszarze na mapie","If active, searching will be restricted to the visible map area.":"Jeli aktywne, wyszukiwanie bdzie ograniczone do widocznego obszaru mapy.","Apply Filters":"Zastosuj Filtry","Clear Filters":"Wyczy Filtry","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"Ulica","Create idea":"Utwrz ide","Next":"Nastpna","Choose a location for your idea by dragging the marker!":"Wybierz lokalizacj dla swojej idei przesuwajc znacznik na mapie!","of":"z","No results found.":"Nie znaleziono adnych wynikw.","Could not complete the search due to an error.":"Wyszukiwanie nie powiodo si z powodu wystpienia bdu.","Search when moving the map":"Wyszukaj przesuwajc map","Search this area":"Przeszukaj ten obszar","Find partners":"","Membership Requests":"Proby o zostanie czonkiem","My Groups and Projects":"Moje Grupy i Projekty","Show more Projects of this Group":"Poka wicej projektw tej grupy","You are not in any groups or projects yet":"Nie jeste jeszcze w adnej grupie ani w adnym projekcie","Create new Group":"Utwrz now Grup","Create new Project":"Utwrz nowy Projekt","Browse all Groups":"Przejrzyj wszystkie Grupy","Browse all Projects":"Przejrzyj wszystkie Projekty","You have not created any organizations yet.":"Nie stworzye/-a jak dotd adnych organizacji.","Create new Organization":"Utwrz now organizacj","Browse all Organizations":"Przejrzyj wszystkie Organizacje","Search for Organizations":"Wyszukiwanie organizacji","Ideas I am following":"Pomysy, ktre ledz","You are not following any ideas yet.":"Nie ledzisz jeszcze adnych idei.","Post new Idea":"Opublikuj now Pomysy","Browse all Ideas":"Przejrzyj wszystkie Pomysy","Search for Ideas":"Szukaj pomysw","You have not RSVPed to any Events.":"Nie masz RSVPed do adnych wydarze.","Add Event":"Dodaj Wydarzenie","Go to Calendar":"Id do kalendarza","There was an error loading the widget":"Podczas adowania widgetu nastpi bd","Notifications":"Powiadomienia","Show more":"Poka wicej","No current notifications":"Brak biecych powiadomie","Find on map:":"","Entire Network":"Cakowita Sie","On the Map":"Na mapie","In my Groups and Projects":"W moich Grupach i Projektach","In my Cloud Files":"W moich Plikach w Chmurze","Topic":"Temat","SDG":"SDG","from":"","You":"Ty","Projects/Groups":"Projekty/Grupy","No info.":"Brak informacji.","Administrator":"Administrator","Administrators":"Administratorzy","Administrators unknown":"Administratorzy nieznani","No description yet.":"Brak jeszcze opisu.","max.":"maks.","You are participating":"Jeste uczestnikiem","Participation request pending...":"Trwa danie uczestnictwa...","Participate":"Uczestnik","You will now receive notifications for content posted.":"Otrzymasz teraz powiadomienie dotyczce zawartej treci.","If you do not want notifications, click the unfollow button!":"Jeli nie yczysz sobie otrzymywania powiadomie, kliknij na przycisk \"przesta ledzi\"!","Could not save your like setting because of an error.":"Twoje ustawienia nie mogy zosta zapisane w wyniku wystpienia bdu.","Could not save your follow setting because of an error.":"Twoje ustawienia ledzenia nie mogy zosta zapisane w wyniku wystpienia bdu.","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"Wybierz lokalizacj dla swojej idei przesuwajc i upuszczajc znacznik. Moesz pniej zmieni lokalizacj.","Back to location selection":"Powrt do wyboru lokalizacji","Protected Content":"Zawarto Chroniona","Sorry, but you cannot view details for this content.":"Przepraszamy, ale nie moesz zobaczy szczegw tej treci.","This can happen when its visibility settings have changed recently.":"Przyczyn moe by niedawna zmiana ustawie widocznoci.","Please register or log in to continue!":"Zarejestruj si lub zaloguj by kontynuowa!","Error!":"Bd!","Sorry, but the requested content could not be retrieved from the server.":"Przepraszamy, ale dana tre nie zostaa odnaleziona na serwerze.","Visit Event Page":"Odwied Stron Wydarzenia","You will now receive notifications for comments or when this event is updated or its details change.":"Bdziesz otrzymywa powiadomienia o komentarzach lub gdy to wydarzenie zostanie zaktualizowane albo jego szczegy ulegn zmianie.","Hidden Users":"Ukryci Uytkownicy","Hidden User":"Ukryty Uytkownik","This group is open for further partner organizations.":"","You are a Member":"Jeste Czonkiem","Join Group":"Docz do Grupy","Author":"Autor","Create Project from Idea":"Utwrz Projekt dla Idei","Edit your Idea":"Edytuj swoj Ide","You will receive a notification when a project is created from your liked idea.":"Otrzymasz powiadomienie, kiedy w ramach polubionej przez Ciebie idei zostanie utworzony projekt.","Projects - Created from this Idea":"Projekty - Utworzone w ramach tej Idei","This organization is open for further partner organizations.":"","You are a Admin":"Jeste adminem","Ownership request pending...":"Trwa przetwarzanie proby o wasno...","Projects and groups":"Projekty i grupy","Project/group":"Projekt/grupa","Open to be contacted about potential collaboration opportunities":"Otwrz, aby zosta skontaktowanym z potencjalnymi moliwociami wsppracy","Does NOT wish to be contacted for potential collaboration!":"NIE ycz sobie kontaktu z potencjalnymi wsppracownikami!","This project is open for further partner organizations.":"","Join Project":"Docz do Projektu","Move up":"Przenie do gry","Move down":"Przenie na d","There are no items yet":"Nie ma widocznych elementw","Items you follow":"Pozycje, ktre ledz","Nothing here yet.":"Jeszcze nic tu nie ma.","Groups and Projects":"Grupy i Projekty","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"Tu moesz znale oglny zarys twoich Grup i Projektw gdy bdziesz raz aktywny w jednym lub wicej.","You can create Groups or Projects via the '+' button in the header.":"Moesz zaoy wasne grupy i projekty za pomoc przycisku \"+\" w nagwku.","Ideas I like":"Pomysy, ktre mi si podobaj","Here you can find an overview of Ideas you have liked.":"Tu w przyszoci znajdziesz podgld pomysw, ktre ci si podobaj.","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"Moesz doda wasne pomysy za pomoc przycisku + w nagwku lub przejrze pomysy innych","Discover":"Odkryj","We could not load more data at this time.":"Nie moemy teraz zaadowa wicej danych.","Retry":"Sprbuj ponownie"},"be":{"Groups":"","Like":"","Group":"","Title":"","Workshops":"","Results":"","Participants":"(-)","Description":"","Project":"","Topics":"","Likes":"","User":"(-)","Liked":"","Following":"","Events":"","Projects":"","Event":"","Members":"","Follow":"","Conference Applications":"","Report offensive content":"   ","From":"","Until":"","Contact":"","Send Message":" ","Invitations":"","Sustainable Development Goals":"","Membership request pending...":"     ...","You are invited!":"  !","All Groups":" ","All Projects":" ","Create Idea":" ","People":"","My Groups":" ","My Projects":" ","Ideas":"","My Ideas":" ","All Ideas":" ","My Organizations":"","All Organizations":"","Include contents from other platforms":"","My Users":" (-)","My Events":" ","All Users":" (-)","All Events":" ","Idea":"","Create User":" (-)","Create Event":" ","Create Project":" ","Create Group":" ","Categories":"","SDGS":"","Search for Names, Topics and Places...":" ,   ...","Search for Names and Topics...":"   ...","Where":"","In map area":"   ","If active, searching will be restricted to the visible map area.":" ,      .","Apply Filters":" ","Clear Filters":" ","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":"   ,  !","of":"","No results found.":"  .","Could not complete the search due to an error.":"   - .","Search when moving the map":"   ","Search this area":"   ","Find partners":"","You are not in any groups or projects yet":"","Ideas I am following":"","You have not RSVPed to any Events.":"","Go to Calendar":"","Find on map:":"","Entire Network":"","On the Map":"","SDG":"","from":"","You":"","Projects/Groups":"/","No info.":" .","Administrator":"","Administrators":"","Administrators unknown":" ","No description yet.":"  .","max.":"","If you do not want notifications, click the unfollow button!":"     ,    \" \"!","Could not save your like setting because of an error.":"      - .","Could not save your follow setting because of an error.":"      - .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"    ,  .     .","Back to location selection":"   ","Protected Content":" ","Sorry, but you cannot view details for this content.":",        .","This can happen when its visibility settings have changed recently.":"    ,     .","Please register or log in to continue!":" ,   ,  !","Error!":"!","Sorry, but the requested content could not be retrieved from the server.":" ,       .","Visit Event Page":"   ","You will now receive notifications for comments or when this event is updated or its details change.":"     ,          .","Hidden Users":" (-)","Hidden User":" (-)","This group is open for further partner organizations.":"","You are a Member":" ' ","Join Group":"  ","Author":"(-)","Create Project from Idea":"   ","Edit your Idea":"  ","You will receive a notification when a project is created from your liked idea.":"   ,        .","Projects - Created from this Idea":",    ","This organization is open for further partner organizations.":"","Open to be contacted about potential collaboration opportunities":"","Does NOT wish to be contacted for potential collaboration!":"","This project is open for further partner organizations.":"","Join Project":"  ","Items you follow":"","Nothing here yet.":"","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"","You can create Groups or Projects via the '+' button in the header.":"","Ideas I like":"","Here you can find an overview of Ideas you have liked.":"","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"","Discover":"","We could not load more data at this time.":"","Retry":""},"es":{"Groups":"Grupos","Group":"Grupo","Title":"Ttulo","Workshops":"","Results":"Resultados","Participants":"Participantes","Description":"Descripcin","Project":"Proyecto","Topics":"Temas","User":"Usario","Following":"Siguiendo","Events":"Eventos","Projects":"Proyectos","Event":"Evento","Members":"Miembros","Follow":"Seguir","Conference Applications":"","Report offensive content":"Informar contenido ofensivo","From":"De","Until":"Hasta","Contact":"Contacto","Send Message":"Enviar mensaje","Invitations":"Invitaciones","Sustainable Development Goals":"","Membership request pending...":"Solicitud de participacin pendiente...","You are invited!":"Estas invitado!","All Groups":"Todos los grupos","All Projects":"Todos los proyectos","Create Idea":"Crear idea","People":"Personas","My Groups":"Mis grupos","My Projects":"Mis proyectos","Ideas":"Ideas","My Ideas":"Mis Ideas","All Ideas":"Todas la ideas","My Organizations":"","All Organizations":"","Include contents from other platforms":"","My Users":"Mis usarios","My Events":"Mis eventos","All Users":"Todos los usarios","All Events":"Todos los eventos","Idea":"Idea","Create User":"Crear usario","Create Event":"Crear evento","Create Project":"Crear proyecto","Create Group":"Crear grupo","Categories":"","SDGS":"","Search for Names, Topics and Places...":"Buscar nombres, temas y lugares...","Search for Names and Topics...":"Buscar nombres y temas...","Where":"Donde","In map area":"En zona de mapa","If active, searching will be restricted to the visible map area.":"Si est activo, la bsqueda se restringir al rea de mapa visible.","Apply Filters":"Aplicar Filtros","Clear Filters":"Limpiar filtros","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"Calle","Create idea":"Crear idea","Next":"Prximo","Choose a location for your idea by dragging the marker!":"Elige un lugar para tu idea arrastrando el marcador!","of":"de","No results found.":"No se han encontrado resultados.","Could not complete the search due to an error.":"No se pudo completar la bsqueda debido a un error.","Search when moving the map":"Buscar al mover el mapa","Search this area":"Busca en esta zona","Find partners":"","You are not in any groups or projects yet":"","Ideas I am following":"","You have not RSVPed to any Events.":"","Go to Calendar":"","Find on map:":"","Entire Network":"","On the Map":"","SDG":"","from":"","You":"","Projects/Groups":"Proyectos/grupos","No info.":"Ninguna informacin.","Administrator":"Administrador","Administrators":"Administratores","Administrators unknown":"Administratores desconocidos","No description yet.":"An no hay descripcin.","max.":"","If you do not want notifications, click the unfollow button!":"Si no desea notificaciones, haga clic en el botn de dejar de seguir!","Could not save your like setting because of an error.":"No se pudo guardar tu configuracin de me gusta debido a un error.","Could not save your follow setting because of an error.":"No se pudo guardar tu configuracin de seguir debido a un error.","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"Elija una ubicacin para su idea arrastrando y soltando el marcador. Todava puede cambiar esta ubicacin ms adelante.","Back to location selection":"Volver a la seleccin del lugar","Protected Content":"Contenido potejido","Sorry, but you cannot view details for this content.":"Lo sentimos, pero to puedes ver detalles para este comtenido.","This can happen when its visibility settings have changed recently.":"Esto puede suceder cuando su configuracin de visibilidad ha cambiado recientemente.","Please register or log in to continue!":"Por favor regstrate o inicia sesin para continuar!","Error!":"Error!","Visit Event Page":"Visitar pgina de eventos","You will now receive notifications for comments or when this event is updated or its details change.":"Ahora recibirs notificaciones de comentarios o cuando este evento se actualice o sus detalles cambien.","Hidden Users":"Usuarios ocultos","Hidden User":"Usuario ocultos","This group is open for further partner organizations.":"","You are a Member":"Eres un miembro","Join Group":"Participar en el grupo","Author":"Autor","Create Project from Idea":"Crear proyecto de la idea","Edit your Idea":"Editar tu idea","You will receive a notification when a project is created from your liked idea.":"Recibirs una notificacin cuando se cree un proyecto de tu idea.","Projects - Created from this Idea":"Proyectos - Creados de esta idea","This organization is open for further partner organizations.":"","Open to be contacted about potential collaboration opportunities":"","Does NOT wish to be contacted for potential collaboration!":"","This project is open for further partner organizations.":"","Join Project":"Participar en el proyecto","Items you follow":"","Nothing here yet.":"","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"","You can create Groups or Projects via the '+' button in the header.":"","Ideas I like":"","Here you can find an overview of Ideas you have liked.":"","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"","Discover":"","We could not load more data at this time.":"","Retry":""},"ro":{"Groups":"Grupuri","Like":"Ca","Group":"Grup","Title":"Titlu","Workshops":"Ateliere","Results":"Rezultate","Participants":"Participani","Description":"Descriere","Project":"Proiect","Topics":"Subiecte","Likes":"i place","User":"Utilizator","Liked":"Plcut","Following":"Ca urmare","Events":"Evenimente","Projects":"Proiecte","Event":"Eveniment","Members":"Membrii","Follow":"Urmeaz","Report offensive content":"Raportai coninutul ofensator","From":"Din","Until":"Pn cnd","Contact":"Contact","Send Message":"Trimite mesaj","Invitations":"Invitaii","You will now receive notifications for content posted in this project.":"Acum vei primi notificri pentru coninutul postat n acest proiect.","You will now receive notifications for content posted in this group.":"Acum vei primi notificri pentru coninutul  postat n acest grup.","Sustainable Development Goals":"Obiectivele Dezvoltrii Durabile","Membership request pending...":"Cerere de membru n ateptare...","You are invited!":"Eti invitat!","All Groups":"Toate Grupurile","All Projects":"Toate Proiectele","Organizations":"Organizaii","Create Idea":"Crea Idee","People":"Oameni","My Groups":"Grupurile Mele","My Projects":"Proiectele Mele","Ideas":"Idei","My Ideas":"Ideile Mele","All Ideas":"Toate Ideile","My Organizations":"Organizaiile Mele","All Organizations":"Toate Organizaiile","My Users":"Utilizatorii Mei","My Events":"Evenimentele Mele","All Users":"Toi Utilizatorii","All Events":"Toate Evenimentele","Idea":"Ideea","Organization":"Organizare","Create User":"Creeaz Utilizator","Create Event":"Creeaz Eveniment","Create Project":"Creeaz Proiect","Create Group":"Creeaz Grup","Create Organization":"Creeaz Organizarea","Categories":"","SDGS":"SDGS","Search for Names, Topics and Places...":"Cutai Nume, Subiecte i Locuri...","Search for Names and Topics...":"Cutai Nume i Subiecte...","Where":"Unde","In map area":"n zona hrii","If active, searching will be restricted to the visible map area.":"Dac este activ, cutarea va fi limitat la zona de hart vizibil.","Apply Filters":"Aplicai Filtre","Clear Filters":"tergei Filtrele","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"Strada","Create idea":"Crea idee","Next":"Urmtor","Choose a location for your idea by dragging the marker!":"Alegei o locaie pentru ideea dvs. trgnd marcatorul!","of":"de","No results found.":"Nici un rezultat gsit.","Could not complete the search due to an error.":"Nu s-a putut finaliza cutarea din cauza unei erori.","Search when moving the map":"Cutai atunci cnd mutai harta","Search this area":"Cutai n aceast zon","Find partners":"","Membership Requests":"Cereri de Membru","My Groups and Projects":"Grupurile i Proiectele mele","Show more Projects of this Group":"Arat mai multe Proiecte ale acestui Grup","You are not in any groups or projects yet":"Nu suntei nc n nici un grup sau proiect","Create new Group":"Creai un Grup nou","Create new Project":"Creai un Proiect nou","Browse all Groups":"Rsfoii toate Grupurile","Browse all Projects":"Rsfoii toate Proiectele","You have not created any organizations yet.":"Nu ai creat nc nicio organizaie.","Create new Organization":"Creai o Organizaie nou","Browse all Organizations":"Rsfoii toate Organizrile","Search for Organizations":"Cutai organizaii","Ideas I am following":"Idei pe care le urmresc","You are not following any ideas yet.":"Nu urmai niciun fel de idei.","Post new Idea":"Posteaz o nou Idee","Browse all Ideas":"Rsfoii toate Ideile","Search for Ideas":"Caut Idei","You have not RSVPed to any Events.":"Nu ai fcut RSVPed la niciun Eveniment.","Add Event":"Adugai eveniment","Go to Calendar":"Accesai Calendar","There was an error loading the widget":"A aprut o eroare la ncrcarea widget-ului","Notifications":"Notificri","Show more":"Afiai mai multe","No current notifications":"Fr notificri actuale","Find on map:":"","Entire Network":"ntreaga Reea","On the Map":"Pe Hart","In my Groups and Projects":"n Grupurile i Proiectele mele","Topic":"Subiect","SDG":"SDG","from":"","You":"Tu","Projects/Groups":"Proiecte/Grupuri","No info.":"Fr informaii.","Administrator":"Administrator","Administrators":"Administratorii","Administrators unknown":"Administratorii necunoscui","No description yet.":"Nici o descriere nc.","max.":"","If you do not want notifications, click the unfollow button!":"Dac nu dorii notificri, facei clic pe butonul de urmrire!","Could not save your like setting because of an error.":"Nu s-a putut salva setarea dvs. similar din cauza unei erori.","Could not save your follow setting because of an error.":"Nu s-a putut salva setarea de urmrire din cauza unei erori.","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"Alegei o locaie pentru ideea dvs. trgnd & aruncnd marcajul. Putei schimba aceast locaie ulterior.","Back to location selection":"napoi la selecia locaiei","Protected Content":"Coninutul Protejat","Sorry, but you cannot view details for this content.":"Scuze, dar nu putei vedea detalii pentru acest coninut.","This can happen when its visibility settings have changed recently.":"Acest lucru se poate ntmpla atunci cnd setrile sale de vizibilitate s-au schimbat recent.","Please register or log in to continue!":"V rugm s v nregistrai sau s v autentificai pentru a continua!","Error!":"Eroare!","Sorry, but the requested content could not be retrieved from the server.":"Scuz, dar coninutul solicitat nu a putut fi preluat de pe server.","Visit Event Page":"Accesai Pagina de Evenimente","You will now receive notifications for comments or when this event is updated or its details change.":"A cum vei primi notificri pentru comentarii sau cnd acest eveniment este actualizat sau detaliile sale se schimb.","Hidden Users":"Utilizatorii ascuni","Hidden User":"Utilizator ascuns","This group is open for further partner organizations.":"","You are a Member":"Suntei membru","Join Group":"Alturai-v Grupului","Author":"Autor","Create Project from Idea":"Creai Proiect din Idea","Edit your Idea":"Editeaz-i Ideea","You will receive a notification when a project is created from your liked idea.":"Vei primi o notificare atunci cnd un proiect este creat din ideea dvs. preferat.","Projects - Created from this Idea":"Proiecte - Create din aceast Idee","This organization is open for further partner organizations.":"","You are a Admin":"Suntei un Administrator","Open to be contacted about potential collaboration opportunities":"Deschis pentru a fi contactat cu privire la oportunitile de colaborare poteniale","Does NOT wish to be contacted for potential collaboration!":"Nu dorete s fie contactat pentru o colaborare potenial!","This project is open for further partner organizations.":"","Join Project":"Alturai-v Proiectului","Move up":"Mut n sus","Move down":"Mut n jos","There are no items yet":"Nu exist articole nc","Nothing here yet.":"","Groups and Projects":"Grupuri i Proiecte","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"Aici putei gsi o imagine de ansamblu asupra Grupurilor i Proiectelor dvs. odat ce ai activat ntr-unul sau mai multe dintre acestea.","You can create Groups or Projects via the '+' button in the header.":"Putei crea Grupuri sau Proiecte prin intermediul '+' buton n antet.","Ideas I like":"Idei mi plac","Here you can find an overview of Ideas you have liked.":"Aici putei gsi o imagine o imagine de ansamblu a Ideilor care v-au plcut.","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"Putei s v creai propriile Idei cu ajutorul butonului '+' din antet sau putei descoperi Idei existente aici","Discover":"Descoperi","We could not load more data at this time.":"Nu am putut ncrca mai multe date n acest moment.","Retry":"Rencercare"},"nl":{"Groups":"Groepen","Like":"Vind ik leuk","Group":"Groep","Title":"Titel","Workshops":"Workshops","Results":"Resultaten","Participants":"Deelnemers","Description":"Beschrijving","Project":"Project","Topics":"Onderwerpen","Likes":"Likes","User":"Gebruiker","Liked":"Ge-liked","Following":"Volgend","Events":"Evenementen","Projects":"Projecten","Event":"Evenement","Members":"Leden","Follow":"Volgen","Report offensive content":"Aanstootgevende inhoud melden","From":"Van","Until":"Tot","Contact":"Contact","Send Message":"Bericht versturen","Invitations":"Uitnodigingen","You will now receive notifications for content posted in this project.":"Je ontvangt nu meldingen wanneer inhoud in dit project wordt geplaatst.","You will now receive notifications for content posted in this group.":"Je ontvangt nu meldingen wanneer inhoud in deze groep wordt geplaatst.","Sustainable Development Goals":"Doelstellingen duurzame ontwikeling","Membership request pending...":"Lidmaatschapsverzoek in behandeling","You are invited!":"Je bent uitgenodigd!","All Groups":"Alle groepen","All Projects":"Alle projecten","Organizations":"Organisaties","Create Idea":"Idee aanmaken","People":"Mensen","My Groups":"Mijn groepen","My Projects":"Mijn projecten","Ideas":"Ideen","My Ideas":"Mijn ideen","All Ideas":"Alle ideen","My Organizations":"Mijn organisaties","All Organizations":"Alle organisaties","My Users":"Mijn gebruikers","My Events":"Mijn evenementen","All Users":"Alle gebruikers","All Events":"Alle evenementen","Idea":"Idee","Organization":"Organisatie","Create User":"Gebruiker aanmaken","Create Event":"Evenement aanmaken","Create Project":"Project aanmaken","Create Group":"Groep aanmaken","Create Organization":"Organisatie aanmaken","Categories":"","SDGS":"SDGS","Search for Names, Topics and Places...":"Zoeken naar namen, onderwerpen en plaatsen","Search for Names and Topics...":"Zoeken naar namen en onderwerpen","Where":"Waar","In map area":"In kaartgebied","If active, searching will be restricted to the visible map area.":"Indien actief, wordt zoeken beperkt tot het zichtbare kaartgebied.","Apply Filters":"Filters toepassen","Clear Filters":"Filters wissen","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"Straat","Create idea":"Idee aanmaken","Next":"Volgende","Choose a location for your idea by dragging the marker!":"Kies een locatie voor je idee door de markering te slepen!","of":"uit","No results found.":"Geen resultaten gevonden.","Could not complete the search due to an error.":"Kan de zoekopdracht niet voltooien vanwege een fout.","Search when moving the map":"Zoeken door het verplaatsen van de kaart","Search this area":"Zoeken in dit gebied","Find partners":"","Membership Requests":"Lidmaatschapsverzoek","My Groups and Projects":"Mijn groepen en projecten","Show more Projects of this Group":"Toon meer projecten van deze groep","You are not in any groups or projects yet":"Je zit nog niet in groepen of projecten","Create new Group":"Nieuwe groep aanmaken","Create new Project":"Nieuw project aanmaken","Browse all Groups":"Blader door alle groepen","Browse all Projects":"Blader door alle projecten","You have not created any organizations yet.":"Je hebt niet ge-RSVPED op evenementen.","Create new Organization":"Nieuwe organisatie aanmaken","Browse all Organizations":"Blader door alle organisaties","Search for Organizations":"Zoek naar organisaties","Ideas I am following":"Ideen die ik volg","You are not following any ideas yet.":"Je volgt nog geen ideen.","Post new Idea":"Nieuw idee posten","Browse all Ideas":"Blader door alle ideen","Search for Ideas":"Zoek naar ideen","You have not RSVPed to any Events.":"Je hebt niet ge-RSVPED op evenementen.","Add Event":"Evenement toevoegen","Go to Calendar":"Ga naar kalender","There was an error loading the widget":"Er is een fout opgetreden bij het laden van de widget","Notifications":"Notificaties","Show more":"Toon meer","No current notifications":"Momenteel geen notificaties","Find on map:":"","Entire Network":"Volledig netwerk","On the Map":"Op de kaart","In my Groups and Projects":"In mijn groepen en projecten","Topic":"Onderwerp","SDG":"SDG","from":"","You":"Jij","Projects/Groups":"Projecten/groepen","No info.":"Geen informatie.","Administrator":"Beheerder","Administrators":"Beheerders","Administrators unknown":"Beheerders onbekend","No description yet.":"Nog geen beschrijving.","max.":"","If you do not want notifications, click the unfollow button!":"Als je geen meldingen wilt ontvangen, klik je op de knop niet meer volgen!","Could not save your like setting because of an error.":"Kan je like-instelling niet opslaan vanwege een fout.","Could not save your follow setting because of an error.":"Kan je volginstelling niet opslaan vanwege een fout.","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"Kies een locatie voor je idee door de markering te slepen en neer te zetten. Je kunt deze locatie later nog wijzigen.","Back to location selection":"Terug naar locatie selectie","Protected Content":"Beschermde inhoud","Sorry, but you cannot view details for this content.":"Sorry, je kunt geen details bekijken voor deze inhoud.","This can happen when its visibility settings have changed recently.":"Dit kan gebeuren wanneer de zichtbaarheidsinstellingen onlangs zijn gewijzigd.","Please register or log in to continue!":"Registreer of log in om door te gaan!","Error!":"Foutmelding!","Sorry, but the requested content could not be retrieved from the server.":"Sorry, de gevraagde inhoud kon helaas niet worden opgehaald van de server.","Visit Event Page":"Bezoek evenementenpagina","You will now receive notifications for comments or when this event is updated or its details change.":"Je ontvangt nu meldingen voor reacties of wanneer dit evenement wordt bijgewerkt of de details ervan veranderen.","Hidden Users":"Verborgen gebruikers","Hidden User":"Verborgen gebruiker","This group is open for further partner organizations.":"","You are a Member":"Je bent lid","Join Group":"Deelnemen aan groep","Author":"Auteur","Create Project from Idea":"Maak project aan van idee","Edit your Idea":"Wijzig je idee","You will receive a notification when a project is created from your liked idea.":"Je ontvangt een melding wanneer een project wordt gemaakt op basis van je idee.","Projects - Created from this Idea":"Projecten - gemaakt van dit idee","This organization is open for further partner organizations.":"","You are a Admin":"Je bent beheerder","Open to be contacted about potential collaboration opportunities":"Open om gecontacteerd te worden over mogelijke samenwerkingsmogelijkheden","Does NOT wish to be contacted for potential collaboration!":"Wenst NIET gecontacteerd te worden voor mogelijke samenwerking!","This project is open for further partner organizations.":"","Join Project":"Meedoen aan project","Move up":"Omhoog","Move down":"Omlaag","There are no items yet":"Er zijn nog geen items","Nothing here yet.":"","Groups and Projects":"Groepen en projecten","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"Hier vind je een overzicht van je groepen en projecten zodra je in een of meer actief wordt.","You can create Groups or Projects via the '+' button in the header.":"Je kunt groepen of projecten maken via de knop + in de header.","Ideas I like":"Ideen die ik leuk vind","Here you can find an overview of Ideas you have liked.":"Hier vind je een overzicht van ideen die je leuk vindt.","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"Je kunt je eigen ideen maken via de knop + in de header of je kunt hier bestaande ideen ontdekken","Discover":"Ontdekken","We could not load more data at this time.":"We kunnen momenteel geen gegevens meer laden.","Retry":"Opnieuw proberen"},"az":{"Groups":"Qruplar","Like":"Bynm","Group":"Qrup","Title":"Balq","Workshops":"","Results":"Nticlr","Participants":"tiraklar","Description":"Tsvir","Project":"Layih","Topics":"Mvzular","Likes":"Bynmlr","User":"stifadi","Liked":"Bynilmilr","Following":"Aadak","Events":"Tdbirlr","Projects":"Layihlr","Event":"Tdbir","Members":"zvlr","Follow":"zl","Report offensive content":"Thqiramiz mzmunu bildirin","From":"Dan/dn","Until":"Qdr","Contact":"laq","Send Message":"Mesaj Gndrin","Invitations":"Dvtlr","You will now receive notifications for content posted in this project.":"ndi bu layihd yerldiriln mzmun n bildirilr alacaqsnz.","You will now receive notifications for content posted in this group.":"ndi bu qrupda yerldiriln mzmun n bildirilr alacaqsnz.","Sustainable Development Goals":"","Membership request pending...":"zvlk tlbi gzlyir...","You are invited!":"Siz dvtlisiniz!","All Groups":"Btn qruplar","All Projects":"Btn layihlr","Create Idea":"dea Yaradn","People":"nsanlar","My Groups":"Mnim Qrupum","My Projects":"Mnim layihlrim","Ideas":"deyalar","My Ideas":"Mnim deyalarm","All Ideas":"Btn deyalar","My Organizations":"","All Organizations":"","Include contents from other platforms":"","My Users":"stifadilrim","My Events":"Tdbirlrim","All Users":"Btn istifadilr","All Events":"Btn Tdbirlr","Idea":"deya","Create User":"stifadi Yaradn","Create Event":"Tdbir Yaradn","Create Project":"Layih Yaradn","Create Group":"Qrup Yaradn","Categories":"","SDGS":"","Search for Names, Topics and Places...":"Adlar, mvzular v Yerlr n axtar...","Search for Names and Topics...":"Adlar v mvzular n axtar...","Where":"Hara","In map area":"Xrit blgsind","If active, searching will be restricted to the visible map area.":"Aktiv olduqda, grnn xrit sahsi il mhdudlaacaqdr.","Apply Filters":"Filtrlr ttbiq edin","Clear Filters":"Filtrlri tmizlyin","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"K","Create idea":"dea Yaradn","Next":"Nvbti","Choose a location for your idea by dragging the marker!":"Markeri srdrrk ideyanz n bir dislokasiya sein!","of":"n/in/n/un","No results found.":"He bir ntic taplmad.","Could not complete the search due to an error.":"Shv sbbindn axtar baa atdrla bilmdi.","Search when moving the map":"Xritni hrkt edrkn axtarn","Search this area":"Bu razini aradrn","Find partners":"","Membership Requests":"zvlk stklri","My Groups and Projects":"Qruplarm v Layihlrim","Show more Projects of this Group":"Bu Qrupun Layihlrini daha ox gstr","You are not in any groups or projects yet":"Hl he bir qrupda v ya layihd deyilsiniz","Create new Group":"Yeni Qrup Yaradn","Create new Project":"Yeni Layih Yaradn","Browse all Groups":"Btn Qruplar gstrin","Browse all Projects":"Btn Layihlri gstrin","Ideas I am following":"zldiyim deyalar","You are not following any ideas yet.":"Hl he bir ideya izlmirsiniz.","Post new Idea":"Yeni deya gndrin","Browse all Ideas":"Btn deyalar gstrin","Search for Ideas":"deyalar n Axtar","You have not RSVPed to any Events.":"He bir Tdbir dvtin cavab vermmisiniz.","Add Event":"Tdbir lav et","Go to Calendar":"Tqvim get","There was an error loading the widget":"Widjet yklnrkn xta ba verdi","Notifications":"Bildirilr","Show more":"Daha ox gstr","No current notifications":"Cari bildiri yoxdur","Find on map:":"","Entire Network":"Btn bk","On the Map":"Xritd","In my Groups and Projects":"In my Groups and Projects","Topic":"Mvzu","SDG":"","from":"","You":"Sn","Projects/Groups":"Layihlr/Qruplar","No info.":"Mlumat yoxdur.","Administrator":"Admin","Administrators":"Adminlr","Administrators unknown":"Namlum adminlr","No description yet.":"Hl tsvir yoxdur.","max.":"","If you do not want notifications, click the unfollow button!":"Bildirilr almaq istmirsinizs, izlmni dayandr dymsin kliklyin!","Could not save your like setting because of an error.":"Xta sbbindn bynm parametrinizi yaddada saxlaya bilmdik.","Could not save your follow setting because of an error.":"Xta sbbindn izlm parametrinizi yaddada saxlaya bilmdik.","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"Markeri sryb ataraq ideyalarnz n bir dislokasiya sein. Daha sonra bu yeri dyi bilrsiniz.","Back to location selection":"Dislokasiya seimin qayt","Protected Content":"Qorunan Mzmun","Sorry, but you cannot view details for this content.":"Balayn, lakin bu mzmun n tfrratlar gr bilmzsiniz.","This can happen when its visibility settings have changed recently.":"Grm parametrlri yaxn zamanda dyidikd bu ba ver bilr.","Please register or log in to continue!":"Xahi edirm qeydiyyatdan kein v ya davam etmk n daxil olun!","Error!":"Xta!","Sorry, but the requested content could not be retrieved from the server.":"Balayn, ancaq tlb olunan mzmunu serverdn almaq mmkn olmad.","Visit Event Page":"Tdbir Shifsin ba kin","You will now receive notifications for comments or when this event is updated or its details change.":"ndi rhlr n v ya bu tdbir yenilndikd v ya detallar dyidikd bildirilr alacaqsnz.","Hidden Users":"Gizli stifadilr","Hidden User":"Gizli stifadi","This group is open for further partner organizations.":"","You are a Member":"Siz zvsnz","Join Group":"Qrupa Qoulun","Author":"Mllif","Create Project from Idea":"deayadan Layih Yaradn","Edit your Idea":"deaynz redakt edin","You will receive a notification when a project is created from your liked idea.":"Byndiyiniz ideyalardan bir layih yaradldqda bir bildiri alacaqsnz.","Projects - Created from this Idea":"Layihlr - Bu deyadan yaradlb","This organization is open for further partner organizations.":"","Open to be contacted about potential collaboration opportunities":"Potensial mkdalq imkanlar n laq qurmaa aq olun","Does NOT wish to be contacted for potential collaboration!":"Potensial mkdalq n laq qurmaq STMR!","This project is open for further partner organizations.":"","Join Project":"Layihy qoulun","Move up":"Yuxarya doru hrkt edin","Move down":"Aaya doru hrkt edin","There are no items yet":"Hllik yalar yoxdur","Nothing here yet.":"","Groups and Projects":"Qruplar v Layihlr","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"Qruplarnz v Layihlrinizin icmaln bunlardan birind v ya bir nesind fal olduqdan sonra tapa bilrsiniz.","You can create Groups or Projects via the '+' button in the header.":"Balqdak '+' dymsin vasitsil Qruplar v ya Layihlr yarada bilrsiniz.","Ideas I like":"Byndiyim ideyalar","Here you can find an overview of Ideas you have liked.":"Burada byndiyiniz ideyalarn mumi icmaln tapa bilrsiniz.","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"Balqdak '+' dymsin il z deyalarnz yarada bilrsiniz v ya mvcud deyalar burada akar ed bilrsiniz","Discover":"Akar etmk","We could not load more data at this time.":"Bu anda daha ox mlumat ykly bilmdik.","Retry":"Yenidn chd edin"},"hy":{"Groups":"","Like":"","Group":"","Title":"","Workshops":"","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"","Liked":"","Following":" ","Events":"","Projects":"","Event":"","Members":"","Follow":"","Report offensive content":"   ","From":"","Until":"","Contact":"","Send Message":" ","Invitations":"","You will now receive notifications for content posted in this project.":"        .","You will now receive notifications for content posted in this group.":"        .","Sustainable Development Goals":"","Membership request pending...":"     ...","You are invited!":"  !","All Groups":" ","All Projects":" ","Create Idea":" ","People":"","My Groups":" ","My Projects":" ","Ideas":"","My Ideas":" ","All Ideas":" ","My Organizations":"","All Organizations":"","Include contents from other platforms":"","My Users":" ","My Events":" ","All Users":" ","All Events":" ","Idea":"","Create User":" ","Create Event":" ","Create Project":" ","Create Group":" ","Categories":"","SDGS":"","Search for Names, Topics and Places...":" ,    ...","Search for Names and Topics...":"    ...","Where":"","In map area":" ","If active, searching will be restricted to the visible map area.":"       .","Apply Filters":" ","Clear Filters":" ","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":"      !","of":"-","No results found.":"    .","Could not complete the search due to an error.":"    .","Search when moving the map":"  ","Search this area":"  ","Find partners":"","Membership Requests":" ","My Groups and Projects":"   ","Show more Projects of this Group":"     ","You are not in any groups or projects yet":"       ","Create new Group":"  ","Create new Project":"  ","Browse all Groups":"  ","Browse all Projects":"  ","Ideas I am following":",    ","You are not following any ideas yet.":"      .","Post new Idea":"  ","Browse all Ideas":"  ","Search for Ideas":" ","You have not RSVPed to any Events.":"   RSVP  .","Add Event":" ","Go to Calendar":" ","There was an error loading the widget":"    ","Notifications":"","Show more":" ","No current notifications":"  ","Find on map:":"","Entire Network":" ","On the Map":" ","In my Groups and Projects":"  / ","Topic":"","SDG":"","from":"","You":"","Projects/Groups":" / ","No info.":" .","Administrator":"","Administrators":"","Administrators unknown":"  ","No description yet.":"  .","max.":"","If you do not want notifications, click the unfollow button!":"     ,  unfollow !","Could not save your like setting because of an error.":"     .","Could not save your follow setting because of an error.":"     .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"       :          .","Back to location selection":"   ","Protected Content":" ","Sorry, but you cannot view details for this content.":",        .","This can happen when its visibility settings have changed recently.":"      ,        .","Please register or log in to continue!":"        !","Error!":"!","Sorry, but the requested content could not be retrieved from the server.":",       .","Visit Event Page":"  ","You will now receive notifications for comments or when this event is updated or its details change.":"     ,         .","Hidden Users":" ","Hidden User":" ","This group is open for further partner organizations.":"","You are a Member":"  ","Join Group":" ","Author":"","Create Project from Idea":"  ","Edit your Idea":"  ","You will receive a notification when a project is created from your liked idea.":"  ,      .","Projects - Created from this Idea":" -   ","This organization is open for further partner organizations.":"","Open to be contacted about potential collaboration opportunities":"     ","Does NOT wish to be contacted for potential collaboration!":"     !","This project is open for further partner organizations.":"","Join Project":" ","Move up":"","Move down":"","There are no items yet":"  ","Nothing here yet.":"","Groups and Projects":"  ","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"                  .","You can create Groups or Projects via the '+' button in the header.":"         '+'  .","Ideas I like":"  ","Here you can find an overview of Ideas you have liked.":"       .","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"          +        ","Discover":"","We could not load more data at this time.":"       .","Retry":" "},"ka":{"Groups":"","Like":"","Group":"","Title":"","Workshops":"","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"","Liked":"","Following":"","Events":"","Projects":"","Event":"","Members":"","Follow":" ","Report offensive content":"  ","From":"","Until":"","Contact":"","Send Message":" ","Invitations":"","You will now receive notifications for content posted in this project.":"       .","You will now receive notifications for content posted in this group.":"       .","Sustainable Development Goals":"","Membership request pending...":"  ...","You are invited!":"  !","All Groups":" ","All Projects":" ","Create Idea":" ","People":"","My Groups":" ","My Projects":" ","Ideas":"","My Ideas":" ","All Ideas":" ","My Organizations":"","All Organizations":"","Include contents from other platforms":"","My Users":" ","My Events":" ","All Users":" ","All Events":" ","Idea":"","Create User":" ","Create Event":" ","Create Project":" ","Create Group":" ","Categories":"","SDGS":"","Search for Names, Topics and Places...":",    ...","Search for Names and Topics...":"   ...","Where":"","In map area":" ","If active, searching will be restricted to the visible map area.":" ,      .","Apply Filters":" ","Clear Filters":" ","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":"      !","No results found.":"  .","Could not complete the search due to an error.":"     .","Search when moving the map":"  ","Search this area":"  ","Find partners":"","Membership Requests":" ","My Groups and Projects":"   ","Show more Projects of this Group":"    ","You are not in any groups or projects yet":"       ","Create new Group":"  ","Create new Project":"  ","Browse all Groups":"  ","Browse all Projects":"  ","Ideas I am following":"   ","You are not following any ideas yet.":"     .","Post new Idea":"  ","Browse all Ideas":"  ","Search for Ideas":" ","You have not RSVPed to any Events.":"   RSVPed  .","Add Event":" ","Go to Calendar":" ","There was an error loading the widget":"   ","Notifications":"","Show more":" ","No current notifications":" ","Find on map:":"","Entire Network":" ","On the Map":"","In my Groups and Projects":"   ","Topic":"","SDG":"","from":"","You":"","Projects/Groups":"/","No info.":"  .","Administrator":"","Administrators":"","Administrators unknown":"   ","No description yet.":"   .","max.":"","If you do not want notifications, click the unfollow button!":"    ,    !","Could not save your like setting because of an error.":" ,      .","Could not save your follow setting because of an error.":" ,      .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"      .     .","Back to location selection":"  ","Protected Content":" ","Sorry, but you cannot view details for this content.":" ,        .","This can happen when its visibility settings have changed recently.":"  ,       .","Please register or log in to continue!":",    !","Error!":"!","Sorry, but the requested content could not be retrieved from the server.":" ,     .","Visit Event Page":"  ","You will now receive notifications for comments or when this event is updated or its details change.":"    . ,        .","Hidden Users":" ","Hidden User":" ","This group is open for further partner organizations.":"","You are a Member":"  ","Join Group":" ","Author":"","Create Project from Idea":"  ","Edit your Idea":"  ","You will receive a notification when a project is created from your liked idea.":"  ,       .","Projects - Created from this Idea":" -   ","This organization is open for further partner organizations.":"","Open to be contacted about potential collaboration opportunities":",      ","Does NOT wish to be contacted for potential collaboration!":"    !","This project is open for further partner organizations.":"","Join Project":" ","Move up":"","Move down":"","There are no items yet":"   ","Nothing here yet.":"","Groups and Projects":"  ","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"       ,      -  .","You can create Groups or Projects via the '+' button in the header.":"      '+'   .","Ideas I like":",   ","Here you can find an overview of Ideas you have liked.":"       .","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"      '+'       ","Discover":"","We could not load more data at this time.":"      .","Retry":""},"kk":{"Groups":"","Like":"","Group":"","Title":"","Workshops":"","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"","Liked":"","Following":"","Events":"","Projects":"","Event":"","Members":"","Follow":"","Report offensive content":" ","From":"","Until":"","Contact":"","Send Message":"X ","Invitations":"","You will now receive notifications for content posted in this project.":"       .","You will now receive notifications for content posted in this group.":"       .","Sustainable Development Goals":"","Membership request pending...":"  .","You are invited!":" !","All Groups":" ","All Projects":" ","Create Idea":" ","People":"","My Groups":" ","My Projects":" ","Ideas":"","My Ideas":" ","All Ideas":" ","My Organizations":"","All Organizations":"","Include contents from other platforms":"","My Users":" ","My Events":" ","All Users":" ","All Events":" ","Idea":"","Create User":" ","Create Event":" ","Create Project":" ","Create Group":" ","Categories":"","SDGS":"","Search for Names, Topics and Places...":",    .","Search for Names and Topics...":"   .","Where":"","In map area":"","If active, searching will be restricted to the visible map area.":" ,     .","Apply Filters":" ","Clear Filters":"  ","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":" ,    !","of":"","No results found.":" .","Could not complete the search due to an error.":"     .","Search when moving the map":"  ","Search this area":"  ","Find partners":"","Membership Requests":" ","My Groups and Projects":"   ","Show more Projects of this Group":"    ","You are not in any groups or projects yet":"      ","Create new Group":"  ","Create new Project":"  ","Browse all Groups":"  ","Browse all Projects":"  ","Ideas I am following":"  ","You are not following any ideas yet.":"    .","Post new Idea":"  ","Browse all Ideas":"  ","Search for Ideas":" ","You have not RSVPed to any Events.":"    .","Add Event":" ","Go to Calendar":" ","There was an error loading the widget":"     ","Notifications":"","Show more":" ","No current notifications":" ","Find on map:":"","Entire Network":" ","On the Map":"","In my Groups and Projects":"   ","Topic":"","SDG":"","from":"","You":"","Projects/Groups":"/","No info.":" .","Administrator":"","Administrators":"","Administrators unknown":" ","No description yet.":" .","max.":"","If you do not want notifications, click the unfollow button!":"    ,    !","Could not save your like setting because of an error.":" ,     .","Could not save your follow setting because of an error.":"      .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"       .      .","Back to location selection":"  ","Protected Content":" ","Sorry, but you cannot view details for this content.":",        .","This can happen when its visibility settings have changed recently.":"         .","Please register or log in to continue!":"    !","Error!":"!","Sorry, but the requested content could not be retrieved from the server.":",      .","Visit Event Page":" ","You will now receive notifications for comments or when this event is updated or its details change.":"              .","Hidden Users":" ","Hidden User":" ","This group is open for further partner organizations.":"","You are a Member":" ","Join Group":" ","Author":"","Create Project from Idea":"  ","Edit your Idea":" ","You will receive a notification when a project is created from your liked idea.":"        .","Projects - Created from this Idea":" -   ","This organization is open for further partner organizations.":"","Open to be contacted about potential collaboration opportunities":"     ","Does NOT wish to be contacted for potential collaboration!":"    !","This project is open for further partner organizations.":"","Join Project":" ","Move up":" ","Move down":" ","There are no items yet":"    ","Nothing here yet.":"","Groups and Projects":"  ","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"             .","You can create Groups or Projects via the '+' button in the header.":" +        .","Ideas I like":"  ","Here you can find an overview of Ideas you have liked.":"      .","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":" +             ","Discover":" ","We could not load more data at this time.":"      .","Retry":""},"he":{"Groups":"","Like":"","Group":"","Title":"","Workshops":"","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"","Liked":"","Following":"","Events":"","Projects":"","Event":"","Members":"","Follow":"","Conference Applications":"  ","Report offensive content":"   ","From":"","Until":"","website":" ","Contact":"  ","Send Message":" ","Invitations":"","You will now receive notifications for content posted in this project.":"       .","You will now receive notifications for content posted in this group.":"       .","Sustainable Development Goals":"   ","Membership request pending...":"  ...","You are invited!":"!","All Groups":" ","All Projects":" ","Organizations":"","Create Idea":" ","People":"","My Groups":" ","My Projects":" ","Ideas":"","My Ideas":" ","All Ideas":" ","My Organizations":" ","All Organizations":" ","My Users":" ","My Events":" ","My Cloud Files":"  ","All Users":" ","All Events":" ","Cloud Files":" ","Idea":"","Organization":"","Cloud File":" ","Create User":" ","Create Event":" ","Create Project":" ","Create Group":" ","Create Organization":" ","Categories":"","SDGS":"   ","Search for Names, Topics and Places...":" ,  ...","Search for Names and Topics...":"  ...","Where":"","In map area":" ","If active, searching will be restricted to the visible map area.":"  ,      .","Apply Filters":" ","Clear Filters":" ","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":"     -  !","of":"","No results found.":"  .","Could not complete the search due to an error.":"       .","Search when moving the map":"   ","Search this area":"  ","Find partners":"","Membership Requests":" ","My Groups and Projects":"  ","Show more Projects of this Group":"     ","You are not in any groups or projects yet":"       ","Create new Group":"  ","Create new Project":"  ","Browse all Groups":"  ","Browse all Projects":"  ","You have not created any organizations yet.":"  .","Create new Organization":"  ","Browse all Organizations":"  ","Search for Organizations":" ","Ideas I am following":"   ","You are not following any ideas yet.":"     .","Post new Idea":"  ","Browse all Ideas":"  ","Search for Ideas":" ","You have not RSVPed to any Events.":"  RSVPed  .","Add Event":" ","Go to Calendar":"   ","There was an error loading the widget":"   ","Notifications":"","Show more":" ","No current notifications":" ","Find on map:":"","Entire Network":" ","On the Map":" ","In my Groups and Projects":"  ","In my Cloud Files":"  ","Topic":"","SDG":"   ","from":"","You":"/","Projects/Groups":"/","No info.":" .","Administrator":" ","Administrators":" ","Administrators unknown":"   ","No description yet.":"  .","max.":".","You are participating":"  ","Participation request pending...":"  ...","Participate":"","You will now receive notifications for content posted.":"     .","If you do not want notifications, click the unfollow button!":"    ,     !","Could not save your like setting because of an error.":"      -like   .","Could not save your follow setting because of an error.":"        .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"     -   .       .","Back to location selection":"  ","Protected Content":" ","Sorry, but you cannot view details for this content.":",       .","This can happen when its visibility settings have changed recently.":"        .","Please register or log in to continue!":"     !","Error!":"!","Sorry, but the requested content could not be retrieved from the server.":",         .","Visit Event Page":"  ","You will now receive notifications for comments or when this event is updated or its details change.":"    ,    .","Hidden Users":" ","Hidden User":" ","This group is open for further partner organizations.":"","You are a Member":" ","Join Group":" ","Author":"","Create Project from Idea":"  ","Edit your Idea":"   ","You will receive a notification when a project is created from your liked idea.":"      .","Projects - Created from this Idea":"   ","This organization is open for further partner organizations.":"","You are a Admin":"  ","Ownership request pending...":"  ...","Projects and groups":" ","Project/group":"/","Open to be contacted about potential collaboration opportunities":"       ","Does NOT wish to be contacted for potential collaboration!":"        !","This project is open for further partner organizations.":"","Join Project":" ","Move up":" ","Move down":" ","There are no items yet":"  ","Items you follow":"   ","Nothing here yet.":"  .","Groups and Projects":" ","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"              .","You can create Groups or Projects via the '+' button in the header.":"       '+'  .","Ideas I like":"  /","Here you can find an overview of Ideas you have liked.":"       .","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"      '+'       ","Discover":"/","We could not load more data at this time.":"        .","Retry":" "},"ar":{"Groups":"","Like":"","Group":"","Title":"","Workshops":" ","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"","Events":"","Projects":"","Event":"","Members":"","Follow":"","Conference Applications":" ","Report offensive content":"   ","From":"","Until":"","Contact":"","Send Message":" ","Invitations":"","You will now receive notifications for content posted in this project.":"       .","You will now receive notifications for content posted in this group.":"       .","Sustainable Development Goals":"  ","Membership request pending...":"  ...","You are invited!":" !","All Groups":" ","All Projects":" ","Organizations":"","Create Idea":" ","People":"","My Groups":"","My Projects":"","Ideas":"","My Ideas":"","All Ideas":" ","My Organizations":"","All Organizations":" ","My Users":" ","My Events":" ","My Cloud Files":"  ","All Users":" ","All Events":" ","Cloud Files":" ","Idea":"","Organization":"","Cloud File":" ","Create User":" ","Create Event":" ","Create Project":" ","Create Group":" ","Create Organization":" ","Categories":"","SDGS":"   SDGS","Search for Names, Topics and Places...":"    ...","Search for Names and Topics...":"   ...","Where":"","In map area":"  ","If active, searching will be restricted to the visible map area.":"        .","Apply Filters":"   ","Clear Filters":"   ","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":"      !","of":"","No results found.":"    .","Could not complete the search due to an error.":"    .","Search when moving the map":"   ","Search this area":"   ","Find partners":"","Membership Requests":" ","My Groups and Projects":" ","Show more Projects of this Group":"     ","You are not in any groups or projects yet":"        ","Create new Group":"  ","Create new Project":"  ","Browse all Groups":"  ","Browse all Projects":"  ","You have not created any organizations yet.":"        .","Create new Organization":"  ","Browse all Organizations":"  ","Search for Organizations":"  ","Ideas I am following":"  ","You are not following any ideas yet.":"      .","Post new Idea":"  ","Browse all Ideas":"  ","Search for Ideas":"  ","You have not RSVPed to any Events.":"        .","Add Event":" ","Go to Calendar":"  ","There was an error loading the widget":"    ","Notifications":"","Show more":" ","No current notifications":"   ","Find on map:":"","Entire Network":" ","On the Map":" ","In my Groups and Projects":"  ","In my Cloud Files":"   ","Topic":"","SDG":"   SDG","from":"","You":"","Projects/Groups":"/","No info.":" .","Administrator":"","Administrators":"","Administrators unknown":"  ","No description yet.":"    .","max.":"","You are participating":" ","Participation request pending...":"  ...","Participate":"","You will now receive notifications for content posted.":"       .","If you do not want notifications, click the unfollow button!":"         !","Could not save your like setting because of an error.":"       .","Could not save your follow setting because of an error.":"     .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"       .       .","Back to location selection":"   ","Protected Content":" ","Sorry, but you cannot view details for this content.":"       .","This can happen when its visibility settings have changed recently.":"          .","Please register or log in to continue!":"    !","Error!":"!","Sorry, but the requested content could not be retrieved from the server.":"        .","Visit Event Page":"   ","You will now receive notifications for comments or when this event is updated or its details change.":"            .","Hidden Users":" ","Hidden User":" ","This group is open for further partner organizations.":"","You are a Member":" ","Join Group":" ","Author":"","Create Project from Idea":"   ","Edit your Idea":"  ","You will receive a notification when a project is created from your liked idea.":"       .","Projects - Created from this Idea":" -      ","This organization is open for further partner organizations.":"","You are a Admin":" ","Ownership request pending...":"  ...","Projects and groups":" ","Project/group":"/","Open to be contacted about potential collaboration opportunities":"        ","Does NOT wish to be contacted for potential collaboration!":"          !","This project is open for further partner organizations.":"","Join Project":"  ","Move up":"  ","Move down":"  ","There are no items yet":"    ","Items you follow":"  ","Nothing here yet.":"    .","Groups and Projects":" ","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"                 .","You can create Groups or Projects via the '+' button in the header.":"       \"+\"  .","Ideas I like":"   ","Here you can find an overview of Ideas you have liked.":"         .","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"       \"+\"        ","Discover":"","We could not load more data at this time.":"         .","Retry":" "},"el":{"Groups":"","Like":" ","Group":"","Title":"","Workshops":"","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":" ","User":"","Liked":" ","Following":"","Events":"","Projects":"","Event":"","Members":"","Follow":"","Conference Applications":" ","Report offensive content":"  ","From":"","Until":"","website":"","Contact":"","Send Message":" ","Invitations":"","You will now receive notifications for content posted in this project.":"           .","You will now receive notifications for content posted in this group.":"           .","Sustainable Development Goals":"  ","Membership request pending...":"  ...","You are invited!":" !","All Groups":"  ","All Projects":"  ","Organizations":"","Create Idea":" ","People":"","My Groups":"  ","My Projects":"  ","Ideas":"","My Ideas":"  ","All Ideas":"  ","My Organizations":"  ","All Organizations":"  ","My Users":"  ","My Events":"  ","My Cloud Files":"  Cloud","All Users":"  ","All Events":"  ","Cloud Files":" Cloud","Idea":"","Organization":"","Cloud File":" Cloud","Create User":" ","Create Event":" ","Create Project":" ","Create Group":" ","Create Organization":" ","Categories":"","SDGS":"SDGS","Search for Names, Topics and Places...":"  ,   ...","Search for Names and Topics...":"    ...","Where":"","In map area":"   ","If active, searching will be restricted to the visible map area.":"  ,         .","Apply Filters":" ","Clear Filters":" ","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":"         !","of":"","No results found.":"  .","Could not complete the search due to an error.":"        .","Search when moving the map":"     ","Search this area":"   ","Find partners":"","Membership Requests":" ","My Groups and Projects":"     ","Show more Projects of this Group":"     ","You are not in any groups or projects yet":"       ","Create new Group":"  ","Create new Project":"  ","Browse all Groups":"    ","Browse all Projects":"    ","You have not created any organizations yet.":"    .","Create new Organization":"  ","Browse all Organizations":"    ","Search for Organizations":"  ","Ideas I am following":"  ","You are not following any ideas yet.":"    .","Post new Idea":"  ","Browse all Ideas":"    ","Search for Ideas":"  ","You have not RSVPed to any Events.":"      .","Add Event":" ","Go to Calendar":"  ","There was an error loading the widget":"      widget","Notifications":"","Show more":" ","No current notifications":"  ","Find on map:":"","Entire Network":" ","On the Map":" ","In my Groups and Projects":"    ","In my Cloud Files":"  Cloud","Topic":"","SDG":"SDG","from":"","You":"","Projects/Groups":"/","No info.":" ","Administrator":"","Administrators":"","Administrators unknown":" ","No description yet.":"  .","max.":"","You are participating":"","Participation request pending...":"  ...","Participate":"","You will now receive notifications for content posted.":"       .","If you do not want notifications, click the unfollow button!":"     ,         !","Could not save your like setting because of an error.":"       \" \"  .","Could not save your follow setting because of an error.":"       \"\"  .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"          .        .","Back to location selection":"   ","Protected Content":" ","Sorry, but you cannot view details for this content.":"           .","This can happen when its visibility settings have changed recently.":"          .","Please register or log in to continue!":"     !","Error!":"!","Sorry, but the requested content could not be retrieved from the server.":"             .","Visit Event Page":"  ","You will now receive notifications for comments or when this event is updated or its details change.":"                .","Hidden Users":" ","Hidden User":" ","This group is open for further partner organizations.":"","You are a Member":" ","Join Group":"  ","Author":"","Create Project from Idea":"   ","Edit your Idea":"   ","You will receive a notification when a project is created from your liked idea.":"            .","Projects - Created from this Idea":"      ","This organization is open for further partner organizations.":"","You are a Admin":" ","Ownership request pending...":"  ...","Projects and groups":"  ","Project/group":"/","Open to be contacted about potential collaboration opportunities":"      ","Does NOT wish to be contacted for potential collaboration!":"      !","This project is open for further partner organizations.":"","Join Project":"  ","Move up":" ","Move down":" ","There are no items yet":"   ","Items you follow":"  ","Nothing here yet.":"    .","Groups and Projects":"  ","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"                    .","You can create Groups or Projects via the '+' button in the header.":"         \"+\"  .","Ideas I like":"   ","Here you can find an overview of Ideas you have liked.":"          .","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"          \"+\"         ","Discover":"","We could not load more data at this time.":"        .","Retry":"  "},"fa":{"Groups":"","Group":"","Title":"","Workshops":"","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"","Liked":"","Following":"","Events":"","Projects":"","Event":"","Members":"","Follow":"","Conference Applications":"","Report offensive content":"","From":"","Until":"","website":"","Contact":"","Send Message":"","Invitations":"","You will now receive notifications for content posted in this project.":"","You will now receive notifications for content posted in this group.":"","Sustainable Development Goals":"","Contact Project Admins":"","Contact Group Admins":"","Membership request pending...":"","You are invited!":"","All Groups":"","All Projects":"","Organizations":"","Create Idea":"","People":"","My Groups":"","My Projects":"","Ideas":"","My Ideas":"","All Ideas":"","My Organizations":"","All Organizations":"","External contents":"","Include contents from other platforms":"","My Users":"","My Events":"","My Cloud Files":"","All Users":"","All Events":"","Cloud Files":"","Idea":"","Organization":"","Cloud File":"","Create User":"","Create Event":"","Create Project":"","Create Group":"","Create Organization":"","Categories":"","SDGS":"","Search for Names, Topics and Places...":"","Search for Names and Topics...":"","Where":"","In map area":"","If active, searching will be restricted to the visible map area.":"","Apply Filters":"","Clear Filters":"","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"","Create idea":"","Next":"","Choose a location for your idea by dragging the marker!":"","of":"","No results found.":"","Could not complete the search due to an error.":"","Search when moving the map":"","Search this area":"","Find partners":"","Membership Requests":"","My Groups and Projects":"","Show more Projects of this Group":"","You are not in any groups or projects yet":"","Create new Group":"","Create new Project":"","Browse all Groups":"","Browse all Projects":"","You have not created any organizations yet.":"","Create new Organization":"","Browse all Organizations":"","Search for Organizations":"","Ideas I am following":"","You are not following any ideas yet.":"","Post new Idea":"","Browse all Ideas":"","Search for Ideas":"","You have not RSVPed to any Events.":"","Add Event":"","Go to Calendar":"","There was an error loading the widget":"","Notifications":"","Show more":"","No current notifications":"","Find on map:":"","Entire Network":"","On the Map":"","In my Groups and Projects":"","In my Cloud Files":"","Topic":"","SDG":"","from":"","You":"","Projects/Groups":"","No info.":"","Administrator":"","Administrators":"","Administrators unknown":"","No description yet.":"","max.":"","You are participating":"","Participation request pending...":"","Participate":"","You will now receive notifications for content posted.":"","If you do not want notifications, click the unfollow button!":"","Could not save your like setting because of an error.":"","Could not save your follow setting because of an error.":"","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"","Back to location selection":"","Protected Content":"","Sorry, but you cannot view details for this content.":"","This can happen when its visibility settings have changed recently.":"","Please register or log in to continue!":"","Error!":"","Sorry, but the requested content could not be retrieved from the server.":"","Visit Event Page":"","You will now receive notifications for comments or when this event is updated or its details change.":"","Hidden Users":"","Hidden User":"","This group is open for further partner organizations.":"","You are a Member":"","Join Group":"","Author":"","Create Project from Idea":"","Edit your Idea":"","You will receive a notification when a project is created from your liked idea.":"","Projects - Created from this Idea":"","This organization is open for further partner organizations.":"","You are a Admin":"","Ownership request pending...":"","Projects and groups":"","Project/group":"","Open to be contacted about potential collaboration opportunities":"","Does NOT wish to be contacted for potential collaboration!":"","To Profile":"","This project is open for further partner organizations.":"","Join Project":"","Move up":"","Move down":"","There are no items yet":"","Items you follow":"","Nothing here yet.":"","Groups and Projects":"","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"","You can create Groups or Projects via the '+' button in the header.":"","Ideas I like":"","Here you can find an overview of Ideas you have liked.":"","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"","Discover":"","Filter":"","Content from the Forum":"","Content from my Groups and Projects":"","Platform content":"","Public content":"","We could not load more data at this time.":"","Retry":""},"uz":{}})[cosinnus_current_language]) {
	        		var trans = ({"en":{"Groups":"Groups","Like":"","Group":"Group","Title":"","Workshops":"","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"","Liked":"","Following":"","Events":"","Projects":"","Event":"","Members":"","Follow":"","Conference Applications":"","Last updated on: ":"","Report offensive content":"","From":"","Until":"","website":"","Contact":"","Send Message":"","Invitations":"","You will now receive notifications for content posted in this project.":"","You will now receive notifications for content posted in this group.":"","Sustainable Development Goals":"","Contact Group Admins":"","Membership request pending...":"","You are invited!":"","All Groups":"All Groups","All Projects":"All Projects","Organizations":"","People":"","My Groups":"My Groups","My Projects":"My Projects","Ideas":"","All Ideas":"","My Organizations":"","All Organizations":"","Include contents from other platforms":"","My Cloud Files":"","Cloud Files":"","Idea":"","Organization":"","Cloud File":"","Create Project":"Create Project","Create Group":"Create Group","Categories":"","SDGS":"","Search for Names, Topics and Places...":"","Search for Names and Topics...":"","Where":"","In map area":"","If active, searching will be restricted to the visible map area.":"","Apply Filters":"","Clear Filters":"","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"","Next":"","Choose a location for your idea by dragging the marker!":"","of":"","No results found.":"","Could not complete the search due to an error.":"","Search when moving the map":"","Search this area":"","Find partners":"","Membership Requests":"","You are not in any groups or projects yet":"","You have not created any organizations yet.":"","Ideas I am following":"","You are not following any ideas yet.":"","Browse all Ideas":"","You have not RSVPed to any Events.":"","Go to Calendar":"","No current notifications":"","Find on map:":"","Entire Network":"","On the Map":"","In my Cloud Files":"","Topic":"","SDG":"","from":"","You":"","No info.":"","Administrator":"","Administrators":"","Administrators unknown":"","No description yet.":"","max.":"","You are participating":"","Participation request pending...":"","Participate":"","You will now receive notifications for content posted.":"","If you do not want notifications, click the unfollow button!":"","Could not save your like setting because of an error.":"","Could not save your follow setting because of an error.":"","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"","Back to location selection":"","Sorry, but you cannot view details for this content.":"","This can happen when its visibility settings have changed recently.":"","Please register or log in to continue!":"","Error!":"","Sorry, but the requested content could not be retrieved from the server.":"","Visit Event Page":"","You will now receive notifications for comments or when this event is updated or its details change.":"","Hidden Users":"","Hidden User":"","This group is open for further partner organizations.":"","You are a Member":"","Author":"","Edit your Idea":"","You will receive a notification when a project is created from your liked idea.":"","Projects - Created from this Idea":"","This organization is open for further partner organizations.":"","You are a Admin":"","Ownership request pending...":"","Open to be contacted about potential collaboration opportunities":"","Does NOT wish to be contacted for potential collaboration!":"","This project is open for further partner organizations.":"","Move up":"","Move down":"","Items you follow":"","Nothing here yet.":"","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"","You can create Groups or Projects via the '+' button in the header.":"","Ideas I like":"","Here you can find an overview of Ideas you have liked.":"","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"","Discover":"","Filter":"","Content from the Forum":"","We could not load more data at this time.":"","Retry":""},"de":{"Groups":"Gruppen","Like":"Gefllt mir","Group":"Gruppe","Title":"Titel","Workshops":"Workshops","Results":"Ergebnisse","Participants":"Teilnehmende","Description":"Beschreibung","Project":"Projekt","Topics":"Themen","Likes":"\"Gefllt mir\"-Angaben","User":"Benutzer_in","Liked":"Gefllt dir","Following":"Gefolgt","Events":"Veranstaltungen","Projects":"Projekte","Event":"Veranstaltung","Members":"Mitglieder","Follow":"Folgen","Conference Applications":"Tagungs-Teilnahmeantrge","Created on: ":"Erstellt am: ","Last updated on: ":"Zuletzt aktualisiert am: ","Report offensive content":"Anstigen Inhalt melden","From":"Von","Until":"Bis","website":"Webseite","Contact":"Kontakt","Send Message":"Nachricht schicken","Invitations":"Einladungen","You will now receive notifications for content posted in this project.":"Du wirst jetzt Benachrichtigungen fr Inhalte in diesem Projekt erhalten.","You will now receive notifications for content posted in this group.":"Du wirst jetzt Benachrichtigungen fr Inhalte in dieser Gruppe erhalten.","Sustainable Development Goals":"Ziele fr nachhaltige Entwicklung","Contact Project Admins":"Projektadministratoren kontaktieren","Contact Group Admins":"Gruppenadministratoren kontaktieren","Contact Conference Admins":"Tagungsadministratoren kontaktieren","Membership request pending...":"Mitgliedschaft wurde beantragt...","You are invited!":"Du bist eingeladen worden!","All Groups":"Alle Gruppen","All Projects":"Alle Projekte","Organizations":"Organisationen","Create Idea":"Idee erstellen","People":"Menschen","My Groups":"Meine Gruppen","My Projects":"Meine Projekte","Ideas":"Ideen","My Ideas":"Meine Ideen","All Ideas":"Alle Ideen","My Organizations":"Meine Organisationen","All Organizations":"Alle Organisationen","External contents":"Externe Inhalte","Include contents from other platforms":"Auch Inhalte von anderen Plattformen anzeigen","My Users":"Meine Benutzer_innen","My Events":"Meine Veranstaltungen","My Cloud Files":"Meine Cloud-Dateien","All Users":"Alle Benutzer_innen","All Events":"Alle Veranstaltungen","Cloud Files":"Cloud-Dateien","Idea":"Idee","Organization":"Organisation","Cloud File":"Cloud-Dateien","Create User":"Benutzerkonto erstellen","Create Event":"Veranstaltung erstellen","Create Project":"Projekt erstellen","Create Group":"Gruppe erstellen","Create Organization":"Organisation erstellen","Categories":"Kategorien","SDGS":"SDGs","Search for Names, Topics and Places...":"Suche nach Namen, Themen und Orten...","Search for Names and Topics...":"Suche nach Namen und Themen...","Where":"Wo","In map area":"In Kartenaussschnitt","If active, searching will be restricted to the visible map area.":"Wenn aktiv wird die Suche auf die sichtbare Kartenflche beschrnkt.","Apply Filters":"Filter anwenden","Clear Filters":"Filter zurcksetzen","Show potential partners":"Potentielle Partner anzeigen","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"Hier kannst du nach Partnerorganisationen und Projekten suchen, die zur Partnerschaft offen sind. Die Ergebnisse sind so sortiert, dass Partner*innen mit vielen berschneidungen bei den Finanzierungszielen, frderfhigen Bereichen und SDGs, fr die du aktiv bist, zuerst aufgefhrt werden.","Show potential partners for ...":"Zeige potentielle Partner fr ","You're currently not member of any project, group or organization.":"Du bist derzeit kein Mitglied eines Projekts, einer Gruppe oder einer Organisation.","Street":"Straen","Create idea":"Idee erstellen","Next":"Weiter","Choose a location for your idea by dragging the marker!":"Whle einen Ort fr deine Idee indem du die Markierung in der Karte verschiebst!","of":"von","No results found.":"Keine Ergebnisse gefunden.","Could not complete the search due to an error.":"Konnte die Suche aufgrund eines Fehlers nicht abschlieen.","Search when moving the map":"Suchen wenn die Karte bewegt wird","Search this area":"In diesem Ausschnitt suchen","Find partners":"Partner finden","Membership Requests":"Mitgliedschaftsantrge","My Groups and Projects":"Meine Gruppen und Projekte","Show more Projects of this Group":"Weitere Projekte dieser Gruppe anzeigen","You are not in any groups or projects yet":"Du bist noch in keinen Gruppen oder Projekten Mitglied","Create new Group":"Neue Gruppe anlegen","Create new Project":"Neues Projekt anlegen","Browse all Groups":"Alle Gruppen anzeigen","Browse all Projects":"Alle Projekte anzeigen","You have not created any organizations yet.":"Du hast noch keine Organisationen angelegt.","Create new Organization":"Neue Organisation anlegen","Browse all Organizations":"Alle Organisationen durchsuchen","Search for Organizations":"Nach Organisation suchen","Ideas I am following":"Ideen, die mir gefallen","You are not following any ideas yet.":"Du folgst noch keine Ideen.","Post new Idea":"Neue Idee eintragen","Browse all Ideas":"Alle Ideen anzeigen","Search for Ideas":"Nach Ideen suchen","You have not RSVPed to any Events.":"Du hast bei keinen aktuellen Veranstaltungen zugesagt.","Add Event":"Veranstaltung hinzufgen","Go to Calendar":"Zum Kalender","There was an error loading the widget":"Es gab einen Fehler beim Laden der Inhalte","Notifications":"Benachrichtigungen","Show more":"Weitere anzeigen","No current notifications":"Keine aktuellen Benachrichtigungen","Find on map:":"Auf der Karte finden:","Entire Network":"Gesamtes Netzwerk","On the Map":"Auf der Karte","In my Groups and Projects":"In meinen Gruppen und Projekten","In my Cloud Files":"In meinen Cloud-Dateien","Topic":"Thema","SDG":"SDG","from":"von","You":"Du","Projects/Groups":"Projekte/Gruppen","No info.":"Keine Informationen.","Administrator":"Administrator","Administrators":"Administratoren","Administrators unknown":"Administratoren unbekannt","No description yet.":"Noch keine Beschreibung erstellt.","max.":"max.","You are participating":"Du nimmst teil","Participation request pending...":"Teilnahmeantrag luft...","Participate":"Teilnehmen","You will now receive notifications for content posted.":"Du wirst jetzt Benachrichtigungen fr neue Inhalte erhalten.","If you do not want notifications, click the unfollow button!":"Wenn du das nicht mchtest, klicke oben den Entfolgen-Button!","Could not save your like setting because of an error.":"Konnte deine \"Gefllt mir\"-Angabe aufgrund eines Fehlers nicht speichern.","Could not save your follow setting because of an error.":"Konnte deine Folgen-Einstellung aufgrund eines Fehlers nicht speichern.","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"Whle einen Ort fr deine Idee indem du die Markierung in der Karte verschiebst. Du kannst diesen Ort spter ndern.","Back to location selection":"Zurck zur Ortsauswahl","Protected Content":"Geschtzter Inhalt","Sorry, but you cannot view details for this content.":"Tut uns leid, aber du kannst keine Details dieses Inhalts sehen.","This can happen when its visibility settings have changed recently.":"Dies kann passieren, wenn die Sichtbarkeitseinstellungen des Inhalts vor Kurzem gendert wurden.","Please register or log in to continue!":"Bitte registriere dich oder log dich ein um weiterzumachen!","Error!":"Fehler!","Sorry, but the requested content could not be retrieved from the server.":"Tut uns leid, aber der gewnschte Inhalt konnte nicht vom Server geladen werden.","Visit Event Page":"Event-Seite besuchen","You will now receive notifications for comments or when this event is updated or its details change.":"Du wirst jetzt Benachrichtigungen fr Kommentare erhalten und wenn dieser Inhalt gendert wird.","Hidden Users":"Versteckte Benutzer","Hidden User":"Versteckter Benutzer","This group is open for further partner organizations.":"Diese Gruppe ist offen fr weitere Partnerorganisationen.","You are a Member":"Du bist Mitglied","Join Group":"Gruppe beitreten","Author":"Autor","Create Project from Idea":"Projekt aus Idee erstellen","Edit your Idea":"Deine Idee bearbeiten","You will receive a notification when a project is created from your liked idea.":"Du erhltst eine Benachrichtigung, wenn ein Projekt aus dieser Idee erstellt wird.","Projects - Created from this Idea":"Projekte - entstanden aus dieser Idee","This organization is open for further partner organizations.":"Diese Organisation ist offen fr weitere Partnerorganisationen.","You are a Admin":"Du bist ein Admin","Ownership request pending...":"Mitgliedschaftsantrag luft...","Projects and groups":"Projekte und Gruppen","Project/group":"Projekt/Gruppe","Open to be contacted about potential collaboration opportunities":"Kann gerne fr potentielle Zusammenarbeit kontaktiert werden","Does NOT wish to be contacted for potential collaboration!":"Mchte KEINE Anfragen fr potentielle Zusammenarbeit erhalten!","To Profile":"Zum Profil","This project is open for further partner organizations.":"Dieses Projekt ist offen fr weitere Partnerorganisationen.","Join Project":"Projekt beitreten","Move up":"Nach oben","Move down":"Nach unten","There are no items yet":"Noch keine Inhalte vorhanden","Items you follow":"Objekte, denen ich folge","Nothing here yet.":"Keine Eintrge bisher.","Groups and Projects":"Gruppen und Projekte","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"Hier findest du in Zukunft eine bersicht ber deine Gruppen und Projekte. Noch bist du in keiner Gruppe oder einem Projekt aktiv.","You can create Groups or Projects via the '+' button in the header.":"Du kannst eigene Gruppen oder Projekte ber den '+'-Button im Header anlegen.","Ideas I like":"Ideen, die mir gefallen","Here you can find an overview of Ideas you have liked.":"Hier findest du in Zukunft eine bersicht ber Ideen, die dir gefallen.","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"Du kannst eigene Ideen ber den '+'-Button im Header anlegen oder bestehende Ideen hier entdecken","Discover":"Entdecken","Filter":"Filter","Content from the Forum":"Inhalte aus dem Forum","Content from my Groups and Projects":"Inhalte aus meinen Gruppen und Projekten","Platform content":"Portalweite Inhalte","Public content":"ffentliche Inhalte","We could not load more data at this time.":"Wir konnten leider keine weiteren Daten laden.","Retry":"Erneut versuchen"},"ru":{"Groups":"","Like":"","Group":"","Title":"","Workshops":"","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"","Liked":"","Following":"","Events":"","Projects":"","Event":"","Members":"","Follow":"","Conference Applications":"    ","Report offensive content":"","From":"","Until":"","website":"","Contact":"","Send Message":" ","Invitations":"","You will now receive notifications for content posted in this project.":"      ,    .","You will now receive notifications for content posted in this group.":"      ,    .","Sustainable Development Goals":"  ","Membership request pending...":"    ...","You are invited!":" !","All Groups":" ","All Projects":" ","Organizations":"","Create Idea":" ","People":"","My Groups":" ","My Projects":" ","Ideas":"","My Ideas":" ","All Ideas":" ","My Organizations":" ","All Organizations":" ","External contents":" ","Include contents from other platforms":"      ","My Users":" ","My Events":" ","My Cloud Files":" ","All Users":" ","All Events":" ","Cloud Files":" ","Idea":"","Organization":"","Cloud File":" ","Create User":" ","Create Event":" ","Create Project":" ","Create Group":" ","Create Organization":" ","Categories":"","SDGS":"  ","Search for Names, Topics and Places...":" ,   ","Search for Names and Topics...":"   ","Where":"","In map area":"  ","If active, searching will be restricted to the visible map area.":" ,      .","Apply Filters":" ","Clear Filters":" ","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":"    ,  !","of":"","No results found.":"  .","Could not complete the search due to an error.":"    - .","Search when moving the map":"   ","Search this area":"   ","Find partners":"","Membership Requests":"  ","My Groups and Projects":"   ","Show more Projects of this Group":"    ","You are not in any groups or projects yet":"        ","Create new Group":"  ","Create new Project":"  ","Browse all Groups":"  ","Browse all Projects":"  ","You have not created any organizations yet.":"      .","Create new Organization":"  ","Browse all Organizations":"  ","Search for Organizations":" ","Ideas I am following":",   ","You are not following any ideas yet.":"       .","Post new Idea":"  ","Browse all Ideas":"  ","Search for Ideas":" ","You have not RSVPed to any Events.":"      .","Add Event":" ","Go to Calendar":"  ","There was an error loading the widget":"     ","Notifications":"","Show more":" ","No current notifications":"  ","Find on map:":"  :","Entire Network":" ","On the Map":" ","In my Groups and Projects":"    ","In my Cloud Files":"   ","Topic":"","SDG":"  ","from":"","You":"","Projects/Groups":"/","No info.":" .","Administrator":"","Administrators":"","Administrators unknown":"  ","No description yet.":" .","max.":".","You are participating":"  ","Participation request pending...":"    ...","Participate":"","You will now receive notifications for content posted.":"      ,    .","If you do not want notifications, click the unfollow button!":"     ,    !","Could not save your like setting because of an error.":"-      .","Could not save your follow setting because of an error.":"       .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"    ,  .      .","Back to location selection":"   ","Protected Content":" ","Sorry, but you cannot view details for this content.":",         .","This can happen when its visibility settings have changed recently.":"  ,       .","Please register or log in to continue!":",   ,  !","Error!":"a!","Sorry, but the requested content could not be retrieved from the server.":",         .","Visit Event Page":"  ","You will now receive notifications for comments or when this event is updated or its details change.":"    ,            .","Hidden Users":" ","Hidden User":" ","This group is open for further partner organizations.":"","You are a Member":"  ","Join Group":"  ","Author":"","Create Project from Idea":"    ","Edit your Idea":"  ","You will receive a notification when a project is created from your liked idea.":"  ,       ,   .","Projects - Created from this Idea":" -     ","This organization is open for further partner organizations.":"","You are a Admin":"  ","Ownership request pending...":"    ...","Projects and groups":"   ","Project/group":"/","Open to be contacted about potential collaboration opportunities":"()     ","Does NOT wish to be contacted for potential collaboration!":"     !","To Profile":" ","This project is open for further partner organizations.":"","Join Project":"  ","Move up":" ","Move down":" ","There are no items yet":"  ","Items you follow":",   ","Nothing here yet.":"   .","Groups and Projects":"  ","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"        ,          .","You can create Groups or Projects via the '+' button in the header.":"           '+'     .","Ideas I like":",   ","Here you can find an overview of Ideas you have liked.":"    ,   .","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"         '+'          ","Discover":" ","Filter":" ","Content from the Forum":"  ","Content from my Groups and Projects":"     ","Platform content":"      ","Public content":"   ","We could not load more data at this time.":"      .","Retry":" "},"uk":{"Groups":"","Like":"","Group":"","Title":"","Workshops":"","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"(-)","Liked":"","Following":"","Events":"","Projects":"","Event":"","Members":"","Follow":"","Conference Applications":"    ","Report offensive content":"   ","From":"","Until":"","website":"-","Contact":"","Send Message":" ","Invitations":"","You will now receive notifications for content posted in this project.":"      ,    .","You will now receive notifications for content posted in this group.":"      ,    .","Sustainable Development Goals":"  ","Membership request pending...":"     ...","You are invited!":" !","All Groups":" ","All Projects":" ","Organizations":"","Create Idea":" ","People":"","My Groups":" ","My Projects":" ","Ideas":"","My Ideas":" ","All Ideas":" ","My Organizations":" ","All Organizations":" ","External contents":" ","Include contents from other platforms":"   ","My Users":" ","My Events":" ","My Cloud Files":"   ","All Users":" ","All Events":" ","Cloud Files":"  ","Idea":"","Organization":"","Cloud File":"  ","Create User":" ","Create Event":" ","Create Project":" ","Create Group":" ","Create Organization":" ","Categories":"","SDGS":"  ","Search for Names, Topics and Places...":" ,   ","Search for Names and Topics...":"   ","Where":"","In map area":"  ","If active, searching will be restricted to the visible map area.":"  ,      .","Apply Filters":" ","Clear Filters":" ","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":"    ,  !","of":"","No results found.":"   .","Could not complete the search due to an error.":"     .","Search when moving the map":"   ","Search this area":"   ","Find partners":"","Membership Requests":"  ","My Groups and Projects":"   ","Show more Projects of this Group":"    ","You are not in any groups or projects yet":"       ","Create new Group":"  ","Create new Project":"  ","Browse all Groups":"  ","Browse all Projects":"  ","You have not created any organizations yet.":"     .","Create new Organization":"  ","Browse all Organizations":"  ","Search for Organizations":" ","Ideas I am following":",    ","You are not following any ideas yet.":"      .","Post new Idea":"  ","Browse all Ideas":"  ","Search for Ideas":" ","You have not RSVPed to any Events.":"  RSVP   .","Add Event":" ","Go to Calendar":"  ","There was an error loading the widget":"     ","Notifications":"","Show more":" ","No current notifications":"  ","Find on map:":"  :","Entire Network":" ","On the Map":" ","In my Groups and Projects":"    ","In my Cloud Files":"    ","Topic":"","SDG":"  ","from":"","You":"","Projects/Groups":"/","No info.":" .","Administrator":"","Administrators":"","Administrators unknown":" ","No description yet.":"  .","max.":".","You are participating":"  ","Participation request pending...":"     ...","Participate":"","You will now receive notifications for content posted.":"       .","If you do not want notifications, click the unfollow button!":"     ,    !","Could not save your like setting because of an error.":"       .","Could not save your follow setting because of an error.":"       .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"    ,  .       .","Back to location selection":"   ","Protected Content":" ","Sorry, but you cannot view details for this content.":",        .","This can happen when its visibility settings have changed recently.":"  ,     .","Please register or log in to continue!":" ,   ,  !","Error!":"!","Sorry, but the requested content could not be retrieved from the server.":", ,    ,     .","Visit Event Page":"  ","You will now receive notifications for comments or when this event is updated or its details change.":"      ,      .","Hidden Users":" ","Hidden User":" ","This group is open for further partner organizations.":"","You are a Member":"  ","Join Group":"  ","Author":"","Create Project from Idea":"   ","Edit your Idea":"  ","You will receive a notification when a project is created from your liked idea.":"  ,        .","Projects - Created from this Idea":"     ","This organization is open for further partner organizations.":"","You are a Admin":"  ","Ownership request pending...":"       ...","Projects and groups":"  ","Project/group":"/","Open to be contacted about potential collaboration opportunities":"(-)      ","Does NOT wish to be contacted for potential collaboration!":"     !","To Profile":" ","This project is open for further partner organizations.":"","Join Project":"  ","Move up":" ","Move down":" ","There are no items yet":"    ","Items you follow":",    ","Nothing here yet.":"   .","Groups and Projects":"  ","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"        ,          .","You can create Groups or Projects via the '+' button in the header.":"         +  .","Ideas I like":",   ","Here you can find an overview of Ideas you have liked.":"      ,   .","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"        +       ","Discover":"","Filter":" ","Content from the Forum":"  ","Content from my Groups and Projects":"      ","Public content":" ","We could not load more data at this time.":"       .","Retry":"  "},"fr":{"Groups":"Groupes","Like":"Aimer","Group":"Groupe","Title":"Titre","Workshops":"Ateliers","Results":"Rsultats","Participants":"Participants","Description":"Description","Project":"Projet","Topics":"Sujets","Likes":"J'aime","User":"Utilisateur","Liked":"Est aim","Following":"Suit","Events":"Evnements","Projects":"Projets","Event":"Evnement","Members":"Membres","Follow":"S'abonner","Conference Applications":"Demandes de confrence","Report offensive content":"Rapporter un contenu choquant","From":"De","Until":"jusqu","website":"site internet","Contact":"Contact","Send Message":"Envoyer un message","Invitations":"Invitations","You will now receive notifications for content posted in this project.":"Tu recevras dsormais des notifications pour le contenu affich dans ce projet.","You will now receive notifications for content posted in this group.":"Tu recevras dsormais des notifications pour le contenu affich dans ce groupe.","Sustainable Development Goals":"Objectifs de dveloppement durable","Membership request pending...":"Demande d'ajout en attente...","You are invited!":"Tu es invit !","All Groups":"Tous les groupes","All Projects":"Tous les projets","Organizations":"Organisations","Create Idea":"Crer ide","People":"Personnes","My Groups":"Mes groupes","My Projects":"Mes projets","Ideas":"Ides","My Ideas":"Mes ides","All Ideas":"Toutes les ides","My Organizations":"Mes organisations","All Organizations":"Toutes les organisations","My Users":"Mes utilisateurs","My Events":"Mes vnements","My Cloud Files":"Mes fichiers Cloud","All Users":"Tous les utilisateurs","All Events":"Tous les vnements","Cloud Files":"Fichiers cloud","Idea":"Ide","Organization":"Organisation","Cloud File":"Fichier cloud","Create User":"Crer utilisateur","Create Event":"Crer vnement","Create Project":"Crer projet","Create Group":"Crer groupe","Create Organization":"Crer lorganisation","Categories":"","SDGS":"SDGS","Search for Names, Topics and Places...":"Rechercher des noms, sujets et lieux...","Search for Names and Topics...":"Rechercher des noms et des sujets...","Where":"O","In map area":"Sur l'aire de la carte","If active, searching will be restricted to the visible map area.":"Si activ, la recherche sera limit  l'aire visible sur la carte.","Apply Filters":"Appliquer les filtres","Clear Filters":"Supprimer les filtres","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"Rue","Create idea":"Crer ide","Next":"Suivant","Choose a location for your idea by dragging the marker!":"Choisis un lieu pour ton ide en dplaant et en relchant la souris !","of":"de","No results found.":"Aucun rsultat trouv.","Could not complete the search due to an error.":"La recherche n'a pas pu aboutir  cause d'une erreur.","Search when moving the map":"Rechercher en faisant bouger la carte","Search this area":"Rechercher dans cette zone","Find partners":"","Membership Requests":"Demandes d'adhsion","My Groups and Projects":"Mes groupes et projets","Show more Projects of this Group":"Afficher plus de projets de ce groupe","You are not in any groups or projects yet":"Vous ne faites pas encore partie d'un groupe ou d'un projet","Create new Group":"Crer un nouveau groupe","Create new Project":"Crer un nouveau projet","Browse all Groups":"Parcourir tous les groupes","Browse all Projects":"Parcourir tous les projets","You have not created any organizations yet.":"Tu nas encore cr aucune organisation.","Create new Organization":"Crer une nouvelle organisation","Browse all Organizations":"Parcourir toutes les organisations","Search for Organizations":"Rechercher des organisations","Ideas I am following":"Ides que je suis","You are not following any ideas yet.":"Tu ne suis pas encore dides.","Post new Idea":"Publier une nouvelle ide","Browse all Ideas":"Parcourir toutes les ides","Search for Ideas":"Rechercher des ides","You have not RSVPed to any Events.":"Tu n'as rpondu  aucun vnement.","Add Event":"Ajouter un vnement","Go to Calendar":"Aller au calendrier","There was an error loading the widget":"Une erreur est survenue lors du chargement du widget","Notifications":"Notifications","Show more":"Afficher plus","No current notifications":"Pas de notifications actuelles","Find on map:":"","Entire Network":"Tout le rseau","On the Map":"Sur la carte","In my Groups and Projects":"Dans mes groupes et projets","In my Cloud Files":"Dans mes fichiers Cloud","Topic":"Sujet","SDG":"SDG","from":"","You":"Toi","Projects/Groups":"Projets / groupes","No info.":"Pas d'info.","Administrator":"Administrateur","Administrators":"Administrateurs","Administrators unknown":"Administrateurs inconnus","No description yet.":"Pas encore de description.","max.":"max.","You are participating":"Tu participes","Participation request pending...":"Demande de participation en attente...","Participate":"Participer","You will now receive notifications for content posted.":"Tu recevras dsormais des notifications pour le contenu affich.","If you do not want notifications, click the unfollow button!":"Si tu ne souhaites pas recevoir de notifications, clique sur le bouton de dsabonnement !","Could not save your like setting because of an error.":"Ton paramtre \"j'aime\" n'a pas pu tre enregistr  cause d'une erreur.","Could not save your follow setting because of an error.":"Ton paramtre \"abonn\" n'a pas pu tre enregistr  cause d'une erreur.","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"Choisis un lieu pour ton ide en dplaant et en relchant la souris. Tu pourras changer ce lieu plus tard.","Back to location selection":"Retour  la slection du lieu","Protected Content":"Contenu protg","Sorry, but you cannot view details for this content.":"Dsol, tu ne peux pas voir les dtails pour ce contenu.","This can happen when its visibility settings have changed recently.":"Cela peut se produire quand les paramtres de visibilit ont t changs rcemment.","Please register or log in to continue!":"Inscris-toi ou connecte-toi pour continuer !","Error!":"Erreur !","Sorry, but the requested content could not be retrieved from the server.":"Dsol, le contenu demand n'a pas pu tre rcupr sur le serveur.","Visit Event Page":"Visiter la page de l'vnement","You will now receive notifications for comments or when this event is updated or its details change.":"Tu recevras maintenant des notifications pour les commentaires ou lorsque cet vnement est mis  jour ou que ses dtails changent.","Hidden Users":"Utilisateurs masqus","Hidden User":"Utilisateur masqu","This group is open for further partner organizations.":"","You are a Member":"Tu es membre","Join Group":"Rejoindre groupe","Author":"Auteur","Create Project from Idea":"Crer projet  partir d'une ide","Edit your Idea":"Modifier ton ide","You will receive a notification when a project is created from your liked idea.":"Tu recevras une notification lorsqu'un projet sera cr  partir de l'ide que tu aimes.","Projects - Created from this Idea":"Projets - Crs  partir de cette ide","This organization is open for further partner organizations.":"","You are a Admin":"Tu es administrateur","Ownership request pending...":"Demande de proprit en attente...","Projects and groups":"Projets et groupes","Project/group":"Projet / groupe","Open to be contacted about potential collaboration opportunities":"Peut tre contact (e) au sujet d'ventuelles possibilits de collaboration","Does NOT wish to be contacted for potential collaboration!":"Je ne souhaite PAS tre contact (e) pour une ventuelle collaboration ","This project is open for further partner organizations.":"","Join Project":"Rejoindre projet","Move up":"Dplacer vers le haut","Move down":"Dplacer vers le bas","There are no items yet":"Il n'y a pas encore d'lments","Items you follow":"lments que tu suis","Nothing here yet.":"Rien ici pour l'instant.","Groups and Projects":"Groupes et projets","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"Tu trouveras ici un aperu de tes groupes et projets une fois que tu seras actif(active) dans un ou plusieurs d'entre eux.","You can create Groups or Projects via the '+' button in the header.":"Tu peux crer des groupes ou des projets en cliquant sur le bouton \"+\" dans l'en-tte.","Ideas I like":"Ides que j'aime","Here you can find an overview of Ideas you have liked.":"Tu trouveras ici un aperu des ides que tu as aimes.","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"Tu peux crer tes propres ides via le bouton \"+\" dans l'en-tte, ou dcouvrir ici des ides dj existantes","Discover":"Dcouvrir","We could not load more data at this time.":"Nous navons pas pu tlcharger plus de donnes pour le moment.","Retry":"Rssayer"},"pl":{"Groups":"Grupy","Like":"Polubienie","Group":"Grupa","Title":"Tytu","Workshops":"Warsztaty","Results":"Wynikw","Participants":"Uczestnicy","Description":"Opis","Project":"Projekt","Topics":"Tematy","Likes":"Polubienia","User":"Uytkownik","Liked":"Polubione","Following":"Nastpujcy/-a","Events":"Wydarzenia","Projects":"Projekty","Event":"Wydarzenie","Members":"Czonkowie","Follow":"led","Conference Applications":"Aplikacje do udziau w konferencji","Report offensive content":"Zgo niedozwolon tre","From":"Od","Until":"Do","website":"strona internetowa","Contact":"Kontakt","Send Message":"Wylij Wiadomo","Invitations":"Zaproszenia","You will now receive notifications for content posted in this project.":"Otrzymasz teraz powiadomienie dotyczce treci zawartej w tym projekcie.","You will now receive notifications for content posted in this group.":"Otrzymasz teraz powiadomienie dotyczce treci zawartej w tej grupie.","Sustainable Development Goals":"Przyjazne dla rodowiska cele rozwoju","Membership request pending...":"Trwa przetwarzanie proby o czonkostwo...","You are invited!":"Zostae/-a zaproszony/-a!","All Groups":"Wszystkie Grupy","All Projects":"Wszystkie Projekty","Organizations":"Organizacje","Create Idea":"Utwrz ide","People":"Ludzie","My Groups":"Moje Grupy","My Projects":"Moje Projekty","Ideas":"Pomysy","My Ideas":"Moje Pomysy","All Ideas":"Wszystkie Pomysy","My Organizations":"Moje organizacje","All Organizations":"Wszystkie organizacje","My Users":"Moi Uytkownicy","My Events":"Moje Wydarzenia","My Cloud Files":"Moje Pliki w Chmurze","All Users":"Wszyscy Uytkownicy","All Events":"Wszystkie Wydarzenia","Cloud Files":"Pliki w Chmurze","Idea":"Idea","Organization":"Organizacja","Cloud File":"Plik w Chmurze","Create User":"Utwrz Uytkownika","Create Event":"Utwrz Wydarzenie","Create Project":"Utwrz Projekt","Create Group":"Utwrz Grup","Create Organization":"Stwrz Organizacj","Categories":"","SDGS":"SDGS","Search for Names, Topics and Places...":"Wyszukaj nazwy, tematy i miejsca...","Search for Names and Topics...":"Wyszukaj Nazwy i Tematy...","Where":"Gdzie","In map area":"W obszarze na mapie","If active, searching will be restricted to the visible map area.":"Jeli aktywne, wyszukiwanie bdzie ograniczone do widocznego obszaru mapy.","Apply Filters":"Zastosuj Filtry","Clear Filters":"Wyczy Filtry","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"Ulica","Create idea":"Utwrz ide","Next":"Nastpna","Choose a location for your idea by dragging the marker!":"Wybierz lokalizacj dla swojej idei przesuwajc znacznik na mapie!","of":"z","No results found.":"Nie znaleziono adnych wynikw.","Could not complete the search due to an error.":"Wyszukiwanie nie powiodo si z powodu wystpienia bdu.","Search when moving the map":"Wyszukaj przesuwajc map","Search this area":"Przeszukaj ten obszar","Find partners":"","Membership Requests":"Proby o zostanie czonkiem","My Groups and Projects":"Moje Grupy i Projekty","Show more Projects of this Group":"Poka wicej projektw tej grupy","You are not in any groups or projects yet":"Nie jeste jeszcze w adnej grupie ani w adnym projekcie","Create new Group":"Utwrz now Grup","Create new Project":"Utwrz nowy Projekt","Browse all Groups":"Przejrzyj wszystkie Grupy","Browse all Projects":"Przejrzyj wszystkie Projekty","You have not created any organizations yet.":"Nie stworzye/-a jak dotd adnych organizacji.","Create new Organization":"Utwrz now organizacj","Browse all Organizations":"Przejrzyj wszystkie Organizacje","Search for Organizations":"Wyszukiwanie organizacji","Ideas I am following":"Pomysy, ktre ledz","You are not following any ideas yet.":"Nie ledzisz jeszcze adnych idei.","Post new Idea":"Opublikuj now Pomysy","Browse all Ideas":"Przejrzyj wszystkie Pomysy","Search for Ideas":"Szukaj pomysw","You have not RSVPed to any Events.":"Nie masz RSVPed do adnych wydarze.","Add Event":"Dodaj Wydarzenie","Go to Calendar":"Id do kalendarza","There was an error loading the widget":"Podczas adowania widgetu nastpi bd","Notifications":"Powiadomienia","Show more":"Poka wicej","No current notifications":"Brak biecych powiadomie","Find on map:":"","Entire Network":"Cakowita Sie","On the Map":"Na mapie","In my Groups and Projects":"W moich Grupach i Projektach","In my Cloud Files":"W moich Plikach w Chmurze","Topic":"Temat","SDG":"SDG","from":"","You":"Ty","Projects/Groups":"Projekty/Grupy","No info.":"Brak informacji.","Administrator":"Administrator","Administrators":"Administratorzy","Administrators unknown":"Administratorzy nieznani","No description yet.":"Brak jeszcze opisu.","max.":"maks.","You are participating":"Jeste uczestnikiem","Participation request pending...":"Trwa danie uczestnictwa...","Participate":"Uczestnik","You will now receive notifications for content posted.":"Otrzymasz teraz powiadomienie dotyczce zawartej treci.","If you do not want notifications, click the unfollow button!":"Jeli nie yczysz sobie otrzymywania powiadomie, kliknij na przycisk \"przesta ledzi\"!","Could not save your like setting because of an error.":"Twoje ustawienia nie mogy zosta zapisane w wyniku wystpienia bdu.","Could not save your follow setting because of an error.":"Twoje ustawienia ledzenia nie mogy zosta zapisane w wyniku wystpienia bdu.","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"Wybierz lokalizacj dla swojej idei przesuwajc i upuszczajc znacznik. Moesz pniej zmieni lokalizacj.","Back to location selection":"Powrt do wyboru lokalizacji","Protected Content":"Zawarto Chroniona","Sorry, but you cannot view details for this content.":"Przepraszamy, ale nie moesz zobaczy szczegw tej treci.","This can happen when its visibility settings have changed recently.":"Przyczyn moe by niedawna zmiana ustawie widocznoci.","Please register or log in to continue!":"Zarejestruj si lub zaloguj by kontynuowa!","Error!":"Bd!","Sorry, but the requested content could not be retrieved from the server.":"Przepraszamy, ale dana tre nie zostaa odnaleziona na serwerze.","Visit Event Page":"Odwied Stron Wydarzenia","You will now receive notifications for comments or when this event is updated or its details change.":"Bdziesz otrzymywa powiadomienia o komentarzach lub gdy to wydarzenie zostanie zaktualizowane albo jego szczegy ulegn zmianie.","Hidden Users":"Ukryci Uytkownicy","Hidden User":"Ukryty Uytkownik","This group is open for further partner organizations.":"","You are a Member":"Jeste Czonkiem","Join Group":"Docz do Grupy","Author":"Autor","Create Project from Idea":"Utwrz Projekt dla Idei","Edit your Idea":"Edytuj swoj Ide","You will receive a notification when a project is created from your liked idea.":"Otrzymasz powiadomienie, kiedy w ramach polubionej przez Ciebie idei zostanie utworzony projekt.","Projects - Created from this Idea":"Projekty - Utworzone w ramach tej Idei","This organization is open for further partner organizations.":"","You are a Admin":"Jeste adminem","Ownership request pending...":"Trwa przetwarzanie proby o wasno...","Projects and groups":"Projekty i grupy","Project/group":"Projekt/grupa","Open to be contacted about potential collaboration opportunities":"Otwrz, aby zosta skontaktowanym z potencjalnymi moliwociami wsppracy","Does NOT wish to be contacted for potential collaboration!":"NIE ycz sobie kontaktu z potencjalnymi wsppracownikami!","This project is open for further partner organizations.":"","Join Project":"Docz do Projektu","Move up":"Przenie do gry","Move down":"Przenie na d","There are no items yet":"Nie ma widocznych elementw","Items you follow":"Pozycje, ktre ledz","Nothing here yet.":"Jeszcze nic tu nie ma.","Groups and Projects":"Grupy i Projekty","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"Tu moesz znale oglny zarys twoich Grup i Projektw gdy bdziesz raz aktywny w jednym lub wicej.","You can create Groups or Projects via the '+' button in the header.":"Moesz zaoy wasne grupy i projekty za pomoc przycisku \"+\" w nagwku.","Ideas I like":"Pomysy, ktre mi si podobaj","Here you can find an overview of Ideas you have liked.":"Tu w przyszoci znajdziesz podgld pomysw, ktre ci si podobaj.","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"Moesz doda wasne pomysy za pomoc przycisku + w nagwku lub przejrze pomysy innych","Discover":"Odkryj","We could not load more data at this time.":"Nie moemy teraz zaadowa wicej danych.","Retry":"Sprbuj ponownie"},"be":{"Groups":"","Like":"","Group":"","Title":"","Workshops":"","Results":"","Participants":"(-)","Description":"","Project":"","Topics":"","Likes":"","User":"(-)","Liked":"","Following":"","Events":"","Projects":"","Event":"","Members":"","Follow":"","Conference Applications":"","Report offensive content":"   ","From":"","Until":"","Contact":"","Send Message":" ","Invitations":"","Sustainable Development Goals":"","Membership request pending...":"     ...","You are invited!":"  !","All Groups":" ","All Projects":" ","Create Idea":" ","People":"","My Groups":" ","My Projects":" ","Ideas":"","My Ideas":" ","All Ideas":" ","My Organizations":"","All Organizations":"","Include contents from other platforms":"","My Users":" (-)","My Events":" ","All Users":" (-)","All Events":" ","Idea":"","Create User":" (-)","Create Event":" ","Create Project":" ","Create Group":" ","Categories":"","SDGS":"","Search for Names, Topics and Places...":" ,   ...","Search for Names and Topics...":"   ...","Where":"","In map area":"   ","If active, searching will be restricted to the visible map area.":" ,      .","Apply Filters":" ","Clear Filters":" ","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":"   ,  !","of":"","No results found.":"  .","Could not complete the search due to an error.":"   - .","Search when moving the map":"   ","Search this area":"   ","Find partners":"","You are not in any groups or projects yet":"","Ideas I am following":"","You have not RSVPed to any Events.":"","Go to Calendar":"","Find on map:":"","Entire Network":"","On the Map":"","SDG":"","from":"","You":"","Projects/Groups":"/","No info.":" .","Administrator":"","Administrators":"","Administrators unknown":" ","No description yet.":"  .","max.":"","If you do not want notifications, click the unfollow button!":"     ,    \" \"!","Could not save your like setting because of an error.":"      - .","Could not save your follow setting because of an error.":"      - .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"    ,  .     .","Back to location selection":"   ","Protected Content":" ","Sorry, but you cannot view details for this content.":",        .","This can happen when its visibility settings have changed recently.":"    ,     .","Please register or log in to continue!":" ,   ,  !","Error!":"!","Sorry, but the requested content could not be retrieved from the server.":" ,       .","Visit Event Page":"   ","You will now receive notifications for comments or when this event is updated or its details change.":"     ,          .","Hidden Users":" (-)","Hidden User":" (-)","This group is open for further partner organizations.":"","You are a Member":" ' ","Join Group":"  ","Author":"(-)","Create Project from Idea":"   ","Edit your Idea":"  ","You will receive a notification when a project is created from your liked idea.":"   ,        .","Projects - Created from this Idea":",    ","This organization is open for further partner organizations.":"","Open to be contacted about potential collaboration opportunities":"","Does NOT wish to be contacted for potential collaboration!":"","This project is open for further partner organizations.":"","Join Project":"  ","Items you follow":"","Nothing here yet.":"","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"","You can create Groups or Projects via the '+' button in the header.":"","Ideas I like":"","Here you can find an overview of Ideas you have liked.":"","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"","Discover":"","We could not load more data at this time.":"","Retry":""},"es":{"Groups":"Grupos","Group":"Grupo","Title":"Ttulo","Workshops":"","Results":"Resultados","Participants":"Participantes","Description":"Descripcin","Project":"Proyecto","Topics":"Temas","User":"Usario","Following":"Siguiendo","Events":"Eventos","Projects":"Proyectos","Event":"Evento","Members":"Miembros","Follow":"Seguir","Conference Applications":"","Report offensive content":"Informar contenido ofensivo","From":"De","Until":"Hasta","Contact":"Contacto","Send Message":"Enviar mensaje","Invitations":"Invitaciones","Sustainable Development Goals":"","Membership request pending...":"Solicitud de participacin pendiente...","You are invited!":"Estas invitado!","All Groups":"Todos los grupos","All Projects":"Todos los proyectos","Create Idea":"Crear idea","People":"Personas","My Groups":"Mis grupos","My Projects":"Mis proyectos","Ideas":"Ideas","My Ideas":"Mis Ideas","All Ideas":"Todas la ideas","My Organizations":"","All Organizations":"","Include contents from other platforms":"","My Users":"Mis usarios","My Events":"Mis eventos","All Users":"Todos los usarios","All Events":"Todos los eventos","Idea":"Idea","Create User":"Crear usario","Create Event":"Crear evento","Create Project":"Crear proyecto","Create Group":"Crear grupo","Categories":"","SDGS":"","Search for Names, Topics and Places...":"Buscar nombres, temas y lugares...","Search for Names and Topics...":"Buscar nombres y temas...","Where":"Donde","In map area":"En zona de mapa","If active, searching will be restricted to the visible map area.":"Si est activo, la bsqueda se restringir al rea de mapa visible.","Apply Filters":"Aplicar Filtros","Clear Filters":"Limpiar filtros","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"Calle","Create idea":"Crear idea","Next":"Prximo","Choose a location for your idea by dragging the marker!":"Elige un lugar para tu idea arrastrando el marcador!","of":"de","No results found.":"No se han encontrado resultados.","Could not complete the search due to an error.":"No se pudo completar la bsqueda debido a un error.","Search when moving the map":"Buscar al mover el mapa","Search this area":"Busca en esta zona","Find partners":"","You are not in any groups or projects yet":"","Ideas I am following":"","You have not RSVPed to any Events.":"","Go to Calendar":"","Find on map:":"","Entire Network":"","On the Map":"","SDG":"","from":"","You":"","Projects/Groups":"Proyectos/grupos","No info.":"Ninguna informacin.","Administrator":"Administrador","Administrators":"Administratores","Administrators unknown":"Administratores desconocidos","No description yet.":"An no hay descripcin.","max.":"","If you do not want notifications, click the unfollow button!":"Si no desea notificaciones, haga clic en el botn de dejar de seguir!","Could not save your like setting because of an error.":"No se pudo guardar tu configuracin de me gusta debido a un error.","Could not save your follow setting because of an error.":"No se pudo guardar tu configuracin de seguir debido a un error.","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"Elija una ubicacin para su idea arrastrando y soltando el marcador. Todava puede cambiar esta ubicacin ms adelante.","Back to location selection":"Volver a la seleccin del lugar","Protected Content":"Contenido potejido","Sorry, but you cannot view details for this content.":"Lo sentimos, pero to puedes ver detalles para este comtenido.","This can happen when its visibility settings have changed recently.":"Esto puede suceder cuando su configuracin de visibilidad ha cambiado recientemente.","Please register or log in to continue!":"Por favor regstrate o inicia sesin para continuar!","Error!":"Error!","Visit Event Page":"Visitar pgina de eventos","You will now receive notifications for comments or when this event is updated or its details change.":"Ahora recibirs notificaciones de comentarios o cuando este evento se actualice o sus detalles cambien.","Hidden Users":"Usuarios ocultos","Hidden User":"Usuario ocultos","This group is open for further partner organizations.":"","You are a Member":"Eres un miembro","Join Group":"Participar en el grupo","Author":"Autor","Create Project from Idea":"Crear proyecto de la idea","Edit your Idea":"Editar tu idea","You will receive a notification when a project is created from your liked idea.":"Recibirs una notificacin cuando se cree un proyecto de tu idea.","Projects - Created from this Idea":"Proyectos - Creados de esta idea","This organization is open for further partner organizations.":"","Open to be contacted about potential collaboration opportunities":"","Does NOT wish to be contacted for potential collaboration!":"","This project is open for further partner organizations.":"","Join Project":"Participar en el proyecto","Items you follow":"","Nothing here yet.":"","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"","You can create Groups or Projects via the '+' button in the header.":"","Ideas I like":"","Here you can find an overview of Ideas you have liked.":"","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"","Discover":"","We could not load more data at this time.":"","Retry":""},"ro":{"Groups":"Grupuri","Like":"Ca","Group":"Grup","Title":"Titlu","Workshops":"Ateliere","Results":"Rezultate","Participants":"Participani","Description":"Descriere","Project":"Proiect","Topics":"Subiecte","Likes":"i place","User":"Utilizator","Liked":"Plcut","Following":"Ca urmare","Events":"Evenimente","Projects":"Proiecte","Event":"Eveniment","Members":"Membrii","Follow":"Urmeaz","Report offensive content":"Raportai coninutul ofensator","From":"Din","Until":"Pn cnd","Contact":"Contact","Send Message":"Trimite mesaj","Invitations":"Invitaii","You will now receive notifications for content posted in this project.":"Acum vei primi notificri pentru coninutul postat n acest proiect.","You will now receive notifications for content posted in this group.":"Acum vei primi notificri pentru coninutul  postat n acest grup.","Sustainable Development Goals":"Obiectivele Dezvoltrii Durabile","Membership request pending...":"Cerere de membru n ateptare...","You are invited!":"Eti invitat!","All Groups":"Toate Grupurile","All Projects":"Toate Proiectele","Organizations":"Organizaii","Create Idea":"Crea Idee","People":"Oameni","My Groups":"Grupurile Mele","My Projects":"Proiectele Mele","Ideas":"Idei","My Ideas":"Ideile Mele","All Ideas":"Toate Ideile","My Organizations":"Organizaiile Mele","All Organizations":"Toate Organizaiile","My Users":"Utilizatorii Mei","My Events":"Evenimentele Mele","All Users":"Toi Utilizatorii","All Events":"Toate Evenimentele","Idea":"Ideea","Organization":"Organizare","Create User":"Creeaz Utilizator","Create Event":"Creeaz Eveniment","Create Project":"Creeaz Proiect","Create Group":"Creeaz Grup","Create Organization":"Creeaz Organizarea","Categories":"","SDGS":"SDGS","Search for Names, Topics and Places...":"Cutai Nume, Subiecte i Locuri...","Search for Names and Topics...":"Cutai Nume i Subiecte...","Where":"Unde","In map area":"n zona hrii","If active, searching will be restricted to the visible map area.":"Dac este activ, cutarea va fi limitat la zona de hart vizibil.","Apply Filters":"Aplicai Filtre","Clear Filters":"tergei Filtrele","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"Strada","Create idea":"Crea idee","Next":"Urmtor","Choose a location for your idea by dragging the marker!":"Alegei o locaie pentru ideea dvs. trgnd marcatorul!","of":"de","No results found.":"Nici un rezultat gsit.","Could not complete the search due to an error.":"Nu s-a putut finaliza cutarea din cauza unei erori.","Search when moving the map":"Cutai atunci cnd mutai harta","Search this area":"Cutai n aceast zon","Find partners":"","Membership Requests":"Cereri de Membru","My Groups and Projects":"Grupurile i Proiectele mele","Show more Projects of this Group":"Arat mai multe Proiecte ale acestui Grup","You are not in any groups or projects yet":"Nu suntei nc n nici un grup sau proiect","Create new Group":"Creai un Grup nou","Create new Project":"Creai un Proiect nou","Browse all Groups":"Rsfoii toate Grupurile","Browse all Projects":"Rsfoii toate Proiectele","You have not created any organizations yet.":"Nu ai creat nc nicio organizaie.","Create new Organization":"Creai o Organizaie nou","Browse all Organizations":"Rsfoii toate Organizrile","Search for Organizations":"Cutai organizaii","Ideas I am following":"Idei pe care le urmresc","You are not following any ideas yet.":"Nu urmai niciun fel de idei.","Post new Idea":"Posteaz o nou Idee","Browse all Ideas":"Rsfoii toate Ideile","Search for Ideas":"Caut Idei","You have not RSVPed to any Events.":"Nu ai fcut RSVPed la niciun Eveniment.","Add Event":"Adugai eveniment","Go to Calendar":"Accesai Calendar","There was an error loading the widget":"A aprut o eroare la ncrcarea widget-ului","Notifications":"Notificri","Show more":"Afiai mai multe","No current notifications":"Fr notificri actuale","Find on map:":"","Entire Network":"ntreaga Reea","On the Map":"Pe Hart","In my Groups and Projects":"n Grupurile i Proiectele mele","Topic":"Subiect","SDG":"SDG","from":"","You":"Tu","Projects/Groups":"Proiecte/Grupuri","No info.":"Fr informaii.","Administrator":"Administrator","Administrators":"Administratorii","Administrators unknown":"Administratorii necunoscui","No description yet.":"Nici o descriere nc.","max.":"","If you do not want notifications, click the unfollow button!":"Dac nu dorii notificri, facei clic pe butonul de urmrire!","Could not save your like setting because of an error.":"Nu s-a putut salva setarea dvs. similar din cauza unei erori.","Could not save your follow setting because of an error.":"Nu s-a putut salva setarea de urmrire din cauza unei erori.","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"Alegei o locaie pentru ideea dvs. trgnd & aruncnd marcajul. Putei schimba aceast locaie ulterior.","Back to location selection":"napoi la selecia locaiei","Protected Content":"Coninutul Protejat","Sorry, but you cannot view details for this content.":"Scuze, dar nu putei vedea detalii pentru acest coninut.","This can happen when its visibility settings have changed recently.":"Acest lucru se poate ntmpla atunci cnd setrile sale de vizibilitate s-au schimbat recent.","Please register or log in to continue!":"V rugm s v nregistrai sau s v autentificai pentru a continua!","Error!":"Eroare!","Sorry, but the requested content could not be retrieved from the server.":"Scuz, dar coninutul solicitat nu a putut fi preluat de pe server.","Visit Event Page":"Accesai Pagina de Evenimente","You will now receive notifications for comments or when this event is updated or its details change.":"A cum vei primi notificri pentru comentarii sau cnd acest eveniment este actualizat sau detaliile sale se schimb.","Hidden Users":"Utilizatorii ascuni","Hidden User":"Utilizator ascuns","This group is open for further partner organizations.":"","You are a Member":"Suntei membru","Join Group":"Alturai-v Grupului","Author":"Autor","Create Project from Idea":"Creai Proiect din Idea","Edit your Idea":"Editeaz-i Ideea","You will receive a notification when a project is created from your liked idea.":"Vei primi o notificare atunci cnd un proiect este creat din ideea dvs. preferat.","Projects - Created from this Idea":"Proiecte - Create din aceast Idee","This organization is open for further partner organizations.":"","You are a Admin":"Suntei un Administrator","Open to be contacted about potential collaboration opportunities":"Deschis pentru a fi contactat cu privire la oportunitile de colaborare poteniale","Does NOT wish to be contacted for potential collaboration!":"Nu dorete s fie contactat pentru o colaborare potenial!","This project is open for further partner organizations.":"","Join Project":"Alturai-v Proiectului","Move up":"Mut n sus","Move down":"Mut n jos","There are no items yet":"Nu exist articole nc","Nothing here yet.":"","Groups and Projects":"Grupuri i Proiecte","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"Aici putei gsi o imagine de ansamblu asupra Grupurilor i Proiectelor dvs. odat ce ai activat ntr-unul sau mai multe dintre acestea.","You can create Groups or Projects via the '+' button in the header.":"Putei crea Grupuri sau Proiecte prin intermediul '+' buton n antet.","Ideas I like":"Idei mi plac","Here you can find an overview of Ideas you have liked.":"Aici putei gsi o imagine o imagine de ansamblu a Ideilor care v-au plcut.","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"Putei s v creai propriile Idei cu ajutorul butonului '+' din antet sau putei descoperi Idei existente aici","Discover":"Descoperi","We could not load more data at this time.":"Nu am putut ncrca mai multe date n acest moment.","Retry":"Rencercare"},"nl":{"Groups":"Groepen","Like":"Vind ik leuk","Group":"Groep","Title":"Titel","Workshops":"Workshops","Results":"Resultaten","Participants":"Deelnemers","Description":"Beschrijving","Project":"Project","Topics":"Onderwerpen","Likes":"Likes","User":"Gebruiker","Liked":"Ge-liked","Following":"Volgend","Events":"Evenementen","Projects":"Projecten","Event":"Evenement","Members":"Leden","Follow":"Volgen","Report offensive content":"Aanstootgevende inhoud melden","From":"Van","Until":"Tot","Contact":"Contact","Send Message":"Bericht versturen","Invitations":"Uitnodigingen","You will now receive notifications for content posted in this project.":"Je ontvangt nu meldingen wanneer inhoud in dit project wordt geplaatst.","You will now receive notifications for content posted in this group.":"Je ontvangt nu meldingen wanneer inhoud in deze groep wordt geplaatst.","Sustainable Development Goals":"Doelstellingen duurzame ontwikeling","Membership request pending...":"Lidmaatschapsverzoek in behandeling","You are invited!":"Je bent uitgenodigd!","All Groups":"Alle groepen","All Projects":"Alle projecten","Organizations":"Organisaties","Create Idea":"Idee aanmaken","People":"Mensen","My Groups":"Mijn groepen","My Projects":"Mijn projecten","Ideas":"Ideen","My Ideas":"Mijn ideen","All Ideas":"Alle ideen","My Organizations":"Mijn organisaties","All Organizations":"Alle organisaties","My Users":"Mijn gebruikers","My Events":"Mijn evenementen","All Users":"Alle gebruikers","All Events":"Alle evenementen","Idea":"Idee","Organization":"Organisatie","Create User":"Gebruiker aanmaken","Create Event":"Evenement aanmaken","Create Project":"Project aanmaken","Create Group":"Groep aanmaken","Create Organization":"Organisatie aanmaken","Categories":"","SDGS":"SDGS","Search for Names, Topics and Places...":"Zoeken naar namen, onderwerpen en plaatsen","Search for Names and Topics...":"Zoeken naar namen en onderwerpen","Where":"Waar","In map area":"In kaartgebied","If active, searching will be restricted to the visible map area.":"Indien actief, wordt zoeken beperkt tot het zichtbare kaartgebied.","Apply Filters":"Filters toepassen","Clear Filters":"Filters wissen","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"Straat","Create idea":"Idee aanmaken","Next":"Volgende","Choose a location for your idea by dragging the marker!":"Kies een locatie voor je idee door de markering te slepen!","of":"uit","No results found.":"Geen resultaten gevonden.","Could not complete the search due to an error.":"Kan de zoekopdracht niet voltooien vanwege een fout.","Search when moving the map":"Zoeken door het verplaatsen van de kaart","Search this area":"Zoeken in dit gebied","Find partners":"","Membership Requests":"Lidmaatschapsverzoek","My Groups and Projects":"Mijn groepen en projecten","Show more Projects of this Group":"Toon meer projecten van deze groep","You are not in any groups or projects yet":"Je zit nog niet in groepen of projecten","Create new Group":"Nieuwe groep aanmaken","Create new Project":"Nieuw project aanmaken","Browse all Groups":"Blader door alle groepen","Browse all Projects":"Blader door alle projecten","You have not created any organizations yet.":"Je hebt niet ge-RSVPED op evenementen.","Create new Organization":"Nieuwe organisatie aanmaken","Browse all Organizations":"Blader door alle organisaties","Search for Organizations":"Zoek naar organisaties","Ideas I am following":"Ideen die ik volg","You are not following any ideas yet.":"Je volgt nog geen ideen.","Post new Idea":"Nieuw idee posten","Browse all Ideas":"Blader door alle ideen","Search for Ideas":"Zoek naar ideen","You have not RSVPed to any Events.":"Je hebt niet ge-RSVPED op evenementen.","Add Event":"Evenement toevoegen","Go to Calendar":"Ga naar kalender","There was an error loading the widget":"Er is een fout opgetreden bij het laden van de widget","Notifications":"Notificaties","Show more":"Toon meer","No current notifications":"Momenteel geen notificaties","Find on map:":"","Entire Network":"Volledig netwerk","On the Map":"Op de kaart","In my Groups and Projects":"In mijn groepen en projecten","Topic":"Onderwerp","SDG":"SDG","from":"","You":"Jij","Projects/Groups":"Projecten/groepen","No info.":"Geen informatie.","Administrator":"Beheerder","Administrators":"Beheerders","Administrators unknown":"Beheerders onbekend","No description yet.":"Nog geen beschrijving.","max.":"","If you do not want notifications, click the unfollow button!":"Als je geen meldingen wilt ontvangen, klik je op de knop niet meer volgen!","Could not save your like setting because of an error.":"Kan je like-instelling niet opslaan vanwege een fout.","Could not save your follow setting because of an error.":"Kan je volginstelling niet opslaan vanwege een fout.","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"Kies een locatie voor je idee door de markering te slepen en neer te zetten. Je kunt deze locatie later nog wijzigen.","Back to location selection":"Terug naar locatie selectie","Protected Content":"Beschermde inhoud","Sorry, but you cannot view details for this content.":"Sorry, je kunt geen details bekijken voor deze inhoud.","This can happen when its visibility settings have changed recently.":"Dit kan gebeuren wanneer de zichtbaarheidsinstellingen onlangs zijn gewijzigd.","Please register or log in to continue!":"Registreer of log in om door te gaan!","Error!":"Foutmelding!","Sorry, but the requested content could not be retrieved from the server.":"Sorry, de gevraagde inhoud kon helaas niet worden opgehaald van de server.","Visit Event Page":"Bezoek evenementenpagina","You will now receive notifications for comments or when this event is updated or its details change.":"Je ontvangt nu meldingen voor reacties of wanneer dit evenement wordt bijgewerkt of de details ervan veranderen.","Hidden Users":"Verborgen gebruikers","Hidden User":"Verborgen gebruiker","This group is open for further partner organizations.":"","You are a Member":"Je bent lid","Join Group":"Deelnemen aan groep","Author":"Auteur","Create Project from Idea":"Maak project aan van idee","Edit your Idea":"Wijzig je idee","You will receive a notification when a project is created from your liked idea.":"Je ontvangt een melding wanneer een project wordt gemaakt op basis van je idee.","Projects - Created from this Idea":"Projecten - gemaakt van dit idee","This organization is open for further partner organizations.":"","You are a Admin":"Je bent beheerder","Open to be contacted about potential collaboration opportunities":"Open om gecontacteerd te worden over mogelijke samenwerkingsmogelijkheden","Does NOT wish to be contacted for potential collaboration!":"Wenst NIET gecontacteerd te worden voor mogelijke samenwerking!","This project is open for further partner organizations.":"","Join Project":"Meedoen aan project","Move up":"Omhoog","Move down":"Omlaag","There are no items yet":"Er zijn nog geen items","Nothing here yet.":"","Groups and Projects":"Groepen en projecten","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"Hier vind je een overzicht van je groepen en projecten zodra je in een of meer actief wordt.","You can create Groups or Projects via the '+' button in the header.":"Je kunt groepen of projecten maken via de knop + in de header.","Ideas I like":"Ideen die ik leuk vind","Here you can find an overview of Ideas you have liked.":"Hier vind je een overzicht van ideen die je leuk vindt.","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"Je kunt je eigen ideen maken via de knop + in de header of je kunt hier bestaande ideen ontdekken","Discover":"Ontdekken","We could not load more data at this time.":"We kunnen momenteel geen gegevens meer laden.","Retry":"Opnieuw proberen"},"az":{"Groups":"Qruplar","Like":"Bynm","Group":"Qrup","Title":"Balq","Workshops":"","Results":"Nticlr","Participants":"tiraklar","Description":"Tsvir","Project":"Layih","Topics":"Mvzular","Likes":"Bynmlr","User":"stifadi","Liked":"Bynilmilr","Following":"Aadak","Events":"Tdbirlr","Projects":"Layihlr","Event":"Tdbir","Members":"zvlr","Follow":"zl","Report offensive content":"Thqiramiz mzmunu bildirin","From":"Dan/dn","Until":"Qdr","Contact":"laq","Send Message":"Mesaj Gndrin","Invitations":"Dvtlr","You will now receive notifications for content posted in this project.":"ndi bu layihd yerldiriln mzmun n bildirilr alacaqsnz.","You will now receive notifications for content posted in this group.":"ndi bu qrupda yerldiriln mzmun n bildirilr alacaqsnz.","Sustainable Development Goals":"","Membership request pending...":"zvlk tlbi gzlyir...","You are invited!":"Siz dvtlisiniz!","All Groups":"Btn qruplar","All Projects":"Btn layihlr","Create Idea":"dea Yaradn","People":"nsanlar","My Groups":"Mnim Qrupum","My Projects":"Mnim layihlrim","Ideas":"deyalar","My Ideas":"Mnim deyalarm","All Ideas":"Btn deyalar","My Organizations":"","All Organizations":"","Include contents from other platforms":"","My Users":"stifadilrim","My Events":"Tdbirlrim","All Users":"Btn istifadilr","All Events":"Btn Tdbirlr","Idea":"deya","Create User":"stifadi Yaradn","Create Event":"Tdbir Yaradn","Create Project":"Layih Yaradn","Create Group":"Qrup Yaradn","Categories":"","SDGS":"","Search for Names, Topics and Places...":"Adlar, mvzular v Yerlr n axtar...","Search for Names and Topics...":"Adlar v mvzular n axtar...","Where":"Hara","In map area":"Xrit blgsind","If active, searching will be restricted to the visible map area.":"Aktiv olduqda, grnn xrit sahsi il mhdudlaacaqdr.","Apply Filters":"Filtrlr ttbiq edin","Clear Filters":"Filtrlri tmizlyin","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"K","Create idea":"dea Yaradn","Next":"Nvbti","Choose a location for your idea by dragging the marker!":"Markeri srdrrk ideyanz n bir dislokasiya sein!","of":"n/in/n/un","No results found.":"He bir ntic taplmad.","Could not complete the search due to an error.":"Shv sbbindn axtar baa atdrla bilmdi.","Search when moving the map":"Xritni hrkt edrkn axtarn","Search this area":"Bu razini aradrn","Find partners":"","Membership Requests":"zvlk stklri","My Groups and Projects":"Qruplarm v Layihlrim","Show more Projects of this Group":"Bu Qrupun Layihlrini daha ox gstr","You are not in any groups or projects yet":"Hl he bir qrupda v ya layihd deyilsiniz","Create new Group":"Yeni Qrup Yaradn","Create new Project":"Yeni Layih Yaradn","Browse all Groups":"Btn Qruplar gstrin","Browse all Projects":"Btn Layihlri gstrin","Ideas I am following":"zldiyim deyalar","You are not following any ideas yet.":"Hl he bir ideya izlmirsiniz.","Post new Idea":"Yeni deya gndrin","Browse all Ideas":"Btn deyalar gstrin","Search for Ideas":"deyalar n Axtar","You have not RSVPed to any Events.":"He bir Tdbir dvtin cavab vermmisiniz.","Add Event":"Tdbir lav et","Go to Calendar":"Tqvim get","There was an error loading the widget":"Widjet yklnrkn xta ba verdi","Notifications":"Bildirilr","Show more":"Daha ox gstr","No current notifications":"Cari bildiri yoxdur","Find on map:":"","Entire Network":"Btn bk","On the Map":"Xritd","In my Groups and Projects":"In my Groups and Projects","Topic":"Mvzu","SDG":"","from":"","You":"Sn","Projects/Groups":"Layihlr/Qruplar","No info.":"Mlumat yoxdur.","Administrator":"Admin","Administrators":"Adminlr","Administrators unknown":"Namlum adminlr","No description yet.":"Hl tsvir yoxdur.","max.":"","If you do not want notifications, click the unfollow button!":"Bildirilr almaq istmirsinizs, izlmni dayandr dymsin kliklyin!","Could not save your like setting because of an error.":"Xta sbbindn bynm parametrinizi yaddada saxlaya bilmdik.","Could not save your follow setting because of an error.":"Xta sbbindn izlm parametrinizi yaddada saxlaya bilmdik.","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"Markeri sryb ataraq ideyalarnz n bir dislokasiya sein. Daha sonra bu yeri dyi bilrsiniz.","Back to location selection":"Dislokasiya seimin qayt","Protected Content":"Qorunan Mzmun","Sorry, but you cannot view details for this content.":"Balayn, lakin bu mzmun n tfrratlar gr bilmzsiniz.","This can happen when its visibility settings have changed recently.":"Grm parametrlri yaxn zamanda dyidikd bu ba ver bilr.","Please register or log in to continue!":"Xahi edirm qeydiyyatdan kein v ya davam etmk n daxil olun!","Error!":"Xta!","Sorry, but the requested content could not be retrieved from the server.":"Balayn, ancaq tlb olunan mzmunu serverdn almaq mmkn olmad.","Visit Event Page":"Tdbir Shifsin ba kin","You will now receive notifications for comments or when this event is updated or its details change.":"ndi rhlr n v ya bu tdbir yenilndikd v ya detallar dyidikd bildirilr alacaqsnz.","Hidden Users":"Gizli stifadilr","Hidden User":"Gizli stifadi","This group is open for further partner organizations.":"","You are a Member":"Siz zvsnz","Join Group":"Qrupa Qoulun","Author":"Mllif","Create Project from Idea":"deayadan Layih Yaradn","Edit your Idea":"deaynz redakt edin","You will receive a notification when a project is created from your liked idea.":"Byndiyiniz ideyalardan bir layih yaradldqda bir bildiri alacaqsnz.","Projects - Created from this Idea":"Layihlr - Bu deyadan yaradlb","This organization is open for further partner organizations.":"","Open to be contacted about potential collaboration opportunities":"Potensial mkdalq imkanlar n laq qurmaa aq olun","Does NOT wish to be contacted for potential collaboration!":"Potensial mkdalq n laq qurmaq STMR!","This project is open for further partner organizations.":"","Join Project":"Layihy qoulun","Move up":"Yuxarya doru hrkt edin","Move down":"Aaya doru hrkt edin","There are no items yet":"Hllik yalar yoxdur","Nothing here yet.":"","Groups and Projects":"Qruplar v Layihlr","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"Qruplarnz v Layihlrinizin icmaln bunlardan birind v ya bir nesind fal olduqdan sonra tapa bilrsiniz.","You can create Groups or Projects via the '+' button in the header.":"Balqdak '+' dymsin vasitsil Qruplar v ya Layihlr yarada bilrsiniz.","Ideas I like":"Byndiyim ideyalar","Here you can find an overview of Ideas you have liked.":"Burada byndiyiniz ideyalarn mumi icmaln tapa bilrsiniz.","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"Balqdak '+' dymsin il z deyalarnz yarada bilrsiniz v ya mvcud deyalar burada akar ed bilrsiniz","Discover":"Akar etmk","We could not load more data at this time.":"Bu anda daha ox mlumat ykly bilmdik.","Retry":"Yenidn chd edin"},"hy":{"Groups":"","Like":"","Group":"","Title":"","Workshops":"","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"","Liked":"","Following":" ","Events":"","Projects":"","Event":"","Members":"","Follow":"","Report offensive content":"   ","From":"","Until":"","Contact":"","Send Message":" ","Invitations":"","You will now receive notifications for content posted in this project.":"        .","You will now receive notifications for content posted in this group.":"        .","Sustainable Development Goals":"","Membership request pending...":"     ...","You are invited!":"  !","All Groups":" ","All Projects":" ","Create Idea":" ","People":"","My Groups":" ","My Projects":" ","Ideas":"","My Ideas":" ","All Ideas":" ","My Organizations":"","All Organizations":"","Include contents from other platforms":"","My Users":" ","My Events":" ","All Users":" ","All Events":" ","Idea":"","Create User":" ","Create Event":" ","Create Project":" ","Create Group":" ","Categories":"","SDGS":"","Search for Names, Topics and Places...":" ,    ...","Search for Names and Topics...":"    ...","Where":"","In map area":" ","If active, searching will be restricted to the visible map area.":"       .","Apply Filters":" ","Clear Filters":" ","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":"      !","of":"-","No results found.":"    .","Could not complete the search due to an error.":"    .","Search when moving the map":"  ","Search this area":"  ","Find partners":"","Membership Requests":" ","My Groups and Projects":"   ","Show more Projects of this Group":"     ","You are not in any groups or projects yet":"       ","Create new Group":"  ","Create new Project":"  ","Browse all Groups":"  ","Browse all Projects":"  ","Ideas I am following":",    ","You are not following any ideas yet.":"      .","Post new Idea":"  ","Browse all Ideas":"  ","Search for Ideas":" ","You have not RSVPed to any Events.":"   RSVP  .","Add Event":" ","Go to Calendar":" ","There was an error loading the widget":"    ","Notifications":"","Show more":" ","No current notifications":"  ","Find on map:":"","Entire Network":" ","On the Map":" ","In my Groups and Projects":"  / ","Topic":"","SDG":"","from":"","You":"","Projects/Groups":" / ","No info.":" .","Administrator":"","Administrators":"","Administrators unknown":"  ","No description yet.":"  .","max.":"","If you do not want notifications, click the unfollow button!":"     ,  unfollow !","Could not save your like setting because of an error.":"     .","Could not save your follow setting because of an error.":"     .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"       :          .","Back to location selection":"   ","Protected Content":" ","Sorry, but you cannot view details for this content.":",        .","This can happen when its visibility settings have changed recently.":"      ,        .","Please register or log in to continue!":"        !","Error!":"!","Sorry, but the requested content could not be retrieved from the server.":",       .","Visit Event Page":"  ","You will now receive notifications for comments or when this event is updated or its details change.":"     ,         .","Hidden Users":" ","Hidden User":" ","This group is open for further partner organizations.":"","You are a Member":"  ","Join Group":" ","Author":"","Create Project from Idea":"  ","Edit your Idea":"  ","You will receive a notification when a project is created from your liked idea.":"  ,      .","Projects - Created from this Idea":" -   ","This organization is open for further partner organizations.":"","Open to be contacted about potential collaboration opportunities":"     ","Does NOT wish to be contacted for potential collaboration!":"     !","This project is open for further partner organizations.":"","Join Project":" ","Move up":"","Move down":"","There are no items yet":"  ","Nothing here yet.":"","Groups and Projects":"  ","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"                  .","You can create Groups or Projects via the '+' button in the header.":"         '+'  .","Ideas I like":"  ","Here you can find an overview of Ideas you have liked.":"       .","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"          +        ","Discover":"","We could not load more data at this time.":"       .","Retry":" "},"ka":{"Groups":"","Like":"","Group":"","Title":"","Workshops":"","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"","Liked":"","Following":"","Events":"","Projects":"","Event":"","Members":"","Follow":" ","Report offensive content":"  ","From":"","Until":"","Contact":"","Send Message":" ","Invitations":"","You will now receive notifications for content posted in this project.":"       .","You will now receive notifications for content posted in this group.":"       .","Sustainable Development Goals":"","Membership request pending...":"  ...","You are invited!":"  !","All Groups":" ","All Projects":" ","Create Idea":" ","People":"","My Groups":" ","My Projects":" ","Ideas":"","My Ideas":" ","All Ideas":" ","My Organizations":"","All Organizations":"","Include contents from other platforms":"","My Users":" ","My Events":" ","All Users":" ","All Events":" ","Idea":"","Create User":" ","Create Event":" ","Create Project":" ","Create Group":" ","Categories":"","SDGS":"","Search for Names, Topics and Places...":",    ...","Search for Names and Topics...":"   ...","Where":"","In map area":" ","If active, searching will be restricted to the visible map area.":" ,      .","Apply Filters":" ","Clear Filters":" ","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":"      !","No results found.":"  .","Could not complete the search due to an error.":"     .","Search when moving the map":"  ","Search this area":"  ","Find partners":"","Membership Requests":" ","My Groups and Projects":"   ","Show more Projects of this Group":"    ","You are not in any groups or projects yet":"       ","Create new Group":"  ","Create new Project":"  ","Browse all Groups":"  ","Browse all Projects":"  ","Ideas I am following":"   ","You are not following any ideas yet.":"     .","Post new Idea":"  ","Browse all Ideas":"  ","Search for Ideas":" ","You have not RSVPed to any Events.":"   RSVPed  .","Add Event":" ","Go to Calendar":" ","There was an error loading the widget":"   ","Notifications":"","Show more":" ","No current notifications":" ","Find on map:":"","Entire Network":" ","On the Map":"","In my Groups and Projects":"   ","Topic":"","SDG":"","from":"","You":"","Projects/Groups":"/","No info.":"  .","Administrator":"","Administrators":"","Administrators unknown":"   ","No description yet.":"   .","max.":"","If you do not want notifications, click the unfollow button!":"    ,    !","Could not save your like setting because of an error.":" ,      .","Could not save your follow setting because of an error.":" ,      .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"      .     .","Back to location selection":"  ","Protected Content":" ","Sorry, but you cannot view details for this content.":" ,        .","This can happen when its visibility settings have changed recently.":"  ,       .","Please register or log in to continue!":",    !","Error!":"!","Sorry, but the requested content could not be retrieved from the server.":" ,     .","Visit Event Page":"  ","You will now receive notifications for comments or when this event is updated or its details change.":"    . ,        .","Hidden Users":" ","Hidden User":" ","This group is open for further partner organizations.":"","You are a Member":"  ","Join Group":" ","Author":"","Create Project from Idea":"  ","Edit your Idea":"  ","You will receive a notification when a project is created from your liked idea.":"  ,       .","Projects - Created from this Idea":" -   ","This organization is open for further partner organizations.":"","Open to be contacted about potential collaboration opportunities":",      ","Does NOT wish to be contacted for potential collaboration!":"    !","This project is open for further partner organizations.":"","Join Project":" ","Move up":"","Move down":"","There are no items yet":"   ","Nothing here yet.":"","Groups and Projects":"  ","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"       ,      -  .","You can create Groups or Projects via the '+' button in the header.":"      '+'   .","Ideas I like":",   ","Here you can find an overview of Ideas you have liked.":"       .","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"      '+'       ","Discover":"","We could not load more data at this time.":"      .","Retry":""},"kk":{"Groups":"","Like":"","Group":"","Title":"","Workshops":"","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"","Liked":"","Following":"","Events":"","Projects":"","Event":"","Members":"","Follow":"","Report offensive content":" ","From":"","Until":"","Contact":"","Send Message":"X ","Invitations":"","You will now receive notifications for content posted in this project.":"       .","You will now receive notifications for content posted in this group.":"       .","Sustainable Development Goals":"","Membership request pending...":"  .","You are invited!":" !","All Groups":" ","All Projects":" ","Create Idea":" ","People":"","My Groups":" ","My Projects":" ","Ideas":"","My Ideas":" ","All Ideas":" ","My Organizations":"","All Organizations":"","Include contents from other platforms":"","My Users":" ","My Events":" ","All Users":" ","All Events":" ","Idea":"","Create User":" ","Create Event":" ","Create Project":" ","Create Group":" ","Categories":"","SDGS":"","Search for Names, Topics and Places...":",    .","Search for Names and Topics...":"   .","Where":"","In map area":"","If active, searching will be restricted to the visible map area.":" ,     .","Apply Filters":" ","Clear Filters":"  ","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":" ,    !","of":"","No results found.":" .","Could not complete the search due to an error.":"     .","Search when moving the map":"  ","Search this area":"  ","Find partners":"","Membership Requests":" ","My Groups and Projects":"   ","Show more Projects of this Group":"    ","You are not in any groups or projects yet":"      ","Create new Group":"  ","Create new Project":"  ","Browse all Groups":"  ","Browse all Projects":"  ","Ideas I am following":"  ","You are not following any ideas yet.":"    .","Post new Idea":"  ","Browse all Ideas":"  ","Search for Ideas":" ","You have not RSVPed to any Events.":"    .","Add Event":" ","Go to Calendar":" ","There was an error loading the widget":"     ","Notifications":"","Show more":" ","No current notifications":" ","Find on map:":"","Entire Network":" ","On the Map":"","In my Groups and Projects":"   ","Topic":"","SDG":"","from":"","You":"","Projects/Groups":"/","No info.":" .","Administrator":"","Administrators":"","Administrators unknown":" ","No description yet.":" .","max.":"","If you do not want notifications, click the unfollow button!":"    ,    !","Could not save your like setting because of an error.":" ,     .","Could not save your follow setting because of an error.":"      .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"       .      .","Back to location selection":"  ","Protected Content":" ","Sorry, but you cannot view details for this content.":",        .","This can happen when its visibility settings have changed recently.":"         .","Please register or log in to continue!":"    !","Error!":"!","Sorry, but the requested content could not be retrieved from the server.":",      .","Visit Event Page":" ","You will now receive notifications for comments or when this event is updated or its details change.":"              .","Hidden Users":" ","Hidden User":" ","This group is open for further partner organizations.":"","You are a Member":" ","Join Group":" ","Author":"","Create Project from Idea":"  ","Edit your Idea":" ","You will receive a notification when a project is created from your liked idea.":"        .","Projects - Created from this Idea":" -   ","This organization is open for further partner organizations.":"","Open to be contacted about potential collaboration opportunities":"     ","Does NOT wish to be contacted for potential collaboration!":"    !","This project is open for further partner organizations.":"","Join Project":" ","Move up":" ","Move down":" ","There are no items yet":"    ","Nothing here yet.":"","Groups and Projects":"  ","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"             .","You can create Groups or Projects via the '+' button in the header.":" +        .","Ideas I like":"  ","Here you can find an overview of Ideas you have liked.":"      .","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":" +             ","Discover":" ","We could not load more data at this time.":"      .","Retry":""},"he":{"Groups":"","Like":"","Group":"","Title":"","Workshops":"","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"","Liked":"","Following":"","Events":"","Projects":"","Event":"","Members":"","Follow":"","Conference Applications":"  ","Report offensive content":"   ","From":"","Until":"","website":" ","Contact":"  ","Send Message":" ","Invitations":"","You will now receive notifications for content posted in this project.":"       .","You will now receive notifications for content posted in this group.":"       .","Sustainable Development Goals":"   ","Membership request pending...":"  ...","You are invited!":"!","All Groups":" ","All Projects":" ","Organizations":"","Create Idea":" ","People":"","My Groups":" ","My Projects":" ","Ideas":"","My Ideas":" ","All Ideas":" ","My Organizations":" ","All Organizations":" ","My Users":" ","My Events":" ","My Cloud Files":"  ","All Users":" ","All Events":" ","Cloud Files":" ","Idea":"","Organization":"","Cloud File":" ","Create User":" ","Create Event":" ","Create Project":" ","Create Group":" ","Create Organization":" ","Categories":"","SDGS":"   ","Search for Names, Topics and Places...":" ,  ...","Search for Names and Topics...":"  ...","Where":"","In map area":" ","If active, searching will be restricted to the visible map area.":"  ,      .","Apply Filters":" ","Clear Filters":" ","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":"     -  !","of":"","No results found.":"  .","Could not complete the search due to an error.":"       .","Search when moving the map":"   ","Search this area":"  ","Find partners":"","Membership Requests":" ","My Groups and Projects":"  ","Show more Projects of this Group":"     ","You are not in any groups or projects yet":"       ","Create new Group":"  ","Create new Project":"  ","Browse all Groups":"  ","Browse all Projects":"  ","You have not created any organizations yet.":"  .","Create new Organization":"  ","Browse all Organizations":"  ","Search for Organizations":" ","Ideas I am following":"   ","You are not following any ideas yet.":"     .","Post new Idea":"  ","Browse all Ideas":"  ","Search for Ideas":" ","You have not RSVPed to any Events.":"  RSVPed  .","Add Event":" ","Go to Calendar":"   ","There was an error loading the widget":"   ","Notifications":"","Show more":" ","No current notifications":" ","Find on map:":"","Entire Network":" ","On the Map":" ","In my Groups and Projects":"  ","In my Cloud Files":"  ","Topic":"","SDG":"   ","from":"","You":"/","Projects/Groups":"/","No info.":" .","Administrator":" ","Administrators":" ","Administrators unknown":"   ","No description yet.":"  .","max.":".","You are participating":"  ","Participation request pending...":"  ...","Participate":"","You will now receive notifications for content posted.":"     .","If you do not want notifications, click the unfollow button!":"    ,     !","Could not save your like setting because of an error.":"      -like   .","Could not save your follow setting because of an error.":"        .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"     -   .       .","Back to location selection":"  ","Protected Content":" ","Sorry, but you cannot view details for this content.":",       .","This can happen when its visibility settings have changed recently.":"        .","Please register or log in to continue!":"     !","Error!":"!","Sorry, but the requested content could not be retrieved from the server.":",         .","Visit Event Page":"  ","You will now receive notifications for comments or when this event is updated or its details change.":"    ,    .","Hidden Users":" ","Hidden User":" ","This group is open for further partner organizations.":"","You are a Member":" ","Join Group":" ","Author":"","Create Project from Idea":"  ","Edit your Idea":"   ","You will receive a notification when a project is created from your liked idea.":"      .","Projects - Created from this Idea":"   ","This organization is open for further partner organizations.":"","You are a Admin":"  ","Ownership request pending...":"  ...","Projects and groups":" ","Project/group":"/","Open to be contacted about potential collaboration opportunities":"       ","Does NOT wish to be contacted for potential collaboration!":"        !","This project is open for further partner organizations.":"","Join Project":" ","Move up":" ","Move down":" ","There are no items yet":"  ","Items you follow":"   ","Nothing here yet.":"  .","Groups and Projects":" ","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"              .","You can create Groups or Projects via the '+' button in the header.":"       '+'  .","Ideas I like":"  /","Here you can find an overview of Ideas you have liked.":"       .","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"      '+'       ","Discover":"/","We could not load more data at this time.":"        .","Retry":" "},"ar":{"Groups":"","Like":"","Group":"","Title":"","Workshops":" ","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"","Events":"","Projects":"","Event":"","Members":"","Follow":"","Conference Applications":" ","Report offensive content":"   ","From":"","Until":"","Contact":"","Send Message":" ","Invitations":"","You will now receive notifications for content posted in this project.":"       .","You will now receive notifications for content posted in this group.":"       .","Sustainable Development Goals":"  ","Membership request pending...":"  ...","You are invited!":" !","All Groups":" ","All Projects":" ","Organizations":"","Create Idea":" ","People":"","My Groups":"","My Projects":"","Ideas":"","My Ideas":"","All Ideas":" ","My Organizations":"","All Organizations":" ","My Users":" ","My Events":" ","My Cloud Files":"  ","All Users":" ","All Events":" ","Cloud Files":" ","Idea":"","Organization":"","Cloud File":" ","Create User":" ","Create Event":" ","Create Project":" ","Create Group":" ","Create Organization":" ","Categories":"","SDGS":"   SDGS","Search for Names, Topics and Places...":"    ...","Search for Names and Topics...":"   ...","Where":"","In map area":"  ","If active, searching will be restricted to the visible map area.":"        .","Apply Filters":"   ","Clear Filters":"   ","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":"      !","of":"","No results found.":"    .","Could not complete the search due to an error.":"    .","Search when moving the map":"   ","Search this area":"   ","Find partners":"","Membership Requests":" ","My Groups and Projects":" ","Show more Projects of this Group":"     ","You are not in any groups or projects yet":"        ","Create new Group":"  ","Create new Project":"  ","Browse all Groups":"  ","Browse all Projects":"  ","You have not created any organizations yet.":"        .","Create new Organization":"  ","Browse all Organizations":"  ","Search for Organizations":"  ","Ideas I am following":"  ","You are not following any ideas yet.":"      .","Post new Idea":"  ","Browse all Ideas":"  ","Search for Ideas":"  ","You have not RSVPed to any Events.":"        .","Add Event":" ","Go to Calendar":"  ","There was an error loading the widget":"    ","Notifications":"","Show more":" ","No current notifications":"   ","Find on map:":"","Entire Network":" ","On the Map":" ","In my Groups and Projects":"  ","In my Cloud Files":"   ","Topic":"","SDG":"   SDG","from":"","You":"","Projects/Groups":"/","No info.":" .","Administrator":"","Administrators":"","Administrators unknown":"  ","No description yet.":"    .","max.":"","You are participating":" ","Participation request pending...":"  ...","Participate":"","You will now receive notifications for content posted.":"       .","If you do not want notifications, click the unfollow button!":"         !","Could not save your like setting because of an error.":"       .","Could not save your follow setting because of an error.":"     .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"       .       .","Back to location selection":"   ","Protected Content":" ","Sorry, but you cannot view details for this content.":"       .","This can happen when its visibility settings have changed recently.":"          .","Please register or log in to continue!":"    !","Error!":"!","Sorry, but the requested content could not be retrieved from the server.":"        .","Visit Event Page":"   ","You will now receive notifications for comments or when this event is updated or its details change.":"            .","Hidden Users":" ","Hidden User":" ","This group is open for further partner organizations.":"","You are a Member":" ","Join Group":" ","Author":"","Create Project from Idea":"   ","Edit your Idea":"  ","You will receive a notification when a project is created from your liked idea.":"       .","Projects - Created from this Idea":" -      ","This organization is open for further partner organizations.":"","You are a Admin":" ","Ownership request pending...":"  ...","Projects and groups":" ","Project/group":"/","Open to be contacted about potential collaboration opportunities":"        ","Does NOT wish to be contacted for potential collaboration!":"          !","This project is open for further partner organizations.":"","Join Project":"  ","Move up":"  ","Move down":"  ","There are no items yet":"    ","Items you follow":"  ","Nothing here yet.":"    .","Groups and Projects":" ","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"                 .","You can create Groups or Projects via the '+' button in the header.":"       \"+\"  .","Ideas I like":"   ","Here you can find an overview of Ideas you have liked.":"         .","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"       \"+\"        ","Discover":"","We could not load more data at this time.":"         .","Retry":" "},"el":{"Groups":"","Like":" ","Group":"","Title":"","Workshops":"","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":" ","User":"","Liked":" ","Following":"","Events":"","Projects":"","Event":"","Members":"","Follow":"","Conference Applications":" ","Report offensive content":"  ","From":"","Until":"","website":"","Contact":"","Send Message":" ","Invitations":"","You will now receive notifications for content posted in this project.":"           .","You will now receive notifications for content posted in this group.":"           .","Sustainable Development Goals":"  ","Membership request pending...":"  ...","You are invited!":" !","All Groups":"  ","All Projects":"  ","Organizations":"","Create Idea":" ","People":"","My Groups":"  ","My Projects":"  ","Ideas":"","My Ideas":"  ","All Ideas":"  ","My Organizations":"  ","All Organizations":"  ","My Users":"  ","My Events":"  ","My Cloud Files":"  Cloud","All Users":"  ","All Events":"  ","Cloud Files":" Cloud","Idea":"","Organization":"","Cloud File":" Cloud","Create User":" ","Create Event":" ","Create Project":" ","Create Group":" ","Create Organization":" ","Categories":"","SDGS":"SDGS","Search for Names, Topics and Places...":"  ,   ...","Search for Names and Topics...":"    ...","Where":"","In map area":"   ","If active, searching will be restricted to the visible map area.":"  ,         .","Apply Filters":" ","Clear Filters":" ","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":"         !","of":"","No results found.":"  .","Could not complete the search due to an error.":"        .","Search when moving the map":"     ","Search this area":"   ","Find partners":"","Membership Requests":" ","My Groups and Projects":"     ","Show more Projects of this Group":"     ","You are not in any groups or projects yet":"       ","Create new Group":"  ","Create new Project":"  ","Browse all Groups":"    ","Browse all Projects":"    ","You have not created any organizations yet.":"    .","Create new Organization":"  ","Browse all Organizations":"    ","Search for Organizations":"  ","Ideas I am following":"  ","You are not following any ideas yet.":"    .","Post new Idea":"  ","Browse all Ideas":"    ","Search for Ideas":"  ","You have not RSVPed to any Events.":"      .","Add Event":" ","Go to Calendar":"  ","There was an error loading the widget":"      widget","Notifications":"","Show more":" ","No current notifications":"  ","Find on map:":"","Entire Network":" ","On the Map":" ","In my Groups and Projects":"    ","In my Cloud Files":"  Cloud","Topic":"","SDG":"SDG","from":"","You":"","Projects/Groups":"/","No info.":" ","Administrator":"","Administrators":"","Administrators unknown":" ","No description yet.":"  .","max.":"","You are participating":"","Participation request pending...":"  ...","Participate":"","You will now receive notifications for content posted.":"       .","If you do not want notifications, click the unfollow button!":"     ,         !","Could not save your like setting because of an error.":"       \" \"  .","Could not save your follow setting because of an error.":"       \"\"  .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"          .        .","Back to location selection":"   ","Protected Content":" ","Sorry, but you cannot view details for this content.":"           .","This can happen when its visibility settings have changed recently.":"          .","Please register or log in to continue!":"     !","Error!":"!","Sorry, but the requested content could not be retrieved from the server.":"             .","Visit Event Page":"  ","You will now receive notifications for comments or when this event is updated or its details change.":"                .","Hidden Users":" ","Hidden User":" ","This group is open for further partner organizations.":"","You are a Member":" ","Join Group":"  ","Author":"","Create Project from Idea":"   ","Edit your Idea":"   ","You will receive a notification when a project is created from your liked idea.":"            .","Projects - Created from this Idea":"      ","This organization is open for further partner organizations.":"","You are a Admin":" ","Ownership request pending...":"  ...","Projects and groups":"  ","Project/group":"/","Open to be contacted about potential collaboration opportunities":"      ","Does NOT wish to be contacted for potential collaboration!":"      !","This project is open for further partner organizations.":"","Join Project":"  ","Move up":" ","Move down":" ","There are no items yet":"   ","Items you follow":"  ","Nothing here yet.":"    .","Groups and Projects":"  ","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"                    .","You can create Groups or Projects via the '+' button in the header.":"         \"+\"  .","Ideas I like":"   ","Here you can find an overview of Ideas you have liked.":"          .","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"          \"+\"         ","Discover":"","We could not load more data at this time.":"        .","Retry":"  "},"fa":{"Groups":"","Group":"","Title":"","Workshops":"","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"","Liked":"","Following":"","Events":"","Projects":"","Event":"","Members":"","Follow":"","Conference Applications":"","Report offensive content":"","From":"","Until":"","website":"","Contact":"","Send Message":"","Invitations":"","You will now receive notifications for content posted in this project.":"","You will now receive notifications for content posted in this group.":"","Sustainable Development Goals":"","Contact Project Admins":"","Contact Group Admins":"","Membership request pending...":"","You are invited!":"","All Groups":"","All Projects":"","Organizations":"","Create Idea":"","People":"","My Groups":"","My Projects":"","Ideas":"","My Ideas":"","All Ideas":"","My Organizations":"","All Organizations":"","External contents":"","Include contents from other platforms":"","My Users":"","My Events":"","My Cloud Files":"","All Users":"","All Events":"","Cloud Files":"","Idea":"","Organization":"","Cloud File":"","Create User":"","Create Event":"","Create Project":"","Create Group":"","Create Organization":"","Categories":"","SDGS":"","Search for Names, Topics and Places...":"","Search for Names and Topics...":"","Where":"","In map area":"","If active, searching will be restricted to the visible map area.":"","Apply Filters":"","Clear Filters":"","Show potential partners":"","Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first.":"","Show potential partners for ...":"","You're currently not member of any project, group or organization.":"","Street":"","Create idea":"","Next":"","Choose a location for your idea by dragging the marker!":"","of":"","No results found.":"","Could not complete the search due to an error.":"","Search when moving the map":"","Search this area":"","Find partners":"","Membership Requests":"","My Groups and Projects":"","Show more Projects of this Group":"","You are not in any groups or projects yet":"","Create new Group":"","Create new Project":"","Browse all Groups":"","Browse all Projects":"","You have not created any organizations yet.":"","Create new Organization":"","Browse all Organizations":"","Search for Organizations":"","Ideas I am following":"","You are not following any ideas yet.":"","Post new Idea":"","Browse all Ideas":"","Search for Ideas":"","You have not RSVPed to any Events.":"","Add Event":"","Go to Calendar":"","There was an error loading the widget":"","Notifications":"","Show more":"","No current notifications":"","Find on map:":"","Entire Network":"","On the Map":"","In my Groups and Projects":"","In my Cloud Files":"","Topic":"","SDG":"","from":"","You":"","Projects/Groups":"","No info.":"","Administrator":"","Administrators":"","Administrators unknown":"","No description yet.":"","max.":"","You are participating":"","Participation request pending...":"","Participate":"","You will now receive notifications for content posted.":"","If you do not want notifications, click the unfollow button!":"","Could not save your like setting because of an error.":"","Could not save your follow setting because of an error.":"","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"","Back to location selection":"","Protected Content":"","Sorry, but you cannot view details for this content.":"","This can happen when its visibility settings have changed recently.":"","Please register or log in to continue!":"","Error!":"","Sorry, but the requested content could not be retrieved from the server.":"","Visit Event Page":"","You will now receive notifications for comments or when this event is updated or its details change.":"","Hidden Users":"","Hidden User":"","This group is open for further partner organizations.":"","You are a Member":"","Join Group":"","Author":"","Create Project from Idea":"","Edit your Idea":"","You will receive a notification when a project is created from your liked idea.":"","Projects - Created from this Idea":"","This organization is open for further partner organizations.":"","You are a Admin":"","Ownership request pending...":"","Projects and groups":"","Project/group":"","Open to be contacted about potential collaboration opportunities":"","Does NOT wish to be contacted for potential collaboration!":"","To Profile":"","This project is open for further partner organizations.":"","Join Project":"","Move up":"","Move down":"","There are no items yet":"","Items you follow":"","Nothing here yet.":"","Groups and Projects":"","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"","You can create Groups or Projects via the '+' button in the header.":"","Ideas I like":"","Here you can find an overview of Ideas you have liked.":"","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"","Discover":"","Filter":"","Content from the Forum":"","Content from my Groups and Projects":"","Platform content":"","Public content":"","We could not load more data at this time.":"","Retry":""},"uz":{}})[cosinnus_current_language][key];
	        		if (trans && trans.length > 0) {
	        			return trans;
	        		}
	        	}
	            return key;
	        };
	    }
	
	    function Ignore () {
	        this.tags = ['load'];
	        this.parse = parse;
	        this.run = function () {
	            return '';
	        };
	    }
	
	    env.addExtension('translation', new Translation());
	    env.addExtension('passThrough', new Ignore());
	}


/***/ }),
/* 10 */
/***/ (function(module, exports) {

	module.exports = function (nunjucks, env, obj, dependencies){
	
	    var oldRoot = obj.root;
	
	    obj.root = function( env, context, frame, runtime, ignoreMissing, cb ) {
	        var oldGetTemplate = env.getTemplate;
	        env.getTemplate = function (name, ec, parentName, ignoreMissing, cb) {
	            if( typeof ec === "function" ) {
	                cb = ec = false;
	            }
	            var _require = function (name) {
	                try {
	                    // add a reference to the already resolved dependency here
	                    return dependencies[name];
	                }
	                catch (e) {
	                    if (frame.get("_require")) {
	                        return frame.get("_require")(name);
	                    }
	                    else {
	                        console.warn('Could not load template "%s"', name);
	                    }
	                }
	            };
	
	            var tmpl = _require(name);
	            frame.set("_require", _require);
	
	            if( ec ) tmpl.compile();
	            cb( null, tmpl );
	        };
	
	        oldRoot(env, context, frame, runtime, ignoreMissing, function (err, res) {
	            env.getTemplate = oldGetTemplate;
	            cb( err, res );
	        });
	    };
	
	    var src = {
	        obj: obj,
	        type: 'code'
	    };
	
	    return new nunjucks.Template(src, env);
	
	};

/***/ }),
/* 11 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], {"dev":false,"autoescape":true,"throwOnUndefined":false,"trimBlocks":false,"lstripBlocks":false});
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/map/popup.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	output += "<div class=\"popup\">\n    <img src=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "imageURL"), env.opts.autoescape);
	output += "\" />\n    <div class=\"details\">\n        <div class=\"link\">\n            <a href=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "url"), env.opts.autoescape);
	output += "\" target=\"_blank\">";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "title"), env.opts.autoescape);
	output += "</a>\n        </div>\n        <div class=\"address\">";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "address"), env.opts.autoescape);
	output += "</div>\n        <div class=\"description\">";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "description"), env.opts.autoescape);
	output += "</div>\n    </div>\n</div>\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/map/popup.html"] , dependencies)

/***/ }),
/* 12 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/map/map.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	output += "<div id=\"map-container\" class=\"map-root ";
	if(runtime.contextOrFrameLookup(context, frame, "fullscreen")) {
	output += " map-fullscreen ";
	;
	}
	else {
	output += " map-embed ";
	;
	}
	output += "  ";
	if(runtime.contextOrFrameLookup(context, frame, "splitscreen")) {
	output += " map-splitscreen ";
	;
	}
	output += " mobile-view mobile-view-map-visible-block mobile-view-search-visible-block mobile-view-list-visible-block mobile-view-detail-visible-block mobile-view-idea-create-1-visible-block mobile-view-idea-create-2-visible-block\">\n    <div class=\"map-layers-buttons\"></div>\n    ";
	if(runtime.contextOrFrameLookup(context, frame, "controlsEnabled")) {
	output += "\n\t    <a class=\"map-expand-button mobile-hidden\">\n\t    \t<i class=\"fa fa-fw fa-caret-right expanded\"></i>\t\n\t    \t<i class=\"fa fa-fw fa-search contracted\"></i>\t\n\t    </a>\n    ";
	;
	}
	output += "\n</div>";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/map/map.html"] , dependencies)

/***/ }),
/* 13 */
/***/ (function(module, exports) {

	'use strict';
	
	// Pub-sub event mediator and  data store.
	module.exports = {
	    publish: function (eventName, data) {
	        Backbone.trigger(eventName, data);
	    },
	
	    subscribe: function (event, callback, context) {
	        Backbone.on(event, callback, context);
	    }
	};


/***/ }),
/* 14 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var ContentControlView = __webpack_require__(3);
	var ErrorView = __webpack_require__(15);
	var PaginationControlView = __webpack_require__(17);
	var MobileControlView = __webpack_require__(19);
	var CreateIdeaView = __webpack_require__(21);
	
	var ResultCollection = __webpack_require__(24);
	var Result = __webpack_require__(25);
	
	var util = __webpack_require__(5);
	
	module.exports = ContentControlView.extend({
	    
	    template: __webpack_require__(26),
	    
	    activeFiltersTemplate: __webpack_require__(27),
	    
	    // will be set to self.options during initialization
	    defaults: {
	        availableFilters: {
	            people: true,
	            projects: true,
	            groups: true,
	            events: true,
	        },
	        activeFilters: {
	            people: true,
	            projects: true,
	            groups: true,
	            events: true,
	        },
	        availableFilterList: [], // contains availableFilters keys that are true, generated on initialize
	        
	        allTopics: {},  // the dict of all searchable topics
	        allTextTopics: {},
	        allSDGS: {}, // the dict of all searchable SDGs
	        allManagedTags: {}, // the dict of all searchable CosinnusManagedTags
	        managedTagsLabels: {}, // the labels dict for CosinnusManagedTags
	        showManagedTagsOnTypesSelected: [],
	        showTextTopicsOnTypesSelected: [],
	        portalInfo: {}, // portal info by portal-id, from `get_cosinnus_portal_info()`
	        controlsEnabled: true,
	        filterGroup: null,
	        filterManagedTag: null, // used only for initially setting the state.activeManagedTagsIds
	        fullscreen: false,
	        splitscreen: false,
	        showMine: false, // URL param. if true, only the current user's own results will be shown. ignored away if user is not logged in.
	        hideTopics: false,
	        
	        paginationControlsEnabled: true, 
	        paginationControlsUseInfiniteScroll: false, // if true, the pagination controls will be hidden and infinite scroll will be used
	        
	        // in fullscreen mode, this must always be the base URL we started at
	        basePageURL: '/map/',
	
	        myGroups: [],
	        myProjects: [],
	        myOrganizations: [],
	        
	        // will be set to self.state during initialization
	        state: {
	            // current query
	            q: '', // URL param. 
	            activeTopicIds: [],
	            activeTextTopicIds: [],
	            activeSDGIds: [],
	            activeManagedTagsIds: [],
	            filtersActive: false, // URL param.  if true, any filter is active and we display a reset-filter button
	            typeFiltersActive: false, // URL param.  a result type filter is active
	            topicFiltersActive: false, // URL param.  a topic filter is active
	            dateFiltersActive: false, // if the datetime widget pickers and date filters are active. only true if only event-like types are active
	            textTopicFiltersActive: false,
	            sdgFiltersActive: false,
	            managedTagsFiltersActive: false,
	            ignoreLocation: false, // if true, search ignores all geo-loc and even shows results without tagged location
	            exchange: false, // if true, search includes contents from external platforms
	            matching: '', // if set, search shows contents matching group/project/organization specified
	            searching: false,
	            searchHadErrors: false,
	            searchResultLimit: 20,
	            page: null,  // URL param. 
	            pageIndex: 0,
	            searchOnScroll: true,
	            resultsStale: false,
	            urlSelectedResultId: null, // URL param. the currently selected result, given in the url
	            filterPanelVisible: false,
	            lastViewBeforeDetailWasListView: false, // a savestate so we know which view to return to after closing the detail view on mobile,
	            displayManagedTagsFilter: true,
	            displayTextTopcFilter: true,
	            fromDate: null,
	            fromTime: null,
	            toDate: null,
	            toTime: null
	        }
	    },
	    
	    // the main ResultCollection of all displayed results
	    collection: null,
	
	    paginationControlView: null,
	    mobileControlView: null,
	    createIdeaView: null,
	    
	    // the currently hovered on and selected Result items
	    selectedResult: null,
	    hoveredResult: null,
	    detailResult: null, // the Result displayed as DetailView result. not the same as `selectedResult`!
	    detailResultCache: {},
	    
	    searchEndpointURL: '/map/search/',
	    detailEndpointURL: '/map/detail/',
	    searchDelay: 1, // since we are cancelling xhrs properly, we do not need to delay searches anymore. but leaving it in if we ever do again.
	    searchXHRTimeout: 15000,
	    currentSearchHttpRequest: null, 
	    currentDetailHttpRequest: null,
	    
	    initialize: function (options, app, collection) {
	        var self = this;
	        // add conferences models if active
	        if (COSINNUS_CONFERENCES_ENABLED) {
	            self.defaults.availableFilters['conferences'] = true;
	            self.defaults.activeFilters['conferences'] = true;
	        }
	        // add idea models if active
	        if (COSINNUS_IDEAS_ENABLED) {
	        	self.defaults.availableFilters['ideas'] = true;
	        	self.defaults.activeFilters['ideas'] = true;
	        }
	        // add organization models if active
	        if (COSINNUS_ORGANIZATIONS_ENABLED) {
	            self.defaults.availableFilters['organizations'] = true;
	            self.defaults.activeFilters['organizations'] = true;
	        }
	        if (COSINNUS_CLOUD_ENABLED) {
	            self.defaults.availableFilterList['cloudfiles'] = true;
	            self.defaults.activeFilters['cloudfiles'] = false;
	        }
	        ContentControlView.prototype.initialize.call(self, options, app, collection);
	        
	        _.each(this.options.availableFilters, function(active, type){
	            if (active) {
	            	self.options.availableFilterList.push(type); 
	            }
	        });
	        if (COSINNUS_MAP_OPTIONS['filter_panel_default_visible']) {
	            self.state.filterPanelVisible = true;
	        }
	        if (!self.options.mapShown || COSINNUS_MAP_OPTIONS['ignore_location_default_activated']) {
	            self.state.ignoreLocation = true;
	        }
	        if (COSINNUS_MAP_OPTIONS['exchange_default_activated']) {
	            self.state.exchange = true;
	        }
	        if (COSINNUS_MATCHING_ENABLED ) {
	            var searchParams = new URLSearchParams(window.location.search);
	            self.state.matching = searchParams.get('matching');
	            self.state.ignoreLocation = true;
	        }
	        
	        if (!self.collection) {
	            self.collection = new ResultCollection();
	        }
	        if (options.searchResultLimit && !isNaN(options.searchResultLimit)) {
	        	var searchResultLimit = parseInt(options.searchResultLimit);
	        	if (searchResultLimit > 0) {
	        		self.state.searchResultLimit = options.searchResultLimit;
	        	}
	        }
	        
	        Backbone.mediator.subscribe('want:search', self.handleStartSearch, self);
	        Backbone.mediator.subscribe('end:search', self.handleEndSearch, self);
	        Backbone.mediator.subscribe('app:ready', self.handleAppReady, self);
	        Backbone.mediator.subscribe('app:stale-results', self.handleStaleResults, self);
	        
	        self.triggerMobileDefaultView();
	
	        if (options.filterManagedTag != null) {
	            self.defaults.filterManagedTag = options.filterManagedTag;
	        } 
	        
	        util.log('control-view.js: initialized. with self.App=' + self.App)
	    },
	
	    events: {
	        'click .result-filter-button': 'toggleFilterButton',
	        'click .topic-button': 'toggleFilterButton',
	        'click .text-topic-button': 'toggleFilterButton',
	        'click .reset-all': 'resetAllClicked',
	        'click .query-search-button ': 'triggerQuerySearch',
	        'click .icon-filters': 'toggleFilterPanel',
	        'focus .q': 'showFilterPanel',
	        'click .reset-type-filters': 'resetTypeFiltersClicked',
	        'click .reset-topic-filters': 'resetTopicFiltersClicked',
	        'click .reset-text-topic-filters': 'resetTextTopicFiltersClicked',
	        'click .reset-sdg-filters': 'resetSDGFiltersClicked',
	        'click .reset-managed-tag-filters': 'resetManagedTagsFiltersClicked',
	        'click .reset-q': 'resetQClicked',
	        'click .reset-type-and-topic-filters': 'resetAllClicked', // use this to only reset the filters box: 'resetTypeAndTopicFiltersClicked',
	        'click .active-filters': 'showFilterPanel',
	        'change .check-ignore-location': 'markSearchBoxSearchable',
	        'change .check-exchange': 'markSearchBoxSearchable',
	        
	        'keyup .q': 'handleTyping',
	        'keydown .q': 'handleKeyDown',
	
	        'click .sdg-button': 'toggleSDGFilterButton',
	        'click .managed-tag-button': 'toggleManagedTagsFilterButton',
	        'mouseenter .hover-image-button': 'showHoverIcon',
	        'mouseleave .hover-image-button': 'hideHoverIcon',
	        'mouseenter .hover-image-icon': 'hideHoverIcon',
	
	        'click .match-button': 'matchButtonClicked'
	    },
	
	    // Event Handlers
	    // --------------
	
	    toggleFilterButton: function (event) {
	        event.preventDefault();
	        var $button = $(event.currentTarget);
	        // check if all buttons of this type are selected.
	        //  if so, make this click only select this button (deselect all others)
	        if ($button.hasClass('result-filter-button') &&
	            this.$el.find('.result-filter-button').length == this.$el.find('.result-filter-button.selected').length) {
	                this.$el.find('.result-filter-button').removeClass('selected');
	        } else if ($button.hasClass('topic-button') &&
	            this.$el.find('.topic-button').length == this.$el.find('.topic-button.selected').length) {
	                this.$el.find('.topic-button').removeClass('selected');
	        } else if ($button.hasClass('text-topic-button') &&
	            this.$el.find('.text-topic-button').length == this.$el.find('.text-topic-button.selected').length) {
	                this.$el.find('.text-topic-button').removeClass('selected');
	        }
	
	        // toggle the button
	        $button.toggleClass('selected');
	        
	        this.toggleDateTimePicker();
	        this.toggleManagedTagsOnType();
	        this.toggleTextTopicsOnType();
	        // mark search box as searchable
	        this.markSearchBoxSearchable();
	    },
	
	    toggleManagedTagsOnType: function () {
	        if (this.options.showManagedTagsOnTypesSelected.length > 0) {
	            var typesForManagedTags = this.options.showManagedTagsOnTypesSelected;
	            var showManagedTags = true;
	            var selectedButtons = $('.result-filter-button.selected');
	
	            if (selectedButtons.length == 0){
	                showManagedTags = false;
	            } else {
	                selectedButtons.each(function (i) {
	                    if (this.hasAttribute('data-result-filter-type')) {
	                        var type = this.getAttribute('data-result-filter-type')
	                        if ($.inArray(type, typesForManagedTags) == -1) {
	                            showManagedTags = false;
	                        }
	                    }
	                })
	            }
	
	            if (showManagedTags) {
	                $('.managed-tags-buttons').show();
	            } else {
	                $('.managed-tags-buttons').hide();
	            }
	        }
	    },
	
	    toggleTextTopicsOnType: function () {
	        if (this.options.showTextTopicsOnTypesSelected.length > 0 ) {
	            var typesForTextTopics = this.options.showTextTopicsOnTypesSelected;
	            var showTextTopics = true;
	            var selectedButtons = $('.result-filter-button.selected');
	
	            if (selectedButtons.length == 0){
	                showTextTopics = false;
	            } else {
	                selectedButtons.each(function (i) {
	                    if (this.hasAttribute('data-result-filter-type')) {
	                        var type = this.getAttribute('data-result-filter-type')
	                        if ($.inArray(type, typesForTextTopics) == -1) {
	                            showTextTopics = false;
	                        }
	                    }
	                })
	            }
	            if (showTextTopics) {
	                $('.text-topic-buttons').show();
	            } else {
	                $('.text-topic-buttons').hide();
	            }
	        }
	    },
	
	    /** Will set state.dateFiltersActive based on if only date-like content types are shown */
	    toggleDateTimePicker: function() {
	        var typesWithDates = ['events', 'conferences'];
	        var onlyDateTypesAvailable = true;
	        _.each(this.options.availableFilters, function(available, type){
	            if (available && $.inArray(type, typesWithDates) == -1) {
	                onlyDateTypesAvailable = false;
	            }
	        });
	        var onlyDateTypesActive = true;
	        var selectedButtons = $('.result-filter-button.selected');
	        if (selectedButtons.length == 0){
	            onlyDateTypesActive = false;
	        } else {
	            selectedButtons.each(function (i) {
	                if (this.hasAttribute('data-result-filter-type')) {
	                    var type = this.getAttribute('data-result-filter-type');
	                    if ($.inArray(type, typesWithDates) == -1) {
	                        onlyDateTypesActive = false;
	                    }
	                }
	            });
	        }
	        
	        
	        this.state.dateFiltersActive = onlyDateTypesAvailable || onlyDateTypesActive;
	        this.showOrHideDateTimePicker(this.state.dateFiltersActive);
	    },
	
	    showOrHideDateTimePicker: function (showDateTimePicker) {
	        var self = this;
	        var dateTimePicker = $('#date-time-filter');
	        if (showDateTimePicker) {
	            dateTimePicker.show();
	            if (!dateTimePicker.attr('inited') && dateTimePicker.is(":visible")) {
	                $.cosinnus.fullcalendar();
	                $.cosinnus.initCalendarDayTimeChooserWidget();
	                $('.calendar-date-time-chooser .small-calendar').on("fullCalendarDayClick", function(event, date, jsEvent) {
	                    self.markSearchBoxSearchable();
	                });
	                $('.calendar-date-time-chooser input').on("keyup change", function() {
	                    self.markSearchBoxSearchable();
	                });
	                
	                dateTimePicker.attr('inited', true);
	            }
	        } else {
	            dateTimePicker.hide();
	        }
	    },
	
	    toggleSDGFilterButton: function (event) {
	        event.preventDefault();
	        var $button = $(event.currentTarget);
	        // check if all buttons of this type are selected.
	        //  if so, make this click only select this button (deselect all others)
	        if ($button.hasClass('result-filter-button') &&
	            this.$el.find('.result-filter-button').length == this.$el.find('.result-filter-button.selected').length) {
	            this.$el.find('.result-filter-button').removeClass('selected');
	        } else if ($button.hasClass('sdg-button') &&
	            this.$el.find('.sdg-button').length == this.$el.find('.sdg-button.selected').length) {
	            this.$el.find('.sdg-button').removeClass('selected');
	        }
	        // toggle the button
	        $button.toggleClass('selected');
	        // mark search box as searchable
	        this.markSearchBoxSearchable();
	    },
	    
	    toggleManagedTagsFilterButton: function (event) {
	        event.preventDefault();
	        var $button = $(event.currentTarget);
	        // check if all buttons of this type are selected.
	        //  if so, make this click only select this button (deselect all others)
	        if ($button.hasClass('result-filter-button') &&
	            this.$el.find('.result-filter-button').length == this.$el.find('.result-filter-button.selected').length) {
	            this.$el.find('.result-filter-button').removeClass('selected');
	        } else if ($button.hasClass('managedTags-button') &&
	            this.$el.find('.managedTags-button').length == this.$el.find('.managedTags-button.selected').length) {
	            this.$el.find('.managedTags-button').removeClass('selected');
	        }
	        // toggle the button
	        $button.toggleClass('selected');
	        // mark search box as searchable
	        this.markSearchBoxSearchable();
	    },
	
	    matchButtonClicked: function (event) {
	        event.preventDefault();
	        var $button = $(event.currentTarget);
	        // Replace matching parameter
	        var searchParams = new URLSearchParams(window.location.search);
	        searchParams.set('matching', $button.data('match'));
	        window.location.search = searchParams.toString();
	        this.triggerSearchFromUrl(true);
	    },
	    
	    /** Reset all types of input filters and trigger a new search */
	    resetAllClicked: function (event) {
	        event.preventDefault();
	        this.resetAll();
	        this.render();
	        var searchReason = 'reset-filters-search';
	        this.triggerDelayedSearch(true, false, false, searchReason);
	    },
	    
	    /** Resets all filter states */
	    resetAll: function () {
	        this.state.q = '';
	        this.resetTopics();
	        this.resetTextTopics();
	        this.resetSDGS();
	        this.resetManagedTags();
	        this.resetDateTimeWidget();
	        this.resetTypeFilters();
	        this.clearDetailResultCache();
	    },
	    
	    /** Internal state reset of fromDate, fromTime, toDate, toTime */
	    resetDateTimeWidget: function() {
	        var today = moment().format('YYYY-MM-DD');
	        var in_three_months = moment().add(3, 'M').format('YYYY-MM-DD');
	        this.state.fromDate =  today;
	        this.state.fromTime = "00:00";
	        this.state.toDate = in_three_months;
	        this.state.toTime = "23:59";
	    },
	    
	    /** Internal state reset of filtered topics */
	    resetTopics: function () {
	        this.state.activeTopicIds = [];
	    },
	
	    resetTextTopics: function () {
	        this.state.activeTextTopicIds = [];
	    },
	
	    resetSDGS: function () {
	        this.state.activeSDGIds = [];
	    },
	    
	    resetManagedTags: function () {
	        if (this.defaults.filterManagedTag != null) {
	            // apply initial managed tags once
	            this.state.activeManagedTagsIds = [this.defaults.filterManagedTag];
	            this.defaults.filterManagedTag = null;
	        } else {
	            this.state.activeManagedTagsIds = [];
	        }
	    },
	    
	    /** Internal state reset of filtered result types */
	    resetTypeFilters: function () {
	        this.state.activeFilters = _(this.options.availableFilters).clone();
	        this.state.typeFiltersActive = false;
	        if (this.options.showTextTopicsOnTypesSelected.length > 0 ) {
	            this.resetTextTopics();
	        }
	        if (this.options.showManagedTagsOnTypesSelected.length > 0 ) {
	            this.resetManagedTags();
	        }
	        this.toggleDateTimePicker();
	    },
	
	    resetTypeFiltersClicked: function (event) {
	        event.preventDefault();
	        event.stopPropagation();
	        this.resetTypeFilters();
	        this.resetDateTimeWidget();
	        this.render();
	        this.clearDetailResultCache();
	        var searchReason = 'reset-filters-search';
	        this.triggerDelayedSearch(true, false, false, searchReason);
	    },
	
	    resetTopicFiltersClicked: function (event) {
	        event.preventDefault();
	        event.stopPropagation();
	        this.resetTopics();
	        this.render();
	        this.clearDetailResultCache();
	        var searchReason = 'reset-filters-search';
	        this.triggerDelayedSearch(true, false, false, searchReason);
	    },
	
	    resetTextTopicFiltersClicked: function (event) {
	        event.preventDefault();
	        event.stopPropagation();
	        this.resetTextTopics();
	        this.render();
	        this.clearDetailResultCache();
	        var searchReason = 'reset-filters-search';
	        this.triggerDelayedSearch(true, false, false, searchReason);
	    },
	
	    resetSDGFiltersClicked: function (event) {
	        event.preventDefault();
	        event.stopPropagation();
	        this.resetSDGS();
	        this.render();
	        this.clearDetailResultCache();
	        var searchReason = 'reset-filters-search';
	        this.triggerDelayedSearch(true, false, false, searchReason);
	    },
	    
	    resetManagedTagsFiltersClicked: function (event) {
	        event.preventDefault();
	        event.stopPropagation();
	        this.resetManagedTags();
	        this.render();
	        this.clearDetailResultCache();
	        var searchReason = 'reset-filters-search';
	        this.triggerDelayedSearch(true, false, false, searchReason);
	    },
	
	    resetQClicked: function (event) {
	        event.preventDefault();
	        event.stopPropagation();
	        this.state.q = '';
	        this.render();
	        this.clearDetailResultCache();
	        var searchReason = 'reset-filters-search';
	        this.triggerDelayedSearch(true, false, false, searchReason);
	    },
	    
	    resetTypeAndTopicFiltersClicked: function (event) {
	        event.preventDefault();
	        event.stopPropagation();
	        this.resetTypeFilters();
	        this.resetTopics();
	        this.resetDateTimeWidget();
	        this.render();
	        this.clearDetailResultCache();
	        var searchReason = 'reset-filters-search';
	        this.triggerDelayedSearch(true, false, false, searchReason);
	    },
	    
	    
	    /** This doesn't listen to events in this view, but rather is the target for 
	     *     delegated events from tile-view and tile-detail-view */
	    onTopicLinkClicked: function(event) {
	        event.preventDefault();
	        event.stopPropagation();
	        var $link = $(event.target);
	        var topicId = $link.attr('data-topic-id');
	        this.resetAll();
	        this.state.activeTopicIds = [parseInt(topicId)];
	        this.clearDetailResultCache();
	        this.triggerDelayedSearch(true);
	    },
	
	    onTextTopicLinkClicked: function(event) {
	        event.preventDefault();
	        event.stopPropagation();
	        var $link = $(event.target);
	        var textTopicId = $link.attr('data-text-topic-id');
	        this.resetAll();
	        this.state.activeTextTopicIds = [parseInt(textTopicId)];
	        this.clearDetailResultCache();
	        this.triggerDelayedSearch(true);
	    },
	    
	    /** This doesn't listen to events in this view, but rather is the target for 
	     *     delegated events from tile-view and tile-detail-view */
	    onManagedTagLinkClicked: function(event) {
	        event.preventDefault();
	        event.stopPropagation();
	        var $link = $(event.target);
	        var managedTagId = $link.attr('data-managed-tag-id');
	        this.resetAll();
	        this.state.activeManagedTagsIds = [parseInt(managedTagId)];
	        this.clearDetailResultCache();
	        this.triggerDelayedSearch(true);
	    },
	    
	    toggleSearchOnScrollClicked: function (event) {
	        this.state.searchOnScroll = !this.state.searchOnScroll;
	        if (this.state.searchOnScroll == true && this.state.resultsStale) {
	            this.staleSearchButtonClicked(event);
	        } 
	    },
	    
	    staleSearchButtonClicked: function (event) {
	        event.preventDefault();
	        this.clearDetailResultCache();
	        this.triggerDelayedSearch(true);
	        // we cheat this in because we know the search will do it anyways in a millisecond,
	        // but without this it won't be in time for the render() of the controls
	        this.state.resultsStale = false;
	        if (this.paginationControlView) {
	        	this.paginationControlView.render();
	        }
	    },
	    
	    paginationForwardClicked: function (event) {
	    	if (event) {
	    		event.preventDefault();
	    	}
	        if (this.state.page.has_next) {
	            this.state.pageIndex += 1;
	            this.triggerDelayedSearch(true, true, false, 'paginate-search');
	        }
	    },
	    
	    paginationBackClicked: function (event) {
	    	if (event) {
	    		event.preventDefault();
	    	}
	        if (this.state.page.has_previous && this.state.pageIndex > 0) {
	            this.state.pageIndex -= 1;
	            this.triggerDelayedSearch(true, true, false, 'paginate-search');
	        }
	    },
	    
	    /* ---------------------  Display-related logic    ------------------------------- */
	    
	    
	    /** Open the Create-Idea view */
	    openCreateIdeaView: function (event) {
	    	var self = this;
	    	if (COSINNUS_IDEAS_ENABLED) {
	    		if (!self.createIdeaView) {
	    			self.createIdeaView = new CreateIdeaView({
	    				elParent: self.App.el,
	    			}, 
	    			self.App,
	    			self
	    			).render();
	    		} else {
	    			self.createIdeaView.$el.removeClass('hidden');
	    		}
	            Backbone.mediator.publish('ideas:create-view-opened');
	    	}
	    },
	    
	    /** Open the Create-Idea view */
	    closeCreateIdeaView: function (event) {
	    	var self = this;
	    	self.createIdeaView.$el.addClass('hidden');
	    	self.untriggerMobileIdeaCreateView(event);
	    	Backbone.mediator.publish('ideas:create-view-closed');
	    },
	    
	    /** Mobile view switch buttons */
	    _resetMobileView: function (event, dontResetDetailResult) {
	        // unselect the detail view if one is open
	        if (this.detailResult && !dontResetDetailResult) {
	            this.displayDetailResult(null);
	        }
	        this.App.$el.removeClass('mobile-view-map mobile-view-search mobile-view-list mobile-view-detail mobile-view-idea-create-1 mobile-view-idea-create-2');
	    },
	    
	    triggerMobileDefaultView: function (event) {
	    	if (this.options.splitscreen) {
	    		this.triggerMobileMapView(event);
	        } else {
	        	this.triggerMobileListView(event);
	        }
	    },
	    
	    triggerMobileListView: function (event) {
	        this._resetMobileView();
	        this.App.$el.addClass('mobile-view-list');
	        if (this.App.tileListView) { // might not be loaded yet
	        	this.App.tileListView.gridRefresh();
	        }
	    },
	
	    triggerMobileSearchView: function (event) {
	        this._resetMobileView();
	        this.App.$el.addClass('mobile-view-search');
	        this.$el.find('.q').focus();
	    },
	
	    triggerMobileMapView: function (event) {
	        this._resetMobileView();
	        this.App.$el.addClass('mobile-view-map');
	    },
	
	    triggerMobileDetailView: function (event) {
	    	// save the current view 
	    	// (if it was list view we want to return to that instead of map view when closing detail)
	    	this.state.lastViewBeforeDetailWasListView = this.App.$el.hasClass('mobile-view-list');
	    	this._resetMobileView(event, true);
	    	this.App.$el.addClass('mobile-view-detail');
	    },
	
	    triggerMobileIdeaCreate1View: function (event) {
	        this._resetMobileView();
	        this.openCreateIdeaView(event);
	        this.App.$el.addClass('mobile-view-idea-create-1');
	    },
	
	    triggerMobileIdeaCreate2View: function (event) {
	        this._resetMobileView();
	        this.App.$el.addClass('mobile-view-idea-create-2');
	    },
	
	    untriggerMobileIdeaCreateView: function (event) {
	        this.triggerMobileDefaultView(event);
	    },
	
	    untriggerMobileDetailView: function (event) {
	        if (this.state.lastViewBeforeDetailWasListView) {
	        	this.triggerMobileListView(event);
	        } else {
	        	this.triggerMobileMapView(event);
	        }
	    },
	
	    showHoverIcon: function (event) {
	        var icon = $(event.target.querySelector('img'))
	        icon.removeClass('hover-image-icon-hidden')
	    },
	
	    hideHoverIcon: function (event) {
	        if (event.target.tagName == 'IMG') {
	            $(event.target).addClass('hover-image-icon-hidden')
	        } else {
	            $(event.target.querySelector('img')).addClass('hover-image-icon-hidden')
	        }
	    },
	    /**
	     * Toggles the state of the views between splitview, map-fullscreen or tile-fullscreen.
	     */
	    switchDisplayState: function (showMap, showTiles) {
	    	if (!showMap && !showTiles) {
	            util.log('control-view.js: cant hide both tile and map views at the same time!');
	            return;
	    	}
	    	this.App.displayOptions.showMap = showMap;
	    	this.App.displayOptions.showTiles = showTiles;
	    	this.options.splitscreen = showMap && showTiles;
	    	this.App.loadTileView();
	    	this.App.loadMapView();
	    },
	
	    
	    /* ---------------------  Functional logic    ------------------------------- */
	    
	    
	    /**
	     * Will start a fresh search with the current query of the search textbox.
	     */
	    triggerQuerySearch: function () {
	        var query = this.$el.find('.q').val();
	        this.state.q = query;
	        this.applyFilters();
	        this.state.ignoreLocation = !this.$el.find('.check-ignore-location').is(':checked');
	        this.state.exchange = this.$el.find('.check-exchange').is(':checked');
	        this.clearDetailResultCache();
	        var searchReason = 'manual-search';
	        this.triggerDelayedSearch(true, false, false, searchReason);
	    },
	    
	    /** Delete the detail result cache, should only happen on voluntary user "new search" actions! */
	    clearDetailResultCache: function () {
	        self.detailResultCache = {};
	    },
	    
	    /** Triggers on click of a link that opens a result detail view.
	     *  Can be triggered from multiple views. */
	    onResultLinkClicked: function (event, directItemId, noNavigate) {
	        var self = this;
	        if (event) {
	            event.preventDefault();
	            event.stopPropagation();
	        }
	        // parse the target object from the link
	        var data = null;
	        if (!directItemId && event) {
	            var $tar = $(event.target).closest('.result-link');
	            var data = {
	                portal: $tar.attr('data-portal') || 0,
	                type: $tar.attr('data-type'),
	                slug: $tar.attr('data-slug'),
	            }
	            directItemId = util.makeDirectItemId(data['portal'], data['type'], data['slug']);
	        } else {
	            var data = util.parseDirectItemId(directItemId);
	        }
	        util.log('tile-view.js: got a select click event! data: ' + JSON.stringify(data));
	        if (data.type == "cloudfile") {
	            window.open(data.slug);
	            return;
	        }
	        // check if this item is in the local detail Result cache
	        var result = null;
	        if (directItemId in self.detailResultCache) {
	            result = self.detailResultCache[directItemId];
	            self.displayDetailResult(result);
	        } else {
	            // if not, load it from the server
	            
	            // build detail URL
	            var query = $.param(data);
	            var url = this.detailEndpointURL + '?' + query;
	            
	            // cancel the currently ongoing request
	            if (self.currentDetailHttpRequest) {
	                util.log('control-view.js: New detail request! Aborting current request.')
	                self.currentDetailHttpRequest.abort();
	            }
	            
	            var detailHadErrors = false;
	            self.currentDetailHttpRequest = $.ajax(url, {
	                type: 'GET',
	                timeout: self.searchXHRTimeout,
	                success: function (data, textStatus) {
	                    
	                    util.log('got resultssss for detail')
	                    util.log(data)
	                    util.log(textStatus)
	                    
	                    if ('result' in data) {
	                        result = new Result(data.result);
	                        // put item in result cache
	                        self.detailResultCache[result.id] = result;
	                        self.displayDetailResult(result);
	                        // add a route navigate history state?
	                        if (App.displayOptions.routeNavigation && !noNavigate) {
	                            util.log('control-view.js: +++++++++++++++++ since we are fullscreen, publishing detail router URL update!')
	                            self.addCurrentHistoryState();
	                        } 
	                    } else {
	                        // if the result came back empty, it might have been deleted on the server, show an error message and close detail view
	                        detailHadErrors = true;
	                    }
	                },
	                error: function (xhr, textStatus) {
	                    util.log('control-view.js: Detail XHR failed.')
	                    if (textStatus === 'abort') {
	                        return;
	                    }
	                    detailHadErrors = true;
	                },
	                complete: function (xhr, textStatus) {
	                    util.log('control-view.js: Search complete: ' + textStatus);
	                    
	                    if (textStatus === 'abort') {
	                        return;
	                    }
	                    if (textStatus !== 'success') {
	                        detailHadErrors = true;
	                    }
	                    self.currentDetailHttpRequest = null;
	                    if (detailHadErrors) {
	                        if (xhr.status == 403) {
	                            self.displayDetailResult(new Result({type: 'error-403'}));
	                        } else {
	                            self.displayDetailResult(new Result({type: 'error'}));
	                        }
	                    }
	                }
	            });
	            
	            
	        }
	    },
	    
	    // id is: "1.events.forum*tolles-event"
	    
	    /** Will like/unlike a given result, depending on the current liked status */
	    triggerResultLikeOrUnlike: function (result) {
	    	var self = this;
	    	var url = '/likefollowstar/'
	    		
	    	var data = util.getAPIDataForDirectItemId(result.get('id'));
	    	if (data == null || !(result.get('type') == 'ideas' || result.get('type') == 'events')) {
	    		util.log('Liking cancelled - invalid result type for liking: ' + result.get('type'))
	    		return;
	    	}
	    	
	    	var to_like = result.get('liked') ? '0' : '1';
	    	var unliked_count = result.get('participant_count') - (result.get('liked') ? 1 : 0);
	    	data['like'] = to_like;
	    	// if we unlike an idea, also unfollow it
	    	if (to_like == '0' && result.get('type') == 'ideas') {
	    		data['follow'] = '0';
	    	}
	    	
	    	util.log('Sending like request for slug "' + result.get('slug') + '" and like: ' + to_like);
	    	var likeHadErrors = false;
	    	self.currentDetailHttpRequest = $.ajax(url, {
	            type: 'POST',
	            timeout: self.searchXHRTimeout,
	            data: data,
	            success: function (data, textStatus) {
	                
	                util.log('got resultssss for like')
	                util.log(data)
	                util.log(textStatus)
	                
	                if ('liked' in data) {
	                	// for ideas, "participants" are the likers
	                	if (result.get('type') == 'ideas') {
	                		result.set('participant_count', unliked_count + (data.liked ? 1 : 0));
	                	}
	                	// graphics update happens here, via subscriptions on change:liked
	                	result.set('liked', data.liked);
	                	result.set('followed', data.followed);
	
	                	// for ideas, a like triggers a follow, so show the now-following message
	                	if (result.get('type') == 'ideas' && data.followed) {
	                		self.App.$el.find('.now-following-message').show();
	                	}
	                } 
	            },
	            error: function (xhr, textStatus) {
	                util.log('control-view.js: Like XHR failed.')
	                likeHadErrors = true;
	            },
	            complete: function (xhr, textStatus) {
	                util.log('control-view.js: Like complete: ' + textStatus);
	                
	                if (textStatus !== 'success') {
	                	likeHadErrors = true;
	                }
	                if (likeHadErrors) {
	                    $('.like-button-error').show();
	                }
	            }
	        });
	    },
	    
	
	    /** Will follow/unfollow a given result, depending on the current followed status */
	    triggerResultFollowOrUnfollow: function (result) {
	    	var self = this;
	    	var url = '/likefollowstar/'
	    		
	        var data = util.getAPIDataForDirectItemId(result.get('id'));
	
	    	if (data == null) {
	    		util.log('Following cancelled - invalid result type for liking: ' + result.get('type'));
	    		return;
	    	}
	    	var to_follow = result.get('followed') ? '0' : 1;
	    	data['follow'] = to_follow;
	    	
	    	util.log('Sending follow request for slug "' + result.get('slug') + '" and follow: ' + to_follow);
	    	var followHadErrors = false;
	    	self.currentDetailHttpRequest = $.ajax(url, {
	            type: 'POST',
	            timeout: self.searchXHRTimeout,
	            data: data,
	            success: function (data, textStatus) {
	                
	                util.log('got resultssss for follow')
	                util.log(data)
	                util.log(textStatus)
	                
	                if ('followed' in data) {
	                    result.set('followed', data.followed);
	                    // graphics update happens via subscriptions on change:followed
	                	if (data.followed) {
	                		self.App.$el.find('.now-following-message').show();
	                	}
	                } 
	            },
	            error: function (xhr, textStatus) {
	                util.log('control-view.js: Follow XHR failed.')
	                followHadErrors = true;
	            },
	            complete: function (xhr, textStatus) {
	                util.log('control-view.js: Follow complete: ' + textStatus);
	
	                if (textStatus !== 'success') {
	                	followHadErrors = true;
	                }
	                if (followHadErrors) {
	                    $('.follow-button-error').show();
	                }
	            }
	        });
	    },
	
	    triggerResultStarOrUnstar: function (result) {
	        var self = this;
	        var url = '/likefollowstar/'
	
	        var data = util.getAPIDataForDirectItemId(result.get('id'));
	    	if (data == null) {
	    		util.log('Marking cancelled - invalid result type for starring: ' + result.get('type'));
	    		return;
	        }
	
	        var to_star = result.get('starred') ? '0' : 1;
	        data['star'] = to_star;
	
	        util.log('Sending star request for slug "' + result.get('slug') + '" and star: ' + to_star);
	
	        var starHadErrors = false;
	        self.currentDetailHttpRequest = $.ajax(url, {
	            type: 'POST',
	            timeout: self.searchXHRTimeout,
	            data: data,
	            success: function (data, textStatus) {
	
	                util.log('got resultssss for star')
	                util.log(data)
	                util.log(textStatus)
	
	                if ('starred' in data) {
	                    result.set('starred', data.starred);
	                }
	
	            },
	            error: function (xhr, textStatus) {
	                util.log('control-view.js: Star XHR failed.')
	                starHadErrors = true;
	            },
	            complete: function (xhr, textStatus) {
	                util.log('control-view.js: Star complete: ' + textStatus);
	
	                if (textStatus !== 'success') {
	                	starHadErrors  = true;
	                }
	                if (starHadErrors) {
	                    $('.star-button-error').show();
	                }
	            }
	        });
	
	
	    },
	    /** Called manually or deferredly after loading a Result from the server,
	     *  to be shown as the Detail View.
	     *  @param result: This must be *a detailed* Result model, or null!
	     *  Calling this with `null` as parameter closes any open detail view. */
	    displayDetailResult: function (result) {
	        // we simply unselect the current result
	        if (!result) {
	            this._setSelectedResult(null);
	            this.detailResult = null;
	            Backbone.mediator.publish('result:detail-closed');
	            return;
	        }
	        
	        // try to find the result with this short id in our collection and set it to selected
	        var collectionModel = this.collection.get(result.id);
	        if (collectionModel) {
	            this._setSelectedResult(collectionModel);
	        } else {
	            this._setSelectedResult(null);
	        }
	        // publish the opening intent for the detail view (it does not need to be in our collection)
	        this.detailResult = result;
	        Backbone.mediator.publish('result:detail-opened', result);
	    },
	    
	    /** State switcher for the filter frame */
	    toggleFilterPanel: function (event) {
	        if (event) {
	            event.preventDefault();
	        }
	        if (this.state.filterPanelVisible) {
	            this.hideFilterPanel(event);
	        } else {
	            this.showFilterPanel(event);
	        }
	    },
	
	    /** State switcher for the filter frame */
	    showFilterPanel: function (event) {
	        if (event) {
	            event.preventDefault();
	        }
	        this.state.filterPanelVisible = true;
	        this.$el.find('.map-controls-filters').slideDown(250);
	        this.$el.find('.icon-filters').addClass('open');
	        this.$el.parents().find('.controls').addClass('open');
	        this.toggleDateTimePicker();
	    },
	
	    /** State switcher for the filter frame */
	    hideFilterPanel: function (event) {
	        if (event) {
	            event.preventDefault();
	        }
	        this.state.filterPanelVisible = false;
	        this.$el.find('.map-controls-filters').slideUp(250);
	        this.$el.find('.icon-filters').removeClass('open');
	        this.$el.parents().find('.controls').removeClass('open');
	    },
	    
	    handleTyping: function (event) {
	        var self = this;
	        if (util.isIgnorableKey(event)) {
	            event.preventDefault();
	            return false;
	        }
	        self.markSearchBoxSearchable();
	    },
	    
	    handleKeyDown: function (event) {
	        if (event.keyCode == 13) {
	            event.preventDefault();
	            this.triggerQuerySearch();
	            return false;
	        }
	    },
	    
	    markSearchBoxSearchable: function () {
	        // trigger this when new data/states are entered to enable the search button
	        this.$el.find('.icon-search').addClass('active');
	        this.$el.find('.button-search').removeClass('disabled');
	    },
	
	    handleStartSearch: function (searchReason) {
	        this.$el.find('.icon-loading').removeClass('hidden');
	        this.$el.find('.icon-reset').addClass('hidden');
	        this.$el.find('.q').blur();
	        // disable input in content views during search (up to the views to decide what to disable)
	        // except if we are only adding some results after an infinite scroll event
	        if (!(this.options.paginationControlsUseInfiniteScroll && searchReason == 'paginate-search')) {
	        	_.each(this.App.contentViews, function(view){
	        		view.disableInput();
	        	});
	        }
	        
	    },
	
	    handleEndSearch: function (searchReason) {
	        this.$el.find('.icon-loading').addClass('hidden');
	        this.$el.find('.icon-reset').toggleClass('hidden', (!this.state.filtersActive && !this.state.q));
	        // enable input in content views during search (up to the views to decide what to enable)
	        _.each(this.App.contentViews, function(view){
	            view.enableInput();
	        });
	    },
	
	    /** Called when the App is fully loaded for the first time.
	     * 	This is the initial search.
	     *     WARNING: Due to the threaded after_render() method, this may
	     *         currently actually happen before a full load.
	     *  */
	    handleAppReady: function (event) {
	        util.log('control-view.js: app is ready to search. starting search from URL!')
	        this.triggerSearchFromUrl();
	    },
	    
	    /** Executed *every time* after render */
	    afterRender: function () {
	        var self = this;
	        
	        // Create the pagination control view if not exists
	        if (!self.paginationControlView && self.options.paginationControlsEnabled && self.App.tileListView) {
	            self.paginationControlView = new PaginationControlView({
	                model: null,
	                el: self.App.tileListView.$el.find('.pagination-controls'),
	                fullscreen: self.App.displayOptions.fullscreen,
	                splitscreen: self.App.displayOptions.showMap && self.App.displayOptions.showTiles
	            }, 
	            self.App,
	            self
	            ).render();
	        }
	        if (!self.mobileControlView) {
	            // render mobile view buttons
	            self.mobileControlView = new MobileControlView({
	                model: null,
	                elParent: self.App.el,
	            }, 
	            self.App,
	            self
	            ).render();
	        }
	        var dateTimePicker = $('#date-time-filter');
	        dateTimePicker.find('#id_start_0').val(this.state.fromDate);
	        dateTimePicker.find('#id_start_1').val(this.state.fromTime);
	        dateTimePicker.find('#id_end_0').val(this.state.toDate);
	        dateTimePicker.find('#id_end_1').val(this.state.toTime);
	        this.toggleDateTimePicker();
	    },
	    
	    /**
	     * Let all content views parse the URL parameters they are interested in, and then start 
	     * a fresh search.
	     */
	    triggerSearchFromUrl: function (noNewNavigateEvent) {
	        this.resetAll();
	        var urlParams = this.parseUrl(window.location.href.replace(window.location.origin, ''));
	        // if infinite scroll is enabled, always show the initial page, unscrolled and unpaginated
	        if (this.options.paginationControlsUseInfiniteScroll && 'page' in urlParams) {
	        	delete urlParams.page;
	        }
	        _.each(this.App.contentViews, function(view){
	            view.applyUrlSearchParameters(urlParams);
	        });
	        this.determineActiveFilterStatuses();
	        // Check if matching enabled and matching object given
	        if (COSINNUS_MATCHING_ENABLED && this.state.matching) {
	            _.extend(this.options, this.getMatchingOptions());
	        }
	        this.render();
	        this.triggerDelayedSearch(true, true, noNewNavigateEvent, 'initial-search');
	    },
	    
	    /**
	     * The context can contain `reason` for a signal for out-of-date result sets:
	     * - viewport-changed: The map was scrolled or window was resized
	     * - map-navigate: Router navigate on the map (not called during initial navigation)
	     * - ...
	     */
	    handleStaleResults: function (context) {
	        if (context.reason == 'viewport-changed') {
	            util.log('*** control-view.js: Received signal for stale results bc of viewport change')
	        } else if (context.reason == 'map-navigate') {
	            util.log('*** control-view.js: Received signal for stale results bc of map-navigate')
	        }
	        
	        // prevent refreshing results on viewport changes when the mobile view search panel is open,
	        // as this is triggered by onscreen keyboards and leads to choppy behaviour
	        if (context.reason == 'viewport-changed' && this.App.$el.hasClass('mobile-view-search')) {
	        	util.log('*** control-view.js: Prevented refresh of results while search panel is open.')
	        	return;
	        }
	        
	        var staleBefore = this.state.resultsStale;
	        this.state.resultsStale = true;
	        
	        if (context.reason == 'map-navigate') {
	            // on a navigate event we have to re-read the URL (but add no history state)
	            this.triggerSearchFromUrl(true);
	        } else {
	            // search or do nothing, depending on if we re-search on scroll
	            if (this.state.searchOnScroll) {
	                // check before auto-rerendering that the input-box is not focused!
	                // if so, on mobile this search would pull down the keyboard
	                if (!this.$el.find('.q').is(":focus")) {
	                	var noPaginationReset = context.reason == 'viewport-changed';
	                    this.triggerDelayedSearch(false, noPaginationReset, false, context.reason);
	                } else {
	                    util.log('control-view.js: Prevented a search while input is focused!')
	                }
	            } else {
	                // re-render controls so the manual search button will be enabled
	                if (!staleBefore) {
	                	if (this.paginationControlView) {
	                		this.paginationControlView.render();
	                	}
	                }
	            }
	        }
	    },
	    
	    /** Adds the current search state, including all parameters and detail view state 
	     *  as a URL history state.
	     */
	    addCurrentHistoryState: function () {
	        var self = this;
	        Backbone.mediator.publish('navigate:router', self.buildSearchQueryURL(false).replace(self.searchEndpointURL, '/'))
	    },
	    
	    // called with a list of dicts of results freshly returned after a search
	    processSearchResults: function (jsonResultList, searchReason) {
	        var self = this;
	        
	        var resultModels = [];
	        _.each(jsonResultList, function(res){
	            var newmod = new Result(res);
	            resultModels.push(newmod);
	        });
	        // take the current selected model and check if it is in the new result list
	        // if so, set that to selected
	        // if not: add it to it
	        if (self.selectedResult) {
	            var position = resultModels.map(function(e){return e.id;}).indexOf(self.selectedResult.id);
	            if (position > -1) {
	                resultModels[position].set('selected', true);
	            } else {
	                resultModels.push(self.selectedResult);
	            }
	        }
	        // take the current hovered model and check if it is in the new result list
	        // if so, set that to hovered
	        // if not: add it to it
	        if (self.hoveredResult) {
	            var position = resultModels.map(function(e){return e.id;}).indexOf(self.hoveredResult.id);
	            if (position > -1) {
	                resultModels[position].set('hovered', true);
	            } else {
	                resultModels.push(self.hoveredResult);
	            }
	        }
	        
	        util.log('control-view.js:processSearchResults: check that the currently selected object is kept in the collection!')
	        util.log('control-view.js: got the results back and updated the collection!')
	        util.log(self.collection.toJSON());
	        
	        // if infinite-scroll is active, and this search has been triggered by a paginate event,
	        // we add the results to the collection instead of replacing them.
	        if (self.options.paginationControlsUseInfiniteScroll && searchReason == 'paginate-search') {
	        	self.collection.add(resultModels);
	        } else {
	        	self.collection.reset(resultModels);
	        	
	        	// if we had a navigate event and we still have a detail-view open, but it's not in the URL, close it
	        	// happens on back/forward buttons, but also on scroll events (where we don't want to close the detail view)
	        	if (self.detailResult && !self.state.urlSelectedResultId && !(searchReason == 'viewport-changed')) {
	        		self.displayDetailResult(null);
	        	} 
	        }
	        
	        // if our URL points directly at an item, select it.
	        // the API should take care that it is *always* in the result set
	        if (self.state.urlSelectedResultId && (!self.detailResult || self.state.urlSelectedResultId != self.detailResult.id)) {
	            self.onResultLinkClicked(null, self.state.urlSelectedResultId, true);
	            self.state.urlSelectedResultId = null;
	        }
	        
	    },
	    
	    // public functions
	    
	    /**
	     * Will set a new selected result and un-set the old one.
	     * If result == null, will just un-set the current one.
	     */
	    _setSelectedResult: function (result) {
	        if (this.selectedResult != null) {
	            // unselect previously selected result
	            this.selectedResult.set('selected', false);
	            if (result != null) {
	                // we're instantly selecting a new result
	                Backbone.mediator.publish('result:reselected', result);
	            } else {
	                // just unselecting, without selecting a new result
	                Backbone.mediator.publish('result:unselected', this.selectedResult);
	            }
	        } else if (result != null) {
	            // we select a new result without a previous one having been selected
	            Backbone.mediator.publish('result:selected', result);
	        }
	        this.selectedResult = result;
	        if (this.selectedResult != null) {
	            this.selectedResult.set('selected', true);
	            this.setHoveredResult(null); // always unhover on select
	            
	            /** this no longer has any validity
	            // selecting a result changes the URL so results can be directly linked
	            if (App.displayOptions.routeNavigation) {
	                var newUrl = this.buildSearchQueryURL(false).replace(this.searchEndpointURL, this.options.basePageURL);
	                App.router.replaceUrl(newUrl);
	            }
	            */
	        }
	    },
	    
	    /**
	     * Will set a new hovered result and un-set the old one.
	     * If result == null, will just un-set the current one.
	     */
	    setHoveredResult: function (result) {
	        if (result && result == this.selectedResult) {
	            return; // prevent setting hovered state on the currently selected result
	        }
	        if (this.hoveredResult != null) {
	            this.hoveredResult.set('hovered', false);
	        }
	        this.hoveredResult = result;
	        if (this.hoveredResult != null) {
	            this.hoveredResult.set('hovered', true);
	        }
	    },
	
	
	    /**
	     * Get options for matching (my groups, project and organizations)
	     */
	    getMatchingOptions: function () {
	        var options = {
	            myGroups: [],
	            myProjects: [],
	            myOrganizations: [],
	        };
	        var self = this;
	        var filterOpenForCooperation = function (item) {
	            return item.is_open_for_cooperation;
	        }
	        var addSelected = function (prefix) {
	            return function (item) {
	                return _.extend(item,
	                  {
	                      selected: self.state.matching === prefix + "." + item.slug,
	                  }
	                )
	            }
	        }
	        $.ajax({
	            url: '/api/v2/groups/mine?limit=100',
	            success: function(data) {
	                var filteredResult = data.results.filter(function (item) {
	                    return filterOpenForCooperation(item) && item.slug !== COSINNUS_FORUM_GROUP_SLUG;
	                });
	                options.myGroups = filteredResult.map(addSelected('groups'));
	            },
	            async: false
	        });
	        $.ajax({
	            url: '/api/v2/projects/mine?limit=100',
	            success: function(data) {
	                var filteredResult = data.results.filter(filterOpenForCooperation);
	                options.myProjects = filteredResult.map(addSelected('projects'));
	            },
	            async: false
	        });
	        $.ajax({
	            url: '/api/v2/organizations/mine?limit=100',
	            success: function(data) {
	                var filteredResult = data.results.filter(filterOpenForCooperation);
	                options.myOrganizations = filteredResult.map(addSelected('organizations'));
	            },
	            async: false
	        });
	        console.log(options);
	        return options;
	    },
	
	    
	    /** determine if any filtering method is active (topics or result types) */
	    determineActiveFilterStatuses: function () {
	        var self = this;
	        self.state.filtersActive = false;
	        self.state.textTopicFiltersActive = false;
	        self.state.topicFiltersActive = false;
	        self.state.sdgFiltersActive = false;
	        self.state.managedTagsFiltersActive = false;
	        self.state.typeFiltersActive = false;
	
	        if (self.state.activeTopicIds.length > 0) {
	            self.state.filtersActive = true;
	            self.state.topicFiltersActive = true;
	        }
	        if (self.state.activeTextTopicIds.length > 0) {
	            self.state.filtersActive = true;
	            self.state.textTopicFiltersActive = true;
	        }
	        if (self.state.activeSDGIds.length > 0) {
	            self.state.filtersActive = true;
	            self.state.sdgFiltersActive = true;
	        }
	        if (self.state.activeManagedTagsIds.length > 0) {
	            self.state.filtersActive = true;
	            self.state.managedTagsFiltersActive = true;
	        }
	
	        _.each(Object.keys(self.options.availableFilters), function(key) {
	            if (self.options.availableFilters[key] != self.state.activeFilters[key]) {
	                self.state.filtersActive = true;
	                self.state.typeFiltersActive = true;
	            }
	        });
	    },
	
	    search: function (noNavigate, searchReason) {
	        var self = this;
	        self.state.resultsStale = false;
	        
	        var url = self.buildSearchQueryURL(true);
	        self.state.searching = true;
	        
	        // cancel the currently ongoing request
	        if (self.currentSearchHttpRequest) {
	            util.log('control-view.js: New search! Aborting current search request.')
	            self.currentSearchHttpRequest.abort();
	        }
	
	        self.currentSearchHttpRequest = $.ajax(url, {
	            type: 'GET',
	            timeout: self.searchXHRTimeout,
	            success: function (data, textStatus) {
	                // Save the search state in the url.
	                if (App.displayOptions.routeNavigation && !noNavigate && !self.selectedResult) {
	                    util.log('control-view.js: +++++++++++++++++ since we are fullscreen, publishing router URL update!')
	                    self.addCurrentHistoryState();
	                }
	                util.log('got resultssss')
	                util.log(data)
	                util.log(textStatus)
	                var results = data.results;
	                self.processSearchResults(results, searchReason);
	                self.state.page = data.page;
	                self.state.pageIndex = data.page && data.page.index || 0;
	                self.state.searchHadErrors = false;
	            },
	            error: function (xhr, textStatus) {
	                util.log('control-view.js: Search XHR failed.')
	                if (textStatus === 'abort') {
	                    return;
	                }
	                Backbone.mediator.publish('error:search');
	                self.state.searchHadErrors = true;
	            },
	            complete: function (xhr, textStatus) {
	                util.log('control-view.js: Search complete: ' + textStatus)
	                if (textStatus === 'abort') {
	                    return;
	                }
	                if (textStatus !== 'success') {
	                    self.state.searchHadErrors = true;
	                }
	                self.state.searching = false;
	                
	                if (self.options.controlsEnabled) {
	                    self.determineActiveFilterStatuses();
	                    self.refreshSearchControls();
	                    if (searchReason == 'manual-search') {
	                        self.hideFilterPanel();
	                    }
	                    self.renderActiveFilters();
	                    // refresh pagination controls
	                    if (self.paginationControlView) {
	                    	self.paginationControlView.render();
	                    }
	                    // if we have done a manual search, set the view to default!
	                    if (searchReason == 'manual-search') {
	                        self.triggerMobileDefaultView(event);
	                    }
	                    // scroll tile list to top on manual searches
	                    if (searchReason == 'manual-search' || searchReason == 'reset-filters-search' || (searchReason == 'paginate-search' && !self.options.paginationControlsUseInfiniteScroll)) {
	                        $('.tile-contents').scrollTop(0); // scroll to top on tile list
	                    }
	                }
	                
	                self.currentSearchHttpRequest = null;
	                Backbone.mediator.publish('end:search', searchReason);
	            }
	        });
	    },
	    
	    refreshSearchControls: function () {
	        var self = this;
	        self.$el.find('.icon-filters').toggleClass('active', self.state.filtersActive);
	        self.$el.find('.icon-reset').toggleClass('hidden', (!self.state.filtersActive && !self.state.q));
	        self.$el.find('.icon-search').removeClass('active');
	        self.$el.find('.button-search').addClass('disabled');
	    },
	    
	    renderActiveFilters: function () {
	        if (this.state.filtersActive || this.state.q) {
	            var data = this.getTemplateData();
	            var rendered = this.activeFiltersTemplate.render(data);
	            this.$el.find('.map-controls-active-filters').html(rendered).show();
	        } else {
	            this.$el.find('.map-controls-active-filters').hide().empty();
	        }
	    },
	    
	    /** Unused, remove if not needed */
	    /** Old version: we do not re-render the search controls any more because of loss
	     *  of new search input for the user
	    refreshSearchControls: function () {
	        // restore the search textbox after the render so we don't throw the user out
	        var qdata = util.saveInputStatus(self.$el.find('.q'));
	        self.render();
	        util.restoreInputStatus(self.$el.find('.q'), qdata);
	    },
	    */
	    
	    // extended from content-control-view.js
	    applyUrlSearchParameters: function (urlParams) {
	        _.extend(this.state, {
	            activeFilters: {
	                people: this.options.availableFilters.people ? util.ifundef(urlParams.people, this.options.activeFilters.people) : false,
	                events: this.options.availableFilters.events ? util.ifundef(urlParams.events, this.options.activeFilters.events) : false,
	                projects: this.options.availableFilters.projects ? util.ifundef(urlParams.projects, this.options.activeFilters.projects) : false,
	                groups: this.options.availableFilters.groups ? util.ifundef(urlParams.groups, this.options.activeFilters.groups) : false
	            },
	            q: util.ifundef(urlParams.q, this.state.q),
	            ignoreLocation: util.ifundef(urlParams.ignore_location, this.state.ignoreLocation),
	            exchange: COSINNUS_EXCHANGE_ENABLED && util.ifundef(urlParams.exchange, this.state.exchange),
	            matching: COSINNUS_MATCHING_ENABLED && util.ifundef(urlParams.matching, this.state.matching),
	            searchResultLimit: util.ifundef(urlParams.limit, this.state.searchResultLimit),
	            activeTopicIds: util.ifundef(urlParams.topics, this.state.activeTopicIds),
	            activeTextTopicIds: util.ifundef(urlParams.text_topics, this.state.activeTextTopicIds),
	            activeSDGIds: util.ifundef(urlParams.sdgs, this.state.activeSDGIds),
	            activeManagedTagsIds: util.ifundef(urlParams.managed_tags, this.state.activeManagedTagsIds),
	            pageIndex: util.ifundef(urlParams.page, this.state.pageIndex),
	            urlSelectedResultId: util.ifundef(urlParams.item, this.state.urlSelectedResultId),
	        });
	        if (COSINNUS_IDEAS_ENABLED) {
	        	this.state.activeFilters['ideas'] = this.options.availableFilters.ideas ? util.ifundef(urlParams.ideas, this.options.activeFilters.ideas) : false;
	        }
	        if (COSINNUS_ORGANIZATIONS_ENABLED) {
	            this.state.activeFilters['organizations'] = this.options.availableFilters.organizations ? util.ifundef(urlParams.organizations, this.options.activeFilters.organizations) : false;
	        }
	        if (COSINNUS_CONFERENCES_ENABLED) {
	            this.state.activeFilters['conferences'] = this.options.availableFilters.conferences ? util.ifundef(urlParams.conferences, this.options.activeFilters.conferences) : false;
	        }
	        if (COSINNUS_CLOUD_ENABLED) {
	            this.state.activeFilters['cloudfiles'] = this.options.availableFilterList.cloudfiles ? util.ifundef(urlParams.cloudfiles, this.options.activeFilters.cloudfiles) : false;
	        }
	
	        if (cosinnus_active_user) {
	        	this.options.showMine = util.ifundef(urlParams.mine, this.options.showMine);
	        }
	
	        this.state.typeFiltersActive = Object.values(this.state.activeFilters).indexOf(false) > -1
	
	        if (this.options.showManagedTagsOnTypesSelected.length > 0) {
	            var activeFilters = this.state.activeFilters
	            var showManagedTags = _.some(this.options.showManagedTagsOnTypesSelected, function(type) {
	                if (activeFilters[type]) {
	                   return true;
	
	                }
	            });
	            this.state.displayManagedTagsFilter = showManagedTags && this.state.typeFiltersActive
	        }
	
	        if (this.options.showTextTopicsOnTypesSelected.length > 0) {
	            var activeFilters = this.state.activeFilters
	            var showTextTopics = _.some(this.options.showTextTopicsOnTypesSelected, function(type) {
	                if (activeFilters[type]) {
	                   return true;
	
	                }
	            });
	            this.state.displayTextTopcFilter = showTextTopics && this.state.typeFiltersActive
	        }
	
	        var today = moment().format('YYYY-MM-DD');
	        var in_three_months = moment().add(3, 'M').format('YYYY-MM-DD');
	        this.state.fromDate =  util.ifundef(urlParams.fromDate, today);
	        this.state.fromTime = util.ifundef(urlParams.fromTime, "00:00").replace("%3A", ":");
	        this.state.toDate = util.ifundef(urlParams.toDate, in_three_months);
	        this.state.toTime = util.ifundef(urlParams.toTime, "23:59").replace("%3A", ":");
	    },
	
	    // extended from content-control-view.js
	    contributeToSearchParameters: function(forAPI) {
	        var searchParams = {
	            q: this.state.q,
	            people: this.state.activeFilters.people,
	            events: this.state.activeFilters.events,
	            projects: this.state.activeFilters.projects,
	            groups: this.state.activeFilters.groups,
	        };
	        
	        if (this.state.dateFiltersActive) {
	            var dateTimePicker = $('#date-time-filter');
	            var fromDate = dateTimePicker.find('#id_start_0').val() || this.state.fromDate;
	            var fromTime = dateTimePicker.find('#id_start_1').val() || this.state.fromTime;
	            var toDate = dateTimePicker.find('#id_end_0').val() || this.state.toDate;
	            var toTime = dateTimePicker.find('#id_end_1').val() || this.state.fromDate;
	            if (!fromTime.includes(':')) {
	                fromTime += ':00';
	            }
	            if (!toTime.includes(':')) {
	                toTime += ':00';
	            }
	    
	            if (fromDate) {
	                _.extend(searchParams, {
	                    fromDate: fromDate
	                });
	                if (fromTime) {
	                    _.extend(searchParams, {
	                        fromTime: fromTime
	                    });
	                }
	            }
	    
	            if (toDate) {
	                _.extend(searchParams, {
	                    toDate: toDate
	                });
	                if (toTime) {
	                    _.extend(searchParams, {
	                        toTime: toTime
	                    });
	                }
	            }
	        }
	
	        if (COSINNUS_IDEAS_ENABLED) {
	        	_.extend(searchParams, {
	                ideas: this.state.activeFilters.ideas
	            });
	        }
	        if (COSINNUS_ORGANIZATIONS_ENABLED) {
	            _.extend(searchParams, {
	                organizations: this.state.activeFilters.organizations
	            });
	        }
	        if (COSINNUS_CONFERENCES_ENABLED) {
	            _.extend(searchParams, {
	                conferences: this.state.activeFilters.conferences
	            });
	        }
	        if (COSINNUS_CLOUD_ENABLED) {
	            _.extend(searchParams, {
	                cloudfiles: this.state.activeFilters.cloudfiles
	            });
	        }
	        if (this.state.activeTopicIds.length > 0) {
	            _.extend(searchParams, {
	                topics: this.state.activeTopicIds.join(',')
	            });
	        }
	
	        if (this.state.activeTextTopicIds.length > 0) {
	            _.extend(searchParams, {
	                text_topics: this.state.activeTextTopicIds.join(',')
	            });
	        }
	        if (this.state.activeSDGIds.length > 0) {
	            _.extend(searchParams, {
	                sdgs: this.state.activeSDGIds.join(',')
	            });
	        }
	        if (this.state.activeManagedTagsIds.length > 0) {
	            _.extend(searchParams, {
	                managed_tags: this.state.activeManagedTagsIds.join(',')
	            });
	        }
	        if (this.state.pageIndex > 0) {
	            _.extend(searchParams, {
	                page: this.state.pageIndex
	            });
	        }
	        if (this.detailResult) {
	            _.extend(searchParams, {
	                item: this.detailResult.id
	            });
	        } else if (this.state.urlSelectedResultId) {
	            _.extend(searchParams, {
	                item: this.state.urlSelectedResultId
	            });
	        }
	        if (this.options.showMine) {
	            _.extend(searchParams, {
	            	mine: 1
	            });
	        }
	        if (this.state.ignoreLocation) {
	            _.extend(searchParams, {
	                ignore_location: 1
	            });
	        }
	        if (COSINNUS_EXCHANGE_ENABLED && this.state.exchange) {
	            _.extend(searchParams, {
	                exchange: 1
	            });
	        }
	        if (COSINNUS_MATCHING_ENABLED && this.state.matching) {
	            _.extend(searchParams, {
	                matching: this.state.matching
	            });
	        }
	        if (forAPI) {
	            _.extend(searchParams, {
	                limit: this.state.searchResultLimit
	            });
	        }
	        
	        util.log('control-view.js: returning search params:')
	        util.log(searchParams)
	        return searchParams
	    },
	
	    /**
	     * Build the URL containing all parameters for the current view
	     * 
	     * @param forAPI: if true, contains all search parameters.
	     *         if false, contains only these that should be visible in the browser URL 
	     */
	    buildSearchQueryURL: function (forAPI) {
	        // collect all search parameters from content views that affect them
	        var searchParams = {};
	        _.each(this.App.contentViews, function(view){
	            _.extend(searchParams, view.contributeToSearchParameters(forAPI));
	        });
	        var query = $.param(searchParams);
	        
	        var url = this.searchEndpointURL;
	        if (this.options.filterGroup) {
	            url = url + this.options.filterGroup + '/';
	        }
	        url = url + '?' + query;
	        
	        util.log(' ************  BUILD SEARCH QUERY URL RETURNED (forAPI): ' + forAPI)
	        util.log(url)
	        return url;
	    },
	    
	    /** Collects all toggled states of filter buttons and applies them onto the current control-view state */
	    applyFilters: function () {
	        var self = this;
	
	        // Result types
	        var all_deselected = true;
	        self.$el.find('.result-filter-button').each(function(){
	            var $button = $(this);
	            var resultType = $button.attr('data-result-filter-type');
	            var selected = $button.hasClass('selected');
	            self.state.activeFilters[resultType] = selected;
	            if (selected) {
	                all_deselected = false;
	            }
	        });
	        // if we select all types, drop the filter (select all is default).
	        if (all_deselected) {
	            self.resetTypeFilters();
	        }
	        
	        // Topics
	        self.resetTopics();
	        self.$el.find('.topic-button.selected').each(function(){
	            var $button = $(this);
	            var bid = parseInt($button.attr('data-topic-id'));
	            self.state.activeTopicIds.push(bid);
	        });
	
	        //TextTopics
	        self.resetTextTopics();
	        self.$el.find('.text-topic-button.selected').each(function(){
	            var $button = $(this);
	            var bid = parseInt($button.attr('data-text-topic-id'));
	            self.state.activeTextTopicIds.push(bid);
	        });
	
	        // SDGs
	        self.resetSDGS();
	        self.$el.find('.sdg-button.selected').each(function(){
	            var $button = $(this);
	            var bid = parseInt($button.attr('data-sdg-id'));
	            self.state.activeSDGIds.push(bid);
	        });
	        
	        // ManagedTags
	        self.resetManagedTags();
	        self.$el.find('.managed-tag-button.selected').each(function(){
	            var $button = $(this);
	            var bid = parseInt($button.attr('data-managed-tag-id'));
	            self.state.activeManagedTagsIds.push(bid);
	        });
	    },
	
	    // TODO REMOVE
	    toggleFilter: function (resultType) {
	        var activeFilters = this.state.activeFilters;
	        activeFilters[resultType] = !activeFilters[resultType];
	        this.state.activeFilters = activeFilters;
	        this.triggerDelayedSearch(true);
	    },
	
	    // Register a change in the controls or the map UI which should queue
	    // a search attempt after a delay.
	    triggerDelayedSearch: function (fireImmediatelyIfPossible, noPageReset, noNavigate, searchReason) {
	        var self = this;
	        
	        var delay = self.searchDelay;
	        if (fireImmediatelyIfPossible) {
	            delay = 0;
	        }
	        if (!noPageReset) {
	            self.state.pageIndex = 0;
	        }
	        clearTimeout(this.searchTimeout);
	    	Backbone.mediator.publish('want:search', searchReason);
	        self.searchTimeout = setTimeout(function () {
	            self.search(noNavigate, searchReason);
	        }, delay);
	    },
	
	    activeFilterList: function () {
	        return _(_(this.state.activeFilters).keys()).select(function (filter) {
	            return !!filter;
	        });
	    },
	    
	});


/***/ }),
/* 15 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var View = __webpack_require__(4);
	
	module.exports = View.extend({
	    
	    template: __webpack_require__(16),    
	    
	    initialize: function (options) {
	        var self = this;
	        View.prototype.initialize.call(self, options);
	        
	        this.state.message = options.message;
	    }
	});


/***/ }),
/* 16 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/xhr-error.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	output += "<div class=\"error\">\n    ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "message"), env.opts.autoescape);
	output += "\n</div>\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/xhr-error.html"] , dependencies)

/***/ }),
/* 17 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var BaseView = __webpack_require__(4);
	var util = __webpack_require__(5);
	
	var paginationControlsTemplate = __webpack_require__(18);
	
	
	/** 
	 * A small view, basically just to encapsulate the pagination control
	 * template and buttons, to be able to render and refresh them independently
	 * of the search controls. 
	 * This is contained by and delegates almost everything back to the control-view.
	 * */
	module.exports = BaseView.extend({
	    
	    // reference back to the main App
	    App: null,
	    
	    controlView: null,
	    
	    template: paginationControlsTemplate,
	    
	    defaults: {
	    	infiniteScrollHasTriggered: false,
	    },
	    
	    // The DOM events specific to an item.
	    events: {
	        'click .toggle-search-on-scroll': 'toggleSearchOnScrollClicked',
	        'click .stale-search-button': 'staleSearchButtonClicked',
	        'click .trigger-pagination-forward': 'paginationForwardClicked',
	        'click .trigger-pagination-backward': 'paginationBackClicked',
	        'click .trigger-create-idea': 'createIdeaClicked',
	    },
	    
	    initialize: function (options, app, controlView) {
	        var self = this;
	        BaseView.prototype.initialize.call(self, options);
	        self.App = app;
	        self.controlView = controlView;
	        
	        if (self.controlView.options.paginationControlsUseInfiniteScroll) {
	        	Backbone.mediator.subscribe('tile-list:scroll-end-reached', self.handleInfiniteScrollTriggered, self);
	        }
	    },
	    
	    /** Extend the template data by the controlView's options and state */
	    getTemplateData: function () {
	        var self = this;
	        var data = BaseView.prototype.getTemplateData.call(self);
	        var show_idea_button = COSINNUS_IDEAS_ENABLED && self.App.displayOptions.showMap && !self.App.mapView.draggableMarker;
	        
	        data = _.extend(
	            data,
	            self.controlView.options,
	            self.controlView.state,
	            {
	            	show_idea_button: show_idea_button
	            }
	        );
	        return data;
	    },
	    
	    afterRender: function () {
	    	// reset infinite scroll lock
	        var self = this;
	        self.state.infiniteScrollHasTriggered = false;
	    },
	    
	    // Events  -------------
	    
	    /** Called when the end of the scroll list is reached.
	     * 	Can be called multiple times, and even when the full list is already loaded. */
	    handleInfiniteScrollTriggered: function (event) {
	    	if (!this.controlView.state.searching && !this.state.infiniteScrollHasTriggered) {
	    		this.state.infiniteScrollHasTriggered = true;
	    		this.paginationForwardClicked();
	    	}
	    },
	
	    // delegate to controlView
	    toggleSearchOnScrollClicked: function (event) {
	        this.controlView.toggleSearchOnScrollClicked(event);
	    },
	    
	    // delegate to controlView
	    staleSearchButtonClicked: function (event) {
	    	this.controlView.staleSearchButtonClicked(event);
	    },
	    
	    // delegate to controlView
	    paginationForwardClicked: function (event) {
	    	this.controlView.paginationForwardClicked(event);
	    },
	    
	    // delegate to controlView
	    paginationBackClicked: function (event) {
	    	this.controlView.paginationBackClicked(event);
	    },
	    
	    // delegate to controlView
	    createIdeaClicked: function (event) {
	    	this.controlView.openCreateIdeaView(event);
	    },
	    
	});


/***/ }),
/* 18 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/map/pagination-controls.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	output += runtime.suppressValue(env.getExtension("passThrough")["run"](context,runtime.contextOrFrameLookup(context, frame, "i18n")), true && env.opts.autoescape);
	output += "\n\n";
	if(runtime.contextOrFrameLookup(context, frame, "paginationControlsEnabled") && !runtime.contextOrFrameLookup(context, frame, "paginationControlsUseInfiniteScroll")) {
	output += "\n    <div class=\"map-pagination-controls mobile-view mobile-view-list-visible-block\">\n        <div class=\"line\">\n            ";
	if(runtime.contextOrFrameLookup(context, frame, "page")) {
	output += "\n                <div class=\"rounded-button rounded-button-circular button-action trigger-pagination-backward ";
	if(!runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "page")),"has_previous")) {
	output += "disabled ";
	;
	}
	output += "\">\n                    <span class=\"rounded-button-inner\">\n                        <i class=\"fa fa-fw fa-chevron-left\"></i>\n                    </span>\n                </div>\n                <div class=\"inline-spacer\">\n                    <span>\n                        ";
	output += runtime.suppressValue(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "page")),"start"), env.opts.autoescape);
	output += " - ";
	output += runtime.suppressValue(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "page")),"end"), env.opts.autoescape);
	output += "\n                    </span>\n                    ";
	if(1) {
	output += "\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"of"), true && env.opts.autoescape);
	output += "\n                        ";
	output += runtime.suppressValue(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "page")),"total_count"), env.opts.autoescape);
	output += "\n                    ";
	;
	}
	output += "\n                    <span>\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Results"), true && env.opts.autoescape);
	output += "\n                    </span>\n                </div>\n                <div class=\"inline-spacer rounded-button rounded-button-circular button-action trigger-pagination-forward ";
	if(!runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "page")),"has_next")) {
	output += "disabled ";
	;
	}
	output += "\">\n                    <span class=\"rounded-button-inner\">\n                        <i class=\"fa fa-fw fa-chevron-right\"></i>\n                    </span>\n                </div>\n            ";
	;
	}
	else {
	output += "\n                <div class=\"spacer\"></div>\n                <i>\n                    ";
	output += "\n                    ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"No results found."), true && env.opts.autoescape);
	output += "\n                </i>\n            ";
	;
	}
	output += "\n            \n            \n        ";
	if(runtime.contextOrFrameLookup(context, frame, "searchHadErrors")) {
	output += "\n            <div class=\"message-error\">\n                <i class=\"fa fa-warning\"></i>\n                ";
	output += "\n                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Could not complete the search due to an error."), true && env.opts.autoescape);
	output += "\n            </div>\n        ";
	;
	}
	output += "\n        \n        </div>\n    </div>\n";
	;
	}
	output += "\n\n";
	output += "\n";
	if(false) {
	output += "\n    <div class=\"map-scroll-controls mobile-hidden\">\n        <table class=\"onoffswitch-frame\">\n            <tr>\n                <td class=\"onoffswitch-text-label\">\n                    ";
	output += "\n                    ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Search when moving the map"), true && env.opts.autoescape);
	output += "\n                </td>\n                <td>\n                    <div class=\"onoffswitch\">\n                        <input type=\"checkbox\" name=\"onoffswitch-search-on-scroll\" class=\"onoffswitch-checkbox toggle-search-on-scroll\" id=\"check-search-on-scroll\" ";
	if(runtime.contextOrFrameLookup(context, frame, "searchOnScroll")) {
	output += "checked";
	;
	}
	output += ">\n                        <label class=\"onoffswitch-label\" for=\"check-search-on-scroll\">\n                            <span class=\"onoffswitch-inner\"></span>\n                            <span class=\"onoffswitch-switch\"></span>\n                        </label>\n                    </div>\n                </td>\n            </tr>\n        </table>\n        \n        ";
	output += "\n        ";
	if(0 && !runtime.contextOrFrameLookup(context, frame, "searchOnScroll") && runtime.contextOrFrameLookup(context, frame, "resultsStale") && !runtime.contextOrFrameLookup(context, frame, "searching")) {
	output += "\n            <div class=\"rounded-button button-color-action stale-search-button\">\n               <span>\n                   ";
	output += "\n                   ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Search this area"), true && env.opts.autoescape);
	output += "\n               </span>\n            </div>\n        ";
	;
	}
	output += "\n    </div>\n";
	;
	}
	output += "\n\n            \n<div class=\"map-create-idea-button-frame mobile-hidden\">\n    ";
	if(runtime.contextOrFrameLookup(context, frame, "show_idea_button")) {
	output += "\n        ";
	output += "\n\t    \n\t    \n\t    <a ";
	if(!runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user")) {
	output += "href=\"/signup/?acc_req_msg=1&next=/map/\" class=\"";
	;
	}
	else {
	output += "class=\"trigger-create-idea";
	;
	}
	output += " rounded-button button-color-ideas-inverted shadowed-button\">\n\t        <span class=\"rounded-button-inner\">\n\t            <i class=\"fa fa-lightbulb-o\"></i>\n\t            ";
	output += "\n\t            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Create Idea"), true && env.opts.autoescape);
	output += "\n\t        </span>\n\t    </a>\n    ";
	;
	}
	output += "\n    \n    ";
	if(runtime.contextOrFrameLookup(context, frame, "splitscreen") && runtime.contextOrFrameLookup(context, frame, "COSINNUS_SHOW_PROJECT_AND_GROUP_CREATE_BUTTONS")) {
	output += "\n\t    <a href=\"";
	if(!runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user")) {
	output += "/signup/?acc_req_msg=1&next=";
	;
	}
	output += "/projects/add/\" class=\"rounded-button button-color-projects-inverted shadowed-button\">\n\t        <span class=\"rounded-button-inner\">\n\t            <i class=\"fa fa-group\"></i>\n\t            ";
	output += "\n\t            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Create Project"), true && env.opts.autoescape);
	output += "\n\t        </span>\n\t    </a>\n    ";
	;
	}
	output += "\n\n    ";
	if(runtime.contextOrFrameLookup(context, frame, "splitscreen") && runtime.contextOrFrameLookup(context, frame, "COSINNUS_MATCHING_ENABLED")) {
	output += "\n\t    <a href=\"";
	if(!runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user")) {
	output += "/signup/?acc_req_msg=1&next=";
	;
	}
	output += "/map/?matching=true\" class=\"rounded-button button-color-primary-inverted shadowed-button\">\n\t        <span class=\"rounded-button-inner\">\n\t            <i class=\"fa fa-puzzle-piece\"></i>\n\t            ";
	output += "\n\t            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Find partners"), true && env.opts.autoescape);
	output += "\n\t        </span>\n\t    </a>\n    ";
	;
	}
	output += "\n</div>\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/map/pagination-controls.html"] , dependencies)

/***/ }),
/* 19 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var BaseView = __webpack_require__(4);
	var util = __webpack_require__(5);
	
	var mobileControlsTemplate = __webpack_require__(20);
	
	
	/** 
	 * A small view, basically just to encapsulate the mobile control
	 * template and buttons, to be able to render and refresh them independently
	 * of the search controls. 
	 * This is contained by and delegates almost everything back to the control-view.
	 * */
	module.exports = BaseView.extend({
	    
	    // reference back to the main App
	    App: null,
	    
	    controlView: null,
	    
	    template: mobileControlsTemplate,
	    
	    // The DOM events specific to an item.
	    events: {
	        'click .trigger-mobile-list-view': 'triggerMobileListView',
	        'click .trigger-mobile-search-view': 'triggerMobileSearchView',
	        'click .trigger-mobile-map-view': 'triggerMobileMapView',
	        'click .trigger-mobile-idea-create-1-view': 'triggerMobileIdeaCreate1View',
	        'click .trigger-mobile-idea-create-2-view': 'triggerMobileIdeaCreate2View'
	    },
	    
	    initialize: function (options, app, controlView) {
	        var self = this;
	        BaseView.prototype.initialize.call(self, options);
	        self.App = app;
	        self.controlView = controlView;
	    },
	    
	    /** Extend the template data by the controlView's options and state */
	    getTemplateData: function () {
	        var self = this;
	        var data = BaseView.prototype.getTemplateData.call(self);
	        data = _.extend(
	            data,
	            self.controlView.options,
	            self.controlView.state
	        );
	        return data;
	    },
	    
	    
	    // Events  -------------
	    
	
	    // delegate to controlView
	    triggerMobileListView: function (event) {
	        this.controlView.triggerMobileListView();
	    },
	
	    // delegate to controlView
	    triggerMobileSearchView: function (event) {
	    	this.controlView.triggerMobileSearchView();
	    },
	
	    // delegate to controlView
	    triggerMobileMapView: function (event) {
	    	this.controlView.triggerMobileMapView();
	    },
	    
	    // delegate to controlView
	    triggerMobileIdeaCreate1View: function (event) {
	    	this.controlView.triggerMobileIdeaCreate1View();
	    },
	
	    // delegate to controlView
	    triggerMobileIdeaCreate2View: function (event) {
	    	this.controlView.triggerMobileIdeaCreate2View();
	    },
	    
	    
	});


/***/ }),
/* 20 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/map/mobile-controls.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	if(runtime.contextOrFrameLookup(context, frame, "COSINNUS_IDEAS_ENABLED")) {
	output += "\n\t<div class=\"map-mobile-controls left-side mobile-only mobile-view mobile-view-map-visible-block\">\n\t\t<a ";
	if(!runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user")) {
	output += "href=\"/signup/?acc_req_msg=1&next=/map/\" class=\"";
	;
	}
	else {
	output += "class=\"trigger-mobile-idea-create-1-view";
	;
	}
	output += " pull-left rounded-button button-action-faded shadowed-button\">\n\t\t    <span class=\"rounded-button-inner\">\n\t\t        <i class=\"fa fa-fw fa-lightbulb-o apply-color-ideas\"></i>\n\t\t        ";
	output += "\n\t\t        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Create idea"), true && env.opts.autoescape);
	output += "\n\t\t    </span>\n\t\t</a>\n\t</div>\n\t\n\t<div class=\"map-mobile-controls map-pagination-controls full-width vertical-center-parent   mobile-only mobile-view mobile-view-idea-create-1-visible-block\">\n        <a class=\"trigger-mobile-idea-create-2-view rounded-button button-color-action pull-right inline-spacer vertical-center-child\">\n            <span class=\"rounded-button-inner\">\n                ";
	output += "\n                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Next"), true && env.opts.autoescape);
	output += "\n            </span>\n        </a>\n\t    <div class=\"controls-description vertical-center-child\">\n\t        ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Choose a location for your idea by dragging the marker!"), true && env.opts.autoescape);
	output += "\n\t    </div>\n    </div>\n\t\n";
	;
	}
	output += "\n\n<div class=\"map-mobile-controls mobile-only\">\n    ";
	if(!runtime.contextOrFrameLookup(context, frame, "fullscreen")) {
	output += "\n    <div class=\"rounded-button rounded-button-circular button-action-faded shadowed-button trigger-mobile-search-view   mobile-view mobile-view-list-visible-inline-block  mobile-view-map-visible-inline-block mobile-view-detail-visible-inline-block\">\n        <span class=\"rounded-button-inner\">\n            <i class=\"fa fa-fw fa-search\"></i>\n        </span>\n    </div>\n    ";
	;
	}
	output += "\n    ";
	if(runtime.contextOrFrameLookup(context, frame, "splitscreen")) {
	output += "\n\t    <div class=\"rounded-button rounded-button-circular button-action-faded shadowed-button trigger-mobile-map-view   mobile-view mobile-view-search-visible-inline-block  mobile-view-list-visible-inline-block mobile-view-detail-visible-inline-block\">\n\t        <span class=\"rounded-button-inner\">\n\t            <i class=\"fa fa-fw fa-map-marker\"></i>\n\t        </span>\n\t    </div>\n    ";
	;
	}
	output += "\n    <div class=\"rounded-button rounded-button-circular button-action-faded shadowed-button trigger-mobile-list-view   mobile-view mobile-view-map-visible-inline-block  mobile-view-search-visible-inline-block mobile-view-detail-visible-inline-block\">\n        <span class=\"rounded-button-inner\">\n            <i class=\"fa fa-fw fa-list-ul\"></i>\n        </span>\n    </div>\n</div>";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/map/mobile-controls.html"] , dependencies)

/***/ }),
/* 21 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var BaseView = __webpack_require__(4);
	var util = __webpack_require__(5);
	
	
	module.exports = BaseView.extend({
	    
	    // reference back to the main App
	    App: null,
	    
	    controlView: null,
	    
	    model: null,
	
	    template: __webpack_require__(22),
	    
	    // The DOM events specific to an item.
	    events: {
	        'click .tile-close-button': 'onCloseClicked',
	        'click .trigger-create-idea-submit': 'onSubmitClicked',
	        'click .trigger-mobile-idea-back': 'onMobileIdeaBackClicked',
	    },
	    
	    initialize: function (options, app, controlView) {
	        var self = this;
	        BaseView.prototype.initialize.call(self, options);
	        self.App = app;
	        self.controlView = controlView;
	        
	        Backbone.mediator.subscribe('ideas:create-view-opened', self.onViewOpened, self);
	        Backbone.mediator.subscribe('ideas:create-view-closed', self.onViewClosed, self);
	    },
	
	    /** Extend the template data by the controlView's options and state */
	    getTemplateData: function () {
	        var self = this;
	        var data = BaseView.prototype.getTemplateData.call(self);
	        data['controlView'] = _.extend(
	            {},
	            self.App.controlView.options,
	            self.App.controlView.state
	        );
	        return data;
	    },
	    
	    afterRender: function () {
	    	init_simplemde($('#idea-create-description')[0]);
	    },
	    
	    onViewOpened: function () {
	    	this.$el.find('#idea-create-title').focus();
	    	this.App.mapView.activateDraggableMarker('ideas');
	    	$('.trigger-create-idea').hide();
	        Backbone.mediator.publish('tile-detail:opened');
	    },
	    
	    onViewClosed: function () {
	    	this.App.mapView.deactivateDraggableMarker();
	    	$('.trigger-create-idea').show();
	        Backbone.mediator.publish('tile-detail:closed');
	    },
	    
	    // the view is being closed
	    onCloseClicked: function (event) {
	    	this.controlView.closeCreateIdeaView(event);
	    },
	    
	    // submit button was clicked
	    onSubmitClicked: function (event) {
	    	// collect "form" values and navigate to the real create URL
	    	var title = this.$el.find('#idea-create-title').val();
	    	var description = inited_simplemde.value();
	    	var latlng = this.App.mapView.getDraggableMarkerLatLng();
	    	var url = '/ideas/add/?' + 
		    	'title=' + encodeURIComponent(title) + '&' + 
		    	'lat=' + latlng.lat + '&' + 
		    	'lon=' + latlng.lng + '&' +
		    	'description=' + encodeURIComponent(description); 
	    	window.location.href = url;
	    },
	    
	    onMobileIdeaBackClicked: function (event) {
	    	this.controlView.triggerMobileIdeaCreate1View(event);
	    }
	    
	});


/***/ }),
/* 22 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/tiles/tile-detail-create-idea.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/tiles/tile-detail-create-idea.html", false, function(t_2,t_1) {
	if(t_2) { cb(t_2); return; }
	t_1.getExported(function(t_3,t_1) {
	if(t_3) { cb(t_3); return; }
	context.setVariable("macros", t_1);
	output += "\n\n<div class=\"tile-detail tile-idea tile-create-idea mobile-view mobile-view-idea-create-2-visible-block\">\n    <div class=\"tile-close-button more-padding\">\n        <i class=\"fa fa-fw fa-close\"></i>\n    </div>\n    \n    \n    ";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("title"))(env, context, frame, runtime, function(t_5,t_4) {
	if(t_5) { cb(t_5); return; }
	output += t_4;
	output += "\n    \n    ";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("form"))(env, context, frame, runtime, function(t_7,t_6) {
	if(t_7) { cb(t_7); return; }
	output += t_6;
	output += "\n        \n    \n    ";
	output += "\n    <div class=\"spacer mobile-only\">&nbsp;</div>\n    <div class=\"spacer mobile-only\">&nbsp;</div>\n    <div class=\"spacer mobile-only\">&nbsp;</div>\n</div>\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_title(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n        <div class=\"tile-section no-top-spacing title\">\n            <h1>\n                ";
	output += "\n                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Create idea"), true && env.opts.autoescape);
	output += "\n            </h1>\n        </div>\n        \n        <div class=\"tile-section mobile-hidden\">\n            <div class=\"pull-left multi-span non-map-placemark placemark l icon ideas\"></div>\n            <div style=\"overflow: hidden;\">\n                ";
	output += "\n                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Choose a location for your idea by dragging & dropping the marker. You can still change this location later on."), true && env.opts.autoescape);
	output += "\n            </div>\n        </div>\n        \n    ";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_form(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n        <div class=\"tile-detail-form\">\n\t        <div class=\"tile-section\">\n\t            <label class=\"caps\" for=\"idea-create-title\">\n\t                ";
	output += "\n\t                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Title"), true && env.opts.autoescape);
	output += "\n\t            </label> \n\t            <input id=\"idea-create-title\" type=\"text\" />\n\t        </div>\n\t        \n\t        <div class=\"tile-section\">\n\t            <label class=\"caps\" for=\"idea-create-description\">\n\t                ";
	output += "\n\t                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Description"), true && env.opts.autoescape);
	output += "\n\t            </label> \n\t            <textarea id=\"idea-create-description\" name=\"description\"></textarea>\n\t        </div>\n\t        \n\t        <div class=\"tile-section tile-section-button-list\">\n\t            <a class=\"pull-right rounded-button button-color-action trigger-create-idea-submit\">\n                    <span class=\"rounded-button-inner\">\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Next"), true && env.opts.autoescape);
	output += "\n                    </span>\n                </a>\n                <a class=\"pull-right rounded-button button-action trigger-mobile-idea-back mobile-only\">\n                    <span class=\"rounded-button-inner\">\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Back to location selection"), true && env.opts.autoescape);
	output += "\n                    </span>\n                </a>\n\t        </div>\n        </div>\n    ";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	b_title: b_title,
	b_form: b_form,
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/tiles/tile-detail-create-idea.html"] , dependencies)

/***/ }),
/* 23 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/include/macros.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	var macro_t_1 = runtime.makeMacro(
	["type"], 
	["classes", "singular", "button", "useStyles", "colon", "showIcon", "mine", "all", "create", "COSINNUS_TRANS"], 
	function (l_type, kwargs) {
	frame = frame.push(true);
	kwargs = kwargs || {};
	if (kwargs.hasOwnProperty("caller")) {
	frame.set("caller", kwargs.caller); }
	frame.set("type", l_type);
	frame.set("classes", kwargs.hasOwnProperty("classes") ? kwargs["classes"] : "");
	frame.set("singular", kwargs.hasOwnProperty("singular") ? kwargs["singular"] : 0);
	frame.set("button", kwargs.hasOwnProperty("button") ? kwargs["button"] : 0);
	frame.set("useStyles", kwargs.hasOwnProperty("useStyles") ? kwargs["useStyles"] : 1);
	frame.set("colon", kwargs.hasOwnProperty("colon") ? kwargs["colon"] : 0);
	frame.set("showIcon", kwargs.hasOwnProperty("showIcon") ? kwargs["showIcon"] : 1);
	frame.set("mine", kwargs.hasOwnProperty("mine") ? kwargs["mine"] : false);
	frame.set("all", kwargs.hasOwnProperty("all") ? kwargs["all"] : false);
	frame.set("create", kwargs.hasOwnProperty("create") ? kwargs["create"] : false);
	frame.set("COSINNUS_TRANS", kwargs.hasOwnProperty("COSINNUS_TRANS") ? kwargs["COSINNUS_TRANS"] : {});
	var t_2 = "";t_2 += "\n    <span class=\"";
	if(runtime.contextOrFrameLookup(context, frame, "useStyles") == 1) {
	t_2 += "result-type-span ";
	if(runtime.contextOrFrameLookup(context, frame, "button")) {
	t_2 += "button";
	;
	}
	else {
	t_2 += "apply";
	;
	}
	t_2 += "-color-";
	t_2 += runtime.suppressValue(l_type, env.opts.autoescape);
	;
	}
	t_2 += " ";
	t_2 += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "classes"), env.opts.autoescape);
	t_2 += "\">\n        ";
	if(runtime.contextOrFrameLookup(context, frame, "mine")) {
	t_2 += "\n            ";
	if(l_type == "people") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-user\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"My Users"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "events") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-calendar\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"My Events"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "projects") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-group\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"My Projects"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "groups") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-sitemap\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"My Groups"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "conferences") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-calendar\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")),"COSINNUS_TRANS_MY_CONFERENCES"), env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "ideas") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-lightbulb-o\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"My Ideas"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "organizations") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-building\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"My Organizations"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "cloudfiles") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-cloud\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"My Cloud Files"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	t_2 += "\n        ";
	;
	}
	else {
	if(runtime.contextOrFrameLookup(context, frame, "all")) {
	t_2 += "\n            ";
	if(l_type == "people") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-user\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"All Users"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "events") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-calendar\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"All Events"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "projects") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-group\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"All Projects"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "groups") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-sitemap\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"All Groups"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "conferences") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-calendar\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")),"COSINNUS_TRANS_ALL_CONFERENCES"), env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "ideas") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-lightbulb-o\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"All Ideas"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "organizations") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-building\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"All Organizations"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "cloudfiles") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-cloud\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"Cloud Files"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	t_2 += "\n        ";
	;
	}
	else {
	if(runtime.contextOrFrameLookup(context, frame, "singular")) {
	t_2 += "\n            ";
	if(l_type == "people") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-user\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"User"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "events") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-calendar\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"Event"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "projects") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-group\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"Project"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "groups") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-sitemap\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"Group"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "conferences") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-calendar\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")),"COSINNUS_TRANS_CONFERENCE"), env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "ideas") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-lightbulb-o\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"Idea"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "organizations") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-building\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"Organization"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "cloudfiles") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-cloud\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"Cloud File"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	t_2 += "\n        ";
	;
	}
	else {
	if(runtime.contextOrFrameLookup(context, frame, "create")) {
	t_2 += "\n            ";
	if(l_type == "people") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-user\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"Create User"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "events") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-calendar\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"Create Event"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "projects") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-group\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"Create Project"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "groups") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-sitemap\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"Create Group"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "conferences") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-calendar\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")),"COSINNUS_TRANS_CREATE_CONFERENCE"), env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "ideas") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-lightbulb-o\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"Create Idea"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "organizations") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-building\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"Create Organization"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	t_2 += "\n        ";
	;
	}
	else {
	t_2 += "\n            ";
	if(l_type == "people") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-user\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"People"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "events") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-calendar\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"Events"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "projects") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-group\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"Projects"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "groups") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-sitemap\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"Groups"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "conferences") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-calendar\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")),"COSINNUS_TRANS_CONFERENCES"), env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "ideas") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-lightbulb-o\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"Ideas"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "organizations") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-building\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"Organizations"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "cloudfiles") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-cloud\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"Cloud Files"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	t_2 += "\n        ";
	;
	}
	;
	}
	;
	}
	;
	}
	t_2 += "\n    </span>\n";
	;
	frame = frame.pop();
	return new runtime.SafeString(t_2);
	});
	context.addExport("typeLabel");
	context.setVariable("typeLabel", macro_t_1);
	output += "\n\n";
	var macro_t_3 = runtime.makeMacro(
	["portal", "slug", "name", "type"], 
	["group_slug", "inline_only"], 
	function (l_portal, l_slug, l_name, l_type, kwargs) {
	frame = frame.push(true);
	kwargs = kwargs || {};
	if (kwargs.hasOwnProperty("caller")) {
	frame.set("caller", kwargs.caller); }
	frame.set("portal", l_portal);
	frame.set("slug", l_slug);
	frame.set("name", l_name);
	frame.set("type", l_type);
	frame.set("group_slug", kwargs.hasOwnProperty("group_slug") ? kwargs["group_slug"] : runtime.contextOrFrameLookup(context, frame, "null"));
	frame.set("inline_only", kwargs.hasOwnProperty("inline_only") ? kwargs["inline_only"] : 0);
	var t_4 = "";t_4 += "\n    ";
	if(runtime.contextOrFrameLookup(context, frame, "inline_only") == 1) {
	t_4 += "\n        data-portal=\"";
	t_4 += runtime.suppressValue(l_portal, env.opts.autoescape);
	t_4 += "\" data-slug=\"";
	if(l_type == "events" && runtime.contextOrFrameLookup(context, frame, "group_slug")) {
	t_4 += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "group_slug"), env.opts.autoescape);
	t_4 += "*";
	;
	}
	t_4 += runtime.suppressValue(l_slug, env.opts.autoescape);
	t_4 += "\" data-type=\"";
	t_4 += runtime.suppressValue(l_type, env.opts.autoescape);
	t_4 += "\"\n    ";
	;
	}
	else {
	t_4 += "\n        <a class=\"result-link\" data-portal=\"";
	t_4 += runtime.suppressValue(l_portal, env.opts.autoescape);
	t_4 += "\" data-slug=\"";
	if(l_type == "events" && runtime.contextOrFrameLookup(context, frame, "group_slug")) {
	t_4 += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "group_slug"), env.opts.autoescape);
	t_4 += "*";
	;
	}
	t_4 += runtime.suppressValue(l_slug, env.opts.autoescape);
	t_4 += "\" data-type=\"";
	t_4 += runtime.suppressValue(l_type, env.opts.autoescape);
	t_4 += "\">";
	t_4 += runtime.suppressValue(l_name, env.opts.autoescape);
	t_4 += "</a>\n    ";
	;
	}
	t_4 += "\n";
	;
	frame = frame.pop();
	return new runtime.SafeString(t_4);
	});
	context.addExport("resultLink");
	context.setVariable("resultLink", macro_t_3);
	output += "\n\n";
	var macro_t_5 = runtime.makeMacro(
	["portal", "slug", "title", "type"], 
	["imageUrl", "slot1data", "slot1icon", "slot2data", "slot2icon", "cosinnus_active_user", "group_slug"], 
	function (l_portal, l_slug, l_title, l_type, kwargs) {
	frame = frame.push(true);
	kwargs = kwargs || {};
	if (kwargs.hasOwnProperty("caller")) {
	frame.set("caller", kwargs.caller); }
	frame.set("portal", l_portal);
	frame.set("slug", l_slug);
	frame.set("title", l_title);
	frame.set("type", l_type);
	frame.set("imageUrl", kwargs.hasOwnProperty("imageUrl") ? kwargs["imageUrl"] : runtime.contextOrFrameLookup(context, frame, "null"));
	frame.set("slot1data", kwargs.hasOwnProperty("slot1data") ? kwargs["slot1data"] : runtime.contextOrFrameLookup(context, frame, "null"));
	frame.set("slot1icon", kwargs.hasOwnProperty("slot1icon") ? kwargs["slot1icon"] : runtime.contextOrFrameLookup(context, frame, "null"));
	frame.set("slot2data", kwargs.hasOwnProperty("slot2data") ? kwargs["slot2data"] : runtime.contextOrFrameLookup(context, frame, "null"));
	frame.set("slot2icon", kwargs.hasOwnProperty("slot2icon") ? kwargs["slot2icon"] : runtime.contextOrFrameLookup(context, frame, "null"));
	frame.set("cosinnus_active_user", kwargs.hasOwnProperty("cosinnus_active_user") ? kwargs["cosinnus_active_user"] : runtime.contextOrFrameLookup(context, frame, "null"));
	frame.set("group_slug", kwargs.hasOwnProperty("group_slug") ? kwargs["group_slug"] : runtime.contextOrFrameLookup(context, frame, "null"));
	var t_6 = "";t_6 += "\n    <div class=\"card ";
	if(l_type == "people" && !runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user")) {
	t_6 += "\" href=\"/signup/?acc_req_msg=1&next=/map/\" target=\"_blank\"";
	;
	}
	else {
	t_6 += "result-link\" ";
	t_6 += runtime.suppressValue((lineno = 176, colno = 159, runtime.callWrap(macro_t_3, "resultLink", context, [l_portal,l_slug,l_title,l_type,runtime.makeKeywordArgs({"inline_only": 1,"group_slug": runtime.contextOrFrameLookup(context, frame, "group_slug")})])), env.opts.autoescape);
	;
	}
	t_6 += ">\n        ";
	if(runtime.contextOrFrameLookup(context, frame, "imageUrl")) {
	t_6 += "\n            <div class=\"card-image\">\n                <img src=\"";
	t_6 += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "imageUrl"), env.opts.autoescape);
	t_6 += "\">\n            </div>\n        ";
	;
	}
	t_6 += "\n        <div class=\"card-title\">\n            ";
	if(l_type == "people" && !runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user")) {
	t_6 += "\n                <a href=\"/signup/?acc_req_msg=1&next=/map/\" target=\"_blank\">";
	t_6 += runtime.suppressValue(l_title, env.opts.autoescape);
	t_6 += "</a>\n            ";
	;
	}
	else {
	t_6 += "\n                ";
	t_6 += runtime.suppressValue((lineno = 186, colno = 27, runtime.callWrap(macro_t_3, "resultLink", context, [l_portal,l_slug,l_title,l_type,runtime.makeKeywordArgs({"group_slug": runtime.contextOrFrameLookup(context, frame, "group_slug")})])), env.opts.autoescape);
	t_6 += "\n            ";
	;
	}
	t_6 += "\n        </div>\n        <div class=\"card-data\">\n            ";
	if(runtime.contextOrFrameLookup(context, frame, "slot1data") || runtime.contextOrFrameLookup(context, frame, "slot2data")) {
	t_6 += "\n               ";
	if(runtime.contextOrFrameLookup(context, frame, "slot1data") && runtime.contextOrFrameLookup(context, frame, "slot1icon")) {
	t_6 += "\n                   <i class=\"fa ";
	t_6 += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "slot1icon"), env.opts.autoescape);
	t_6 += "\"></i>\n                   <span>";
	t_6 += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "slot1data"), env.opts.autoescape);
	t_6 += "</span>\n               ";
	;
	}
	t_6 += "\n               ";
	if(runtime.contextOrFrameLookup(context, frame, "slot2data") && runtime.contextOrFrameLookup(context, frame, "slot2icon")) {
	t_6 += "\n                   <i class=\"fa ";
	t_6 += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "slot2icon"), env.opts.autoescape);
	t_6 += "\"></i>\n                   <span>";
	t_6 += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "slot2data"), env.opts.autoescape);
	t_6 += "</span>\n               ";
	;
	}
	t_6 += "\n            ";
	;
	}
	else {
	t_6 += "\n               <p></p>\n            ";
	;
	}
	t_6 += "\n        </div>\n    </div>\n";
	;
	frame = frame.pop();
	return new runtime.SafeString(t_6);
	});
	context.addExport("itemCard");
	context.setVariable("itemCard", macro_t_5);
	output += "\n\n\n";
	var macro_t_7 = runtime.makeMacro(
	["text", "url", "icon"], 
	["subtext", "annotation", "annotationIcon", "includeUnderdrop", "is_emphasized", "inactive", "padded", "makeSafe"], 
	function (l_text, l_url, l_icon, kwargs) {
	frame = frame.push(true);
	kwargs = kwargs || {};
	if (kwargs.hasOwnProperty("caller")) {
	frame.set("caller", kwargs.caller); }
	frame.set("text", l_text);
	frame.set("url", l_url);
	frame.set("icon", l_icon);
	frame.set("subtext", kwargs.hasOwnProperty("subtext") ? kwargs["subtext"] : runtime.contextOrFrameLookup(context, frame, "null"));
	frame.set("annotation", kwargs.hasOwnProperty("annotation") ? kwargs["annotation"] : runtime.contextOrFrameLookup(context, frame, "null"));
	frame.set("annotationIcon", kwargs.hasOwnProperty("annotationIcon") ? kwargs["annotationIcon"] : runtime.contextOrFrameLookup(context, frame, "null"));
	frame.set("includeUnderdrop", kwargs.hasOwnProperty("includeUnderdrop") ? kwargs["includeUnderdrop"] : false);
	frame.set("is_emphasized", kwargs.hasOwnProperty("is_emphasized") ? kwargs["is_emphasized"] : false);
	frame.set("inactive", kwargs.hasOwnProperty("inactive") ? kwargs["inactive"] : false);
	frame.set("padded", kwargs.hasOwnProperty("padded") ? kwargs["padded"] : false);
	frame.set("makeSafe", kwargs.hasOwnProperty("makeSafe") ? kwargs["makeSafe"] : true);
	var t_8 = "";t_8 += "\n    <li>\n\t\t<a class=\"list-item ";
	if(runtime.contextOrFrameLookup(context, frame, "padded")) {
	t_8 += "list-item-padded ";
	;
	}
	if(runtime.contextOrFrameLookup(context, frame, "inactive")) {
	t_8 += "inactive no-select ";
	;
	}
	t_8 += "\" href=\"";
	t_8 += runtime.suppressValue(l_url, env.opts.autoescape);
	t_8 += "\" role=\"button\" titledby=\"";
	if(runtime.contextOrFrameLookup(context, frame, "subtext")) {
	t_8 += ".item-text-primary";
	;
	}
	else {
	t_8 += ".item-text";
	;
	}
	t_8 += "\"> \n\t\t\t<div class=\"item-icon ";
	if(runtime.contextOrFrameLookup(context, frame, "subtext")) {
	t_8 += "item-icon-offset";
	;
	}
	t_8 += "\">\n    \t\t\t";
	if(l_icon && runtime.inOperator("/",l_icon)) {
	t_8 += "\n                    <img src=\"";
	t_8 += runtime.suppressValue(l_icon, env.opts.autoescape);
	t_8 += "\"></img>\n                ";
	;
	}
	else {
	t_8 += "\n                    <i class=\"fas fa-fw ";
	t_8 += runtime.suppressValue(l_icon, env.opts.autoescape);
	t_8 += "\"></i>\n                ";
	;
	}
	t_8 += "\n    \t\t</div>\n    \t\t";
	if(runtime.contextOrFrameLookup(context, frame, "subtext")) {
	t_8 += "\n\t    \t\t<div class=\"item-text item-text-dual\">\n\t    \t\t\t<div class=\"item-text-primary text-bold\">\n\t    \t\t\t\t";
	if(runtime.contextOrFrameLookup(context, frame, "makeSafe")) {
	t_8 += "\n\t    \t\t\t\t\t";
	t_8 += runtime.suppressValue(env.getFilter("safe").call(context, l_text), env.opts.autoescape);
	t_8 += "\n\t\t\t\t\t\t";
	;
	}
	else {
	t_8 += "\n\t\t    \t\t\t\t";
	t_8 += runtime.suppressValue(l_text, env.opts.autoescape);
	t_8 += " \n\t    \t\t\t\t";
	;
	}
	t_8 += "\n    \t\t\t\t</div>\n\t    \t\t\t";
	if(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "subtext")),"is_date")) {
	t_8 += "\n\t    \t\t\t\t<div class=\"moment-data-date\" data-date=\"";
	t_8 += runtime.suppressValue(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "subtext")),"date"), env.opts.autoescape);
	t_8 += "\"></div>\n\t    \t\t\t";
	;
	}
	else {
	t_8 += "\n\t    \t\t\t\t<div>\n\t\t    \t\t\t\t";
	if(runtime.contextOrFrameLookup(context, frame, "makeSafe")) {
	t_8 += "\n\t                            ";
	t_8 += runtime.suppressValue(env.getFilter("safe").call(context, runtime.contextOrFrameLookup(context, frame, "subtext")), env.opts.autoescape);
	t_8 += "\n\t                        ";
	;
	}
	else {
	t_8 += "\n\t                            ";
	t_8 += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "subtext"), env.opts.autoescape);
	t_8 += " \n\t                        ";
	;
	}
	t_8 += "\n                        </div>\n\t    \t\t\t";
	;
	}
	t_8 += "\n\t    \t\t</div>\n    \t\t";
	;
	}
	else {
	t_8 += "\n    \t\t\t<div class=\"item-text ";
	if(runtime.contextOrFrameLookup(context, frame, "is_emphasized")) {
	t_8 += "text-bold";
	;
	}
	t_8 += "\">\n    \t\t\t\t";
	if(runtime.contextOrFrameLookup(context, frame, "makeSafe")) {
	t_8 += "\n    \t\t\t\t\t";
	t_8 += runtime.suppressValue(env.getFilter("safe").call(context, l_text), env.opts.autoescape);
	t_8 += "\n\t\t\t\t\t";
	;
	}
	else {
	t_8 += "\n\t    \t\t\t\t";
	t_8 += runtime.suppressValue(l_text, env.opts.autoescape);
	t_8 += " \n    \t\t\t\t";
	;
	}
	t_8 += "\n\t    \t\t</div>\n    \t\t";
	;
	}
	t_8 += "\n    \t\t";
	if(runtime.contextOrFrameLookup(context, frame, "annotation")) {
	t_8 += "\n    \t\t\t<div class=\"right-side-annotation truncated-oneline\">\n    \t\t\t\t";
	if(runtime.contextOrFrameLookup(context, frame, "annotationIcon")) {
	t_8 += "\n    \t\t\t\t\t<i class=\"fas fa-fw ";
	t_8 += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "annotationIcon"), env.opts.autoescape);
	t_8 += "\"></i>\n    \t\t\t\t";
	;
	}
	t_8 += "\n\t    \t\t\t";
	if(runtime.contextOrFrameLookup(context, frame, "makeSafe")) {
	t_8 += "\n    \t\t\t\t\t";
	t_8 += runtime.suppressValue(env.getFilter("safe").call(context, runtime.contextOrFrameLookup(context, frame, "annotation")), env.opts.autoescape);
	t_8 += "\n\t\t\t\t\t";
	;
	}
	else {
	t_8 += "\n\t    \t\t\t\t";
	t_8 += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "annotation"), env.opts.autoescape);
	t_8 += " \n    \t\t\t\t";
	;
	}
	t_8 += "\n\t    \t\t</div>\n    \t\t";
	;
	}
	t_8 += "\n    \t\t";
	if(runtime.contextOrFrameLookup(context, frame, "includeUnderdrop")) {
	t_8 += "\n    \t\t\t<div class=\"li-underdrop\"></div>\n    \t\t";
	;
	}
	t_8 += "\n\t\t</a>\n\t</li>\n";
	;
	frame = frame.pop();
	return new runtime.SafeString(t_8);
	});
	context.addExport("listItem");
	context.setVariable("listItem", macro_t_7);
	output += "\n\n";
	var macro_t_9 = runtime.makeMacro(
	["item"], 
	["makeSafe"], 
	function (l_item, kwargs) {
	frame = frame.push(true);
	kwargs = kwargs || {};
	if (kwargs.hasOwnProperty("caller")) {
	frame.set("caller", kwargs.caller); }
	frame.set("item", l_item);
	frame.set("makeSafe", kwargs.hasOwnProperty("makeSafe") ? kwargs["makeSafe"] : true);
	var t_10 = "";t_10 += "\n<li>\n    <a class=\"list-item\" href=\"";
	t_10 += runtime.suppressValue(runtime.memberLookup((l_item),"url"), env.opts.autoescape);
	t_10 += "\" titledby=\".item-text\">\n        <div class=\"item-icon\">\n            ";
	if(runtime.memberLookup((l_item),"icon") && runtime.inOperator("/",runtime.memberLookup((l_item),"icon"))) {
	t_10 += "\n                <img src=\"";
	t_10 += runtime.suppressValue(runtime.memberLookup((l_item),"icon"), env.opts.autoescape);
	t_10 += "\"></img>\n            ";
	;
	}
	else {
	t_10 += "\n                <i class=\"fas fa-fw ";
	t_10 += runtime.suppressValue(runtime.memberLookup((l_item),"icon"), env.opts.autoescape);
	t_10 += "\"></i>\n            ";
	;
	}
	t_10 += "\n        </div>\n        <div class=\"item-text\">\n            ";
	if(runtime.contextOrFrameLookup(context, frame, "makeSafe")) {
	t_10 += "\n                ";
	t_10 += runtime.suppressValue(env.getFilter("safe").call(context, runtime.memberLookup((l_item),"text")), env.opts.autoescape);
	t_10 += "\n            ";
	;
	}
	else {
	t_10 += "\n                ";
	t_10 += runtime.suppressValue(runtime.memberLookup((l_item),"text"), env.opts.autoescape);
	t_10 += " \n            ";
	;
	}
	t_10 += "\n        </div>\n        <div class=\"right-side-annotation right-side-action truncated-oneline\">\n            <div class=\"likefollowstar-button action-do-likefollowstar likefollowstar-button-simple selected\" data-type=\"star\" data-ct=\"";
	t_10 += runtime.suppressValue(runtime.memberLookup((l_item),"ct"), env.opts.autoescape);
	t_10 += "\" data-id=\"";
	t_10 += runtime.suppressValue(runtime.memberLookup((l_item),"id"), env.opts.autoescape);
	t_10 += "\">\n                <span class=\"show-unselected\">\n                    <i class=\"far fa-star prevent-click\"></i>\n                </span>\n                <span class=\"show-selected\">\n                    <i class=\"fas fa-star prevent-click\"></i>\n                </span>\n            </div>\n        </div>\n    </a>\n</li>\n";
	;
	frame = frame.pop();
	return new runtime.SafeString(t_10);
	});
	context.addExport("starredlistItem");
	context.setVariable("starredlistItem", macro_t_9);
	output += "\n\n";
	var macro_t_11 = runtime.makeMacro(
	["item"], 
	["makeSafe"], 
	function (l_item, kwargs) {
	frame = frame.push(true);
	kwargs = kwargs || {};
	if (kwargs.hasOwnProperty("caller")) {
	frame.set("caller", kwargs.caller); }
	frame.set("item", l_item);
	frame.set("makeSafe", kwargs.hasOwnProperty("makeSafe") ? kwargs["makeSafe"] : true);
	var t_12 = "";t_12 += "\n<li>\n    <a class=\"list-item\" href=\"";
	t_12 += runtime.suppressValue(runtime.memberLookup((l_item),"url"), env.opts.autoescape);
	t_12 += "\" titledby=\".item-text\">\n        <div class=\"item-icon\">\n            ";
	if(runtime.memberLookup((l_item),"icon") && runtime.inOperator("/",runtime.memberLookup((l_item),"icon"))) {
	t_12 += "\n                <img src=\"";
	t_12 += runtime.suppressValue(runtime.memberLookup((l_item),"icon"), env.opts.autoescape);
	t_12 += "\"></img>\n            ";
	;
	}
	else {
	t_12 += "\n                <i class=\"fas fa-fw ";
	t_12 += runtime.suppressValue(runtime.memberLookup((l_item),"icon"), env.opts.autoescape);
	t_12 += "\"></i>\n            ";
	;
	}
	t_12 += "\n        </div>\n        <div class=\"item-text\">\n            ";
	if(runtime.contextOrFrameLookup(context, frame, "makeSafe")) {
	t_12 += "\n                ";
	t_12 += runtime.suppressValue(env.getFilter("safe").call(context, runtime.memberLookup((l_item),"text")), env.opts.autoescape);
	t_12 += "\n            ";
	;
	}
	else {
	t_12 += "\n                ";
	t_12 += runtime.suppressValue(runtime.memberLookup((l_item),"text"), env.opts.autoescape);
	t_12 += " \n            ";
	;
	}
	t_12 += "\n        </div>\n        <div class=\"right-side-annotation right-side-action truncated-oneline\">\n            <div class=\"likefollowstar-button action-do-likefollowstar likefollowstar-button-simple selected\" data-type=\"follow\" data-ct=\"";
	t_12 += runtime.suppressValue(runtime.memberLookup((l_item),"ct"), env.opts.autoescape);
	t_12 += "\" data-id=\"";
	t_12 += runtime.suppressValue(runtime.memberLookup((l_item),"id"), env.opts.autoescape);
	t_12 += "\">\n                <span class=\"show-unselected\">\n                    <i class=\"far fa-bell prevent-click\"></i>\n                </span>\n                <span class=\"show-selected\">\n                    <i class=\"fas fa-bell prevent-click\"></i>\n                </span>\n            </div>\n        </div>\n    </a>\n</li>\n";
	;
	frame = frame.pop();
	return new runtime.SafeString(t_12);
	});
	context.addExport("followedlistItem");
	context.setVariable("followedlistItem", macro_t_11);
	output += "\n\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/include/macros.html"] , dependencies)

/***/ }),
/* 24 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var Result = __webpack_require__(25);
	var util = __webpack_require__(5);
	
	module.exports = Backbone.Collection.extend({
	    
	    model: Result,
	    
	    /** Results are always sorted by relevance */
	    comparator: function (result_1, result_2) {
	        if (result_1.get('relevance') == result_2.get('relevance')) {
	            return 0;
	        } else if (result_1.get('relevance') > result_2.get('relevance')) {
	            return -1;
	        } else {
	            return 1;
	        }
	    }
	    
	});

/***/ }),
/* 25 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var util = __webpack_require__(5);
	
	module.exports = Backbone.Model.extend({
	    
	    defaults: {
	        /** id: Results get an id in the form of "<result_type>.<result_id>" from the backend.
	         *         Example:  "3.215"  */
	        
	        /**  Object type of the result. currently:
	         *  'groups', 'projects', 'events', 'people'.
	         *  And the special result type: 'error' */
	        type: null,
	        
	        /** Centralised hovered state of this result in the views. 
	         *  Used to transport hovered state over the same result, even if displayed in different 
	         *  views (tile, map, etc). The corresponding change:hovered signal can be subscribed to 
	         *  to register visual changes in the views.  */
	        hovered: false,
	        
	        /** Centralised selected/clicked state of this result in the views. 
	         *  Used to transport selected state over the same result, even if displayed in different 
	         *  views (tile, map, etc). The corresponding selected signal can be subscribed to to 
	         *  register visual changes in the views.  */
	        selected: false,
	
	        /** Latitude/longitude coordinates. 
	         *  If null, this Result has no location, but can still be displayed in for example the Tile View. */
	        lat: null,
	        lon: null,
	        
	        /** Result relevance as float, 0 or positive, can be larger than 1.0! */
	        relevance: 0.0,
	        
	        /** All other attributes come directly from the backend, and aren't listed here as
	         *  they are only used in the templates directly. */
	    },
	    
	    initialize: function(){
	        
	    },
	    
	    locEquals: function(other_result) {
	        return this.get('lat') != null 
	            && this.get('lon') != null
	            && other_result.get('lat') == this.get('lat') 
	            && other_result.get('lon') == this.get('lon');
	    },
	    
	    getLocs: function() {
	        return [this.get('lat'), this.get('lon')];
	    }
	
	});

/***/ }),
/* 26 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/map/map-controls.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	output += runtime.suppressValue(env.getExtension("passThrough")["run"](context,runtime.contextOrFrameLookup(context, frame, "i18n")), true && env.opts.autoescape);
	output += "\n";
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/map/map-controls.html", false, function(t_2,t_1) {
	if(t_2) { cb(t_2); return; }
	t_1.getExported(function(t_3,t_1) {
	if(t_3) { cb(t_3); return; }
	context.setVariable("macros", t_1);
	output += "\n\n<div class=\"map-controls mobile-view mobile-view-search-visible-block\">\n     <div class=\"map-controls-search\"";
	if(runtime.contextOrFrameLookup(context, frame, "matching")) {
	output += " style=\"display:none\"";
	;
	}
	output += ">\n         <div class=\"search-box\">\n            <input type=\"text\" class=\"q\" name=\"q\"\n\n";
	if(runtime.contextOrFrameLookup(context, frame, "splitscreen")) {
	output += "\nplaceholder=\"";
	output += "\n";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Search for Names, Topics and Places..."), true && env.opts.autoescape);
	output += "\"\n";
	;
	}
	else {
	output += "\nplaceholder=\"";
	output += "\n";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Search for Names and Topics..."), true && env.opts.autoescape);
	output += "\"\n";
	;
	}
	output += "\n                    value=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "q"), env.opts.autoescape);
	output += "\" autocomplete=\"off\" />\n            <i class=\"fa fa-search clickable-button query-search-button icon-search ";
	if(runtime.contextOrFrameLookup(context, frame, "wantsToSearch")) {
	output += "hidden";
	;
	}
	output += "\"></i>\n         </div>\n         <span class=\"clickable-button icon-filters ";
	if(runtime.contextOrFrameLookup(context, frame, "filterPanelVisible")) {
	output += "open";
	;
	}
	output += "\">\n             <i class=\"fa fa-bars visible-default\"></i>\n             <i class=\"fa fa-chevron-up visible-open\"></i>\n             <i class=\"fa fa-chevron-up visible-open-hover\"></i>\n         </span>\n         <i class=\"fa fa-close clickable-button reset-all icon-reset ";
	if(!runtime.contextOrFrameLookup(context, frame, "filtersActive") && !runtime.contextOrFrameLookup(context, frame, "q")) {
	output += "hidden";
	;
	}
	output += "\"></i>\n         <i class=\"fa fa-spinner fa-pulse icon-loading ";
	if(!runtime.contextOrFrameLookup(context, frame, "wantsToSearch")) {
	output += " hidden";
	;
	}
	output += "\"></i>\n         <div class=\"icon-box filter-button-box\">\n         </div>\n     </div>\n\n     <div class=\"map-controls-active-filters\"></div>\n\n     <div class=\"map-controls-filters mobile-always-visible\" ";
	if(!runtime.contextOrFrameLookup(context, frame, "filterPanelVisible")) {
	output += "style=\"display: none;\"";
	;
	}
	output += ">\n        <div class=\"map-controls-filter-fields\">\n\t\t\t";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "availableFilterList")) > 1) {
	output += "\n\t\t\t\t<div class=\"button-list\">\n\t\t\t\t\t";
	frame = frame.push();
	var t_6 = runtime.contextOrFrameLookup(context, frame, "availableFilterList");
	if(t_6) {var t_5 = t_6.length;
	for(var t_4=0; t_4 < t_6.length; t_4++) {
	var t_7 = t_6[t_4];
	frame.set("filter_type", t_7);
	frame.set("loop.index", t_4 + 1);
	frame.set("loop.index0", t_4);
	frame.set("loop.revindex", t_5 - t_4);
	frame.set("loop.revindex0", t_5 - t_4 - 1);
	frame.set("loop.first", t_4 === 0);
	frame.set("loop.last", t_4 === t_5 - 1);
	frame.set("loop.length", t_5);
	output += "\n\t\t\t\t\t\t<a class=\"rounded-button button-color-";
	output += runtime.suppressValue(t_7, env.opts.autoescape);
	output += " result-filter-button ";
	if(runtime.contextOrFrameLookup(context, frame, "typeFiltersActive") && runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "activeFilters")),t_7)) {
	output += "selected";
	;
	}
	output += "\" data-result-filter-type=\"";
	output += runtime.suppressValue(t_7, env.opts.autoescape);
	output += "\">\n\t\t\t\t\t\t\t";
	output += runtime.suppressValue((lineno = 37, colno = 24, runtime.callWrap(runtime.memberLookup((t_1),"typeLabel"), "macros[\"typeLabel\"]", context, [t_7,"rounded-button-inner",runtime.makeKeywordArgs({"button": 1,"COSINNUS_TRANS": runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")})])), env.opts.autoescape);
	output += "\n\t\t\t\t\t\t</a>\n\t\t\t\t\t";
	;
	}
	}
	frame = frame.pop();
	output += "\n\t\t\t\t</div>\n\t\t\t";
	;
	}
	output += "\n\n\t\t\t<ol id=\"date-time-filter\" class=\"input-area\"  style=\"display: ";
	if(runtime.contextOrFrameLookup(context, frame, "dateFiltersActive")) {
	output += " block ";
	;
	}
	else {
	output += " none ";
	;
	}
	output += ";\">\n\t\t\t\t<li class=\"calendar-date-time-chooser\">\n\t\t\t\t\t";
	output += "\n\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"From"), true && env.opts.autoescape);
	output += "\n\t\t\t\t\t<i class=\"fa fa-calendar\"></i>\n\t\t\t\t\t<input readonly =\"readonly\" class=\"calendar-date-time-chooser-date\" />\n\t\t\t\t\t<input class=\"calendar-date-time-chooser-hiddendate\" id=\"id_start_0\" name=\"start_0\"\n\t\t\t\t\t\ttype=\"hidden\" value=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "fromDate"), env.opts.autoescape);
	output += "\"\n\t\t\t\t\t>\n\t\t\t\t\t<input class=\"calendar-date-time-chooser-time\" id=\"id_start_1\" name=\"start_1\"\n\t\t\t\t\t\tplaceholder=\"00:00\" type=\"text\" value=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "fromTime"), env.opts.autoescape);
	output += "\"\n\t\t\t\t\t>\n\t\t\t\t\t<div class=\"small-calendar\"></div>\n\t\t\t\t</li>\n\n\t\t\t\t<li class=\"calendar-date-time-chooser\">\n\t\t\t\t\t";
	output += "\n\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Until"), true && env.opts.autoescape);
	output += "\n\t\t\t\t\t<i class=\"fa fa-calendar\"></i>\n\t\t\t\t\t<input readonly =\"readonly\" class=\"calendar-date-time-chooser-date\" />\n\t\t\t\t\t<input class=\"calendar-date-time-chooser-hiddendate\" id=\"id_end_0\" name=\"end_0\"\n\t\t\t\t\t\ttype=\"hidden\" value=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "toDate"), env.opts.autoescape);
	output += "\"\n\t\t\t\t\t>\n\t\t\t\t\t<input class=\"calendar-date-time-chooser-time\" id=\"id_end_1\" name=\"end_1\"\n\t\t\t\t\t\tplaceholder=\"00:00\" type=\"text\" value=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "toTime"), env.opts.autoescape);
	output += "\"\n\t\t\t\t\t>\n\t\t\t\t\t<div class=\"small-calendar\"></div>\n\t\t\t\t</li>\n\t\t\t</ol>\n\n\n\t\t\t";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "allSDGS")) > 0) {
	output += "\n\t\t\t\t<h1>\n\t\t\t\t\t";
	output += "\n\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Sustainable Development Goals"), true && env.opts.autoescape);
	output += "\n\t\t\t\t</h1>\n\n\t\t\t\t<div class=\"button-list\">\n\t\t\t\t\t";
	frame = frame.push();
	var t_10 = runtime.contextOrFrameLookup(context, frame, "allSDGS");
	if(t_10) {var t_9 = t_10.length;
	for(var t_8=0; t_8 < t_10.length; t_8++) {
	var t_11 = t_10[t_8];
	frame.set("sdg", t_11);
	frame.set("loop.index", t_8 + 1);
	frame.set("loop.index0", t_8);
	frame.set("loop.revindex", t_9 - t_8);
	frame.set("loop.revindex0", t_9 - t_8 - 1);
	frame.set("loop.first", t_8 === 0);
	frame.set("loop.last", t_8 === t_9 - 1);
	frame.set("loop.length", t_9);
	output += "\n\t\t\t\t\t\t";
	if(runtime.memberLookup((t_11),"id") != "" && t_11) {
	output += "\n\t\t\t\t\t\t\t<a class=\"rounded-button button-color-topic sdg-button hover-image-button ";
	if(runtime.inOperator(runtime.memberLookup((t_11),"id"),runtime.contextOrFrameLookup(context, frame, "activeSDGIds"))) {
	output += "selected";
	;
	}
	output += "\" data-sdg-id=\"";
	output += runtime.suppressValue(runtime.memberLookup((t_11),"id"), env.opts.autoescape);
	output += "\">\n\t\t\t\t\t\t\t\t<span class=\"rounded-button-inner hover-image-button-inner\">\n\t\t\t\t\t\t\t\t\t";
	output += runtime.suppressValue(runtime.memberLookup((t_11),"name"), env.opts.autoescape);
	output += "\n\t\t\t\t\t\t\t\t\t<img class=\"hover-image-icon hover-image-icon-pos-abs hover-image-icon-hidden\" src=\"";
	output += runtime.suppressValue(runtime.memberLookup((t_11),"icon"), env.opts.autoescape);
	output += "\">\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t";
	;
	}
	output += "\n\t\t\t\t\t";
	;
	}
	}
	frame = frame.pop();
	output += "\n\t\t\t\t</div>\n\t\t\t";
	;
	}
	output += "\n\n\t\t\t";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "allManagedTags")) > 0) {
	output += "\n\t\t\t\t<div class=\"managed-tags-buttons\" ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "showManagedTagsOnTypesSelected")) > 0 && !runtime.contextOrFrameLookup(context, frame, "displayManagedTagsFilter")) {
	output += "style=\"display: none;\"";
	;
	}
	output += ">\n\t\t\t\t\t<h1>\n\t\t\t\t\t\t";
	output += runtime.suppressValue(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "managedTagsLabels")),"MANAGED_TAG_MAP_LABEL"), env.opts.autoescape);
	output += "\n\t\t\t\t\t</h1>\n\n\t\t\t\t\t<div class=\"button-list\">\n\t\t\t\t\t\t";
	frame = frame.push();
	var t_14 = runtime.contextOrFrameLookup(context, frame, "allManagedTags");
	if(t_14) {var t_13 = t_14.length;
	for(var t_12=0; t_12 < t_14.length; t_12++) {
	var t_15 = t_14[t_12];
	frame.set("managed_tag", t_15);
	frame.set("loop.index", t_12 + 1);
	frame.set("loop.index0", t_12);
	frame.set("loop.revindex", t_13 - t_12);
	frame.set("loop.revindex0", t_13 - t_12 - 1);
	frame.set("loop.first", t_12 === 0);
	frame.set("loop.last", t_12 === t_13 - 1);
	frame.set("loop.length", t_13);
	output += "\n\t\t\t\t\t\t\t";
	if(runtime.memberLookup((t_15),"id") != "" && t_15) {
	output += "\n\t\t\t\t\t\t\t\t<a class=\"rounded-button button-color-topic managed-tag-button hover-image-button ";
	if(runtime.inOperator(runtime.memberLookup((t_15),"id"),runtime.contextOrFrameLookup(context, frame, "activeManagedTagsIds"))) {
	output += "selected";
	;
	}
	output += "\" data-managed-tag-id=\"";
	output += runtime.suppressValue(runtime.memberLookup((t_15),"id"), env.opts.autoescape);
	output += "\">\n\t\t\t\t\t\t\t\t\t<span class=\"rounded-button-inner hover-image-button-inner\">\n\t\t\t\t\t\t\t\t\t\t";
	output += runtime.suppressValue(runtime.memberLookup((t_15),"name"), env.opts.autoescape);
	output += "\n\t\t\t\t\t\t\t\t\t\t";
	if(runtime.memberLookup((t_15),"image")) {
	output += "\n\t\t\t\t\t\t\t\t\t\t\t<img class=\"over-image-icon hover-image-icon-pos-abs hover-image-icon-hidden\" src=\"";
	output += runtime.suppressValue(runtime.memberLookup((t_15),"image"), env.opts.autoescape);
	output += "\">\n\t\t\t\t\t\t\t\t\t\t";
	;
	}
	output += "\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t";
	;
	}
	output += "\n\t\t\t\t\t\t";
	;
	}
	}
	frame = frame.pop();
	output += "\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t";
	;
	}
	output += "\n\n\t\t\t";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "allTextTopics")) > 0) {
	output += "\n\t\t\t\t<div class=\"text-topic-buttons\" ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "showTextTopicsOnTypesSelected")) > 0 && !runtime.contextOrFrameLookup(context, frame, "displayTextTopcFilter")) {
	output += "style=\"display: none;\"";
	;
	}
	output += ">\n\t\t\t\t\t<h1>\n\t\t\t\t\t\t";
	output += "\n\t\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Categories"), true && env.opts.autoescape);
	output += "\n\t\t\t\t\t</h1>\n\n\t\t\t\t\t<div class=\"button-list\">\n\t\t\t\t\t\t";
	frame = frame.push();
	var t_18 = runtime.contextOrFrameLookup(context, frame, "allTextTopics");
	if(t_18) {var t_16;
	if(runtime.isArray(t_18)) {
	var t_17 = t_18.length;
	for(t_16=0; t_16 < t_18.length; t_16++) {
	var t_19 = t_18[t_16][0]
	frame.set("textTopic_id", t_18[t_16][0]);
	var t_20 = t_18[t_16][1]
	frame.set("textTopic", t_18[t_16][1]);
	frame.set("loop.index", t_16 + 1);
	frame.set("loop.index0", t_16);
	frame.set("loop.revindex", t_17 - t_16);
	frame.set("loop.revindex0", t_17 - t_16 - 1);
	frame.set("loop.first", t_16 === 0);
	frame.set("loop.last", t_16 === t_17 - 1);
	frame.set("loop.length", t_17);
	output += "\n\t\t\t\t\t\t\t";
	if(t_19 != "" && t_20) {
	output += "\n\t\t\t\t\t\t\t\t<a class=\"rounded-button button-color-topic text-topic-button ";
	if(runtime.inOperator(env.getFilter("int").call(context, t_19),runtime.contextOrFrameLookup(context, frame, "activeTextTopicIds"))) {
	output += "selected";
	;
	}
	output += "\" data-text-topic-id=\"";
	output += runtime.suppressValue(t_19, env.opts.autoescape);
	output += "\">\n\t\t\t\t\t\t\t\t\t<span class=\"rounded-button-inner\">\n\t\t\t\t\t\t\t\t\t\t";
	output += runtime.suppressValue(t_20, env.opts.autoescape);
	output += "\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t";
	;
	}
	output += "\n\t\t\t\t\t\t";
	;
	}
	} else {
	t_16 = -1;
	var t_17 = runtime.keys(t_18).length;
	for(var t_21 in t_18) {
	t_16++;
	var t_22 = t_18[t_21];
	frame.set("textTopic_id", t_21);
	frame.set("textTopic", t_22);
	frame.set("loop.index", t_16 + 1);
	frame.set("loop.index0", t_16);
	frame.set("loop.revindex", t_17 - t_16);
	frame.set("loop.revindex0", t_17 - t_16 - 1);
	frame.set("loop.first", t_16 === 0);
	frame.set("loop.last", t_16 === t_17 - 1);
	frame.set("loop.length", t_17);
	output += "\n\t\t\t\t\t\t\t";
	if(t_21 != "" && t_22) {
	output += "\n\t\t\t\t\t\t\t\t<a class=\"rounded-button button-color-topic text-topic-button ";
	if(runtime.inOperator(env.getFilter("int").call(context, t_21),runtime.contextOrFrameLookup(context, frame, "activeTextTopicIds"))) {
	output += "selected";
	;
	}
	output += "\" data-text-topic-id=\"";
	output += runtime.suppressValue(t_21, env.opts.autoescape);
	output += "\">\n\t\t\t\t\t\t\t\t\t<span class=\"rounded-button-inner\">\n\t\t\t\t\t\t\t\t\t\t";
	output += runtime.suppressValue(t_22, env.opts.autoescape);
	output += "\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t";
	;
	}
	output += "\n\t\t\t\t\t\t";
	;
	}
	}
	}
	frame = frame.pop();
	output += "\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t";
	;
	}
	output += "\n\n\t\t\t";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "allTopics")) > 0 && !runtime.contextOrFrameLookup(context, frame, "hideTopics")) {
	output += "\n\t\t\t\t<h1>\n\t\t\t\t\t";
	output += "\n\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Topics"), true && env.opts.autoescape);
	output += "\n\t\t\t\t</h1>\n\n\t\t\t\t<div class=\"button-list\">\n\t\t\t\t\t";
	frame = frame.push();
	var t_25 = runtime.contextOrFrameLookup(context, frame, "allTopics");
	if(t_25) {var t_23;
	if(runtime.isArray(t_25)) {
	var t_24 = t_25.length;
	for(t_23=0; t_23 < t_25.length; t_23++) {
	var t_26 = t_25[t_23][0]
	frame.set("topic_id", t_25[t_23][0]);
	var t_27 = t_25[t_23][1]
	frame.set("topic", t_25[t_23][1]);
	frame.set("loop.index", t_23 + 1);
	frame.set("loop.index0", t_23);
	frame.set("loop.revindex", t_24 - t_23);
	frame.set("loop.revindex0", t_24 - t_23 - 1);
	frame.set("loop.first", t_23 === 0);
	frame.set("loop.last", t_23 === t_24 - 1);
	frame.set("loop.length", t_24);
	output += "\n\t\t\t\t\t\t";
	if(t_26 != "" && t_27) {
	output += "\n\t\t\t\t\t\t\t<a class=\"rounded-button button-color-topic topic-button ";
	if(runtime.inOperator(env.getFilter("int").call(context, t_26),runtime.contextOrFrameLookup(context, frame, "activeTopicIds"))) {
	output += "selected";
	;
	}
	output += "\" data-topic-id=\"";
	output += runtime.suppressValue(t_26, env.opts.autoescape);
	output += "\">\n\t\t\t\t\t\t\t\t<span class=\"rounded-button-inner\">\n\t\t\t\t\t\t\t\t\t";
	output += runtime.suppressValue(t_27, env.opts.autoescape);
	output += "\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t";
	;
	}
	output += "\n\t\t\t\t\t";
	;
	}
	} else {
	t_23 = -1;
	var t_24 = runtime.keys(t_25).length;
	for(var t_28 in t_25) {
	t_23++;
	var t_29 = t_25[t_28];
	frame.set("topic_id", t_28);
	frame.set("topic", t_29);
	frame.set("loop.index", t_23 + 1);
	frame.set("loop.index0", t_23);
	frame.set("loop.revindex", t_24 - t_23);
	frame.set("loop.revindex0", t_24 - t_23 - 1);
	frame.set("loop.first", t_23 === 0);
	frame.set("loop.last", t_23 === t_24 - 1);
	frame.set("loop.length", t_24);
	output += "\n\t\t\t\t\t\t";
	if(t_28 != "" && t_29) {
	output += "\n\t\t\t\t\t\t\t<a class=\"rounded-button button-color-topic topic-button ";
	if(runtime.inOperator(env.getFilter("int").call(context, t_28),runtime.contextOrFrameLookup(context, frame, "activeTopicIds"))) {
	output += "selected";
	;
	}
	output += "\" data-topic-id=\"";
	output += runtime.suppressValue(t_28, env.opts.autoescape);
	output += "\">\n\t\t\t\t\t\t\t\t<span class=\"rounded-button-inner\">\n\t\t\t\t\t\t\t\t\t";
	output += runtime.suppressValue(t_29, env.opts.autoescape);
	output += "\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t";
	;
	}
	output += "\n\t\t\t\t\t";
	;
	}
	}
	}
	frame = frame.pop();
	output += "\n\t\t\t\t</div>\n\t\t\t";
	;
	}
	output += "\n\n\t\t\t";
	if(runtime.contextOrFrameLookup(context, frame, "COSINNUS_EXCHANGE_ENABLED")) {
	output += "\n\t            <h1>\n\t                ";
	output += "\n\t                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"External contents"), true && env.opts.autoescape);
	output += "\n\t            </h1>\n\n\t            <table class=\"onoffswitch-frame small-space\">\n\t                <tr>\n\t                    <td class=\"onoffswitch-text-label\">\n\t                        ";
	output += "\n\t                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Include contents from other platforms"), true && env.opts.autoescape);
	output += "\n\t                    </td>\n\t                    <td>\n\t                        <div class=\"onoffswitch\">\n\t                            <input type=\"checkbox\" name=\"onoffswitch-exchange\" class=\"onoffswitch-checkbox check-exchange\" id=\"check-exchange\" ";
	if(runtime.contextOrFrameLookup(context, frame, "exchange")) {
	output += "checked";
	;
	}
	output += ">\n\t                            <label class=\"onoffswitch-label\" for=\"check-exchange\">\n\t                                <span class=\"onoffswitch-inner\"></span>\n\t                                <span class=\"onoffswitch-switch\"></span>\n\t                            </label>\n\t                        </div>\n\t                    </td>\n\t                </tr>\n\t            </table>\n\t        ";
	;
	}
	output += "\n\n\t\t\t";
	if(runtime.contextOrFrameLookup(context, frame, "splitscreen")) {
	output += "\n\t\t\t\t<h1>\n\t\t\t\t\t";
	output += "\n\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Where"), true && env.opts.autoescape);
	output += "\n\t\t\t\t</h1>\n\n\t\t\t\t<table class=\"onoffswitch-frame small-space\">\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td class=\"onoffswitch-text-label\">\n\t\t\t\t\t\t\t";
	output += "\n\t\t\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"In map area"), true && env.opts.autoescape);
	output += "\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<div class=\"onoffswitch\">\n\t\t\t\t\t\t\t\t<input type=\"checkbox\" name=\"onoffswitch-ignore-location\" class=\"onoffswitch-checkbox check-ignore-location\" id=\"check-ignore-location\" ";
	if(!runtime.contextOrFrameLookup(context, frame, "ignoreLocation")) {
	output += "checked";
	;
	}
	output += ">\n\t\t\t\t\t\t\t\t<label class=\"onoffswitch-label\" for=\"check-ignore-location\">\n\t\t\t\t\t\t\t\t\t<span class=\"onoffswitch-inner\"></span>\n\t\t\t\t\t\t\t\t\t<span class=\"onoffswitch-switch\"></span>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</table>\n\t\t\t\t<div class=\"pale-color\">\n\t\t\t\t\t";
	output += "\n\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"If active, searching will be restricted to the visible map area."), true && env.opts.autoescape);
	output += "\n\t\t\t\t</div>\n\t\t\t";
	;
	}
	output += "\n\t\t</div>\n\n        <div class=\"spacer\"></div>\n\n\t\t<div class=\"apply-buttons\">\n\t\t\t<div class=\"button-list\">\n\t\t\t\t<a class=\"rounded-button button-color-action button-search query-search-button disabled\">\n\t\t\t\t\t<span class=\"rounded-button-inner\">\n\t\t\t\t\t\t";
	output += "\n\t\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Apply Filters"), true && env.opts.autoescape);
	output += "\n\t\t\t\t\t</span>\n\t\t\t\t</a>\n\n\t\t\t\t<a class=\"rounded-button button-color-action reset-type-and-topic-filters\">\n\t\t\t\t\t<span class=\"rounded-button-inner\">\n\t\t\t\t\t\t";
	output += "\n\t\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Clear Filters"), true && env.opts.autoescape);
	output += "\n\t\t\t\t\t</span>\n\t\t\t\t</a>\n\t\t\t</div>\n\n\t\t\t";
	output += "\n\t\t\t<div class=\"spacer mobile-only\">&nbsp;</div>\n\t\t\t<div class=\"spacer mobile-only\">&nbsp;</div>\n\t\t</div>\n\n    </div>\n\n\t";
	if(runtime.contextOrFrameLookup(context, frame, "matching")) {
	output += "\n\t<div class=\"map-controls-matching\">\n\t\t<h1>\n\t\t\t<i class=\"fa fa-puzzle-piece\"></i>\n\t\t\t";
	output += "\n\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Show potential partners"), true && env.opts.autoescape);
	output += "\n\t\t</h1>\n\t\t<p>\n\t\t\t";
	output += "\n\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Here you can search for partner organisations and projects that are open for further partners. The results are sorted so that partners with a lot of overlap in the funding objectives, eligible areas and SDGs you are active on are listed first."), true && env.opts.autoescape);
	output += "\n\t\t</p>\n\t\t";
	if(runtime.contextOrFrameLookup(context, frame, "myProjects") || runtime.contextOrFrameLookup(context, frame, "myGroups") || runtime.contextOrFrameLookup(context, frame, "myOrganizations")) {
	output += "\n\t\t<h1>\n\t\t\t";
	output += "\n\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Show potential partners for ..."), true && env.opts.autoescape);
	output += "\n\t\t</h1>\n\t\t<div class=\"apply-buttons\">\n\t\t\t<div class=\"button-list\">\n\t\t\t\t";
	frame = frame.push();
	var t_32 = runtime.contextOrFrameLookup(context, frame, "myProjects");
	if(t_32) {var t_31 = t_32.length;
	for(var t_30=0; t_30 < t_32.length; t_30++) {
	var t_33 = t_32[t_30];
	frame.set("project", t_33);
	frame.set("loop.index", t_30 + 1);
	frame.set("loop.index0", t_30);
	frame.set("loop.revindex", t_31 - t_30);
	frame.set("loop.revindex0", t_31 - t_30 - 1);
	frame.set("loop.first", t_30 === 0);
	frame.set("loop.last", t_30 === t_31 - 1);
	frame.set("loop.length", t_31);
	output += "\n\t\t\t\t<a class=\"rounded-button button-color-projects match-button";
	if(runtime.memberLookup((t_33),"selected")) {
	output += " selected";
	;
	}
	output += "\" data-match=\"projects.";
	output += runtime.suppressValue(runtime.memberLookup((t_33),"slug"), env.opts.autoescape);
	output += "\">\n\t\t\t\t\t<span class=\"rounded-button-inner\">\n\t\t\t\t\t\t<i class=\"fa fa-group\"></i>\n\t\t\t\t\t\t";
	output += runtime.suppressValue(runtime.memberLookup((t_33),"name"), env.opts.autoescape);
	output += "\n\t\t\t\t\t</span>\n\t\t\t\t</a>\n\t\t\t\t";
	;
	}
	}
	frame = frame.pop();
	output += "\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"apply-buttons\">\n\t\t\t<div class=\"button-list\">\n\t\t\t\t";
	frame = frame.push();
	var t_36 = runtime.contextOrFrameLookup(context, frame, "myGroups");
	if(t_36) {var t_35 = t_36.length;
	for(var t_34=0; t_34 < t_36.length; t_34++) {
	var t_37 = t_36[t_34];
	frame.set("group", t_37);
	frame.set("loop.index", t_34 + 1);
	frame.set("loop.index0", t_34);
	frame.set("loop.revindex", t_35 - t_34);
	frame.set("loop.revindex0", t_35 - t_34 - 1);
	frame.set("loop.first", t_34 === 0);
	frame.set("loop.last", t_34 === t_35 - 1);
	frame.set("loop.length", t_35);
	output += "\n\t\t\t\t<a class=\"rounded-button button-color-groups match-button";
	if(runtime.memberLookup((t_37),"selected")) {
	output += " selected";
	;
	}
	output += "\" data-match=\"groups.";
	output += runtime.suppressValue(runtime.memberLookup((t_37),"slug"), env.opts.autoescape);
	output += "\">\n\t\t\t\t\t<span class=\"rounded-button-inner\">\n\t\t\t\t\t\t<i class=\"fa fa-sitemap\"></i>\n\t\t\t\t\t\t";
	output += runtime.suppressValue(runtime.memberLookup((t_37),"name"), env.opts.autoescape);
	output += "\n\t\t\t\t\t</span>\n\t\t\t\t</a>\n\t\t\t\t";
	;
	}
	}
	frame = frame.pop();
	output += "\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"apply-buttons\">\n\t\t\t<div class=\"button-list\">\n\t\t\t\t";
	frame = frame.push();
	var t_40 = runtime.contextOrFrameLookup(context, frame, "myOrganizations");
	if(t_40) {var t_39 = t_40.length;
	for(var t_38=0; t_38 < t_40.length; t_38++) {
	var t_41 = t_40[t_38];
	frame.set("org", t_41);
	frame.set("loop.index", t_38 + 1);
	frame.set("loop.index0", t_38);
	frame.set("loop.revindex", t_39 - t_38);
	frame.set("loop.revindex0", t_39 - t_38 - 1);
	frame.set("loop.first", t_38 === 0);
	frame.set("loop.last", t_38 === t_39 - 1);
	frame.set("loop.length", t_39);
	output += "\n\t\t\t\t<a class=\"rounded-button button-color-organizations match-button";
	if(runtime.memberLookup((t_41),"selected")) {
	output += " selected";
	;
	}
	output += "\" data-match=\"organizations.";
	output += runtime.suppressValue(runtime.memberLookup((t_41),"slug"), env.opts.autoescape);
	output += "\">\n\t\t\t\t\t<span class=\"rounded-button-inner\">\n\t\t\t\t\t\t<i class=\"fa fa-building\"></i>\n\t\t\t\t\t\t";
	output += runtime.suppressValue(runtime.memberLookup((t_41),"name"), env.opts.autoescape);
	output += "\n\t\t\t\t\t</span>\n\t\t\t\t</a>\n\t\t\t\t";
	;
	}
	}
	frame = frame.pop();
	output += "\n\t\t\t</div>\n\t\t</div>\n\t\t";
	;
	}
	else {
	output += "\n\t\t<span class=\"inline-spacer\"></span>\n\t\t<p>\n\t\t\t";
	output += "\n\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"You're currently not member of any project, group or organization."), true && env.opts.autoescape);
	output += "\n\t\t</p>\n\t\t";
	;
	}
	output += "\n\t</div>\n\t";
	;
	}
	output += "\n\n</div>\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/map/map-controls.html"] , dependencies)

/***/ }),
/* 27 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/map/map-controls-active-filters.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	output += runtime.suppressValue(env.getExtension("passThrough")["run"](context,runtime.contextOrFrameLookup(context, frame, "i18n")), true && env.opts.autoescape);
	output += "\n\n";
	if(runtime.contextOrFrameLookup(context, frame, "typeFiltersActive") || runtime.contextOrFrameLookup(context, frame, "topicFiltersActive") || runtime.contextOrFrameLookup(context, frame, "textTopicFiltersActive") || runtime.contextOrFrameLookup(context, frame, "q") || runtime.contextOrFrameLookup(context, frame, "sdgFiltersActive") || runtime.contextOrFrameLookup(context, frame, "managedTagsFiltersActive")) {
	output += "\n    <div class=\"map-controls-active-filter-frame\">\n\n        ";
	if(runtime.contextOrFrameLookup(context, frame, "typeFiltersActive")) {
	output += "\n            <div class=\"active-filters active-filters-type\">\n                <span class=\"active-filters-inner\">\n                    ";
	frame = frame.push();
	var t_3 = runtime.contextOrFrameLookup(context, frame, "availableFilters");
	if(t_3) {var t_1;
	if(runtime.isArray(t_3)) {
	var t_2 = t_3.length;
	for(t_1=0; t_1 < t_3.length; t_1++) {
	var t_4 = t_3[t_1][0]
	frame.set("filter_type", t_3[t_1][0]);
	var t_5 = t_3[t_1][1]
	frame.set("available", t_3[t_1][1]);
	frame.set("loop.index", t_1 + 1);
	frame.set("loop.index0", t_1);
	frame.set("loop.revindex", t_2 - t_1);
	frame.set("loop.revindex0", t_2 - t_1 - 1);
	frame.set("loop.first", t_1 === 0);
	frame.set("loop.last", t_1 === t_2 - 1);
	frame.set("loop.length", t_2);
	output += "\n                        ";
	if(t_5 && runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "activeFilters")),t_4)) {
	output += "\n                            <span class=\"apply-color-";
	output += runtime.suppressValue(t_4, env.opts.autoescape);
	output += "\">\n                                ";
	if(t_4 == "people") {
	output += "\n                                    <i class=\"fa fa-user\"></i>\n                                ";
	;
	}
	else {
	if(t_4 == "events") {
	output += "\n                                    <i class=\"fa fa-calendar\"></i>\n                                ";
	;
	}
	else {
	if(t_4 == "projects") {
	output += "\n                                    <i class=\"fa fa-group\"></i>\n                                ";
	;
	}
	else {
	if(t_4 == "groups") {
	output += "\n                                    <i class=\"fa fa-sitemap\"></i>\n                                ";
	;
	}
	else {
	if(t_4 == "conferences") {
	output += "\n                                    <i class=\"fa fa-calendar\"></i>\n                                ";
	;
	}
	else {
	if(t_4 == "ideas") {
	output += "\n                                    <i class=\"fa fa-lightbulb-o\"></i>\n                                ";
	;
	}
	else {
	if(t_4 == "organizations") {
	output += "\n                                    <i class=\"fa fa-building\"></i>\n                                ";
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	output += "\n                            </span>\n                        ";
	;
	}
	output += "\n                    ";
	;
	}
	} else {
	t_1 = -1;
	var t_2 = runtime.keys(t_3).length;
	for(var t_6 in t_3) {
	t_1++;
	var t_7 = t_3[t_6];
	frame.set("filter_type", t_6);
	frame.set("available", t_7);
	frame.set("loop.index", t_1 + 1);
	frame.set("loop.index0", t_1);
	frame.set("loop.revindex", t_2 - t_1);
	frame.set("loop.revindex0", t_2 - t_1 - 1);
	frame.set("loop.first", t_1 === 0);
	frame.set("loop.last", t_1 === t_2 - 1);
	frame.set("loop.length", t_2);
	output += "\n                        ";
	if(t_7 && runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "activeFilters")),t_6)) {
	output += "\n                            <span class=\"apply-color-";
	output += runtime.suppressValue(t_6, env.opts.autoescape);
	output += "\">\n                                ";
	if(t_6 == "people") {
	output += "\n                                    <i class=\"fa fa-user\"></i>\n                                ";
	;
	}
	else {
	if(t_6 == "events") {
	output += "\n                                    <i class=\"fa fa-calendar\"></i>\n                                ";
	;
	}
	else {
	if(t_6 == "projects") {
	output += "\n                                    <i class=\"fa fa-group\"></i>\n                                ";
	;
	}
	else {
	if(t_6 == "groups") {
	output += "\n                                    <i class=\"fa fa-sitemap\"></i>\n                                ";
	;
	}
	else {
	if(t_6 == "conferences") {
	output += "\n                                    <i class=\"fa fa-calendar\"></i>\n                                ";
	;
	}
	else {
	if(t_6 == "ideas") {
	output += "\n                                    <i class=\"fa fa-lightbulb-o\"></i>\n                                ";
	;
	}
	else {
	if(t_6 == "organizations") {
	output += "\n                                    <i class=\"fa fa-building\"></i>\n                                ";
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	output += "\n                            </span>\n                        ";
	;
	}
	output += "\n                    ";
	;
	}
	}
	}
	frame = frame.pop();
	output += "\n                </span>\n                <i class=\"fa fa-close clickable-button reset-type-filters\"></i>\n            </div>\n        ";
	;
	}
	output += "\n        \n        ";
	if(runtime.contextOrFrameLookup(context, frame, "textTopicFiltersActive")) {
	output += "\n            <div class=\"active-filters active-filters-text-topics\">\n                <span class=\"active-filters-inner\">\n                    <span class=\"caps\">\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Categories"), true && env.opts.autoescape);
	output += ":\n                    </span>\n                    ";
	frame = frame.push();
	var t_10 = runtime.contextOrFrameLookup(context, frame, "activeTextTopicIds");
	if(t_10) {var t_9 = t_10.length;
	for(var t_8=0; t_8 < t_10.length; t_8++) {
	var t_11 = t_10[t_8];
	frame.set("text_topic_id", t_11);
	frame.set("loop.index", t_8 + 1);
	frame.set("loop.index0", t_8);
	frame.set("loop.revindex", t_9 - t_8);
	frame.set("loop.revindex0", t_9 - t_8 - 1);
	frame.set("loop.first", t_8 === 0);
	frame.set("loop.last", t_8 === t_9 - 1);
	frame.set("loop.length", t_9);
	output += "\n                        ";
	var t_12;
	t_12 = runtime.contextOrFrameLookup(context, frame, "loop");
	frame.set("outer_loop", t_12, true);
	if(frame.topLevel) {
	context.setVariable("outer_loop", t_12);
	}
	if(frame.topLevel) {
	context.addExport("outer_loop", t_12);
	}
	output += "\n                        ";
	frame = frame.push();
	var t_15 = runtime.contextOrFrameLookup(context, frame, "allTextTopics");
	if(t_15) {var t_13;
	if(runtime.isArray(t_15)) {
	var t_14 = t_15.length;
	for(t_13=0; t_13 < t_15.length; t_13++) {
	var t_16 = t_15[t_13][0]
	frame.set("tid", t_15[t_13][0]);
	var t_17 = t_15[t_13][1]
	frame.set("text_topic", t_15[t_13][1]);
	frame.set("loop.index", t_13 + 1);
	frame.set("loop.index0", t_13);
	frame.set("loop.revindex", t_14 - t_13);
	frame.set("loop.revindex0", t_14 - t_13 - 1);
	frame.set("loop.first", t_13 === 0);
	frame.set("loop.last", t_13 === t_14 - 1);
	frame.set("loop.length", t_14);
	output += "\n                            ";
	if(t_17 && t_11 == t_16) {
	output += "\n                                <span>";
	output += runtime.suppressValue(t_17, env.opts.autoescape);
	if(!runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "outer_loop")),"last")) {
	output += ", ";
	;
	}
	output += "</span>\n                            ";
	;
	}
	output += "\n                        ";
	;
	}
	} else {
	t_13 = -1;
	var t_14 = runtime.keys(t_15).length;
	for(var t_18 in t_15) {
	t_13++;
	var t_19 = t_15[t_18];
	frame.set("tid", t_18);
	frame.set("text_topic", t_19);
	frame.set("loop.index", t_13 + 1);
	frame.set("loop.index0", t_13);
	frame.set("loop.revindex", t_14 - t_13);
	frame.set("loop.revindex0", t_14 - t_13 - 1);
	frame.set("loop.first", t_13 === 0);
	frame.set("loop.last", t_13 === t_14 - 1);
	frame.set("loop.length", t_14);
	output += "\n                            ";
	if(t_19 && t_11 == t_18) {
	output += "\n                                <span>";
	output += runtime.suppressValue(t_19, env.opts.autoescape);
	if(!runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "outer_loop")),"last")) {
	output += ", ";
	;
	}
	output += "</span>\n                            ";
	;
	}
	output += "\n                        ";
	;
	}
	}
	}
	frame = frame.pop();
	output += "\n                    ";
	;
	}
	}
	frame = frame.pop();
	output += "\n                </span>\n                <i class=\"fa fa-close clickable-button reset-text-topic-filters\"></i>\n            </div>\n        ";
	;
	}
	output += "\n\n        ";
	if(runtime.contextOrFrameLookup(context, frame, "topicFiltersActive")) {
	output += "\n            <div class=\"active-filters active-filters-topics\">\n                <span class=\"active-filters-inner\">\n                    <span class=\"caps\">\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Topics"), true && env.opts.autoescape);
	output += ":\n                    </span>\n                    ";
	frame = frame.push();
	var t_22 = runtime.contextOrFrameLookup(context, frame, "activeTopicIds");
	if(t_22) {var t_21 = t_22.length;
	for(var t_20=0; t_20 < t_22.length; t_20++) {
	var t_23 = t_22[t_20];
	frame.set("topic_id", t_23);
	frame.set("loop.index", t_20 + 1);
	frame.set("loop.index0", t_20);
	frame.set("loop.revindex", t_21 - t_20);
	frame.set("loop.revindex0", t_21 - t_20 - 1);
	frame.set("loop.first", t_20 === 0);
	frame.set("loop.last", t_20 === t_21 - 1);
	frame.set("loop.length", t_21);
	output += "\n                        ";
	var t_24;
	t_24 = runtime.contextOrFrameLookup(context, frame, "loop");
	frame.set("outer_loop", t_24, true);
	if(frame.topLevel) {
	context.setVariable("outer_loop", t_24);
	}
	if(frame.topLevel) {
	context.addExport("outer_loop", t_24);
	}
	output += "\n                        ";
	frame = frame.push();
	var t_27 = runtime.contextOrFrameLookup(context, frame, "allTopics");
	if(t_27) {var t_25;
	if(runtime.isArray(t_27)) {
	var t_26 = t_27.length;
	for(t_25=0; t_25 < t_27.length; t_25++) {
	var t_28 = t_27[t_25][0]
	frame.set("tid", t_27[t_25][0]);
	var t_29 = t_27[t_25][1]
	frame.set("topic", t_27[t_25][1]);
	frame.set("loop.index", t_25 + 1);
	frame.set("loop.index0", t_25);
	frame.set("loop.revindex", t_26 - t_25);
	frame.set("loop.revindex0", t_26 - t_25 - 1);
	frame.set("loop.first", t_25 === 0);
	frame.set("loop.last", t_25 === t_26 - 1);
	frame.set("loop.length", t_26);
	output += "\n                            ";
	if(t_29 && t_23 == t_28) {
	output += "\n                                <span>";
	output += runtime.suppressValue(t_29, env.opts.autoescape);
	if(!runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "outer_loop")),"last")) {
	output += ", ";
	;
	}
	output += "</span>\n                            ";
	;
	}
	output += "\n                        ";
	;
	}
	} else {
	t_25 = -1;
	var t_26 = runtime.keys(t_27).length;
	for(var t_30 in t_27) {
	t_25++;
	var t_31 = t_27[t_30];
	frame.set("tid", t_30);
	frame.set("topic", t_31);
	frame.set("loop.index", t_25 + 1);
	frame.set("loop.index0", t_25);
	frame.set("loop.revindex", t_26 - t_25);
	frame.set("loop.revindex0", t_26 - t_25 - 1);
	frame.set("loop.first", t_25 === 0);
	frame.set("loop.last", t_25 === t_26 - 1);
	frame.set("loop.length", t_26);
	output += "\n                            ";
	if(t_31 && t_23 == t_30) {
	output += "\n                                <span>";
	output += runtime.suppressValue(t_31, env.opts.autoescape);
	if(!runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "outer_loop")),"last")) {
	output += ", ";
	;
	}
	output += "</span>\n                            ";
	;
	}
	output += "\n                        ";
	;
	}
	}
	}
	frame = frame.pop();
	output += "\n                    ";
	;
	}
	}
	frame = frame.pop();
	output += "\n                </span>\n                <i class=\"fa fa-close clickable-button reset-topic-filters\"></i>\n            </div>\n        ";
	;
	}
	output += "\n\n        ";
	if(runtime.contextOrFrameLookup(context, frame, "sdgFiltersActive")) {
	output += "\n            <div class=\"active-filters active-filters-sdgs\">\n                <span class=\"active-filters-inner\">\n                    <span class=\"caps\">\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"SDGS"), true && env.opts.autoescape);
	output += ":\n                    </span>\n                    ";
	frame = frame.push();
	var t_34 = runtime.contextOrFrameLookup(context, frame, "activeSDGIds");
	if(t_34) {var t_33 = t_34.length;
	for(var t_32=0; t_32 < t_34.length; t_32++) {
	var t_35 = t_34[t_32];
	frame.set("sdg_id", t_35);
	frame.set("loop.index", t_32 + 1);
	frame.set("loop.index0", t_32);
	frame.set("loop.revindex", t_33 - t_32);
	frame.set("loop.revindex0", t_33 - t_32 - 1);
	frame.set("loop.first", t_32 === 0);
	frame.set("loop.last", t_32 === t_33 - 1);
	frame.set("loop.length", t_33);
	output += "\n                        ";
	var t_36;
	t_36 = runtime.contextOrFrameLookup(context, frame, "loop");
	frame.set("outer_loop", t_36, true);
	if(frame.topLevel) {
	context.setVariable("outer_loop", t_36);
	}
	if(frame.topLevel) {
	context.addExport("outer_loop", t_36);
	}
	output += "\n                        ";
	frame = frame.push();
	var t_39 = runtime.contextOrFrameLookup(context, frame, "allSDGS");
	if(t_39) {var t_38 = t_39.length;
	for(var t_37=0; t_37 < t_39.length; t_37++) {
	var t_40 = t_39[t_37];
	frame.set("sdg", t_40);
	frame.set("loop.index", t_37 + 1);
	frame.set("loop.index0", t_37);
	frame.set("loop.revindex", t_38 - t_37);
	frame.set("loop.revindex0", t_38 - t_37 - 1);
	frame.set("loop.first", t_37 === 0);
	frame.set("loop.last", t_37 === t_38 - 1);
	frame.set("loop.length", t_38);
	output += "\n                            ";
	if(t_40 && t_35 == runtime.memberLookup((t_40),"id")) {
	output += "\n                                <span>";
	output += runtime.suppressValue(runtime.memberLookup((t_40),"name"), env.opts.autoescape);
	if(!runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "outer_loop")),"last")) {
	output += ", ";
	;
	}
	output += "</span>\n                            ";
	;
	}
	output += "\n                        ";
	;
	}
	}
	frame = frame.pop();
	output += "\n                    ";
	;
	}
	}
	frame = frame.pop();
	output += "\n                </span>\n                <i class=\"fa fa-close clickable-button reset-sdg-filters\"></i>\n            </div>\n        ";
	;
	}
	output += "\n        \n        ";
	if(runtime.contextOrFrameLookup(context, frame, "managedTagsFiltersActive")) {
	output += "\n            <div class=\"active-filters active-filters-managed-tags\">\n                <span class=\"active-filters-inner\">\n                    <span class=\"caps\">\n                        ";
	output += runtime.suppressValue(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "managedTagsLabels")),"MANAGED_TAG_MAP_LABEL"), env.opts.autoescape);
	output += ":\n                    </span>\n                    ";
	frame = frame.push();
	var t_43 = runtime.contextOrFrameLookup(context, frame, "activeManagedTagsIds");
	if(t_43) {var t_42 = t_43.length;
	for(var t_41=0; t_41 < t_43.length; t_41++) {
	var t_44 = t_43[t_41];
	frame.set("managed_tag_id", t_44);
	frame.set("loop.index", t_41 + 1);
	frame.set("loop.index0", t_41);
	frame.set("loop.revindex", t_42 - t_41);
	frame.set("loop.revindex0", t_42 - t_41 - 1);
	frame.set("loop.first", t_41 === 0);
	frame.set("loop.last", t_41 === t_42 - 1);
	frame.set("loop.length", t_42);
	output += "\n                        ";
	var t_45;
	t_45 = runtime.contextOrFrameLookup(context, frame, "loop");
	frame.set("outer_loop", t_45, true);
	if(frame.topLevel) {
	context.setVariable("outer_loop", t_45);
	}
	if(frame.topLevel) {
	context.addExport("outer_loop", t_45);
	}
	output += "\n                        ";
	frame = frame.push();
	var t_48 = runtime.contextOrFrameLookup(context, frame, "allManagedTags");
	if(t_48) {var t_47 = t_48.length;
	for(var t_46=0; t_46 < t_48.length; t_46++) {
	var t_49 = t_48[t_46];
	frame.set("managed_tag", t_49);
	frame.set("loop.index", t_46 + 1);
	frame.set("loop.index0", t_46);
	frame.set("loop.revindex", t_47 - t_46);
	frame.set("loop.revindex0", t_47 - t_46 - 1);
	frame.set("loop.first", t_46 === 0);
	frame.set("loop.last", t_46 === t_47 - 1);
	frame.set("loop.length", t_47);
	output += "\n                            ";
	if(t_49 && t_44 == runtime.memberLookup((t_49),"id")) {
	output += "\n                                <span>";
	output += runtime.suppressValue(runtime.memberLookup((t_49),"name"), env.opts.autoescape);
	if(!runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "outer_loop")),"last")) {
	output += ", ";
	;
	}
	output += "</span>\n                            ";
	;
	}
	output += "\n                        ";
	;
	}
	}
	frame = frame.pop();
	output += "\n                    ";
	;
	}
	}
	frame = frame.pop();
	output += "\n                </span>\n                <i class=\"fa fa-close clickable-button reset-managed-tag-filters\"></i>\n            </div>\n        ";
	;
	}
	output += "\n        \n        \n        \n        ";
	if(runtime.contextOrFrameLookup(context, frame, "q")) {
	output += "\n            <div class=\"active-filters active-filters-q\">\n                <span class=\"active-filters-inner\">\n                    \"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "q"), env.opts.autoescape);
	output += "\"\n                </span>\n                <i class=\"fa fa-close clickable-button reset-q\"></i>\n            </div>\n        ";
	;
	}
	output += "\n    \n    </div>\n";
	;
	}
	output += "\n\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/map/map-controls-active-filters.html"] , dependencies)

/***/ }),
/* 28 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var BaseView = __webpack_require__(4);
	var ContentControlView = __webpack_require__(3);
	var TileView = __webpack_require__(29);
	var util = __webpack_require__(5);
	
	module.exports = ContentControlView.extend({
	
	    template: __webpack_require__(36),
	    
	    // Marker storage dict of {<resultModel.id>: tileView, ...}
	    // id corresponds to self.collection.get(<id>)
	    // updated through the handlers of self.collection's signals
	    tiles: {},
	    
	    // the Masonry grid for our tiles
	    grid: null,
	    
	    // on every inputs disable, that thread +1s this counter it and may only
	    // re-enable inputs if the counter stayed the same in the meantime
	    // (i.e. no new threads are running now) to prevent enabled inputs on working threads
	    disableCounter: 0,
	    
	    // will be set to self.options during initialization
	    defaults: {
	        // is the window in full-screen mode (instead of inside a widget or similar)
	        fullscreen: true,
	        
	        // is this view shown together with the map view as a 50% split screen?
	        splitscreen: false,
	        
	        state: {
	            matching: ''
	        }
	    },
	    
	    initialize: function (options, app, collection) {
	        var self = this;
	        // this calls self.applyUrlSearchParameters()
	        ContentControlView.prototype.initialize.call(self, options, app, collection);
	        
	        // result events
	        self.collection.on({
	           'add' : self.thisContext(self.tileAdd),
	           'change:hovered': self.thisContext(self.tileChangeHover),
	           'change:selected': self.thisContext(self.tileChangeSelected),
	           'change': self.thisContext(self.tileUpdate),
	           'remove': self.thisContext(self.tileRemove),
	           'update': self.thisContext(self.tilesUpdate),
	           'reset': self.thisContext(self.tilesReset),
	        });
	        
	        Backbone.mediator.subscribe('error:search', self.onSearchError, self);
	
	        Backbone.mediator.subscribe('tile-detail:opened', self.onTileDetailOpened, self);
	        Backbone.mediator.subscribe('tile-detail:closed', self.onTileDetailClosed, self);
	    },
	
	    render: function () {
	        var self = this;
	        ContentControlView.prototype.render.call(self);
	        
	        self.renderTilesInitial();
	        
	        // scroll listener
	        self.$el.find('.tile-contents').off('scroll').on('scroll', self.onTileListScrolled);
	        return self;
	    },
	    
	    /** Extend the template data by the controlView's options and state */
	    getTemplateData: function () {
	        var self = this;
	        var data = BaseView.prototype.getTemplateData.call(self);
	        data['controlView'] = _.extend(
	            {},
	            self.App.controlView.options,
	            self.App.controlView.state
	        );
	        return data;
	    },
	    
	    afterRender: function () {
	        var self = this;
	    },
	    
	    /** Shows and reloads the tile view */
	    reload: function () {
	    	util.log('*** Reloading Tile View ***')
	    	this.$el.toggleClass('tile-list-splitscreen', this.options.splitscreen);
	    	this.$el.toggleClass('tile-list-tile-fullscreen', !this.options.splitscreen);
	        this.$el.show();
	    },
	    
	    /** Hides the tile view */
	    hide: function () {
	    	util.log('*** Hiding Tile View ***')
	    	this.$el.hide();
	    },
	    
	    /** Handles events for infinite scroll */
	    onTileListScrolled: function (event) {
	    	var $list = $(event.target);
	    	if ($list.scrollTop() + $list.innerHeight() >= $list[0].scrollHeight - 250) {
	        	Backbone.mediator.publish('tile-list:scroll-end-reached');
	    	}
	    },
	    
	    
	    // extended from content-control-view.js
	    applyUrlSearchParameters: function (urlParams) {
	        _.extend(this.state, {
	            matching: util.ifundef(urlParams.matching, this.state.matching),
	        });
	    },
	    
	    // extended from content-control-view.js
	    contributeToSearchParameters: function(forAPI) {
	        // don't need this here
	    },
	    
	    
	    // ResultCollection Event handlers
	    // --------------
	
	    tileAdd: function(result) {
	        // adding a tile that is already there? impossibru! but best be sure.
	        if (result.id in this.tiles) {
	            this.tileRemove(result);
	        }
	
	        var tile = new TileView({
		            model: result,
		            elParent: '#tile-container',
		        }, 
		        this.App).render();
	        this.tiles[result.id] = tile;
	    },
	
	    tileRemove: function(result) {
	        if (result.get('selected')) {
	            util.log('tile-list-view.js: TODO:: was ordered to remove a tile that is currently selected. NOT DOING ANYTHING RN!')
	            return;
	        }
	        if (result.id in this.tiles) {
	            var tile = this.tiles[result.id];
	            
	            tile.remove();
	            
	            delete this.tiles[result.id];
	            util.log('Removed tile at ' + result.id);
	        }
	    },
	
	    tileChangeHover: function(result) {
	        
	    },
	    
	    tileChangeSelected: function(result) {
	        
	    },
	
	    tileUpdate: function(result) {
	        // don't use this trigger when only hovered/selected state was changed - they have their own handlers
	        var attrs = result.changedAttributes();
	        if (attrs && ('selected' in attrs || 'hovered' in attrs)) {
	            return;
	        }
	        if (result.id in this.tiles) {
	            var tile = this.tiles[result.id];
	            tile.render();
	        }
	    },
	    
	    /** Handler for when tiles have been added to the collection, like after an infinite scroll event */
	    tilesUpdate: function(resultCollection, options) {
	        var self = this;
	
	        self.gridRefresh();
	        self.enableInput(true);
	    },
	    
	    /** Handler for when the entire collection changes */
	    tilesReset: function(resultCollection, options) {
	        // options.previousModels contains the old models if we need them
	        this.swapTileset(resultCollection.models);
	    },
	    
	    /** Swaps out a new tile set by disabling the tile list interaction, 
	     *     loading the new tiles into a seperate container, waiting until all their
	     *  images have loaded, and then swapping in the new container for the old one. */ 
	    swapTileset: function(newTileModels) {
	        var self = this;
	        var $old_grid = self.grid;
	        var old_tiles = self.tiles;
	        self.tiles = {};
	        
	        // disable tile view, set old container aside above the new one
	        self.disableInput();
	        self.disableCounter += 1;
	        var localDisableCounter = self.disableCounter;
	        if ($old_grid) {
	            $old_grid.removeAttr('id').css({'z-index': 1});
	        }
	        // load new tiles into new container (which is covered by old)
	        self.grid = self.$el.find('#tile-container-proto')
	            .clone()
	            .attr('id', 'tile-container')
	            .appendTo(self.$el.find('#tile-container-proto').parent())
	            .show();
	        // use a local grid variable because new threads might
	        // swap out self.grid before imagesloaded resolves
	        var grid = self.grid;
	        
	        _.each(newTileModels, function(result){
	            self.tileAdd(result);
	        });
	        
	        grid.imagesLoaded( function() { 
	            grid.masonry({
	                // set itemSelector so .grid-sizer is not used in layout
	                itemSelector: '.grid-item',
	                // use element for option
	                columnWidth: '.grid-sizer',
	                percentPosition: true,
	                transitionDuration: 0
	            });
	            
	            if ($old_grid) {
	                $old_grid.hide();
	            }
	            // re-enable tile-view input unless a new thread is now running
	            if (self.disableCounter == localDisableCounter) {
	                self.enableInput(true);
	            }
	            
	            // cleanly remove old tile views and old grid to not cause leaks
	            if (old_tiles) {
	                _.each(old_tiles, function(tile){
	                    tile.remove();
	                });
	            }
	            if ($old_grid) {
	                $old_grid.remove();
	            }
	        });
	        
	        util.log('TODO: add a case for imagesLoaded() never triggering!')
	    },
	    
	    /** Orders Masonry to reorder tiles after a refresh */
	    gridRefresh: function () {
	        var self = this;
	        self.grid.imagesLoaded( function() { 
	            self.grid.masonry('reloadItems');
	            self.grid.masonry('layout')
	        });
	    },
	    
	    disableInput: function() {
	        this.$el.addClass('disabled');
	    },
	    
	    enableInput: function(local_enable) {
	        // we ignore the enable signal from the content view and only
	        // re-enable the tile view once we have rendered the results.
	        if (local_enable) {
	            this.$el.removeClass('disabled');
	        }
	    },
	
	    onTileDetailOpened: function () {
	    	this.App.$el.addClass('tile-detail-open');
	    	this.App.tileListView.gridRefresh();
	    },
	    
	    onTileDetailClosed: function () {
	    	this.App.$el.removeClass('tile-detail-open');
	    	this.App.tileListView.gridRefresh();
	    },
	    
	    
	    
	    onSearchError: function() {
	        // when the search fails, re-enable the tile-list
	        this.enableInput(true);
	    },
	    
	    // Private
	    // -------
	
	    renderTilesInitial: function () {
	        // nothing to do here for now
	    },
	
	});


/***/ }),
/* 29 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var BaseView = __webpack_require__(4);
	var Result = __webpack_require__(25);
	var util = __webpack_require__(5);
	
	var tileTemplateDefault = __webpack_require__(30);
	var tileTemplateGroups = __webpack_require__(32);
	var tileTemplateProjects = __webpack_require__(33);
	if (COSINNUS_CLOUD_ENABLED) {
	    var tileTemplateCloudfile = __webpack_require__(34);
	}
	if (COSINNUS_ORGANIZATIONS_ENABLED) {
	    var tileTemplateOrganizations = __webpack_require__(35);
	}
	
	module.exports = BaseView.extend({
	    
	    // reference back to the main App
	    App: null,
	    
	    model: Result,
	
	    template: tileTemplateDefault, // determined in `fitTemplate()`
	    
	    // The DOM events specific to an item.
	    events: {
	        'click .result-link': 'onResultLinkClicked',
	        'click .topic-filter-link': 'onTopicLinkClicked',
	        'click .text-topic-filter-link': 'onTextTopicLinkClicked',
	
	        'mouseenter': 'onMouseEnter',
	        'mouseleave': 'onMouseLeave',
	    },
	    
	    initialize: function (options, app) {
	        var self = this;
	        BaseView.prototype.initialize.call(self, options);
	        self.App = app;
	        
	        self.model.on({
	            'change:hovered': self.thisContext(self.onHoverChanged),
	        });
	        self.fitTemplate();
	    },
	    
	    /** Adjust this view's template based on the result type it displays (and other states) */
	    fitTemplate: function () {
	        var self = this;
	        if (self.model.get('type') === 'cloudfile') {
	            self.template = tileTemplateCloudfile;
	            self.state.isSmall = true;
	            self.state.noImage = true;
	        } else if (self.model.get('type') === 'people') {
	            self.state.isSmall = true;
	        } else if (self.model.get('type') === 'groups') {
	            self.template = tileTemplateGroups;
	        } else if (self.model.get('type') === 'projects') {
	            self.template = tileTemplateProjects;
	        } else if (self.model.get('type') === 'organizations') {
	            self.template = tileTemplateOrganizations;
	        }
	        self.state.isYou = self.model.get('type') === 'people' && cosinnus_active_user && self.model.get('slug') === cosinnus_active_user.username;
	    },
	    
	    /** Extend the template data by the controlView's options and state */
	    getTemplateData: function () {
	        var self = this;
	        var data = BaseView.prototype.getTemplateData.call(self);
	        data['controlView'] = _.extend(
	            {},
	            self.App.controlView.options,
	            self.App.controlView.state
	        );
	        return data;
	    },
	    
	    /**
	     * Called when the .hovered property of the Result model was changed.
	     * We actually do the display and re-render here, because
	     * the selected change may be triggered in other views.
	     */
	    onHoverChanged: function () {
	        this.$el.toggleClass('hovered', this.model.get('hovered'));
	    },
	    
	    
	    onMouseEnter: function() {
	        if (!this.model.get('selected')) {
	            util.log('tile-view.js: got a hover event! id: ' + this.model.id);
	            this.App.controlView.setHoveredResult(this.model);
	        }
	    },
	    onMouseLeave: function() {
	        if (!this.model.get('selected')) {
	            util.log('tile-view.js: got an unhover event! id: ' + this.model.id);
	            this.App.controlView.setHoveredResult(null);
	        }
	    },
	    
	    /** Called when a topic link is clicked to filter for that topic only */
	    onTopicLinkClicked: function(event) {
	        this.App.controlView.onTopicLinkClicked(event);
	    },
	
	    onTextTopicLinkClicked: function(event) {
	        this.App.controlView.onTextTopicLinkClicked(event);
	    },
	    
	    /**
	     * Called when a link is clicked that leads to opening a detail view.
	     * We only change the Result model's .selected property and
	     * don't do any rendering here.
	     */
	    onResultLinkClicked: function (event) {
	        this.App.controlView.onResultLinkClicked(event);
	    },
	    
	});


/***/ }),
/* 30 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["tiles/grid-tile-base"] = __webpack_require__( 31 );
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/tiles/grid-tile-default.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("tiles/grid-tile-base", true, "cosinnus/templates/cosinnus/universal/tiles/grid-tile-default.html", false, function(t_2,_parentTemplate) {
	if(t_2) { cb(t_2); return; }
	parentTemplate = _parentTemplate
	for(var t_1 in parentTemplate.blocks) {
	context.addBlock(t_1, parentTemplate.blocks[t_1]);
	}
	output += "\n";
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/tiles/grid-tile-default.html", false, function(t_4,t_3) {
	if(t_4) { cb(t_4); return; }
	t_3.getExported(function(t_5,t_3) {
	if(t_5) { cb(t_5); return; }
	context.setVariable("macros", t_3);
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("description_area"))(env, context, frame, runtime, function(t_7,t_6) {
	if(t_7) { cb(t_7); return; }
	output += t_6;
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("icon_area"))(env, context, frame, runtime, function(t_9,t_8) {
	if(t_9) { cb(t_9); return; }
	output += t_8;
	output += "\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})})})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_description_area(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    ";
	context.getBlock("title")(env, context, frame, runtime, function(t_11,t_10) {
	if(t_11) { cb(t_11); return; }
	output += t_10;
	output += "\n    \n    ";
	if(runtime.contextOrFrameLookup(context, frame, "group_slug") && runtime.contextOrFrameLookup(context, frame, "group_name") && runtime.contextOrFrameLookup(context, frame, "portal")) {
	output += "\n        <div class=\"pale-color one-line\">\n            ";
	if(runtime.contextOrFrameLookup(context, frame, "type") == "projects") {
	output += "\n                ";
	output += runtime.suppressValue((lineno = 19, colno = 33, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"typeLabel"), "macros[\"typeLabel\"]", context, ["groups",runtime.makeKeywordArgs({"singular": 1,"useStyles": 0,"colon": 1,"showIcon": 0,"COSINNUS_TRANS": runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")})])), env.opts.autoescape);
	output += "\n                ";
	output += runtime.suppressValue((lineno = 20, colno = 34, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"resultLink"), "macros[\"resultLink\"]", context, [runtime.contextOrFrameLookup(context, frame, "portal"),runtime.contextOrFrameLookup(context, frame, "group_slug"),runtime.contextOrFrameLookup(context, frame, "group_name"),"groups"])), env.opts.autoescape);
	output += "\n            ";
	;
	}
	else {
	output += "\n                ";
	output += runtime.suppressValue((lineno = 22, colno = 33, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"typeLabel"), "macros[\"typeLabel\"]", context, ["projects",runtime.makeKeywordArgs({"singular": 1,"useStyles": 0,"colon": 1,"showIcon": 0,"COSINNUS_TRANS": runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")})])), env.opts.autoescape);
	output += "\n                ";
	output += runtime.suppressValue((lineno = 23, colno = 34, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"resultLink"), "macros[\"resultLink\"]", context, [runtime.contextOrFrameLookup(context, frame, "portal"),runtime.contextOrFrameLookup(context, frame, "group_slug"),runtime.contextOrFrameLookup(context, frame, "group_name"),"projects"])), env.opts.autoescape);
	output += "\n            ";
	;
	}
	output += "\n        </div>\n    ";
	;
	}
	output += "\n    \n    ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "topics")) > 0) {
	output += "\n        <div class=\"tile-section one-line\">\n            <span class=\"pale-color\">\n                ";
	output += "\n                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Topics"), true && env.opts.autoescape);
	output += ":\n            </span> \n            ";
	frame = frame.push();
	var t_14 = runtime.contextOrFrameLookup(context, frame, "topics");
	if(t_14) {var t_13 = t_14.length;
	for(var t_12=0; t_12 < t_14.length; t_12++) {
	var t_15 = t_14[t_12];
	frame.set("topic", t_15);
	frame.set("loop.index", t_12 + 1);
	frame.set("loop.index0", t_12);
	frame.set("loop.revindex", t_13 - t_12);
	frame.set("loop.revindex0", t_13 - t_12 - 1);
	frame.set("loop.first", t_12 === 0);
	frame.set("loop.last", t_12 === t_13 - 1);
	frame.set("loop.length", t_13);
	output += "\n                <a class=\"topic-filter-link \" data-topic-id=\"";
	output += runtime.suppressValue(t_15, env.opts.autoescape);
	output += "\">";
	output += runtime.suppressValue(runtime.memberLookup((runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"allTopics")),t_15), env.opts.autoescape);
	output += "</a>";
	if(!runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "loop")),"last")) {
	output += ",";
	;
	}
	output += "\n            ";
	;
	}
	}
	frame = frame.pop();
	output += "\n        </div>\n    ";
	;
	}
	output += "\n    \n    ";
	if(runtime.contextOrFrameLookup(context, frame, "description")) {
	output += "\n        <div class=\"tile-section tile-description\">";
	output += runtime.suppressValue(env.getFilter("safe").call(context, runtime.contextOrFrameLookup(context, frame, "description")), env.opts.autoescape);
	output += "</div>\n    ";
	;
	}
	output += "\n";
	cb(null, output);
	});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_title(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    <h1>\n    \t";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "title"), env.opts.autoescape);
	output += "\n    \t";
	if(runtime.contextOrFrameLookup(context, frame, "isYou")) {
	output += "\n    \t\t<i class=\"pale-color\">\n                ";
	output += "\n                (";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"You"), true && env.opts.autoescape);
	output += ")\n\t\t\t</i>\n\t\t";
	;
	}
	output += "\n    </h1>\n    ";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_icon_area(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    ";
	if((runtime.contextOrFrameLookup(context, frame, "type") == "events" && runtime.contextOrFrameLookup(context, frame, "participant_count") > 1) || (runtime.contextOrFrameLookup(context, frame, "type") != "events" && runtime.contextOrFrameLookup(context, frame, "member_count") > 1) || (runtime.contextOrFrameLookup(context, frame, "content_count") > 0)) {
	output += "\n    <div class=\"tile-section pale-color one-line\">\n        ";
	if(runtime.contextOrFrameLookup(context, frame, "type") == "events" && runtime.contextOrFrameLookup(context, frame, "participant_count") > 1) {
	output += "\n            <span class=\"multi-span\" title=\"\n                ";
	output += "\n                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Participants"), true && env.opts.autoescape);
	output += "\n            \">\n                <i class=\"fa fa-group\"></i> \n                ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "participant_count"), env.opts.autoescape);
	output += "\n            </span>\n        ";
	;
	}
	output += "\n        \n        ";
	if(runtime.contextOrFrameLookup(context, frame, "type") == "people" && runtime.contextOrFrameLookup(context, frame, "member_count") > 1) {
	output += "\n            <span class=\"multi-span\" title=\"\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "type") == "people") {
	output += "\n                    ";
	output += "\n                    ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Projects/Groups"), true && env.opts.autoescape);
	output += "\n                ";
	;
	}
	else {
	output += "\n                    ";
	output += "\n                    ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Members"), true && env.opts.autoescape);
	output += "\n                ";
	;
	}
	output += "\n            \">\n                <i class=\"fa fa-group\"></i> \n                ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "member_count"), env.opts.autoescape);
	output += "\n            </span>\n        ";
	;
	}
	output += "\n        \n        ";
	if(runtime.contextOrFrameLookup(context, frame, "type") == "projects" || runtime.contextOrFrameLookup(context, frame, "type") == "groups") {
	output += "\n            ";
	if(runtime.contextOrFrameLookup(context, frame, "member_count") > 1) {
	output += "\n\t            <span class=\"multi-span\" title=\"\n\t                ";
	output += "\n\t                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Members"), true && env.opts.autoescape);
	output += "\n\t            \">\n\t                <i class=\"fa fa-group\"></i> \n\t                ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "member_count"), env.opts.autoescape);
	output += "\n\t            </span>\n            ";
	;
	}
	output += "\n\t        ";
	if(runtime.contextOrFrameLookup(context, frame, "content_count") > 0) {
	output += "\n\t            <span class=\"multi-span\" title=\"\n\t                ";
	output += "\n\t                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Events"), true && env.opts.autoescape);
	output += "\n\t            \">\n\t                <i class=\"fa fa-calendar\"></i> \n\t                ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "content_count"), env.opts.autoescape);
	output += "\n\t            </span>\n\t        ";
	;
	}
	output += "\n        ";
	;
	}
	output += "\n        \n        ";
	if(runtime.contextOrFrameLookup(context, frame, "type") == "ideas" && runtime.contextOrFrameLookup(context, frame, "participant_count") > 0) {
	output += "\n            <span class=\"multi-span\" title=\"\n                ";
	output += "\n                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Likes"), true && env.opts.autoescape);
	output += "\n            \">\n                <i class=\"fa fa-heart ";
	if(runtime.contextOrFrameLookup(context, frame, "liked")) {
	output += "apply-color-liked";
	;
	}
	output += "\" ></i> \n                ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "participant_count"), env.opts.autoescape);
	output += "\n            </span>\n        ";
	;
	}
	output += "\n        ";
	if(runtime.contextOrFrameLookup(context, frame, "type") == "ideas" && runtime.contextOrFrameLookup(context, frame, "content_count") > 0) {
	output += "\n            <span class=\"multi-span\" title=\"\n                ";
	output += "\n                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Projects"), true && env.opts.autoescape);
	output += "\n            \">\n                <i class=\"fa fa-group\"></i> \n                ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "content_count"), env.opts.autoescape);
	output += "\n            </span>\n        ";
	;
	}
	output += "\n        \n        \n    </div>\n    ";
	;
	}
	output += "\n    \n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	b_description_area: b_description_area,
	b_title: b_title,
	b_icon_area: b_icon_area,
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/tiles/grid-tile-default.html"] , dependencies)

/***/ }),
/* 31 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/tiles/grid-tile-base.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/tiles/grid-tile-base.html", false, function(t_2,t_1) {
	if(t_2) { cb(t_2); return; }
	t_1.getExported(function(t_3,t_1) {
	if(t_3) { cb(t_3); return; }
	context.setVariable("macros", t_1);
	output += "\n\n<div class=\"tile tile-";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "type"), env.opts.autoescape);
	output += " grid-item ";
	if(runtime.contextOrFrameLookup(context, frame, "selected")) {
	output += "selected";
	;
	}
	output += " ";
	if(runtime.contextOrFrameLookup(context, frame, "hovered")) {
	output += "hovered";
	;
	}
	output += "\">\n    <div class=\"tile-detail-link result-link\" ";
	output += runtime.suppressValue((lineno = 3, colno = 64, runtime.callWrap(runtime.memberLookup((t_1),"resultLink"), "macros[\"resultLink\"]", context, [runtime.contextOrFrameLookup(context, frame, "portal"),runtime.contextOrFrameLookup(context, frame, "slug"),runtime.contextOrFrameLookup(context, frame, "title"),runtime.contextOrFrameLookup(context, frame, "type"),runtime.makeKeywordArgs({"group_slug": runtime.contextOrFrameLookup(context, frame, "group_slug"),"inline_only": 1})])), env.opts.autoescape);
	output += ">\n        ";
	if(runtime.contextOrFrameLookup(context, frame, "isSmall") && !runtime.contextOrFrameLookup(context, frame, "noImage")) {
	output += "\n            <div class=\"single-tile-image ";
	if(!runtime.contextOrFrameLookup(context, frame, "iconImageUrl")) {
	output += "image-placeholder-background image-placeholder-background-";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "type"), env.opts.autoescape);
	;
	}
	output += "\">\n            \t";
	if(runtime.contextOrFrameLookup(context, frame, "iconImageUrl")) {
	output += "\n                \t<img class=\"framed-tile-image\" src=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "iconImageUrl"), env.opts.autoescape);
	output += "\" />\n                ";
	;
	}
	output += "\n            </div>\n        ";
	;
	}
	output += "\n    \n        ";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("type_area"))(env, context, frame, runtime, function(t_5,t_4) {
	if(t_5) { cb(t_5); return; }
	output += t_4;
	output += "\n        \n        ";
	if((!runtime.contextOrFrameLookup(context, frame, "isSmall")) && (!runtime.contextOrFrameLookup(context, frame, "noImage"))) {
	output += "\n            <div class=\"tile-section\">\n                <div class=\"dual-tile-image ";
	if(!runtime.contextOrFrameLookup(context, frame, "backgroundImageSmallUrl")) {
	output += "image-placeholder-background image-placeholder-background-";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "type"), env.opts.autoescape);
	;
	}
	output += "\">\n                    ";
	if(runtime.contextOrFrameLookup(context, frame, "backgroundImageSmallUrl")) {
	output += "\n                        <img class=\"tile-image tile-image-background\" src=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "backgroundImageSmallUrl"), env.opts.autoescape);
	output += "\" />\n                    ";
	;
	}
	output += "\n                    ";
	if(runtime.contextOrFrameLookup(context, frame, "iconImageUrl")) {
	output += "\n                        <img class=\"floating-tile-image\" src=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "iconImageUrl"), env.opts.autoescape);
	output += "\" />\n                    ";
	;
	}
	output += "\n                </div>\n            </div>\n        ";
	;
	}
	output += "\n        \n        ";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("description_area"))(env, context, frame, runtime, function(t_7,t_6) {
	if(t_7) { cb(t_7); return; }
	output += t_6;
	output += "\n        \n        ";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("icon_area"))(env, context, frame, runtime, function(t_9,t_8) {
	if(t_9) { cb(t_9); return; }
	output += t_8;
	output += "\n    </div> \n</div>\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})})})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_type_area(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n            <div class=\"tile-header-section\">\n                ";
	output += runtime.suppressValue((lineno = 14, colno = 33, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"typeLabel"), "macros[\"typeLabel\"]", context, [runtime.contextOrFrameLookup(context, frame, "type"),runtime.makeKeywordArgs({"singular": 1,"COSINNUS_TRANS": runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")})])), env.opts.autoescape);
	output += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "portal") == runtime.contextOrFrameLookup(context, frame, "COSINNUS_EXCHANGE_PORTAL_ID")) {
	output += "\n                \t";
	output += "\n\t                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"from"), true && env.opts.autoescape);
	output += ": ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "source"), env.opts.autoescape);
	output += "\n                ";
	;
	}
	output += "\n                ";
	if(!runtime.contextOrFrameLookup(context, frame, "isSmall") && runtime.memberLookup((runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"portalInfo")),"current") != runtime.contextOrFrameLookup(context, frame, "portal")) {
	output += "\n                    <div class=\"pull-right\">\n                        <a class=\"portal-inlink uncolored-link\" href=\"";
	output += runtime.suppressValue(runtime.memberLookup((runtime.memberLookup((runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"portalInfo")),runtime.contextOrFrameLookup(context, frame, "portal"))),"domain"), env.opts.autoescape);
	output += "\" target=\"_blank\" title=\"";
	output += runtime.suppressValue(runtime.memberLookup((runtime.memberLookup((runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"portalInfo")),runtime.contextOrFrameLookup(context, frame, "portal"))),"name"), env.opts.autoescape);
	output += "\">\n                            ";
	output += "\n                            ";
	output += runtime.suppressValue(runtime.memberLookup((runtime.memberLookup((runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"portalInfo")),runtime.contextOrFrameLookup(context, frame, "portal"))),"name"), env.opts.autoescape);
	output += "\n                        </a> \n                    </div>\n                ";
	;
	}
	output += "\n            </div>\n        ";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_description_area(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_icon_area(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	b_type_area: b_type_area,
	b_description_area: b_description_area,
	b_icon_area: b_icon_area,
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/tiles/grid-tile-base.html"] , dependencies)

/***/ }),
/* 32 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["tiles/grid-tile-default"] = __webpack_require__( 30 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/tiles/grid-tile-groups.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("tiles/grid-tile-default", true, "cosinnus/templates/cosinnus/universal/tiles/grid-tile-groups.html", false, function(t_2,_parentTemplate) {
	if(t_2) { cb(t_2); return; }
	parentTemplate = _parentTemplate
	for(var t_1 in parentTemplate.blocks) {
	context.addBlock(t_1, parentTemplate.blocks[t_1]);
	}
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("title"))(env, context, frame, runtime, function(t_4,t_3) {
	if(t_4) { cb(t_4); return; }
	output += t_3;
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_title(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    ";
	if(runtime.contextOrFrameLookup(context, frame, "is_open_for_cooperation")) {
	output += "\n    <h1 class=\"with-icon\">\n        <span>";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "title"), env.opts.autoescape);
	output += "</span>\n        <i class=\"fa fa-puzzle-piece apply-color-projects\"></i>\n    </h1>\n    ";
	;
	}
	else {
	output += "\n    <h1>\n        ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "title"), env.opts.autoescape);
	output += "\n    </h1>\n    ";
	;
	}
	output += "\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	b_title: b_title,
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/tiles/grid-tile-groups.html"] , dependencies)

/***/ }),
/* 33 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["tiles/grid-tile-default"] = __webpack_require__( 30 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/tiles/grid-tile-projects.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("tiles/grid-tile-default", true, "cosinnus/templates/cosinnus/universal/tiles/grid-tile-projects.html", false, function(t_2,_parentTemplate) {
	if(t_2) { cb(t_2); return; }
	parentTemplate = _parentTemplate
	for(var t_1 in parentTemplate.blocks) {
	context.addBlock(t_1, parentTemplate.blocks[t_1]);
	}
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("title"))(env, context, frame, runtime, function(t_4,t_3) {
	if(t_4) { cb(t_4); return; }
	output += t_3;
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_title(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    ";
	if(runtime.contextOrFrameLookup(context, frame, "is_open_for_cooperation")) {
	output += "\n    <h1 class=\"with-icon\">\n        <span>";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "title"), env.opts.autoescape);
	output += "</span>\n        <i class=\"fa fa-puzzle-piece apply-color-projects\"></i>\n    </h1>\n    ";
	;
	}
	else {
	output += "\n    <h1>\n        ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "title"), env.opts.autoescape);
	output += "\n    </h1>\n    ";
	;
	}
	output += "\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	b_title: b_title,
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/tiles/grid-tile-projects.html"] , dependencies)

/***/ }),
/* 34 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["tiles/grid-tile-base"] = __webpack_require__( 31 );
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/tiles/grid-tile-cloudfile.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("tiles/grid-tile-base", true, "cosinnus/templates/cosinnus/universal/tiles/grid-tile-cloudfile.html", false, function(t_2,_parentTemplate) {
	if(t_2) { cb(t_2); return; }
	parentTemplate = _parentTemplate
	for(var t_1 in parentTemplate.blocks) {
	context.addBlock(t_1, parentTemplate.blocks[t_1]);
	}
	output += "\n";
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/tiles/grid-tile-cloudfile.html", false, function(t_4,t_3) {
	if(t_4) { cb(t_4); return; }
	t_3.getExported(function(t_5,t_3) {
	if(t_5) { cb(t_5); return; }
	context.setVariable("macros", t_3);
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("description_area"))(env, context, frame, runtime, function(t_7,t_6) {
	if(t_7) { cb(t_7); return; }
	output += t_6;
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("icon_area"))(env, context, frame, runtime, function(t_9,t_8) {
	if(t_9) { cb(t_9); return; }
	output += t_8;
	output += "\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})})})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_description_area(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    <h1>\n    ";
	output += runtime.suppressValue(env.getFilter("safe").call(context, runtime.contextOrFrameLookup(context, frame, "title")), env.opts.autoescape);
	output += "\n    </h1>\n    <div class=\"tile-section tile-description\">\n        ";
	if(runtime.contextOrFrameLookup(context, frame, "excerpt")) {
	output += "\n            ";
	output += runtime.suppressValue(env.getFilter("safe").call(context, runtime.contextOrFrameLookup(context, frame, "excerpt")), env.opts.autoescape);
	output += "\n        ";
	;
	}
	output += "\n    </div>\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_icon_area(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    <i class=\"fa fa-cloud\"></i>\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	b_description_area: b_description_area,
	b_icon_area: b_icon_area,
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/tiles/grid-tile-cloudfile.html"] , dependencies)

/***/ }),
/* 35 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["tiles/grid-tile-default"] = __webpack_require__( 30 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/tiles/grid-tile-organizations.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("tiles/grid-tile-default", true, "cosinnus/templates/cosinnus/universal/tiles/grid-tile-organizations.html", false, function(t_2,_parentTemplate) {
	if(t_2) { cb(t_2); return; }
	parentTemplate = _parentTemplate
	for(var t_1 in parentTemplate.blocks) {
	context.addBlock(t_1, parentTemplate.blocks[t_1]);
	}
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("title"))(env, context, frame, runtime, function(t_4,t_3) {
	if(t_4) { cb(t_4); return; }
	output += t_3;
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_title(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    ";
	if(runtime.contextOrFrameLookup(context, frame, "is_open_for_cooperation")) {
	output += "\n    <h1 class=\"with-icon\">\n        <span>";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "title"), env.opts.autoescape);
	output += "</span>\n        <i class=\"fa fa-puzzle-piece apply-color-organizations\"></i>\n    </h1>\n    ";
	;
	}
	else {
	output += "\n    <h1>\n        ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "title"), env.opts.autoescape);
	output += "\n    </h1>\n    ";
	;
	}
	output += "\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	b_title: b_title,
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/tiles/grid-tile-organizations.html"] , dependencies)

/***/ }),
/* 36 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/tiles/tile-list.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	output += runtime.suppressValue(env.getExtension("passThrough")["run"](context,runtime.contextOrFrameLookup(context, frame, "i18n")), true && env.opts.autoescape);
	output += "\n";
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/tiles/tile-list.html", false, function(t_2,t_1) {
	if(t_2) { cb(t_2); return; }
	t_1.getExported(function(t_3,t_1) {
	if(t_3) { cb(t_3); return; }
	context.setVariable("macros", t_1);
	output += "\n\n<div id=\"tile-list\" class=\"tile-list ";
	if(runtime.contextOrFrameLookup(context, frame, "fullscreen")) {
	output += " tile-list-fullscreen ";
	;
	}
	output += " ";
	if(runtime.contextOrFrameLookup(context, frame, "splitscreen")) {
	output += " tile-list-splitscreen ";
	;
	}
	else {
	output += " tile-list-tile-fullscreen ";
	;
	}
	output += " mobile-view mobile-view-list-visible-flex mobile-view-search-visible-flex\">\n    <div class=\"overlay\"></div>\n    ";
	if(!runtime.contextOrFrameLookup(context, frame, "splitscreen")) {
	output += "\n        <div class=\"tile-list-header\">\n            <span class=\"pull-right\">\n\t            ";
	frame = frame.push();
	var t_6 = ["projects","groups","conferences","ideas","organizations"];
	if(t_6) {var t_5 = t_6.length;
	for(var t_4=0; t_4 < t_6.length; t_4++) {
	var t_7 = t_6[t_4];
	frame.set("type", t_7);
	frame.set("loop.index", t_4 + 1);
	frame.set("loop.index0", t_4);
	frame.set("loop.revindex", t_5 - t_4);
	frame.set("loop.revindex0", t_5 - t_4 - 1);
	frame.set("loop.first", t_4 === 0);
	frame.set("loop.last", t_4 === t_5 - 1);
	frame.set("loop.length", t_5);
	output += "\n\t                ";
	if(runtime.inOperator(t_7,runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"availableFilterList"))) {
	output += "\n\t                    ";
	if(!runtime.inOperator(t_7,["projects","groups"]) || runtime.contextOrFrameLookup(context, frame, "COSINNUS_SHOW_PROJECT_AND_GROUP_CREATE_BUTTONS")) {
	output += "\n\t                        ";
	if(runtime.contextOrFrameLookup(context, frame, "COSINNUS_USER_CAN_CREATE_CONFERENCE") || t_7 != "conferences") {
	output += "\n\t\t\t\t\t            <a href=\"";
	if(!runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user")) {
	output += "/signup/?acc_req_msg=1&next=";
	;
	}
	output += "/";
	output += runtime.suppressValue(t_7, env.opts.autoescape);
	output += "/add/\" class=\"rounded-button button-color-";
	output += runtime.suppressValue(t_7, env.opts.autoescape);
	output += "-inverted\">\n\t\t\t\t\t\t            <span class=\"rounded-button-inner\">\n\t\t\t\t\t\t                ";
	output += runtime.suppressValue((lineno = 14, colno = 39, runtime.callWrap(runtime.memberLookup((t_1),"typeLabel"), "macros[\"typeLabel\"]", context, [t_7,runtime.makeKeywordArgs({"useStyles": 0,"create": true,"COSINNUS_TRANS": runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")})])), env.opts.autoescape);
	output += "\n\t\t\t\t\t\t            </span>\n\t\t\t\t\t\t        </a>\n\t\t\t\t\t        ";
	;
	}
	output += "\n\t\t\t\t\t    ";
	;
	}
	output += "\n\t                ";
	;
	}
	output += "\n\t            ";
	;
	}
	}
	frame = frame.pop();
	output += "\n            </span>\n            \n\t        <h1 class=\"no-select\">\n                ";
	frame = frame.push();
	var t_10 = runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"availableFilterList");
	if(t_10) {var t_9 = t_10.length;
	for(var t_8=0; t_8 < t_10.length; t_8++) {
	var t_11 = t_10[t_8];
	frame.set("filter_type", t_11);
	frame.set("loop.index", t_8 + 1);
	frame.set("loop.index0", t_8);
	frame.set("loop.revindex", t_9 - t_8);
	frame.set("loop.revindex0", t_9 - t_8 - 1);
	frame.set("loop.first", t_8 === 0);
	frame.set("loop.last", t_8 === t_9 - 1);
	frame.set("loop.length", t_9);
	output += "\n                    ";
	output += runtime.suppressValue((lineno = 25, colno = 37, runtime.callWrap(runtime.memberLookup((t_1),"typeLabel"), "macros[\"typeLabel\"]", context, [t_11,runtime.makeKeywordArgs({"mine": runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"showMine"),"all": true,"COSINNUS_TRANS": runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")})])), env.opts.autoescape);
	output += "\n                ";
	;
	}
	}
	frame = frame.pop();
	output += "\n            </h1>\n        </div>\n    ";
	;
	}
	output += "\n    <div class=\"controls ";
	if(runtime.memberLookup((runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"state")),"filterPanelVisible")) {
	output += "open";
	;
	}
	output += "\"></div>\n\n    ";
	if(!runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"matching") || runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"matching") != "true") {
	output += "\n    <div class=\"tile-contents mobile-view mobile-view-list-visible-block\">\n        <div id=\"tile-container-proto\" class=\"grid\" style=\"display: none;\">\n            <!-- width of .grid-sizer used for columnWidth -->\n            <div class=\"grid-sizer\"></div>\n        </div>\n    </div>\n    <div class=\"pagination-controls\"></div>\n    ";
	;
	}
	output += "\n</div>";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/tiles/tile-list.html"] , dependencies)

/***/ }),
/* 37 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var BaseView = __webpack_require__(4);
	var Result = __webpack_require__(25);
	var util = __webpack_require__(5);
	
	var templates = {
	    'projects': __webpack_require__(38),
	    'groups': __webpack_require__(41),
	    'conferences': __webpack_require__(42),
	    'people': __webpack_require__(43),
	    'events': __webpack_require__(44),
	    'ideas': __webpack_require__(45),
	    'organizations': __webpack_require__(46),
	    'error-403': __webpack_require__(47),
	    'error': __webpack_require__(48),
	};
	
	module.exports = BaseView.extend({
	    
	    // reference back to the main App
	    App: null,
	    
	    model: Result,
	
	    template: null,
	    
	    // The DOM events specific to an item.
	    events: {
	        'click .result-link': 'onResultLinkClicked',
	        'click .tile-close-button': 'onDeselectClicked',
	        'click .topic-filter-link': 'onTopicLinkClicked',
	        'click .text-topic-filter-link': 'onTextTopicLinkClicked',
	        'click .managed-tag-filter-link': 'onManagedTagLinkClicked',
	        'click .button-like': 'onLikeButtonClicked',
	        'click .button-follow': 'onFollowButtonClicked',
	        'click .button-star': 'onStarButtonClicked',
	        'click .button-report-object': 'onReportButtonClicked',
	    },
	    
	    initialize: function (options, app) {
	        var self = this;
	        BaseView.prototype.initialize.call(self, options);
	        self.App = app;
	        
	        Backbone.mediator.subscribe('result:detail-opened', self.onDetailOpened, self);
	        Backbone.mediator.subscribe('result:detail-closed', self.onDetailClosed, self);
	    },
	
	    /** Extend the template data by the controlView's options and state */
	    getTemplateData: function () {
	        var self = this;
	        var data = BaseView.prototype.getTemplateData.call(self);
	        data['controlView'] = _.extend(
	            {},
	            self.App.controlView.options,
	            self.App.controlView.state
	        );
	        data['starLabel'] = COSINNUS_STARRED_STAR_LABEL
	        data['starringLabel'] = COSINNUS_STARRED_STARRING_LABEL
	        return data;
	    },
	
	    /** Adjust this view's template based on the result type it displays (and other states) */
	    fitTemplate: function () {
	        var self = this;
	        if (self.model.get('type') == 'people' || self.model.get('type') == 'organizations') {
	            self.state.isSmall = true;
	        } 
	        self.state.isYou = self.model.get('type') == 'people' && cosinnus_active_user && self.model.get('slug') == cosinnus_active_user.username;
	    },
	    
	    // a new result is being selected
	    onDetailOpened: function (result) {
	        var self = this;
	        this.model = result;
	        if (result.get('type') in templates) {
	            this.template = templates[result.get('type')];
	        } else {
	            this.template = templates['error'];
	        }
	
	        this.model.on({
	        	'change:liked': self.thisContext(self.render),
	            'change:followed': self.thisContext(self.render),
	            'change:starred': self.thisContext(self.render),
	        });
	        this.fitTemplate();
	        this.render();
	        this.App.controlView.triggerMobileDetailView();
	        Backbone.mediator.publish('tile-detail:opened');
	    },
	    
	    // a result is being unselected
	    onDetailClosed: function () {
	        this.model = null;
	        this.render();
	        this.App.controlView.untriggerMobileDetailView();
	        this.App.controlView.addCurrentHistoryState();
	        Backbone.mediator.publish('tile-detail:closed');
	    },
	    
	    afterRender: function () {
	    	// render moment dates
	    	$.cosinnus.renderMomentDataDate();
	        $.cosinnus.renderTimezoneAwareDates();
	    },
	    
	    /** Called when a topic link is clicked to filter for that topic only */
	    onTopicLinkClicked: function(event) {
	        // make sure to close
	        this.App.controlView.displayDetailResult(null);
	        this.App.controlView.onTopicLinkClicked(event);
	    },
	
	    /** Called when a text topic link is clicked to filter for that topic only */
	    onTextTopicLinkClicked: function(event) {
	        // make sure to close
	        this.App.controlView.displayDetailResult(null);
	        this.App.controlView.onTextTopicLinkClicked(event);
	    },
	    
	    /** Called when a managed tag link is clicked to filter for that topic only */
	    onManagedTagLinkClicked: function(event) {
	        // make sure to close
	        this.App.controlView.displayDetailResult(null);
	        this.App.controlView.onManagedTagLinkClicked(event);
	    },
	    
	    /**
	     * Called when a tile detail close button is clicked.
	     * We only change the Result model's .selected property and
	     * don't do any rendering here (this is mediated through signals from the control view).
	     */
	    onDeselectClicked: function () {
	        util.log('tile-view.js: got a deselect click event!');
	        // this voluntary action adds a history state!
	        this.App.controlView.displayDetailResult(null, true);
	        if (App.displayOptions.routeNavigation) {
	            util.log('tile-detail-view.js: +++++++++++++++++ since we are fullscreen, publishing detail-close router URL update!')
	            App.controlView.addCurrentHistoryState();
	        } 
	    },
	    
	
	    /**
	     * Called when a link is clicked that leads to opening a detail view.
	     * We only change the Result model's .selected property and
	     * don't do any rendering here.
	     */
	    onResultLinkClicked: function (event) {
	        this.App.controlView.onResultLinkClicked(event);
	    },
	    
	    onLikeButtonClicked: function (event) {
	    	this.App.controlView.triggerResultLikeOrUnlike(this.model);
	    },
	    
	    onFollowButtonClicked: function (event) {
	    	this.App.controlView.triggerResultFollowOrUnfollow(this.model);
	    },
	    onStarButtonClicked: function (event) {
	    	this.App.controlView.triggerResultStarOrUnstar(this.model);
	    },
	    
	    /** report the currently open detail view object */
	    onReportButtonClicked: function (event) {
	    	$.cosinnus.Feedback.cosinnus_report_object(this.model.get("report_model"), this.model.get("report_id"), this.model.get("title"));
	    }
	    
	});


/***/ }),
/* 38 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["tiles/tile-detail-base-group"] = __webpack_require__( 39 );
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/tiles/tile-detail-projects.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("tiles/tile-detail-base-group", true, "cosinnus/templates/cosinnus/universal/tiles/tile-detail-projects.html", false, function(t_2,_parentTemplate) {
	if(t_2) { cb(t_2); return; }
	parentTemplate = _parentTemplate
	for(var t_1 in parentTemplate.blocks) {
	context.addBlock(t_1, parentTemplate.blocks[t_1]);
	}
	output += "\n";
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/tiles/tile-detail-projects.html", false, function(t_4,t_3) {
	if(t_4) { cb(t_4); return; }
	t_3.getExported(function(t_5,t_3) {
	if(t_5) { cb(t_5); return; }
	context.setVariable("macros", t_3);
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("additional_top_line"))(env, context, frame, runtime, function(t_7,t_6) {
	if(t_7) { cb(t_7); return; }
	output += t_6;
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("action_buttons"))(env, context, frame, runtime, function(t_9,t_8) {
	if(t_9) { cb(t_9); return; }
	output += t_8;
	output += "\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})})})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_additional_top_line(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n";
	output += runtime.suppressValue(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "block")),"super"), env.opts.autoescape);
	output += "\n";
	if(runtime.contextOrFrameLookup(context, frame, "is_open_for_cooperation")) {
	output += "\n<div class=\"alert apply-bg-color-projects\">\n    <i class=\"fa fa-puzzle-piece\"></i>\n    ";
	output += "\n    <p>";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"This project is open for further partner organizations."), true && env.opts.autoescape);
	output += "</p>\n</div>\n";
	;
	}
	output += "\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_action_buttons(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	context.getSuper(env, "action_buttons", b_action_buttons, frame, runtime, function(t_10,hole_1) {
	if(t_10) { cb(t_10); return; }
	hole_1 = runtime.markSafe(hole_1);
	output += "\n    <div class=\"tile-section tile-section-button-list\">\n        ";
	output += runtime.suppressValue(hole_1, env.opts.autoescape);
	output += "\n        \n        ";
	if(runtime.contextOrFrameLookup(context, frame, "is_member")) {
	output += "\n            <a class=\"rounded-button button-action disabled\">\n                <span class=\"rounded-button-inner\">\n                    <i clasS=\"fa fa-check\"></i>\n                    ";
	output += "\n                    ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"You are a Member"), true && env.opts.autoescape);
	output += "\n                </span>\n            </a>\n        ";
	;
	}
	else {
	output += "\n           <a href=\"";
	if(runtime.contextOrFrameLookup(context, frame, "action_url_1")) {
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "action_url_1"), env.opts.autoescape);
	;
	}
	else {
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "url"), env.opts.autoescape);
	;
	}
	output += "\" target=\"_blank\" class=\"rounded-button button-action\">\n                <span class=\"rounded-button-inner\">\n                    ";
	if(runtime.contextOrFrameLookup(context, frame, "is_invited")) {
	output += "\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"You are invited!"), true && env.opts.autoescape);
	output += "\n                    ";
	;
	}
	else {
	if(runtime.contextOrFrameLookup(context, frame, "is_pending")) {
	output += "\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Membership request pending..."), true && env.opts.autoescape);
	output += "\n                    ";
	;
	}
	else {
	output += "\n\t                    ";
	output += "\n\t                    ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Join Project"), true && env.opts.autoescape);
	output += "\n                    ";
	;
	}
	;
	}
	output += "\n                </span>\n            </a>\n        ";
	;
	}
	output += "\n        ";
	if(runtime.contextOrFrameLookup(context, frame, "action_url_2")) {
	output += "\n            <a href=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "action_url_2"), env.opts.autoescape);
	output += "\" target=\"_blank\" class=\"rounded-button button-action\">\n                <span class=\"rounded-button-inner\">\n                    ";
	output += "\n                    ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Contact Project Admins"), true && env.opts.autoescape);
	output += "\n                </span>\n            </a>\n        ";
	;
	}
	output += "\n    </div>\n    \n    <div class=\"no-input\">\n        <div class=\"now-following-message message-success extra-space-top\" style=\"display: none;\">\n            <i class=\"fas fa-bell\"></i>\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"You will now receive notifications for content posted in this project."), true && env.opts.autoescape);
	output += "\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"If you do not want notifications, click the unfollow button!"), true && env.opts.autoescape);
	output += "\n        </div>\n         \n        <div class=\"like-button-error message-error extra-space-top\" style=\"display: none;\">\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Could not save your like setting because of an error."), true && env.opts.autoescape);
	output += "\n        </div>\n        <div class=\"follow-button-error message-error extra-space-top\" style=\"display: none;\">\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Could not save your follow setting because of an error."), true && env.opts.autoescape);
	output += "\n        </div>\n    </div>\n";
	cb(null, output);
	});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	b_additional_top_line: b_additional_top_line,
	b_action_buttons: b_action_buttons,
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/tiles/tile-detail-projects.html"] , dependencies)

/***/ }),
/* 39 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["tiles/tile-detail-base"] = __webpack_require__( 40 );
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/tiles/tile-detail-base-group.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("tiles/tile-detail-base", true, "cosinnus/templates/cosinnus/universal/tiles/tile-detail-base-group.html", false, function(t_2,_parentTemplate) {
	if(t_2) { cb(t_2); return; }
	parentTemplate = _parentTemplate
	for(var t_1 in parentTemplate.blocks) {
	context.addBlock(t_1, parentTemplate.blocks[t_1]);
	}
	output += "\n";
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/tiles/tile-detail-base-group.html", false, function(t_4,t_3) {
	if(t_4) { cb(t_4); return; }
	t_3.getExported(function(t_5,t_3) {
	if(t_5) { cb(t_5); return; }
	context.setVariable("macros", t_3);
	output += "\n\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("related_content"))(env, context, frame, runtime, function(t_7,t_6) {
	if(t_7) { cb(t_7); return; }
	output += t_6;
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("action_buttons"))(env, context, frame, runtime, function(t_9,t_8) {
	if(t_9) { cb(t_9); return; }
	output += t_8;
	output += "\n\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("contact"))(env, context, frame, runtime, function(t_11,t_10) {
	if(t_11) { cb(t_11); return; }
	output += t_10;
	output += "\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})})})})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_related_content(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    \n    ";
	context.getBlock("group_events")(env, context, frame, runtime, function(t_13,t_12) {
	if(t_13) { cb(t_13); return; }
	output += t_12;
	output += "\n\n    ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "organizations")) > 0) {
	output += "\n        <div class=\"tile-section tile-section-divided\">\n            <div class=\"subheading\">\n                <i class=\"fa fa-building\"></i>\n                ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "organizations")) > 1) {
	output += "\n                \t";
	output += "\n\t                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Organizations"), true && env.opts.autoescape);
	output += "\n                ";
	;
	}
	else {
	output += "\n\t                ";
	output += "\n\t                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Organization"), true && env.opts.autoescape);
	output += "\n\t            ";
	;
	}
	output += "\n            </div>\n        </div>\n        <div class=\"tile-section\">\n            <div class=\"row\">\n                ";
	frame = frame.push();
	var t_16 = runtime.contextOrFrameLookup(context, frame, "organizations");
	if(t_16) {var t_15 = t_16.length;
	for(var t_14=0; t_14 < t_16.length; t_14++) {
	var t_17 = t_16[t_14];
	frame.set("organization", t_17);
	frame.set("loop.index", t_14 + 1);
	frame.set("loop.index0", t_14);
	frame.set("loop.revindex", t_15 - t_14);
	frame.set("loop.revindex0", t_15 - t_14 - 1);
	frame.set("loop.first", t_14 === 0);
	frame.set("loop.last", t_14 === t_15 - 1);
	frame.set("loop.length", t_15);
	output += "\n                    <div class=\"col-sm-6\">\n                        ";
	output += runtime.suppressValue((lineno = 40, colno = 40, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"itemCard"), "macros[\"itemCard\"]", context, [runtime.memberLookup((t_17),"portal"),runtime.memberLookup((t_17),"slug"),runtime.memberLookup((t_17),"title"),runtime.memberLookup((t_17),"type"),runtime.memberLookup((t_17),"iconImageUrl"),runtime.memberLookup((t_17),"location"),"fa-map-marker"])), env.opts.autoescape);
	output += "\n                    </div>\n                ";
	;
	}
	}
	frame = frame.pop();
	output += "\n            </div>\n        </div>\n    ";
	;
	}
	output += "\n    \n";
	cb(null, output);
	});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_group_events(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n\t    ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "events")) > 0) {
	output += "\n\t        <div class=\"tile-section tile-section-divided\">\n\t            <div class=\"subheading\">\n\t                <i class=\"fa fa-calendar\"></i>\n\t                ";
	output += "\n\t                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Events"), true && env.opts.autoescape);
	output += " (";
	output += runtime.suppressValue(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "events")), env.opts.autoescape);
	output += ")\n\t            </div>\n\t        </div>\n\t        <div class=\"tile-section\">\n\t            ";
	frame = frame.push();
	var t_20 = runtime.contextOrFrameLookup(context, frame, "events");
	if(t_20) {var t_19 = t_20.length;
	for(var t_18=0; t_18 < t_20.length; t_18++) {
	var t_21 = t_20[t_18];
	frame.set("event", t_21);
	frame.set("loop.index", t_18 + 1);
	frame.set("loop.index0", t_18);
	frame.set("loop.revindex", t_19 - t_18);
	frame.set("loop.revindex0", t_19 - t_18 - 1);
	frame.set("loop.first", t_18 === 0);
	frame.set("loop.last", t_18 === t_19 - 1);
	frame.set("loop.length", t_19);
	output += "\n\t                ";
	output += runtime.suppressValue((lineno = 17, colno = 33, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"itemCard"), "macros[\"itemCard\"]", context, [runtime.memberLookup((t_21),"portal"),runtime.memberLookup((t_21),"slug"),runtime.memberLookup((t_21),"title"),runtime.memberLookup((t_21),"type"),runtime.contextOrFrameLookup(context, frame, "null"),env.getFilter("safe").call(context, runtime.memberLookup((t_21),"dataSlot1")),"fa-clock-o",runtime.memberLookup((t_21),"address"),"fa-map-marker",runtime.makeKeywordArgs({"cosinnus_active_user": runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user"),"group_slug": runtime.contextOrFrameLookup(context, frame, "slug")})])), env.opts.autoescape);
	output += "\n\t            ";
	;
	}
	}
	frame = frame.pop();
	output += "\n\t        </div>\n\t    ";
	;
	}
	output += "\n    ";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_action_buttons(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    ";
	if(runtime.memberLookup((runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"portalInfo")),"current") == runtime.contextOrFrameLookup(context, frame, "portal")) {
	output += "\n        <a class=\"rounded-button button-action\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user")) {
	output += "button-follow\" ";
	;
	}
	else {
	output += "\" href=\"/signup/?acc_req_msg=1&next=/map/\" target=\"_blank\"";
	;
	}
	output += ">\n            <span class=\"rounded-button-inner\">\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "followed")) {
	output += "\n                    <i clasS=\"fas fa-bell\"></i>\n                    ";
	output += "\n                    ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Following"), true && env.opts.autoescape);
	output += "\n                ";
	;
	}
	else {
	output += "\n                    <i clasS=\"far fa-bell\"></i>\n                    ";
	output += "\n                    ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Follow"), true && env.opts.autoescape);
	output += "\n                ";
	;
	}
	output += "\n            </span>\n        </a>\n\n        <a class=\"rounded-button button-action ";
	if(runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user")) {
	output += " button-star ";
	;
	}
	else {
	output += "\" href=\"/signup/?acc_req_msg=1&next=/map/\" target=\"_blank\"";
	;
	}
	output += "\">\n            <span class=\"rounded-button-inner\">\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "starred")) {
	output += "\n                    <i class=\"fas fa-star\"></i>\n                    ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "starringLabel"), env.opts.autoescape);
	output += "\n                ";
	;
	}
	else {
	output += "\n                    <i class=\"far fa-star\"></i>\n                    ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "starLabel"), env.opts.autoescape);
	output += "\n                ";
	;
	}
	output += "\n            </span>\n        </a>\n    ";
	;
	}
	output += "\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_contact(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n\n    <div class=\"tile-section tile-section-divided\">\n        <div class=\"row\">\n            <div class=\"col-xs-6\">\n                <div class=\"subheading\">\n                    ";
	output += "\n                    ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Contact"), true && env.opts.autoescape);
	output += "\n                </div>\n                ";
	if(!runtime.contextOrFrameLookup(context, frame, "youtube_url") && !runtime.contextOrFrameLookup(context, frame, "twitter_username") && !runtime.contextOrFrameLookup(context, frame, "flickr_url") && !runtime.contextOrFrameLookup(context, frame, "website_url") && !runtime.contextOrFrameLookup(context, frame, "contact")) {
	output += "\n                    <p class=\"pale-color\">\n                        <i>\n                            ";
	output += "\n                            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"No info."), true && env.opts.autoescape);
	output += "\n                        </i>\n                    </p>\n                ";
	;
	}
	else {
	output += "\n                    ";
	if(runtime.contextOrFrameLookup(context, frame, "contact")) {
	output += "\n                        <div class=\"tile-section\">\n                            ";
	output += runtime.suppressValue(env.getFilter("safe").call(context, runtime.contextOrFrameLookup(context, frame, "contact")), env.opts.autoescape);
	output += "\n                        </div>\n                    ";
	;
	}
	output += "\n                    ";
	if(runtime.contextOrFrameLookup(context, frame, "website_url")) {
	output += "\n                        <div class=\"tile-section tile-section-compact\">\n                            <a href=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "website_url"), env.opts.autoescape);
	output += "\" target=\"_blank\" class=\"compact-link\">\n                                <i class=\"fa fa-globe\"></i>";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "website_url"), env.opts.autoescape);
	output += "\n                            </a>\n                        </div>\n                    ";
	;
	}
	output += "\n                    \n                    ";
	if(runtime.contextOrFrameLookup(context, frame, "youtube_url") || runtime.contextOrFrameLookup(context, frame, "twitter_username") || runtime.contextOrFrameLookup(context, frame, "flickr_url")) {
	output += "\n                        <div class=\"tile-section tile-section-compact\">\n                        ";
	if(runtime.contextOrFrameLookup(context, frame, "youtube_url")) {
	output += "\n                            <div class=\"tile-section-header\">\n                                <a href=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "website_url"), env.opts.autoescape);
	output += "\" target=\"_blank\" class=\"compact-link\">\n                                    <i class=\"fa fa-youtube\"></i>Youtube\n                                </a>\n                            </div>\n                        ";
	;
	}
	output += "\n                        ";
	if(runtime.contextOrFrameLookup(context, frame, "twitter_username")) {
	output += "\n                            <div class=\"tile-section-header\">\n                                <a href=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "website_url"), env.opts.autoescape);
	output += "\" target=\"_blank\" class=\"compact-link\">\n                                    <i class=\"fa fa-twitter\"></i>Twitter\n                                </a>\n                            </div>\n                        ";
	;
	}
	output += "\n                        ";
	if(runtime.contextOrFrameLookup(context, frame, "flickr_url")) {
	output += "\n                            <div class=\"tile-section-header\">\n                                <a href=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "flickr_url"), env.opts.autoescape);
	output += "\" target=\"_blank\" class=\"compact-link\">\n                                   <i class=\"fa fa-flickr\"></i>Flickr\n                                </a>\n                            </div>\n                        ";
	;
	}
	output += "\n                        </div>\n                    ";
	;
	}
	output += "\n                ";
	;
	}
	output += "\n                \n            </div>\n            <div class=\"col-xs-6\">\n                <div class=\"subheading\">\n                    ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "admins")) > 1) {
	output += " \n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Administrator"), true && env.opts.autoescape);
	output += "\n                    ";
	;
	}
	else {
	output += "\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Administrators"), true && env.opts.autoescape);
	output += "\n                    ";
	;
	}
	output += "\n                </div>\n                <div class=\"tile-section\">\n                    ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "admins")) > 0) {
	output += "\n                        ";
	frame = frame.push();
	var t_24 = runtime.contextOrFrameLookup(context, frame, "admins");
	if(t_24) {var t_23 = t_24.length;
	for(var t_22=0; t_22 < t_24.length; t_22++) {
	var t_25 = t_24[t_22];
	frame.set("admin", t_25);
	frame.set("loop.index", t_22 + 1);
	frame.set("loop.index0", t_22);
	frame.set("loop.revindex", t_23 - t_22);
	frame.set("loop.revindex0", t_23 - t_22 - 1);
	frame.set("loop.first", t_22 === 0);
	frame.set("loop.last", t_22 === t_23 - 1);
	frame.set("loop.length", t_23);
	output += "\n                            ";
	output += runtime.suppressValue((lineno = 152, colno = 44, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"itemCard"), "macros[\"itemCard\"]", context, [runtime.memberLookup((t_25),"portal"),runtime.memberLookup((t_25),"slug"),runtime.memberLookup((t_25),"title"),runtime.memberLookup((t_25),"type"),runtime.memberLookup((t_25),"iconImageUrl"),runtime.memberLookup((t_25),"address"),"fa-map-marker",runtime.makeKeywordArgs({"cosinnus_active_user": runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user")})])), env.opts.autoescape);
	output += "\n                        ";
	;
	}
	}
	frame = frame.pop();
	output += "\n                    ";
	;
	}
	else {
	output += "\n                        ";
	output += "\n                        </i>";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Administrators unknown"), true && env.opts.autoescape);
	output += "</i>\n                    ";
	;
	}
	output += "\n                </div>\n            </div>\n        </div>\n    \n    </div>\n    \n    \n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	b_related_content: b_related_content,
	b_group_events: b_group_events,
	b_action_buttons: b_action_buttons,
	b_contact: b_contact,
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/tiles/tile-detail-base-group.html"] , dependencies)

/***/ }),
/* 40 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/tiles/tile-detail-base.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/tiles/tile-detail-base.html", false, function(t_2,t_1) {
	if(t_2) { cb(t_2); return; }
	t_1.getExported(function(t_3,t_1) {
	if(t_3) { cb(t_3); return; }
	context.setVariable("macros", t_1);
	output += "\n\n<div class=\"tile-detail tile-";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "type"), env.opts.autoescape);
	output += " ";
	if(runtime.contextOrFrameLookup(context, frame, "selected")) {
	output += "selected";
	;
	}
	output += " mobile-view mobile-view-detail-visible-block\" ";
	if(runtime.contextOrFrameLookup(context, frame, "noModel")) {
	output += "style=\"display: none;\"";
	;
	}
	output += ">\n    <div class=\"tile-close-button\">\n        <i class=\"fa fa-fw fa-close\"></i>\n    </div>\n    \n    ";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("content"))(env, context, frame, runtime, function(t_5,t_4) {
	if(t_5) { cb(t_5); return; }
	output += t_4;
	output += "\n    \n    ";
	output += "\n    <div class=\"spacer mobile-only\">&nbsp;</div>\n    <div class=\"spacer mobile-only\">&nbsp;</div>\n    <div class=\"spacer mobile-only\">&nbsp;</div>\n</div>\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_content(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    \n        ";
	context.getBlock("type_area")(env, context, frame, runtime, function(t_7,t_6) {
	if(t_7) { cb(t_7); return; }
	output += t_6;
	output += "\n        \n        ";
	context.getBlock("header_image")(env, context, frame, runtime, function(t_9,t_8) {
	if(t_9) { cb(t_9); return; }
	output += t_8;
	output += "\n        \n        \n        ";
	context.getBlock("title")(env, context, frame, runtime, function(t_11,t_10) {
	if(t_11) { cb(t_11); return; }
	output += t_10;
	output += "\n        \n        ";
	context.getBlock("top_line")(env, context, frame, runtime, function(t_13,t_12) {
	if(t_13) { cb(t_13); return; }
	output += t_12;
	output += "\n        \n        \n        ";
	context.getBlock("additional_top_line")(env, context, frame, runtime, function(t_15,t_14) {
	if(t_15) { cb(t_15); return; }
	output += t_14;
	output += "\n        \n        \n        ";
	context.getBlock("topic_line")(env, context, frame, runtime, function(t_17,t_16) {
	if(t_17) { cb(t_17); return; }
	output += t_16;
	output += "\n\n        ";
	context.getBlock("text_topic_line")(env, context, frame, runtime, function(t_19,t_18) {
	if(t_19) { cb(t_19); return; }
	output += t_18;
	output += "\n        \n        ";
	context.getBlock("managed_tags")(env, context, frame, runtime, function(t_21,t_20) {
	if(t_21) { cb(t_21); return; }
	output += t_20;
	output += "\n        \n        \n        ";
	context.getBlock("action_buttons")(env, context, frame, runtime, function(t_23,t_22) {
	if(t_23) { cb(t_23); return; }
	output += t_22;
	output += "\n        \n        \n        ";
	context.getBlock("description")(env, context, frame, runtime, function(t_25,t_24) {
	if(t_25) { cb(t_25); return; }
	output += t_24;
	output += "\n\n\n        ";
	context.getBlock("sdgs")(env, context, frame, runtime, function(t_27,t_26) {
	if(t_27) { cb(t_27); return; }
	output += t_26;
	output += "\n        \n        ";
	context.getBlock("related_content")(env, context, frame, runtime, function(t_29,t_28) {
	if(t_29) { cb(t_29); return; }
	output += t_28;
	output += "\n        \n        \n        ";
	context.getBlock("contact")(env, context, frame, runtime, function(t_31,t_30) {
	if(t_31) { cb(t_31); return; }
	output += t_30;
	output += "\n        \n        ";
	context.getBlock("report_object")(env, context, frame, runtime, function(t_33,t_32) {
	if(t_33) { cb(t_33); return; }
	output += t_32;
	output += "\n        \n        ";
	context.getBlock("create_modified_timestamps")(env, context, frame, runtime, function(t_35,t_34) {
	if(t_35) { cb(t_35); return; }
	output += t_34;
	output += "\n\n    ";
	cb(null, output);
	})})})})})})})})})})})})})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_type_area(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n            <div class=\"tile-section-header one-line\">\n                ";
	output += runtime.suppressValue((lineno = 11, colno = 33, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"typeLabel"), "macros[\"typeLabel\"]", context, [runtime.contextOrFrameLookup(context, frame, "type"),runtime.makeKeywordArgs({"singular": 1,"COSINNUS_TRANS": runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")})])), env.opts.autoescape);
	output += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "portal") == runtime.contextOrFrameLookup(context, frame, "COSINNUS_EXCHANGE_PORTAL_ID")) {
	output += "\n                \t";
	output += "\n\t                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"from"), true && env.opts.autoescape);
	output += ": ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "source"), env.opts.autoescape);
	output += "\n                ";
	;
	}
	output += "\n                \n                ";
	if(!runtime.contextOrFrameLookup(context, frame, "isSmall") && runtime.memberLookup((runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"portalInfo")),"current") != runtime.contextOrFrameLookup(context, frame, "portal")) {
	output += "\n                    <span class=\"inline-spacer\"></span>\n                    <a class=\"portal-inlink uncolored-link\" href=\"";
	output += runtime.suppressValue(runtime.memberLookup((runtime.memberLookup((runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"portalInfo")),runtime.contextOrFrameLookup(context, frame, "portal"))),"domain"), env.opts.autoescape);
	output += "\" target=\"_blank\" title=\"";
	output += runtime.suppressValue(runtime.memberLookup((runtime.memberLookup((runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"portalInfo")),runtime.contextOrFrameLookup(context, frame, "portal"))),"name"), env.opts.autoescape);
	output += "\">\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(runtime.memberLookup((runtime.memberLookup((runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"portalInfo")),runtime.contextOrFrameLookup(context, frame, "portal"))),"name"), env.opts.autoescape);
	output += "\n                    </a> \n                ";
	;
	}
	output += "\n            </div>\n        ";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_header_image(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n            <div class=\"tile-section header-image\">\n                <div class=\"dual-tile-image ";
	if(!runtime.contextOrFrameLookup(context, frame, "backgroundImageLargeUrl")) {
	output += "image-placeholder-background image-placeholder-background-";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "type"), env.opts.autoescape);
	;
	}
	output += "\">\n                    ";
	if(runtime.contextOrFrameLookup(context, frame, "backgroundImageLargeUrl")) {
	output += "\n                        <img class=\"tile-image tile-image-background\" src=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "backgroundImageLargeUrl"), env.opts.autoescape);
	output += "\" /> \n                    ";
	;
	}
	output += "\n                    <img class=\"floating-tile-image\" src=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "iconImageUrl"), env.opts.autoescape);
	output += "\" />\n                </div>\n            </div>\n        ";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_title(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n            <div class=\"tile-section title\">\n                <a href=\"";
	if(runtime.contextOrFrameLookup(context, frame, "type") == "people") {
	output += runtime.suppressValue(runtime.memberLookup((runtime.memberLookup((runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"portalInfo")),runtime.contextOrFrameLookup(context, frame, "portal"))),"domain"), env.opts.autoescape);
	;
	}
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "url"), env.opts.autoescape);
	output += "\" target=\"_blank\" class=\"uncolored-link\">\n                    <h1>\n                        ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "title"), env.opts.autoescape);
	output += "\n                        ";
	if(runtime.contextOrFrameLookup(context, frame, "isYou")) {
	output += "\n\t\t\t\t    \t\t<i class=\"pale-color\">\n\t\t\t\t                ";
	output += "\n\t\t\t\t                (";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"You"), true && env.opts.autoescape);
	output += ")\n\t\t\t\t\t\t\t</i>\n\t\t\t\t\t\t";
	;
	}
	output += "\n                        <i class=\"fa fa-external-link\"></i>\n                    </h1>\n                </a>\n            </div>\n        ";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_top_line(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n            ";
	if(runtime.contextOrFrameLookup(context, frame, "address") || (runtime.contextOrFrameLookup(context, frame, "group_slug") && runtime.contextOrFrameLookup(context, frame, "group_name") && runtime.contextOrFrameLookup(context, frame, "portal"))) {
	output += "\n                <div class=\"tile-section top-line one-line ";
	if(runtime.contextOrFrameLookup(context, frame, "isSmall")) {
	output += "no-space";
	;
	}
	else {
	output += "extra-space";
	;
	}
	output += "\">\n                    ";
	context.getBlock("top_line_group")(env, context, frame, runtime, function(t_37,t_36) {
	if(t_37) { cb(t_37); return; }
	output += t_36;
	output += "\n                    \n                    ";
	context.getBlock("top_line_address")(env, context, frame, runtime, function(t_39,t_38) {
	if(t_39) { cb(t_39); return; }
	output += t_38;
	output += "\n                </div>\n            ";
	})});
	}
	output += "\n        ";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_top_line_group(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n                        ";
	if(runtime.contextOrFrameLookup(context, frame, "group_slug") && runtime.contextOrFrameLookup(context, frame, "group_name") && runtime.contextOrFrameLookup(context, frame, "portal")) {
	output += "\n                            <span class=\"pale-color\">\n                                ";
	if(runtime.contextOrFrameLookup(context, frame, "type") == "projects") {
	output += "\n                                    ";
	output += runtime.suppressValue((lineno = 63, colno = 53, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"typeLabel"), "macros[\"typeLabel\"]", context, ["groups",runtime.makeKeywordArgs({"singular": 1,"useStyles": 0,"colon": 1,"showIcon": 0,"COSINNUS_TRANS": runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")})])), env.opts.autoescape);
	output += "\n                                    ";
	output += runtime.suppressValue((lineno = 64, colno = 54, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"resultLink"), "macros[\"resultLink\"]", context, [runtime.contextOrFrameLookup(context, frame, "portal"),runtime.contextOrFrameLookup(context, frame, "group_slug"),runtime.contextOrFrameLookup(context, frame, "group_name"),"groups"])), env.opts.autoescape);
	output += "\n                                ";
	;
	}
	else {
	output += "\n                                    ";
	output += runtime.suppressValue((lineno = 66, colno = 53, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"typeLabel"), "macros[\"typeLabel\"]", context, ["projects",runtime.makeKeywordArgs({"singular": 1,"useStyles": 0,"colon": 1,"showIcon": 0,"COSINNUS_TRANS": runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")})])), env.opts.autoescape);
	output += "\n                                    ";
	output += runtime.suppressValue((lineno = 67, colno = 54, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"resultLink"), "macros[\"resultLink\"]", context, [runtime.contextOrFrameLookup(context, frame, "portal"),runtime.contextOrFrameLookup(context, frame, "group_slug"),runtime.contextOrFrameLookup(context, frame, "group_name"),"projects"])), env.opts.autoescape);
	output += "\n                                ";
	;
	}
	output += "\n                            </span>\n                            <span class=\"inline-spacer\"></span>\n                        ";
	;
	}
	output += "\n                    ";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_top_line_address(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n                        ";
	if(runtime.contextOrFrameLookup(context, frame, "address") && runtime.contextOrFrameLookup(context, frame, "type") != "events") {
	output += "\n                            <span class=\"address capitalize\">\n                                <i class=\"fa fa-map-marker\"></i>\n                                ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "address"), env.opts.autoescape);
	output += "\n                            </span>\n                        ";
	;
	}
	output += "\n                    ";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_additional_top_line(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n        ";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_topic_line(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n            ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "topics")) > 0) {
	output += "\n                <div class=\"tile-section topic-line\">\n                    <span class=\"pale-color\">\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Topics"), true && env.opts.autoescape);
	output += ":\n                    </span> \n                    ";
	frame = frame.push();
	var t_42 = runtime.contextOrFrameLookup(context, frame, "topics");
	if(t_42) {var t_41 = t_42.length;
	for(var t_40=0; t_40 < t_42.length; t_40++) {
	var t_43 = t_42[t_40];
	frame.set("topic", t_43);
	frame.set("loop.index", t_40 + 1);
	frame.set("loop.index0", t_40);
	frame.set("loop.revindex", t_41 - t_40);
	frame.set("loop.revindex0", t_41 - t_40 - 1);
	frame.set("loop.first", t_40 === 0);
	frame.set("loop.last", t_40 === t_41 - 1);
	frame.set("loop.length", t_41);
	output += "\n                        <a class=\"topic-filter-link\" data-topic-id=\"";
	output += runtime.suppressValue(t_43, env.opts.autoescape);
	output += "\">";
	output += runtime.suppressValue(runtime.memberLookup((runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"allTopics")),t_43), env.opts.autoescape);
	output += "</a>";
	if(!runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "loop")),"last")) {
	output += ",";
	;
	}
	output += "\n                    ";
	;
	}
	}
	frame = frame.pop();
	output += "\n                </div>\n            ";
	;
	}
	output += "\n        ";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_text_topic_line(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n            ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "text_topics")) > 0) {
	output += "\n                <div class=\"tile-section topic-line\">\n                    <span class=\"pale-color\">\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Categories"), true && env.opts.autoescape);
	output += ":\n                    </span>\n                    ";
	frame = frame.push();
	var t_46 = runtime.contextOrFrameLookup(context, frame, "text_topics");
	if(t_46) {var t_45 = t_46.length;
	for(var t_44=0; t_44 < t_46.length; t_44++) {
	var t_47 = t_46[t_44];
	frame.set("text_topic", t_47);
	frame.set("loop.index", t_44 + 1);
	frame.set("loop.index0", t_44);
	frame.set("loop.revindex", t_45 - t_44);
	frame.set("loop.revindex0", t_45 - t_44 - 1);
	frame.set("loop.first", t_44 === 0);
	frame.set("loop.last", t_44 === t_45 - 1);
	frame.set("loop.length", t_45);
	output += "\n                        <a class=\"text-topic-filter-link\" data-text-topic-id=\"";
	output += runtime.suppressValue(t_47, env.opts.autoescape);
	output += "\">";
	output += runtime.suppressValue(runtime.memberLookup((runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"allTextTopics")),t_47), env.opts.autoescape);
	output += "</a>";
	if(!runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "loop")),"last")) {
	output += ",";
	;
	}
	output += "\n                    ";
	;
	}
	}
	frame = frame.pop();
	output += "\n                </div>\n            ";
	;
	}
	output += "\n        ";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_managed_tags(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n            ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "managed_tags")) > 0 && env.getFilter("length").call(context, runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"allManagedTags")) > 0) {
	output += "\n                <div class=\"tile-section topic-line\">\n                    <span class=\"pale-color\">\n                        ";
	output += runtime.suppressValue(runtime.memberLookup((runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"managedTagsLabels")),"MANAGED_TAG_MAP_LABEL"), env.opts.autoescape);
	output += ":\n                    </span> \n                    ";
	frame = frame.push();
	var t_50 = runtime.contextOrFrameLookup(context, frame, "managed_tags");
	if(t_50) {var t_49 = t_50.length;
	for(var t_48=0; t_48 < t_50.length; t_48++) {
	var t_51 = t_50[t_48];
	frame.set("managed_tag_id", t_51);
	frame.set("loop.index", t_48 + 1);
	frame.set("loop.index0", t_48);
	frame.set("loop.revindex", t_49 - t_48);
	frame.set("loop.revindex0", t_49 - t_48 - 1);
	frame.set("loop.first", t_48 === 0);
	frame.set("loop.last", t_48 === t_49 - 1);
	frame.set("loop.length", t_49);
	output += "\n                        ";
	var t_52;
	t_52 = runtime.contextOrFrameLookup(context, frame, "loop");
	frame.set("outer_loop", t_52, true);
	if(frame.topLevel) {
	context.setVariable("outer_loop", t_52);
	}
	if(frame.topLevel) {
	context.addExport("outer_loop", t_52);
	}
	output += "\n\t\t                ";
	frame = frame.push();
	var t_55 = runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"allManagedTags");
	if(t_55) {var t_54 = t_55.length;
	for(var t_53=0; t_53 < t_55.length; t_53++) {
	var t_56 = t_55[t_53];
	frame.set("managed_tag", t_56);
	frame.set("loop.index", t_53 + 1);
	frame.set("loop.index0", t_53);
	frame.set("loop.revindex", t_54 - t_53);
	frame.set("loop.revindex0", t_54 - t_53 - 1);
	frame.set("loop.first", t_53 === 0);
	frame.set("loop.last", t_53 === t_54 - 1);
	frame.set("loop.length", t_54);
	output += "\n\t\t                    ";
	if(t_51 == runtime.memberLookup((t_56),"id")) {
	output += "\n\t\t                        <a class=\"managed-tag-filter-link\" data-managed-tag-id=\"";
	output += runtime.suppressValue(t_51, env.opts.autoescape);
	output += "\">\n\t\t                          ";
	output += runtime.suppressValue(runtime.memberLookup((t_56),"name"), env.opts.autoescape);
	output += "</a>\n\t\t                          ";
	if(runtime.memberLookup((t_56),"url")) {
	output += "\n\t\t                            <a target=\"_blank\" href=\"";
	output += runtime.suppressValue(runtime.memberLookup((t_56),"url"), env.opts.autoescape);
	output += "\">\n\t\t\t\t                        (<i class=\"fa fa-external-link\"></i>\n\t\t\t\t                        ";
	output += "\n\t\t\t\t                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"website"), true && env.opts.autoescape);
	output += ")\n\t\t                            </a>";
	;
	}
	if(!runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "outer_loop")),"last")) {
	output += ",";
	;
	}
	output += "\n\t\t                    ";
	;
	}
	output += "\n\t\t                ";
	;
	}
	}
	frame = frame.pop();
	output += "\n\t\t            ";
	;
	}
	}
	frame = frame.pop();
	output += "\n                </div>\n            ";
	;
	}
	output += "\n        ";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_action_buttons(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n        ";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_description(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n            <div class=\"tile-section description extra-space-top\">\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "description")) {
	output += "\n                    ";
	output += runtime.suppressValue(env.getFilter("safe").call(context, runtime.contextOrFrameLookup(context, frame, "description")), env.opts.autoescape);
	output += "\n                    <!--\n                    <br/>\n                    (( TODO: make me click-expandable ))\n                    -->\n                    \n                ";
	;
	}
	else {
	output += "\n                    <p class=\"pale-color\">\n                        <i>\n                            ";
	output += "\n                            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"No description yet."), true && env.opts.autoescape);
	output += "\n                        </i>\n                    </p>\n                ";
	;
	}
	output += "\n                \n            </div>\n        ";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_sdgs(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n            ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "sdgs")) > 0 && env.getFilter("length").call(context, runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"allSDGS")) > 0) {
	output += "\n            <p>\n                <b>\n                ";
	output += "\n                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Sustainable Development Goals"), true && env.opts.autoescape);
	output += "\n                </b>\n            </p>\n            <p>\n    \n            ";
	frame = frame.push();
	var t_59 = runtime.contextOrFrameLookup(context, frame, "sdgs");
	if(t_59) {var t_58 = t_59.length;
	for(var t_57=0; t_57 < t_59.length; t_57++) {
	var t_60 = t_59[t_57];
	frame.set("sdg_id", t_60);
	frame.set("loop.index", t_57 + 1);
	frame.set("loop.index0", t_57);
	frame.set("loop.revindex", t_58 - t_57);
	frame.set("loop.revindex0", t_58 - t_57 - 1);
	frame.set("loop.first", t_57 === 0);
	frame.set("loop.last", t_57 === t_58 - 1);
	frame.set("loop.length", t_58);
	output += "\n                ";
	frame = frame.push();
	var t_63 = runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"allSDGS");
	if(t_63) {var t_62 = t_63.length;
	for(var t_61=0; t_61 < t_63.length; t_61++) {
	var t_64 = t_63[t_61];
	frame.set("sdg", t_64);
	frame.set("loop.index", t_61 + 1);
	frame.set("loop.index0", t_61);
	frame.set("loop.revindex", t_62 - t_61);
	frame.set("loop.revindex0", t_62 - t_61 - 1);
	frame.set("loop.first", t_61 === 0);
	frame.set("loop.last", t_61 === t_62 - 1);
	frame.set("loop.length", t_62);
	output += "\n                    ";
	if(t_60 == runtime.memberLookup((t_64),"id")) {
	output += "\n                        <img class=\"sdg-icon\" src=\"";
	output += runtime.suppressValue(runtime.memberLookup((t_64),"icon"), env.opts.autoescape);
	output += "\">\n                    ";
	;
	}
	output += "\n                ";
	;
	}
	}
	frame = frame.pop();
	output += "\n            ";
	;
	}
	}
	frame = frame.pop();
	output += "\n            </p>\n            ";
	;
	}
	output += "\n        ";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_related_content(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n        ";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_contact(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n        ";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_report_object(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n            ";
	if(runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user")) {
	output += "\n                <div class=\"spacer\">&nbsp;</div>\n                <div class=\"spacer\">&nbsp;</div>\n                <a class=\"pale-color button-report-object map-search-report-object\">\n                    <i class=\"fa fa-warning\"></i>\n";
	output += "\n";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Report offensive content"), true && env.opts.autoescape);
	output += "\n                </a>\n                \n            ";
	;
	}
	output += "\n        ";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_create_modified_timestamps(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n            <p class=\"map-search-created-updated-timestamps\">\n                ";
	output += "\n                <i>";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Created on: "), true && env.opts.autoescape);
	output += "</i>";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "created"), env.opts.autoescape);
	output += " <br>\n                ";
	output += "\n                <i>";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Last updated on: "), true && env.opts.autoescape);
	output += "</i>";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "last_modified"), env.opts.autoescape);
	output += "\n            </p>\n        ";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	b_content: b_content,
	b_type_area: b_type_area,
	b_header_image: b_header_image,
	b_title: b_title,
	b_top_line: b_top_line,
	b_top_line_group: b_top_line_group,
	b_top_line_address: b_top_line_address,
	b_additional_top_line: b_additional_top_line,
	b_topic_line: b_topic_line,
	b_text_topic_line: b_text_topic_line,
	b_managed_tags: b_managed_tags,
	b_action_buttons: b_action_buttons,
	b_description: b_description,
	b_sdgs: b_sdgs,
	b_related_content: b_related_content,
	b_contact: b_contact,
	b_report_object: b_report_object,
	b_create_modified_timestamps: b_create_modified_timestamps,
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/tiles/tile-detail-base.html"] , dependencies)

/***/ }),
/* 41 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["tiles/tile-detail-base-group"] = __webpack_require__( 39 );
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/tiles/tile-detail-groups.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("tiles/tile-detail-base-group", true, "cosinnus/templates/cosinnus/universal/tiles/tile-detail-groups.html", false, function(t_2,_parentTemplate) {
	if(t_2) { cb(t_2); return; }
	parentTemplate = _parentTemplate
	for(var t_1 in parentTemplate.blocks) {
	context.addBlock(t_1, parentTemplate.blocks[t_1]);
	}
	output += "\n";
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/tiles/tile-detail-groups.html", false, function(t_4,t_3) {
	if(t_4) { cb(t_4); return; }
	t_3.getExported(function(t_5,t_3) {
	if(t_5) { cb(t_5); return; }
	context.setVariable("macros", t_3);
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("additional_top_line"))(env, context, frame, runtime, function(t_7,t_6) {
	if(t_7) { cb(t_7); return; }
	output += t_6;
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("action_buttons"))(env, context, frame, runtime, function(t_9,t_8) {
	if(t_9) { cb(t_9); return; }
	output += t_8;
	output += "\n\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("related_content"))(env, context, frame, runtime, function(t_11,t_10) {
	if(t_11) { cb(t_11); return; }
	output += t_10;
	output += "\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})})})})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_additional_top_line(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n";
	output += runtime.suppressValue(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "block")),"super"), env.opts.autoescape);
	output += "\n";
	if(runtime.contextOrFrameLookup(context, frame, "is_open_for_cooperation")) {
	output += "\n<div class=\"alert apply-bg-color-projects\">\n    <i class=\"fa fa-puzzle-piece\"></i>\n    ";
	output += "\n    <p>";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"This group is open for further partner organizations."), true && env.opts.autoescape);
	output += "</p>\n</div>\n";
	;
	}
	output += "\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_action_buttons(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	context.getSuper(env, "action_buttons", b_action_buttons, frame, runtime, function(t_12,hole_3) {
	if(t_12) { cb(t_12); return; }
	hole_3 = runtime.markSafe(hole_3);
	output += "\n    <div class=\"tile-section tile-section-button-list\">\n        ";
	output += runtime.suppressValue(hole_3, env.opts.autoescape);
	output += "\n    \n        ";
	if(runtime.contextOrFrameLookup(context, frame, "is_member")) {
	output += "\n            <a class=\"rounded-button button-action disabled\">\n                <span class=\"rounded-button-inner\">\n                    <i clasS=\"fa fa-check\"></i>\n                    ";
	output += "\n                    ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"You are a Member"), true && env.opts.autoescape);
	output += "\n                </span>\n            </a>\n        ";
	;
	}
	else {
	output += "\n           <a href=\"";
	if(runtime.contextOrFrameLookup(context, frame, "action_url_1")) {
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "action_url_1"), env.opts.autoescape);
	;
	}
	else {
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "url"), env.opts.autoescape);
	;
	}
	output += "\" target=\"_blank\" class=\"rounded-button button-action\">\n                <span class=\"rounded-button-inner\">\n                    ";
	if(runtime.contextOrFrameLookup(context, frame, "is_invited")) {
	output += "\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"You are invited!"), true && env.opts.autoescape);
	output += "\n                    ";
	;
	}
	else {
	if(runtime.contextOrFrameLookup(context, frame, "is_pending")) {
	output += "\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Membership request pending..."), true && env.opts.autoescape);
	output += "\n                    ";
	;
	}
	else {
	output += "\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Join Group"), true && env.opts.autoescape);
	output += "\n                    ";
	;
	}
	;
	}
	output += "\n                </span>\n            </a>\n        ";
	;
	}
	output += "\n        ";
	if(runtime.contextOrFrameLookup(context, frame, "action_url_2")) {
	output += "\n            <a href=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "action_url_2"), env.opts.autoescape);
	output += "\" target=\"_blank\" class=\"rounded-button button-action\">\n                <span class=\"rounded-button-inner\">\n                    ";
	output += "\n                    ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Contact Group Admins"), true && env.opts.autoescape);
	output += "\n                </span>\n            </a>\n        ";
	;
	}
	output += "\n    </div>\n    \n    <div class=\"no-input\">\n        <div class=\"now-following-message message-success extra-space-top\" style=\"display: none;\">\n            <i class=\"fas fa-bell\"></i>\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"You will now receive notifications for content posted in this group."), true && env.opts.autoescape);
	output += "\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"If you do not want notifications, click the unfollow button!"), true && env.opts.autoescape);
	output += "\n        </div>\n         \n        <div class=\"like-button-error message-error extra-space-top\" style=\"display: none;\">\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Could not save your like setting because of an error."), true && env.opts.autoescape);
	output += "\n        </div>\n        <div class=\"follow-button-error message-error extra-space-top\" style=\"display: none;\">\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Could not save your follow setting because of an error."), true && env.opts.autoescape);
	output += "\n        </div>\n    </div>\n";
	cb(null, output);
	});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_related_content(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	context.getSuper(env, "related_content", b_related_content, frame, runtime, function(t_13,hole_4) {
	if(t_13) { cb(t_13); return; }
	hole_4 = runtime.markSafe(hole_4);
	output += "\n    ";
	output += runtime.suppressValue(hole_4, env.opts.autoescape);
	output += "\n\n    ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "projects")) > 0) {
	output += "\n        <div class=\"tile-section tile-section-divided\">\n            <div class=\"subheading\">\n                <i class=\"fa fa-group\"></i>\n                ";
	output += "\n                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Projects"), true && env.opts.autoescape);
	output += " (";
	output += runtime.suppressValue(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "projects")), env.opts.autoescape);
	output += ")\n            </div>\n        </div>\n        <div class=\"tile-section\">\n            <div class=\"row\">\n                ";
	frame = frame.push();
	var t_16 = runtime.contextOrFrameLookup(context, frame, "projects");
	if(t_16) {var t_15 = t_16.length;
	for(var t_14=0; t_14 < t_16.length; t_14++) {
	var t_17 = t_16[t_14];
	frame.set("project", t_17);
	frame.set("loop.index", t_14 + 1);
	frame.set("loop.index0", t_14);
	frame.set("loop.revindex", t_15 - t_14);
	frame.set("loop.revindex0", t_15 - t_14 - 1);
	frame.set("loop.first", t_14 === 0);
	frame.set("loop.last", t_14 === t_15 - 1);
	frame.set("loop.length", t_15);
	output += "\n                    <div class=\"col-sm-6\">\n                        ";
	output += runtime.suppressValue((lineno = 88, colno = 40, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"itemCard"), "macros[\"itemCard\"]", context, [runtime.memberLookup((t_17),"portal"),runtime.memberLookup((t_17),"slug"),runtime.memberLookup((t_17),"title"),runtime.memberLookup((t_17),"type"),runtime.memberLookup((t_17),"iconImageUrl"),runtime.memberLookup((t_17),"address"),"fa-map-marker",runtime.memberLookup((t_17),"dataSlot1"),"fa-group",runtime.makeKeywordArgs({"cosinnus_active_user": runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user")})])), env.opts.autoescape);
	output += "\n                    </div>\n                ";
	;
	}
	}
	frame = frame.pop();
	output += "\n            </div>\n        </div>\n    ";
	;
	}
	output += "\n    \n";
	cb(null, output);
	});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	b_additional_top_line: b_additional_top_line,
	b_action_buttons: b_action_buttons,
	b_related_content: b_related_content,
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/tiles/tile-detail-groups.html"] , dependencies)

/***/ }),
/* 42 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["tiles/tile-detail-base-group"] = __webpack_require__( 39 );
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/tiles/tile-detail-conferences.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("tiles/tile-detail-base-group", true, "cosinnus/templates/cosinnus/universal/tiles/tile-detail-conferences.html", false, function(t_2,_parentTemplate) {
	if(t_2) { cb(t_2); return; }
	parentTemplate = _parentTemplate
	for(var t_1 in parentTemplate.blocks) {
	context.addBlock(t_1, parentTemplate.blocks[t_1]);
	}
	output += "\n";
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/tiles/tile-detail-conferences.html", false, function(t_4,t_3) {
	if(t_4) { cb(t_4); return; }
	t_3.getExported(function(t_5,t_3) {
	if(t_5) { cb(t_5); return; }
	context.setVariable("macros", t_3);
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("additional_top_line"))(env, context, frame, runtime, function(t_7,t_6) {
	if(t_7) { cb(t_7); return; }
	output += t_6;
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("group_events"))(env, context, frame, runtime, function(t_9,t_8) {
	if(t_9) { cb(t_9); return; }
	output += t_8;
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("action_buttons"))(env, context, frame, runtime, function(t_11,t_10) {
	if(t_11) { cb(t_11); return; }
	output += t_10;
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("create_modified_timestamps"))(env, context, frame, runtime, function(t_13,t_12) {
	if(t_13) { cb(t_13); return; }
	output += t_12;
	output += "\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})})})})})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_additional_top_line(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    <div class=\"tile-section tile-section\">\n        <div>\n            <i class=\"fa fa-fw fa-clock-o\"></i>";
	output += runtime.suppressValue(env.getFilter("safe").call(context, runtime.contextOrFrameLookup(context, frame, "time_html")), env.opts.autoescape);
	output += "\n        </div>\n    </div>\n    <div class=\"tile-section tile-section\">\n        <div>\n            <i class=\"fa fa-user\"></i>\n\t        ";
	output += "\n\t        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Participants"), true && env.opts.autoescape);
	output += ": ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "participant_count"), env.opts.autoescape);
	output += "\n\t        ";
	if(runtime.contextOrFrameLookup(context, frame, "participants_limit_count")) {
	output += "\n\t            ";
	output += "\n                (";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"max."), true && env.opts.autoescape);
	output += " ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "participants_limit_count"), env.opts.autoescape);
	output += ") \n\t        ";
	;
	}
	output += "\n        </div>\n    </div>\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_group_events(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "events")) > 0) {
	output += "\n        <div class=\"tile-section tile-section-divided\">\n            <div class=\"subheading\">\n                <i class=\"fa fa-calendar\"></i>\n                ";
	output += "\n                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Workshops"), true && env.opts.autoescape);
	output += " (";
	output += runtime.suppressValue(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "events")), env.opts.autoescape);
	output += ")\n            </div>\n        </div>\n        <div class=\"tile-section\">\n            ";
	frame = frame.push();
	var t_16 = runtime.contextOrFrameLookup(context, frame, "events");
	if(t_16) {var t_15 = t_16.length;
	for(var t_14=0; t_14 < t_16.length; t_14++) {
	var t_17 = t_16[t_14];
	frame.set("event", t_17);
	frame.set("loop.index", t_14 + 1);
	frame.set("loop.index0", t_14);
	frame.set("loop.revindex", t_15 - t_14);
	frame.set("loop.revindex0", t_15 - t_14 - 1);
	frame.set("loop.first", t_14 === 0);
	frame.set("loop.last", t_14 === t_15 - 1);
	frame.set("loop.length", t_15);
	output += "\n                ";
	output += runtime.suppressValue((lineno = 33, colno = 32, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"itemCard"), "macros[\"itemCard\"]", context, [runtime.memberLookup((t_17),"portal"),runtime.memberLookup((t_17),"slug"),runtime.memberLookup((t_17),"title"),runtime.memberLookup((t_17),"type"),runtime.contextOrFrameLookup(context, frame, "null"),env.getFilter("safe").call(context, runtime.memberLookup((t_17),"dataSlot1")),"fa-clock-o",runtime.memberLookup((t_17),"address"),"fa-map-marker",runtime.makeKeywordArgs({"cosinnus_active_user": runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user"),"group_slug": runtime.contextOrFrameLookup(context, frame, "slug")})])), env.opts.autoescape);
	output += "\n            ";
	;
	}
	}
	frame = frame.pop();
	output += "\n        </div>\n    ";
	;
	}
	output += "\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_action_buttons(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	context.getSuper(env, "action_buttons", b_action_buttons, frame, runtime, function(t_18,hole_7) {
	if(t_18) { cb(t_18); return; }
	hole_7 = runtime.markSafe(hole_7);
	output += "\n    <div class=\"tile-section tile-section-button-list\">\n        ";
	output += runtime.suppressValue(hole_7, env.opts.autoescape);
	output += "\n        \n        ";
	if(runtime.contextOrFrameLookup(context, frame, "is_member")) {
	output += "\n            <a class=\"rounded-button button-action disabled\">\n                <span class=\"rounded-button-inner\">\n                    <i clasS=\"fa fa-check\"></i>\n                    ";
	output += "\n                    ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"You are participating"), true && env.opts.autoescape);
	output += "\n                </span>\n            </a>\n        ";
	;
	}
	else {
	output += "\n           <a href=\"";
	if(runtime.contextOrFrameLookup(context, frame, "action_url_1")) {
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "action_url_1"), env.opts.autoescape);
	;
	}
	else {
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "url"), env.opts.autoescape);
	;
	}
	output += "\" target=\"_blank\" class=\"rounded-button button-action\">\n                <span class=\"rounded-button-inner\">\n                    ";
	if(runtime.contextOrFrameLookup(context, frame, "is_invited")) {
	output += "\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"You are invited!"), true && env.opts.autoescape);
	output += "\n                    ";
	;
	}
	else {
	if(runtime.contextOrFrameLookup(context, frame, "is_pending")) {
	output += "\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Participation request pending..."), true && env.opts.autoescape);
	output += "\n                    ";
	;
	}
	else {
	output += "\n\t                    ";
	output += "\n\t                    ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Participate"), true && env.opts.autoescape);
	output += "\n                    ";
	;
	}
	;
	}
	output += "\n                </span>\n            </a>\n        ";
	;
	}
	output += "\n        ";
	if(runtime.contextOrFrameLookup(context, frame, "action_url_2")) {
	output += "\n            <a href=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "action_url_2"), env.opts.autoescape);
	output += "\" target=\"_blank\" class=\"rounded-button button-action\">\n                <span class=\"rounded-button-inner\">\n                    ";
	output += "\n                    ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Contact Conference Admins"), true && env.opts.autoescape);
	output += "\n                </span>\n            </a>\n        ";
	;
	}
	output += "\n    </div>\n    \n    <div class=\"no-input\">\n        <div class=\"now-following-message message-success extra-space-top\" style=\"display: none;\">\n            <i class=\"fas fa-bell\"></i>\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"You will now receive notifications for content posted."), true && env.opts.autoescape);
	output += "\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"If you do not want notifications, click the unfollow button!"), true && env.opts.autoescape);
	output += "\n        </div>\n         \n        <div class=\"like-button-error message-error extra-space-top\" style=\"display: none;\">\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Could not save your like setting because of an error."), true && env.opts.autoescape);
	output += "\n        </div>\n        <div class=\"follow-button-error message-error extra-space-top\" style=\"display: none;\">\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Could not save your follow setting because of an error."), true && env.opts.autoescape);
	output += "\n        </div>\n    </div>\n";
	cb(null, output);
	});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_create_modified_timestamps(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "created"), env.opts.autoescape);
	output += "\n    ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "last_modified"), env.opts.autoescape);
	output += "\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	b_additional_top_line: b_additional_top_line,
	b_group_events: b_group_events,
	b_action_buttons: b_action_buttons,
	b_create_modified_timestamps: b_create_modified_timestamps,
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/tiles/tile-detail-conferences.html"] , dependencies)

/***/ }),
/* 43 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["tiles/tile-detail-base"] = __webpack_require__( 40 );
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/tiles/tile-detail-people.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("tiles/tile-detail-base", true, "cosinnus/templates/cosinnus/universal/tiles/tile-detail-people.html", false, function(t_2,_parentTemplate) {
	if(t_2) { cb(t_2); return; }
	parentTemplate = _parentTemplate
	for(var t_1 in parentTemplate.blocks) {
	context.addBlock(t_1, parentTemplate.blocks[t_1]);
	}
	output += "\n";
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/tiles/tile-detail-people.html", false, function(t_4,t_3) {
	if(t_4) { cb(t_4); return; }
	t_3.getExported(function(t_5,t_3) {
	if(t_5) { cb(t_5); return; }
	context.setVariable("macros", t_3);
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("header_image"))(env, context, frame, runtime, function(t_7,t_6) {
	if(t_7) { cb(t_7); return; }
	output += t_6;
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("topic_line"))(env, context, frame, runtime, function(t_9,t_8) {
	if(t_9) { cb(t_9); return; }
	output += t_8;
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("top_line_address"))(env, context, frame, runtime, function(t_11,t_10) {
	if(t_11) { cb(t_11); return; }
	output += t_10;
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("action_buttons"))(env, context, frame, runtime, function(t_13,t_12) {
	if(t_13) { cb(t_13); return; }
	output += t_12;
	output += "\n\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("related_content"))(env, context, frame, runtime, function(t_15,t_14) {
	if(t_15) { cb(t_15); return; }
	output += t_14;
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("create_modified_timestamps"))(env, context, frame, runtime, function(t_17,t_16) {
	if(t_17) { cb(t_17); return; }
	output += t_16;
	output += "\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})})})})})})})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_header_image(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    <div class=\"single-tile-image\">\n        <img class=\"framed-tile-image\" src=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "iconImageUrl"), env.opts.autoescape);
	output += "\" />\n    </div>\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_topic_line(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	context.getSuper(env, "topic_line", b_topic_line, frame, runtime, function(t_18,hole_10) {
	if(t_18) { cb(t_18); return; }
	hole_10 = runtime.markSafe(hole_10);
	output += "\n\t";
	output += runtime.suppressValue(hole_10, env.opts.autoescape);
	output += "\n\t\n    ";
	if(runtime.contextOrFrameLookup(context, frame, "may_be_contacted") == true) {
	output += "\n\t\t<div class=\"top-line extra-space extra-space-top\">\n            <i class=\"fa fa-fw fa-commenting-o\"></i>\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Open to be contacted about potential collaboration opportunities"), true && env.opts.autoescape);
	output += "\n        </div>\n\t";
	;
	}
	else {
	if(runtime.contextOrFrameLookup(context, frame, "may_be_contacted") == false) {
	output += "\n\t\t<div class=\"top-line extra-space extra-space-top\">\n            <i class=\"fa fa-fw fa-ban\"></i>\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Does NOT wish to be contacted for potential collaboration!"), true && env.opts.autoescape);
	output += "\n        </div>\n\t";
	;
	}
	;
	}
	output += "\n\n";
	cb(null, output);
	});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_top_line_address(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_action_buttons(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	context.getSuper(env, "action_buttons", b_action_buttons, frame, runtime, function(t_19,hole_12) {
	if(t_19) { cb(t_19); return; }
	hole_12 = runtime.markSafe(hole_12);
	output += "\n\t";
	if(!runtime.contextOrFrameLookup(context, frame, "is_self")) {
	output += "\n\t    <div class=\"tile-section tile-section-button-list\">\n            <a class=\"rounded-button button-action button-star\">\n                <span class=\"rounded-button-inner\">\n                    ";
	if(runtime.contextOrFrameLookup(context, frame, "starred")) {
	output += "\n                        <i class=\"fas fa-star\"></i>\n                        ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "starringLabel"), env.opts.autoescape);
	output += "\n                    ";
	;
	}
	else {
	output += "\n                        <i class=\"far fa-star\"></i>\n                        ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "starLabel"), env.opts.autoescape);
	output += "\n                    ";
	;
	}
	output += "\n                </span>\n            </a>\n\t        ";
	if(runtime.contextOrFrameLookup(context, frame, "action_url_1")) {
	output += "\n\t\t        <a href=\"";
	if(runtime.contextOrFrameLookup(context, frame, "action_url_1")) {
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "action_url_1"), env.opts.autoescape);
	;
	}
	else {
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "url"), env.opts.autoescape);
	;
	}
	output += "\" target=\"_blank\" class=\"rounded-button button-action\">\n\t\t            <span class=\"rounded-button-inner\">\n\t\t                ";
	output += "\n\t\t                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Send Message"), true && env.opts.autoescape);
	output += "\n\t\t            </span>\n\t\t        </a>\n            ";
	;
	}
	output += "\n            <a href=\"";
	output += runtime.suppressValue(runtime.memberLookup((runtime.memberLookup((runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"portalInfo")),runtime.contextOrFrameLookup(context, frame, "portal"))),"domain"), env.opts.autoescape);
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "url"), env.opts.autoescape);
	output += "\" target=\"_blank\" class=\"rounded-button button-action button-star\">\n                <span class=\"rounded-button-inner\">\n                    <i class=\"fa fa-user\"></i>\n                    ";
	output += "\n\t\t            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"To Profile"), true && env.opts.autoescape);
	output += "\n                </span>\n            </a>\n\t        ";
	output += runtime.suppressValue(hole_12, env.opts.autoescape);
	output += "\n\t    </div>\n    ";
	;
	}
	output += "\n";
	cb(null, output);
	});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_related_content(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n\n    ";
	if(runtime.contextOrFrameLookup(context, frame, "extra_html")) {
	output += "\n    ";
	output += runtime.suppressValue(env.getFilter("safe").call(context, runtime.contextOrFrameLookup(context, frame, "extra_html")), env.opts.autoescape);
	output += "\n    ";
	;
	}
	output += "\n\n    ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "groups")) > 0) {
	output += "\n        <div class=\"clearfix\"></div>\n    \n        <div class=\"tile-section tile-section-divided\">\n            <div class=\"subheading\">\n                <i class=\"fa fa-sitemap\"></i>\n                ";
	output += "\n                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Groups"), true && env.opts.autoescape);
	output += " (";
	output += runtime.suppressValue(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "groups")), env.opts.autoescape);
	output += ")\n            </div>\n        </div>\n        <div class=\"tile-section\">\n            <div class=\"row\">\n                ";
	frame = frame.push();
	var t_22 = runtime.contextOrFrameLookup(context, frame, "groups");
	if(t_22) {var t_21 = t_22.length;
	for(var t_20=0; t_20 < t_22.length; t_20++) {
	var t_23 = t_22[t_20];
	frame.set("group", t_23);
	frame.set("loop.index", t_20 + 1);
	frame.set("loop.index0", t_20);
	frame.set("loop.revindex", t_21 - t_20);
	frame.set("loop.revindex0", t_21 - t_20 - 1);
	frame.set("loop.first", t_20 === 0);
	frame.set("loop.last", t_20 === t_21 - 1);
	frame.set("loop.length", t_21);
	output += "\n                    <div class=\"col-sm-6\">\n                        ";
	output += runtime.suppressValue((lineno = 85, colno = 40, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"itemCard"), "macros[\"itemCard\"]", context, [runtime.memberLookup((t_23),"portal"),runtime.memberLookup((t_23),"slug"),runtime.memberLookup((t_23),"title"),runtime.memberLookup((t_23),"type"),runtime.memberLookup((t_23),"iconImageUrl"),runtime.memberLookup((t_23),"address"),"fa-map-marker",runtime.memberLookup((t_23),"dataSlot1"),"fa-group",runtime.makeKeywordArgs({"cosinnus_active_user": runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user")})])), env.opts.autoescape);
	output += "\n                    </div>\n                ";
	;
	}
	}
	frame = frame.pop();
	output += "\n            </div>\n        </div>\n    ";
	;
	}
	output += "\n\n    ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "projects")) > 0) {
	output += "\n        <div class=\"tile-section tile-section-divided\">\n            <div class=\"subheading\">\n                <i class=\"fa fa-group\"></i>\n                ";
	output += "\n                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Projects"), true && env.opts.autoescape);
	output += " (";
	output += runtime.suppressValue(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "projects")), env.opts.autoescape);
	output += ")\n            </div>\n        </div>\n        <div class=\"tile-section\">\n            <div class=\"row\">\n                ";
	frame = frame.push();
	var t_26 = runtime.contextOrFrameLookup(context, frame, "projects");
	if(t_26) {var t_25 = t_26.length;
	for(var t_24=0; t_24 < t_26.length; t_24++) {
	var t_27 = t_26[t_24];
	frame.set("project", t_27);
	frame.set("loop.index", t_24 + 1);
	frame.set("loop.index0", t_24);
	frame.set("loop.revindex", t_25 - t_24);
	frame.set("loop.revindex0", t_25 - t_24 - 1);
	frame.set("loop.first", t_24 === 0);
	frame.set("loop.last", t_24 === t_25 - 1);
	frame.set("loop.length", t_25);
	output += "\n                    <div class=\"col-sm-6\">\n                        ";
	output += runtime.suppressValue((lineno = 104, colno = 40, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"itemCard"), "macros[\"itemCard\"]", context, [runtime.memberLookup((t_27),"portal"),runtime.memberLookup((t_27),"slug"),runtime.memberLookup((t_27),"title"),runtime.memberLookup((t_27),"type"),runtime.memberLookup((t_27),"iconImageUrl"),runtime.memberLookup((t_27),"address"),"fa-map-marker",runtime.memberLookup((t_27),"dataSlot1"),"fa-group",runtime.makeKeywordArgs({"cosinnus_active_user": runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user")})])), env.opts.autoescape);
	output += "\n                    </div>\n                ";
	;
	}
	}
	frame = frame.pop();
	output += "\n            </div>\n        </div>\n    ";
	;
	}
	output += "\n    \n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_create_modified_timestamps(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	b_header_image: b_header_image,
	b_topic_line: b_topic_line,
	b_top_line_address: b_top_line_address,
	b_action_buttons: b_action_buttons,
	b_related_content: b_related_content,
	b_create_modified_timestamps: b_create_modified_timestamps,
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/tiles/tile-detail-people.html"] , dependencies)

/***/ }),
/* 44 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["tiles/tile-detail-base"] = __webpack_require__( 40 );
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/tiles/tile-detail-events.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("tiles/tile-detail-base", true, "cosinnus/templates/cosinnus/universal/tiles/tile-detail-events.html", false, function(t_2,_parentTemplate) {
	if(t_2) { cb(t_2); return; }
	parentTemplate = _parentTemplate
	for(var t_1 in parentTemplate.blocks) {
	context.addBlock(t_1, parentTemplate.blocks[t_1]);
	}
	output += "\n";
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/tiles/tile-detail-events.html", false, function(t_4,t_3) {
	if(t_4) { cb(t_4); return; }
	t_3.getExported(function(t_5,t_3) {
	if(t_5) { cb(t_5); return; }
	context.setVariable("macros", t_3);
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("header_image"))(env, context, frame, runtime, function(t_7,t_6) {
	if(t_7) { cb(t_7); return; }
	output += t_6;
	output += "\n\n        \n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("additional_top_line"))(env, context, frame, runtime, function(t_9,t_8) {
	if(t_9) { cb(t_9); return; }
	output += t_8;
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("action_buttons"))(env, context, frame, runtime, function(t_11,t_10) {
	if(t_11) { cb(t_11); return; }
	output += t_10;
	output += "\n        \n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("related_content"))(env, context, frame, runtime, function(t_13,t_12) {
	if(t_13) { cb(t_13); return; }
	output += t_12;
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("create_modified_timestamps"))(env, context, frame, runtime, function(t_15,t_14) {
	if(t_15) { cb(t_15); return; }
	output += t_14;
	output += "\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})})})})})})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_header_image(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    ";
	if(runtime.contextOrFrameLookup(context, frame, "backgroundImageLargeUrl")) {
	output += "\n        <div class=\"tile-section header-image\">\n            <div class=\"dual-tile-image\">\n                <img class=\"tile-image tile-image-background\" src=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "backgroundImageLargeUrl"), env.opts.autoescape);
	output += "\" /> \n            </div>\n        </div>\n    ";
	;
	}
	output += "\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_additional_top_line(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    <div class=\"tile-section tile-section\">\n        <div>\n            <i class=\"fa fa-fw fa-clock-o\"></i>";
	output += runtime.suppressValue(env.getFilter("safe").call(context, runtime.contextOrFrameLookup(context, frame, "time_html")), env.opts.autoescape);
	output += "\n        </div>\n        ";
	if(runtime.contextOrFrameLookup(context, frame, "address")) {
	output += "\n            <div class=\"capitalize\">\n                <i class=\"fa fa-fw fa-map-marker\"></i>";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "address"), env.opts.autoescape);
	output += "\n            </div>\n        ";
	;
	}
	output += "\n    </div>\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_action_buttons(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	context.getSuper(env, "action_buttons", b_action_buttons, frame, runtime, function(t_16,hole_17) {
	if(t_16) { cb(t_16); return; }
	hole_17 = runtime.markSafe(hole_17);
	output += "\n    <div class=\"tile-section tile-section-button-list\">\n    ";
	if(runtime.contextOrFrameLookup(context, frame, "portal") == runtime.contextOrFrameLookup(context, frame, "COSINNUS_EXCHANGE_PORTAL_ID") && runtime.contextOrFrameLookup(context, frame, "url")) {
	output += "\n        <a class=\"rounded-button button-action\" href=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "url"), env.opts.autoescape);
	output += "\" target=\"_blank\">\n            <span class=\"rounded-button-inner\">\n                <i clasS=\"fa fa-external-link\"></i>\n                ";
	output += "\n                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Event"), true && env.opts.autoescape);
	output += " ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"on"), true && env.opts.autoescape);
	output += " ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "source"), env.opts.autoescape);
	output += "\n            </span>\n        </a>\n    ";
	;
	}
	else {
	output += "\n        ";
	if(runtime.memberLookup((runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"portalInfo")),"current") == runtime.contextOrFrameLookup(context, frame, "portal")) {
	output += "\n            <a class=\"rounded-button button-action \n                    ";
	if(runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user")) {
	output += "button-like\" ";
	;
	}
	else {
	output += "\" href=\"/signup/?acc_req_msg=1&next=/map/\" target=\"_blank\"";
	;
	}
	output += ">\n                <span class=\"rounded-button-inner\">\n                    ";
	if(runtime.contextOrFrameLookup(context, frame, "liked")) {
	output += "\n                        <i clasS=\"fas fa-heart\"></i>\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Liked"), true && env.opts.autoescape);
	output += "\n                    ";
	;
	}
	else {
	output += "\n                        <i clasS=\"far fa-heart\"></i>\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Like"), true && env.opts.autoescape);
	output += "\n                    ";
	;
	}
	output += "\n                </span>\n            </a>\n            <a class=\"rounded-button button-action button-star\">\n                <span class=\"rounded-button-inner\">\n                    ";
	if(runtime.contextOrFrameLookup(context, frame, "starred")) {
	output += "\n                        <i class=\"fas fa-star\"></i>\n                        ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "starringLabel"), env.opts.autoescape);
	output += "\n                    ";
	;
	}
	else {
	output += "\n                        <i class=\"far fa-star\"></i>\n                        ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "starLabel"), env.opts.autoescape);
	output += "\n                    ";
	;
	}
	output += "\n                </span>\n            </a>\n            <a class=\"rounded-button button-action\n                    ";
	if(runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user")) {
	output += "button-follow\" ";
	;
	}
	else {
	output += "\" href=\"/signup/?acc_req_msg=1&next=/map/\" target=\"_blank\"";
	;
	}
	output += ">\n                <span class=\"rounded-button-inner\">\n                    ";
	if(runtime.contextOrFrameLookup(context, frame, "followed")) {
	output += "\n                        <i clasS=\"fas fa-bell\"></i>\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Following"), true && env.opts.autoescape);
	output += "\n                    ";
	;
	}
	else {
	output += "\n                        <i clasS=\"far fa-bell\"></i>\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Follow"), true && env.opts.autoescape);
	output += "\n                    ";
	;
	}
	output += "\n                </span>\n            </a>\n        ";
	;
	}
	output += "\n\n        <a class=\"rounded-button button-action\" href=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "url"), env.opts.autoescape);
	output += "\" target=\"_blank\">\n            <span class=\"rounded-button-inner\">\n                <i clasS=\"fa fa-external-link\"></i>\n                ";
	output += "\n                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Visit Event Page"), true && env.opts.autoescape);
	output += "\n            </span>\n        </a>\n        \n        ";
	output += runtime.suppressValue(hole_17, env.opts.autoescape);
	output += "\n    </div>\n    \n    <div class=\"no-input\">\n        <div class=\"now-following-message message-success extra-space-top\" style=\"display: none;\">\n            <i class=\"fas fa-bell\"></i>\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"You will now receive notifications for comments or when this event is updated or its details change."), true && env.opts.autoescape);
	output += "\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"If you do not want notifications, click the unfollow button!"), true && env.opts.autoescape);
	output += "\n        </div>\n         \n        <div class=\"like-button-error message-error extra-space-top\" style=\"display: none;\">\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Could not save your like setting because of an error."), true && env.opts.autoescape);
	output += "\n        </div>\n        <div class=\"follow-button-error message-error extra-space-top\" style=\"display: none;\">\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Could not save your follow setting because of an error."), true && env.opts.autoescape);
	output += "\n        </div>\n    </div>\n";
	;
	}
	output += "\n";
	cb(null, output);
	});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_related_content(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n\n    ";
	if(runtime.contextOrFrameLookup(context, frame, "participant_count") > 0) {
	output += "\n        <div class=\"tile-section tile-section-divided\">\n            <div class=\"subheading\">\n                <i class=\"fa fa-user\"></i>\n                ";
	output += "\n                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Participants"), true && env.opts.autoescape);
	output += " (";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "participant_count"), env.opts.autoescape);
	output += ")\n            </div>\n        </div>\n        <div class=\"tile-section\">\n            <div class=\"row\">\n                ";
	frame = frame.push();
	var t_19 = runtime.contextOrFrameLookup(context, frame, "participants");
	if(t_19) {var t_18 = t_19.length;
	for(var t_17=0; t_17 < t_19.length; t_17++) {
	var t_20 = t_19[t_17];
	frame.set("participant", t_20);
	frame.set("loop.index", t_17 + 1);
	frame.set("loop.index0", t_17);
	frame.set("loop.revindex", t_18 - t_17);
	frame.set("loop.revindex0", t_18 - t_17 - 1);
	frame.set("loop.first", t_17 === 0);
	frame.set("loop.last", t_17 === t_18 - 1);
	frame.set("loop.length", t_18);
	output += "\n                    <div class=\"col-sm-6\">\n                        ";
	output += runtime.suppressValue((lineno = 127, colno = 40, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"itemCard"), "macros[\"itemCard\"]", context, [runtime.memberLookup((t_20),"portal"),runtime.memberLookup((t_20),"slug"),runtime.memberLookup((t_20),"title"),runtime.memberLookup((t_20),"type"),runtime.memberLookup((t_20),"iconImageUrl"),runtime.memberLookup((t_20),"address"),"fa-map-marker",runtime.makeKeywordArgs({"cosinnus_active_user": runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user")})])), env.opts.autoescape);
	output += "\n                    </div>\n                ";
	;
	}
	}
	frame = frame.pop();
	output += "\n            </div>\n            ";
	if(runtime.contextOrFrameLookup(context, frame, "participant_count") - env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "participants")) > 0) {
	output += "\n                <div class=\"\">\n                    <i>\n                        +";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "participant_count") - env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "participants")), env.opts.autoescape);
	output += " \n                        ";
	if(runtime.contextOrFrameLookup(context, frame, "participant_count") - env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "participants")) > 1) {
	output += "\n                            ";
	output += "\n                            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Hidden Users"), true && env.opts.autoescape);
	output += "\n                        ";
	;
	}
	else {
	output += "\n                            ";
	output += "\n                            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Hidden User"), true && env.opts.autoescape);
	output += "\n                        ";
	;
	}
	output += "\n                    </i>\n                </div>\n            ";
	;
	}
	output += "\n        </div>\n    ";
	;
	}
	output += "\n    \n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_create_modified_timestamps(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	b_header_image: b_header_image,
	b_additional_top_line: b_additional_top_line,
	b_action_buttons: b_action_buttons,
	b_related_content: b_related_content,
	b_create_modified_timestamps: b_create_modified_timestamps,
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/tiles/tile-detail-events.html"] , dependencies)

/***/ }),
/* 45 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["tiles/tile-detail-base"] = __webpack_require__( 40 );
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/tiles/tile-detail-ideas.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("tiles/tile-detail-base", true, "cosinnus/templates/cosinnus/universal/tiles/tile-detail-ideas.html", false, function(t_2,_parentTemplate) {
	if(t_2) { cb(t_2); return; }
	parentTemplate = _parentTemplate
	for(var t_1 in parentTemplate.blocks) {
	context.addBlock(t_1, parentTemplate.blocks[t_1]);
	}
	output += "\n";
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/tiles/tile-detail-ideas.html", false, function(t_4,t_3) {
	if(t_4) { cb(t_4); return; }
	t_3.getExported(function(t_5,t_3) {
	if(t_5) { cb(t_5); return; }
	context.setVariable("macros", t_3);
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("header_image"))(env, context, frame, runtime, function(t_7,t_6) {
	if(t_7) { cb(t_7); return; }
	output += t_6;
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("title"))(env, context, frame, runtime, function(t_9,t_8) {
	if(t_9) { cb(t_9); return; }
	output += t_8;
	output += "\n        \n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("top_line"))(env, context, frame, runtime, function(t_11,t_10) {
	if(t_11) { cb(t_11); return; }
	output += t_10;
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("action_buttons"))(env, context, frame, runtime, function(t_13,t_12) {
	if(t_13) { cb(t_13); return; }
	output += t_12;
	output += "\n\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("related_content"))(env, context, frame, runtime, function(t_15,t_14) {
	if(t_15) { cb(t_15); return; }
	output += t_14;
	output += "\n\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})})})})})})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_header_image(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    ";
	if(runtime.contextOrFrameLookup(context, frame, "backgroundImageLargeUrl")) {
	output += "\n        <div class=\"tile-section header-image\">\n            <div class=\"dual-tile-image\">\n                <img class=\"tile-image tile-image-background\" src=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "backgroundImageLargeUrl"), env.opts.autoescape);
	output += "\" /> \n            </div>\n        </div>\n    ";
	;
	}
	output += "\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_title(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    <div class=\"tile-section title\">\n        <h1>\n            ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "title"), env.opts.autoescape);
	output += "\n        </h1>\n    </div>\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_top_line(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    <div class=\"tile-section top-line one-line extra-space\">\n        <span class=\"multi-span\">\n            <span class=\"pale-color\">\n                ";
	output += "\n                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Author"), true && env.opts.autoescape);
	output += ":\n            </span> \n            ";
	if(!runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user")) {
	output += "\n                <a href=\"/signup/?acc_req_msg=1&next=/map/\" target=\"_blank\">";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "creator_name"), env.opts.autoescape);
	output += "</a>\n            ";
	;
	}
	else {
	output += "\n                ";
	output += runtime.suppressValue((lineno = 31, colno = 34, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"resultLink"), "macros[\"resultLink\"]", context, [runtime.contextOrFrameLookup(context, frame, "portal"),runtime.contextOrFrameLookup(context, frame, "creator_slug"),runtime.contextOrFrameLookup(context, frame, "creator_name"),"people"])), env.opts.autoescape);
	output += "\n            ";
	;
	}
	output += "\n        </span>\n        ";
	if(runtime.contextOrFrameLookup(context, frame, "address")) {
	output += "\n            <span class=\"multi-span half-line capitalize\" title=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "address"), env.opts.autoescape);
	output += "\">\n                <i class=\"fa fa-fw fa-map-marker\"></i>";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "address"), env.opts.autoescape);
	output += "\n            </span>\n        ";
	;
	}
	output += "\n        ";
	if(runtime.contextOrFrameLookup(context, frame, "participant_count") > 0) {
	output += "\n            <span class=\"multi-span capitalize\">\n                <i class=\"fa fa-fw fa-heart ";
	if(runtime.contextOrFrameLookup(context, frame, "liked")) {
	output += "apply-color-liked";
	;
	}
	output += "\"></i>\n                ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "participant_count"), env.opts.autoescape);
	output += "\n            </span>\n        ";
	;
	}
	output += "\n    </div>\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_action_buttons(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	context.getSuper(env, "action_buttons", b_action_buttons, frame, runtime, function(t_16,hole_23) {
	if(t_16) { cb(t_16); return; }
	hole_23 = runtime.markSafe(hole_23);
	output += "\n    <div class=\"tile-section tile-section-button-list\">\n        ";
	if(runtime.memberLookup((runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"portalInfo")),"current") == runtime.contextOrFrameLookup(context, frame, "portal")) {
	output += "\n            <a class=\"rounded-button button-action \n                    ";
	if(runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user")) {
	output += "button-like\" ";
	;
	}
	else {
	output += "\" href=\"/signup/?acc_req_msg=1&next=/map/\" target=\"_blank\"";
	;
	}
	output += ">\n                <span class=\"rounded-button-inner\">\n                    ";
	if(runtime.contextOrFrameLookup(context, frame, "liked")) {
	output += "\n                        <i clasS=\"fas fa-heart\"></i>\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Liked"), true && env.opts.autoescape);
	output += "\n                    ";
	;
	}
	else {
	output += "\n                        <i clasS=\"far fa-heart\"></i>\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Like"), true && env.opts.autoescape);
	output += "\n                    ";
	;
	}
	output += "\n                </span>\n            </a>\n            ";
	if(runtime.contextOrFrameLookup(context, frame, "liked")) {
	output += "\n                <a class=\"rounded-button button-action button-star\">\n                    <span class=\"rounded-button-inner\">\n                        ";
	if(runtime.contextOrFrameLookup(context, frame, "starred")) {
	output += "\n                            <i class=\"fas fa-star\"></i>\n                            ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "starringLabel"), env.opts.autoescape);
	output += "\n                        ";
	;
	}
	else {
	output += "\n                            <i class=\"far fa-star\"></i>\n                            ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "starLabel"), env.opts.autoescape);
	output += "\n                        ";
	;
	}
	output += "\n                    </span>\n                </a>\n                <a class=\"rounded-button button-action button-follow\">\n                    <span class=\"rounded-button-inner\">\n                        ";
	if(runtime.contextOrFrameLookup(context, frame, "followed")) {
	output += "\n                            <i clasS=\"fas fa-bell\"></i>\n                            ";
	output += "\n                            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Following"), true && env.opts.autoescape);
	output += "\n                        ";
	;
	}
	else {
	output += "\n                            <i clasS=\"far fa-bell\"></i>\n                            ";
	output += "\n                            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Follow"), true && env.opts.autoescape);
	output += "\n                        ";
	;
	}
	output += "\n                    </span>\n                </a>\n            ";
	;
	}
	output += "\n        ";
	;
	}
	output += "\n        <a href=\"";
	if(runtime.contextOrFrameLookup(context, frame, "action_url_1")) {
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "action_url_1"), env.opts.autoescape);
	;
	}
	else {
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "url"), env.opts.autoescape);
	;
	}
	output += "\" target=\"_blank\" class=\"rounded-button button-action\">\n            <span class=\"rounded-button-inner\">\n                ";
	output += "\n                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Create Project from Idea"), true && env.opts.autoescape);
	output += "\n            </span>\n        </a>\n        ";
	if(runtime.contextOrFrameLookup(context, frame, "COSINNUS_SHOW_SUPERUSER_CONTROLS") || runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user") && runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user")),"username") == runtime.contextOrFrameLookup(context, frame, "creator_slug")) {
	output += "\n            <a href=\"/ideas/";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "slug"), env.opts.autoescape);
	output += "/edit/\" class=\"rounded-button button-action\">\n                <span class=\"rounded-button-inner\">\n                    ";
	output += "\n                    ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Edit your Idea"), true && env.opts.autoescape);
	output += "\n                </span>\n            </a>\n        ";
	;
	}
	output += "\n        \n        ";
	output += runtime.suppressValue(hole_23, env.opts.autoescape);
	output += "\n    </div>\n    \n    <div class=\"no-input\">\n        <div class=\"now-following-message message-success extra-space-top\" style=\"display: none;\">\n            <i class=\"fas fa-bell\"></i>\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"You will receive a notification when a project is created from your liked idea."), true && env.opts.autoescape);
	output += "\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"If you do not want notifications, click the unfollow button!"), true && env.opts.autoescape);
	output += "\n        </div>\n         \n        <div class=\"like-button-error message-error extra-space-top\" style=\"display: none;\">\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Could not save your like setting because of an error."), true && env.opts.autoescape);
	output += "\n        </div>\n        <div class=\"follow-button-error message-error extra-space-top\" style=\"display: none;\">\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Could not save your follow setting because of an error."), true && env.opts.autoescape);
	output += "\n        </div>\n        <div class=\"star-button-error message-error extra-space-top\" style=\"display: none;\">\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Could not save your follow setting because of an error."), true && env.opts.autoescape);
	output += "\n        </div>\n    </div>\n";
	cb(null, output);
	});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_related_content(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	context.getSuper(env, "related_content", b_related_content, frame, runtime, function(t_17,hole_24) {
	if(t_17) { cb(t_17); return; }
	hole_24 = runtime.markSafe(hole_24);
	output += "\n    ";
	output += runtime.suppressValue(hole_24, env.opts.autoescape);
	output += "\n\n    ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "projects")) > 0) {
	output += "\n        <div class=\"tile-section tile-section-divided\">\n            <div class=\"subheading\">\n                <i class=\"fa fa-group\"></i>\n                ";
	output += "\n                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Projects - Created from this Idea"), true && env.opts.autoescape);
	output += " (";
	output += runtime.suppressValue(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "projects")), env.opts.autoescape);
	output += ")\n            </div>\n        </div>\n        <div class=\"tile-section\">\n            <div class=\"row\">\n                ";
	frame = frame.push();
	var t_20 = runtime.contextOrFrameLookup(context, frame, "projects");
	if(t_20) {var t_19 = t_20.length;
	for(var t_18=0; t_18 < t_20.length; t_18++) {
	var t_21 = t_20[t_18];
	frame.set("project", t_21);
	frame.set("loop.index", t_18 + 1);
	frame.set("loop.index0", t_18);
	frame.set("loop.revindex", t_19 - t_18);
	frame.set("loop.revindex0", t_19 - t_18 - 1);
	frame.set("loop.first", t_18 === 0);
	frame.set("loop.last", t_18 === t_19 - 1);
	frame.set("loop.length", t_19);
	output += "\n                    <div class=\"col-sm-6\">\n                        ";
	output += runtime.suppressValue((lineno = 150, colno = 40, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"itemCard"), "macros[\"itemCard\"]", context, [runtime.memberLookup((t_21),"portal"),runtime.memberLookup((t_21),"slug"),runtime.memberLookup((t_21),"title"),runtime.memberLookup((t_21),"type"),runtime.memberLookup((t_21),"iconImageUrl"),runtime.memberLookup((t_21),"address"),"fa-map-marker",runtime.memberLookup((t_21),"dataSlot1"),"fa-group",runtime.makeKeywordArgs({"cosinnus_active_user": runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user")})])), env.opts.autoescape);
	output += "\n                    </div>\n                ";
	;
	}
	}
	frame = frame.pop();
	output += "\n            </div>\n        </div>\n    ";
	;
	}
	output += "\n    \n";
	cb(null, output);
	});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	b_header_image: b_header_image,
	b_title: b_title,
	b_top_line: b_top_line,
	b_action_buttons: b_action_buttons,
	b_related_content: b_related_content,
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/tiles/tile-detail-ideas.html"] , dependencies)

/***/ }),
/* 46 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["tiles/tile-detail-base-group"] = __webpack_require__( 39 );
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/tiles/tile-detail-organizations.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("tiles/tile-detail-base-group", true, "cosinnus/templates/cosinnus/universal/tiles/tile-detail-organizations.html", false, function(t_2,_parentTemplate) {
	if(t_2) { cb(t_2); return; }
	parentTemplate = _parentTemplate
	for(var t_1 in parentTemplate.blocks) {
	context.addBlock(t_1, parentTemplate.blocks[t_1]);
	}
	output += "\n";
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/tiles/tile-detail-organizations.html", false, function(t_4,t_3) {
	if(t_4) { cb(t_4); return; }
	t_3.getExported(function(t_5,t_3) {
	if(t_5) { cb(t_5); return; }
	context.setVariable("macros", t_3);
	output += "\n\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("title"))(env, context, frame, runtime, function(t_7,t_6) {
	if(t_7) { cb(t_7); return; }
	output += t_6;
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("top_line_group"))(env, context, frame, runtime, function(t_9,t_8) {
	if(t_9) { cb(t_9); return; }
	output += t_8;
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("additional_top_line"))(env, context, frame, runtime, function(t_11,t_10) {
	if(t_11) { cb(t_11); return; }
	output += t_10;
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("action_buttons"))(env, context, frame, runtime, function(t_13,t_12) {
	if(t_13) { cb(t_13); return; }
	output += t_12;
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("contact"))(env, context, frame, runtime, function(t_15,t_14) {
	if(t_15) { cb(t_15); return; }
	output += t_14;
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})})})})})})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_title(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    <div class=\"tile-section title\">\n        ";
	if(runtime.contextOrFrameLookup(context, frame, "is_superuser") || runtime.contextOrFrameLookup(context, frame, "is_member") && runtime.contextOrFrameLookup(context, frame, "edit_url")) {
	output += "\n        <a href=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "edit_url"), env.opts.autoescape);
	output += "\" target=\"_blank\" class=\"uncolored-link\">\n            <h1>\n                ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "title"), env.opts.autoescape);
	output += "\n                <i class=\"fa fa-pencil\"></i>\n            </h1>\n        </a>\n        ";
	;
	}
	else {
	output += "\n        <h1>\n            ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "title"), env.opts.autoescape);
	output += "\n        </h1>\n        ";
	;
	}
	output += "\n    </div>\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_top_line_group(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    <div class=\"tile-section topic-line one-line\">\n        ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "organization_type"), env.opts.autoescape);
	output += "\n    </div>\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_additional_top_line(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n";
	output += runtime.suppressValue(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "block")),"super"), env.opts.autoescape);
	output += "\n";
	if(runtime.contextOrFrameLookup(context, frame, "is_open_for_cooperation")) {
	output += "\n<div class=\"alert apply-bg-color-organizations\">\n    <i class=\"fa fa-puzzle-piece\"></i>\n    ";
	output += "\n    <p>";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"This organization is open for further partner organizations."), true && env.opts.autoescape);
	output += "</p>\n</div>\n";
	;
	}
	output += "\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_action_buttons(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n";
	if(runtime.contextOrFrameLookup(context, frame, "portal") == runtime.contextOrFrameLookup(context, frame, "COSINNUS_EXCHANGE_PORTAL_ID") && runtime.contextOrFrameLookup(context, frame, "url")) {
	output += "\n    <div class=\"tile-section tile-section-button-list\">\n        <a class=\"rounded-button button-action\" href=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "url"), env.opts.autoescape);
	output += "\" target=\"_blank\">\n            <span class=\"rounded-button-inner\">\n                <i clasS=\"fa fa-external-link\"></i>\n                ";
	output += "\n                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Organization"), true && env.opts.autoescape);
	output += " ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"on"), true && env.opts.autoescape);
	output += " ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "source"), env.opts.autoescape);
	output += "\n            </span>\n        </a>\n    </div>\n";
	;
	}
	output += "\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_contact(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n";
	if(runtime.contextOrFrameLookup(context, frame, "portal") != runtime.contextOrFrameLookup(context, frame, "COSINNUS_EXCHANGE_PORTAL_ID")) {
	output += "\n    <div class=\"tile-section tile-section-divided\">\n        <div class=\"row\">\n            <div class=\"col-xs-6\">\n                <div class=\"subheading\">\n                    ";
	output += "\n                    ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Contact"), true && env.opts.autoescape);
	output += "\n                </div>\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "website_url")) {
	output += "\n                    <div class=\"tile-section one-line no-space\">\n                        <a href=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "website_url"), env.opts.autoescape);
	output += "\" target=\"_blank\" class=\"compact-link\">\n                            <i class=\"fa fa-globe\"></i>";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "website_url"), env.opts.autoescape);
	output += "\n                        </a>\n                    </div>\n                ";
	;
	}
	output += "\n                ";
	frame = frame.push();
	var t_18 = runtime.contextOrFrameLookup(context, frame, "social_media");
	if(t_18) {var t_17 = t_18.length;
	for(var t_16=0; t_16 < t_18.length; t_16++) {
	var t_19 = t_18[t_16];
	frame.set("sm", t_19);
	frame.set("loop.index", t_16 + 1);
	frame.set("loop.index0", t_16);
	frame.set("loop.revindex", t_17 - t_16);
	frame.set("loop.revindex0", t_17 - t_16 - 1);
	frame.set("loop.first", t_16 === 0);
	frame.set("loop.last", t_16 === t_17 - 1);
	frame.set("loop.length", t_17);
	output += "\n                    <div class=\"tile-section one-line no-space\">\n                        <a href=\"";
	output += runtime.suppressValue(runtime.memberLookup((t_19),"url"), env.opts.autoescape);
	output += "\" target=\"_blank\" class=\"compact-link\">\n                            <i class=\"fa fa-";
	output += runtime.suppressValue(runtime.memberLookup((t_19),"icon"), env.opts.autoescape);
	output += "\"></i>";
	output += runtime.suppressValue(runtime.memberLookup((t_19),"url"), env.opts.autoescape);
	output += "\n                        </a>\n                    </div>\n                ";
	;
	}
	}
	frame = frame.pop();
	output += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "email")) {
	output += "\n                    <div class=\"tile-section one-line no-space\">\n                        <a href=\"mailto:";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "email"), env.opts.autoescape);
	output += "\" target=\"_blank\" class=\"compact-link\">\n                            <i class=\"fa fa-envelope\"></i>";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "email"), env.opts.autoescape);
	output += "\n                        </a>\n                    </div>\n                ";
	;
	}
	output += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "phone_number")) {
	output += "\n                    <div class=\"tile-section one-line no-space\">\n                        <a href=\"tel:";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "phone_number"), env.opts.autoescape);
	output += "\" target=\"_blank\" class=\"compact-link\">\n                            <i class=\"fa fa-phone\"></i>";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "phone_number"), env.opts.autoescape);
	output += "\n                        </a>\n                    </div>\n                ";
	;
	}
	output += "\n            </div>\n            <div class=\"col-xs-6\">\n                <div class=\"subheading\">\n                    ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "admins")) > 1) {
	output += "\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Administrator"), true && env.opts.autoescape);
	output += "\n                    ";
	;
	}
	else {
	output += "\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Administrators"), true && env.opts.autoescape);
	output += "\n                    ";
	;
	}
	output += "\n                </div>\n                <div class=\"tile-section\">\n                    ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "admins")) > 0) {
	output += "\n                        ";
	frame = frame.push();
	var t_22 = runtime.contextOrFrameLookup(context, frame, "admins");
	if(t_22) {var t_21 = t_22.length;
	for(var t_20=0; t_20 < t_22.length; t_20++) {
	var t_23 = t_22[t_20];
	frame.set("admin", t_23);
	frame.set("loop.index", t_20 + 1);
	frame.set("loop.index0", t_20);
	frame.set("loop.revindex", t_21 - t_20);
	frame.set("loop.revindex0", t_21 - t_20 - 1);
	frame.set("loop.first", t_20 === 0);
	frame.set("loop.last", t_20 === t_21 - 1);
	frame.set("loop.length", t_21);
	output += "\n                            ";
	output += runtime.suppressValue((lineno = 103, colno = 44, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"itemCard"), "macros[\"itemCard\"]", context, [runtime.memberLookup((t_23),"portal"),runtime.memberLookup((t_23),"slug"),runtime.memberLookup((t_23),"title"),runtime.memberLookup((t_23),"type"),runtime.memberLookup((t_23),"iconImageUrl"),runtime.memberLookup((t_23),"address"),"fa-map-marker",runtime.makeKeywordArgs({"cosinnus_active_user": runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user")})])), env.opts.autoescape);
	output += "\n                        ";
	;
	}
	}
	frame = frame.pop();
	output += "\n                    ";
	;
	}
	else {
	output += "\n                        ";
	output += "\n                        </i>";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Administrators unknown"), true && env.opts.autoescape);
	output += "</i>\n                    ";
	;
	}
	output += "\n                </div>\n                <div class=\"tile-section tile-section-button-list\">\n                    ";
	if(runtime.contextOrFrameLookup(context, frame, "is_member")) {
	output += "\n                        <a class=\"rounded-button button-action disabled\">\n                            <span class=\"rounded-button-inner\">\n                                <i clasS=\"fa fa-check\"></i>\n                                ";
	output += "\n                                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"You are a Admin"), true && env.opts.autoescape);
	output += "\n                            </span>\n                        </a>\n                    ";
	;
	}
	else {
	if(runtime.contextOrFrameLookup(context, frame, "is_invited") || runtime.contextOrFrameLookup(context, frame, "is_pending")) {
	output += "\n                       <a href=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "accept_url"), env.opts.autoescape);
	output += "\" target=\"_blank\" class=\"rounded-button button-action\">\n                            <span class=\"rounded-button-inner\">\n                                ";
	if(runtime.contextOrFrameLookup(context, frame, "is_invited")) {
	output += "\n                                    ";
	output += "\n                                    ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"You are invited!"), true && env.opts.autoescape);
	output += "\n                                ";
	;
	}
	else {
	if(runtime.contextOrFrameLookup(context, frame, "is_pending")) {
	output += "\n                                    ";
	output += "\n                                    ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Ownership request pending..."), true && env.opts.autoescape);
	output += "\n                                ";
	;
	}
	;
	}
	output += "\n                            </span>\n                        </a>\n                    ";
	;
	}
	;
	}
	output += "\n                </div>\n            </div>\n        </div>\n\n    </div>\n\n    ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "groups")) > 0) {
	output += "\n        <div class=\"tile-section tile-section-divided\">\n            <div class=\"subheading\">\n                <i class=\"fa fa-group\"></i>\n                ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "organizations")) > 1) {
	output += "\n                \t";
	output += "\n\t                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Projects and groups"), true && env.opts.autoescape);
	output += "\n                ";
	;
	}
	else {
	output += "\n\t                ";
	output += "\n\t                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Project/group"), true && env.opts.autoescape);
	output += "\n\t            ";
	;
	}
	output += "\n            </div>\n        </div>\n        <div class=\"tile-section\">\n            <div class=\"row\">\n                ";
	frame = frame.push();
	var t_26 = runtime.contextOrFrameLookup(context, frame, "groups");
	if(t_26) {var t_25 = t_26.length;
	for(var t_24=0; t_24 < t_26.length; t_24++) {
	var t_27 = t_26[t_24];
	frame.set("group", t_27);
	frame.set("loop.index", t_24 + 1);
	frame.set("loop.index0", t_24);
	frame.set("loop.revindex", t_25 - t_24);
	frame.set("loop.revindex0", t_25 - t_24 - 1);
	frame.set("loop.first", t_24 === 0);
	frame.set("loop.last", t_24 === t_25 - 1);
	frame.set("loop.length", t_25);
	output += "\n                    <div class=\"col-sm-6\">\n                        ";
	output += runtime.suppressValue((lineno = 155, colno = 40, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"itemCard"), "macros[\"itemCard\"]", context, [runtime.memberLookup((t_27),"portal"),runtime.memberLookup((t_27),"slug"),runtime.memberLookup((t_27),"title"),runtime.memberLookup((t_27),"type"),runtime.memberLookup((t_27),"iconImageUrl"),runtime.memberLookup((t_27),"location"),"fa-map-marker"])), env.opts.autoescape);
	output += "\n                    </div>\n                ";
	;
	}
	}
	frame = frame.pop();
	output += "\n            </div>\n        </div>\n    ";
	;
	}
	output += "\n";
	;
	}
	output += "\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	b_title: b_title,
	b_top_line_group: b_top_line_group,
	b_additional_top_line: b_additional_top_line,
	b_action_buttons: b_action_buttons,
	b_contact: b_contact,
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/tiles/tile-detail-organizations.html"] , dependencies)

/***/ }),
/* 47 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["tiles/tile-detail-base"] = __webpack_require__( 40 );
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/tiles/tile-detail-error-403.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("tiles/tile-detail-base", true, "cosinnus/templates/cosinnus/universal/tiles/tile-detail-error-403.html", false, function(t_2,_parentTemplate) {
	if(t_2) { cb(t_2); return; }
	parentTemplate = _parentTemplate
	for(var t_1 in parentTemplate.blocks) {
	context.addBlock(t_1, parentTemplate.blocks[t_1]);
	}
	output += "\n";
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/tiles/tile-detail-error-403.html", false, function(t_4,t_3) {
	if(t_4) { cb(t_4); return; }
	t_3.getExported(function(t_5,t_3) {
	if(t_5) { cb(t_5); return; }
	context.setVariable("macros", t_3);
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("content"))(env, context, frame, runtime, function(t_7,t_6) {
	if(t_7) { cb(t_7); return; }
	output += t_6;
	output += "\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_content(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    <h1 class=\"error-title\">\n        ";
	output += "\n        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Protected Content"), true && env.opts.autoescape);
	output += "\n    </h1>\n    <div class=\"error-text\">\n        <p>\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Sorry, but you cannot view details for this content."), true && env.opts.autoescape);
	output += "\n        </p>\n        <p>\n            ";
	if(runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user")) {
	output += "\n                ";
	output += "\n                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"This can happen when its visibility settings have changed recently."), true && env.opts.autoescape);
	output += "\n            ";
	;
	}
	else {
	output += "\n                <a href=\"/signup/?acc_req_msg=1&next=/map/\" target=\"_blank\">\n                    ";
	output += "\n                    ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Please register or log in to continue!"), true && env.opts.autoescape);
	output += "\n                </a>\n            ";
	;
	}
	output += "\n        </p>\n    </div>\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	b_content: b_content,
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/tiles/tile-detail-error-403.html"] , dependencies)

/***/ }),
/* 48 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["tiles/tile-detail-base"] = __webpack_require__( 40 );
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/tiles/tile-detail-error.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("tiles/tile-detail-base", true, "cosinnus/templates/cosinnus/universal/tiles/tile-detail-error.html", false, function(t_2,_parentTemplate) {
	if(t_2) { cb(t_2); return; }
	parentTemplate = _parentTemplate
	for(var t_1 in parentTemplate.blocks) {
	context.addBlock(t_1, parentTemplate.blocks[t_1]);
	}
	output += "\n";
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/tiles/tile-detail-error.html", false, function(t_4,t_3) {
	if(t_4) { cb(t_4); return; }
	t_3.getExported(function(t_5,t_3) {
	if(t_5) { cb(t_5); return; }
	context.setVariable("macros", t_3);
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("content"))(env, context, frame, runtime, function(t_7,t_6) {
	if(t_7) { cb(t_7); return; }
	output += t_6;
	output += "\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_content(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    <h1 class=\"error-title\">\n        ";
	output += "\n        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Error!"), true && env.opts.autoescape);
	output += "\n    </h1>\n    <div class=\"error-text\">\n        ";
	output += "\n        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Sorry, but the requested content could not be retrieved from the server."), true && env.opts.autoescape);
	output += "\n    </div>\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	b_content: b_content,
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/tiles/tile-detail-error.html"] , dependencies)

/***/ }),
/* 49 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var BaseView = __webpack_require__(4);
	var util = __webpack_require__(5);
	
	module.exports = BaseView.extend({
	
	    app: null,
	
	    template: __webpack_require__(50),
	
	    fetchURL: '/search/api/quicksearch/',
	
	    // the parent el, containing the search textbox and button
	    $searchBarEl: null,
	
	    // will be set to self.options during initialization
	    defaults: {
	        query: null,
	        searchMethods: {
	            'default': '/search/?q={{q}}',
	            'map': '/map/?q={{q}}',
	            'groups': '/search/?groups=mine&q={{q}}',
	            'cloudfiles': '/search/cloudfiles/?q={{q}}'
	        },
	        topicsSearchMethods: {
	            // <title>: <url>,
	        },
	        // this will be added to the state.topicsSearchMethods for matching topics
	        topicsUrl: '/map/?topics={{t}}',
	        sdgSearchMethods: {},
	        sdgsUrl: '/map/?sdgs={{t}}',
	
	        state: {
	            loading: false, // if true, a request is currently loading
	            currentRequest: null, // the XMLHttpRequest that is currently loading
	            hadErrors: false,
	
	            quicksearchResults: [],
	
	            fireQuicksearchTimeout: null
	        }
	    },
	
	    // The DOM events specific to an item.
	    events: {
	    },
	
	    initialize: function (options, app) {
	        var self = this;
	        self.app = app;
	        BaseView.prototype.initialize.call(self, options);
	
	        self.$searchBarEl = $('#nav-quicksearch');
	        // events that have to be defined here because they happen in the searchBarEl:
	        self.$searchBarEl.on('focus', '.nav-search-box', self.thisContext(self.onSearchBoxFocusIn));
	        self.$searchBarEl.on('keydown', '.nav-search-box', self.thisContext(self.onSearchBoxKeyDown));
	        self.$searchBarEl.on('input', '.nav-search-box', self.thisContext(self.onSearchBoxTyped));
	        self.$searchBarEl.on('click', '.nav-button-search', self.thisContext(self.onSearchIconClicked));
	        self.$searchBarEl.on('click', '.quicksearch-filterbutton', self.thisContext(self.onQuickSearchFilterButtonClicked));
	
	
	        // TODO: add a collection for quicksearch DB results!
	        return;
	
	        // result events
	        self.collection.on({
	            'add': self.thisContext(self.tileAdd),
	            'change': self.thisContext(self.tileUpdate),
	            'remove': self.thisContext(self.tileRemove),
	            'update': self.thisContext(self.tilesUpdate),
	            'reset': self.thisContext(self.tilesReset),
	        });
	
	    },
	
	    render: function () {
	        var self = this;
	        BaseView.prototype.render.call(self);
	
	        util.log('*** Rendered quicksearch! ***')
	        this.$searchBarEl.find('.dropdown-underdrop').height(this.$el.outerHeight());
	        return self;
	    },
	
	    /** Extend the template data by the controlView's options and state */
	    getTemplateData: function () {
	        var self = this;
	        var data = BaseView.prototype.getTemplateData.call(self);
	        return data;
	    },
	
	    /** Searchbox focused */
	    onSearchBoxFocusIn: function (event) {
	        this.$searchBarEl.find('.nav-search-box').attr('placeholder', this.options.placeholder);
	        this.showDropdown();
	    },
	
	    /** Searchbox key downs, for special keys */
	    onSearchBoxKeyDown: function (event) {
	        if (event.keyCode == 13) {
	            this.fireSearch();
	        } else if (event.keyCode == 27) {
	            this.$searchBarEl.removeClass('active').find('.nav-search-box').blur();
	            $('.v2-navbar').removeClass('search-open');
	        }
	    },
	
	    onQuickSearchFilterButtonClicked: function (event) {
	        event.preventDefault();
	        var type = event.currentTarget.getAttribute('data-result-filter-type');
	        var query = this.getCurrentQuery();
	
	        var data = {
	            'q': query ? query : '',
	            'people': type === 'people',
	            'events': type === 'events',
	            'projects': type === 'projects',
	            'groups': type === 'groups',
	            'ideas': type === 'ideas',
	            'conferences': type === 'conferences',
	            'organizations': type === 'organizations'
	        };
	
	        var params = [];
	
	        for (var d in data) {
	            params.push(encodeURIComponent(d) + '=' + encodeURIComponent(data[d]));
	        }
	        var url = '/map/?' + params.join('&');
	        window.location.href = url;
	    },
	
	    /** Searchbox text input */
	    onSearchBoxTyped: function (event) {
	        var self = this;
	        if (!event.shiftKey && !event.ctrlKey) {
	            if (self.state.fireQuicksearchTimeout !== null) {
	                // prevent the quicksearch request from being started
	                clearTimeout(self.state.fireQuicksearchTimeout);
	            }
	            this.updateSearchSuggestions();
	        }
	    },
	
	    /** rerenders the list of clickable search suggestions, e.g. after new input was made */
	    updateSearchSuggestions: function () {
	        var self = this;
	        var query = self.getCurrentQuery();
	
	        // apply the current query to the urls in searchMethods
	        var searchMethods = _(self.options.searchMethods).clone();
	        for (var method in searchMethods) {
	            searchMethods[method] = searchMethods[method].replace('{{q}}', encodeURIComponent(query));
	        }
	        self.state.searchMethods = searchMethods;
	        // match topics to the current query and generate topic search suggestions
	        var topicsSearchMethods = {};
	        for (var topicId in self.options.topicsJson) {
	            var topic = self.options.topicsJson[topicId];
	            if (topic && topic.toLowerCase().indexOf(query.toLowerCase()) > -1) {
	                // highlight the topic occurence
	                var title = util.iReplace(topic, query, '<b>$1</b>');
	                var url = self.options.topicsUrl.replace('{{t}}', topicId);
	                topicsSearchMethods[title] = url;
	            }
	        }
	
	        if (self.options.sdgsJson.length > 0) {
	            var sdgSearchMethods = {};
	            for (var sdgId in self.options.sdgsJson) {
	                var sdg = self.options.sdgsJson[sdgId];
	                if (sdg && sdg.name.toLowerCase().indexOf(query.toLowerCase()) > -1) {
	                    var title = util.iReplace(sdg.name, query, '<b>$1</b>')
	                    var url = self.options.sdgsUrl.replace('{{t}}', sdg.id);
	                    sdgSearchMethods[title] = url;
	                }
	            }
	        }
	
	
	        self.state.topicsSearchMethods = topicsSearchMethods
	        self.state.sdgSearchMethods = sdgSearchMethods
	
	        self.state.query = query || null;
	        self.state.quicksearchResults = [];
	        self.render();
	
	        if (self.state.query && self.state.query.length > 2) {
	            // wait a short time before issuing a HTTP request, 
	            // in case the user types more stuff in the meantime;
	            // in that case, the timeout will be cleared/cancelled.
	            self.state.fireQuicksearchTimeout = setTimeout(self.loadQuickResults, 1, self, self.state.query);
	        }
	    },
	
	    /** Get the text from the search box */
	    getCurrentQuery: function () {
	        return this.$searchBarEl.find('.nav-search-box').val().trim();
	    },
	
	    /** Fire off a search. If no arguments given, fires the default search
	     * 	with the currently entered text */
	    fireSearch: function (type, query) {
	        var self = this;
	        if (!type) {
	            type = 'default';
	        }
	        if (!query) {
	            query = self.getCurrentQuery();
	        }
	        if (query && query.length > 0) {
	            var url = self.options.searchMethods[type].replace('{{q}}', encodeURIComponent(query));
	            window.location = url;
	        }
	    },
	
	    /** Shows the quicksearch result list */
	    showDropdown: function () {
	        util.log('*** Showing quicksearch results ***')
	        document.addEventListener('click', this.thisContext(this.checkQuickSearchFocusOut));
	        this.$searchBarEl.addClass('active');
	        $('.v2-navbar').addClass('search-open');
	        this.render();
	    },
	
	    /** Hides the quicksearch result list */
	    hideDropdown: function () {
	        util.log('*** Hiding quicksearch results ***')
	        this.$el.hide();
	    },
	
	    /** While we are focused, check for clicks outside to trigger closing the menu */
	    checkQuickSearchFocusOut: function (event) {
	        if ((this.$searchBarEl.hasClass('active') && !this.$searchBarEl[0].contains(event.target))
	            || $(event.target).hasClass('nav-search-backdrop')) {
	            this.$searchBarEl.removeClass('active');
	            $('.v2-navbar').removeClass('search-open');
	            this.$searchBarEl.find('.nav-search-box').attr('placeholder', '');
	            document.removeEventListener('click', this.thisContext(this.checkQuickSearchFocusOut));
	        }
	    },
	
	    onSearchIconClicked: function (event) {
	        if (this.$searchBarEl.hasClass('active')) {
	            this.fireSearch();
	        } else {
	            this.$searchBarEl.find('.nav-search-box').attr('placeholder', this.options.placeholder);
	            this.$searchBarEl.find('.nav-search-box').focus();
	        }
	    },
	
	    /** Quicksearch results data fetch logic */
	
	    /** Loads a new set of quicksearch results for the given query.
	     *  Calling this will cancel the currently running request, if existing. */
	    loadQuickResults: function (self, query) {
	        if (self.state.loading) {
	            if (self.state.currentRequest !== null) {
	                self.state.currentRequest.abort();
	                self.state.currentRequest = null;
	            }
	            self.state.loading = false;
	        }
	
	        self.state.loading = true;
	        //self.showLoadingPlaceholder();
	        //self.hideErrorMessage();
	        // using this instead of .finally() for backwards compatibility in browsers
	
	        var finally_compat = function () {
	            self.state.loading = false;
	            //self.hideLoadingPlaceholder();
	        };
	        self.loadData(query).then(function (data) {
	            util.log('# quicksearch received data and is now handling it');
	            self.handleData(data);
	            finally_compat();
	        })/**.catch(function(message){
				self.handleError(message);
				finally_compat();
			})*/;
	    },
	
	
	    /** Loads a set of data from the server. Returns a promise
	     *  whose resolve function gets passed the data */
	    loadData: function (query) {
	        var self = this;
	        return new Promise(function (resolve, reject) {
	            // build URL
	            var url = self.fetchURL + '?' + $.param({ 'q': query });
	            self.state.currentRequest = $.ajax(url, {
	                type: 'GET',
	                success: function (response, textStatus, xhr) {
	                    if (xhr.status == 200) {
	                        resolve(response['data']);
	                    } else {
	                        reject(xhr.statusText);
	                    }
	                },
	                error: function (xhr, textStatus) {
	                    reject(textStatus);
	                },
	                complete: function () {
	                    self.state.currentRequest = null;
	                }
	            });
	        });
	    },
	
	    handleData: function (data) {
	        var self = this;
	        util.log('# # Fetched data for quicksearch');
	
	        // display items if any
	        if (data['count'] > 0) {
	            self.state.quicksearchResults = data['items'];
	            $.each(self.state.quicksearchResults, function (itemIdx, item) {
	                // we expect escaped text here! 
	                // otherwise, we could make it safe using: var text = $('<div>').text(item['text']).html();
	                var text = item['text'];
	                $.each(self.state.query.split(' '), function (queryTermIdx, queryTerm) {
	
	                    text = util.iReplace(text, queryTerm, '<b>$1</b>');
	                });
	                item['text'] = text;
	                if (typeof (item.subtext) === "string") {
	                    var subtext = item.subtext;
	                    $.each(self.state.query.split(' '), function (queryTermIdx, queryTerm) {
	                        subtext = util.iReplace(subtext, queryTerm, '<b>$1</b>');
	                    });
	                    item.subtext = subtext;
	                }
	            });
	            self.render();
	        }
	    },
	
	    handleError: function (message) {
	        var self = this;
	        util.log('# Error during quicksearch request!');
	        //self.showErrorMessage();
	    },
	
	});


/***/ }),
/* 50 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/navbar/quicksearch.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	output += runtime.suppressValue(env.getExtension("passThrough")["run"](context,runtime.contextOrFrameLookup(context, frame, "i18n")), true && env.opts.autoescape);
	output += "\n";
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/navbar/quicksearch.html", false, function(t_2,t_1) {
	if(t_2) { cb(t_2); return; }
	t_1.getExported(function(t_3,t_1) {
	if(t_3) { cb(t_3); return; }
	context.setVariable("macros", t_1);
	output += "\n\n<ul class=\"item-list\">\n\n\t<li>\n\t    <div class=\"nav-quicksearch-buttons\">\n\t\t\t<div class=\"btn-no-interact nav-quicksearch-button-label\">\n\t\t\t\t";
	var t_4;
	t_4 = (function() {
	var output = "";
	output += "\n\t\t\t\t";
	output += "\n\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Find on map:"), true && env.opts.autoescape);
	output += "\n\t\t\t\t";
	;
	return output;
	})()
	;
	frame.set("filter_annotations_prefix", t_4, true);
	if(frame.topLevel) {
	context.setVariable("filter_annotations_prefix", t_4);
	}
	if(frame.topLevel) {
	context.addExport("filter_annotations_prefix", t_4);
	}
	output += "\n\t\t\t    ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "filter_annotations_prefix"), env.opts.autoescape);
	output += "\n\t\t    </div>\n\t\t    <div>\n\t\t\t\t<a class=\"rounded-button button-color-people result-filter-button quicksearch-filterbutton\" data-result-filter-type=\"people\">\n\t\t\t\t\t";
	output += runtime.suppressValue((lineno = 16, colno = 22, runtime.callWrap(runtime.memberLookup((t_1),"typeLabel"), "macros[\"typeLabel\"]", context, ["people","rounded-button-inner",runtime.makeKeywordArgs({"useStyles": false,"COSINNUS_TRANS": runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")})])), env.opts.autoescape);
	output += "\n\t\t\t\t</a>\n\t\t\t\t<a class=\"rounded-button button-color-projects result-filter-button quicksearch-filterbutton\" data-result-filter-type=\"projects\">\n\t\t\t\t\t";
	output += runtime.suppressValue((lineno = 19, colno = 22, runtime.callWrap(runtime.memberLookup((t_1),"typeLabel"), "macros[\"typeLabel\"]", context, ["projects","rounded-button-inner",runtime.makeKeywordArgs({"useStyles": false,"COSINNUS_TRANS": runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")})])), env.opts.autoescape);
	output += "\n\t\t\t\t</a>\n\t\t\t\t<a class=\"rounded-button button-color-groups result-filter-button quicksearch-filterbutton\" data-result-filter-type=\"groups\">\n\t\t\t\t\t";
	output += runtime.suppressValue((lineno = 22, colno = 22, runtime.callWrap(runtime.memberLookup((t_1),"typeLabel"), "macros[\"typeLabel\"]", context, ["groups","rounded-button-inner",runtime.makeKeywordArgs({"useStyles": false,"COSINNUS_TRANS": runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")})])), env.opts.autoescape);
	output += "\n\t\t\t\t</a>\n\t\t\t\t<a class=\"rounded-button button-color-events result-filter-button quicksearch-filterbutton\" data-result-filter-type=\"events\">\n\t\t\t\t\t";
	output += runtime.suppressValue((lineno = 25, colno = 22, runtime.callWrap(runtime.memberLookup((t_1),"typeLabel"), "macros[\"typeLabel\"]", context, ["events","rounded-button-inner",runtime.makeKeywordArgs({"useStyles": false,"COSINNUS_TRANS": runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")})])), env.opts.autoescape);
	output += "\n\t\t\t\t</a>\n\t\t\t\t";
	if(runtime.contextOrFrameLookup(context, frame, "COSINNUS_CONFERENCES_ENABLED")) {
	output += "\n\t\t\t\t\t<a class=\"rounded-button button-color-conferences result-filter-button quicksearch-filterbutton\" data-result-filter-type=\"conferences\">\n\t\t\t\t\t\t";
	output += runtime.suppressValue((lineno = 29, colno = 23, runtime.callWrap(runtime.memberLookup((t_1),"typeLabel"), "macros[\"typeLabel\"]", context, ["conferences","rounded-button-inner",runtime.makeKeywordArgs({"useStyles": false,"COSINNUS_TRANS": runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")})])), env.opts.autoescape);
	output += "\n\t\t\t\t\t</a>\n\t\t\t\t";
	;
	}
	output += "\n\t\t\t\t";
	if(runtime.contextOrFrameLookup(context, frame, "COSINNUS_IDEAS_ENABLED")) {
	output += "\n\t\t\t\t\t<a class=\"rounded-button button-color-ideas result-filter-button quicksearch-filterbutton\" data-result-filter-type=\"ideas\">\n\t\t\t\t\t\t";
	output += runtime.suppressValue((lineno = 34, colno = 23, runtime.callWrap(runtime.memberLookup((t_1),"typeLabel"), "macros[\"typeLabel\"]", context, ["ideas","rounded-button-inner",runtime.makeKeywordArgs({"useStyles": false,"COSINNUS_TRANS": runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")})])), env.opts.autoescape);
	output += "\n\t\t\t\t\t</a>\n\t\t\t\t";
	;
	}
	output += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "COSINNUS_ORGANIZATIONS_ENABLED")) {
	output += "\n                    <a class=\"rounded-button button-color-organizations result-filter-button quicksearch-filterbutton\" data-result-filter-type=\"organizations\">\n                        ";
	output += runtime.suppressValue((lineno = 39, colno = 41, runtime.callWrap(runtime.memberLookup((t_1),"typeLabel"), "macros[\"typeLabel\"]", context, ["organizations","rounded-button-inner",runtime.makeKeywordArgs({"useStyles": false,"COSINNUS_TRANS": runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")})])), env.opts.autoescape);
	output += "\n                    </a>\n                ";
	;
	}
	output += "\n\t\t\t</div>\n\t\t</div>\n\t</li>\n\n\t";
	if(runtime.contextOrFrameLookup(context, frame, "query") && env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "query")) > 2) {
	output += "\n\t\t";
	var t_5;
	t_5 = (function() {
	var output = "";
	output += "\n\t\t\t";
	output += "\n\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Entire Network"), true && env.opts.autoescape);
	output += "\n\t\t";
	;
	return output;
	})()
	;
	frame.set("default_annotation", t_5, true);
	if(frame.topLevel) {
	context.setVariable("default_annotation", t_5);
	}
	if(frame.topLevel) {
	context.addExport("default_annotation", t_5);
	}
	output += "\n\t\t";
	var t_6;
	t_6 = (function() {
	var output = "";
	output += "\n\t\t\t";
	output += "\n\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"On the Map"), true && env.opts.autoescape);
	output += "\n\t\t";
	;
	return output;
	})()
	;
	frame.set("map_annotation", t_6, true);
	if(frame.topLevel) {
	context.setVariable("map_annotation", t_6);
	}
	if(frame.topLevel) {
	context.addExport("map_annotation", t_6);
	}
	output += "\n\t\t";
	var t_7;
	t_7 = (function() {
	var output = "";
	output += "\n\t\t\t";
	output += "\n\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"In my Groups and Projects"), true && env.opts.autoescape);
	output += "\n\t\t";
	;
	return output;
	})()
	;
	frame.set("groups_annotation", t_7, true);
	if(frame.topLevel) {
	context.setVariable("groups_annotation", t_7);
	}
	if(frame.topLevel) {
	context.addExport("groups_annotation", t_7);
	}
	output += "\n\t\t";
	var t_8;
	t_8 = (function() {
	var output = "";
	output += "\n\t\t\t";
	output += "\n\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"In my Cloud Files"), true && env.opts.autoescape);
	output += "\n\t\t";
	;
	return output;
	})()
	;
	frame.set("cloudfiles_annotation", t_8, true);
	if(frame.topLevel) {
	context.setVariable("cloudfiles_annotation", t_8);
	}
	if(frame.topLevel) {
	context.addExport("cloudfiles_annotation", t_8);
	}
	output += "\n\t\t\n\t\t";
	output += runtime.suppressValue((lineno = 64, colno = 18, runtime.callWrap(runtime.memberLookup((t_1),"listItem"), "macros[\"listItem\"]", context, [runtime.contextOrFrameLookup(context, frame, "query"),runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "searchMethods")),"default"),"fa-search",runtime.makeKeywordArgs({"annotation": runtime.contextOrFrameLookup(context, frame, "default_annotation"),"includeUnderdrop": true})])), env.opts.autoescape);
	output += "\n\t\t";
	output += runtime.suppressValue((lineno = 65, colno = 18, runtime.callWrap(runtime.memberLookup((t_1),"listItem"), "macros[\"listItem\"]", context, [runtime.contextOrFrameLookup(context, frame, "query"),runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "searchMethods")),"map"),"fa-search",runtime.makeKeywordArgs({"annotation": runtime.contextOrFrameLookup(context, frame, "map_annotation"),"includeUnderdrop": true})])), env.opts.autoescape);
	output += "\n\t\t";
	output += runtime.suppressValue((lineno = 66, colno = 18, runtime.callWrap(runtime.memberLookup((t_1),"listItem"), "macros[\"listItem\"]", context, [runtime.contextOrFrameLookup(context, frame, "query"),runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "searchMethods")),"groups"),"fa-search",runtime.makeKeywordArgs({"annotation": runtime.contextOrFrameLookup(context, frame, "groups_annotation"),"includeUnderdrop": true})])), env.opts.autoescape);
	output += "\n\n\t\t";
	if(runtime.contextOrFrameLookup(context, frame, "cloudEnabled")) {
	output += "\n\t\t\t";
	output += runtime.suppressValue((lineno = 69, colno = 19, runtime.callWrap(runtime.memberLookup((t_1),"listItem"), "macros[\"listItem\"]", context, [runtime.contextOrFrameLookup(context, frame, "query"),runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "searchMethods")),"cloudfiles"),"fa-search",runtime.makeKeywordArgs({"annotation": runtime.contextOrFrameLookup(context, frame, "cloudfiles_annotation"),"includeUnderdrop": true})])), env.opts.autoescape);
	output += "\n\t\t";
	;
	}
	output += "\n\t\t\n\t\t";
	frame = frame.push();
	var t_11 = runtime.contextOrFrameLookup(context, frame, "topicsSearchMethods");
	if(t_11) {var t_9;
	if(runtime.isArray(t_11)) {
	var t_10 = t_11.length;
	for(t_9=0; t_9 < t_11.length; t_9++) {
	var t_12 = t_11[t_9][0]
	frame.set("topic_title", t_11[t_9][0]);
	var t_13 = t_11[t_9][1]
	frame.set("topic_url", t_11[t_9][1]);
	frame.set("loop.index", t_9 + 1);
	frame.set("loop.index0", t_9);
	frame.set("loop.revindex", t_10 - t_9);
	frame.set("loop.revindex0", t_10 - t_9 - 1);
	frame.set("loop.first", t_9 === 0);
	frame.set("loop.last", t_9 === t_10 - 1);
	frame.set("loop.length", t_10);
	output += "\n\t\t\t";
	var t_14;
	t_14 = (function() {
	var output = "";
	output += "\n\t\t\t\t";
	output += "\n\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Topic"), true && env.opts.autoescape);
	output += ": ";
	output += runtime.suppressValue(env.getFilter("safe").call(context, t_12), env.opts.autoescape);
	output += "\n\t\t\t";
	;
	return output;
	})()
	;
	frame.set("topic_label", t_14, true);
	if(frame.topLevel) {
	context.setVariable("topic_label", t_14);
	}
	if(frame.topLevel) {
	context.addExport("topic_label", t_14);
	}
	output += "\n\t\t\t";
	output += runtime.suppressValue((lineno = 77, colno = 19, runtime.callWrap(runtime.memberLookup((t_1),"listItem"), "macros[\"listItem\"]", context, [env.getFilter("safe").call(context, runtime.contextOrFrameLookup(context, frame, "topic_label")),t_13,"fa-filter",runtime.makeKeywordArgs({"includeUnderdrop": true})])), env.opts.autoescape);
	output += "\n\t\t";
	;
	}
	} else {
	t_9 = -1;
	var t_10 = runtime.keys(t_11).length;
	for(var t_15 in t_11) {
	t_9++;
	var t_16 = t_11[t_15];
	frame.set("topic_title", t_15);
	frame.set("topic_url", t_16);
	frame.set("loop.index", t_9 + 1);
	frame.set("loop.index0", t_9);
	frame.set("loop.revindex", t_10 - t_9);
	frame.set("loop.revindex0", t_10 - t_9 - 1);
	frame.set("loop.first", t_9 === 0);
	frame.set("loop.last", t_9 === t_10 - 1);
	frame.set("loop.length", t_10);
	output += "\n\t\t\t";
	var t_17;
	t_17 = (function() {
	var output = "";
	output += "\n\t\t\t\t";
	output += "\n\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Topic"), true && env.opts.autoescape);
	output += ": ";
	output += runtime.suppressValue(env.getFilter("safe").call(context, t_15), env.opts.autoescape);
	output += "\n\t\t\t";
	;
	return output;
	})()
	;
	frame.set("topic_label", t_17, true);
	if(frame.topLevel) {
	context.setVariable("topic_label", t_17);
	}
	if(frame.topLevel) {
	context.addExport("topic_label", t_17);
	}
	output += "\n\t\t\t";
	output += runtime.suppressValue((lineno = 77, colno = 19, runtime.callWrap(runtime.memberLookup((t_1),"listItem"), "macros[\"listItem\"]", context, [env.getFilter("safe").call(context, runtime.contextOrFrameLookup(context, frame, "topic_label")),t_16,"fa-filter",runtime.makeKeywordArgs({"includeUnderdrop": true})])), env.opts.autoescape);
	output += "\n\t\t";
	;
	}
	}
	}
	frame = frame.pop();
	output += " \n\n\t\t";
	frame = frame.push();
	var t_20 = runtime.contextOrFrameLookup(context, frame, "sdgSearchMethods");
	if(t_20) {var t_18;
	if(runtime.isArray(t_20)) {
	var t_19 = t_20.length;
	for(t_18=0; t_18 < t_20.length; t_18++) {
	var t_21 = t_20[t_18][0]
	frame.set("sdg_title", t_20[t_18][0]);
	var t_22 = t_20[t_18][1]
	frame.set("sdg_url", t_20[t_18][1]);
	frame.set("loop.index", t_18 + 1);
	frame.set("loop.index0", t_18);
	frame.set("loop.revindex", t_19 - t_18);
	frame.set("loop.revindex0", t_19 - t_18 - 1);
	frame.set("loop.first", t_18 === 0);
	frame.set("loop.last", t_18 === t_19 - 1);
	frame.set("loop.length", t_19);
	output += "\n\t\t\t";
	var t_23;
	t_23 = (function() {
	var output = "";
	output += "\n\t\t\t\t";
	output += "\n\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"SDG"), true && env.opts.autoescape);
	output += ": ";
	output += runtime.suppressValue(env.getFilter("safe").call(context, t_21), env.opts.autoescape);
	output += "\n\t\t\t";
	;
	return output;
	})()
	;
	frame.set("sdg_label", t_23, true);
	if(frame.topLevel) {
	context.setVariable("sdg_label", t_23);
	}
	if(frame.topLevel) {
	context.addExport("sdg_label", t_23);
	}
	output += "\n\t\t\t";
	output += runtime.suppressValue((lineno = 85, colno = 19, runtime.callWrap(runtime.memberLookup((t_1),"listItem"), "macros[\"listItem\"]", context, [env.getFilter("safe").call(context, runtime.contextOrFrameLookup(context, frame, "sdg_label")),t_22,"fa-filter",runtime.makeKeywordArgs({"includeUnderdrop": true})])), env.opts.autoescape);
	output += "\n\t\t";
	;
	}
	} else {
	t_18 = -1;
	var t_19 = runtime.keys(t_20).length;
	for(var t_24 in t_20) {
	t_18++;
	var t_25 = t_20[t_24];
	frame.set("sdg_title", t_24);
	frame.set("sdg_url", t_25);
	frame.set("loop.index", t_18 + 1);
	frame.set("loop.index0", t_18);
	frame.set("loop.revindex", t_19 - t_18);
	frame.set("loop.revindex0", t_19 - t_18 - 1);
	frame.set("loop.first", t_18 === 0);
	frame.set("loop.last", t_18 === t_19 - 1);
	frame.set("loop.length", t_19);
	output += "\n\t\t\t";
	var t_26;
	t_26 = (function() {
	var output = "";
	output += "\n\t\t\t\t";
	output += "\n\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"SDG"), true && env.opts.autoescape);
	output += ": ";
	output += runtime.suppressValue(env.getFilter("safe").call(context, t_24), env.opts.autoescape);
	output += "\n\t\t\t";
	;
	return output;
	})()
	;
	frame.set("sdg_label", t_26, true);
	if(frame.topLevel) {
	context.setVariable("sdg_label", t_26);
	}
	if(frame.topLevel) {
	context.addExport("sdg_label", t_26);
	}
	output += "\n\t\t\t";
	output += runtime.suppressValue((lineno = 85, colno = 19, runtime.callWrap(runtime.memberLookup((t_1),"listItem"), "macros[\"listItem\"]", context, [env.getFilter("safe").call(context, runtime.contextOrFrameLookup(context, frame, "sdg_label")),t_25,"fa-filter",runtime.makeKeywordArgs({"includeUnderdrop": true})])), env.opts.autoescape);
	output += "\n\t\t";
	;
	}
	}
	}
	frame = frame.pop();
	output += " \n\t\t\n\t\t";
	output += "\n\t\t";
	frame = frame.push();
	var t_29 = runtime.contextOrFrameLookup(context, frame, "quicksearchResults");
	if(t_29) {var t_28 = t_29.length;
	for(var t_27=0; t_27 < t_29.length; t_27++) {
	var t_30 = t_29[t_27];
	frame.set("item", t_30);
	frame.set("loop.index", t_27 + 1);
	frame.set("loop.index0", t_27);
	frame.set("loop.revindex", t_28 - t_27);
	frame.set("loop.revindex0", t_28 - t_27 - 1);
	frame.set("loop.first", t_27 === 0);
	frame.set("loop.last", t_27 === t_28 - 1);
	frame.set("loop.length", t_28);
	output += "\n\t\t\t";
	output += "\n\t\t\t";
	if(runtime.memberLookup((t_30),"icon") == "fa-cloud") {
	output += "\n\t\t\t\t";
	output += runtime.suppressValue((lineno = 92, colno = 20, runtime.callWrap(runtime.memberLookup((t_1),"listItem"), "macros[\"listItem\"]", context, [runtime.memberLookup((t_30),"text"),runtime.memberLookup((t_30),"url"),runtime.memberLookup((t_30),"icon"),runtime.makeKeywordArgs({"subtext": runtime.memberLookup((t_30),"subtext"),"annotation": runtime.memberLookup((t_30),"group"),"annotationIcon": runtime.memberLookup((t_30),"group_icon"),"includeUnderdrop": true})])), env.opts.autoescape);
	output += "\n\t\t\t";
	;
	}
	else {
	output += "\n\t\t\t\t";
	output += runtime.suppressValue((lineno = 94, colno = 20, runtime.callWrap(runtime.memberLookup((t_1),"listItem"), "macros[\"listItem\"]", context, [runtime.memberLookup((t_30),"text"),runtime.memberLookup((t_30),"url"),runtime.memberLookup((t_30),"icon"),runtime.makeKeywordArgs({"annotation": runtime.memberLookup((t_30),"group"),"annotationIcon": runtime.memberLookup((t_30),"group_icon"),"includeUnderdrop": true})])), env.opts.autoescape);
	output += "\n\t\t\t";
	;
	}
	output += "\n\t\t";
	;
	}
	}
	frame = frame.pop();
	output += "\n\t";
	;
	}
	output += "\n</ul>\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/navbar/quicksearch.html"] , dependencies)

/***/ }),
/* 51 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var BaseView = __webpack_require__(4);
	var util = __webpack_require__(5);
	
	module.exports = BaseView.extend({
	    
	    // reference back to the main App
	    app: null,
	    
	    template: __webpack_require__(52),
	    
	    // The DOM events specific to an item.
	    events: {
	    },
	    
	    defaults: {
	
	        state: {
	            
	        }
	    },
	
	    initialize: function (options, app) {
	        var self = this;
	        self.app = app;
	        BaseView.prototype.initialize.call(self, options);
	        // decode the `contextDataJSON` that got passed by the app.js init call as HTML encoded strings 
	        for (var datakey in self.options.contextDataJSON) {
	        	self.options[datakey] = JSON.parse($("<textarea/>").html(self.options.contextDataJSON[datakey]).text());
	        }
	        for (var datakey in self.options.contextData) {
	        	self.options[datakey] = self.options.contextData[datakey];
	        }
	        
	    },
	
	    render: function () {
	        var self = this;
	        BaseView.prototype.render.call(self);
	        util.log('*** Rendered navbar main menu! ***')
	        $.cosinnus.renderMomentDataDate();
	        return self;
	    },
	    
	    /** Extend the template data by the controlView's options and state */
	    getTemplateData: function () {
	        var self = this;
	        var data = BaseView.prototype.getTemplateData.call(self);
	        return data;
	    },
	    
	    
	});


/***/ }),
/* 52 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/navbar/main-menu.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	output += runtime.suppressValue(env.getExtension("passThrough")["run"](context,runtime.contextOrFrameLookup(context, frame, "i18n")), true && env.opts.autoescape);
	output += "\n";
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/navbar/main-menu.html", false, function(t_2,t_1) {
	if(t_2) { cb(t_2); return; }
	t_1.getExported(function(t_3,t_1) {
	if(t_3) { cb(t_3); return; }
	context.setVariable("macros", t_1);
	output += "\n\n<div class=\"main-menu\">\n\t<div class=\"nav-column\">\n\t\t\n\t\t";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "groups_invited")) > 0) {
	output += "\n\t\t\t<h2 class=\"headline headline-condensed\">\n\t\t\t\t";
	output += "\n\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Invitations"), true && env.opts.autoescape);
	output += " (";
	output += runtime.suppressValue(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "groups_invited")), env.opts.autoescape);
	output += ")\n\t\t\t</h2>\n\t\t\n\t\t\t<ul class=\"item-list\">\n\t\t\t\t";
	frame = frame.push();
	var t_6 = runtime.contextOrFrameLookup(context, frame, "groups_invited");
	if(t_6) {var t_5 = t_6.length;
	for(var t_4=0; t_4 < t_6.length; t_4++) {
	var t_7 = t_6[t_4];
	frame.set("item", t_7);
	frame.set("loop.index", t_4 + 1);
	frame.set("loop.index0", t_4);
	frame.set("loop.revindex", t_5 - t_4);
	frame.set("loop.revindex0", t_5 - t_4 - 1);
	frame.set("loop.first", t_4 === 0);
	frame.set("loop.last", t_4 === t_5 - 1);
	frame.set("loop.length", t_5);
	output += "\n\t\t\t\t\t";
	output += runtime.suppressValue((lineno = 14, colno = 21, runtime.callWrap(runtime.memberLookup((t_1),"listItem"), "macros[\"listItem\"]", context, [runtime.memberLookup((t_7),"text"),runtime.memberLookup((t_7),"url"),runtime.memberLookup((t_7),"icon"),runtime.makeKeywordArgs({"is_emphasized": runtime.memberLookup((t_7),"is_emphasized")})])), env.opts.autoescape);
	output += "\n\t\t\t\t";
	;
	}
	}
	frame = frame.pop();
	output += "\n\t\t\t</ul>\n\t\t\t\n\t\t\t<hr>\n\t\t";
	;
	}
	output += "\n\t\t\n\t\t";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "group_requests")) > 0) {
	output += "\n\t\t\t<h2 class=\"headline headline-condensed\">\n\t\t\t\t";
	output += "\n\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Membership Requests"), true && env.opts.autoescape);
	output += " (";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "group_requests_count"), env.opts.autoescape);
	output += ")\n\t\t\t</h2>\n\t\t\n\t\t\t<ul class=\"item-list\">\n\t\t\t\t";
	frame = frame.push();
	var t_10 = runtime.contextOrFrameLookup(context, frame, "group_requests");
	if(t_10) {var t_9 = t_10.length;
	for(var t_8=0; t_8 < t_10.length; t_8++) {
	var t_11 = t_10[t_8];
	frame.set("item", t_11);
	frame.set("loop.index", t_8 + 1);
	frame.set("loop.index0", t_8);
	frame.set("loop.revindex", t_9 - t_8);
	frame.set("loop.revindex0", t_9 - t_8 - 1);
	frame.set("loop.first", t_8 === 0);
	frame.set("loop.last", t_8 === t_9 - 1);
	frame.set("loop.length", t_9);
	output += "\n\t\t\t\t\t";
	output += runtime.suppressValue((lineno = 29, colno = 21, runtime.callWrap(runtime.memberLookup((t_1),"listItem"), "macros[\"listItem\"]", context, [runtime.memberLookup((t_11),"text"),runtime.memberLookup((t_11),"url"),runtime.memberLookup((t_11),"icon"),runtime.makeKeywordArgs({"is_emphasized": runtime.memberLookup((t_11),"is_emphasized")})])), env.opts.autoescape);
	output += "\n\t\t\t\t";
	;
	}
	}
	frame = frame.pop();
	output += "\n\t\t\t</ul>\n\t\t\t\n\t\t\t<hr>\n\t\t";
	;
	}
	output += "\n\n\t\t";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "conference_requests")) > 0) {
	output += "\n\t\t\t<h2 class=\"headline headline-condensed\">\n\t\t\t\t";
	output += "\n\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Conference Applications"), true && env.opts.autoescape);
	output += " (";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "conference_requests_count"), env.opts.autoescape);
	output += ")\n\t\t\t</h2>\n\t\t\n\t\t\t<ul class=\"item-list\">\n\t\t\t\t";
	frame = frame.push();
	var t_14 = runtime.contextOrFrameLookup(context, frame, "conference_requests");
	if(t_14) {var t_13 = t_14.length;
	for(var t_12=0; t_12 < t_14.length; t_12++) {
	var t_15 = t_14[t_12];
	frame.set("item", t_15);
	frame.set("loop.index", t_12 + 1);
	frame.set("loop.index0", t_12);
	frame.set("loop.revindex", t_13 - t_12);
	frame.set("loop.revindex0", t_13 - t_12 - 1);
	frame.set("loop.first", t_12 === 0);
	frame.set("loop.last", t_12 === t_13 - 1);
	frame.set("loop.length", t_13);
	output += "\n\t\t\t\t\t";
	output += runtime.suppressValue((lineno = 44, colno = 21, runtime.callWrap(runtime.memberLookup((t_1),"listItem"), "macros[\"listItem\"]", context, [runtime.memberLookup((t_15),"text"),runtime.memberLookup((t_15),"url"),runtime.memberLookup((t_15),"icon"),runtime.makeKeywordArgs({"is_emphasized": runtime.memberLookup((t_15),"is_emphasized")})])), env.opts.autoescape);
	output += "\n\t\t\t\t";
	;
	}
	}
	frame = frame.pop();
	output += "\n\t\t\t</ul>\n\t\t\t\n\t\t\t<hr>\n\t\t";
	;
	}
	output += "\n\t\t\n\t\t<h2 class=\"headline headline-condensed\">\n\t\t\t";
	output += "\n\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"My Groups and Projects"), true && env.opts.autoescape);
	output += "\n\t\t</h2>\n\t\t\n\t\t<ul class=\"item-list\">\n\t\t\t";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "group_clusters")) > 0) {
	output += "\n\t\t\t\t";
	frame = frame.push();
	var t_18 = runtime.contextOrFrameLookup(context, frame, "group_clusters");
	if(t_18) {var t_17 = t_18.length;
	for(var t_16=0; t_16 < t_18.length; t_16++) {
	var t_19 = t_18[t_16];
	frame.set("cluster", t_19);
	frame.set("loop.index", t_16 + 1);
	frame.set("loop.index0", t_16);
	frame.set("loop.revindex", t_17 - t_16);
	frame.set("loop.revindex0", t_17 - t_16 - 1);
	frame.set("loop.first", t_16 === 0);
	frame.set("loop.last", t_16 === t_17 - 1);
	frame.set("loop.length", t_17);
	output += "\n\t\t\t\t\t";
	frame = frame.push();
	var t_22 = t_19;
	if(t_22) {var t_21 = t_22.length;
	for(var t_20=0; t_20 < t_22.length; t_20++) {
	var t_23 = t_22[t_20];
	frame.set("item", t_23);
	frame.set("loop.index", t_20 + 1);
	frame.set("loop.index0", t_20);
	frame.set("loop.revindex", t_21 - t_20);
	frame.set("loop.revindex0", t_21 - t_20 - 1);
	frame.set("loop.first", t_20 === 0);
	frame.set("loop.last", t_20 === t_21 - 1);
	frame.set("loop.length", t_21);
	output += "\n\t\t\t\t\t\t";
	if(runtime.memberLookup((t_23),"hasmorelink")) {
	output += "\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<a class=\"list-item list-item-link\" href=\"#\" role=\"button\" titledby=\".item-text\"> \n\t\t\t\t\t\t\t\t\t<div id=\"more-link1\" class=\"item-text\">\n\t\t\t\t\t\t                ";
	output += "\n\t\t\t\t\t\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Show more Projects of this Group"), true && env.opts.autoescape);
	output += "\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t";
	;
	}
	else {
	output += "\n\t\t\t\t\t\t\t";
	output += runtime.suppressValue((lineno = 70, colno = 23, runtime.callWrap(runtime.memberLookup((t_1),"listItem"), "macros[\"listItem\"]", context, [runtime.memberLookup((t_23),"text"),runtime.memberLookup((t_23),"url"),runtime.memberLookup((t_23),"icon"),runtime.makeKeywordArgs({"is_emphasized": runtime.memberLookup((t_23),"is_emphasized")})])), env.opts.autoescape);
	output += "\n\t\t\t\t\t\t";
	;
	}
	output += "\n\t\t\t\t\t";
	;
	}
	}
	frame = frame.pop();
	output += "\n\t\t\t\t\n\t\t\t\t\t";
	if(!runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "loop")),"last")) {
	output += "\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<hr>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t";
	;
	}
	output += "\n\t\t\t\t";
	;
	}
	}
	frame = frame.pop();
	output += "\n\t\t\t";
	;
	}
	else {
	output += "\n\t\t\t\t<li>\n\t\t\t\t\t<span class=\"list-item list-item-link no-select\" href=\"#\" role=\"button\" titledby=\".item-text\"> \n\t\t\t    \t\t<div class=\"item-text\">\n\t\t\t                ";
	output += "\n\t\t\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"You are not in any groups or projects yet"), true && env.opts.autoescape);
	output += "\n\t\t\t    \t\t</div>\n\t\t\t\t\t</span>\n\t\t\t\t</li>\n\t\t\t";
	;
	}
	output += "\n\t\t</ul>\n\t\t\n\t\t<hr>\n\t\t\n\t\t<div class=\"main-menu-links\">\n\t\t    ";
	if(runtime.contextOrFrameLookup(context, frame, "COSINNUS_SHOW_PROJECT_AND_GROUP_CREATE_BUTTONS")) {
	output += "\n\t\t\t\t<div><a href=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "group_add_url"), env.opts.autoescape);
	output += "\">\n\t\t\t\t\t";
	output += "\n\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Create new Group"), true && env.opts.autoescape);
	output += "\n\t\t\t\t</a></div>\n\t\t\t\t<div><a href=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "project_add_url"), env.opts.autoescape);
	output += "\">\n\t\t\t\t\t";
	output += "\n\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Create new Project"), true && env.opts.autoescape);
	output += " \n\t\t\t\t</a></div>\n\t\t\t";
	;
	}
	output += "\n\t\t\t<div><a href=\"/groups/\">\n\t\t\t\t";
	output += "\n\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Browse all Groups"), true && env.opts.autoescape);
	output += " \n\t\t\t</a></div>\n\t\t\t<div><a href=\"/projects/\">\n\t\t\t\t";
	output += "\n\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Browse all Projects"), true && env.opts.autoescape);
	output += " \n\t\t\t</a></div>\n\t\t\t";
	if(runtime.contextOrFrameLookup(context, frame, "COSINNUS_MATCHING_ENABLED")) {
	output += "\n\t\t\t\t<div><a href=\"/map/?matching=true\">\n\t\t\t\t\t";
	output += "\n\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Find partners"), true && env.opts.autoescape);
	output += "\n\t\t\t\t</a></div>\n\t\t\t";
	;
	}
	output += "\n\t\t</div>\n\t</div>\n\t\n\t";
	if(runtime.contextOrFrameLookup(context, frame, "COSINNUS_CONFERENCES_ENABLED") || runtime.contextOrFrameLookup(context, frame, "COSINNUS_IDEAS_ENABLED") || runtime.contextOrFrameLookup(context, frame, "COSINNUS_ORGANIZATIONS_ENABLED")) {
	output += "\n\t<div class=\"nav-column\">\n\t    ";
	if(runtime.contextOrFrameLookup(context, frame, "COSINNUS_CONFERENCES_ENABLED")) {
	output += "\n\t        <h2 class=\"headline headline-condensed\">\n\t\t\t    ";
	output += runtime.suppressValue(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")),"COSINNUS_TRANS_MY_CONFERENCES"), env.opts.autoescape);
	output += "\n\t        </h2>\n\t        \n\t        <ul class=\"item-list\">\n\t            ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "my_conferences"))) {
	output += "\n\t                ";
	frame = frame.push();
	var t_26 = runtime.contextOrFrameLookup(context, frame, "my_conferences");
	if(t_26) {var t_25 = t_26.length;
	for(var t_24=0; t_24 < t_26.length; t_24++) {
	var t_27 = t_26[t_24];
	frame.set("item", t_27);
	frame.set("loop.index", t_24 + 1);
	frame.set("loop.index0", t_24);
	frame.set("loop.revindex", t_25 - t_24);
	frame.set("loop.revindex0", t_25 - t_24 - 1);
	frame.set("loop.first", t_24 === 0);
	frame.set("loop.last", t_24 === t_25 - 1);
	frame.set("loop.length", t_25);
	output += "\n\t                    ";
	output += runtime.suppressValue((lineno = 132, colno = 37, runtime.callWrap(runtime.memberLookup((t_1),"listItem"), "macros[\"listItem\"]", context, [runtime.memberLookup((t_27),"text"),runtime.memberLookup((t_27),"url"),runtime.memberLookup((t_27),"icon"),runtime.makeKeywordArgs({"is_emphasized": runtime.memberLookup((t_27),"is_emphasized")})])), env.opts.autoescape);
	output += "\n\t                ";
	;
	}
	}
	frame = frame.pop();
	output += "\n\t            ";
	;
	}
	else {
	output += "\n\t                <li>\n\t                    <span class=\"list-item list-item-link no-select\" href=\"#\" role=\"button\" titledby=\".item-text\">\n\t                        <div class=\"item-text\">\n\t                            ";
	output += runtime.suppressValue(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")),"COSINNUS_TRANS_MY_CONFERENCES_EMPTY"), env.opts.autoescape);
	output += "\n\t                        </div>\n\t                    </span>\n\t                </li>    \n\t\t        ";
	;
	}
	output += "\n\t        </ul>\n\t            \n\t        <hr>\n\t        ";
	if(runtime.contextOrFrameLookup(context, frame, "COSINNUS_USER_CAN_CREATE_CONFERENCE")) {
	output += "\n\t           <div class=\"main-menu-links\">\n\t\t           <div><a href=\"/conferences/add/\">\n\t                    ";
	output += runtime.suppressValue(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")),"COSINNUS_TRANS_CREATE_CONFERENCE"), env.opts.autoescape);
	output += " \n\t                </a></div>\n                </div>\n            ";
	;
	}
	output += "\n            <div class=\"main-menu-links\">\n                <div><a href=\"/conferences/\">\n                    ";
	output += runtime.suppressValue(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")),"COSINNUS_TRANS_BROWSE_ALL_CONFERENCES"), env.opts.autoescape);
	output += "\n                </a></div>\n            </div>\n            \n            ";
	if(runtime.contextOrFrameLookup(context, frame, "COSINNUS_ORGANIZATIONS_ENABLED") || runtime.contextOrFrameLookup(context, frame, "COSINNUS_IDEAS_ENABLED")) {
	output += "\n            <hr>\n            ";
	;
	}
	output += "\n        ";
	;
	}
	output += "\n\t\n\t\t";
	if(runtime.contextOrFrameLookup(context, frame, "COSINNUS_ORGANIZATIONS_ENABLED")) {
	output += "\n\t\t\t<h2 class=\"headline headline-condensed\">\n\t\t\t\t";
	output += "\n\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"My Organizations"), true && env.opts.autoescape);
	output += "\n\t\t\t</h2>\n\t\t    <ul class=\"item-list\">\n\t\t\t";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "my_organizations"))) {
	output += "\n\t\t\t\t";
	frame = frame.push();
	var t_30 = runtime.contextOrFrameLookup(context, frame, "my_organizations");
	if(t_30) {var t_29 = t_30.length;
	for(var t_28=0; t_28 < t_30.length; t_28++) {
	var t_31 = t_30[t_28];
	frame.set("item", t_31);
	frame.set("loop.index", t_28 + 1);
	frame.set("loop.index0", t_28);
	frame.set("loop.revindex", t_29 - t_28);
	frame.set("loop.revindex0", t_29 - t_28 - 1);
	frame.set("loop.first", t_28 === 0);
	frame.set("loop.last", t_28 === t_29 - 1);
	frame.set("loop.length", t_29);
	output += "\n\t\t\t\t\t";
	output += runtime.suppressValue((lineno = 172, colno = 21, runtime.callWrap(runtime.memberLookup((t_1),"listItem"), "macros[\"listItem\"]", context, [runtime.memberLookup((t_31),"text"),runtime.memberLookup((t_31),"url"),runtime.memberLookup((t_31),"icon"),runtime.makeKeywordArgs({"is_emphasized": runtime.memberLookup((t_31),"is_emphasized")})])), env.opts.autoescape);
	output += "\n\t\t\t\t";
	;
	}
	}
	frame = frame.pop();
	output += "\n\t\t\t";
	;
	}
	else {
	output += "\n\t\t\t\t<li>\n\t\t\t\t\t<span class=\"list-item list-item-link no-select\" href=\"#\" role=\"button\" titledby=\".item-text\">\n\t\t\t\t\t\t<div class=\"item-text\">\n\t\t\t\t\t\t\t";
	output += "\n\t\t\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"You have not created any organizations yet."), true && env.opts.autoescape);
	output += "\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</span>\n\t\t\t\t</li>\n\t\t\t";
	;
	}
	output += "\n\t\t\t</ul>\n\t\t\t<hr>\n\t\t\t\n\t\t\t<div class=\"main-menu-links\">\n\t\t\t\t<div><a href=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "organization_add_url"), env.opts.autoescape);
	output += "\">\n\t\t\t\t\t";
	output += "\n\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Create new Organization"), true && env.opts.autoescape);
	output += " \n\t\t\t\t</a></div>\n\t\t\t\t<div><a href=\"/organizations/\">\n\t\t\t\t\t";
	output += "\n\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Browse all Organizations"), true && env.opts.autoescape);
	output += " \n\t\t\t\t</a></div>\n\t\t\t\t<div style=\"display:none;\"><a href=\"/map/?people=false&events=false&projects=false&groups=false&ideas=false&organizations=true\">\n\t\t\t\t\t";
	output += "\n\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Search for Organizations"), true && env.opts.autoescape);
	output += " \n\t\t\t\t</a></div>\n\t\t\t</div>\n\t\t\t\n\t\t\t";
	if(runtime.contextOrFrameLookup(context, frame, "COSINNUS_IDEAS_ENABLED")) {
	output += "\n\t\t\t<hr>\n\t\t\t";
	;
	}
	output += "\n\t\t";
	;
	}
	output += "\n\t\t\n\t\t";
	if(runtime.contextOrFrameLookup(context, frame, "COSINNUS_IDEAS_ENABLED")) {
	output += "\n\t\t\t<h2 class=\"headline headline-condensed\">\n\t\t\t\t";
	output += "\n\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Ideas I am following"), true && env.opts.autoescape);
	output += "\n\t\t\t</h2>\n\t\t\t\n\t\t\t<ul class=\"item-list\">\n\t\t\t\t";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "followed_ideas")) > 0) {
	output += "\n\t\t\t\t\t";
	frame = frame.push();
	var t_34 = runtime.contextOrFrameLookup(context, frame, "followed_ideas");
	if(t_34) {var t_33 = t_34.length;
	for(var t_32=0; t_32 < t_34.length; t_32++) {
	var t_35 = t_34[t_32];
	frame.set("item", t_35);
	frame.set("loop.index", t_32 + 1);
	frame.set("loop.index0", t_32);
	frame.set("loop.revindex", t_33 - t_32);
	frame.set("loop.revindex0", t_33 - t_32 - 1);
	frame.set("loop.first", t_32 === 0);
	frame.set("loop.last", t_32 === t_33 - 1);
	frame.set("loop.length", t_33);
	output += "\n\t\t\t\t\t\t";
	output += runtime.suppressValue((lineno = 216, colno = 22, runtime.callWrap(runtime.memberLookup((t_1),"listItem"), "macros[\"listItem\"]", context, [runtime.memberLookup((t_35),"text"),runtime.memberLookup((t_35),"url"),runtime.memberLookup((t_35),"icon"),runtime.makeKeywordArgs({"is_emphasized": runtime.memberLookup((t_35),"is_emphasized")})])), env.opts.autoescape);
	output += "\n\t\t\t\t\t";
	;
	}
	}
	frame = frame.pop();
	output += "\n\t\t\t\t";
	;
	}
	else {
	output += "\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<span class=\"list-item list-item-link no-select\" href=\"#\" role=\"button\" titledby=\".item-text\"> \n\t\t\t\t    \t\t<div class=\"item-text\">\n\t\t\t\t                ";
	output += "\n\t\t\t\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"You are not following any ideas yet."), true && env.opts.autoescape);
	output += "\n\t\t\t\t    \t\t</div>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</li>\n\t\t\t\t";
	;
	}
	output += "\n\t\t\t</ul>\n\t\t\t\n\t\t\t<hr>\n\t\t\t\n\t\t\t";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "my_ideas"))) {
	output += "\n\t\t\t\t<h2 class=\"headline headline-condensed\">\n\t\t\t\t\t";
	output += "\n\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"My Ideas"), true && env.opts.autoescape);
	output += "\n\t\t\t\t</h2>\n\t\t\t\t<ul class=\"item-list\">\n\t\t\t\t\t";
	frame = frame.push();
	var t_38 = runtime.contextOrFrameLookup(context, frame, "my_ideas");
	if(t_38) {var t_37 = t_38.length;
	for(var t_36=0; t_36 < t_38.length; t_36++) {
	var t_39 = t_38[t_36];
	frame.set("item", t_39);
	frame.set("loop.index", t_36 + 1);
	frame.set("loop.index0", t_36);
	frame.set("loop.revindex", t_37 - t_36);
	frame.set("loop.revindex0", t_37 - t_36 - 1);
	frame.set("loop.first", t_36 === 0);
	frame.set("loop.last", t_36 === t_37 - 1);
	frame.set("loop.length", t_37);
	output += "\n\t\t\t\t\t\t";
	output += runtime.suppressValue((lineno = 239, colno = 22, runtime.callWrap(runtime.memberLookup((t_1),"listItem"), "macros[\"listItem\"]", context, [runtime.memberLookup((t_39),"text"),runtime.memberLookup((t_39),"url"),runtime.memberLookup((t_39),"icon"),runtime.makeKeywordArgs({"is_emphasized": runtime.memberLookup((t_39),"is_emphasized")})])), env.opts.autoescape);
	output += "\n\t\t\t\t\t";
	;
	}
	}
	frame = frame.pop();
	output += "\n\t\t\t\t</ul>\n\t\t\t\t<hr>\n\t\t\t";
	;
	}
	output += "\n\t\t\t\n\t\t\t<div class=\"main-menu-links\">\n\t\t\t\t<div><a href=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "idea_add_url"), env.opts.autoescape);
	output += "\">\n\t\t\t\t\t";
	output += "\n\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Post new Idea"), true && env.opts.autoescape);
	output += " \n\t\t\t\t</a></div>\n\t\t\t\t<div><a href=\"/ideas/\">\n\t\t\t\t\t";
	output += "\n\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Browse all Ideas"), true && env.opts.autoescape);
	output += " \n\t\t\t\t</a></div>\n\t\t\t\t<div style=\"display:none;\"><a href=\"/map/?people=false&events=false&projects=false&groups=false&conferences=false&ideas=true&organizations=false\">\n\t\t\t\t\t";
	output += "\n\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Search for Ideas"), true && env.opts.autoescape);
	output += " \n\t\t\t\t</a></div>\n\t\t\t</div>\n\t\t";
	;
	}
	output += "\n\t\t\n\t</div>\n\t";
	;
	}
	output += "\n\t\n\t<div class=\"nav-column\">\n\t\t<h2 class=\"headline headline-condensed\">\n\t\t\t";
	output += "\n\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"My Events"), true && env.opts.autoescape);
	output += "\n\t\t</h2>\n\t\t\n\t\t<ul class=\"item-list\">\n\t\t\t";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "attending_events")) > 0) {
	output += "\n\t\t\t\t";
	frame = frame.push();
	var t_42 = runtime.contextOrFrameLookup(context, frame, "attending_events");
	if(t_42) {var t_41 = t_42.length;
	for(var t_40=0; t_40 < t_42.length; t_40++) {
	var t_43 = t_42[t_40];
	frame.set("item", t_43);
	frame.set("loop.index", t_40 + 1);
	frame.set("loop.index0", t_40);
	frame.set("loop.revindex", t_41 - t_40);
	frame.set("loop.revindex0", t_41 - t_40 - 1);
	frame.set("loop.first", t_40 === 0);
	frame.set("loop.last", t_40 === t_41 - 1);
	frame.set("loop.length", t_41);
	output += "\n\t\t\t\t\t";
	output += runtime.suppressValue((lineno = 273, colno = 21, runtime.callWrap(runtime.memberLookup((t_1),"listItem"), "macros[\"listItem\"]", context, [runtime.memberLookup((t_43),"text"),runtime.memberLookup((t_43),"url"),runtime.memberLookup((t_43),"icon"),runtime.makeKeywordArgs({"subtext": runtime.memberLookup((t_43),"subtext"),"is_emphasized": runtime.memberLookup((t_43),"is_emphasized")})])), env.opts.autoescape);
	output += "\n\t\t\t\t";
	;
	}
	}
	frame = frame.pop();
	output += "\n\t\t\t";
	;
	}
	else {
	output += "\n\t\t\t\t<li>\n\t\t\t\t\t<span class=\"list-item list-item-link no-select\" href=\"#\" role=\"button\" titledby=\".item-text\"> \n\t\t\t    \t\t<div class=\"item-text\">\n\t\t\t                ";
	output += "\n\t\t\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"You have not RSVPed to any Events."), true && env.opts.autoescape);
	output += "\n\t\t\t    \t\t</div>\n\t\t\t\t\t</span>\n\t\t\t\t</li>\n\t\t\t";
	;
	}
	output += "\n\t\t</ul>\n\t\t\n\t\t";
	if(runtime.contextOrFrameLookup(context, frame, "event_add_url") || runtime.contextOrFrameLookup(context, frame, "event_calendar_url")) {
	output += "\n\t\t\t<hr>\n\t\t\t\n\t\t\t<div class=\"main-menu-links\">\n\t\t\t    ";
	if(runtime.contextOrFrameLookup(context, frame, "event_add_url")) {
	output += "\n\t\t\t\t\t<div><a href=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "event_add_url"), env.opts.autoescape);
	output += "\">\n\t\t\t\t\t\t";
	output += "\n\t\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Add Event"), true && env.opts.autoescape);
	output += " \n\t\t\t\t\t</a></div>\n\t            ";
	;
	}
	output += "\n\t\t\t\t";
	if(runtime.contextOrFrameLookup(context, frame, "event_calendar_url")) {
	output += "\n\t\t\t\t\t<div><a href=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "event_calendar_url"), env.opts.autoescape);
	output += "\">\n\t\t\t\t\t\t";
	output += "\n\t\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Go to Calendar"), true && env.opts.autoescape);
	output += " \n\t\t\t\t\t</a></div>\n\t            ";
	;
	}
	output += "\n\t\t\t</div>\n\t\t";
	;
	}
	output += "\n\t\t\n\t</div>\n</div>";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/navbar/main-menu.html"] , dependencies)

/***/ }),
/* 53 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var DelegatedWidgetView = __webpack_require__(54);
	var util = __webpack_require__(5);
	
	module.exports = DelegatedWidgetView.extend({
	
		app: null,
	    template: __webpack_require__(55),
	    
	    fetchURL: '/profile/api/alerts/get/', // overridden for subview
	    
	    // the notification-show button in the navbar
	    $notificationButtonEl: null,
	    
	    // the messages-show button in the navbar
	    $messagesButtonEl: null,
	    
	    // the setTimeout object
		pollIntervalObj: null,
		
	    // will be set to self.options during initialization
	    defaults: {
	    	
	    	type: null, // the type of the content the widget displays
	    	loadMoreEnabled: true, // widget template options
	    	
	    	pollInterval: 60000, // polling interval in ms
	    	
	    	// for resumed connections, after how minutes of *not having polled*,
	    	// will the entire widget be reloaded instead of polling new data 
	    	pollResetMinutes: 60, // reset interval in minutes
	        
	        state: {
	            newestTimestamp: null,
	            unseenCount: 0,
	            hasUnrenderedItems: true,
	            lastPollDate: null,
	            originalPageTitle: null,
	        }
	    },
	    
	    // The DOM events specific to an item.
	    events: {
	    	'click .show-more': 'onShowMoreClicked',
	    },
	    
	    initialize: function (options, app) {
	        var self = this;
	        self.app = app;
	        DelegatedWidgetView.prototype.initialize.call(self, options);
	        self.options.type = options.type; // would have happened in initialize already but let's be explicit
	        
	        self.$notificationButtonEl = $('#navbar-notifications-button');
	        self.$messagesButtonEl = $('#navbar-messages-button');
	        
	        // events that have to be defined here because they happen in the notification button:
	        self.$notificationButtonEl.on('click', self.thisContext(self.onNotificationButtonClicked));
	        
	        self.state.originalPageTitle = document.title;
	    },
	    
	    /** Overriding base function for unique widget ID. */
	    getWidgetId: function() {
	        return 'notification-widget';
	    },
	    
	    /** Overriding params for request */
	    getParamsForFetchRequest: function(loadOptions) {
	    	var self = this;
	    	if (typeof loadOptions !== "undefined" && loadOptions.isPoll == true) {
	            return {
	                urlSuffix: self.state.newestTimestamp,
	                urlParams: null
	            };
	    	}
	    	var urlParams = null;
	        if (self.options.loadMoreEnabled && self.state.offsetTimestamp) {
	            urlParams = {
	                'offset_timestamp': self.state.offsetTimestamp,
	            }
	        }
	        return {
	            urlSuffix: null,
	            urlParams: urlParams,
	        }
	    },
	    
	    /** Handles data that has been loaded.
	        We are *not* calling super() here! */
	    handleData: function (response) {
	        var self = this;
	        var data = response['data'];
	        
	        if (data.polled_timestamp) {
	            // was a poll query. prepend new items before existing items
	            if (data['items'].length > 0) {
	                self.addNewerItems(data['items']);
	                self.state.hasUnrenderedItems = true;                
	            }
	        } else if (self.state.offsetTimestamp) {
	            // was a load-more query. append new items to existing items
	            Array.prototype.push.apply(self.widgetData['items'], data['items']);
	            // always set true, so we re-render always (make the load-more button disappear on 0 new items) 
	            self.state.hasUnrenderedItems = true; 
	        } else {
	            // first data load query, set data and init polling
	            self.widgetData = data;
	            self.state.hasUnrenderedItems = true;
	            self.initPoll();
	        }
	        
	        if (!data.polled_timestamp && self.options.loadMoreEnabled) {
	            if ('has_more' in data) {
	                self.state.hasMore = data['has_more'];
	            }
	            if ('offset_timestamp' in data && data['offset_timestamp']) {
	                self.state.offsetTimestamp = data['offset_timestamp'];
	            }
	        }
	        
	        // if given, set the timestamp of the newest item, from which on we will poll
	        if (data['newest_timestamp'] !== "undefined" && data['newest_timestamp']) {
	            self.state.newestTimestamp = data['newest_timestamp'];
	        }
	        var counterNumbers = false;
	        if (data['unseen_count'] !== "undefined" && data['unseen_count'] >= 0) {
	            self.state.unseenCount = data['unseen_count'];
	            counterNumbers = true;
	        }
	        if (data['unread_messages_count'] !== "undefined" && data['unread_messages_count'] >= 0) {
	            self.state.unreadMessagesCount = data['unread_messages_count'];
	            counterNumbers = true;
	        }
	        if (counterNumbers == true) {
	            self.afterRender();
	            self.updatePageTitle();
	        }
	    },
	    
	    /** Prepends the given items to the existing items, eg. after a poll event.
	        This will remove any existing items with the same id as any of the new items
	        (in this case they were refreshed on the server) */
	    addNewerItems: function (items) {
	        var self = this;
	        var oldItems = self.widgetData['items'];
	        // remove same-id old items
	        for (var i=oldItems.length-1; i >= 0; i--) {
	            var oldItemId = oldItems[i].id;
	            var contained = false;
	            for (var j=0; j < items.length; j++) {
	                if (items[j].id == oldItemId) {
	                    contained = true;
	                    break;
	                }
	            }
	            if (contained) {
	                oldItems.splice(i, 1);
	            }            
	        }
	        Array.prototype.push.apply(items, oldItems)
	        self.widgetData['items'] = items;
	    },
	    
	    /** Initialize polling */
	    initPoll: function () {
	        var self = this;
	        if (self.pollIntervalObj == null) {
	            self.pollIntervalObj = setTimeout(self.thisContext(self.pollFunction), self.options.pollInterval);
	        }
	    },
	    
	    /** Target interval function for each poll */
	    pollFunction: function () {
	        var self = this;
	        var reload = false;
	        // find out if this window has been a long time since last poll,
	        // and if so, reload the widget instead of polling
	        if (self.state.lastPollDate !== null) {
	            var diff = Math.abs(self.state.lastPollDate - new Date());
	            var minutes = Math.floor((diff/1000)/60);
	            reload = minutes >= self.options.pollResetMinutes;
	        }
	        if (reload) {
	            self.reloadWidget();  
	        } else {
	            // retrieve new items. if any, self.handleData() will handle the poll differently
	            self.load({
	                'isPoll': true
	            });
	            self.state.lastPollDate = new Date();
	            // renew poll
	            self.pollIntervalObj = setTimeout(self.thisContext(self.pollFunction), self.options.pollInterval);
	        }
	    },
	    
	    /** Stops polling */
	    stopPoll: function () {
	        var self = this;
	        clearTimeout(self.pollIntervalObj);
	        self.pollIntervalObj = null;
	    },
	    
	    /** Reloads the entire widget anew, with fresh data */
	    reloadWidget: function () {
	        var self = this;
	        self.stopPoll();
	        self.state.offsetTimestamp = null;  
	        self.state.newestTimestamp = null;
	        self.state.unseenCount = 0;
	        self.state.unreadMessagesCount = 0;
	        self.state.lastPollDate = null;
	        self.load();
	    },
	    
	    render: function () {
	        var self = this;
	        
	        // only render items if we have unrendered items (ie. not on a poll with 0 new items)
	        if (self.state.hasUnrenderedItems) {
	            self.state.hasUnrenderedItems = false;
	            DelegatedWidgetView.prototype.render.call(self);
	            util.log('# ## Rendered notification widget ' + self.widgetId);
	        }
	        // piggybacking on this poll, we refresh the moment dates on the entire page!
	        $.cosinnus.renderMomentDataDate();
	        return self;
	    },
	    
	    afterRender: function () {
	        var self = this;
	        // update out-of-frame elements
	        if (self.state.unseenCount && self.state.unseenCount > 0) {
	            self.$notificationButtonEl.find('.message-counter').text(self.state.unseenCount).show();
	        } else {
	            self.$notificationButtonEl.find('.message-counter').hide();
	        }
	        if (self.state.unreadMessagesCount && self.state.unreadMessagesCount > 0) {
	            self.$messagesButtonEl.find('.message-counter').text(self.state.unreadMessagesCount).show();
	        } else {
	            self.$messagesButtonEl.find('.message-counter').hide();
	        }
	    },
	    
	    /** Extend the template data by the controlView's options and state */
	    getTemplateData: function () {
	        var self = this;
	        var data = DelegatedWidgetView.prototype.getTemplateData.call(self);
	        return data;
	    },
	    
	    /** Fired when the navbar notification button is clicked */
	    onNotificationButtonClicked: function (event) {
	        var self = this;
	        if (this.$notificationButtonEl.hasClass('collapsed')) {
	            // fired only when the menu is opened
	            if (self.state.newestTimestamp) {
	                self.markSeen();
	            }
	        } 
	    },
	    
	    /** Posts to the server, sets all alerts older than the newest displayed as seen on the server */
	    markSeen: function() {
	        var self = this;
	        var url = '/profile/api/alerts/markseen/' + self.state.newestTimestamp + '/';
	        $.ajax(url, {
	            type: 'POST',
	            timeout: 15000,
	            success: function (response, textStatus, xhr) {
	                self.markSeenLocal();
	                util.log('Successfully marked as seen!');
	            },
	            error: function (xhr, textStatus) {
	                // marking seen even if it wasn't persisted (even more annoying if not)
	                self.markSeenLocal(); 
	                util.log('Error during marking as seen!');
	            }
	        });
	    },
	
	    /** Removes the notification button unseen number badge, in local frontend only. */    
	    markSeenLocal: function() {
	        var self = this;  
	        self.state.unseenCount = 0;
	        self.afterRender();
	        self.updatePageTitle();
	    },
	    
	    /** Updates the page title by prefixing a (3) unread counter to it */
	    updatePageTitle: function() {
	        var self = this;
	        var unseenPrefix = '';
	        var totalCount = self.state.unseenCount + self.state.unreadMessagesCount;
	        
	        if (totalCount > 0) {
	            unseenPrefix = '(' + totalCount + ') ';
	        }
	        document.title = unseenPrefix + self.state.originalPageTitle;  
	    },
	
	});


/***/ }),
/* 54 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var BaseView = __webpack_require__(4);
	var util = __webpack_require__(5);
	
	module.exports = BaseView.extend({
	    
	    // reference back to the main App
	    App: null,
	    
	    fetchURL: null, // to be overridden in subclass
	
	    widgetId: null, // set at initialization
	    widgetData: {},
	    
	    // will be set to self.options during initialization
	    defaults: {
	    	
	    	isMovable: false, // widget template options
	    	isHidable: false, // widget template options
	    	loadMoreEnabled: false, // widget template options
	    	
	        state: {
	        	sortIndex: 0,
	        	hasMore: false,
	    		offsetTimestamp: null,
	        }
	    },
	    
	    // You will need to add these events to extending widget views as well!
	    events: {
	    	'click .show-more': 'onShowMoreClicked',
	    },
	
	    initialize: function (options, app) {
	        var self = this;
	        self.app = app;
	        BaseView.prototype.initialize.call(self, options);
	        self.widgetId = self.getWidgetId();
	    },
	    
	    /** 
	     * Set the unique widget ID for this widget.
	     * Stub to be overridden. 
	     *  */
	    getWidgetId: function() {
	    	alert('ImproperlyImplemented: this view must implement the function "setWidgetId"!');
	    },
	    
	    /** 
	     *  Get all params required for the fetch of widget data to the URL `self.fetchURL`
	     *  Stub to be overridden.
	     *  */
	    getParamsForFetchRequest: function() {
	    	var self = this;
	    	var urlParams = {};
	    	if (self.options.loadMoreEnabled && self.state.offsetTimestamp) {
	    		urlParams = {
					'offset_timestamp': self.state.offsetTimestamp,
					'page_size': 5,
	    		}
	    	}
	    	return {
	    		urlSuffix: null,
	    		urlParams: urlParams,
	    	}
	    },
	       
	    /**
	     * Loads the contents for this widget from `self.fetchUrl`, sets them as data for this view and
	     * renders the widget.
	     * 
	     * Returns a promise which resolves after the chain completes or an error occured 
	     * (the widget shows an error message then). Never rejects.
	     */
	    load: function(loadOptions) {
	    	var self = this;
	    	return new Promise(function(resolve, reject) {
	    		self.loadData(loadOptions)
		    		.then(self.thisContext(self.render))
		    		.then(function(){
		    			util.log('# ### loaded and resolving widget ' + self.widgetId);
		    			resolve();
		    		});
	    	});
	    },
	    
	    loadData: function(loadOptions) {
	    	var self = this;
			return new Promise(function(resolve, reject) {
				self.state['hadErrors'] = false;
				self.state['errorResponseText'] = null;
				
				// build URL
				var params = self.getParamsForFetchRequest(loadOptions);
				var url = self.fetchURL + (params.urlSuffix ? params.urlSuffix + '/' : '');
				if (params.urlParams) {
					url += '?' + $.param(params.urlParams);
				}
				
				$.ajax(url, {
	                type: 'GET',
	                success: function (response, textStatus, xhr) {
	                    util.log('# # Fetched data for widget ' + self.widgetId);
	    			
	                    if (xhr.status == 200) {
	                    	self.handleData(response);
	                    } else {
	                    	self.state['hadErrors'] = true;
	                    }
	                },
	                error: function (xhr, textStatus) {
	                    self.state['hadErrors'] = true;
	                    self.state['errorResponseText'] = xhr.responseText;
	                },
	                complete: function (xhr, textStatus) {
	                	resolve();
	                }
	            });
	    	});
	    },
	    
	    /** Handles data that has been loaded */
	    handleData: function (response) {
	    	var self = this;
	    	var data = response['data'];
	    	
	    	if (self.state.offsetTimestamp) {
	    		// append item data
	    		Array.prototype.push.apply(self.widgetData['items'], data['items'])
	    	} else {
	    		// first data load
	    		self.widgetData = data;
	    	}
	    	
	    	if (self.options.loadMoreEnabled) {
	    		if ('has_more' in data) {
	    			self.state.hasMore = data['has_more'];
	    		}
	    		if ('offset_timestamp' in data) {
	    			self.state.offsetTimestamp = data['offset_timestamp'];
	    		}
	    	}
	    },
	    
	    /** Load more items */
	    onShowMoreClicked: function (event) {
	    	this.load().then(function(){
	    		$.cosinnus.renderMomentDataDate();
	    	});
	    },
	    
	    /**
	     *  Default implementation to retrieve data to be rendered.
	     *  If a model is set, return its attributes as JSON, otherwise
	     *  an empty object with any options and state attributes on the 
	     *  view mixed in.
	     */
	    getTemplateData: function () {
	    	var self = this;
	        var data = BaseView.prototype.getTemplateData(self);
	        var data = _.extend(
	        	data,
	        	self.state,
	        	self.options,
	            self.widgetData
	        );
	        return data;
	    },
	    
	});


/***/ }),
/* 55 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	dependencies["include/notification-item.html"] = __webpack_require__( 56 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/navbar/notification-widget.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/navbar/notification-widget.html", false, function(t_2,t_1) {
	if(t_2) { cb(t_2); return; }
	t_1.getExported(function(t_3,t_1) {
	if(t_3) { cb(t_3); return; }
	context.setVariable("macros", t_1);
	output += "\n";
	env.getTemplate("include/notification-item.html", false, "cosinnus/templates/cosinnus/universal/navbar/notification-widget.html", false, function(t_5,t_4) {
	if(t_5) { cb(t_5); return; }
	t_4.getExported(function(t_6,t_4) {
	if(t_6) { cb(t_6); return; }
	context.setVariable("notification_macros", t_4);
	output += "\n\n<div class=\"nav-column nav-column-fullwidth\">\n    \n\t";
	if(runtime.contextOrFrameLookup(context, frame, "hadErrors")) {
	output += "\n\t    <ul class=\"item-list\">\n\t        <li>\n\t            <span class=\"list-item list-item-link list-item-center no-select\" href=\"#\" role=\"button\" titledby=\".item-text\"> \n\t                <div class=\"item-text\">\n\t                    ";
	output += "\n\t                    ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"There was an error loading the widget"), true && env.opts.autoescape);
	output += "\n\t                </div>\n\t            </span>\n\t        </li>\n\t    </ul>\n\t";
	;
	}
	else {
	output += "\n        <h2 class=\"headline headline-condensed\">\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Notifications"), true && env.opts.autoescape);
	output += "\n        </h2>\n        \n        <ul class=\"item-list item-list-divided bordered\">\n            ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "items")) > 0) {
	output += "\n                ";
	frame = frame.push();
	var t_9 = runtime.contextOrFrameLookup(context, frame, "items");
	if(t_9) {var t_8 = t_9.length;
	for(var t_7=0; t_7 < t_9.length; t_7++) {
	var t_10 = t_9[t_7];
	frame.set("item", t_10);
	frame.set("loop.index", t_7 + 1);
	frame.set("loop.index0", t_7);
	frame.set("loop.revindex", t_8 - t_7);
	frame.set("loop.revindex0", t_8 - t_7 - 1);
	frame.set("loop.first", t_7 === 0);
	frame.set("loop.last", t_7 === t_8 - 1);
	frame.set("loop.length", t_8);
	output += "\n                    ";
	output += runtime.suppressValue((lineno = 25, colno = 57, runtime.callWrap(runtime.memberLookup((t_4),"notificationItem"), "notification_macros[\"notificationItem\"]", context, [runtime.memberLookup((t_10),"text"),runtime.memberLookup((t_10),"url"),runtime.memberLookup((t_10),"user_icon_or_image_url"),runtime.makeKeywordArgs({"subtext": runtime.memberLookup((t_10),"group"),"subtextIcon": runtime.memberLookup((t_10),"group_icon"),"actionTime": runtime.memberLookup((t_10),"action_datetime"),"annotationIcon": runtime.memberLookup((t_10),"item_icon_or_image_url"),"is_emphasized": runtime.memberLookup((t_10),"is_emphasized"),"subItems": runtime.memberLookup((t_10),"sub_items"),"itemId": runtime.memberLookup((t_10),"id"),"makeSafe": true})])), env.opts.autoescape);
	output += "\n                ";
	;
	}
	}
	frame = frame.pop();
	output += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "loadMoreEnabled") && runtime.contextOrFrameLookup(context, frame, "hasMore")) {
	output += "\n                    <li>\n                        <a class=\"list-item list-item-link show-more\" role=\"button\" titledby=\".item-text\"> \n                            <div class=\"item-icon item-icon-offset\">\n                                <i class=\"fas fa-fw\"></i>\n                            </div>\n                            <div class=\"item-text\">\n                                ";
	output += "\n                                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Show more"), true && env.opts.autoescape);
	output += "\n                            </div>\n                        </a>\n                    </li>\n                ";
	;
	}
	output += "\n            ";
	;
	}
	else {
	output += "\n                <li>\n                    <span class=\"list-item list-item-link no-select\" href=\"#\" role=\"button\" titledby=\".item-text\"> \n                        <div class=\"item-text\">\n                            ";
	output += "\n                            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"No current notifications"), true && env.opts.autoescape);
	output += "\n                        </div>\n                    </span>\n                </li>\n            ";
	;
	}
	output += "\n        </ul>\n        \n\t";
	;
	}
	output += "\n\t\n</div>\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/navbar/notification-widget.html"] , dependencies)

/***/ }),
/* 56 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/include/notification-item.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/include/notification-item.html", false, function(t_2,t_1) {
	if(t_2) { cb(t_2); return; }
	t_1.getExported(function(t_3,t_1) {
	if(t_3) { cb(t_3); return; }
	context.setVariable("macros", t_1);
	output += "\n\n";
	var macro_t_4 = runtime.makeMacro(
	["text", "url", "icon"], 
	["subtext", "subtextIcon", "actionTime", "annotationIcon", "is_emphasized", "subItems", "itemId", "inactive", "makeSafe"], 
	function (l_text, l_url, l_icon, kwargs) {
	frame = frame.push(true);
	kwargs = kwargs || {};
	if (kwargs.hasOwnProperty("caller")) {
	frame.set("caller", kwargs.caller); }
	frame.set("text", l_text);
	frame.set("url", l_url);
	frame.set("icon", l_icon);
	frame.set("subtext", kwargs.hasOwnProperty("subtext") ? kwargs["subtext"] : runtime.contextOrFrameLookup(context, frame, "null"));
	frame.set("subtextIcon", kwargs.hasOwnProperty("subtextIcon") ? kwargs["subtextIcon"] : runtime.contextOrFrameLookup(context, frame, "null"));
	frame.set("actionTime", kwargs.hasOwnProperty("actionTime") ? kwargs["actionTime"] : runtime.contextOrFrameLookup(context, frame, "null"));
	frame.set("annotationIcon", kwargs.hasOwnProperty("annotationIcon") ? kwargs["annotationIcon"] : runtime.contextOrFrameLookup(context, frame, "null"));
	frame.set("is_emphasized", kwargs.hasOwnProperty("is_emphasized") ? kwargs["is_emphasized"] : false);
	frame.set("subItems", kwargs.hasOwnProperty("subItems") ? kwargs["subItems"] : []);
	frame.set("itemId", kwargs.hasOwnProperty("itemId") ? kwargs["itemId"] : runtime.contextOrFrameLookup(context, frame, "null"));
	frame.set("inactive", kwargs.hasOwnProperty("inactive") ? kwargs["inactive"] : false);
	frame.set("makeSafe", kwargs.hasOwnProperty("makeSafe") ? kwargs["makeSafe"] : true);
	var t_5 = "";t_5 += "\n\n    <li class=\"list-item-group\">\n        <div class=\"main-item\">\n            <a class=\"list-item list-item-extended ";
	if(runtime.contextOrFrameLookup(context, frame, "is_emphasized")) {
	t_5 += "list-item-emphasized ";
	;
	}
	if(runtime.contextOrFrameLookup(context, frame, "inactive")) {
	t_5 += "inactive no-select";
	;
	}
	t_5 += "\" href=\"";
	t_5 += runtime.suppressValue(l_url, env.opts.autoescape);
	t_5 += "\" role=\"button\" titledby=\".item-text-primary\"> \n                <div class=\"item-icon item-icon-offset item-icon-vertical-center\">\n                    ";
	if(l_icon && runtime.inOperator("/",l_icon)) {
	t_5 += "\n                        <img src=\"";
	t_5 += runtime.suppressValue(l_icon, env.opts.autoescape);
	t_5 += "\"></img>\n                    ";
	;
	}
	else {
	t_5 += "\n                        <i class=\"fas fa-fw ";
	t_5 += runtime.suppressValue(l_icon, env.opts.autoescape);
	t_5 += "\"></i>\n                    ";
	;
	}
	t_5 += "\n                </div>\n                <div class=\"item-text item-text-dual\">\n                    <div class=\"item-text-primary\">\n                        ";
	if(runtime.contextOrFrameLookup(context, frame, "makeSafe")) {
	t_5 += "\n                            ";
	t_5 += runtime.suppressValue(env.getFilter("safe").call(context, l_text), env.opts.autoescape);
	t_5 += "\n                        ";
	;
	}
	else {
	t_5 += "\n                            ";
	t_5 += runtime.suppressValue(l_text, env.opts.autoescape);
	t_5 += " \n                        ";
	;
	}
	t_5 += "\n                    </div>\n                    ";
	if(runtime.contextOrFrameLookup(context, frame, "subtext") || runtime.contextOrFrameLookup(context, frame, "actionTime")) {
	t_5 += "\n                        <div class=\"item-text-tertiary\">\n                            ";
	if(runtime.contextOrFrameLookup(context, frame, "actionTime")) {
	t_5 += "\n                                <i class=\"fas fa-fw fa-clock\"></i>\n                                <span class=\"moment-data-date\" data-date=\"";
	t_5 += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "actionTime"), env.opts.autoescape);
	t_5 += "\"></span>\n                                <span class=\"item-text-inline-spacer\"></span>\n                            ";
	;
	}
	t_5 += "\n                            ";
	if(runtime.contextOrFrameLookup(context, frame, "subtext")) {
	t_5 += "\n                                ";
	if(runtime.contextOrFrameLookup(context, frame, "subtextIcon")) {
	t_5 += "\n                                    <i class=\"fas fa-fw ";
	t_5 += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "subtextIcon"), env.opts.autoescape);
	t_5 += "\"></i>\n                                ";
	;
	}
	t_5 += "\n                                ";
	t_5 += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "subtext"), env.opts.autoescape);
	t_5 += "\n                            ";
	;
	}
	t_5 += "\n                        </div>\n                    ";
	;
	}
	t_5 += "\n                </div>\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "annotationIcon")) {
	t_5 += "\n                    <div class=\"right-side-annotation item-icon item-icon-vertical-center item-icon-fixed-width\">\n                        ";
	if(runtime.contextOrFrameLookup(context, frame, "annotationIcon") && runtime.inOperator("/",runtime.contextOrFrameLookup(context, frame, "annotationIcon"))) {
	t_5 += "\n                            <img src=\"";
	t_5 += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "annotationIcon"), env.opts.autoescape);
	t_5 += "\"></img>\n                        ";
	;
	}
	else {
	t_5 += "\n                            <i class=\"fas fa-fw ";
	t_5 += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "annotationIcon"), env.opts.autoescape);
	t_5 += "\"></i>\n                        ";
	;
	}
	t_5 += "\n                    </div>\n                ";
	;
	}
	t_5 += "\n            </a>\n            \n            ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "subItems")) > 0) {
	t_5 += "\n                <a class=\"list-item-group-dropdown-link collapsed\" data-toggle=\"collapse\" href=\"#notification-collapse-";
	t_5 += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "itemId"), env.opts.autoescape);
	t_5 += "\" \n                           role=\"button\" aria-expanded=\"false\" aria-controls=\"notification-collapse-";
	t_5 += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "itemId"), env.opts.autoescape);
	t_5 += "\">\n                    <i class=\"fas fa-fw fa-caret-right show-collapsed\"></i>\n                    <i class=\"fas fa-fw fa-caret-down show-uncollapsed\"></i>\n                </a>\n            ";
	;
	}
	t_5 += "\n        </div>\n        \n        ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "subItems")) > 0) {
	t_5 += "\n\t        <div class=\"sub-item-container collapse\" id=\"notification-collapse-";
	t_5 += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "itemId"), env.opts.autoescape);
	t_5 += "\">\n\t            <ul class=\"item-list item-list-divided\">\n\t                ";
	frame = frame.push();
	var t_8 = runtime.contextOrFrameLookup(context, frame, "subItems");
	if(t_8) {var t_7 = t_8.length;
	for(var t_6=0; t_6 < t_8.length; t_6++) {
	var t_9 = t_8[t_6];
	frame.set("subItem", t_9);
	frame.set("loop.index", t_6 + 1);
	frame.set("loop.index0", t_6);
	frame.set("loop.revindex", t_7 - t_6);
	frame.set("loop.revindex0", t_7 - t_6 - 1);
	frame.set("loop.first", t_6 === 0);
	frame.set("loop.last", t_6 === t_7 - 1);
	frame.set("loop.length", t_7);
	t_5 += "\n\t                    ";
	t_5 += runtime.suppressValue((lineno = 62, colno = 37, runtime.callWrap(runtime.memberLookup((t_1),"listItem"), "macros[\"listItem\"]", context, [runtime.memberLookup((t_9),"title"),runtime.memberLookup((t_9),"url"),runtime.memberLookup((t_9),"icon_or_image_url"),runtime.makeKeywordArgs({"padded": true})])), env.opts.autoescape);
	t_5 += "\n\t                ";
	;
	}
	}
	frame = frame.pop();
	t_5 += "\n\t            </ul>\n\t        </div>\n        ";
	;
	}
	t_5 += "\n    </li>\n";
	;
	frame = frame.pop();
	return new runtime.SafeString(t_5);
	});
	context.addExport("notificationItem");
	context.setVariable("notificationItem", macro_t_4);
	output += "\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/include/notification-item.html"] , dependencies)

/***/ }),
/* 57 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var BaseView = __webpack_require__(4);
	
	var TimelineView = __webpack_require__(58);
	var GroupWidgetView = __webpack_require__(61);
	var IdeasWidgetView = __webpack_require__(64);
	var StarredUsersWidgetView = __webpack_require__(66);
	var StarredObjectsWidgetView = __webpack_require__(68);
	var FollowedObjectsWidgetView = __webpack_require__(70);
	var TypedContentWidgetView = __webpack_require__(72);
	var UiPrefsView = __webpack_require__(74);
	
	var util = __webpack_require__(5);
	
	module.exports = BaseView.extend({
	
		app: null,
	    template: null,
	    el: null, // will be set to dashboard root manually
	    $el: null, // will be set to dashboard root manually
	    leftBar: '.dashboard-left-bar-content',
	    $leftBar: null, 
	    rightBar: '.dashboard-right-bar-content',
	    $rightBar: null,
	    timeline: '.timeline-root',
	    $timeline: null,
	    
	    timelineView: null,
	    
	    groupWidgetView: null,
		ideasWidgetView: null,
		starredUsersWidgetView: null,
		starredObjectsWidgetView: null,
		followedObjectsWidgetView: null,
	    uiPrefsView: null,
	    
	    typedContentWidgetTypes: ['pads', 'files']
			.concat((COSINNUS_ROCKET_ENABLED || !COSINNUS_MESSAGES_ENABLED) ? [] : ['messages'])
	        .concat(COSINNUS_CLOUD_DASHBOARD_WIDGET_ENABLED ? ['cloud_files'] : [])
		    .concat(['events', 'todos', 'polls'])
			.concat(COSINNUS_V2_DASHBOARD_SHOW_MARKETPLACE ? ['offers'] : []),
	    typedContentWidgets: {},
	    
	    uiPrefKeyRightBarWidget: 'dashboard_widgets_sort_key__',
	    
	    // will be set to self.options during initialization
	    defaults: {
	        
	        state: {
	            
	        }
	    },
	    
	    // The DOM events specific to an item.
	    events: {
	    	//'focus .nav-search-box': 'onSearchBoxFocusIn',
	    },
	    
	    initialize: function (options, app) {
	        var self = this;
	        self.app = app;
	        BaseView.prototype.initialize.call(self, options);
	        
	        self.uiPrefsView = new UiPrefsView(self.options.uiPrefs);
	        
	        self.el = '.v2-dashboard';
	        self.$el = $(self.el);
	        self.$el.removeClass('loading');
	        
	        self.$leftBar = self.$el.find(self.leftBar);
	        self.$rightBar = self.$el.find(self.rightBar);
	        self.$timeline = self.$el.find(self.timeline);
	        
	        self.loadLeftBar();
	        self.loadRightBar();
	        self.loadTimeline();
	    },
	    
	    /** Loads all widgets on the left bar and only then displays it */
	    loadLeftBar: function () {
	    	var self = this;
	    	self.groupWidgetView = new GroupWidgetView({
	    		el: self.$el.find('.group-widget-root'),
	    	}, self.app);
	    	
	    	var leftBarPromises = [
	    		self.groupWidgetView.load(),
	    	];
	    	if (COSINNUS_IDEAS_ENABLED) {
	    	    self.ideasWidgetView = new IdeasWidgetView({
	                el: self.$el.find('.ideas-widget-root'),
	            }, self.app);
	    		leftBarPromises.push(self.ideasWidgetView.load());
			}
			self.starredUsersWidgetView = new StarredUsersWidgetView({
				el: self.$el.find('.starred-users-widget-root'),
			}, self.app);
			leftBarPromises.push(self.starredUsersWidgetView.load());
	
	    	self.starredObjectsWidgetView = new StarredObjectsWidgetView({
				el: self.$el.find('.starred-objects-widget-root'),
			}, self.app);
			leftBarPromises.push(self.starredObjectsWidgetView.load());
	
			self.followedObjectsWidgetView = new FollowedObjectsWidgetView({
				el: self.$el.find('.followed-objects-widget-root'),
			}, self.app);
			leftBarPromises.push(self.followedObjectsWidgetView.load());
	
			Promise.all(leftBarPromises).then(function(){
	    		self.$leftBar.show();
	    		// the userdashboard map widget (as an iframe) causes problems with the map app it shows
	    		// if it is loaded while hidden
	    		var iframe = $('#userdashboard-map-iframe');
	    		if (iframe.length > 0) {
	        		iframe.attr('src', iframe.attr('src_delayed'));
	    		}
	    	});
	    },
	    
	    /** Loads all widgets on the right bar and only then displays it */
	    loadRightBar: function () {
	    	var self = this;
	
	    	var rightBarPromises = [];
	    	// for each content type, initialize the widget on that type and load its contents
	    	$.each(self.typedContentWidgetTypes, function(i, type){
	    		self.typedContentWidgets[type] = new TypedContentWidgetView({
	        		elParent: self.$el.find('.typed-widgets-root'),
	        		type: type,
	        		sortIndex: self.uiPrefsView.getUiPref(self.uiPrefKeyRightBarWidget + type),
	        	}, self.app);
	    		rightBarPromises.push(self.typedContentWidgets[type].load());
	    	});
	    	Promise.all(rightBarPromises).then(function(){
	        	$.cosinnus.renderMomentDataDate();
	        	self.sortRightBarWidgets();
	        	self.manageWidgetConditions();
	    		self.$rightBar.show();
	    		util.log('# #### showing right bar.')
	    	});
	    },
	    
	    sortRightBarWidgets: function () {
	    	this.$rightBar.find('div.widget-content').sortElements(function(a, b){
	    		return $(a).attr('data-sort-index') > $(b).attr('data-sort-index') ? 1 : -1;
	    	});
	    },
	    
	    /** After empty widgets have removed themselves, will display the "new users"
	     *  info box if too or none few are shown */
	    manageWidgetConditions: function () {
	    	// show widget info box if ui pref is set
	    	if (this.uiPrefsView.getUiPref('timeline__hide_welcome_widget_box')) {
	    		this.$rightBar.find('.welcome_widget_box').remove();
	    	} else {
	    		this.$rightBar.find('.welcome_widget_box').show();
	    	}
	    },
	    
	    loadTimeline: function () {
	    	var self = this;
	    	
	    	// show welcome screen if ui pref is set
	    	var $welcomeFrame = self.$el.find('.dashboard-welcome-frame');
	    	if (self.uiPrefsView.getUiPref('timeline__hide_welcome_screen') || $welcomeFrame.length == 0) {
	    	    if ($welcomeFrame.length > 0) {
	        		$welcomeFrame.remove();
	    	    }
	    		
	    		// if we are not showing the welcome screen, show the dashboard announcement, if one exists
	    		var $announcementFrame = self.$el.find('.dashboard-announcement-frame');
	    		if ($announcementFrame.length > 0) {
	    		    $announcementFrame.show();
	    		}
	    	} else {
	    		$welcomeFrame.show();
	    	}
	    	
	    	self.timelineView = new TimelineView({
	    		el: self.$el.find('.timeline-root'),
	    		forceOnlyMine: self.options.forceOnlyMine,
	    	}, self.app, self.uiPrefsView);
	    	self.timelineView.load();
	    },
	    
	    
	    /** While we are focused, check for clicks outside to trigger closing the menu */
	    checkQuickSearchFocusOut: function (event) {
	    	if (this.$el.hasClass('active') && !this.el.contains(event.target)) {
	    		this.$el.removeClass('active');
	    		document.addEventListener('click', this.thisContext(this.checkQuickSearchFocusOut));
	    	}
	    },
	    
	    /** Moves a widget up or down by swapping it with its sibling.
	     *  Params:
	     *  	- type: the content type of the source widget (i.e. 'events')
	     *  	- directionUp: true for up, false for down
	     */
	    moveRightSideWidget: function (type, directionUp) {
	    	var self = this;
	    	
	    	// find both widgets
	    	var widget = self.$rightBar.find('.widget-content[data-content-type="' + type + '"]');
	    	if (widget.length == 0) {
	    		return;
	    	}
	    	var other_widget = directionUp ? widget.prev('.widget-content') : widget.next('.widget-content');
	    	if (other_widget.length == 0) {
	    		return;
	    	}
	    	
	    	// swap their sort index
	    	var idx = widget.attr('data-sort-index');
	    	var other_idx = other_widget.attr('data-sort-index');
	    	widget.attr('data-sort-index', other_idx);
	    	other_widget.attr('data-sort-index', idx);
	    	
	    	// sort the widgets
	    	self.sortRightBarWidgets();
	    	
	    	// save the uiPrefs
	    	var uiPrefs = {};
	    	uiPrefs[self.uiPrefKeyRightBarWidget + widget.attr('data-content-type')] = other_idx;
	    	uiPrefs[self.uiPrefKeyRightBarWidget + other_widget.attr('data-content-type')] = idx;
	    	self.uiPrefsView.saveUiPrefs(uiPrefs);
	    },
	
	});


/***/ }),
/* 58 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var BaseView = __webpack_require__(4);
	var util = __webpack_require__(5);
	
	module.exports = BaseView.extend({
	
		app: null,
	    template: __webpack_require__(59),
	    
	    fetchURL: '/dashboard/api/timeline/',
	    
	    uiPrefsView: null, // set during initialization
	    
	    // will be set to self.options during initialization
	    defaults: {
	        
	    	forceOnlyMine: false, // overwritten from passed options from higher views
	    	// the following are *combinable* AND filters, not exclusive, 
	    	// like the historical name "only" suggests!
	    	onlyMine: true, // combinable content filter. inited from uiPrefs
	        onlyForum: true, // combinable content filter. inited from uiPrefs
	        onlyPublic: false, // combinable content filter. inited from uiPrefs
	    	
	        state: {
	        	loading: false, // if true, a request is currently loading
	            currentRequest: null, // the XMLHttpRequest that is currently loading
	            hadErrors: false,
	            
	            // load params. also initialized in `initializeParams`
	    		itemsLoaded: 0,
	    		offsetTimestamp: null,
	    		hasMore: true,
	        }
	    },
	    
	    // The DOM events specific to an item.
	    events: {
	    	//'focus .nav-search-box': 'onSearchBoxFocusIn',
	    	// todo: onlyMine button
	    	'change .toggle-only-mine': 'toggleOnlyMineClicked',
	        'change .toggle-only-forum': 'toggleOnlyForumClicked',
	        'change .toggle-only-public': 'toggleOnlyPublicClicked',
	    	'click .retry-load': 'retryLoadAfterErrors',
	    	'click .show-all-comments': 'showAllCommentsForItem',
	    	'click .comment-form :not(textarea)': 'delegateTextInputClick',
	    	'keypress .comment-form textarea': 'commentTextboxKeyPressed',
	    },
	
	    initialize: function (options, app, uiPrefsView) {
	        var self = this;
	        self.app = app;
	        BaseView.prototype.initialize.call(self, options);
	        
	        self.uiPrefsView = uiPrefsView;
	        self.options.onlyMine = self.uiPrefsView.getUiPref('timeline__only_mine');
	        self.options.onlyForum = self.uiPrefsView.getUiPref('timeline__only_forum');
	        self.options.onlyPublic = self.uiPrefsView.getUiPref('timeline__only_public');
	        self.initializeParams();
	        self.render();
	    },
	    
	    initializeParams: function () {
	    	var self = this;
	    	self.state.itemsLoaded = 0;
	    	self.state.offsetTimestamp = null;
	    	self.state.hasMore = true;
	    },
	    
	    getParamsForFetchRequest: function() {
	    	var self = this;
	    	var urlParams = {
				'only_mine': self.options.forceOnlyMine || self.options.onlyMine,
	            'only_forum': self.options.onlyForum,
	            'only_public': self.options.onlyPublic,
	            
	    	};
	    	if (self.state.offsetTimestamp) {
	    		urlParams['offset_timestamp'] = self.state.offsetTimestamp;
	    	}
	    	return {urlSuffix: null, urlParams: urlParams}
	    },
	
	    render: function () {
	        var self = this;
	        BaseView.prototype.render.call(self);
	        util.log('*** Rendered timeline! ***')
	        return self;
	    },
	    
	    /** Resets all timeline-items and loads from with fresh params */
	    resetAndLoad: function () {
	    	var self = this;
	    	if (self.state.currentRequest) {
	    		self.state.currentRequest.abort();
	    		self.state.currentRequest = null;
	    	}
	    	self.state.loading = false;
	    	self.state.hadErrors = false;
	    	self.initializeParams();
	    	self.render();
	    	self.load();
	    },
	    
	    /** Called from the "Retry" button shown with an error message */
	    retryLoadAfterErrors: function () {
	    	var self = this;
			self.state.hadErrors = false;
			self.load();
	    },
	    
	    /** Called from a "show all comments" link from an item */
	    showAllCommentsForItem: function (event) {
	    	var self = this;
			var $target = $(event.target);
			$target.parents('.timeline-item-comments').find('.shown-when-more').hide();
			$target.parents('.timeline-item-comments').find('.comment-hidden').fadeIn();
	    },
	    
	    /** Makes the i.fa icon clickable as if it were the textarea */
	    delegateTextInputClick: function (event) {
	    	$(event.target).parents('.comment-form').find('textarea').focus();
	    },
	    
	    /** Pressing enter (unless with shift or ctrl) sends the form */
	    commentTextboxKeyPressed: function (event) {
	    	if (event.keyCode == 13 && !event.shiftKey && !event.ctrlKey) {
	    	    var $form = $(event.target).parents('form');
	    	    if (!$form.hasClass('disabled')) {
	    	    	$form.submit();
	    	    }
	    	    event.preventDefault();
	    	}
	    },
	    
	    /** Call to load a new page of items from the current offset,
	     *  will only fire a request if no other request is currently running */
	    load: function () {
	    	var self = this;
	    	if (!self.state.loading && !self.state.hadErrors && self.state.hasMore) {
		    	return new Promise(function(resolve, reject) {
		    		self.state.loading = true;
		    		self.showLoadingPlaceholder();
		    		self.hideErrorMessage();
		    		// using this instead of .finally() for backwards compatibility in browsers
		    		var finally_compat = function() {
		    			self.state.loading = false;
		    			self.hideLoadingPlaceholder();
		    			resolve();
		    		};
		    		self.loadData().then(function(data){
		    			util.log('# timeline received data and will handle them');
		    			self.enableInfiniteScroll();
		    			self.handleData(data);
		    			finally_compat();
		    		}).catch(function(message){
		    			self.handleError(message);
		    			finally_compat();
		    		});
		    	});
	    	}
	    },
	    
	    /** Loads a set of data from the server. Returns a promise
	     *  whose resolve function gets passed the data */
	    loadData: function() {
	    	var self = this;
			return new Promise(function(resolve, reject) {
				// build URL
				var params = self.getParamsForFetchRequest();
				var url = self.fetchURL + (params.urlSuffix ? params.urlSuffix + '/' : '');
				if (params.urlParams) {
					url += '?' + $.param(params.urlParams);
				}
				self.state.currentRequest = $.ajax(url, {
	                type: 'GET',
	                success: function (response, textStatus, xhr) {
	                    if (xhr.status == 200) {
	                    	resolve(response['data']);
	                    } else {
	                    	reject(xhr.statusText);
	                    }
	                },
	                error: function (xhr, textStatus) {
	                	reject(textStatus);
	                },
	                complete: function() {
	                	self.state.currentRequest = null;
	                }
	            });
	    	});
	    },
	    
	    handleData: function (data) {
	    	var self = this;
	        util.log('# # Fetched data for timeline');
	        util.log(data)
	        
	        // display items if any
	        if (data['count'] > 0) {
	        	self.renderLoadedItems(data['items']);
	        }
	        if (data['has_more'] == true) {
	        	// set hasMore and offset
	        	self.state.hasMore = true;
	        	self.state.offsetTimestamp = data['last_timestamp'];
	        } else {
	        	// show final dot and disable infinitescroll if no hasMore
	        	self.state.hasMore = false;
	        	self.showFinalDot();
	        	self.disableInfiniteScroll();
	        }
	    },
	    
	    renderLoadedItems: function (items) {
	    	var self = this;
	    	var timeline = self.$el.find('.timeline');
	    	$.each(items, function(i, item){
	    		timeline.append(item);
	    	});
	
	    	$.cosinnus.renderMomentDataDate();
			$.cosinnus.truncatedTextfield();
			self.removeEmptyDivs();
	    },
	    
	    handleError: function (message) {
	    	var self = this;
	    	util.log('# # Fetched data for timeline');
	    	self.disableInfiniteScroll();
	    	self.showErrorMessage();
	    },
	    
	    showErrorMessage: function (message) {
	    	this.$el.find('.timeline-error-message').show();
	    },
	    
	    hideErrorMessage: function () {
	    	this.$el.find('.timeline-error-message').hide();
	    },
	    
	    showLoadingPlaceholder: function () {
	    	var topHeight = this.$el.height();
	    	this.$el.find('.timeline-placeholder-frame').css({'top': topHeight}).show();
	    },
	    
	    hideLoadingPlaceholder: function () {
	    	this.$el.find('.timeline-placeholder-frame').hide();
	    },
	    
	    showFinalDot: function () {
	    	this.$el.find('.timeline-final-dot').show();
	    },
	    
	    enableInfiniteScroll: function () {
	    	var self = this;
	        $(window).off('scroll').on('scroll', self.thisContext(this.onScroll));
	    },
	    
	    disableInfiniteScroll: function () {
	        $(window).off('scroll');
	    },
	    
	    toggleOnlyMineClicked: function (event) {
	        var self = this;
	        if (self.options.forceOnlyMine) {
	            return;
	        }
	        self.options.onlyMine = event.target.checked;
	        // save ui pref
	        self.uiPrefsView.saveUiPrefs({'timeline__only_mine': self.options.onlyMine});
	        self.resetAndLoad();
	    },
	    
	    toggleOnlyForumClicked: function (event) {
	        var self = this;
	        if (self.options.forceOnlyMine) {
	            return;
	        }
	        self.options.onlyForum = event.target.checked;
	        // save ui pref
	        self.uiPrefsView.saveUiPrefs({'timeline__only_forum': self.options.onlyForum});
	        self.resetAndLoad();
	    },
	    
	    toggleOnlyPublicClicked: function (event) {
	        var self = this;
	        if (self.options.forceOnlyMine) {
	            return;
	        }
	        self.options.onlyPublic = event.target.checked;
	        // save ui pref
	        self.uiPrefsView.saveUiPrefs({'timeline__only_public': self.options.onlyPublic});
	        self.resetAndLoad();
	    },
	    
	    
	    
	    removeEmptyDivs: function () {
	    	var self = this;
	    	self.$el.find('.remove-if-prev-empty').each(function(){
				var $item = $(this);
				if ($item.prev().text().replace(/\s/g, '').length == 0) {
					$item.remove();
				}
			});
	    	self.$el.find('.remove-if-next-empty').each(function(){
				var $item = $(this);
				if ($item.next().text().replace(/\s/g, '').length == 0) {
					$item.remove();
				}
			});
	    	self.$el.find('.remove-if-empty').each(function(){
				var $item = $(this);
				if ($item.text().replace(/\s/g, '').length == 0) {
					$item.remove();
				}
			});
	    },
	    
	    /** Handles events for infinite scroll */
	    onScroll: function (event) {
	    	var self = this;
	    	// only check scrolling if the timeline is visible
	    	if (self.$el.is(':visible')) {
	    		var $window = $(window);
	    		if ($window.height() + $window.scrollTop() >= $(document).height() - 250) {
	    			self.load();  // load() handles state checks itself so it's safe to call multiple times.
	    		}
	    	}
	    },
	
	});


/***/ }),
/* 59 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["userdashboard/timeline-item-placeholder"] = __webpack_require__( 60 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/userdashboard/timeline.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	if(!runtime.contextOrFrameLookup(context, frame, "forceOnlyMine")) {
	output += "\n\t<div class=\"timeline-controls\">\n\t\n\t    <h2 class=\"headline inlayed-headline\">\n\t        ";
	output += "\n\t        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Filter"), true && env.opts.autoescape);
	output += "\n\t    </h2>\n\t    \n        <table class=\"onoffswitch-frame\">\n            <tr>\n                <td>\n                    <div class=\"onoffswitch\">\n                        <input type=\"checkbox\" name=\"onoffswitch-only-forum\"\n                             class=\"onoffswitch-checkbox toggle-only-forum\" id=\"check-only-forum\" \n                             ";
	if(runtime.contextOrFrameLookup(context, frame, "onlyForum")) {
	output += "checked";
	;
	}
	output += ">\n                        <label class=\"onoffswitch-label\" for=\"check-only-forum\">\n                            <span class=\"onoffswitch-inner\"></span>\n                            <span class=\"onoffswitch-switch\"></span>\n                        </label>\n                    </div>\n                </td>\n                <td class=\"onoffswitch-text-label text-bold text-small\">\n                    ";
	output += "\n                    ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Content from the Forum"), true && env.opts.autoescape);
	output += "\n                </td>\n            </tr>\n        </table>\n\t\n\t\t<table class=\"onoffswitch-frame\">\n            <tr>\n                <td>\n                    <div class=\"onoffswitch\">\n                        <input type=\"checkbox\" name=\"onoffswitch-only-mine\"\n                             class=\"onoffswitch-checkbox toggle-only-mine\" id=\"check-only-mine\" \n                             ";
	if(runtime.contextOrFrameLookup(context, frame, "onlyMine")) {
	output += "checked";
	;
	}
	output += ">\n                        <label class=\"onoffswitch-label\" for=\"check-only-mine\">\n                            <span class=\"onoffswitch-inner\"></span>\n                            <span class=\"onoffswitch-switch\"></span>\n                        </label>\n                    </div>\n                </td>\n                <td class=\"onoffswitch-text-label text-bold text-small\">\n                    ";
	output += "\n                    ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Content from my Groups and Projects"), true && env.opts.autoescape);
	output += "\n                </td>\n            </tr>\n        </table>\n        \n        <table class=\"onoffswitch-frame\">\n            <tr>\n                <td>\n                    <div class=\"onoffswitch\">\n                        <input type=\"checkbox\" name=\"onoffswitch-only-public\"\n                             class=\"onoffswitch-checkbox toggle-only-public\" id=\"check-only-public\" \n                             ";
	if(runtime.contextOrFrameLookup(context, frame, "onlyPublic")) {
	output += "checked";
	;
	}
	output += ">\n                        <label class=\"onoffswitch-label\" for=\"check-only-public\">\n                            <span class=\"onoffswitch-inner\"></span>\n                            <span class=\"onoffswitch-switch\"></span>\n                        </label>\n                    </div>\n                </td>\n                <td class=\"onoffswitch-text-label text-bold text-small\">\n                    ";
	if(runtime.contextOrFrameLookup(context, frame, "COSINNUS_USER_EXTERNAL_USERS_FORBIDDEN")) {
	output += "\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Platform content"), true && env.opts.autoescape);
	output += "\n                    ";
	;
	}
	else {
	output += "\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Public content"), true && env.opts.autoescape);
	output += "\n                    ";
	;
	}
	output += "\n                </td>\n            </tr>\n        </table>\n\t</div>\n";
	;
	}
	output += "\n\n<div class=\"timeline\">\n\t";
	output += "\n\t<div data-target=\"ajax-form-result-anchor\" data-ajax-form-id=\"note-create-form\"></div>\n</div>\n\n\n<div class=\"timeline-error-message\" style=\"display: none;\">\n\t<div>\n\t\t";
	output += "\n        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"We could not load more data at this time."), true && env.opts.autoescape);
	output += "\n\t\t<a href=\"#\" class=\"retry-load\">\n\t        ";
	output += "\n\t        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Retry"), true && env.opts.autoescape);
	output += "\n\t    </a>\n    </div>\n</div>\n\n<div class=\"timeline-final-dot\" style=\"display: none;\">\n\t<div>\n\t\t<i class=\"fas fa-fw fa-circle\"></i>\n\t</div>\n</div>\n\n<div class=\"timeline-placeholder-frame\" style=\"display: none;\">\n\t";
	env.getTemplate("userdashboard/timeline-item-placeholder", false, "cosinnus/templates/cosinnus/universal/userdashboard/timeline.html", null, function(t_3,t_1) {
	if(t_3) { cb(t_3); return; }
	t_1.render(context.getVariables(), frame, function(t_4,t_2) {
	if(t_4) { cb(t_4); return; }
	output += t_2
	output += "\n\t";
	env.getTemplate("userdashboard/timeline-item-placeholder", false, "cosinnus/templates/cosinnus/universal/userdashboard/timeline.html", null, function(t_7,t_5) {
	if(t_7) { cb(t_7); return; }
	t_5.render(context.getVariables(), frame, function(t_8,t_6) {
	if(t_8) { cb(t_8); return; }
	output += t_6
	output += "\n\t";
	env.getTemplate("userdashboard/timeline-item-placeholder", false, "cosinnus/templates/cosinnus/universal/userdashboard/timeline.html", null, function(t_11,t_9) {
	if(t_11) { cb(t_11); return; }
	t_9.render(context.getVariables(), frame, function(t_12,t_10) {
	if(t_12) { cb(t_12); return; }
	output += t_10
	output += "\n</div>\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})})})})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/userdashboard/timeline.html"] , dependencies)

/***/ }),
/* 60 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/userdashboard/timeline-item-placeholder.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	output += "<div class=\"timeline-item placeholder\">\n\t\n\t<div class=\"timeline-item-row header\">\n\t\t<div class=\"header-avatar\">\n\t\t\t<div class=\"animated-background image\"></div>\n\t\t</div>\n\t\t<div class=\"header-info\">\n\t\t\t<div class=\"item-info\">\n\t\t\t\t<div class=\"animated-background regular-line w1\"></div>\n\t\t\t</div>\n\t\t\t<div class=\"item-date pale-color\">\n\t\t\t\t<div class=\"animated-background thin-line w2\"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t\n\t<div class=\"timeline-item-row body\">\n\t\t<div class=\"animated-background regular-line w3\"></div>\n\t\t<div class=\"animated-background regular-line w4\"></div>\n\t\t<div class=\"animated-background regular-line w5\"></div>\n\t\t<div class=\"placeholder-spacer\"></div>\n\t</div>\n\t\n</div>";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/userdashboard/timeline-item-placeholder.html"] , dependencies)

/***/ }),
/* 61 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var DelegatedWidgetView = __webpack_require__(54);
	var util = __webpack_require__(5);
	
	module.exports = DelegatedWidgetView.extend({
	
		app: null,
	    template: __webpack_require__(62),
	    
	    fetchURL: '/dashboard/api/user_groups/', // overridden for subview
	    
	    // will be set to self.options during initialization
	    defaults: {
	        
	        state: {
	            
	        }
	    },
	    
	    // The DOM events specific to an item.
	    events: {
	    	//'focus .nav-search-box': 'onSearchBoxFocusIn',
	    },
	
	    /** Overriding base function for unique widget ID. */
	    getWidgetId: function() {
	        return 'group-widget';
	    },
	    
	    /** Overriding params for request */
	    getParamsForFetchRequest: function() {
	    	return {urlSuffix: null, urlParams: {}}
	    },
	    
	
	    render: function () {
	        var self = this;
	        DelegatedWidgetView.prototype.render.call(self);
	        
	        util.log('*** Rendered group-widget! ***')
	        return self;
	    },
	    
	    /** Extend the template data by the controlView's options and state */
	    getTemplateData: function () {
	        var self = this;
	        var data = DelegatedWidgetView.prototype.getTemplateData.call(self);
	        return data;
	    },
	    
	    
	    
	
	});


/***/ }),
/* 62 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["userdashboard/base-widget"] = __webpack_require__( 63 );
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/userdashboard/group-widget.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("userdashboard/base-widget", true, "cosinnus/templates/cosinnus/universal/userdashboard/group-widget.html", false, function(t_2,_parentTemplate) {
	if(t_2) { cb(t_2); return; }
	parentTemplate = _parentTemplate
	for(var t_1 in parentTemplate.blocks) {
	context.addBlock(t_1, parentTemplate.blocks[t_1]);
	}
	output += "\n";
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/userdashboard/group-widget.html", false, function(t_4,t_3) {
	if(t_4) { cb(t_4); return; }
	t_3.getExported(function(t_5,t_3) {
	if(t_5) { cb(t_5); return; }
	context.setVariable("macros", t_3);
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("title"))(env, context, frame, runtime, function(t_7,t_6) {
	if(t_7) { cb(t_7); return; }
	output += t_6;
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("content"))(env, context, frame, runtime, function(t_9,t_8) {
	if(t_9) { cb(t_9); return; }
	output += t_8;
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})})})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_title(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    ";
	output += "\n\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Groups and Projects"), true && env.opts.autoescape);
	output += "\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_content(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n\t\n\t";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "group_clusters")) > 0) {
	output += "\n\t\t<ul class=\"item-list\">\n\t\t\t";
	frame = frame.push();
	var t_12 = runtime.contextOrFrameLookup(context, frame, "group_clusters");
	if(t_12) {var t_11 = t_12.length;
	for(var t_10=0; t_10 < t_12.length; t_10++) {
	var t_13 = t_12[t_10];
	frame.set("cluster", t_13);
	frame.set("loop.index", t_10 + 1);
	frame.set("loop.index0", t_10);
	frame.set("loop.revindex", t_11 - t_10);
	frame.set("loop.revindex0", t_11 - t_10 - 1);
	frame.set("loop.first", t_10 === 0);
	frame.set("loop.last", t_10 === t_11 - 1);
	frame.set("loop.length", t_11);
	output += "\n\t\t\t\t";
	frame = frame.push();
	var t_16 = t_13;
	if(t_16) {var t_15 = t_16.length;
	for(var t_14=0; t_14 < t_16.length; t_14++) {
	var t_17 = t_16[t_14];
	frame.set("item", t_17);
	frame.set("loop.index", t_14 + 1);
	frame.set("loop.index0", t_14);
	frame.set("loop.revindex", t_15 - t_14);
	frame.set("loop.revindex0", t_15 - t_14 - 1);
	frame.set("loop.first", t_14 === 0);
	frame.set("loop.last", t_14 === t_15 - 1);
	frame.set("loop.length", t_15);
	output += "\n\t\t\t\t\t";
	if(runtime.memberLookup((t_17),"hasmorelink")) {
	output += "\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<a class=\"list-item list-item-link\" href=\"#\" role=\"button\" titledby=\".item-text\"> \n\t\t\t\t\t\t\t\t<div id=\"more-link1\" class=\"item-text\">\n\t\t\t\t\t                ";
	output += "\n\t\t\t\t\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Show more Projects of this Group"), true && env.opts.autoescape);
	output += "\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t";
	;
	}
	else {
	output += "\n\t\t\t\t\t\t";
	output += runtime.suppressValue((lineno = 24, colno = 22, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"listItem"), "macros[\"listItem\"]", context, [runtime.memberLookup((t_17),"text"),runtime.memberLookup((t_17),"url"),runtime.memberLookup((t_17),"icon"),runtime.makeKeywordArgs({"is_emphasized": runtime.memberLookup((t_17),"is_emphasized")})])), env.opts.autoescape);
	output += "\n\t\t\t\t\t";
	;
	}
	output += "\n\t\t\t\t";
	;
	}
	}
	frame = frame.pop();
	output += "\n\t\t\t\n\t\t\t\t";
	if(!runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "loop")),"last")) {
	output += "\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<hr>\n\t\t\t\t\t</li>\n\t\t\t\t";
	;
	}
	output += "\n\t\t\t";
	;
	}
	}
	frame = frame.pop();
	output += "\n\t\t</ul>\n\t";
	;
	}
	else {
	output += "\n\t\t<div class=\"widget-info-box no-select\">\n            ";
	output += "\n\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Here you can find an overview of your Groups and Projects once you become active in one or more of them."), true && env.opts.autoescape);
	output += "\n\t\t\t<br/>\n\t\t\t<br/>\n            ";
	output += "\n\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"You can create Groups or Projects via the '+' button in the header."), true && env.opts.autoescape);
	output += "\n\t\t</div>\n\t";
	;
	}
	output += "\n\t\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	b_title: b_title,
	b_content: b_content,
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/userdashboard/group-widget.html"] , dependencies)

/***/ }),
/* 63 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/userdashboard/base-widget.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/userdashboard/base-widget.html", false, function(t_2,t_1) {
	if(t_2) { cb(t_2); return; }
	t_1.getExported(function(t_3,t_1) {
	if(t_3) { cb(t_3); return; }
	context.setVariable("macros", t_1);
	output += "\n\n<div class=\"widget-content\" ";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("attrs"))(env, context, frame, runtime, function(t_5,t_4) {
	if(t_5) { cb(t_5); return; }
	output += t_4;
	output += ">\n\t";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("widget_dropdown"))(env, context, frame, runtime, function(t_7,t_6) {
	if(t_7) { cb(t_7); return; }
	output += t_6;
	output += "\n\t\n\t<h2 class=\"headline\">\n\t\t";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("title"))(env, context, frame, runtime, function(t_9,t_8) {
	if(t_9) { cb(t_9); return; }
	output += t_8;
	output += "\n\t</h2>\n\t\n\t";
	if(runtime.contextOrFrameLookup(context, frame, "hadErrors")) {
	output += "\n\t\t<ul class=\"item-list\">\n\t\t\t<li>\n\t\t\t\t<span class=\"list-item list-item-link list-item-center no-select\" href=\"#\" role=\"button\" titledby=\".item-text\"> \n\t\t    \t\t<div class=\"item-text\">\n\t\t                ";
	output += "\n\t\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"There was an error loading the widget"), true && env.opts.autoescape);
	output += "\n\t\t    \t\t</div>\n\t\t\t\t</span>\n\t\t\t</li>\n\t\t</ul>\n\t";
	;
	}
	else {
	output += "\n\t\n\t\t";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("content"))(env, context, frame, runtime, function(t_11,t_10) {
	if(t_11) { cb(t_11); return; }
	output += t_10;
	output += "\n\t\t\n\t";
	});
	}
	output += "\n</div>\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})})})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_attrs(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_widget_dropdown(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n\t\t";
	if(runtime.contextOrFrameLookup(context, frame, "isMovable") || runtime.contextOrFrameLookup(context, frame, "isHidable")) {
	output += "\n\t\t\t<div class=\"widget-dropdown v2-dropdown dropdown\">\n\t\t    \t<a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\">\n\t\t            <i class=\"fas fa-ellipsis-h\"></i>\n\t\t        </a>\n\t\t        <ul class=\"dropdown-menu\">\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a class=\"sort-up\">\n\t\t                \t";
	output += "\n\t\t\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Move up"), true && env.opts.autoescape);
	output += "\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a class=\"sort-down\">\n\t\t                \t";
	output += "\n\t\t\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Move down"), true && env.opts.autoescape);
	output += "\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t        </ul>\n\t\t\t</div>\n\t\t";
	;
	}
	output += "\n\t";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_title(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_content(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n\t\t\t";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "items")) > 0) {
	output += "\n\t\t\t\t<ul class=\"item-list\">\n\t\t\t\t\t";
	frame = frame.push();
	var t_14 = runtime.contextOrFrameLookup(context, frame, "items");
	if(t_14) {var t_13 = t_14.length;
	for(var t_12=0; t_12 < t_14.length; t_12++) {
	var t_15 = t_14[t_12];
	frame.set("item", t_15);
	frame.set("loop.index", t_12 + 1);
	frame.set("loop.index0", t_12);
	frame.set("loop.revindex", t_13 - t_12);
	frame.set("loop.revindex0", t_13 - t_12 - 1);
	frame.set("loop.first", t_12 === 0);
	frame.set("loop.last", t_12 === t_13 - 1);
	frame.set("loop.length", t_13);
	output += "\n\t\t\t\t\t\t";
	output += runtime.suppressValue((lineno = 48, colno = 22, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"listItem"), "macros[\"listItem\"]", context, [runtime.memberLookup((t_15),"text"),runtime.memberLookup((t_15),"url"),runtime.memberLookup((t_15),"icon"),runtime.memberLookup((t_15),"subtext"),runtime.makeKeywordArgs({"is_emphasized": runtime.memberLookup((t_15),"is_emphasized")})])), env.opts.autoescape);
	output += "\n\t\t\t\t\t";
	;
	}
	}
	frame = frame.pop();
	output += "\n\t\t\t\t\t";
	if(runtime.contextOrFrameLookup(context, frame, "loadMoreEnabled") && runtime.contextOrFrameLookup(context, frame, "hasMore")) {
	output += "\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<a class=\"list-item list-item-link show-more\" role=\"button\" titledby=\".item-text\"> \n\t\t\t\t\t\t\t\t<div class=\"item-icon item-icon-offset\">\n\t\t\t\t\t    \t\t\t<i class=\"fas fa-fw\"></i>\n\t\t\t\t\t    \t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"item-text\">\n\t\t\t\t\t                ";
	output += "\n\t\t\t\t\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Show more"), true && env.opts.autoescape);
	output += "\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t";
	;
	}
	output += "\n\t\t\t\t</ul>\n\t\t\t";
	;
	}
	else {
	output += "\n\t\t\t\t";
	context.getBlock("empty_content")(env, context, frame, runtime, function(t_17,t_16) {
	if(t_17) { cb(t_17); return; }
	output += t_16;
	output += "\n\t\t\t";
	});
	}
	output += "\n\t\t";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_empty_content(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<span class=\"list-item list-item-link list-item-center no-select\" href=\"#\" role=\"button\" titledby=\".item-text\"> \n\t\t\t\t    \t\t<div class=\"item-text\">\n\t\t\t\t                ";
	context.getBlock("empty_message")(env, context, frame, runtime, function(t_19,t_18) {
	if(t_19) { cb(t_19); return; }
	output += t_18;
	output += "\n\t\t\t\t    \t\t</div>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</li>\n\t\t\t\t";
	cb(null, output);
	});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_empty_message(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n\t\t\t\t\t                ";
	output += "\n\t\t\t\t\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"There are no items yet"), true && env.opts.autoescape);
	output += "\n\t\t\t\t\t\t\t\t";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	b_attrs: b_attrs,
	b_widget_dropdown: b_widget_dropdown,
	b_title: b_title,
	b_content: b_content,
	b_empty_content: b_empty_content,
	b_empty_message: b_empty_message,
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/userdashboard/base-widget.html"] , dependencies)

/***/ }),
/* 64 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var DelegatedWidgetView = __webpack_require__(54);
	var util = __webpack_require__(5);
	
	module.exports = DelegatedWidgetView.extend({
	
		app: null,
	    template: __webpack_require__(65),
	    
	    fetchURL: '/dashboard/api/user_liked_ideas/', // overridden for subview
	    
	    // will be set to self.options during initialization
	    defaults: {
	        
	        state: {
	            
	        }
	    },
	    
	    // The DOM events specific to an item.
	    events: {
	    	//'focus .nav-search-box': 'onSearchBoxFocusIn',
	    },
	
	    /** Overriding base function for unique widget ID. */
	    getWidgetId: function() {
	        return 'ideas-widget';
	    },
	    
	    /** Overriding params for request */
	    getParamsForFetchRequest: function() {
	    	return {urlSuffix: null, urlParams: {}}
	    },
	    
	
	    render: function () {
	        var self = this;
	        DelegatedWidgetView.prototype.render.call(self);
	        
	        util.log('*** Rendered ideas-widget! ***')
	        return self;
	    },
	    
	    /** Extend the template data by the controlView's options and state */
	    getTemplateData: function () {
	        var self = this;
	        var data = DelegatedWidgetView.prototype.getTemplateData.call(self);
	        return data;
	    },
	    
	    
	    
	
	});


/***/ }),
/* 65 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["userdashboard/base-widget"] = __webpack_require__( 63 );
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/userdashboard/ideas-widget.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("userdashboard/base-widget", true, "cosinnus/templates/cosinnus/universal/userdashboard/ideas-widget.html", false, function(t_2,_parentTemplate) {
	if(t_2) { cb(t_2); return; }
	parentTemplate = _parentTemplate
	for(var t_1 in parentTemplate.blocks) {
	context.addBlock(t_1, parentTemplate.blocks[t_1]);
	}
	output += "\n";
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/userdashboard/ideas-widget.html", false, function(t_4,t_3) {
	if(t_4) { cb(t_4); return; }
	t_3.getExported(function(t_5,t_3) {
	if(t_5) { cb(t_5); return; }
	context.setVariable("macros", t_3);
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("title"))(env, context, frame, runtime, function(t_7,t_6) {
	if(t_7) { cb(t_7); return; }
	output += t_6;
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("empty_content"))(env, context, frame, runtime, function(t_9,t_8) {
	if(t_9) { cb(t_9); return; }
	output += t_8;
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})})})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_title(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    ";
	output += "\n\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Ideas I like"), true && env.opts.autoescape);
	output += "\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_empty_content(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n\t<div class=\"widget-info-box no-select\">\n        ";
	output += "\n\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Here you can find an overview of Ideas you have liked."), true && env.opts.autoescape);
	output += "\n\t\t<br/>\n\t\t<br/>\n        ";
	output += "\n\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here"), true && env.opts.autoescape);
	output += ":\n\t\t<a href=\"/map/?people=false&events=false&projects=false&groups=false&conferences=false&ideas=true&organizations=false\">\n\t\t    ";
	output += "\n\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Discover"), true && env.opts.autoescape);
	output += "\n\t\t</a>\n\t</div>\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	b_title: b_title,
	b_empty_content: b_empty_content,
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/userdashboard/ideas-widget.html"] , dependencies)

/***/ }),
/* 66 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var DelegatedWidgetView = __webpack_require__(54);
	var util = __webpack_require__(5);
	
	module.exports = DelegatedWidgetView.extend({
	
		app: null,
	    template: __webpack_require__(67),
	    
	    fetchURL: '/dashboard/api/user_starred_users/', // overridden for subview
	    
	    // will be set to self.options during initialization
	    defaults: {
	        
	        state: {
	            
	        }
	    },
	    
	    // The DOM events specific to an item.
	    events: {
	    	//'focus .nav-search-box': 'onSearchBoxFocusIn',
	    },
	
	    /** Overriding base function for unique widget ID. */
	    getWidgetId: function() {
	        return 'starred-users-widget';
	    },
	    
	    /** Overriding params for request */
	    getParamsForFetchRequest: function() {
	    	return {urlSuffix: null, urlParams: {}}
	    },
	    
	
	    render: function () {
	        var self = this;
	        DelegatedWidgetView.prototype.render.call(self);
	        
	        util.log('*** Rendered ideas-widget! ***')
	        return self;
	    },
	    
	    /** Extend the template data by the controlView's options and state */
	    getTemplateData: function () {
	        var self = this;
	        var data = DelegatedWidgetView.prototype.getTemplateData.call(self);
	        data.title = COSINNUS_STARRED_USERS_LIST
	        return data;
	    },
	    
	    
	    
	
	});


/***/ }),
/* 67 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["userdashboard/base-widget"] = __webpack_require__( 63 );
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/userdashboard/starred-users-widget.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("userdashboard/base-widget", true, "cosinnus/templates/cosinnus/universal/userdashboard/starred-users-widget.html", false, function(t_2,_parentTemplate) {
	if(t_2) { cb(t_2); return; }
	parentTemplate = _parentTemplate
	for(var t_1 in parentTemplate.blocks) {
	context.addBlock(t_1, parentTemplate.blocks[t_1]);
	}
	output += "\n";
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/userdashboard/starred-users-widget.html", false, function(t_4,t_3) {
	if(t_4) { cb(t_4); return; }
	t_3.getExported(function(t_5,t_3) {
	if(t_5) { cb(t_5); return; }
	context.setVariable("macros", t_3);
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("title"))(env, context, frame, runtime, function(t_7,t_6) {
	if(t_7) { cb(t_7); return; }
	output += t_6;
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("content"))(env, context, frame, runtime, function(t_9,t_8) {
	if(t_9) { cb(t_9); return; }
	output += t_8;
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})})})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_title(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "title"), env.opts.autoescape);
	output += "\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_content(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "items")) > 0) {
	output += "\n        <ul class=\"item-list\">\n            ";
	frame = frame.push();
	var t_12 = runtime.contextOrFrameLookup(context, frame, "items");
	if(t_12) {var t_11 = t_12.length;
	for(var t_10=0; t_10 < t_12.length; t_10++) {
	var t_13 = t_12[t_10];
	frame.set("item", t_13);
	frame.set("loop.index", t_10 + 1);
	frame.set("loop.index0", t_10);
	frame.set("loop.revindex", t_11 - t_10);
	frame.set("loop.revindex0", t_11 - t_10 - 1);
	frame.set("loop.first", t_10 === 0);
	frame.set("loop.last", t_10 === t_11 - 1);
	frame.set("loop.length", t_11);
	output += "\n            ";
	output += runtime.suppressValue((lineno = 11, colno = 35, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"starredlistItem"), "macros[\"starredlistItem\"]", context, [t_13])), env.opts.autoescape);
	output += "\n            ";
	;
	}
	}
	frame = frame.pop();
	output += "\n        </ul>\n    ";
	;
	}
	else {
	output += "\n    <div class=\"widget-info-box no-select\">\n        ";
	output += "\n\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Nothing here yet."), true && env.opts.autoescape);
	output += "\n\t</div>\n    ";
	;
	}
	output += "\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	b_title: b_title,
	b_content: b_content,
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/userdashboard/starred-users-widget.html"] , dependencies)

/***/ }),
/* 68 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var DelegatedWidgetView = __webpack_require__(54);
	var util = __webpack_require__(5);
	
	module.exports = DelegatedWidgetView.extend({
	
		app: null,
	    template: __webpack_require__(69),
	    
	    fetchURL: '/dashboard/api/user_starred_objects/', // overridden for subview
	    
	    // will be set to self.options during initialization
	    defaults: {
	        
	        state: {
	            
	        }
	    },
	    
	    // The DOM events specific to an item.
	    events: {
	    	//'focus .nav-search-box': 'onSearchBoxFocusIn',
	    },
	
	    /** Overriding base function for unique widget ID. */
	    getWidgetId: function() {
	        return 'starred-objects-widget';
	    },
	    
	    /** Overriding params for request */
	    getParamsForFetchRequest: function() {
	    	return {urlSuffix: null, urlParams: {}}
	    },
	    
	
	    render: function () {
	        var self = this;
	        DelegatedWidgetView.prototype.render.call(self);
	        
	        util.log('*** Rendered ideas-widget! ***')
	        return self;
	    },
	    
	    /** Extend the template data by the controlView's options and state */
	    getTemplateData: function () {
	        var self = this;
	        var data = DelegatedWidgetView.prototype.getTemplateData.call(self);
	        data.title = COSINNUS_STARRED_OBJECTS_LIST
	        return data;
	    },
	    
	    
	    
	
	});


/***/ }),
/* 69 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["userdashboard/base-widget"] = __webpack_require__( 63 );
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/userdashboard/starred-objects-widget.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("userdashboard/base-widget", true, "cosinnus/templates/cosinnus/universal/userdashboard/starred-objects-widget.html", false, function(t_2,_parentTemplate) {
	if(t_2) { cb(t_2); return; }
	parentTemplate = _parentTemplate
	for(var t_1 in parentTemplate.blocks) {
	context.addBlock(t_1, parentTemplate.blocks[t_1]);
	}
	output += "\n";
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/userdashboard/starred-objects-widget.html", false, function(t_4,t_3) {
	if(t_4) { cb(t_4); return; }
	t_3.getExported(function(t_5,t_3) {
	if(t_5) { cb(t_5); return; }
	context.setVariable("macros", t_3);
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("title"))(env, context, frame, runtime, function(t_7,t_6) {
	if(t_7) { cb(t_7); return; }
	output += t_6;
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("content"))(env, context, frame, runtime, function(t_9,t_8) {
	if(t_9) { cb(t_9); return; }
	output += t_8;
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})})})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_title(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "title"), env.opts.autoescape);
	output += "\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_content(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "items")) > 0) {
	output += "\n        <ul class=\"item-list\">\n            ";
	frame = frame.push();
	var t_12 = runtime.contextOrFrameLookup(context, frame, "items");
	if(t_12) {var t_11 = t_12.length;
	for(var t_10=0; t_10 < t_12.length; t_10++) {
	var t_13 = t_12[t_10];
	frame.set("item", t_13);
	frame.set("loop.index", t_10 + 1);
	frame.set("loop.index0", t_10);
	frame.set("loop.revindex", t_11 - t_10);
	frame.set("loop.revindex0", t_11 - t_10 - 1);
	frame.set("loop.first", t_10 === 0);
	frame.set("loop.last", t_10 === t_11 - 1);
	frame.set("loop.length", t_11);
	output += "\n            ";
	output += runtime.suppressValue((lineno = 11, colno = 35, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"starredlistItem"), "macros[\"starredlistItem\"]", context, [t_13])), env.opts.autoescape);
	output += "\n            ";
	;
	}
	}
	frame = frame.pop();
	output += "\n        </ul>\n    ";
	;
	}
	else {
	output += "\n    <div class=\"widget-info-box no-select\">\n        ";
	output += "\n\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Nothing here yet."), true && env.opts.autoescape);
	output += "\n\t</div>\n    ";
	;
	}
	output += "\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	b_title: b_title,
	b_content: b_content,
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/userdashboard/starred-objects-widget.html"] , dependencies)

/***/ }),
/* 70 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var DelegatedWidgetView = __webpack_require__(54);
	var util = __webpack_require__(5);
	
	module.exports = DelegatedWidgetView.extend({
	
		app: null,
	    template: __webpack_require__(71),
	    
	    fetchURL: '/dashboard/api/user_followed_objects/', // overridden for subview
	    
	    // will be set to self.options during initialization
	    defaults: {
	        
	        state: {
	            
	        }
	    },
	    
	    // The DOM events specific to an item.
	    events: {
	    	//'focus .nav-search-box': 'onSearchBoxFocusIn',
	    },
	
	    /** Overriding base function for unique widget ID. */
	    getWidgetId: function() {
	        return 'followed-objects-widget';
	    },
	    
	    /** Overriding params for request */
	    getParamsForFetchRequest: function() {
	    	return {urlSuffix: null, urlParams: {}}
	    },
	    
	
	    render: function () {
	        var self = this;
	        DelegatedWidgetView.prototype.render.call(self);
	        
	        util.log('*** Rendered ideas-widget! ***')
	        return self;
	    },
	    
	    /** Extend the template data by the controlView's options and state */
	    getTemplateData: function () {
	        var self = this;
	        var data = DelegatedWidgetView.prototype.getTemplateData.call(self);
	        return data;
	    },
	    
	    
	    
	
	});


/***/ }),
/* 71 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["userdashboard/base-widget"] = __webpack_require__( 63 );
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/userdashboard/followed-objects-widget.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("userdashboard/base-widget", true, "cosinnus/templates/cosinnus/universal/userdashboard/followed-objects-widget.html", false, function(t_2,_parentTemplate) {
	if(t_2) { cb(t_2); return; }
	parentTemplate = _parentTemplate
	for(var t_1 in parentTemplate.blocks) {
	context.addBlock(t_1, parentTemplate.blocks[t_1]);
	}
	output += "\n";
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/userdashboard/followed-objects-widget.html", false, function(t_4,t_3) {
	if(t_4) { cb(t_4); return; }
	t_3.getExported(function(t_5,t_3) {
	if(t_5) { cb(t_5); return; }
	context.setVariable("macros", t_3);
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("title"))(env, context, frame, runtime, function(t_7,t_6) {
	if(t_7) { cb(t_7); return; }
	output += t_6;
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("content"))(env, context, frame, runtime, function(t_9,t_8) {
	if(t_9) { cb(t_9); return; }
	output += t_8;
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})})})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_title(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    ";
	output += "\n\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Items you follow"), true && env.opts.autoescape);
	output += "\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_content(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "items")) > 0) {
	output += "\n        <ul class=\"item-list\">\n            ";
	frame = frame.push();
	var t_12 = runtime.contextOrFrameLookup(context, frame, "items");
	if(t_12) {var t_11 = t_12.length;
	for(var t_10=0; t_10 < t_12.length; t_10++) {
	var t_13 = t_12[t_10];
	frame.set("item", t_13);
	frame.set("loop.index", t_10 + 1);
	frame.set("loop.index0", t_10);
	frame.set("loop.revindex", t_11 - t_10);
	frame.set("loop.revindex0", t_11 - t_10 - 1);
	frame.set("loop.first", t_10 === 0);
	frame.set("loop.last", t_10 === t_11 - 1);
	frame.set("loop.length", t_11);
	output += "\n            ";
	output += runtime.suppressValue((lineno = 12, colno = 36, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"followedlistItem"), "macros[\"followedlistItem\"]", context, [t_13])), env.opts.autoescape);
	output += "\n            ";
	;
	}
	}
	frame = frame.pop();
	output += "\n\t\t</ul>\n\t";
	;
	}
	else {
	output += "\n\t<div class=\"widget-info-box no-select\">\n        ";
	output += "\n\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Nothing here yet."), true && env.opts.autoescape);
	output += "\n\t</div>\n    ";
	;
	}
	output += "\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	b_title: b_title,
	b_content: b_content,
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/userdashboard/followed-objects-widget.html"] , dependencies)

/***/ }),
/* 72 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var DelegatedWidgetView = __webpack_require__(54);
	var util = __webpack_require__(5);
	
	module.exports = DelegatedWidgetView.extend({
	
		app: null,
	    template: __webpack_require__(73),
	    
	    fetchURL: '/dashboard/api/user_typed_content/recent/', // overridden for subview
	    
	    // will be set to self.options during initialization
	    defaults: {
	    	
	    	type: null, // the type of the content the widget displays
	    	isMovable: true, // widget template options
	    	isHidable: false, // widget template options
	    	loadMoreEnabled: true, // widget template options
	        
	        state: {
	        	sortIndex: 0,
	            
	        }
	    },
	    
	    // The DOM events specific to an item.
	    events: {
	    	'click .sort-up': 'onMoveUpClicked',
	    	'click .sort-down': 'onMoveDownClicked',
	    	'click .show-more': 'onShowMoreClicked',
	    },
	    
	    initialize: function (options, app) {
	        var self = this;
	        self.app = app;
	        DelegatedWidgetView.prototype.initialize.call(self, options);
	        self.options.type = options.type; // would have happened in initialize already but let's be explicit
	        self.state.sortIndex = options.sortIndex;
	    },
	    
	    /** Overriding base function for unique widget ID. */
	    getWidgetId: function() {
	        return this.type + '-content-widget';
	    },
	    
	    /** Overriding params for request */
	    getParamsForFetchRequest: function() {
	    	var self = this;
	    	var superParams = DelegatedWidgetView.prototype.getParamsForFetchRequest.call(self);
	    	return {urlSuffix: this.options.type, urlParams: superParams['urlParams']}
	    },
	    
	    onMoveUpClicked: function (event) {
	    	var self = this;
	    	App.userDashboardView.moveRightSideWidget(self.options.type, true);
	    },
	    
	    onMoveDownClicked: function (event) {
	    	var self = this;
	    	App.userDashboardView.moveRightSideWidget(self.options.type, false);
	    },
	
	    render: function () {
	        var self = this;
	        DelegatedWidgetView.prototype.render.call(self);
	        
	        util.log('# ## Rendered widget ' + self.widgetId);
	    	
	        // remove widget if empty
	        if (self.widgetData && self.widgetData.items && self.widgetData.items.length == 0) {
	        	self.$el.remove()
	        }
	        // remove widget if unknown content type (app type might be disabled)
	        if (self.state['errorResponseText'] && self.state['errorResponseText'].startsWith('Unknown content type supplied')) {
	            self.$el.remove()
	        }
	        
	        
	        return self;
	    },
	    
	    /** Extend the template data by the controlView's options and state */
	    getTemplateData: function () {
	        var self = this;
	        var data = DelegatedWidgetView.prototype.getTemplateData.call(self);
	        return data;
	    },
	    
	    
	    
	
	});


/***/ }),
/* 73 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["userdashboard/base-widget"] = __webpack_require__( 63 );
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/userdashboard/typed-content-widget.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("userdashboard/base-widget", true, "cosinnus/templates/cosinnus/universal/userdashboard/typed-content-widget.html", false, function(t_2,_parentTemplate) {
	if(t_2) { cb(t_2); return; }
	parentTemplate = _parentTemplate
	for(var t_1 in parentTemplate.blocks) {
	context.addBlock(t_1, parentTemplate.blocks[t_1]);
	}
	output += "\n";
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/userdashboard/typed-content-widget.html", false, function(t_4,t_3) {
	if(t_4) { cb(t_4); return; }
	t_3.getExported(function(t_5,t_3) {
	if(t_5) { cb(t_5); return; }
	context.setVariable("macros", t_3);
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("attrs"))(env, context, frame, runtime, function(t_7,t_6) {
	if(t_7) { cb(t_7); return; }
	output += t_6;
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("title"))(env, context, frame, runtime, function(t_9,t_8) {
	if(t_9) { cb(t_9); return; }
	output += t_8;
	output += "\n\n\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})})})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_attrs(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "data-sort-index=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "sortIndex"), env.opts.autoescape);
	output += "\" data-content-type=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "type"), env.opts.autoescape);
	output += "\"";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_title(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "widget_title"), env.opts.autoescape);
	output += "\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	b_attrs: b_attrs,
	b_title: b_title,
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/userdashboard/typed-content-widget.html"] , dependencies)

/***/ }),
/* 74 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var util = __webpack_require__(5);
	
	module.exports = Backbone.View.extend({
	    
		uiPrefs: null,
		fetchUrl: '/dashboard/api/save_ui_prefs/',
		
	    initialize: function (uiPrefs) {
	        var self = this;
	        Backbone.View.prototype.initialize.call(self);
	        $('body').on('click', '[data-target="ui-pref"]', self.onUiPrefLinkClicked.bind(this));
	        self.uiPrefs = uiPrefs;
	    },
	    
	    /** Returns a uiPref for the given ui_pref key, e.g. 'timeline__only_mine' */
	    getUiPref: function(uiPref) {
	    	if (uiPref in this.uiPrefs) {
	    		return this.uiPrefs[uiPref];
	    	}
	    	return null;
	    },
	    
	    /** Applies the given uiPrefs into the current state and
	     * 	sends a request to persist them in the DB for this user.
	     * 	The API only persists well-formed, existing ui prefs, so
	     *  we don't need to worry about validating them. */
	    saveUiPrefs: function(uiPrefDict) {
	    	var url = this.fetchUrl;
	    	$.extend(true, self.uiPrefs, uiPrefDict);
	    	return new Promise(function(resolve, reject) {
				$.ajax(url, {
	                type: 'POST',
	                timeout: 15000,
	                data: uiPrefDict,
	                success: function (response, textStatus, xhr) {
	                    if (xhr.status == 200) {
	                		resolve();
	                    } else {
	                    	reject(xhr.statusText);
	                    }
	                },
	                error: function (xhr, textStatus) {
	                	reject(xhr.statusText);
	                }
	            });
	    	});
	    	
	    },
	    
	    /** A listener for clicks on links that cause ui pref changes. 
	     * 	Required attributes on the link are:
	     * 		- `data-target="ui-pref"`: as identifier
	     * 		- `data-ui-pref`: set to the name of the ui pref
	     * 		- `data-ui-pref-value`: set to the value the ui pref should take
	     * 		- `data-hide-after`: (optional) a selector for an element that should be hidden 
	     * 				after the ui pref was saved
	     *  */
	    onUiPrefLinkClicked: function(event) {
	    	var self = this;
	    	var prefs = {};
	    	var $link = $(event.target);
	    	
	    	if (!$link.is('[data-target="ui-pref"]')) {
	    	    $link = $link.parents('[data-target="ui-pref"]');
	    	}
	    	if ($link.is('[data-target="ui-pref"]')) {
	        	prefs[$link.attr('data-ui-pref')] = $link.attr('data-ui-pref-value');
	        	this.saveUiPrefs(prefs);
	        	
	        	// if an element is given in `data-hide-after`, hide that element
	        	var hideAfter = $link.attr('data-hide-after');
	        	if (hideAfter) {
	        		$(hideAfter).fadeOut();
	        	}
	    	}
	    },
	    
	});


/***/ })
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgZDI0OTBkNDM2OTgzZDVmYzA0OTYiLCJ3ZWJwYWNrOi8vLy4vY29zaW5udXMvY2xpZW50L2FwcC5qcyIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy9jbGllbnQvcm91dGVyLmpzIiwid2VicGFjazovLy8uL2Nvc2lubnVzL2NsaWVudC92aWV3cy9tYXAtdmlldy5qcyIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy9jbGllbnQvdmlld3MvYmFzZS9jb250ZW50LWNvbnRyb2wtdmlldy5qcyIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy9jbGllbnQvdmlld3MvYmFzZS92aWV3LmpzIiwid2VicGFjazovLy8uL2Nvc2lubnVzL2NsaWVudC9saWIvdXRpbC5qcyIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy9jbGllbnQvdmlld3MvbWFwLWxheWVyLWJ1dHRvbnMtdmlldy5qcyIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL21hcC9tYXAtbGF5ZXItYnV0dG9ucy5odG1sIiwid2VicGFjazovLy8uL34vbnVuanVja3MvYnJvd3Nlci9udW5qdWNrcy1zbGltLmpzIiwid2VicGFjazovLy8uL251bmp1Y2tzLmNvbmZpZy5qcyIsIndlYnBhY2s6Ly8vLi9+L251bmp1Y2tzLWxvYWRlci9ydW50aW1lLXNoaW0uanMiLCJ3ZWJwYWNrOi8vLy4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC9tYXAvcG9wdXAuaHRtbCIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL21hcC9tYXAuaHRtbCIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy9jbGllbnQvbWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vY29zaW5udXMvY2xpZW50L3ZpZXdzL2NvbnRyb2wtdmlldy5qcyIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy9jbGllbnQvdmlld3MvZXJyb3Itdmlldy5qcyIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3hoci1lcnJvci5odG1sIiwid2VicGFjazovLy8uL2Nvc2lubnVzL2NsaWVudC92aWV3cy9wYWdpbmF0aW9uLWNvbnRyb2wtdmlldy5qcyIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL21hcC9wYWdpbmF0aW9uLWNvbnRyb2xzLmh0bWwiLCJ3ZWJwYWNrOi8vLy4vY29zaW5udXMvY2xpZW50L3ZpZXdzL21vYmlsZS1jb250cm9sLXZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC9tYXAvbW9iaWxlLWNvbnRyb2xzLmh0bWwiLCJ3ZWJwYWNrOi8vLy4vY29zaW5udXMvY2xpZW50L3ZpZXdzL2NyZWF0ZS1pZGVhLXZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy90aWxlLWRldGFpbC1jcmVhdGUtaWRlYS5odG1sIiwid2VicGFjazovLy8uL2Nvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvaW5jbHVkZS9tYWNyb3MuaHRtbCIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy9jbGllbnQvY29sbGVjdGlvbnMvcmVzdWx0LWNvbGxlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vY29zaW5udXMvY2xpZW50L21vZGVscy9yZXN1bHQuanMiLCJ3ZWJwYWNrOi8vLy4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC9tYXAvbWFwLWNvbnRyb2xzLmh0bWwiLCJ3ZWJwYWNrOi8vLy4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC9tYXAvbWFwLWNvbnRyb2xzLWFjdGl2ZS1maWx0ZXJzLmh0bWwiLCJ3ZWJwYWNrOi8vLy4vY29zaW5udXMvY2xpZW50L3ZpZXdzL3RpbGUtbGlzdC12aWV3LmpzIiwid2VicGFjazovLy8uL2Nvc2lubnVzL2NsaWVudC92aWV3cy90aWxlLXZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy9ncmlkLXRpbGUtZGVmYXVsdC5odG1sIiwid2VicGFjazovLy8uL2Nvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvZ3JpZC10aWxlLWJhc2UuaHRtbCIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL2dyaWQtdGlsZS1ncm91cHMuaHRtbCIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL2dyaWQtdGlsZS1wcm9qZWN0cy5odG1sIiwid2VicGFjazovLy8uL2Nvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvZ3JpZC10aWxlLWNsb3VkZmlsZS5odG1sIiwid2VicGFjazovLy8uL2Nvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvZ3JpZC10aWxlLW9yZ2FuaXphdGlvbnMuaHRtbCIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtbGlzdC5odG1sIiwid2VicGFjazovLy8uL2Nvc2lubnVzL2NsaWVudC92aWV3cy90aWxlLWRldGFpbC12aWV3LmpzIiwid2VicGFjazovLy8uL2Nvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtcHJvamVjdHMuaHRtbCIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtZGV0YWlsLWJhc2UtZ3JvdXAuaHRtbCIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtZGV0YWlsLWJhc2UuaHRtbCIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtZGV0YWlsLWdyb3Vwcy5odG1sIiwid2VicGFjazovLy8uL2Nvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtY29uZmVyZW5jZXMuaHRtbCIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtZGV0YWlsLXBlb3BsZS5odG1sIiwid2VicGFjazovLy8uL2Nvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtZXZlbnRzLmh0bWwiLCJ3ZWJwYWNrOi8vLy4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy90aWxlLWRldGFpbC1pZGVhcy5odG1sIiwid2VicGFjazovLy8uL2Nvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtb3JnYW5pemF0aW9ucy5odG1sIiwid2VicGFjazovLy8uL2Nvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtZXJyb3ItNDAzLmh0bWwiLCJ3ZWJwYWNrOi8vLy4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy90aWxlLWRldGFpbC1lcnJvci5odG1sIiwid2VicGFjazovLy8uL2Nvc2lubnVzL2NsaWVudC92aWV3cy9uYXZiYXIvcXVpY2tzZWFyY2gtdmlldy5qcyIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL25hdmJhci9xdWlja3NlYXJjaC5odG1sIiwid2VicGFjazovLy8uL2Nvc2lubnVzL2NsaWVudC92aWV3cy9uYXZiYXIvbWFpbi1tZW51LXZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC9uYXZiYXIvbWFpbi1tZW51Lmh0bWwiLCJ3ZWJwYWNrOi8vLy4vY29zaW5udXMvY2xpZW50L3ZpZXdzL25hdmJhci9ub3RpZmljYXRpb24td2lkZ2V0LXZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vY29zaW5udXMvY2xpZW50L3ZpZXdzL2Jhc2UvZGVsZWdhdGVkLXdpZGdldC12aWV3LmpzIiwid2VicGFjazovLy8uL2Nvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvbmF2YmFyL25vdGlmaWNhdGlvbi13aWRnZXQuaHRtbCIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL2luY2x1ZGUvbm90aWZpY2F0aW9uLWl0ZW0uaHRtbCIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy9jbGllbnQvdmlld3MvdXNlcmRhc2hib2FyZC91c2VyZGFzaGJvYXJkLXZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vY29zaW5udXMvY2xpZW50L3ZpZXdzL3VzZXJkYXNoYm9hcmQvdGltZWxpbmUtdmlldy5qcyIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3VzZXJkYXNoYm9hcmQvdGltZWxpbmUuaHRtbCIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3VzZXJkYXNoYm9hcmQvdGltZWxpbmUtaXRlbS1wbGFjZWhvbGRlci5odG1sIiwid2VicGFjazovLy8uL2Nvc2lubnVzL2NsaWVudC92aWV3cy91c2VyZGFzaGJvYXJkL2dyb3VwLXdpZGdldC12aWV3LmpzIiwid2VicGFjazovLy8uL2Nvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdXNlcmRhc2hib2FyZC9ncm91cC13aWRnZXQuaHRtbCIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3VzZXJkYXNoYm9hcmQvYmFzZS13aWRnZXQuaHRtbCIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy9jbGllbnQvdmlld3MvdXNlcmRhc2hib2FyZC9pZGVhcy13aWRnZXQtdmlldy5qcyIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3VzZXJkYXNoYm9hcmQvaWRlYXMtd2lkZ2V0Lmh0bWwiLCJ3ZWJwYWNrOi8vLy4vY29zaW5udXMvY2xpZW50L3ZpZXdzL3VzZXJkYXNoYm9hcmQvc3RhcnJlZC11c2Vycy13aWRnZXQtdmlldy5qcyIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3VzZXJkYXNoYm9hcmQvc3RhcnJlZC11c2Vycy13aWRnZXQuaHRtbCIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy9jbGllbnQvdmlld3MvdXNlcmRhc2hib2FyZC9zdGFycmVkLW9iamVjdHMtd2lkZ2V0LXZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC91c2VyZGFzaGJvYXJkL3N0YXJyZWQtb2JqZWN0cy13aWRnZXQuaHRtbCIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy9jbGllbnQvdmlld3MvdXNlcmRhc2hib2FyZC9mb2xsb3dlZC1vYmplY3RzLXdpZGdldC12aWV3LmpzIiwid2VicGFjazovLy8uL2Nvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdXNlcmRhc2hib2FyZC9mb2xsb3dlZC1vYmplY3RzLXdpZGdldC5odG1sIiwid2VicGFjazovLy8uL2Nvc2lubnVzL2NsaWVudC92aWV3cy91c2VyZGFzaGJvYXJkL3R5cGVkLWNvbnRlbnQtd2lkZ2V0LXZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC91c2VyZGFzaGJvYXJkL3R5cGVkLWNvbnRlbnQtd2lkZ2V0Lmh0bWwiLCJ3ZWJwYWNrOi8vLy4vY29zaW5udXMvY2xpZW50L3ZpZXdzL3VzZXJkYXNoYm9hcmQvdWktcHJlZnMtdmlldy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsdUJBQWU7QUFDZjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7Ozs7OztBQ3RDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1QsNkRBQTRELHVCQUF1QjtBQUNuRjtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQThDLG1EQUFtRDtBQUNqRyx5Q0FBd0MsOENBQThDO0FBQ3RGOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7QUFDQTtBQUNBLFdBQVU7QUFDVjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEVBQUM7Ozs7Ozs7QUNsWkQ7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRTtBQUNBO0FBQ0E7QUFDQSxjQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2RDtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7OztBQUdBLEVBQUM7Ozs7Ozs7QUNwREQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUF5QixFQUFFLGtDQUFrQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUU7QUFDdkUsNENBQTJDLEVBQUUsa0NBQWtDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtBQUN6RjtBQUNBLHVKQUFzSjtBQUN0SjtBQUNBLFVBQVM7QUFDVCxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQXlCLEVBQUUsb0NBQW9DLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtBQUN6RSwyQkFBMEIsRUFBRSxvQ0FBb0MsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFO0FBQzFFO0FBQ0EscUNBQW9DO0FBQ3BDO0FBQ0EsVUFBUztBQUNULE1BQUs7O0FBRUw7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxnQ0FBK0I7QUFDL0I7QUFDQTtBQUNBLGdCQUFlOztBQUVmO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTOztBQUVUOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNULE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVO0FBQ1YsVUFBUztBQUNUO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7OztBQUdMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUF5QyxtQkFBbUI7QUFDNUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYjtBQUNBO0FBQ0EsVUFBUzs7O0FBR1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYixVO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0EsVUFBUzs7O0FBR1Q7QUFDQTtBQUNBO0FBQ0EsY0FBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7O0FBR0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0Esb0JBQW1CO0FBQ25CLDZCQUE0QixlQUFlO0FBQzNDO0FBQ0Esb0JBQW1CO0FBQ25CO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esc0JBQXFCLG9DQUFvQztBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMEJBQXlCLHFCQUFxQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXFCO0FBQ3JCO0FBQ0Esa0JBQWlCO0FBQ2pCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHNDQUFxQyxRQUFRO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGtCQUFpQjtBQUNqQjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxzQkFBcUIscUJBQXFCO0FBQzFDO0FBQ0E7QUFDQSxrREFBaUQsUUFBUTtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYjtBQUNBO0FBQ0EsVUFBUztBQUNULE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxPQUFNO0FBQ047QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU07QUFDTjtBQUNBO0FBQ0EsTUFBSzs7O0FBR0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7O0FBR0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBNkI7QUFDN0I7QUFDQSxzQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0Esc0JBQXFCO0FBQ3JCO0FBQ0EsY0FBYSxxQkFBcUI7O0FBRWxDOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7QUFDQTtBQUNBOztBQUVBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUwseUJBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQSxNQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYTtBQUNiO0FBQ0E7QUFDQSxrQkFBaUI7QUFDakI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYixVQUFTO0FBQ1QsTUFBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXdELDJCQUEyQjtBQUNuRixNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsRUFBQzs7Ozs7OztBQ253QkQ7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSw2QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0EscUNBQW9DLHNJQUFzSTtBQUMxSyxVQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWlCO0FBQ2pCO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSztBQUNMLEVBQUM7Ozs7Ozs7QUNuRkQ7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBd0M7QUFDeEM7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBOEQ7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQzs7Ozs7OztBQ3JIRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBLDJEQUEwRDtBQUMxRDtBQUNBO0FBQ0EsTUFBSztBQUNMOzs7Ozs7O0FDOUlBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMLEVBQUM7Ozs7Ozs7QUM3Q0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0Esc0ZBQXFGOzs7OztBQUtyRjs7O0FBR0EsY0FBYSxrRUFBa0U7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUM7QUFDRCxFQUFDOzs7O0FBSUQsc0o7Ozs7OztBQ3pEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRCxxQ0FBb0M7QUFDcEM7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esd0JBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVO0FBQ1Y7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0EsUUFBTztBQUNQO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGlCQUFnQjtBQUNoQixrQkFBaUI7QUFDakIsa0JBQWlCO0FBQ2pCLGdCQUFlO0FBQ2YsZ0JBQWU7QUFDZjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBLHFDQUFvQztBQUNwQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esb0VBQW1FLGlCQUFpQjtBQUNwRixrQkFBaUIsY0FBYztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxrQkFBaUIsS0FBSztBQUN0QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFtQyxLQUFLO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLGtCQUFpQixjQUFjO0FBQy9CO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFNO0FBQ047QUFDQSx5Q0FBd0M7O0FBRXhDOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZUFBYyxtQkFBbUI7QUFDakM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTTtBQUNOO0FBQ0EsT0FBTTtBQUNOO0FBQ0EsT0FBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQSxRQUFPO0FBQ1A7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx1QkFBc0IsY0FBYyxFQUFFO0FBQ3RDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU07O0FBRU47QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsbUJBQWtCO0FBQ2xCO0FBQ0EsV0FBVTtBQUNWLE9BQU07O0FBRU47QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU07O0FBRU47QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFNOztBQUVOO0FBQ0E7QUFDQSxPQUFNOztBQUVOO0FBQ0E7QUFDQSxPQUFNOztBQUVOO0FBQ0E7QUFDQTtBQUNBLE9BQU07O0FBRU47QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU07O0FBRU47QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQSxPQUFNOztBQUVOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNEIseUJBQXlCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWM7O0FBRWQ7QUFDQTtBQUNBLE9BQU07O0FBRU47QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFNOztBQUVOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7O0FBRVY7QUFDQSxPQUFNOztBQUVOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFNOztBQUVOO0FBQ0E7QUFDQSxPQUFNOztBQUVOO0FBQ0E7QUFDQSxPQUFNOztBQUVOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE9BQU07O0FBRU47QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsT0FBTTs7QUFFTjtBQUNBO0FBQ0EsT0FBTTs7QUFFTjtBQUNBO0FBQ0Esc0JBQXFCLHdCQUF3QjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9EQUFtRDtBQUNuRCxvREFBbUQ7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU07O0FBRU47QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNkNBQTRDO0FBQzVDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQThCLFdBQVc7QUFDekM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFNOzs7QUFHTjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLDZDQUE0QztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFvQjtBQUNwQjtBQUNBO0FBQ0EsK0JBQThCO0FBQzlCLE9BQU07O0FBRU47QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFNOztBQUVOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU07O0FBRU47QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQSxRQUFPO0FBQ1A7QUFDQTs7OztBQUlBLFFBQU87QUFDUDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYSxNQUFNO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQSxRQUFPO0FBQ1A7QUFDQTs7QUFFQSxnREFBK0M7O0FBRS9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtFQUFpRSxrQkFBa0I7QUFDbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUU7QUFDRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBNkIsb0JBQW9CO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw4QkFBNkIsNEJBQTRCLGFBQWEsRUFBRTs7QUFFeEUsUUFBTztBQUNQO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHlDQUF3QyxLQUFLLEVBQUU7QUFDL0M7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLDhDQUE2Qzs7O0FBRzdDLFFBQU87QUFDUDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU07O0FBRU47QUFDQTtBQUNBO0FBQ0E7O0FBRUEsb0JBQW1CLGdCQUFnQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxxQ0FBb0MsZUFBZTtBQUNuRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLE9BQU07O0FBRU47QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFNOztBQUVOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFNOztBQUVOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVjtBQUNBLFdBQVU7QUFDVjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFVOztBQUVWO0FBQ0EsT0FBTTs7QUFFTjtBQUNBO0FBQ0EsT0FBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFNOztBQUVOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU07O0FBRU47QUFDQTtBQUNBLE9BQU07O0FBRU47QUFDQTtBQUNBLE9BQU07O0FBRU47QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxzQkFBcUIsZ0JBQWdCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsT0FBTTs7QUFFTjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGVBQWM7QUFDZDs7QUFFQTtBQUNBLE9BQU07O0FBRU47QUFDQTtBQUNBLE9BQU07O0FBRU47QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFNOztBQUVOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMEJBQXlCO0FBQ3pCO0FBQ0EsZUFBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQSxPQUFNOztBQUVOO0FBQ0E7QUFDQSxPQUFNOztBQUVOO0FBQ0E7QUFDQTtBQUNBLFNBQVE7QUFDUixPQUFNOztBQUVOO0FBQ0E7QUFDQTtBQUNBLFNBQVE7QUFDUixPQUFNOztBQUVOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSx1QkFBc0I7O0FBRXRCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx3QkFBdUI7O0FBRXZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFNOztBQUVOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLFVBQVUsRUFBRTtBQUN6RDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU07O0FBRU47QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsT0FBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHNCQUFxQixVQUFVO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsT0FBTTs7QUFFTjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFjO0FBQ2Q7O0FBRUEsd0JBQXVCLGdCQUFnQjtBQUN2QztBQUNBOztBQUVBO0FBQ0EsT0FBTTs7QUFFTjtBQUNBO0FBQ0EsMENBQXlDLFVBQVUsRUFBRTs7QUFFckQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7O0FBRVY7QUFDQSxPQUFNOztBQUVOO0FBQ0E7QUFDQSxPQUFNOztBQUVOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBOEM7QUFDOUMsV0FBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLE9BQU07O0FBRU47QUFDQTtBQUNBO0FBQ0Esd0JBQXVCLGtCQUFrQjtBQUN6QztBQUNBO0FBQ0E7QUFDQSxPQUFNOztBQUVOO0FBQ0E7QUFDQSxPQUFNOztBQUVOO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFNOztBQUVOO0FBQ0E7QUFDQTtBQUNBLE9BQU07O0FBRU47QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBa0I7QUFDbEIsZUFBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU07O0FBRU47QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EscUNBQW9DLHlCQUF5QjtBQUM3RDtBQUNBLGdEQUErQyxFQUFFO0FBQ2pEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxXQUFVOztBQUVWO0FBQ0EsT0FBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU07O0FBRU47QUFDQTtBQUNBO0FBQ0EsT0FBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7O0FBR0EsUUFBTztBQUNQO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHNCQUFxQixvQkFBb0I7QUFDekM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE9BQU07O0FBRU47QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU07O0FBRU47QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFNOztBQUVOO0FBQ0E7QUFDQSxPQUFNOztBQUVOO0FBQ0E7QUFDQTtBQUNBLEdBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esd0JBQXVCLGlCQUFpQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwrQkFBOEIscUJBQXFCO0FBQ25EOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZUFBYztBQUNkLEdBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLCtDQUE4QztBQUM5QywyREFBMEQ7QUFDMUQsb0VBQW1FO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF1QixnQkFBZ0I7QUFDdkM7O0FBRUE7QUFDQSxtREFBa0Q7QUFDbEQsK0RBQThEO0FBQzlELHdFQUF1RTtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBdUIsaUJBQWlCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQSxRQUFPO0FBQ1A7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVOztBQUVWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVU7QUFDVjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsK0JBQThCLFFBQVE7QUFDdEM7QUFDQTtBQUNBLGVBQWM7QUFDZCwrQkFBOEIsUUFBUTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7O0FBRVY7QUFDQSxjQUFhOztBQUViO0FBQ0E7QUFDQSxXQUFVOztBQUVWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7OztBQUdBLFFBQU87QUFDUDtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU07O0FBRU47QUFDQTtBQUNBO0FBQ0Esd0JBQXVCO0FBQ3ZCLHNEQUFxRDtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRTs7QUFFRjs7O0FBR0EsUUFBTztBQUNQO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFNOztBQUVOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBYztBQUNkO0FBQ0EsT0FBTTs7QUFFTjtBQUNBO0FBQ0EsT0FBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQSxHQUFFOztBQUVGOzs7QUFHQSxRQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwrQkFBOEI7QUFDOUIsdUJBQXNCOztBQUV0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTtBQUNOO0FBQ0EsdUJBQXNCLGlCQUFpQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTtBQUNOO0FBQ0E7QUFDQSx1QkFBc0IsaUJBQWlCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTtBQUNOO0FBQ0E7QUFDQSxPQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU07QUFDTjtBQUNBO0FBQ0EsT0FBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUTtBQUNSO0FBQ0EsU0FBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLE9BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEwRDtBQUMxRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMEI7QUFDMUI7O0FBRUE7QUFDQSwyQkFBMEI7QUFDMUI7O0FBRUE7QUFDQTtBQUNBOztBQUVBOzs7QUFHQTtBQUNBO0FBQ0EsRUFBQztBQUNELEU7Ozs7OztBQzFvRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7Ozs7OztBQ2xDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxHOzs7Ozs7QUM3Q0E7QUFDQTtBQUNBO0FBQ0EsNERBQTJELCtGQUErRjtBQUMxSixFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0Esc0ZBQXFGOzs7OztBQUtyRjs7O0FBR0EsY0FBYSxrRUFBa0U7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFDO0FBQ0QsRUFBQzs7OztBQUlELDBJOzs7Ozs7QUNyREE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0Esc0ZBQXFGOzs7OztBQUtyRjs7O0FBR0EsY0FBYSxrRUFBa0U7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFDO0FBQ0QsRUFBQzs7OztBQUlELHdJOzs7Ozs7QUM5REE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FDWEE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7O0FBRUEsc0JBQXFCO0FBQ3JCLDBCQUF5QjtBQUN6QixvQkFBbUI7QUFDbkIsMkJBQTBCO0FBQzFCLDhCQUE2QjtBQUM3QjtBQUNBO0FBQ0EsdUJBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBeUI7O0FBRXpCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsMEQ7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsVTs7QUFFQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWlCO0FBQ2pCOztBQUVBO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsY0FBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYjs7O0FBR0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBaUI7QUFDakI7QUFDQTtBQUNBLGtCQUFpQjs7QUFFakI7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7O0FBR0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFU7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsUUFBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EscUNBQW9DO0FBQ3BDO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQSxNQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOzs7QUFHTDs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEI7QUFDQSxzQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0Esa0JBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFpQjtBQUNqQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtFQUFpRSxrQkFBa0I7QUFDbkYsMEJBQXlCO0FBQ3pCLGtFQUFpRSxjQUFjO0FBQy9FO0FBQ0E7QUFDQTtBQUNBLGNBQWE7OztBQUdiO0FBQ0EsTUFBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0I7QUFDQSxjQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsY0FBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1QsTUFBSzs7O0FBR0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQjtBQUNBLGNBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVCxNQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsY0FBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUzs7O0FBR1QsTUFBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVTtBQUNWOztBQUVBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNULE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsY0FBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXdELGFBQWE7QUFDckU7QUFDQTtBQUNBLGNBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF3RCxhQUFhO0FBQ3JFO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFc7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsTUFBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBd0M7O0FBRXhDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7O0FBR0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWlCO0FBQ2pCO0FBQ0EsY0FBYTtBQUNiO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7QUFDQSxVQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYjtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0EsTUFBSzs7O0FBR0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1QsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBeUQ7QUFDekQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1QsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsY0FBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGNBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxrQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0Esc0JBQXFCO0FBQ3JCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0JBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLHNCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYTtBQUNiOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYixVQUFTO0FBQ1Q7QUFDQTtBQUNBLGNBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1QsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1QsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1QsTUFBSzs7QUFFTCxFQUFDOzs7Ozs7O0FDaDFERDs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUM7Ozs7Ozs7QUNkRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxzRkFBcUY7Ozs7O0FBS3JGOzs7QUFHQSxjQUFhLGtFQUFrRTtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsRUFBQztBQUNELEVBQUM7Ozs7QUFJRCwwSTs7Ozs7O0FDN0NBOztBQUVBO0FBQ0E7O0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUwsRUFBQzs7Ozs7OztBQzFHRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxzRkFBcUY7Ozs7O0FBS3JGOzs7QUFHQSxjQUFhLGtFQUFrRTtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFDO0FBQ0QsRUFBQzs7OztBQUlELHdKOzs7Ozs7QUNuS0E7O0FBRUE7QUFDQTs7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOzs7QUFHTDs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxNQUFLOzs7QUFHTCxFQUFDOzs7Ozs7O0FDakZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLHNGQUFxRjs7Ozs7QUFLckY7OztBQUdBLGNBQWEsa0VBQWtFO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFDO0FBQ0QsRUFBQzs7OztBQUlELG9KOzs7Ozs7QUMzRUE7O0FBRUE7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0Q7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBLEVBQUM7Ozs7Ozs7QUN0RkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0Esc0ZBQXFGO0FBQ3JGOzs7OztBQUtBOzs7QUFHQSxjQUFhLGtFQUFrRTtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBLDZDQUE0QyxRQUFRLEVBQUU7QUFDdEQsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBLDZDQUE0QyxRQUFRLEVBQUU7QUFDdEQsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBLDBEQUF5RCxvREFBb0Qsb0RBQW9EO0FBQ2pLO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBLEVBQUMsRUFBRSxFQUFFLEVBQUU7QUFDUCxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBQQUF5UDtBQUN6UDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFDO0FBQ0QsRUFBQzs7OztBQUlELDhKOzs7Ozs7QUN0R0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0Esc0ZBQXFGOzs7OztBQUtyRjs7O0FBR0EsY0FBYSxrRUFBa0U7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBbUM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvR0FBbUc7QUFDbkcsY0FBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBbUM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNLQUFxSywwRkFBMEY7QUFDL1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUtBQW9LLHlFQUF5RTtBQUM3TztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFtQztBQUNuQztBQUNBO0FBQ0EsZUFBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBbUM7QUFDbkM7QUFDQTtBQUNBLGVBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFDO0FBQ0QsRUFBQzs7OztBQUlELCtJOzs7Ozs7QUN4dENBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQSxVQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBLEVBQUMsRTs7Ozs7O0FDcEJEOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDs7QUFFQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQSxFQUFDLEU7Ozs7OztBQ3RERDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxzRkFBcUY7QUFDckY7Ozs7O0FBS0E7OztBQUdBLGNBQWEsa0VBQWtFO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNULGVBQWMsa0JBQWtCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNE1BQTJNLDZGQUE2RjtBQUN4UztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVixlQUFjLG1CQUFtQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVixnQkFBZSxvQkFBb0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVO0FBQ1Y7QUFDQTtBQUNBLFlBQVcsb0JBQW9CO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVjtBQUNBO0FBQ0EsWUFBVyxvQkFBb0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBMkQsc0RBQXNEO0FBQ2pIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVixnQkFBZSxvQkFBb0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVixnQkFBZSxvQkFBb0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVixnQkFBZSxvQkFBb0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQSxFQUFDLEVBQUU7QUFDSCxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUM7QUFDRCxFQUFDOzs7O0FBSUQsaUo7Ozs7OztBQ3BqQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0Esc0ZBQXFGOzs7OztBQUtyRjs7O0FBR0EsY0FBYSxrRUFBa0U7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0EsV0FBVSxrQkFBa0I7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVixlQUFjLG1CQUFtQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVjtBQUNBO0FBQ0EsWUFBVyxvQkFBb0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVixnQkFBZSxvQkFBb0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVO0FBQ1Y7QUFDQTtBQUNBLFlBQVcsb0JBQW9CO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVO0FBQ1YsZ0JBQWUsb0JBQW9CO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVTtBQUNWLGdCQUFlLG9CQUFvQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVixnQkFBZSxvQkFBb0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVO0FBQ1YsZ0JBQWUsb0JBQW9CO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsRUFBQztBQUNELEVBQUM7Ozs7QUFJRCxnSzs7Ozs7O0FDbGlCQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQSxnQ0FBK0I7QUFDL0I7QUFDQTtBQUNBLGNBQWE7O0FBRWI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUzs7QUFFVDs7QUFFQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOzs7QUFHTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVCxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLE1BQUs7OztBQUdMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFVO0FBQ1Y7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDs7QUFFQSxNQUFLOztBQUVMOztBQUVBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTRDLGFBQWE7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVM7O0FBRVQsd0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTOztBQUVUO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSw2QztBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1QsTUFBSzs7QUFFTDtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7OztBQUlMO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTCxFQUFDOzs7Ozs7O0FDdlNEOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0EsVUFBUztBQUNUO0FBQ0EsVUFBUztBQUNUO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOzs7QUFHTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMLEVBQUM7Ozs7Ozs7QUN0SEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0Esc0ZBQXFGO0FBQ3JGO0FBQ0E7Ozs7O0FBS0E7OztBQUdBLGNBQWEsa0VBQWtFO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0EsNkNBQTRDLFFBQVEsRUFBRTtBQUN0RCxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0EsNkNBQTRDLFFBQVEsRUFBRTtBQUN0RCxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0EsRUFBQyxFQUFFLEVBQUUsRUFBRSxFQUFFO0FBQ1QsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVSxVQUFVLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNk9BQTRPLHVJQUF1STtBQUNuWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtPQUE4Tyx1SUFBdUk7QUFDclg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVO0FBQ1YsZ0JBQWUsb0JBQW9CO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0QsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFDO0FBQ0QsRUFBQzs7OztBQUlELHdKOzs7Ozs7QUM5UUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0Esc0ZBQXFGO0FBQ3JGOzs7OztBQUtBOzs7QUFHQSxjQUFhLGtFQUFrRTtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlZQUF3WSwwRkFBMEY7QUFDbGU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE0QyxRQUFRLEVBQUU7QUFDdEQsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBLDZDQUE0QyxRQUFRLEVBQUU7QUFDdEQsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBLEVBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRTtBQUNULEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5UkFBd1IsK0ZBQStGO0FBQ3ZYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFDO0FBQ0QsRUFBQzs7OztBQUlELHFKOzs7Ozs7QUNuTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0Esc0ZBQXFGO0FBQ3JGOzs7OztBQUtBOzs7QUFHQSxjQUFhLGtFQUFrRTtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0EsRUFBQyxFQUFFO0FBQ0gsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFDO0FBQ0QsRUFBQzs7OztBQUlELHVKOzs7Ozs7QUMvRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0Esc0ZBQXFGO0FBQ3JGOzs7OztBQUtBOzs7QUFHQSxjQUFhLGtFQUFrRTtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0EsRUFBQyxFQUFFO0FBQ0gsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFDO0FBQ0QsRUFBQzs7OztBQUlELHlKOzs7Ozs7QUMvRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0Esc0ZBQXFGO0FBQ3JGO0FBQ0E7Ozs7O0FBS0E7OztBQUdBLGNBQWEsa0VBQWtFO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0EsNkNBQTRDLFFBQVEsRUFBRTtBQUN0RCxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0EsNkNBQTRDLFFBQVEsRUFBRTtBQUN0RCxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0EsRUFBQyxFQUFFLEVBQUUsRUFBRSxFQUFFO0FBQ1QsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUM7QUFDRCxFQUFDOzs7O0FBSUQsMEo7Ozs7OztBQ3BHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxzRkFBcUY7QUFDckY7Ozs7O0FBS0E7OztBQUdBLGNBQWEsa0VBQWtFO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE0QyxRQUFRLEVBQUU7QUFDdEQsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQSxFQUFDLEVBQUU7QUFDSCxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUM7QUFDRCxFQUFDOzs7O0FBSUQsOEo7Ozs7OztBQy9FQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxzRkFBcUY7QUFDckY7Ozs7O0FBS0E7OztBQUdBLGNBQWEsa0VBQWtFO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVCxlQUFjLGtCQUFrQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFMQUFvTCwrR0FBK0c7QUFDblM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVixlQUFjLG1CQUFtQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNMQUFxTCxvTUFBb007QUFDelg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEtBQXlLO0FBQ3pLO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBLEVBQUMsRUFBRTtBQUNILEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsRUFBQztBQUNELEVBQUM7Ozs7QUFJRCxnSjs7Ozs7O0FDbEpBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFU7QUFDQSxNQUFLOzs7QUFHTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBLE1BQUs7QUFDTDtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFDOzs7Ozs7O0FDMUtEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLHNGQUFxRjtBQUNyRjtBQUNBOzs7OztBQUtBOzs7QUFHQSxjQUFhLGtFQUFrRTtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBLDZDQUE0QyxRQUFRLEVBQUU7QUFDdEQsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBLDZDQUE0QyxRQUFRLEVBQUU7QUFDdEQsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBLEVBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRTtBQUNULEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVSxVQUFVLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlLQUFnSztBQUNoSztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0lBQXFJO0FBQ3JJO0FBQ0E7QUFDQSw2SEFBNEg7QUFDNUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0QsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsRUFBQztBQUNELEVBQUM7Ozs7QUFJRCwySjs7Ozs7O0FDOUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLHNGQUFxRjtBQUNyRjtBQUNBOzs7OztBQUtBOzs7QUFHQSxjQUFhLGtFQUFrRTtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBLDZDQUE0QyxRQUFRLEVBQUU7QUFDdEQsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBLDZDQUE0QyxRQUFRLEVBQUU7QUFDdEQsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBLDZDQUE0QyxRQUFRLEVBQUU7QUFDdEQsV0FBVSxVQUFVLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBLEVBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFO0FBQ1gsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVSxVQUFVLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVTtBQUNWLGdCQUFlLG9CQUFvQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0QsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVixnQkFBZSxvQkFBb0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0akJBQTJqQixnS0FBZ0s7QUFDM3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVixnQkFBZSxvQkFBb0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5ZEFBd2QsNkZBQTZGO0FBQ3JqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsRUFBQztBQUNELEVBQUM7Ozs7QUFJRCw2Sjs7Ozs7O0FDaldBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLHNGQUFxRjtBQUNyRjs7Ozs7QUFLQTs7O0FBR0EsY0FBYSxrRUFBa0U7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLDZDQUE0QyxRQUFRLEVBQUU7QUFDdEQsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBLDBEQUF5RCxvREFBb0Qsb0RBQW9EO0FBQ2pLO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBLEVBQUMsRUFBRSxFQUFFO0FBQ0wsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsV0FBVSxVQUFVLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsV0FBVSxVQUFVLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsV0FBVSxVQUFVLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsV0FBVSxVQUFVLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsV0FBVSxVQUFVLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsV0FBVSxVQUFVLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsV0FBVSxVQUFVLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsV0FBVSxVQUFVLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsV0FBVSxVQUFVLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsV0FBVSxVQUFVLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsV0FBVSxVQUFVLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsV0FBVSxVQUFVLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsV0FBVSxVQUFVLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsRUFBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUU7QUFDN0IsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlSQUF3UiwrRkFBK0Y7QUFDdlg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVSxVQUFVLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsV0FBVSxVQUFVLFFBQVE7QUFDNUI7QUFDQTtBQUNBLEVBQUMsRUFBRTtBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNk9BQTRPLHVJQUF1STtBQUNuWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtPQUE4Tyx1SUFBdUk7QUFDclg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVixnQkFBZSxvQkFBb0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVixnQkFBZSxvQkFBb0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVO0FBQ1YsZ0JBQWUsb0JBQW9CO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVTtBQUNWLGdCQUFlLG9CQUFvQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVixnQkFBZSxvQkFBb0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVTtBQUNWLGdCQUFlLG9CQUFvQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUF5RCxvREFBb0Q7QUFDN0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUM7QUFDRCxFQUFDOzs7O0FBSUQsdUo7Ozs7OztBQzdyQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0Esc0ZBQXFGO0FBQ3JGO0FBQ0E7Ozs7O0FBS0E7OztBQUdBLGNBQWEsa0VBQWtFO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0EsNkNBQTRDLFFBQVEsRUFBRTtBQUN0RCxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0EsNkNBQTRDLFFBQVEsRUFBRTtBQUN0RCxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0EsNkNBQTRDLFFBQVEsRUFBRTtBQUN0RCxXQUFVLFVBQVUsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0EsRUFBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUU7QUFDWCxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVUsVUFBVSxRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpS0FBZ0s7QUFDaEs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNJQUFxSTtBQUNySTtBQUNBO0FBQ0EsNkhBQTRIO0FBQzVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNELEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVLFVBQVUsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVixnQkFBZSxvQkFBb0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Z0JBQTJnQiw2RkFBNkY7QUFDeG1CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNELEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsRUFBQztBQUNELEVBQUM7Ozs7QUFJRCx5Sjs7Ozs7O0FDbk9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLHNGQUFxRjtBQUNyRjtBQUNBOzs7OztBQUtBOzs7QUFHQSxjQUFhLGtFQUFrRTtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBLDZDQUE0QyxRQUFRLEVBQUU7QUFDdEQsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBLDZDQUE0QyxRQUFRLEVBQUU7QUFDdEQsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBLDZDQUE0QyxRQUFRLEVBQUU7QUFDdEQsV0FBVSxVQUFVLFFBQVE7QUFDNUI7QUFDQTtBQUNBLDZDQUE0QyxRQUFRLEVBQUU7QUFDdEQsV0FBVSxVQUFVLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBLEVBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUU7QUFDYixFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVTtBQUNWLGdCQUFlLG9CQUFvQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRqQkFBMmpCLGdLQUFnSztBQUMzdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVLFVBQVUsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUtBQWdLO0FBQ2hLO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzSUFBcUk7QUFDckk7QUFDQTtBQUNBLDZIQUE0SDtBQUM1SDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRCxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUM7QUFDRCxFQUFDOzs7O0FBSUQsOEo7Ozs7OztBQzFQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxzRkFBcUY7QUFDckY7QUFDQTs7Ozs7QUFLQTs7O0FBR0EsY0FBYSxrRUFBa0U7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFdBQVUsVUFBVSxRQUFRO0FBQzVCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFdBQVUsVUFBVSxRQUFRO0FBQzVCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFdBQVUsVUFBVSxRQUFRO0FBQzVCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFdBQVUsVUFBVSxRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQSxFQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtBQUNqQixFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVSxVQUFVLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRCxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVSxVQUFVLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0QsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVTtBQUNWLGdCQUFlLG9CQUFvQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRnQkFBMmdCLDZGQUE2RjtBQUN4bUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVTtBQUNWLGdCQUFlLG9CQUFvQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZnQkFBNGdCLDZGQUE2RjtBQUN6bUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFDO0FBQ0QsRUFBQzs7OztBQUlELHlKOzs7Ozs7QUMxU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0Esc0ZBQXFGO0FBQ3JGO0FBQ0E7Ozs7O0FBS0E7OztBQUdBLGNBQWEsa0VBQWtFO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0EsNkNBQTRDLFFBQVEsRUFBRTtBQUN0RCxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0EsNkNBQTRDLFFBQVEsRUFBRTtBQUN0RCxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0EsNkNBQTRDLFFBQVEsRUFBRTtBQUN0RCxXQUFVLFVBQVUsUUFBUTtBQUM1QjtBQUNBO0FBQ0EsNkNBQTRDLFFBQVEsRUFBRTtBQUN0RCxXQUFVLFVBQVUsUUFBUTtBQUM1QjtBQUNBO0FBQ0EsNkNBQTRDLFFBQVEsRUFBRTtBQUN0RCxXQUFVLFVBQVUsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0EsRUFBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFO0FBQ2YsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVUsVUFBVSxRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpS0FBZ0s7QUFDaEs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNJQUFxSTtBQUNySTtBQUNBO0FBQ0EsNkhBQTRIO0FBQzVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNELEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVO0FBQ1YsZ0JBQWUsb0JBQW9CO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseWRBQXdkLDZGQUE2RjtBQUNyakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFDO0FBQ0QsRUFBQzs7OztBQUlELHlKOzs7Ozs7QUM3VEE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0Esc0ZBQXFGO0FBQ3JGO0FBQ0E7Ozs7O0FBS0E7OztBQUdBLGNBQWEsa0VBQWtFO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0EsNkNBQTRDLFFBQVEsRUFBRTtBQUN0RCxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0EsNkNBQTRDLFFBQVEsRUFBRTtBQUN0RCxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0EsNkNBQTRDLFFBQVEsRUFBRTtBQUN0RCxXQUFVLFVBQVUsUUFBUTtBQUM1QjtBQUNBO0FBQ0EsNkNBQTRDLFFBQVEsRUFBRTtBQUN0RCxXQUFVLFVBQVUsUUFBUTtBQUM1QjtBQUNBO0FBQ0EsNkNBQTRDLFFBQVEsRUFBRTtBQUN0RCxXQUFVLFVBQVUsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0EsRUFBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFO0FBQ2YsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVSxVQUFVLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUtBQWdLO0FBQ2hLO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzSUFBcUk7QUFDckk7QUFDQTtBQUNBLDZIQUE0SDtBQUM1SDtBQUNBO0FBQ0EsMkhBQTBIO0FBQzFIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNELEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVLFVBQVUsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVixnQkFBZSxvQkFBb0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Z0JBQTRnQiw2RkFBNkY7QUFDem1CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNELEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUM7QUFDRCxFQUFDOzs7O0FBSUQsd0o7Ozs7OztBQ3hVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxzRkFBcUY7QUFDckY7QUFDQTs7Ozs7QUFLQTs7O0FBR0EsY0FBYSxrRUFBa0U7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFdBQVUsVUFBVSxRQUFRO0FBQzVCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFdBQVUsVUFBVSxRQUFRO0FBQzVCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFdBQVUsVUFBVSxRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0EsRUFBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFO0FBQ2YsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVTtBQUNWLGdCQUFlLG9CQUFvQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVixnQkFBZSxvQkFBb0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5ZEFBd2QsNkZBQTZGO0FBQ3JqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVixnQkFBZSxvQkFBb0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFDO0FBQ0QsRUFBQzs7OztBQUlELGdLOzs7Ozs7QUM5V0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0Esc0ZBQXFGO0FBQ3JGO0FBQ0E7Ozs7O0FBS0E7OztBQUdBLGNBQWEsa0VBQWtFO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0EsNkNBQTRDLFFBQVEsRUFBRTtBQUN0RCxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0EsRUFBQyxFQUFFLEVBQUUsRUFBRTtBQUNQLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUM7QUFDRCxFQUFDOzs7O0FBSUQsNEo7Ozs7OztBQy9GQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxzRkFBcUY7QUFDckY7QUFDQTs7Ozs7QUFLQTs7O0FBR0EsY0FBYSxrRUFBa0U7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQSxFQUFDLEVBQUUsRUFBRSxFQUFFO0FBQ1AsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsRUFBQztBQUNELEVBQUM7Ozs7QUFJRCx3Sjs7Ozs7O0FDaEZBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFxQyxHQUFHO0FBQ3hDLCtCQUE4QixHQUFHO0FBQ2pDLGlEQUFnRCxHQUFHO0FBQ25ELG9EQUFtRCxHQUFHO0FBQ3RELFVBQVM7QUFDVDtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0Esb0NBQW1DLEdBQUc7QUFDdEMsNkJBQTRCO0FBQzVCLGdDQUErQixHQUFHOztBQUVsQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7O0FBRVQsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esc0VBQXFFLEdBQUc7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTRELEdBQUc7QUFDL0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtEQUE4RCxHQUFHO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1FQUFrRSxHQUFHO0FBQ3JFO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQSxJQUFHO0FBQ0gsTUFBSzs7O0FBR0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXFELGFBQWE7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFxQjtBQUNyQjtBQUNBO0FBQ0Esa0JBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxrQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsY0FBYTtBQUNiLFVBQVM7QUFDVCxNQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBcUI7QUFDckI7QUFDQTtBQUNBLGNBQWE7QUFDYjtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUwsRUFBQzs7Ozs7OztBQ3pWRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxzRkFBcUY7QUFDckY7Ozs7O0FBS0E7OztBQUdBLGNBQWEsa0VBQWtFO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaU5BQWdOLG9HQUFvRztBQUNwVDtBQUNBLG1OQUFrTixvR0FBb0c7QUFDdFQ7QUFDQSxpTkFBZ04sb0dBQW9HO0FBQ3BUO0FBQ0EsaU5BQWdOLG9HQUFvRztBQUNwVDtBQUNBO0FBQ0E7QUFDQSxzTkFBcU4sb0dBQW9HO0FBQ3pUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdOQUErTSxvR0FBb0c7QUFDblQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd05BQXVOLG9HQUFvRztBQUMzVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaVZBQWdWLDBHQUEwRztBQUMxYjtBQUNBLDZVQUE0VSxzR0FBc0c7QUFDbGI7QUFDQSxnVkFBK1UseUdBQXlHO0FBQ3hiO0FBQ0E7QUFDQTtBQUNBLG9WQUFtViw2R0FBNkc7QUFDaGM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVTtBQUNWO0FBQ0E7QUFDQSxXQUFVLG1CQUFtQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlTQUFnUyx5QkFBeUI7QUFDelQ7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaVNBQWdTLHlCQUF5QjtBQUN6VDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVO0FBQ1Y7QUFDQTtBQUNBLFlBQVcsb0JBQW9CO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK1JBQThSLHlCQUF5QjtBQUN2VDtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrUkFBOFIseUJBQXlCO0FBQ3ZUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVTtBQUNWLGdCQUFlLG9CQUFvQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBSQUF5UiwwTEFBMEw7QUFDbmQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBSQUF5Uix3SUFBd0k7QUFDamE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0EsRUFBQyxFQUFFO0FBQ0gsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFDO0FBQ0QsRUFBQzs7OztBQUlELG1KOzs7Ozs7QUNyWkE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxNQUFLOztBQUVMOztBQUVBOztBQUVBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7O0FBR0wsRUFBQzs7Ozs7OztBQ3JERDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxzRkFBcUY7QUFDckY7Ozs7O0FBS0E7OztBQUdBLGNBQWEsa0VBQWtFO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVCxlQUFjLGtCQUFrQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVSQUFzUiw2REFBNkQ7QUFDblY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVTtBQUNWLGVBQWMsbUJBQW1CO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMFJBQXlSLDhEQUE4RDtBQUN2VjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVO0FBQ1YsZ0JBQWUsb0JBQW9CO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMFJBQXlSLDhEQUE4RDtBQUN2VjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVixnQkFBZSxvQkFBb0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVTtBQUNWLGdCQUFlLG9CQUFvQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBSQUF5Uiw4REFBOEQ7QUFDdlY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVixnQkFBZSxvQkFBb0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyUkFBMFIsOERBQThEO0FBQ3hWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVO0FBQ1YsZ0JBQWUsb0JBQW9CO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMlJBQTBSLDhEQUE4RDtBQUN4VjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUVBQW9FO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVO0FBQ1YsZ0JBQWUsb0JBQW9CO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMlJBQTBSLDhEQUE4RDtBQUN4VjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVTtBQUNWLGdCQUFlLG9CQUFvQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJSQUEwUiw4REFBOEQ7QUFDeFY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRUFBb0U7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVO0FBQ1YsZ0JBQWUsb0JBQW9CO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMlJBQTBSLGdIQUFnSDtBQUMxWTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0EsRUFBQyxFQUFFO0FBQ0gsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFDO0FBQ0QsRUFBQzs7OztBQUlELGlKOzs7Ozs7QUN0ZkE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBeUM7O0FBRXpDO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0Esa0Q7QUFDQSxVQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXFDLFFBQVE7QUFDN0M7QUFDQTtBQUNBLDBCQUF5QixrQkFBa0I7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYjtBQUNBO0FBQ0Esc0M7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNULE1BQUs7O0FBRUw7QUFDQTtBQUNBLHlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHNFO0FBQ0EsTUFBSzs7QUFFTCxFQUFDOzs7Ozs7O0FDN1NEOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLG1CQUFrQjs7QUFFbEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVE7QUFDUixPQUFNO0FBQ04sTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esc0JBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxrQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0Esa0JBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYixPQUFNO0FBQ04sTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTtBQUNOLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMLEVBQUM7Ozs7Ozs7QUMxS0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0Esc0ZBQXFGO0FBQ3JGO0FBQ0E7Ozs7O0FBS0E7OztBQUdBLGNBQWEsa0VBQWtFO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVCxlQUFjLGtCQUFrQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlVQUF3VSw4WkFBOFo7QUFDdHVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBLEVBQUMsRUFBRSxFQUFFLEVBQUU7QUFDUCxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUM7QUFDRCxFQUFDOzs7O0FBSUQsMko7Ozs7OztBQ2hIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxzRkFBcUY7QUFDckY7Ozs7O0FBS0E7OztBQUdBLGNBQWEsa0VBQWtFO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBbUM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVCxlQUFjLGtCQUFrQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtTQUFpUyxlQUFlO0FBQ2hUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQSxFQUFDLEVBQUU7QUFDSCxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUM7QUFDRCxFQUFDOzs7O0FBSUQsMEo7Ozs7OztBQ25NQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTJCOztBQUUzQjs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBLElBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0EsSUFBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFNO0FBQ04sTUFBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVO0FBQ1Y7QUFDQSxPQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTtBQUNOLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsT0FBTTtBQUNOLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTtBQUNOO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFNO0FBQ047QUFDQSxNQUFLOzs7QUFHTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUwsRUFBQzs7Ozs7OztBQ3RPRDs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2IsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFRO0FBQ1I7QUFDQTtBQUNBLFNBQVE7QUFDUixRQUFPO0FBQ1A7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxrQkFBaUI7QUFDakI7QUFDQTtBQUNBLGtCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2IsT0FBTTtBQUNOLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQSx3REFBdUQsaUJBQWlCO0FBQ3hFLE1BQUs7O0FBRUw7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUFzQyw2Q0FBNkM7QUFDbkY7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXNDLCtDQUErQztBQUNyRjtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBc0MsaURBQWlEO0FBQ3ZGO0FBQ0EsTUFBSzs7OztBQUlMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUc7QUFDSCxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW1CO0FBQ25CO0FBQ0E7QUFDQSxNQUFLOztBQUVMLEVBQUM7Ozs7Ozs7QUM1VUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0Esc0ZBQXFGO0FBQ3JGOzs7OztBQUtBOzs7QUFHQSxjQUFhLGtFQUFrRTtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0xBQW1MO0FBQ25MO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3R0FBdUcsNklBQTZJO0FBQ3BQO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLFdBQVUsVUFBVSxRQUFRO0FBQzVCO0FBQ0EsV0FBVSxVQUFVLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBLEVBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFO0FBQ1gsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFDO0FBQ0QsRUFBQzs7OztBQUlELHVKOzs7Ozs7QUNoSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0Esc0ZBQXFGOzs7OztBQUtyRjs7O0FBR0EsY0FBYSxrRUFBa0U7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsRUFBQztBQUNELEVBQUM7Ozs7QUFJRCx3Szs7Ozs7O0FDM0NBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBLGNBQWE7QUFDYixNQUFLOzs7QUFHTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7Ozs7O0FBS0wsRUFBQzs7Ozs7OztBQ3RERDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxzRkFBcUY7QUFDckY7QUFDQTs7Ozs7QUFLQTs7O0FBR0EsY0FBYSxrRUFBa0U7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0EsRUFBQyxFQUFFLEVBQUUsRUFBRSxFQUFFO0FBQ1QsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVO0FBQ1YsZ0JBQWUsb0JBQW9CO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVixnQkFBZSxvQkFBb0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2VUFBNFUsOERBQThEO0FBQzFZO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsRUFBQztBQUNELEVBQUM7Ozs7QUFJRCwySjs7Ozs7O0FDcktBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLHNGQUFxRjtBQUNyRjs7Ozs7QUFLQTs7O0FBR0EsY0FBYSxrRUFBa0U7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFdBQVUsVUFBVSxRQUFRO0FBQzVCO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBLEVBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRTtBQUNULEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVixnQkFBZSxvQkFBb0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvWEFBbVgsOERBQThEO0FBQ2piO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVSxVQUFVLFFBQVE7QUFDNUI7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVUsVUFBVSxRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRCxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsRUFBQztBQUNELEVBQUM7Ozs7QUFJRCwwSjs7Ozs7O0FDck5BOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBLGNBQWE7QUFDYixNQUFLOzs7QUFHTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7Ozs7O0FBS0wsRUFBQzs7Ozs7OztBQ3RERDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxzRkFBcUY7QUFDckY7QUFDQTs7Ozs7QUFLQTs7O0FBR0EsY0FBYSxrRUFBa0U7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0EsRUFBQyxFQUFFLEVBQUUsRUFBRSxFQUFFO0FBQ1QsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUM7QUFDRCxFQUFDOzs7O0FBSUQsMko7Ozs7OztBQ3RHQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQSxjQUFhO0FBQ2IsTUFBSzs7O0FBR0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7Ozs7O0FBS0wsRUFBQzs7Ozs7OztBQ3ZERDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxzRkFBcUY7QUFDckY7QUFDQTs7Ozs7QUFLQTs7O0FBR0EsY0FBYSxrRUFBa0U7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0EsRUFBQyxFQUFFLEVBQUUsRUFBRSxFQUFFO0FBQ1QsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVTtBQUNWLGdCQUFlLG9CQUFvQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsRUFBQztBQUNELEVBQUM7Ozs7QUFJRCxtSzs7Ozs7O0FDN0hBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBLGNBQWE7QUFDYixNQUFLOzs7QUFHTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7Ozs7QUFLTCxFQUFDOzs7Ozs7O0FDdkREO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLHNGQUFxRjtBQUNyRjtBQUNBOzs7OztBQUtBOzs7QUFHQSxjQUFhLGtFQUFrRTtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBLDZDQUE0QyxRQUFRLEVBQUU7QUFDdEQsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBLDZDQUE0QyxRQUFRLEVBQUU7QUFDdEQsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQSxFQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUU7QUFDVCxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVO0FBQ1YsZ0JBQWUsb0JBQW9CO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFDO0FBQ0QsRUFBQzs7OztBQUlELHFLOzs7Ozs7QUM3SEE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0EsY0FBYTtBQUNiLE1BQUs7OztBQUdMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7Ozs7QUFLTCxFQUFDOzs7Ozs7O0FDdEREO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLHNGQUFxRjtBQUNyRjtBQUNBOzs7OztBQUtBOzs7QUFHQSxjQUFhLGtFQUFrRTtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBLDZDQUE0QyxRQUFRLEVBQUU7QUFDdEQsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBLDZDQUE0QyxRQUFRLEVBQUU7QUFDdEQsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQSxFQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUU7QUFDVCxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVixnQkFBZSxvQkFBb0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUM7QUFDRCxFQUFDOzs7O0FBSUQsc0s7Ozs7OztBQzlIQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUF5QztBQUN6QztBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYixNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOzs7OztBQUtMLEVBQUM7Ozs7Ozs7QUM1RkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0Esc0ZBQXFGO0FBQ3JGO0FBQ0E7Ozs7O0FBS0E7OztBQUdBLGNBQWEsa0VBQWtFO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0EsNkNBQTRDLFFBQVEsRUFBRTtBQUN0RCxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0EsNkNBQTRDLFFBQVEsRUFBRTtBQUN0RCxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0EsRUFBQyxFQUFFLEVBQUUsRUFBRSxFQUFFO0FBQ1QsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUM7QUFDRCxFQUFDOzs7O0FBSUQsbUs7Ozs7OztBQ2pHQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxrQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsY0FBYTtBQUNiLE9BQU07O0FBRU4sTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUwsRUFBQyIsImZpbGUiOiJjbGllbnQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuIFx0XHRcdGxvYWRlZDogZmFsc2VcbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCBkMjQ5MGQ0MzY5ODNkNWZjMDQ5NiIsIid1c2Ugc3RyaWN0JztcblxuLy8gTWFpbiBhcHBsaWNhdGlvbiBjbGFzc1xuXG52YXIgUm91dGVyID0gcmVxdWlyZSgncm91dGVyJyk7XG52YXIgbWVkaWF0b3IgPSByZXF1aXJlKCdtZWRpYXRvcicpO1xudmFyIHV0aWwgPSByZXF1aXJlKCdsaWIvdXRpbC5qcycpO1xuXG52YXIgQ29udHJvbFZpZXcgPSByZXF1aXJlKCd2aWV3cy9jb250cm9sLXZpZXcnKTtcbnZhciBNYXBWaWV3ID0gcmVxdWlyZSgndmlld3MvbWFwLXZpZXcnKTtcbnZhciBUaWxlTGlzdFZpZXcgPSByZXF1aXJlKCd2aWV3cy90aWxlLWxpc3QtdmlldycpO1xudmFyIFRpbGVEZXRhaWxWaWV3ID0gcmVxdWlyZSgndmlld3MvdGlsZS1kZXRhaWwtdmlldycpO1xudmFyIE5hdmJhclF1aWNrU2VhcmNoVmlldyA9IHJlcXVpcmUoJ3ZpZXdzL25hdmJhci9xdWlja3NlYXJjaC12aWV3Jyk7XG52YXIgTmF2YmFyTWFpbk1lbnVWaWV3ID0gcmVxdWlyZSgndmlld3MvbmF2YmFyL21haW4tbWVudS12aWV3Jyk7XG52YXIgTmF2YmFyTm90aWZpY2F0aW9uV2lkZ2V0VmlldyA9IHJlcXVpcmUoJ3ZpZXdzL25hdmJhci9ub3RpZmljYXRpb24td2lkZ2V0LXZpZXcnKTtcbnZhciBVc2VyRGFzaGJvYXJkVmlldyA9IHJlcXVpcmUoJ3ZpZXdzL3VzZXJkYXNoYm9hcmQvdXNlcmRhc2hib2FyZC12aWV3Jyk7XG5cblxudmFyIEFwcCA9IGZ1bmN0aW9uIEFwcCAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIFxuICAgIC8vIGVtdWxhdGUgYSB2aWV3J3MgYW5jaG9ycG9pbnRcbiAgICBzZWxmLmVsID0gbnVsbDtcbiAgICBzZWxmLiRlbCA9IG51bGw7XG4gICAgXG4gICAgLy8gY29udGFpbnMgYWxsIHZpZXdzIHRoYXQgY2FuIGRpc3BsYXkgUmVzdWx0c1xuICAgIHNlbGYuY29udGVudFZpZXdzID0gW107XG4gICAgc2VsZi5jb250cm9sVmlldyA9IG51bGw7XG4gICAgc2VsZi50aWxlTGlzdFZpZXcgPSBudWxsO1xuICAgIHNlbGYubWFwVmlldyA9IG51bGw7XG4gICAgc2VsZi50aWxlRGV0YWlsVmlldyA9IG51bGw7XG4gICAgXG4gICAgLy8gb3RoZXIgdmlld3NcbiAgICBzZWxmLm5hdmJhclF1aWNrU2VhcmNoVmlldyA9IG51bGw7XG4gICAgc2VsZi5uYXZiYXJNYWluTWVudVZpZXcgPSBudWxsO1xuICAgIHNlbGYubmF2YmFyTm90aWZpY2F0aW9uV2lkZ2V0ID0gbnVsbDtcbiAgICBzZWxmLnVzZXJEYXNoYm9hcmRWaWV3ID0gbnVsbDtcblxuICAgIHNlbGYucm91dGVyID0gbnVsbDtcbiAgICBzZWxmLm1lZGlhdG9yID0gbnVsbDtcbiAgICBcbiAgICAvLyBzaG91bGQgaGF2ZSB0aGVtIGFsbCBoZXJlXG4gICAgc2VsZi5kZWZhdWx0U2V0dGluZ3MgPSB7XG4gICAgICAgIC8vIHdlIGNhbid0IGFjdHVhbGx5IGRlZmluZSB0aGVtIGhlcmUsIGFzIHRoZXNlIGdldCBzZXQgaW4gY29udHJvbFZpZXcuZGVmYXVsdHMhXG4gICAgXHQvLyBzZWUgY29udHJvbFZpZXcuZGVmYXVsdHMgZm9yIGFsbCB0aGVpciBkZWZhdWx0IHZhbHVlc1xuXHRcdC8qXG4gICAgICAgICAqIGZpbHRlckdyb3VwOiA8aW50PiBpZiBnaXZlbiwgZmlsdGVycyBhbGwgY29udGVudCBieSB0aGUgZ2l2ZW4gZ3JvdXAgaWRcbiAgICAgICAgICogZmlsdGVyTWFuYWdlZFRhZzogPGludD4gaWYgZ2l2ZW4sIGZpbHRlcnMgYWxsIGNvbnRlbnQgYnkgdGhlIGdpdmVuIG1hbmFnZWQgdGFnIGlkXG5cdFx0ICogYXZhaWxhYmxlRmlsdGVyczogPGRpY3Q+IHRoZSBzaG93biByZXN1bHQgZmlsdGVycyBieSB0eXBlXG5cdFx0ICogYWN0aXZlRmlsdGVyczogPGRpY3Q+IHRoZSBhY3RpdmUgKHNlbGVjdGVkKSBjdXJyZW50IHJlc3VsdCBmaWx0ZXJzIGJ5IHR5cGVcblx0XHQgKiBiYXNlUGFnZVVybDogPHN0cj4gdGhlIGVnIFwiL21hcC9cIiB1cmwgZnJhZ21lbnQgYXMgYmFzZSBvZiB0aGlzIHBhZ2UsIHVzZWQgdG8gYnVpbGQgaGlzdG9yeSBVUkxzIFxuXHRcdCAqIFx0XHQoaW5kZXBlbmRlbnQgb2Ygc2VhcmNoIGVuZHBvaW50IFVSTHMpXG5cdFx0ICovXG4gICAgfTtcbiAgICBcbiAgICBzZWxmLmRlZmF1bHREaXNwbGF5T3B0aW9ucyA9IHtcbiAgICAgICAgc2hvd01hcDogdHJ1ZSxcbiAgICAgICAgc2hvd1RpbGVzOiB0cnVlLFxuICAgICAgICBzaG93Q29udHJvbHM6IHRydWUsXG4gICAgICAgIGZ1bGxzY3JlZW46IHRydWUsXG4gICAgICAgIHJvdXRlTmF2aWdhdGlvbjogdHJ1ZSxcbiAgICAgICAgZm9yY2VQYWdpbmF0aW9uQ29udHJvbHNFbmFibGVkOiBmYWxzZVxuICAgIH07XG4gICAgc2VsZi5kaXNwbGF5T3B0aW9ucyA9IHt9XG4gICAgc2VsZi5kZWZhdWx0RWwgPSAnI2FwcC1mdWxsc2NyZWVuJztcbiAgICBzZWxmLmRlZmF1bHRCYXNlUGFnZVVybCA9ICcvbWFwLyc7XG4gICAgXG4gICAgc2VsZi5wYXNzZWRPcHRpb25zID0gbnVsbDtcbiAgICBcbiAgICAvLyB0aGUgbW9zdCByZWNlbnQgY29tcGxldGUgc2V0dGluZ3MgdGhlIGFwcCB3YXMgaW5pdGlhbGl6ZWQgd2l0aFxuICAgIHNlbGYuc2V0dGluZ3MgPSBudWxsO1xuICAgIFxuICAgIFxuICAgIC8qKiBNYWluIGVudHJ5IHBvaW50ICovXG4gICAgc2VsZi5zdGFydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2VsZi5tZWRpYXRvciA9IEJhY2tib25lLm1lZGlhdG9yID0gbWVkaWF0b3I7XG4gICAgICAgIHNlbGYubWVkaWF0b3Iuc2V0dGluZ3MgPSB3aW5kb3cuc2V0dGluZ3MgfHwge307XG4gICAgICAgIFxuICAgICAgICB2YXIgdHJpZ2dlclJlc2l6ZUV2ZW50ID0gZnVuY3Rpb24gKCl7XG4gICAgICAgICAgICBCYWNrYm9uZS5tZWRpYXRvci5wdWJsaXNoKCdyZXNpemU6d2luZG93Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc2l6ZVRpbWVyO1xuICAgICAgICAvLyBBIGdsb2JhbCByZXNpemUgZXZlbnQgd2l0aCBhIGRlbGF5IHNvIGl0IHdvbid0IGZpcmUgY29uc3RhbnRseVxuICAgICAgICAkKHdpbmRvdykub24oJ3Jlc2l6ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChyZXNpemVUaW1lcik7XG4gICAgICAgICAgICByZXNpemVUaW1lciA9IHNldFRpbWVvdXQodHJpZ2dlclJlc2l6ZUV2ZW50LCA1MDApO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIGluaXQtbW9kdWxlIGNhbGxzLiBpbnNpZGUgYSBsaXN0ZW5lciB0byB0aGUgJ2luaXQ6Y2xpZW50JyBldmVudCxcbiAgICAgICAgLy8gb25lIG9mIHRoZXNlIG5lZWQgdG8gYmUgY2FsbGVkIGZyb20gdGhlIHRlbXBsYXRlIHRvIGluaXRpYWxpemUgdGhlIHJlcXVpcmVkIG1vZHVsZXNcbiAgICAgICAgQmFja2JvbmUubWVkaWF0b3Iuc3Vic2NyaWJlKCdpbml0Om1vZHVsZS1mdWxsLXJvdXRlZCcsIHNlbGYuaW5pdE1vZHVsZUZ1bGxSb3V0ZWQsIHNlbGYpO1xuICAgICAgICBCYWNrYm9uZS5tZWRpYXRvci5zdWJzY3JpYmUoJ2luaXQ6bW9kdWxlLWVtYmVkJywgc2VsZi5pbml0QXBwRnJvbU9wdGlvbnMsIHNlbGYpO1xuICAgICAgICBCYWNrYm9uZS5tZWRpYXRvci5zdWJzY3JpYmUoJ2luaXQ6bW9kdWxlLW5hdmJhci1xdWlja3NlYXJjaCcsIHNlbGYuaW5pdE5hdmJhclF1aWNrc2VhcmNoRnJvbU9wdGlvbnMsIHNlbGYpO1xuICAgICAgICBCYWNrYm9uZS5tZWRpYXRvci5zdWJzY3JpYmUoJ2luaXQ6bW9kdWxlLW5hdmJhci1tYWluLW1lbnUnLCBzZWxmLmluaXROYXZiYXJNYWluTWVudUZyb21PcHRpb25zLCBzZWxmKTtcbiAgICAgICAgQmFja2JvbmUubWVkaWF0b3Iuc3Vic2NyaWJlKCdpbml0Om1vZHVsZS1uYXZiYXItbm90aWZpY2F0aW9uLXdpZGdldCcsIHNlbGYuaW5pdE5hdmJhck5vdGlmaWNhdGlvbldpZGdldEZyb21PcHRpb25zLCBzZWxmKTtcbiAgICAgICAgQmFja2JvbmUubWVkaWF0b3Iuc3Vic2NyaWJlKCdpbml0Om1vZHVsZS11c2VyLWRhc2hib2FyZCcsIHNlbGYuaW5pdFVzZXJEYXNoYm9hcmRGcm9tT3B0aW9ucywgc2VsZik7XG4gICAgICAgIFxuICAgICAgICAvLyAtIHRoZSAnaW5pdDpjbGllbnQnIHNpZ25hbCBpcyB0aGUgbWFya2VyIGZvciBhbGwgcGFnZXMgdXNpbmcgdGhpcyBjbGllbnQuanMgdG8gbm93XG4gICAgICAgIC8vICAgICAgcHVibGlzaCB0aGUgXCJpbml0Ojxtb2R1bGU+XCIgZXZlbnQgZm9yIHdoaWNoZXZlciBtb2R1bGUgY29uZmlndXJhdGlvbiB0aGV5IHdpc2ggdG8gbG9hZCAoc2VlIGFib3ZlKVxuICAgICAgICB1dGlsLmxvZygnYXBwLmpzOiBmaW5pc2ggc3RhcnQoKSBhbmQgcHVibGlzaGluZyBcImluaXQ6Y2xpZW50XCInKVxuICAgICAgICBCYWNrYm9uZS5tZWRpYXRvci5wdWJsaXNoKCdpbml0OmNsaWVudCcpO1xuICAgICAgICAvLyB3ZSB0cmlnZ2VyIGJvdGggb24gdGhlIG1lZGlhdG9yIGFuZCBvbiBodG1sLCBpbiBjYXNlIHNjcmlwdHMgbG9hZGVkIGVhcmxpZXIgdGhhbiB0aGlzIGhhdmUgYWxyZWFkeSBzdWJzcmliZWQgb24gJ2h0bWwnXG4gICAgICAgICQoJ2h0bWwnKS50cmlnZ2VyKCdpbml0OmNsaWVudCcpO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfTtcbiAgICBcbiAgICAvKiogTW9kdWxlIGNvbmZpZ3VyYXRpb24gZm9yIGEgZnVsbHNjcmVlbiBBcHAgd2l0aCBmdWxsIGNvbnRyb2wgb2YgdGhlIHBhZ2UsIHRoYXQgdXNlcyByb3V0aW5nIGFuZCBoaXN0b3J5LlxuICAgICAqICBUaGlzIG1vZHVsZSB1c2VzIHRoZSBmdWxsIHNldCBvZiBkZWZhdWx0IG9wdGlvbnMgYW5kIGdldHMgcGFzc2VkIG5vIG9wdGlvbnMgKi9cbiAgICBzZWxmLmluaXRNb2R1bGVGdWxsUm91dGVkID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICBcdHNlbGYucGFzc2VkT3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgXHRcbiAgICBcdHNlbGYucm91dGVyID0gbmV3IFJvdXRlcigpO1xuICAgIFx0XG4gICAgICAgIC8vIChUaGUgZmlyc3Qgcm91dGluZyB3aWxsIGF1dG9pbml0aWFsaXplIHZpZXdzIGFuZCBtb2RlbCBpbiBzZWxmLm5hdmlnYXRlX21hcCgpKVxuICAgICAgICBCYWNrYm9uZS5tZWRpYXRvci5zdWJzY3JpYmUoJ25hdmlnYXRlOm1hcCcsIHNlbGYubmF2aWdhdGVfbWFwLCBzZWxmKTtcbiAgICAgICAgQmFja2JvbmUubWVkaWF0b3Iuc3Vic2NyaWJlKCduYXZpZ2F0ZTpyb3V0ZXInLCBzZWxmLnJvdXRlci5vbl9uYXZpZ2F0ZSwgc2VsZik7XG4gICAgICAgIFxuICAgICAgICAvLyBTdGFydCByb3V0aW5nLi4uIHRoaXMgd2lsbCBhdXRvbWF0aWNhbGx5IGNhbGwgYHNlbGYubmF2aWdhdGVfbWFwKClgIG9uY2VcbiAgICAgICAgdXRpbC5sb2coJ2FwcC5qczogaW5pdCByb3V0aW5nJylcbiAgICAgICAgdmFyIHJvb3QgPSBvcHRpb25zLmJhc2VQYWdlVXJsIHx8IHNlbGYuZGVmYXVsdEJhc2VQYWdlVXJsO1xuICAgICAgICBCYWNrYm9uZS5oaXN0b3J5LnN0YXJ0KHtcbiAgICAgICAgICAgIHB1c2hTdGF0ZTogdHJ1ZSxcbiAgICAgICAgICAgIHJvb3Q6IHJvb3RcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBcbiAgICAvKiogQ2FsbGVkIG9uIG5hdmlnYXRlLCBmcm9tIHJvdXRlci5qcyAqL1xuICAgIHNlbGYubmF2aWdhdGVfbWFwID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgXHQvLyB0aGlzIHdpbGwgYmUgY2FsbGVkIHRoZSBvbiB0aGUgZmlyc3QgbmF2aWdhdGUgdG8gdGhlIFVSTCwgc28gd2UgdXNlXG4gICAgXHQvLyBpdCB0byBpbml0IHRoZSBhcHBcbiAgICAgICAgaWYgKHNlbGYuY29udHJvbFZpZXcgPT0gbnVsbCkge1xuICAgICAgICAgICAgc2VsZi5pbml0QXBwRnJvbU9wdGlvbnMoc2VsZi5wYXNzZWRPcHRpb25zKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIEJhY2tib25lLm1lZGlhdG9yLnB1Ymxpc2goJ2FwcDpzdGFsZS1yZXN1bHRzJywge3JlYXNvbjogJ21hcC1uYXZpZ2F0ZSd9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgXG5cbiAgICAvKiogSW5pdHMgdGhlIGFwcCB3aXRoIG1hbnkgb3Igbm8gcGFzc2VkIG9wdGlvbnMuXG4gICAgICogIERlZmF1bHQgc2V0dGluZ3Mgd2lsbCBiZSB1c2VkIGZvciBhbnkgb3B0aW9ucyBub3QgcGFzc2VkLlxuICAgICAqIFxuICAgICAqICBNYW55IG9wdGlvbnMgY2FuIGJlIGNvbmZpZ3VyZWQgZm9yIGhpZGluZyB0aGUgdGlsZS1saXN0LCBkaXNhYmxpbmcgdGhlIHZpc3VhbCBjb250cm9sLXZpZXdcbiAgICAgKiAgb3IgZW5hYmxpbmcgb25seSBzcGVjaWZpYyBSZXN1bHQgbW9kZWwgdHlwZXMuICovXG4gICAgc2VsZi5pbml0QXBwRnJvbU9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAvLyBhZGQgcGFzc2VkIG9wdGlvbnMgaW50byBwYXJhbXMgZXh0ZW5kZWQgb3ZlciB0aGUgZGVmYXVsdCBvcHRpb25zXG4gICAgXHQgIHZhciBlbCA9IG9wdGlvbnMuZWwgPyBvcHRpb25zLmVsIDogc2VsZi5kZWZhdWx0RWw7XG4gICAgICAgIHZhciBkaXNwbGF5T3B0aW9ucyA9ICQuZXh0ZW5kKHRydWUsIHt9LCBzZWxmLmRlZmF1bHREaXNwbGF5T3B0aW9ucywgb3B0aW9ucy5kaXNwbGF5IHx8IHt9KTtcbiAgICAgICAgdmFyIHNldHRpbmdzID0gJC5leHRlbmQodHJ1ZSwge30sIHNlbGYuZGVmYXVsdFNldHRpbmdzLCBvcHRpb25zLnNldHRpbmdzIHx8IHt9KTtcbiAgICAgICAgdmFyIGJhc2VQYWdlVXJsID0gb3B0aW9ucy5iYXNlUGFnZVVybCB8fCBzZWxmLmRlZmF1bHRCYXNlUGFnZVVybDtcbiAgICAgICAgXG4gICAgICAgIHNlbGYuaW5pdF9hcHAoZWwsIGJhc2VQYWdlVXJsLCBzZXR0aW5ncywgZGlzcGxheU9wdGlvbnMpO1xuICAgIH07XG4gICAgXG4gICAgLyoqIE1haW4gaW5pdGlhbGl6YXRpb24gZnVuY3Rpb24sIHRoaXMgZXZlbnR1YWxseSBnZXRzIGNhbGxlZCBubyBtYXR0ZXIgd2hpY2ggbW9kdWxlcyB3ZSBsb2FkLiAqL1xuICAgIHNlbGYuaW5pdF9hcHAgPSBmdW5jdGlvbiAoZWwsIGJhc2VQYWdlVXJsLCBzZXR0aW5ncywgZGlzcGxheU9wdGlvbnMpIHtcbiAgICAgICAgdXRpbC5sb2coJ2FwcC5qczogaW5pdF9hcHAgY2FsbGVkIHdpdGggZXZlbnQsIHBhcmFtcycpXG4gICAgICAgIFxuICAgICAgICBzZWxmLmVsID0gZWw7XG4gICAgICAgIHNlbGYuJGVsID0gJChzZWxmLmVsKTtcbiAgICAgICAgXG4gICAgICAgIHNlbGYuc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICAgICAgc2VsZi5kaXNwbGF5T3B0aW9ucyA9IGRpc3BsYXlPcHRpb25zO1xuICAgICAgICBcbiAgICAgICAgdmFyIHRvcGljc0pzb24gPSB0eXBlb2YgQ09TSU5OVVNfTUFQX1RPUElDU19KU09OICE9PSAndW5kZWZpbmVkJyA/IENPU0lOTlVTX01BUF9UT1BJQ1NfSlNPTiA6IHt9O1xuICAgICAgICB2YXIgdGV4dFRvcGljc0pzb24gPSB0eXBlb2YgQ09TSU5OVVNfTUFQX1RFWFRfVE9QSUNTX0pTT04gIT09ICd1bmRlZmluZWQnID8gQ09TSU5OVVNfTUFQX1RFWFRfVE9QSUNTX0pTT04gOiB7fTtcbiAgICAgICAgdmFyIHNkZ3NKc29uID0gdHlwZW9mIENPU0lOTlVTX01BUF9TREdTX0pTT04gIT09ICd1bmRlZmluZWQnID8gQ09TSU5OVVNfTUFQX1NER1NfSlNPTiA6IHt9O1xuICAgICAgICB2YXIgYWxsTWFuYWdlZFRhZ3MgPSB0eXBlb2YgQ09TSU5OVVNfTUFOQUdFRF9UQUdTX0pTT04gIT09ICd1bmRlZmluZWQnID8gQ09TSU5OVVNfTUFOQUdFRF9UQUdTX0pTT04gOiB7fTtcbiAgICAgICAgdmFyIHNob3dNYW5hZ2VkVGFnc09uVHlwZXNTZWxlY3RlZCA9IHR5cGVvZiBDT1NJTk5VU19NQU5BR0VEX1RBR1NfU0hPV19GSUxURVJfT05fTUFQX1dIRU5fQ09OVEVOVF9UWVBFX1NFTEVDVEVEICE9PSAndW5kZWZpbmVkJyA/IENPU0lOTlVTX01BTkFHRURfVEFHU19TSE9XX0ZJTFRFUl9PTl9NQVBfV0hFTl9DT05URU5UX1RZUEVfU0VMRUNURUQgOiBbXTtcbiAgICAgICAgdmFyIHNob3dUZXh0VG9waWNzT25UeXBlc1NlbGVjdGVkID0gdHlwZW9mIENPU0lOTlVTX1RFWFRfVE9QSUNTX1NIT1dfRklMVEVSX09OX01BUF9XSEVOX0NPTlRFTlRfVFlQRV9TRUxFQ1RFRCAhPT0gJ3VuZGVmaW5lZCcgPyBDT1NJTk5VU19URVhUX1RPUElDU19TSE9XX0ZJTFRFUl9PTl9NQVBfV0hFTl9DT05URU5UX1RZUEVfU0VMRUNURUQgOiBbXTtcbiAgICAgICAgdmFyIG1hbmFnZWRUYWdzTGFiZWxzID0gdHlwZW9mIENPU0lOTlVTX01BTkFHRURfVEFHU19MQUJFTFNfSlNPTiAhPT0gJ3VuZGVmaW5lZCcgPyBDT1NJTk5VU19NQU5BR0VEX1RBR1NfTEFCRUxTX0pTT04gOiB7fTtcbiAgICAgICAgdmFyIHBvcnRhbEluZm8gPSB0eXBlb2YgQ09TSU5OVVNfUE9SVEFMX0lORk9TICE9PSAndW5kZWZpbmVkJyA/IENPU0lOTlVTX1BPUlRBTF9JTkZPUyA6IHt9O1xuICAgICAgICBzZWxmLmNvbnRyb2xWaWV3ID0gbmV3IENvbnRyb2xWaWV3KHtcbiAgICAgICAgICAgICAgICBlbDogbnVsbCwgLy8gd2lsbCBvbmx5IGJlIHNldCBpZiBhdHRhY2hlZCB0byB0aWxlLXZpZXdcbiAgICAgICAgICAgICAgICBhdmFpbGFibGVGaWx0ZXJzOiBzZWxmLnNldHRpbmdzLmF2YWlsYWJsZUZpbHRlcnMsXG4gICAgICAgICAgICAgICAgYWN0aXZlRmlsdGVyczogc2VsZi5zZXR0aW5ncy5hY3RpdmVGaWx0ZXJzLFxuICAgICAgICAgICAgICAgIGFsbFRvcGljczogdG9waWNzSnNvbixcbiAgICAgICAgICAgICAgICBhbGxUZXh0VG9waWNzOiB0ZXh0VG9waWNzSnNvbixcbiAgICAgICAgICAgICAgICBhbGxTREdTOiBzZGdzSnNvbixcbiAgICAgICAgICAgICAgICBhbGxNYW5hZ2VkVGFnczogYWxsTWFuYWdlZFRhZ3MsXG4gICAgICAgICAgICAgICAgbWFuYWdlZFRhZ3NMYWJlbHM6IG1hbmFnZWRUYWdzTGFiZWxzLFxuICAgICAgICAgICAgICAgIHNob3dNYW5hZ2VkVGFnc09uVHlwZXNTZWxlY3RlZDogc2hvd01hbmFnZWRUYWdzT25UeXBlc1NlbGVjdGVkLFxuICAgICAgICAgICAgICAgIHNob3dUZXh0VG9waWNzT25UeXBlc1NlbGVjdGVkOiBzaG93VGV4dFRvcGljc09uVHlwZXNTZWxlY3RlZCxcbiAgICAgICAgICAgICAgICBwb3J0YWxJbmZvOiBwb3J0YWxJbmZvLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xzRW5hYmxlZDogc2VsZi5kaXNwbGF5T3B0aW9ucy5zaG93Q29udHJvbHMsXG4gICAgICAgICAgICAgICAgc2Nyb2xsQ29udHJvbHNFbmFibGVkOiBzZWxmLmRpc3BsYXlPcHRpb25zLnNob3dDb250cm9scyAmJiBzZWxmLmRpc3BsYXlPcHRpb25zLnNob3dNYXAsXG4gICAgICAgICAgICAgICAgcGFnaW5hdGlvbkNvbnRyb2xzRW5hYmxlZDogc2VsZi5kaXNwbGF5T3B0aW9ucy5mb3JjZVBhZ2luYXRpb25Db250cm9sc0VuYWJsZWQgfHwgc2VsZi5kaXNwbGF5T3B0aW9ucy5zaG93VGlsZXMsXG4gICAgICAgICAgICAgICAgcGFnaW5hdGlvbkNvbnRyb2xzVXNlSW5maW5pdGVTY3JvbGw6ICFzZWxmLmRpc3BsYXlPcHRpb25zLnNob3dNYXAgJiYgc2VsZi5kaXNwbGF5T3B0aW9ucy5zaG93VGlsZXMsXG4gICAgICAgICAgICAgICAgZmlsdGVyR3JvdXA6IHNlbGYuc2V0dGluZ3MuZmlsdGVyR3JvdXAsXG4gICAgICAgICAgICAgICAgZmlsdGVyTWFuYWdlZFRhZzogc2VsZi5zZXR0aW5ncy5maWx0ZXJNYW5hZ2VkVGFnLFxuICAgICAgICAgICAgICAgIGJhc2VQYWdlVVJMOiBiYXNlUGFnZVVybCxcbiAgICAgICAgICAgICAgICBzaG93TWluZTogc2VsZi5zZXR0aW5ncy5zaG93TWluZSxcbiAgICAgICAgICAgICAgICBmdWxsc2NyZWVuOiBzZWxmLmRpc3BsYXlPcHRpb25zLmZ1bGxzY3JlZW4sXG4gICAgICAgICAgICAgICAgc3BsaXRzY3JlZW46IHNlbGYuZGlzcGxheU9wdGlvbnMuc2hvd01hcCAmJiBzZWxmLmRpc3BsYXlPcHRpb25zLnNob3dUaWxlcyxcbiAgICAgICAgICAgICAgICBtYXBTaG93bjogc2VsZi5kaXNwbGF5T3B0aW9ucy5zaG93TWFwLFxuICAgICAgICAgICAgICAgIHNlYXJjaFJlc3VsdExpbWl0OiBzZWxmLnNldHRpbmdzLnNlYXJjaFJlc3VsdExpbWl0IHx8IDIwLFxuICAgICAgICAgICAgICAgIGhpZGVUb3BpY3M6IHNlbGYuc2V0dGluZ3MuaGlkZVRvcGljcyB8fCBmYWxzZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZWxmLFxuICAgICAgICAgICAgbnVsbFxuICAgICAgICApOyAvLyBjb2xsZWN0aW9uPW51bGwgaGVyZSwgZ2V0cyBpbnN0YW50aWF0ZWQgaW4gdGhlIGNvbnRyb2wgdmlld1xuICAgICAgICBzZWxmLmNvbnRlbnRWaWV3cy5wdXNoKHNlbGYuY29udHJvbFZpZXcpO1xuICAgICAgICBcbiAgICAgICAgdXRpbC5sb2coJ2FwcC5qczogVE9ETzogcmVhbGx5IGRvIHRoaXMgaWYgY2hlY2sgZm9yIGNvbnRyb2xzRW5hYmxlZD8nKVxuICAgICAgICB1dGlsLmxvZyhzZWxmLmRpc3BsYXlPcHRpb25zKVxuICAgICAgICBcbiAgICAgICAgc2VsZi5sb2FkTWFwVmlldygpO1xuICAgICAgICBzZWxmLmxvYWRUaWxlVmlldygpO1xuICAgICAgICBcbiAgICAgICAgc2VsZi50aWxlRGV0YWlsVmlldyA9IG5ldyBUaWxlRGV0YWlsVmlldyh7XG5cdCAgICAgICAgICAgIG1vZGVsOiBudWxsLFxuXHQgICAgICAgICAgICBlbFBhcmVudDogc2VsZi5lbCxcblx0ICAgICAgICAgICAgZnVsbHNjcmVlbjogc2VsZi5kaXNwbGF5T3B0aW9ucy5mdWxsc2NyZWVuLFxuXHQgICAgICAgICAgICBzcGxpdHNjcmVlbjogc2VsZi5kaXNwbGF5T3B0aW9ucy5zaG93TWFwICYmIHNlbGYuZGlzcGxheU9wdGlvbnMuc2hvd1RpbGVzXG5cdCAgICAgICAgfSwgXG5cdCAgICAgICAgc2VsZlxuICAgICAgICApLnJlbmRlcigpO1xuICAgICAgICBcbiAgICAgICAgQmFja2JvbmUubWVkaWF0b3IucHVibGlzaCgnYXBwOnJlYWR5Jyk7XG4gICAgfTtcbiAgICBcbiAgICAvKipcbiAgICAgKiBMb2FkcyB0aGUgbWFwIHZpZXcgYmFzZWQgb24gZGlzcGxheSBvcHRpb25zXG4gICAgICovXG4gICAgc2VsZi5sb2FkTWFwVmlldyA9IGZ1bmN0aW9uKCkge1xuICAgIFx0aWYgKHNlbGYubWFwVmlldyA9PSBudWxsKSB7XG4gICAgXHRcdC8vIGxvYWQgbWFwIGZyb20gc2NyYXRjaFxuICAgIFx0XHRpZiAoc2VsZi5kaXNwbGF5T3B0aW9ucy5zaG93TWFwKSB7XG4gICAgXHRcdFx0dmFyIG9wdGlvbnMgPSB7XG4gICAgXHRcdFx0XHRlbFBhcmVudDogc2VsZi5lbCxcbiAgICBcdFx0XHRcdGZ1bGxzY3JlZW46IHNlbGYuZGlzcGxheU9wdGlvbnMuZnVsbHNjcmVlbixcbiAgICBcdFx0XHRcdHNwbGl0c2NyZWVuOiBzZWxmLmRpc3BsYXlPcHRpb25zLnNob3dNYXAgJiYgc2VsZi5kaXNwbGF5T3B0aW9ucy5zaG93VGlsZXMsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xzRW5hYmxlZDogc2VsZi5kaXNwbGF5T3B0aW9ucy5zaG93Q29udHJvbHMsXG4gICAgICAgICAgICAgICAgICAgIG1vYmlsZVNhZmVJbnRlcmFjdGlvbnM6IHNlbGYuc2V0dGluZ3MgJiYgc2VsZi5zZXR0aW5ncy5tb2JpbGVTYWZlSW50ZXJhY3Rpb25zLFxuICAgIFx0XHRcdH07XG4gICAgXHRcdFx0aWYgKHNlbGYuc2V0dGluZ3MubWFwICYmIHNlbGYuc2V0dGluZ3MubWFwLmxvY2F0aW9uKSB7XG4gICAgXHRcdFx0XHRvcHRpb25zWydsb2NhdGlvbiddID0gc2VsZi5zZXR0aW5ncy5tYXAubG9jYXRpb247XG4gICAgXHRcdFx0fVxuICAgIFx0XHRcdGlmIChzZWxmLnNldHRpbmdzLm1hcCAmJiBzZWxmLnNldHRpbmdzLm1hcC56b29tKSB7XG4gICAgXHRcdFx0XHRvcHRpb25zWyd6b29tJ10gPSBzZWxmLnNldHRpbmdzLm1hcC56b29tO1xuICAgIFx0XHRcdH1cbiAgICBcdFx0XHRcbiAgICBcdFx0XHRzZWxmLm1hcFZpZXcgPSBuZXcgTWFwVmlldyhcbiAgICBcdFx0XHRcdG9wdGlvbnMsIFxuXHQgICAgXHRcdFx0c2VsZixcblx0ICAgIFx0XHRcdHNlbGYuY29udHJvbFZpZXcuY29sbGVjdGlvblxuICAgIFx0XHRcdCkucmVuZGVyKCk7XG4gICAgXHRcdFx0c2VsZi5jb250ZW50Vmlld3MucHVzaChzZWxmLm1hcFZpZXcpO1xuICAgIFx0XHR9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgIFx0aWYgKHNlbGYuZGlzcGxheU9wdGlvbnMuc2hvd01hcCkge1xuICAgICAgICBcdFx0Ly8gdXBkYXRlIHNldHRpbmdzIHRvIHNob3cvaGlkZSB2aWV3XG4gICAgICAgIFx0XHRzZWxmLm1hcFZpZXcub3B0aW9ucy5mdWxsc2NyZWVuID0gc2VsZi5kaXNwbGF5T3B0aW9ucy5mdWxsc2NyZWVuO1xuICAgICAgICBcdFx0c2VsZi5tYXBWaWV3Lm9wdGlvbnMuc3BsaXRzY3JlZW4gPSBzZWxmLmRpc3BsYXlPcHRpb25zLnNob3dNYXAgJiYgc2VsZi5kaXNwbGF5T3B0aW9ucy5zaG93VGlsZXM7XG4gICAgICAgIFx0XHRzZWxmLm1hcFZpZXcucmVsb2FkKCk7XG4gICAgICAgIFx0fSBlbHNlIHtcbiAgICAgICAgXHRcdC8vIGhpZGUgbWFwIGFuZCBhY3RpdmF0ZSBub24taW4tbWFwLXNlYXJjaGluZ1xuICAgICAgICBcdFx0c2VsZi5tYXBWaWV3LmhpZGUoKTtcbiAgICAgICAgXHR9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIC8qKlxuICAgICAqIExvYWRzIHRoZSB0aWxlIHZpZXcgYmFzZWQgb24gZGlzcGxheSBvcHRpb25zXG4gICAgICovXG4gICAgc2VsZi5sb2FkVGlsZVZpZXcgPSBmdW5jdGlvbigpIHtcbiAgICBcdGlmIChzZWxmLnRpbGVMaXN0VmlldyA9PSBudWxsKSB7XG4gICAgXHRcdGlmIChzZWxmLmRpc3BsYXlPcHRpb25zLnNob3dUaWxlcykge1xuICAgIFx0XHRcdC8vIGxvYWQgdGlsZXMgZnJvbSBzY3JhdGNoXG4gICAgXHRcdFx0c2VsZi50aWxlTGlzdFZpZXcgPSBuZXcgVGlsZUxpc3RWaWV3KHtcblx0ICAgIFx0XHRcdFx0ZWxQYXJlbnQ6IHNlbGYuZWwsXG5cdCAgICBcdFx0XHRcdGZ1bGxzY3JlZW46IHNlbGYuZGlzcGxheU9wdGlvbnMuZnVsbHNjcmVlbixcblx0ICAgIFx0XHRcdFx0c3BsaXRzY3JlZW46IHNlbGYuZGlzcGxheU9wdGlvbnMuc2hvd01hcCAmJiBzZWxmLmRpc3BsYXlPcHRpb25zLnNob3dUaWxlc1xuXHQgICAgXHRcdFx0fSwgXG5cdCAgICBcdFx0XHRzZWxmLFxuXHQgICAgXHRcdFx0c2VsZi5jb250cm9sVmlldy5jb2xsZWN0aW9uXG4gICAgXHRcdFx0KS5yZW5kZXIoKTtcbiAgICBcdFx0XHRzZWxmLmNvbnRlbnRWaWV3cy5wdXNoKHNlbGYudGlsZUxpc3RWaWV3KTtcbiAgICBcdFx0XHRcbiAgICBcdFx0XHQvLyByZW5kZXIgY29udHJvbC12aWV3IGNvbnRyb2xzIGluc2lkZSB0aWxlLWxpc3Qtdmlld1xuICAgIFx0XHRcdGlmIChzZWxmLmRpc3BsYXlPcHRpb25zLnNob3dDb250cm9scykge1xuICAgIFx0XHRcdFx0dXRpbC5sb2coJ2FwcC5qczogYWN0dWFsbHkgcmVuZGVyaW5nIGNvbnRyb2xzJylcbiAgICBcdFx0XHRcdHNlbGYuY29udHJvbFZpZXcuc2V0RWxlbWVudChzZWxmLnRpbGVMaXN0Vmlldy4kZWwuZmluZCgnLmNvbnRyb2xzJykpO1xuICAgIFx0XHRcdFx0c2VsZi5jb250cm9sVmlldy5yZW5kZXIoKTtcbiAgICBcdFx0XHR9XG4gICAgXHRcdH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgXHRpZiAoc2VsZi5kaXNwbGF5T3B0aW9ucy5zaG93VGlsZXMpIHtcbiAgICAgICAgXHRcdC8vIHVwZGF0ZSBzZXR0aW5ncyB0byBzaG93L2hpZGUgdmlld1xuICAgICAgICBcdFx0c2VsZi50aWxlTGlzdFZpZXcub3B0aW9ucy5mdWxsc2NyZWVuID0gc2VsZi5kaXNwbGF5T3B0aW9ucy5mdWxsc2NyZWVuO1xuICAgICAgICBcdFx0c2VsZi50aWxlTGlzdFZpZXcub3B0aW9ucy5zcGxpdHNjcmVlbiA9IHNlbGYuZGlzcGxheU9wdGlvbnMuc2hvd01hcCAmJiBzZWxmLmRpc3BsYXlPcHRpb25zLnNob3dUaWxlcztcbiAgICAgICAgXHRcdHNlbGYudGlsZUxpc3RWaWV3LnJlbG9hZCgpO1xuICAgICAgICBcdH0gZWxzZSB7XG4gICAgICAgIFx0XHQvLyBoaWRlIHRpbGVzIChhbmltYXRlISkgYnV0IGtlZXAgc2VhcmNoIHBhcmFtcyEgXG4gICAgICAgIFx0XHRzZWxmLnRpbGVMaXN0Vmlldy5oaWRlKCk7XG4gICAgICAgIFx0fVxuICAgICAgICB9XG4gICAgfTtcbiAgICBcblxuICAgIHNlbGYuaW5pdE5hdmJhclF1aWNrc2VhcmNoRnJvbU9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAvLyBhZGQgcGFzc2VkIG9wdGlvbnMgaW50byBwYXJhbXMgZXh0ZW5kZWQgb3ZlciB0aGUgZGVmYXVsdCBvcHRpb25zXG4gICAgXHQgIHZhciBlbCA9IG9wdGlvbnMuZWwgPyBvcHRpb25zLmVsIDogJyNuYXYtcXVpY2tzZWFyY2gnO1xuICAgICAgICB2YXIgdG9waWNzSnNvbiA9IHR5cGVvZiBDT1NJTk5VU19NQVBfVE9QSUNTX0pTT04gIT09ICd1bmRlZmluZWQnID8gQ09TSU5OVVNfTUFQX1RPUElDU19KU09OIDoge307XG4gICAgICAgIHZhciB0ZXh0VG9waWNzSnNvbiA9IHR5cGVvZiBDT1NJTk5VU19NQVBfVEVYVF9UT1BJQ1NfSlNPTiAhPT0gJ3VuZGVmaW5lZCcgPyBDT1NJTk5VU19NQVBfVEVYVF9UT1BJQ1NfSlNPTiA6IHt9O1xuICAgICAgICB2YXIgc2Rnc0pzb24gPSB0eXBlb2YgQ09TSU5OVVNfTUFQX1NER1NfSlNPTiAhPT0gJ3VuZGVmaW5lZCcgPyBDT1NJTk5VU19NQVBfU0RHU19KU09OIDoge307XG4gICAgICAgIHZhciBwb3J0YWxJbmZvID0gdHlwZW9mIENPU0lOTlVTX1BPUlRBTF9JTkZPUyAhPT0gJ3VuZGVmaW5lZCcgPyBDT1NJTk5VU19QT1JUQUxfSU5GT1MgOiB7fTtcbiAgICAgICAgdmFyIGNsb3VkRW5hYmxlZCA9IENPU0lOTlVTX0NMT1VEX0VOQUJMRUQgfHwgZmFsc2U7XG5cbiAgICAgICAgaWYgKHNlbGYubmF2YmFyUXVpY2tTZWFyY2hWaWV3ID09IG51bGwpIHtcbiAgICAgICAgXHRzZWxmLm5hdmJhclF1aWNrU2VhcmNoVmlldyA9IG5ldyBOYXZiYXJRdWlja1NlYXJjaFZpZXcoe1xuICAgICAgICBcdFx0bW9kZWw6IG51bGwsXG4gICAgICAgIFx0XHRlbDogZWwsXG4gICAgICAgIFx0XHR0b3BpY3NKc29uOiB0b3BpY3NKc29uLFxuICAgICAgICAgICAgICAgIHRleHRUb3BpY3NKc29uOiB0ZXh0VG9waWNzSnNvbixcbiAgICAgICAgICAgICAgICBzZGdzSnNvbjogc2Rnc0pzb24sXG4gICAgICAgICAgICAgICAgcG9ydGFsSW5mbzogcG9ydGFsSW5mbyxcbiAgICAgICAgICAgICAgICBjbG91ZEVuYWJsZWQ6IGNsb3VkRW5hYmxlZCxcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogb3B0aW9ucy5wbGFjZWhvbGRlclxuICAgICAgICBcdH0sXG4gICAgICAgIFx0c2VsZlxuICAgICAgICBcdCkucmVuZGVyKCk7XG4gICAgICAgIFx0QmFja2JvbmUubWVkaWF0b3IucHVibGlzaCgnbmF2YmFyLXF1aWNrc2VhcmNoOnJlYWR5Jyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIFxuICAgIHNlbGYuaW5pdE5hdmJhck1haW5NZW51RnJvbU9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAvLyBhZGQgcGFzc2VkIG9wdGlvbnMgaW50byBwYXJhbXMgZXh0ZW5kZWQgb3ZlciB0aGUgZGVmYXVsdCBvcHRpb25zXG4gICAgICAgIHZhciBlbCA9IG9wdGlvbnMuZWwgPyBvcHRpb25zLmVsIDogJyNuYXYtbWFpbi1tZW51JztcbiAgICAgICAgdmFyIHRvcGljc0pzb24gPSB0eXBlb2YgQ09TSU5OVVNfTUFQX1RPUElDU19KU09OICE9PSAndW5kZWZpbmVkJyA/IENPU0lOTlVTX01BUF9UT1BJQ1NfSlNPTiA6IHt9O1xuICAgICAgICB2YXIgdGV4dFRvcGljc0pzb24gPSB0eXBlb2YgQ09TSU5OVVNfTUFQX1RFWFRfVE9QSUNTX0pTT04gIT09ICd1bmRlZmluZWQnID8gQ09TSU5OVVNfTUFQX1RFWFRfVE9QSUNTX0pTT04gOiB7fTtcbiAgICAgICAgdmFyIHNkZ3NKc29uID0gdHlwZW9mIENPU0lOTlVTX01BUF9TREdTX0pTT04gIT09ICd1bmRlZmluZWQnID8gQ09TSU5OVVNfTUFQX1NER1NfSlNPTiA6IHt9O1xuICAgICAgICB2YXIgcG9ydGFsSW5mbyA9IHR5cGVvZiBDT1NJTk5VU19QT1JUQUxfSU5GT1MgIT09ICd1bmRlZmluZWQnID8gQ09TSU5OVVNfUE9SVEFMX0lORk9TIDoge307XG4gICAgICAgIHZhciBjb250ZXh0RGF0YSA9IG9wdGlvbnMuY29udGV4dERhdGEgPyBvcHRpb25zLmNvbnRleHREYXRhIDoge307XG4gICAgICAgIHZhciBjb250ZXh0RGF0YUpTT04gPSBvcHRpb25zLmNvbnRleHREYXRhSlNPTiA/IG9wdGlvbnMuY29udGV4dERhdGFKU09OIDoge307XG5cbiAgICAgICAgaWYgKHNlbGYubmF2YmFyTWFpbk1lbnVWaWV3ID09IG51bGwpIHtcbiAgICAgICAgICAgIHNlbGYubmF2YmFyTWFpbk1lbnVWaWV3ID0gbmV3IE5hdmJhck1haW5NZW51Vmlldyh7XG4gICAgICAgICAgICAgICAgbW9kZWw6IG51bGwsXG4gICAgICAgICAgICAgICAgZWw6IGVsLFxuICAgICAgICAgICAgICAgIGNvbnRleHREYXRhOiBjb250ZXh0RGF0YSxcbiAgICAgICAgICAgICAgICBjb250ZXh0RGF0YUpTT046IGNvbnRleHREYXRhSlNPTixcbiAgICAgICAgICAgICAgICB0b3BpY3NKc29uOiB0b3BpY3NKc29uLFxuICAgICAgICAgICAgICAgIHRleHRUb3BpY3NKc29uOiB0ZXh0VG9waWNzSnNvbixcbiAgICAgICAgICAgICAgICBzZGdzSnNvbjogc2Rnc0pzb24sXG4gICAgICAgICAgICAgICAgcG9ydGFsSW5mbzogcG9ydGFsSW5mbyxcbiAgICAgICAgICAgIH0sIFxuICAgICAgICAgICAgc2VsZlxuICAgICAgICAgICAgKS5yZW5kZXIoKTtcbiAgICAgICAgICAgIEJhY2tib25lLm1lZGlhdG9yLnB1Ymxpc2goJ25hdmJhci1tYWluLW1hbnU6cmVhZHknKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgc2VsZi5pbml0TmF2YmFyTm90aWZpY2F0aW9uV2lkZ2V0RnJvbU9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAvLyBhZGQgcGFzc2VkIG9wdGlvbnMgaW50byBwYXJhbXMgZXh0ZW5kZWQgb3ZlciB0aGUgZGVmYXVsdCBvcHRpb25zXG4gICAgICAgIHZhciBlbCA9IG9wdGlvbnMuZWwgPyBvcHRpb25zLmVsIDogJyNuYXYtbm90aWZpY2F0aW9uLWl0ZW1zJztcbiAgICAgICAgXG4gICAgICAgIGlmIChzZWxmLm5hdmJhck5vdGlmaWNhdGlvbldpZGdldFZpZXcgPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gICAgICAgIGVsUGFyZW50OiBzZWxmLiRlbC5maW5kKCcudHlwZWQtd2lkZ2V0cy1yb290JyksXG4gICAgICAgICAgICBzZWxmLm5hdmJhck5vdGlmaWNhdGlvbldpZGdldFZpZXcgPSBuZXcgTmF2YmFyTm90aWZpY2F0aW9uV2lkZ2V0Vmlldyh7XG4gICAgICAgICAgICAgICAgZWw6IGVsLFxuICAgICAgICAgICAgfSwgc2VsZi5hcHApO1xuICAgICAgICAgICAgc2VsZi5uYXZiYXJOb3RpZmljYXRpb25XaWRnZXRWaWV3LmxvYWQoKS50aGVuKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgQmFja2JvbmUubWVkaWF0b3IucHVibGlzaCgnbmF2YmFyLW5vdGlmaWNhdGlvbi13aWRnZXQ6cmVhZHknKTtcbiAgICAgICAgICAgICAgICB1dGlsLmxvZygnIyAjIyMjIGxvYWRlZCBub3RpZmljYXRpb24gd2lkZ2V0LicpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBzZWxmLmluaXRVc2VyRGFzaGJvYXJkRnJvbU9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAvLyBhZGQgcGFzc2VkIG9wdGlvbnMgaW50byBwYXJhbXMgZXh0ZW5kZWQgb3ZlciB0aGUgZGVmYXVsdCBvcHRpb25zXG4gICAgICAgIHZhciB0b3BpY3NKc29uID0gdHlwZW9mIENPU0lOTlVTX01BUF9UT1BJQ1NfSlNPTiAhPT0gJ3VuZGVmaW5lZCcgPyBDT1NJTk5VU19NQVBfVE9QSUNTX0pTT04gOiB7fTtcbiAgICAgICAgdmFyIHRleHRUb3BpY3NKc29uID0gdHlwZW9mIENPU0lOTlVTX01BUF9URVhUX1RPUElDU19KU09OICE9PSAndW5kZWZpbmVkJyA/IENPU0lOTlVTX01BUF9URVhUX1RPUElDU19KU09OIDoge307XG4gICAgICAgIHZhciBzZGdzSnNvbiA9IHR5cGVvZiBDT1NJTk5VU19NQVBfU0RHU19KU09OICE9PSAndW5kZWZpbmVkJyA/IENPU0lOTlVTX01BUF9TREdTX0pTT04gOiB7fTtcbiAgICAgICAgdmFyIHBvcnRhbEluZm8gPSB0eXBlb2YgQ09TSU5OVVNfUE9SVEFMX0lORk9TICE9PSAndW5kZWZpbmVkJyA/IENPU0lOTlVTX1BPUlRBTF9JTkZPUyA6IHt9O1xuICAgICAgICBcbiAgICAgICAgaWYgKHNlbGYudXNlckRhc2hib2FyZFZpZXcgPT0gbnVsbCkge1xuICAgICAgICBcdHNlbGYudXNlckRhc2hib2FyZFZpZXcgPSBuZXcgVXNlckRhc2hib2FyZFZpZXcoe1xuICAgICAgICBcdFx0bW9kZWw6IG51bGwsXG4gICAgICAgIFx0XHRlbDogbnVsbCxcbiAgICAgICAgXHRcdHRvcGljc0pzb246IHRvcGljc0pzb24sXG4gICAgICAgICAgICAgICAgdGV4dFRvcGljc0pzb246IHRleHRUb3BpY3NKc29uLFxuICAgICAgICAgICAgICAgIHNkZ3NKc29uOiBzZGdzSnNvbixcbiAgICAgICAgXHRcdHBvcnRhbEluZm86IHBvcnRhbEluZm8sXG4gICAgICAgIFx0XHR1aVByZWZzOiBvcHRpb25zLnVpX3ByZWZzLFxuICAgICAgICBcdFx0Zm9yY2VPbmx5TWluZTogb3B0aW9ucy5mb3JjZV9vbmx5X21pbmUsXG4gICAgICAgIFx0fSwgXG4gICAgICAgIFx0c2VsZlxuICAgICAgICBcdCkucmVuZGVyKCk7XG4gICAgICAgIFx0QmFja2JvbmUubWVkaWF0b3IucHVibGlzaCgndXNlci1kYXNoYm9hcmQ6cmVhZHknKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgXG4gICAgXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEFwcDtcblxuJChmdW5jdGlvbiAoKSB7XG4gICAgd2luZG93LkFwcCA9IG5ldyBBcHAoKS5zdGFydCgpO1xufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Nvc2lubnVzL2NsaWVudC9hcHAuanNcbi8vIG1vZHVsZSBpZCA9IDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnXG5cbnZhciBNYXBWaWV3ID0gcmVxdWlyZSgndmlld3MvbWFwLXZpZXcnKTtcbnZhciB1dGlsID0gcmVxdWlyZSgnbGliL3V0aWwuanMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBCYWNrYm9uZS5Sb3V0ZXIuZXh0ZW5kKHtcbiAgICBcbiAgICByb3V0ZXM6IHtcbiAgICAgICAgJyc6ICdyb3V0ZV9hcHBfbWFwX3RpbGVzJ1xuICAgIH0sXG4gICAgXG4gICAgZmlyc3Rfcm91dGVfZXZlbnQ6IHRydWUsXG5cbiAgICByb3V0ZV9hcHBfbWFwX3RpbGVzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIElmIHRoZSBiYXNlIGFwcCB2aWV3IGhhc24ndCBiZWVuIGluc3RhbnRpYXRlZCwgY3JlYXRlIGFuZCByZW5kZXIgaXQuXG4gICAgICAgIHV0aWwubG9nKCdyb3V0ZXIuanM6IHJvdXRlZCAnKVxuICAgICAgICBCYWNrYm9uZS5tZWRpYXRvci5wdWJsaXNoKCduYXZpZ2F0ZTptYXAnKTtcbiAgICB9LFxuICAgIFxuICAgIC8qKiBUcmlnZ2VyZWQgYnkgdGhlIG1lZGlhdG9yIGV2ZW50ICduYXZpZ2F0ZTpyb3V0ZXInICovXG4gICAgb25fbmF2aWdhdGU6IGZ1bmN0aW9uKHVybCkge1xuICAgICAgICB1dGlsLmxvZygncm91dGVyLmpzOiBnb3QgYSBuYXZpZ2F0ZSBldmVudCEnKVxuICAgICAgICB1dGlsLmxvZyh1cmwpXG4gICAgICAgIFxuICAgICAgICBpZiAodXJsKSB7XG4gICAgICAgIFx0Ly8gc2luY2UgYSAnLycgbGVhZGluZyBzbGFzaCB3b3VsZCBiZSBkcm9wcGVkIGJ5IHRoZSByb3V0ZXIgYW5kIHdlIGFsd2F5c1xuICAgICAgICBcdC8vIG9wZXJhdGUgb24gdGhlIHJvb3QgdXJsIG9mIHRoaXMgcm91dGVyLCB3ZSBoYXZlIHRvIGZvcm1hdCB0aGUgVVJMIGxpa2Ugc28gJy4vLi4uJ1xuICAgICAgICBcdHVybCA9ICcuJyArIHVybDtcbiAgICAgICAgICAgIEJhY2tib25lLlJvdXRlci5wcm90b3R5cGUubmF2aWdhdGUuY2FsbCh0aGlzLCB1cmwsIHsgXG4gICAgICAgICAgICAgICAgdHJpZ2dlcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgcmVwbGFjZTogQXBwLnJvdXRlci5maXJzdF9yb3V0ZV9ldmVudFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChBcHAucm91dGVyLmZpcnN0X3JvdXRlX2V2ZW50KSB7XG4gICAgICAgICAgICAgICAgdXRpbC5sb2coJ3JvdXRlci5qczogVEhJUyBJUyBUSEUgRklSU1QgTkFWSUdBVEUgRVZFTlQuIFJlcGxhY2luZyBoaXN0b3J5IHN0YXRlIGluc3RlYWQgb2YgYWRkaW5nIGEgbmV3IG9uZSEnKVxuICAgICAgICAgICAgICAgIEFwcC5yb3V0ZXIuZmlyc3Rfcm91dGVfZXZlbnQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgXG4gICAgLyoqXG4gICAgICogRGlyZWN0IGNvbnZlbmllbmNlIGZ1bmN0aW9uIHRvIHVwZGF0ZSB0aGUgVVJMIHdpdGhvdXQgYW55IGZldGNoZXMgb3Igcm91dGluZ1xuICAgICAqL1xuICAgIHJlcGxhY2VVcmw6IGZ1bmN0aW9uKHVybCkge1xuICAgICAgICB1dGlsLmxvZygncm91dGVyLmpzOiBSZXBsYWNpbmcgdGhlIGN1cnJlbnQgaGlzdG9yeSBVUkwgd2l0aG91dCBuYXZpZ2F0aW9uIG9yIHJvdXRpbmcuJylcbiAgICAgICAgQmFja2JvbmUuUm91dGVyLnByb3RvdHlwZS5uYXZpZ2F0ZS5jYWxsKHRoaXMsIHVybCwgeyBcbiAgICAgICAgICAgIHRyaWdnZXI6IGZhbHNlLFxuICAgICAgICAgICAgcmVwbGFjZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgXG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29zaW5udXMvY2xpZW50L3JvdXRlci5qc1xuLy8gbW9kdWxlIGlkID0gMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbnZhciBDb250ZW50Q29udHJvbFZpZXcgPSByZXF1aXJlKCd2aWV3cy9iYXNlL2NvbnRlbnQtY29udHJvbC12aWV3Jyk7XG52YXIgTWFwTGF5ZXJCdXR0b25zVmlldyA9IHJlcXVpcmUoJ3ZpZXdzL21hcC1sYXllci1idXR0b25zLXZpZXcnKTtcbnZhciBwb3B1cFRlbXBsYXRlID0gcmVxdWlyZSgnbWFwL3BvcHVwJyk7XG52YXIgdXRpbCA9IHJlcXVpcmUoJ2xpYi91dGlsJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gQ29udGVudENvbnRyb2xWaWV3LmV4dGVuZCh7XG5cbiAgICB0ZW1wbGF0ZTogcmVxdWlyZSgnbWFwL21hcCcpLFxuICAgIFxuICAgIC8vIFRoZSBET00gZXZlbnRzIHNwZWNpZmljIHRvIGFuIGl0ZW0uXG4gICAgZXZlbnRzOiB7XG4gICAgICAgICdjbGljayAubWFwLWV4cGFuZC1idXR0b24nOiAnb25FeHBhbmRCdXR0b25DbGlja2VkJyxcbiAgICB9LFxuICAgIFxuICAgIC8vIEVuZ2xpc2ggLyBJbnRlcm5hdGlvbmFsIHZlcnNpb24gb2YgdGhlIE9wZW5TdHJlZXRNYXAgdGlsZXNldCBiYXNlZCBvbiBDYXJ0b0RCXG4gICAgbGF5ZXJzOiB7XG4gICAgICAgIHN0cmVldDoge1xuICAgICAgICAgICAgdXJsOiAodXRpbC5wcm90b2NvbCgpID09PSAnaHR0cDonID9cbiAgICAgICAgICAgICAgICAnaHR0cDovL3tzfS5iYXNlbWFwcy5jYXJ0b2Nkbi5jb20vbGlnaHRfYWxsL3t6fS97eH0ve3l9QDJ4LnBuZycgOlxuICAgICAgICAgICAgICAgICdodHRwczovL2NhcnRvZGItYmFzZW1hcHMte3N9Lmdsb2JhbC5zc2wuZmFzdGx5Lm5ldC9saWdodF9hbGwve3p9L3t4fS97eX0ucG5nJyksXG4gICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRpb246ICc8YSBocmVmPVwiaHR0cHM6Ly9jYXJ0by5jb21cIiB0YXJnZXQ9XCJfYmxhbmtcIj5DYXJ0b0RCPC9hPiB8IDxhIGhyZWY9XCJodHRwczovL3d3dy5vcGVuc3RyZWV0bWFwLm9yZ1wiIHRhcmdldD1cIl9ibGFua1wiPiZjb3B5OyBPcGVuU3RyZWV0TWFwIGNvbnRyaWJ1dG9yczwvYT4nXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfSxcblxuICAgIC8vIEdlcm1hbiB2ZXJzaW9uIG9mIHRoZSBPcGVuU3RyZWV0TWFwIHRpbGVzZXRcbiAgICBsYXllcnNNb2Rlcm5UaWxlc2V0OiB7XG4gICAgICAgIHN0cmVldDoge1xuICAgICAgICAgICAgdXJsOiAodXRpbC5wcm90b2NvbCgpID09PSAnaHR0cHM6JyA/XG4gICAgICAgICAgICAgICAgJ2h0dHA6Ly97c30udGlsZS5vcGVuc3RyZWV0bWFwLmRlL3RpbGVzL29zbWRlL3t6fS97eH0ve3l9LnBuZycgOlxuICAgICAgICAgICAgICAgICdodHRwczovL3tzfS50aWxlLm9wZW5zdHJlZXRtYXAuZGUvdGlsZXMvb3NtZGUve3p9L3t4fS97eX0ucG5nJyksXG4gICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRpb246ICcmY29weTsgPGEgaHJlZj1cImh0dHBzOi8vd3d3Lm9wZW5zdHJlZXRtYXAub3JnL2NvcHlyaWdodFwiPk9wZW5TdHJlZXRNYXA8L2E+IGNvbnRyaWJ1dG9ycydcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9LFxuICAgIFxuICAgIC8vIHBhdGggdG8gYSBnZW9qc29uIGZpbGUgaW4gc3RhdGljIGZvbGRlciBjb250YWluaW5nIHJlZ2lvbnMgdGhhdCBzaG91bGQgYmUgb3V0bGluZWQgb24gdGhlIG1hcFxuICAgIC8vIFlvdSBjYW4gY29uZmlndXJlIGEgZ2VvanNvbiByZWdpb24gaGVyZTogaHR0cDovL29wZW5kYXRhbGFiLmRlL3Byb2plY3RzL2dlb2pzb24tdXRpbGl0aWVzLyBcbiAgICBnZW9SZWdpb25Vcmw6IHV0aWwuaWZ1bmRlZihDT1NJTk5VU19NQVBfT1BUSU9OUy5nZW9qc29uX3JlZ2lvbiwgbnVsbCksIFxuXG4gICAgXG4gICAgLy8gdGhlIG1hcCBMYXllciBCdXR0b25zIChTYXR0ZWxpdGUsIFN0cmVldCwgVGVycmFpbilcbiAgICBtYXBMYXllckJ1dHRvbnNWaWV3OiBudWxsLFxuICAgIFxuICAgIC8vIGhhbmRsZSBvbiB0aGUgY3VycmVudCBwb3B1cFxuICAgIHBvcHVwOiBudWxsLFxuICAgIFxuICAgIC8vIGxlYWZsZXQgaW5zdGFuY2VcbiAgICBsZWFmbGV0OiBudWxsLFxuICAgIFxuICAgIC8vIE1hcmtlciBzdG9yYWdlIGRpY3Qgb2YgezxyZXN1bHRNb2RlbC5pZD46IDxMLm1hcmtlcj4sIC4uLn1cbiAgICAvLyBpZCBjb3JyZXNwb25kcyB0byBzZWxmLmNvbGxlY3Rpb24uZ2V0KDxpZD4pXG4gICAgLy8gdXBkYXRlZCB0aHJvdWdoIHRoZSBoYW5kbGVycyBvZiBzZWxmLmNvbGxlY3Rpb24ncyBzaWduYWxzXG4gICAgbWFya2Vyczoge30sXG4gICAgXG4gICAgLy8gaWYgbm90IG51bGwsIHRoaXMgaXMgYW4gYWN0aXZlLCBkcmFnZ2FibGUgbWFya2VyXG4gICAgZHJhZ2dhYmxlTWFya2VyOiBudWxsLFxuICAgIFxuICAgIC8vIHdpbGwgYmUgc2V0IHRvIHNlbGYub3B0aW9ucyBkdXJpbmcgaW5pdGlhbGl6YXRpb25cbiAgICBkZWZhdWx0czoge1xuICAgICAgICAvLyBpcyB0aGUgd2luZG93IGluIGZ1bGwtc2NyZWVuIG1vZGUgKGluc3RlYWQgb2YgaW5zaWRlIGEgd2lkZ2V0IG9yIHNpbWlsYXIpXG4gICAgICAgIGZ1bGxzY3JlZW46IHRydWUsXG4gICAgICAgIFxuICAgICAgICAvLyBpcyB0aGlzIHZpZXcgc2hvd24gdG9nZXRoZXIgd2l0aCB0aGUgbWFwIHZpZXcgYXMgYSA1MCUgc3BsaXQgc2NyZWVuP1xuICAgICAgICBzcGxpdHNjcmVlbjogZmFsc2UsXG4gICAgICAgIFxuICAgICAgICAvLyB3aWxsIGEgcG9wdXAgYmUgc2hvd24gd2hlbiBhIG1hcCBtYXJrZXIgaXMgY2xpY2tlZD9cbiAgICAgICAgZW5hYmxlUG9wdXA6IGZhbHNlLFxuICAgICAgICBcbiAgICAgICAgLy8gd2lsbCBjbGlja2luZyBvbiBhIG1hcmtlciBjYXVzZSBpdHMgcmVzdWx0IHRvIGJlIHNlbGVjdGVkP1xuICAgICAgICBlbmFibGVEZXRhaWxTZWxlY3Rpb246IHRydWUsXG4gICAgICAgIFxuICAgICAgICAvLyBzaGFsbCB3ZSBjbHVzdGVyIGNsb3NlIG1hcmtlcnMgdG9nZXRoZXJcbiAgICAgICAgY2x1c3RlcmluZ0VuYWJsZWQ6IGZhbHNlLFxuICAgICAgICBjbHVzdGVyWm9vbVRocmVzaG9sZDogNSxcbiAgICAgICAgbWF4Q2x1c3RlclJhZGl1czogMTUsXG4gICAgICAgIFxuICAgICAgICAvLyBzaG91bGQgZHJhZyBhbmQgem9vbSBvcHRpb25zIHRoYXQgZGlzcnVwdCBwYWdlIFVYIG9uIG1vYmlsZSBiZSBkaXNhYmxlZFxuICAgICAgICBtb2JpbGVTYWZlSW50ZXJhY3Rpb25zOiBmYWxzZSxcbiAgICAgICAgXG4gICAgICAgIC8vIGlmIGEgbWFya2VyIHBvcHVwIGlzIG9wZW4sIGJ1dCB0aGUgc2VhcmNoIHJlc3VsdHMgY2hhbmdlIGFuZCB0aGUgbWFya2VyIHdvdWxkIGJlIHJlbW92ZWQsXG4gICAgICAgIC8vIHNob3VsZCB3ZSBzdGlsbCBrZWVwIGl0IGFuZCB0aGUgcG9wdXA/XG4gICAgICAgIGtlZXBPcGVuTWFya2Vyc0FmdGVyUmVzdWx0Q2hhbmdlOiBmYWxzZSwgXG4gICAgICAgIFxuICAgICAgICAvLyBhZGRlZCBwZXJjZW50YWdlIHRvIHZpc2libGUgbWFwIGFyZWFcbiAgICAgICAgLy8gdGhlIHJlc3VsdGluZyBhcmVhIGlzIGFjdHVhbGx5IHNlbnQgYXMgY29vcmRzIHRvIHRoZSBzZWFyY2ggQVBJIFxuICAgICAgICBsYXRMbmdCdWZmZXI6IDAuMDEsXG4gICAgICAgIFxuICAgICAgICAvLyB0aGUgYW1vdW50IG9mIGRlY2ltYWxzIHRvIHJvdW5kIGFsbCBjb29yZGluYXRlcyB0b1xuICAgICAgICBsYXRMbmdSb3VuZFRvRGVjaW1hbHM6IDUsXG4gICAgICAgIFxuICAgICAgICAvLyBpbWFnZSBzaXplIGFuZCBkaXNwbGF5IHNpemUgbXVsdGlwbGllciBmb3IgdGhlIG1hcmtlciBpbWFnZXNcbiAgICAgICAgcmVzdWx0TWFya2VyU2l6ZXM6IHtcbiAgICAgICAgICAgIHdpZHRoOiAgICAgICAgICAxNCAqIDAuOCxcbiAgICAgICAgICAgIGhlaWdodDogICAgICAgICAxNCAqIDAuOCxcbiAgICAgICAgICAgIHdpZHRoTGFyZ2U6ICAgICAyOCAqIDAuOCxcbiAgICAgICAgICAgIGhlaWdodExhcmdlOiAgICAzNyAqIDAuOCxcbiAgICAgICAgICAgIHdpZHRoU3RhY2tlZDogICAyMyAqIDAuOCxcbiAgICAgICAgICAgIGhlaWdodFN0YWNrZWQ6ICAyMyAqIDAuOCxcbiAgICAgICAgICAgIHdpZHRoQmFzZTogICAgICAyOCAqIDAuOCxcbiAgICAgICAgICAgIGhlaWdodEJhc2U6ICAgICAzNyAqIDAuOCxcbiAgICAgICAgfSxcbiAgICAgICAgXG4gICAgICAgIC8vIGNhbGN1bGF0ZWQgZHluYW1pY2FsbHkgZGVwZW5kaW5nIG9uIHpvb20sIGluIGBoYW5kbGVWaWV3cG9ydENoYW5nZSgpYFxuICAgICAgICByZXN1bHRNYXJrZXJDbHVzdGVyRGlzdGFuY2U6IHtcbiAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICB5OiAwLFxuICAgICAgICAgICAgcGVyWm9vbTogMCwgLy8gaGFyZGNvZGVkIGZ1bmN0aW9uIG9mIHB4IHBlciB6b29tIGxldmVsLCBpZiB5b3Ugd2FudCB0byBvZmZzZXQgaW4gcHggZm9yIGN1cnJlbnQgem9vbVxuICAgICAgICB9LFxuICAgICAgICBcbiAgICAgICAgTUFSS0VSX05VTUJFUl9PRl9MQVJHRV9NQVJLRVJTOiA4LCAvLyB0aGlzIG1hbnkgb2YgdGhlIG1vc3QgcmVsZXZhbnQgcmVzdWx0cyBiZWNvbWUgbGFyZ2UgbWFya2Vyc1xuICAgICAgICBcbiAgICAgICAgTUFSS0VSX0NMVVNURVJfUkFESVVTX0xJTUlUOiAwLjg1LCAvLyBjbHVzdGVyIHJhZGl1cyBtdWx0aXBsaWVyOiBtb2RpZmllciBmb3IgaG93IGFnZ3Jlc3NpdmVseSB0aGUgY2x1c3RlcnMgc2hvdWxkIHB1bGwgaW4gbWFya2Vyc1xuICAgICAgICBNQVJLRVJfU1RBQ0tfUFhfT0ZGU0VUX1BFUl9DTFVTVEVSX0xFVkVMOiA3LCAvLyBvZmZzZXQgaW4gcHggZm9yIGNsdXN0ZXJlZCBzdGFjay1tYWtlcnMgcGVyIGxldmVsXG4gICAgICAgIE1BUktFUl9TVEFDS19QWF9PRkZTRVRfQkFTRTogOCwgLy8gYWRkaXRpb25hbCBvZmZzZXQgaW4gcHggb2YgZmlyc3QgY2x1c3RlcmVkIHN0YWNrLW1hcmtlciAobGV2ZWwgMSkgZnJvbSB0aGUgYmFzZSBtYXJrZXJcblxuICAgICAgICAvLyBpZiBsb2NhdGlvbiBpcyBzZXQgdG8gYSBsb2NhdGlvbiBwYWlyIGF0IGluaXRpYWxpemF0aW9uLFxuICAgICAgICAvLyB0aGUgYENPU0lOTlVTX01BUF9PUFRJT05TLmRlZmF1bHRfY29vcmRpbmF0ZXNgIHdpbGwgYmUgaWdub3JlZCBhbmQgdGhlXG4gICAgICAgIC8vIHNldCBgbG9jYXRpb25gIGlzIHVzZWQgd2l0aCB0aGUgem9vbSBzZXR0aW5nIGluc3RlYWQhXG4gICAgICAgIGxvY2F0aW9uOiBbXSwgLy8gWzUyLjUyMzMsIDEzLjQxMzhdLFxuICAgICAgICB6b29tOiA3LFxuICAgICAgICBcbiAgICAgICAgLy8gdGhlIGN1cnJlbnQgbGF5ZXIgb3B0aW9uIGFzIHN0cmluZ1xuICAgICAgICBsYXllcjogJ3N0cmVldCcsXG4gICAgICAgIFxuICAgICAgICBzdGF0ZToge1xuICAgICAgICAgICAgLy8gdGhlIGN1cnJlbiBMZWFmbGV0IGxheWVyIG9iamVjdFxuICAgICAgICAgICAgY3VycmVudExheWVyOiBudWxsLFxuXG4gICAgICAgICAgICAvLyBhcmUgd2UgY3VycmVudGx5IHNlZWluZyBjbHVzdGVyZWQgbWFya2Vycz9cbiAgICAgICAgICAgIGN1cnJlbnRseUNsdXN0ZXJpbmc6IGZhbHNlLFxuICAgICAgICAgICAgLy8gdGhlIGN1cnJlbnQgb3BlbiBzcGlkZXIgY2x1c3RlciBoYW5kbGUsIG9yIG51bGwgaWYgbm8gc3BpZGVyIG9wZW5cbiAgICAgICAgICAgIGN1cnJlbnRTcGlkZXJmaWVkOiBudWxsLFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBmYWxsYmFjayBkZWZhdWx0IGNvb3JkaW5hdGVzIHdoZW4gbmF2aWdhdGVkIHdpdGhvdXQgbG9jIHBhcmFtc1xuICAgICAgICAgICAgbm9ydGg6IHV0aWwuaWZ1bmRlZihDT1NJTk5VU19NQVBfT1BUSU9OUy5kZWZhdWx0X2Nvb3JkaW5hdGVzLm5lX2xhdCwgNTUuNzgpLCBcbiAgICAgICAgICAgIGVhc3Q6IHV0aWwuaWZ1bmRlZihDT1NJTk5VU19NQVBfT1BUSU9OUy5kZWZhdWx0X2Nvb3JkaW5hdGVzLm5lX2xvbiwgMjMuMDIpLFxuICAgICAgICAgICAgc291dGg6IHV0aWwuaWZ1bmRlZihDT1NJTk5VU19NQVBfT1BUSU9OUy5kZWZhdWx0X2Nvb3JkaW5hdGVzLnN3X2xhdCwgNDkuMDApLFxuICAgICAgICAgICAgd2VzdDogdXRpbC5pZnVuZGVmKENPU0lOTlVTX01BUF9PUFRJT05TLmRlZmF1bHRfY29vcmRpbmF0ZXMuc3dfbG9uLCAzLjgwKSxcbiAgICAgICAgfVxuICAgIH0sXG4gICAgXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gKG9wdGlvbnMsIGFwcCwgY29sbGVjdGlvbikge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIC8vIHRoaXMgY2FsbHMgc2VsZi5hcHBseVVybFNlYXJjaFBhcmFtZXRlcnMoKVxuICAgICAgICBDb250ZW50Q29udHJvbFZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbChzZWxmLCBvcHRpb25zLCBhcHAsIGNvbGxlY3Rpb24pO1xuICAgICAgICBcbiAgICAgICAgc2VsZi5zdGF0ZS5jdXJyZW50bHlDbHVzdGVyaW5nID0gc2VsZi5vcHRpb25zLmNsdXN0ZXJpbmdFbmFibGVkO1xuICAgICAgICBzZWxmLnN0YXRlLm1vYmlsZVNhZmVJbnRlcmFjdGlvbnMgPSBzZWxmLm9wdGlvbnMubW9iaWxlU2FmZUludGVyYWN0aW9ucztcbiAgICAgICAgXG4gICAgICAgIEJhY2tib25lLm1lZGlhdG9yLnN1YnNjcmliZSgnY2hhbmdlOmJvdW5kcycsIHNlbGYuZml0Qm91bmRzLCBzZWxmKTtcbiAgICAgICAgQmFja2JvbmUubWVkaWF0b3Iuc3Vic2NyaWJlKCdyZXNpemU6d2luZG93JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2VsZi5sZWFmbGV0LmludmFsaWRhdGVTaXplKCk7XG4gICAgICAgICAgICBzZWxmLmhhbmRsZVZpZXdwb3J0Q2hhbmdlKCk7XG4gICAgICAgIH0sIHNlbGYpO1xuICAgICAgICBCYWNrYm9uZS5tZWRpYXRvci5zdWJzY3JpYmUoJ2NoYW5nZTpsYXllcicsIHNlbGYuc2V0TGF5ZXIsIHNlbGYpO1xuICAgICAgICBcbiAgICAgICAgLy8gcmVzdWx0IGV2ZW50c1xuICAgICAgICBzZWxmLmNvbGxlY3Rpb24ub24oe1xuICAgICAgICAgICAnYWRkJyA6IHNlbGYudGhpc0NvbnRleHQoc2VsZi5tYXJrZXJBZGQpLFxuICAgICAgICAgICAnY2hhbmdlOmhvdmVyZWQnOiBzZWxmLnRoaXNDb250ZXh0KHNlbGYubWFya2VyQ2hhbmdlSG92ZXJlZCksXG4gICAgICAgICAgICdjaGFuZ2U6c2VsZWN0ZWQnOiBzZWxmLnRoaXNDb250ZXh0KHNlbGYubWFya2VyQ2hhbmdlU2VsZWN0ZWQpLFxuICAgICAgICAgICAnY2hhbmdlJzogc2VsZi50aGlzQ29udGV4dChzZWxmLm1hcmtlclVwZGF0ZSksXG4gICAgICAgICAgICdyZW1vdmUnOiBzZWxmLnRoaXNDb250ZXh0KHNlbGYubWFya2VyUmVtb3ZlKSxcbiAgICAgICAgICAgJ3Jlc2V0Jzogc2VsZi50aGlzQ29udGV4dChzZWxmLm1hcmtlcnNSZXNldCksXG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICByZW5kZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBDb250ZW50Q29udHJvbFZpZXcucHJvdG90eXBlLnJlbmRlci5jYWxsKHNlbGYpO1xuICAgICAgICBzZWxmLnJlbmRlck1hcCgpO1xuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuICAgIFxuICAgIGFmdGVyUmVuZGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgaWYgKHNlbGYubWFwTGF5ZXJCdXR0b25zVmlldyA9PSBudWxsKSB7XG4gICAgICAgIFx0c2VsZi5tYXBMYXllckJ1dHRvbnNWaWV3ID0gbmV3IE1hcExheWVyQnV0dG9uc1ZpZXcoe1xuICAgICAgICBcdFx0ZWw6IHNlbGYuJGVsLmZpbmQoJy5tYXAtbGF5ZXJzLWJ1dHRvbnMnKSxcbiAgICAgICAgXHRcdGxheWVyOiBzZWxmLm9wdGlvbnMubGF5ZXIsXG4gICAgICAgIFx0XHRtYXBWaWV3OiBzZWxmXG4gICAgICAgIFx0fSkucmVuZGVyKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgIFx0c2VsZi5tYXBMYXllckJ1dHRvbnNWaWV3LnJlbmRlcigpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBcbiAgICAvLyBleHRlbmRlZCBmcm9tIGNvbnRlbnQtY29udHJvbC12aWV3LmpzXG4gICAgYXBwbHlVcmxTZWFyY2hQYXJhbWV0ZXJzOiBmdW5jdGlvbiAodXJsUGFyYW1zKSB7XG4gICAgICAgIHV0aWwubG9nKCdtYXAtdmlldy5qczogdXJsIHBhcmFtcyBvbiBpbml0OiAnKVxuICAgICAgICB1dGlsLmxvZyh1cmxQYXJhbXMpXG4gICAgICAgIF8uZXh0ZW5kKHRoaXMuc3RhdGUsIHtcbiAgICAgICAgICAgIG5vcnRoOiB1dGlsLmlmdW5kZWYodXJsUGFyYW1zLm5lX2xhdCwgdGhpcy5zdGF0ZS5ub3J0aCksXG4gICAgICAgICAgICBlYXN0OiB1dGlsLmlmdW5kZWYodXJsUGFyYW1zLm5lX2xvbiwgdGhpcy5zdGF0ZS5lYXN0KSxcbiAgICAgICAgICAgIHNvdXRoOiB1dGlsLmlmdW5kZWYodXJsUGFyYW1zLnN3X2xhdCwgdGhpcy5zdGF0ZS5zb3V0aCksXG4gICAgICAgICAgICB3ZXN0OiB1dGlsLmlmdW5kZWYodXJsUGFyYW1zLnN3X2xvbiwgdGhpcy5zdGF0ZS53ZXN0KSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZml0Qm91bmRzKCk7XG4gICAgICAgIHRoaXMudXBkYXRlQm91bmRzKCk7XG4gICAgfSxcbiAgICBcbiAgICAvLyBleHRlbmRlZCBmcm9tIGNvbnRlbnQtY29udHJvbC12aWV3LmpzXG4gICAgY29udHJpYnV0ZVRvU2VhcmNoUGFyYW1ldGVyczogZnVuY3Rpb24oZm9yQVBJKSB7XG4gICAgICAgIHZhciBwYWRkZWQgPSBmb3JBUEk7XG4gICAgICAgIHZhciBzZWFyY2hQYXJhbXMgPSB7XG4gICAgICAgICAgICBuZV9sYXQ6IHBhZGRlZCA/IHRoaXMuc3RhdGUucGFkZGVkTm9ydGggOiB0aGlzLnN0YXRlLm5vcnRoLFxuICAgICAgICAgICAgbmVfbG9uOiBwYWRkZWQgPyB0aGlzLnN0YXRlLnBhZGRlZEVhc3QgOiB0aGlzLnN0YXRlLmVhc3QsXG4gICAgICAgICAgICBzd19sYXQ6IHBhZGRlZCA/IHRoaXMuc3RhdGUucGFkZGVkU291dGggOiB0aGlzLnN0YXRlLnNvdXRoLFxuICAgICAgICAgICAgc3dfbG9uOiBwYWRkZWQgPyB0aGlzLnN0YXRlLnBhZGRlZFdlc3QgOiB0aGlzLnN0YXRlLndlc3QsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBzZWFyY2hQYXJhbXNcbiAgICB9LFxuICAgIFxuICAgIFxuICAgIC8vIFJlc3VsdENvbGxlY3Rpb24gRXZlbnQgaGFuZGxlcnNcbiAgICAvLyAtLS0tLS0tLS0tLS0tLVxuICAgIFxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSByZXN1bHQ6IFJlc3VsdCBtb2RlbFxuICAgICAqIEBwYXJhbSBpc0xhcmdlTWFya2VyOiAob3B0aW9uYWwpIGJvb2wuIG1ha2UgdGhpcyBtYXJrZXIgaWNvbiBsYXJnZT9cbiAgICAgKiBAcGFyYW0gY2x1c3RlckxldmVsOiAob3B0aW9uYWwpIGludC4gaWYgc3VwcGxpZWQsIHRoZSByZXN1bHQgaXMgY29uc2lkZXJlZCBpbiBhIGNsdXN0ZXIsIGF0IHRoaXMgcmFuay4gMCBtZWFucyBiYXNlIGNsdXN0ZXItbWFya2VyXG4gICAgICogQHBhcmFtIGNsdXN0ZXJDb29yZHM6IChvcHRpb25hbCkge2xhdDogaW50LCBsb246IGludH0gaWYgcmVzdWx0IGlzIGluIGEgY2x1c3RlciwgdGhlIGNvb3JkcyAocmFuayB3aWxsIGJlIGFkZGVkIGFzIG9mZnNldClcbiAgICAgKi9cbiAgICBtYXJrZXJBZGQ6IGZ1bmN0aW9uKHJlc3VsdCwgaXNMYXJnZU1hcmtlciwgY2x1c3RlckxldmVsLCBjbHVzdGVyQ29vcmRzKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgXG4gICAgICAgIGlmICghcmVzdWx0LmdldCgnbGF0JykgfHwgIXJlc3VsdC5nZXQoJ2xvbicpKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGUgcmVzdWx0IGhhcyBubyBsb2NhdGlvbiwgdGhlIG1hcCBjYW5ub3QgaGFuZGxlIGl0LiBcbiAgICAgICAgICAgIHV0aWwubG9nKCdDYW5jZWxsZWQgYWRkaW5nIGEgbWFya2VyIGZvciBhIHJlc3VsdCB3aXRoIG5vIGxvY2F0aW9uLicpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIGFkZGluZyBhIG1hcmtlciB0aGF0IGlzIGFscmVhZHkgdGhlcmU/IGltcG9zc2licnUhIGJ1dCBiZXN0IGJlIHN1cmUuXG4gICAgICAgIGlmIChyZXN1bHQuaWQgaW4gdGhpcy5tYXJrZXJzKSB7XG4gICAgICAgICAgICB0aGlzLm1hcmtlclJlbW92ZShyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBmb3IgY2x1c3RlcmVkIG1hcmtlcnMsIGV2ZXJ5IG1hcmtlciBidXQgdGhlIGJhc2UgbWFya2VyIGJlY29tZXMgYSBzdGFja2VkIG1hcmtlci5cbiAgICAgICAgdmFyIG1hcmtlckljb24gPSB0aGlzLmdldE1hcmtlckljb25Gb3JUeXBlKHJlc3VsdC5nZXQoJ3R5cGUnKSwgaXNMYXJnZU1hcmtlciwgY2x1c3RlckxldmVsID4gMCwgY2x1c3RlckxldmVsID09IDApO1xuICAgICAgICB2YXIgY29vcmRzID0gY2x1c3RlckNvb3JkcyA/IGNsdXN0ZXJDb29yZHMgOiBbcmVzdWx0LmdldCgnbGF0JyksIHJlc3VsdC5nZXQoJ2xvbicpXTtcbiAgICAgICAgdmFyIGlzUG9pbnRlZE1hcmtlciA9IGlzTGFyZ2VNYXJrZXIgfHwgdHlwZW9mIGNsdXN0ZXJMZXZlbCAhPT0gJ3VuZGVmaW5lZCcgfHwgY2x1c3RlckxldmVsID09IDA7XG4gICAgICAgIHZhciBjbHVzdGVyT2Zmc2V0ID0gMDtcbiAgICAgICAgXG4gICAgICAgIC8vIGFkZCBjbHVzdGVyTGV2ZWwgYXMgb2Zmc2V0XG4gICAgICAgIGlmICh0eXBlb2YgY2x1c3RlckxldmVsICE9PSAndW5kZWZpbmVkJyAmJiBjbHVzdGVyTGV2ZWwgPiAwKSB7XG4gICAgICAgICAgICBjbHVzdGVyT2Zmc2V0ID0gdGhpcy5vcHRpb25zLk1BUktFUl9TVEFDS19QWF9PRkZTRVRfQkFTRSArICh0aGlzLm9wdGlvbnMuTUFSS0VSX1NUQUNLX1BYX09GRlNFVF9QRVJfQ0xVU1RFUl9MRVZFTCAqIGNsdXN0ZXJMZXZlbCk7XG4gICAgICAgIH1cbiAgICAgICAgLy91dGlsLmxvZygnYWRkaW5nIG1hcmtlciBhdCBjb29yZHMgJyArIEpTT04uc3RyaW5naWZ5KGNvb3JkcykpXG4gICAgICAgIFxuICAgICAgICB2YXIgbWFya2VyID0gTC5tYXJrZXIoY29vcmRzLCB7XG4gICAgICAgICAgICBpY29uOiBMLmRpdkljb24oe1xuICAgICAgICAgICAgICAgIGljb25TaXplOiBbbWFya2VySWNvbi5pY29uV2lkdGgsIG1hcmtlckljb24uaWNvbkhlaWdodF0sXG4gICAgICAgICAgICAgICAgaWNvbkFuY2hvcjogW21hcmtlckljb24uaWNvbldpZHRoIC8gMiwgKG1hcmtlckljb24uaWNvbkhlaWdodCAvIChpc1BvaW50ZWRNYXJrZXIgPyAxIDogMikpICsgY2x1c3Rlck9mZnNldF0sXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBtYXJrZXJJY29uLmNsYXNzTmFtZSArIChyZXN1bHQuZ2V0KCdzZWxlY3RlZCcpID8gJyBtYXJrZXItc2VsZWN0ZWQnIDogJycpLFxuLy8gICAgICAgICAgICAgICAgcG9wdXBBbmNob3I6IFsxLCAtMjddLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB6SW5kZXhPZmZzZXQ6IGNsdXN0ZXJMZXZlbCA/ICgxMDAwICsgKDEwMCpjbHVzdGVyTGV2ZWwpKSA6IG51bGwsXG4gICAgICAgICAgICByaXNlT25Ib3ZlcjogZmFsc2VcbiAgICAgICAgfSk7XG5cbiAgICAgICAgXG4gICAgICAgIC8vIGJpbmQgY2xpY2svaG92ZXIgZXZlbnRzIFxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmVuYWJsZVBvcHVwKSB7XG4gICAgICAgICAgICBtYXJrZXIuYmluZFBvcHVwKHBvcHVwVGVtcGxhdGUucmVuZGVyKHtcbiAgICAgICAgICAgICAgICBpbWFnZVVSTDogcmVzdWx0LmdldCgnaW1hZ2VVcmwnKSxcbiAgICAgICAgICAgICAgICB0aXRsZTogcmVzdWx0LmdldCgndGl0bGUnKSxcbiAgICAgICAgICAgICAgICB1cmw6IHJlc3VsdC5nZXQoJ3VybCcpLFxuICAgICAgICAgICAgICAgIGFkZHJlc3M6IHJlc3VsdC5nZXQoJ2FkZHJlc3MnKSxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogcmVzdWx0LmdldCgnZGVzY3JpcHRpb24nKVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9IFxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmVuYWJsZURldGFpbFNlbGVjdGlvbikge1xuICAgICAgICAgICAgbWFya2VyLm9uKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgc2VsZi5BcHAuY29udHJvbFZpZXcub25SZXN1bHRMaW5rQ2xpY2tlZChudWxsLCByZXN1bHQuaWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgbWFya2VyLm9uKCdtb3VzZW92ZXInLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgc2VsZi5BcHAuY29udHJvbFZpZXcuc2V0SG92ZXJlZFJlc3VsdChyZXN1bHQpO1xuICAgICAgICB9KTtcbiAgICAgICAgbWFya2VyLm9uKCdtb3VzZW91dCcsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBzZWxmLkFwcC5jb250cm9sVmlldy5zZXRIb3ZlcmVkUmVzdWx0KG51bGwpO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5rZWVwT3Blbk1hcmtlcnNBZnRlclJlc3VsdENoYW5nZSB8fCAodGhpcy5tYXJrZXJOb3RQb3B1cChtYXJrZXIpICYmIHRoaXMubWFya2VyTm90U3BpZGVyZmllZChtYXJrZXIpKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuY3VycmVudGx5Q2x1c3RlcmluZykge1xuICAgICAgICAgICAgICAgIHRoaXMuY2x1c3RlcmVkTWFya2Vycy5hZGRMYXllcihtYXJrZXIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtYXJrZXIuYWRkVG8odGhpcy5sZWFmbGV0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubWFya2Vyc1tyZXN1bHQuaWRdID0gbWFya2VyO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBcbiAgICBtYXJrZXJDaGFuZ2VIb3ZlcmVkOiBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgaWYgKHJlc3VsdC5pZCBpbiB0aGlzLm1hcmtlcnMpIHtcbiAgICAgICAgICAgIHZhciBtYXJrZXIgPSB0aGlzLm1hcmtlcnNbcmVzdWx0LmlkXTtcbiAgICAgICAgICAgICQobWFya2VyLl9pY29uKS50b2dnbGVDbGFzcygnbWFya2VyLWhvdmVyZWQnLCByZXN1bHQuZ2V0KCdob3ZlcmVkJykpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBcblxuICAgIG1hcmtlckNoYW5nZVNlbGVjdGVkOiBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgaWYgKHJlc3VsdC5pZCBpbiB0aGlzLm1hcmtlcnMpIHtcbiAgICAgICAgICAgIHZhciBtYXJrZXIgPSB0aGlzLm1hcmtlcnNbcmVzdWx0LmlkXTtcbiAgICAgICAgICAgICQobWFya2VyLl9pY29uKS50b2dnbGVDbGFzcygnbWFya2VyLXNlbGVjdGVkJywgcmVzdWx0LmdldCgnc2VsZWN0ZWQnKSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIFxuICAgIC8qKlxuICAgICAqIE9uIG1hcmtlciB1cGRhdGUuIFRoaXMgaGFwcGVucyBleHRyZW1lbHkgaW5mcmVxdWVudGx5LCBhcyBvbiBuZXcgc2VhcmNoZXMgdGhlIHdob2xlXG4gICAgICogcmVzdWx0IGNvbGxlY3Rpb25zIGdldHMgZXhjaGFuZ2VkICh3aGljaCB0cmlnZ2VycyBgbWFya2Vyc1Jlc2V0KClgKVxuICAgICAqL1xuICAgIG1hcmtlclVwZGF0ZTogZnVuY3Rpb24ocmVzdWx0LCB3aGF0KSB7XG4gICAgICAgIC8vIGRvbid0IHVzZSB0aGlzIHRyaWdnZXIgd2hlbiBvbmx5IGhvdmVyZWQvc2VsZWN0ZWQgc3RhdGUgd2FzIGNoYW5nZWQhIC0gdGhleSBoYXZlIHRoZWlyIG93biBoYW5kbGVyc1xuICAgICAgICB2YXIgYXR0cnMgPSByZXN1bHQuY2hhbmdlZEF0dHJpYnV0ZXMoKTtcbiAgICAgICAgaWYgKGF0dHJzICYmICgnc2VsZWN0ZWQnIGluIGF0dHJzIHx8ICdob3ZlcmVkJyBpbiBhdHRycykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB1dGlsLmxvZygnbWFwLXZpZXcuanM6IFRPRE86IGFjdHVhbGx5ICp1cGRhdGUqIHRoZSBtYXJrZXIgYW5kIGRvbnQganVzdCByZW1vdmUvYWRkIGl0IScpXG4gICAgICAgIGlmICghcmVzdWx0LnNlbGVjdGVkKSB7XG4gICAgICAgICAgICB0aGlzLm1hcmtlclJlbW92ZShyZXN1bHQpO1xuICAgICAgICAgICAgdGhpcy5tYXJrZXJBZGQocmVzdWx0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHV0aWwubG9nKCdtYXAtdmlldy5qczogVE9ETzo6IHdhcyBvcmRlcmVkIHRvIHJlbW92ZSBhIG1hcmtlciB0aGF0IGlzIGN1cnJlbnRseSBzZWxlY3RlZC4gTk9UIERPSU5HIEFOWVRISU5HIFJOIScpXG4gICAgICAgIH1cbiAgICB9LFxuICAgIFxuICAgIC8qKiBSZW1vdmUgYSBsZWFmbGV0IG1hcmtlciBmcm9tIHRoZSBtYXAuIFxuICAgICAqICBBY3RzIGFzIGhhbmRsZXIgZm9yIG1vZGVsIFJlc3VsdCByZW1vdmFsIGZyb20gc2VsZi5jb2xsZWN0aW9uICovXG4gICAgbWFya2VyUmVtb3ZlOiBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgaWYgKHJlc3VsdC5pZCBpbiB0aGlzLm1hcmtlcnMpIHtcbiAgICAgICAgICAgIHZhciBtYXJrZXIgPSB0aGlzLm1hcmtlcnNbcmVzdWx0LmlkXTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuY3VycmVudGx5Q2x1c3RlcmluZykge1xuICAgICAgICAgICAgICAgIHRoaXMuY2x1c3RlcmVkTWFya2Vycy5yZW1vdmVMYXllcihtYXJrZXIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxlYWZsZXQucmVtb3ZlTGF5ZXIobWFya2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLm1hcmtlcnNbcmVzdWx0LmlkXTtcbiAgICAgICAgICAgIC8vdXRpbC5sb2coJ1JlbW92ZWQgbWFya2VyIGF0ICcgKyByZXN1bHQuZ2V0KCdsYXQnKSArICcsICcgKyByZXN1bHQuZ2V0KCdsb24nKSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIFxuICAgIC8qKiBIYW5kbGVyIGZvciB3aGVuIHRoZSBlbnRpcmUgY29sbGVjdGlvbiBjaGFuZ2VzICovXG4gICAgbWFya2Vyc1Jlc2V0OiBmdW5jdGlvbihyZXN1bHRDb2xsZWN0aW9uLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgXy5lYWNoKG9wdGlvbnMucHJldmlvdXNNb2RlbHMsIGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgICAgICAgICBzZWxmLm1hcmtlclJlbW92ZShyZXN1bHQpO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDbHVzdGVyIHJlc3VsdHMgYnkgbWF4aW11bSByYWRpdXNcbiAgICAgICAgICogW1xuICAgICAgICAgKiAgICAgICAgeyAvLyBjbHVzdGVyXG4gICAgICAgICAqICAgICAgICAgICAgbG9jOiB7bGF0OiAwLCBsb246IDB9LFxuICAgICAgICAgKiAgICAgICAgIGl0ZW1zOiBbIDxyZXN1bHQ+LCAuLi5dXG4gICAgICAgICAqICAgICAgICB9LFxuICAgICAgICAgKiAgICAgICAgLi4uXG4gICAgICAgICAqIF1cbiAgICAgICAgICovXG4gICAgICAgIFxuICAgICAgICB2YXIgY2x1c3RlcnMgPSBbXTtcbiAgICAgICAgLy9fLmVhY2gocmVzdWx0Q29sbGVjdGlvbi5tb2RlbHMsIGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgICAgIGZvciAodmFyIGk9MDsgaSA8IHJlc3VsdENvbGxlY3Rpb24ubW9kZWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gcmVzdWx0Q29sbGVjdGlvbi5tb2RlbHNbaV07XG4gICAgICAgICAgICBpZiAoIXJlc3VsdC5nZXQoJ2xhdCcpIHx8ICFyZXN1bHQuZ2V0KCdsb24nKSkge1xuICAgICAgICAgICAgICAgIC8vIHJlc3VsdHMgd2l0aG91dCBsb2NhdGlvbnMgYXJlIGlnbm9yZWRcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy9fLmVhY2gocmVzdWx0Q29sbGVjdGlvbi5tb2RlbHMsIGZ1bmN0aW9uKGNsdXN0ZXIpe1xuICAgICAgICAgICAgZm9yICh2YXIgaj0wOyBqIDwgY2x1c3RlcnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgY2x1c3RlciA9IGNsdXN0ZXJzW2pdO1xuICAgICAgICAgICAgICAgIC8vIGNhbGN1bGF0ZSBkaXN0YW5jZSBmcm9tIHRoaXMgcmVzdWx0IHRvIGVhY2ggY2x1c3RlclxuICAgICAgICAgICAgICAgIHZhciBkaXN0eCA9IE1hdGguYWJzKGNsdXN0ZXJbJ2xvYyddWydsb24nXSAtIHJlc3VsdC5nZXQoJ2xvbicpKTtcbiAgICAgICAgICAgICAgICB2YXIgZGlzdHkgPSBNYXRoLmFicyhjbHVzdGVyWydsb2MnXVsnbGF0J10gLSByZXN1bHQuZ2V0KCdsYXQnKSk7XG4gICAgICAgICAgICAgICAgaWYgKGRpc3R4IDwgc2VsZi5vcHRpb25zLnJlc3VsdE1hcmtlckNsdXN0ZXJEaXN0YW5jZVsneCddICYmIGRpc3R5IDwgc2VsZi5vcHRpb25zLnJlc3VsdE1hcmtlckNsdXN0ZXJEaXN0YW5jZVsneSddKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlc3VsdCBsaWVzIHdpdGhpbiByYWRpdXMgb2YgY2x1c3RlclxuICAgICAgICAgICAgICAgICAgICBjbHVzdGVyWydpdGVtcyddLnB1c2gocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfSBcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyByZXN1bHQgZGlkbid0IGxpZSB3aXRoaW4gcmFkaXVzIG9mIGNsdXN0ZXIsIG1ha2UgYSBuZXcgb25lXG4gICAgICAgICAgICBpZiAocmVzdWx0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjbHVzdGVycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbG9jOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXQ6IHJlc3VsdC5nZXQoJ2xhdCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbG9uOiByZXN1bHQuZ2V0KCdsb24nKVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBpdGVtczogW3Jlc3VsdF1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIC8vIHJlbW92ZSBhbGwgc2luZ2xlLXJlc3VsdCBjbHVzdGVycyBhbmQgYWRkIHRoZWlyIHJlc3VsdHMgaW50byBhIHNpbmdsZSBsaXN0XG4gICAgICAgIHZhciBzaW5nbGVSZXN1bHRzID0gW107XG4gICAgICAgIGZvciAodmFyIGs9Y2x1c3RlcnMubGVuZ3RoLTE7IGsgPj0gMDsgay0tKSB7XG4gICAgICAgICAgICB2YXIgY2x1c3RlciA9IGNsdXN0ZXJzW2tdO1xuICAgICAgICAgICAgaWYgKGNsdXN0ZXJbJ2l0ZW1zJ10ubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgICAgICBzaW5nbGVSZXN1bHRzLnB1c2goY2x1c3RlclsnaXRlbXMnXVswXSk7XG4gICAgICAgICAgICAgICAgY2x1c3RlcnMuc3BsaWNlKGssIDEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBzb3J0IHRoZSBpdGVtcyBpbnNpZGUgYSBjbHVzdGVyLCBtb3N0IGltcG9ydGFudCBsYXN0IChoaWdoZXN0IGluIHN0YWNrKVxuICAgICAgICAgICAgICAgIGNsdXN0ZXJbJ2l0ZW1zJ10uc29ydChmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhLmdldCgncmVsZXZhbmNlJykgLSBiLmdldCgncmVsZXZhbmNlJyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIGFsbCBjbHVzdGVyIGJhc2VzIGFyZSBsYXJnZSBtYXJrZXJzXG4gICAgICAgIHZhciByZW1haW5pbmdMYXJnZU1hcmtlcnMgPSBzZWxmLm9wdGlvbnMuTUFSS0VSX05VTUJFUl9PRl9MQVJHRV9NQVJLRVJTO1xuICAgICAgICBmb3IgKHZhciBpPTA7IGkgPCBjbHVzdGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNsdXN0ZXIgPSBjbHVzdGVyc1tpXTtcbiAgICAgICAgICAgIC8vIGZvciBlYWNoIGNsdXN0ZXIsIGFkZCBhbGwgcmVzdWx0cyBpbiBhIHN0YWNraW5nIG9mZnNldFxuICAgICAgICAgICAgZm9yICh2YXIgaj1jbHVzdGVyWydpdGVtcyddLmxlbmd0aC0xOyBqID49IDA7IGotLSkge1xuICAgICAgICAgICAgICAgIHZhciBpdGVtID0gY2x1c3RlclsnaXRlbXMnXVtqXTtcbiAgICAgICAgICAgICAgICBzZWxmLm1hcmtlckFkZChpdGVtLCBmYWxzZSwgaiwgY2x1c3RlclsnbG9jJ10pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVtYWluaW5nTGFyZ2VNYXJrZXJzIC09IDE7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIHNvcnQgKGJ5IHJlbGV2YW5jZSkgYW5kIGFkZCB0aGUgcmVzdWx0cyB0aGF0IGFyZW4ndCBpbiBhIGNsdXN0ZXJcbiAgICAgICAgc2luZ2xlUmVzdWx0cy5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiBiLmdldCgncmVsZXZhbmNlJykgLSBhLmdldCgncmVsZXZhbmNlJyk7XG4gICAgICAgIH0pO1xuICAgICAgICBfLmVhY2goc2luZ2xlUmVzdWx0cywgZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAgICAgICAgIGlmIChyZW1haW5pbmdMYXJnZU1hcmtlcnMgPiAwKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5tYXJrZXJBZGQocmVzdWx0LCB0cnVlKTtcbiAgICAgICAgICAgICAgICByZW1haW5pbmdMYXJnZU1hcmtlcnMgLT0gMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2VsZi5tYXJrZXJBZGQocmVzdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBcbiAgICAvKiogQWN0aXZhdGVzIHRoZSBNYXAtTWFya2VyLVBsYWNlIG1vZGUgd2hlcmUgYSBkcmFnZ2FibGUgbWFya2VyIGlzIHNob3duXG4gICAgICogaW4gdGhlIGNlbnRlciBvZiB0aGUgbWFwIGFuZCBhbGwgb3RoZXIgbWFya2VycyBhcmUgaGlkZGVuLiAqL1xuICAgIGFjdGl2YXRlRHJhZ2dhYmxlTWFya2VyOiBmdW5jdGlvbiAocmVzdWx0VHlwZSkge1xuICAgIFx0dmFyIHNlbGYgPSB0aGlzO1xuICAgIFx0Ly8gaGlkZSBhbGwgb3RoZXIgbWFya2Vyc1xuICAgIFx0JCgnLmxlYWZsZXQtbWFya2VyLXBhbmUnKS5hZGRDbGFzcygnbWFya2VyLXBsYWNlLW1vZGUnKTtcbiAgICBcdHZhciB3aWR0aCA9IHRoaXMub3B0aW9ucy5yZXN1bHRNYXJrZXJTaXplc1snd2lkdGhMYXJnZSddO1xuICAgIFx0dmFyIGhlaWdodCA9IHRoaXMub3B0aW9ucy5yZXN1bHRNYXJrZXJTaXplc1snaGVpZ2h0TGFyZ2UnXVxuICAgIFx0XG4gICAgXHR0aGlzLmRyYWdnYWJsZU1hcmtlciA9IEwubWFya2VyKHRoaXMubGVhZmxldC5nZXRDZW50ZXIoKSwge1xuICAgICAgICAgICAgaWNvbjogTC5kaXZJY29uKHtcbiAgICAgICAgICAgICAgICBpY29uU2l6ZTogW3dpZHRoLCB0aGlzLm9wdGlvbnMucmVzdWx0TWFya2VyU2l6ZXNbJ2hlaWdodExhcmdlJ11dLFxuICAgICAgICAgICAgICAgIGljb25BbmNob3I6IFt3aWR0aCAvIDIsIGhlaWdodF0sXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnZHJhZ2dhYmxlLXBsYWNlbWFyayBwbGFjZW1hcmsgbCBpY29uICcgKyByZXN1bHRUeXBlLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICByaXNlT25Ib3ZlcjogZmFsc2UsXG4gICAgICAgICAgICBkcmFnZ2FibGU6IHRydWUsXG4gICAgICAgICAgICBrZXlib2FyZDogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgXHR0aGlzLmRyYWdnYWJsZU1hcmtlci5vbihcImRyYWdlbmRcIiwgZnVuY3Rpb24oZSkge1xuICAgIFx0ICAgIHZhciBtYXJrZXIgPSBlLnRhcmdldDtcbiAgICBcdCAgICBzZWxmLmxlYWZsZXQucGFuVG8obWFya2VyLmdldExhdExuZygpKTtcbiAgICBcdH0pO1xuICAgIFx0dGhpcy5kcmFnZ2FibGVNYXJrZXIuYWRkVG8odGhpcy5sZWFmbGV0KTtcbiAgICB9LFxuICAgIFxuICAgIC8qKiBEZWFjdGl2YXRlcyB0aGUgTWFwLU1hcmtlci1QbGFjZSBtb2RlLiAqL1xuICAgIGRlYWN0aXZhdGVEcmFnZ2FibGVNYXJrZXI6IGZ1bmN0aW9uICgpIHtcbiAgICBcdHRoaXMubGVhZmxldC5yZW1vdmVMYXllcih0aGlzLmRyYWdnYWJsZU1hcmtlcik7XG4gICAgXHR0aGlzLmRyYWdnYWJsZU1hcmtlciA9IG51bGw7XG4gICAgXHQvLyBzaG93IG90aGVyIG1hcmtlcnMgYWdhaW5cbiAgICBcdCQoJy5sZWFmbGV0LW1hcmtlci1wYW5lJykucmVtb3ZlQ2xhc3MoJ21hcmtlci1wbGFjZS1tb2RlJyk7XG4gICAgfSxcbiAgICBcbiAgICAvKiogSWYgdGhlIE1hcC1NYXJrZXItUGxhY2UgbW9kZSBpcyBhY3RpdmUsIHJldHVybiB0aGUgTGF0TG5nIG9iamVjdCBvZlxuICAgICAqICB0aGUgZHJhZ2dhYmxlIG1hcmtlciwgZWxzZSByZXR1cm4gbnVsbC4gKi9cbiAgICBnZXREcmFnZ2FibGVNYXJrZXJMYXRMbmc6IGZ1bmN0aW9uICgpIHtcbiAgICBcdGlmICh0aGlzLmRyYWdnYWJsZU1hcmtlcikge1xuICAgIFx0XHRyZXR1cm4gdGhpcy5kcmFnZ2FibGVNYXJrZXIuZ2V0TGF0TG5nKCk7XG4gICAgXHR9IGVsc2Uge1xuICAgIFx0XHRyZXR1cm4gbnVsbDtcbiAgICBcdH1cbiAgICB9LFxuICAgIFxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIGV4cGFuZCBidXR0b24gaXMgY2xpY2tlZCBmb3IgZXhwYW5kaW5nIG9yIGNvbnRyYWN0aW5nXG4gICAgICogdGhlIG1hcCAoc3BsaXRzY3JlZW4gdnMgbWF4aW1pemVkKS5cbiAgICAgKi9cbiAgICBvbkV4cGFuZEJ1dHRvbkNsaWNrZWQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIFx0dGhpcy5BcHAuY29udHJvbFZpZXcuc3dpdGNoRGlzcGxheVN0YXRlKHRydWUsICF0aGlzLm9wdGlvbnMuc3BsaXRzY3JlZW4pO1xuICAgIH0sXG4gICAgXG4gICAgXG4gICAgLyoqIFNob3dzIGFuZCByZWxvYWRzIHRoZSBtYXAgd2l0aCBjdXJyZW50IHNldHRpbmdzICovXG4gICAgcmVsb2FkOiBmdW5jdGlvbiAoKSB7XG4gICAgXHR1dGlsLmxvZygnKioqIFJlbG9hZGluZyBNYXAgVmlldyAqKionKVxuICAgICAgICB0aGlzLiRlbC50b2dnbGVDbGFzcygnbWFwLXNwbGl0c2NyZWVuJywgdGhpcy5vcHRpb25zLnNwbGl0c2NyZWVuKTtcbiAgICBcdHRoaXMuJGVsLnNob3coKTtcbiAgICAgICAgQmFja2JvbmUubWVkaWF0b3IucHVibGlzaCgncmVzaXplOndpbmRvdycpO1xuICAgIH0sXG4gICAgXG4gICAgLyoqIEhpZGVzIHRoZSBtYXAgKi9cbiAgICBoaWRlOiBmdW5jdGlvbiAoKSB7XG4gICAgXHR1dGlsLmxvZygnKioqIEhpZGluZyBNYXAgVmlldyAqKionKVxuICAgIFx0dGhpcy4kZWwuaGlkZSgpO1xuICAgIH0sXG5cbiAgICAvLyBQcml2YXRlXG4gICAgLy8gLS0tLS0tLVxuXG4gICAgcmVuZGVyTWFwOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgXG4gICAgICAgIHV0aWwubG9nKCcrKysrKysgbWFwLXZpZXcuanMgcmVuZGVyTWFwIGNhbGxlZCEgVGhpcyBzaG91bGQgb25seSBoYXBwZW4gb25jZSBhdCBpbml0ISArKysrKysrKysrKysrKysrKysrJylcbiAgICAgICAgXG4gICAgICAgIHZhciBvcHRpb25zID0ge307XG4gICAgICAgIGlmIChzZWxmLnN0YXRlLm1vYmlsZVNhZmVJbnRlcmFjdGlvbnMpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgc2Nyb2xsV2hlZWxab29tOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAvLyBkcmFnZ2luZzogZmFsc2UsIC8vIHRoaXMgb25seSBkaXNhYmxlcyB0aGUgYWN0dWFsIGRyYWdnaW5nLCBidXQgbm90IHRoZSBoYW5kbGVycywgc28gc2Nyb2xsaW5nIG9uIG1vYmlsZSBpcyBzdGlsbCBub3QgcG9zc2libGUgZXZlbiB3aXRoIHRoaXMgc2V0IHRvIGZhbHNlXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGVhZmxldCA9IEwubWFwKCdtYXAtY29udGFpbmVyJywgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuc2V0TGF5ZXIodGhpcy5vcHRpb25zLmxheWVyKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChzZWxmLmdlb1JlZ2lvblVybCkge1xuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXG4gICAgICAgICAgICAgICAgdXJsOiBzZWxmLmdlb1JlZ2lvblVybCxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHN0eWxlIHNlZSBodHRwczovL2xlYWZsZXRqcy5jb20vcmVmZXJlbmNlLTEuMy4wLmh0bWwjcGF0aC1vcHRpb25cbiAgICAgICAgICAgICAgICAgICAgdmFyIGRpc3RyaWN0X2JvdW5kYXJ5ID0gbmV3IEwuZ2VvSnNvbihudWxsLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXRpbC5pZnVuZGVmKENPU0lOTlVTX01BUF9PUFRJT05TLmdlb2pzb25fc3R5bGUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdlaWdodDogMC41LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC4wMzUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBkaXN0cmljdF9ib3VuZGFyeS5hZGRUbyhzZWxmLmxlYWZsZXQpO1xuICAgICAgICAgICAgICAgICAgICAkKGRhdGEuZmVhdHVyZXMpLmVhY2goZnVuY3Rpb24oa2V5LCBkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXN0cmljdF9ib3VuZGFyeS5hZGREYXRhKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KS5lcnJvcihmdW5jdGlvbigpIHt9KTtcbiAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5jbHVzdGVyaW5nRW5hYmxlZCkge1xuICAgICAgICAgICAgLy8gU2V0dXAgdGhlIGNsdXN0ZXIgbGF5ZXJcbiAgICAgICAgICAgIHRoaXMuY2x1c3RlcmVkTWFya2VycyA9IEwubWFya2VyQ2x1c3Rlckdyb3VwKHtcbiAgICAgICAgICAgICAgICBtYXhDbHVzdGVyUmFkaXVzOiB0aGlzLm9wdGlvbnMubWF4Q2x1c3RlclJhZGl1c1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmNsdXN0ZXJlZE1hcmtlcnMub24oJ3NwaWRlcmZpZWQnLCB0aGlzLmhhbmRsZVNwaWRlcmZpZWQsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5sZWFmbGV0LmFkZExheWVyKHRoaXMuY2x1c3RlcmVkTWFya2Vycyk7XG4gICAgICAgICAgICB0aGlzLnNldENsdXN0ZXJTdGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBpZiBhbiBpbml0aWFsIGxvY2F0aW9uIHdhcyBkZWZpbmVkLCBzZXQgdGhhdCBsb2NhdGlvbiBhbmQgem9vbSBhcyBpbml0aWFsIHZpZXdwb3J0XG4gICAgICAgIC8vIG90aGVyd2lzZSwgdXNlIGZpdEJvdW5kcyB0byBhZGp1c3QgdGhlIHZpZXdwb3J0IHRvIHRoZSBvbmUgXG4gICAgICAgIC8vIGRlZmluZWQgaW4gYHN0YXRlYCB3aXRoIGBDT1NJTk5VU19NQVBfT1BUSU9OUy5kZWZhdWx0X2Nvb3JkaW5hdGVzLm5lX2xhdGBcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5sb2NhdGlvbiAmJiB0aGlzLm9wdGlvbnMubG9jYXRpb24ubGVuZ3RoID09IDIpIHtcbiAgICAgICAgXHR0aGlzLmxlYWZsZXQuc2V0Vmlldyh0aGlzLm9wdGlvbnMubG9jYXRpb24sIHRoaXMub3B0aW9ucy56b29tKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgXHR0aGlzLmZpdEJvdW5kcygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlQ2x1c3RlckRpc3RhbmNlcygpO1xuXG4gICAgICAgIHRoaXMubGVhZmxldC5vbignem9vbWVuZCcsIHRoaXMuaGFuZGxlVmlld3BvcnRDaGFuZ2UsIHRoaXMpO1xuICAgICAgICB0aGlzLmxlYWZsZXQub24oJ2RyYWdlbmQnLCB0aGlzLmhhbmRsZVZpZXdwb3J0Q2hhbmdlLCB0aGlzKTtcbiAgICAgICAgdGhpcy5sZWFmbGV0Lm9uKCdwb3B1cG9wZW4nLCB0aGlzLmhhbmRsZVBvcHVwLCB0aGlzKTtcbiAgICAgICAgdGhpcy5sZWFmbGV0Lm9uKCdwb3B1cGNsb3NlJywgdGhpcy5oYW5kbGVQb3B1cCwgdGhpcyk7XG4gICAgICAgIFxuICAgICAgICAvLyBkaXNhYmxlIGRyYWcgZHJvcHBpbmcgaW5zaWRlIG1hcCBjb250cm9sc1xuICAgICAgICB2YXIgZGl2ID0gdGhpcy4kZWwuZmluZCgnLm1hcC1jb250cm9scycpWzBdO1xuICAgICAgICBpZiAoZGl2KSB7XG4gICAgICAgICAgICBpZiAoIUwuQnJvd3Nlci50b3VjaCkge1xuICAgICAgICAgICAgICAgIEwuRG9tRXZlbnQuZGlzYWJsZUNsaWNrUHJvcGFnYXRpb24oZGl2KTtcbiAgICAgICAgICAgICAgICBMLkRvbUV2ZW50Lm9uKGRpdiwgJ21vdXNld2hlZWwnLCBMLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIEwuRG9tRXZlbnQub24oZGl2LCAnY2xpY2snLCBMLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRoaXMudXBkYXRlQm91bmRzKCk7XG4gICAgfSxcblxuICAgIHNldExheWVyOiBmdW5jdGlvbiAobGF5ZXIpIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5jdXJyZW50TGF5ZXIgJiYgdGhpcy5sZWFmbGV0LnJlbW92ZUxheWVyKHRoaXMuc3RhdGUuY3VycmVudExheWVyKTtcbiAgICAgICAgaWYgKENPU0lOTlVTX01BUF9VU0VfTU9ERVJOX1RJTEVTRVQgPT0gdHJ1ZSl7XG4gICAgICAgICAgICB2YXIgb3B0aW9ucyA9IF8odGhpcy5sYXllcnNNb2Rlcm5UaWxlc2V0W2xheWVyXS5vcHRpb25zKS5leHRlbmQoe1xuICAgICAgICAgICAgICAgIG1heFpvb206IDE1LFxuICAgICAgICAgICAgICAgIG1pblpvb206M1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmN1cnJlbnRMYXllciA9IEwudGlsZUxheWVyKHRoaXMubGF5ZXJzTW9kZXJuVGlsZXNldFtsYXllcl0udXJsLCBvcHRpb25zKVxuICAgICAgICAgICAgICAgIC5hZGRUbyh0aGlzLmxlYWZsZXQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSBfKHRoaXMubGF5ZXJzW2xheWVyXS5vcHRpb25zKS5leHRlbmQoe1xuICAgICAgICAgICAgICAgIG1heFpvb206IDE1LFxuICAgICAgICAgICAgICAgIG1pblpvb206M1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmN1cnJlbnRMYXllciA9IEwudGlsZUxheWVyKHRoaXMubGF5ZXJzW2xheWVyXS51cmwsIG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgLmFkZFRvKHRoaXMubGVhZmxldCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgdXBkYXRlQm91bmRzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBib3VuZHMgPSB0aGlzLmxlYWZsZXQuZ2V0Qm91bmRzKClcbiAgICAgICAgdmFyIHBhZGRlZEJvdW5kcyA9IGJvdW5kcy5wYWQodGhpcy5vcHRpb25zLmxhdExuZ0J1ZmZlcik7XG4gICAgICAgIF8uZXh0ZW5kKHRoaXMuc3RhdGUsIHtcbiAgICAgICAgICAgIHNvdXRoOiBMLlV0aWwuZm9ybWF0TnVtKGJvdW5kcy5nZXRTb3V0aCgpLCB0aGlzLm9wdGlvbnMubGF0TG5nUm91bmRUb0RlY2ltYWxzKSxcbiAgICAgICAgICAgIHBhZGRlZFNvdXRoOiBMLlV0aWwuZm9ybWF0TnVtKHBhZGRlZEJvdW5kcy5nZXRTb3V0aCgpLCB0aGlzLm9wdGlvbnMubGF0TG5nUm91bmRUb0RlY2ltYWxzKSxcbiAgICAgICAgICAgIHdlc3Q6IEwuVXRpbC5mb3JtYXROdW0oYm91bmRzLmdldFdlc3QoKSwgdGhpcy5vcHRpb25zLmxhdExuZ1JvdW5kVG9EZWNpbWFscyksXG4gICAgICAgICAgICBwYWRkZWRXZXN0OiBMLlV0aWwuZm9ybWF0TnVtKHBhZGRlZEJvdW5kcy5nZXRXZXN0KCksIHRoaXMub3B0aW9ucy5sYXRMbmdSb3VuZFRvRGVjaW1hbHMpLFxuICAgICAgICAgICAgbm9ydGg6IEwuVXRpbC5mb3JtYXROdW0oYm91bmRzLmdldE5vcnRoKCksIHRoaXMub3B0aW9ucy5sYXRMbmdSb3VuZFRvRGVjaW1hbHMpLFxuICAgICAgICAgICAgcGFkZGVkTm9ydGg6IEwuVXRpbC5mb3JtYXROdW0ocGFkZGVkQm91bmRzLmdldE5vcnRoKCksIHRoaXMub3B0aW9ucy5sYXRMbmdSb3VuZFRvRGVjaW1hbHMpLFxuICAgICAgICAgICAgZWFzdDogTC5VdGlsLmZvcm1hdE51bShib3VuZHMuZ2V0RWFzdCgpLCB0aGlzLm9wdGlvbnMubGF0TG5nUm91bmRUb0RlY2ltYWxzKSxcbiAgICAgICAgICAgIHBhZGRlZEVhc3Q6IEwuVXRpbC5mb3JtYXROdW0ocGFkZGVkQm91bmRzLmdldEVhc3QoKSwgdGhpcy5vcHRpb25zLmxhdExuZ1JvdW5kVG9EZWNpbWFscylcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3RhdGUuem9vbSA9IHRoaXMubGVhZmxldC5fem9vbTtcbiAgICB9LFxuXG4gICAgc2V0Q2x1c3RlclN0YXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuY2x1c3RlcmluZ0VuYWJsZWQpIHtcbiAgICAgICAgICAgIC8vIFNldCBjbHVzdGVyaW5nIHN0YXRlOiBjbHVzdGVyIG9ubHkgd2hlbiB6b29tZWQgaW4gZW5vdWdoLlxuICAgICAgICAgICAgdmFyIHpvb20gPSB0aGlzLmxlYWZsZXQuZ2V0Wm9vbSgpO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5jdXJyZW50bHlDbHVzdGVyaW5nID0gem9vbSA+IHRoaXMub3B0aW9ucy5jbHVzdGVyWm9vbVRocmVzaG9sZDtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgXG4gICAgLyoqIEdldHMgYSBkaWN0IG9mIHtpY29uVXJsOiA8c3RyPiwgaWNvbldpZHRoOiA8aW50PiwgaWNvbkhlaWdodDogPGludD59XG4gICAgICogIGZvciBhIGdpdmVuIHR5cGUgY29ycmVzcG9uZGluZyB0byBtb2RlbCBSZXN1bHQudHlwZS4gKi9cbiAgICBnZXRNYXJrZXJJY29uRm9yVHlwZTogZnVuY3Rpb24ocmVzdWx0VHlwZSwgaXNMYXJnZU1hcmtlciwgaXNTdGFja2VkTWFya2VyLCBpc0Jhc2VNYXJrZXIpIHtcbiAgICAgICAgdmFyIG1hcmtlckljb247XG4gICAgICAgIHZhciBzdWZmaXggPSAnJztcbiAgICAgICAgdmFyIGNsYXNzTmFtZSA9ICdwbGFjZW1hcmsnO1xuICAgICAgICBcbiAgICAgICAgaWYgKGlzQmFzZU1hcmtlcikge1xuICAgICAgICAgICAgc3VmZml4ID0gJ0Jhc2UnO1xuICAgICAgICAgICAgY2xhc3NOYW1lICs9ICcgbCc7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNTdGFja2VkTWFya2VyKSB7XG4gICAgICAgICAgICBzdWZmaXggPSAnU3RhY2tlZCc7XG4gICAgICAgICAgICBjbGFzc05hbWUgKz0gJyBtJztcbiAgICAgICAgfSBlbHNlIGlmIChpc0xhcmdlTWFya2VyKSB7XG4gICAgICAgICAgICBzdWZmaXggPSAnTGFyZ2UnO1xuICAgICAgICAgICAgY2xhc3NOYW1lICs9ICcgbCBpY29uJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZSArPSAnIHMnO1xuICAgICAgICB9XG4gICAgICAgIC8vIHR5cGUgb2YgdGhlIG1hcmtlclxuICAgICAgICBjbGFzc05hbWUgKz0gJyAnICsgcmVzdWx0VHlwZTtcbiAgICAgICAgXG4gICAgICAgIG1hcmtlckljb24gPSB7XG4gICAgICAgICAgICBpY29uV2lkdGg6IHRoaXMub3B0aW9ucy5yZXN1bHRNYXJrZXJTaXplc1snd2lkdGgnICsgc3VmZml4XSxcbiAgICAgICAgICAgIGljb25IZWlnaHQ6IHRoaXMub3B0aW9ucy5yZXN1bHRNYXJrZXJTaXplc1snaGVpZ2h0JyArIHN1ZmZpeF0sXG4gICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gbWFya2VySWNvbjtcbiAgICB9LFxuXG4gICAgbWFya2VyTm90UG9wdXA6IGZ1bmN0aW9uIChtYXJrZXIpIHtcbiAgICAgICAgdmFyIHAgPSB0aGlzLnBvcHVwO1xuICAgICAgICByZXR1cm4gIXAgfHwgIV8ocC5nZXRMYXRMbmcoKSkuaXNFcXVhbChtYXJrZXIuZ2V0TGF0TG5nKCkpO1xuICAgIH0sXG5cbiAgICBtYXJrZXJOb3RTcGlkZXJmaWVkOiBmdW5jdGlvbiAobWFya2VyKSB7XG4gICAgICAgIHZhciBzID0gdGhpcy5zdGF0ZS5jdXJyZW50U3BpZGVyZmllZDtcbiAgICAgICAgdmFyIHJldCA9ICFzIHx8ICFfKHMuZ2V0QWxsQ2hpbGRNYXJrZXJzKCkpLmZpbmQoZnVuY3Rpb24gKG0pIHtcbiAgICAgICAgICAgIHJldHVybiBfKG0uZ2V0TGF0TG5nKCkpLmlzRXF1YWwobWFya2VyLmdldExhdExuZygpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfSxcblxuICAgIC8vIEV2ZW50IEhhbmRsZXJzXG4gICAgLy8gLS0tLS0tLS0tLS0tLS1cblxuICAgIC8vIFJlbmRlciB0aGUgc2VhcmNoIHJlc3VsdHMgYXMgbWFya2VycyBvbiB0aGUgbWFwLlxuICAgIC8vIFRPRE86IHJlbW92ZSEgZGVwcmVjYXRlZCBhbmQgdW51c2VkLlxuICAgIC8qXG4gICAgdXBkYXRlTWFya2VyczogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICByZXN1bHRzID0gc2VsZi5tb2RlbC5nZXQoJ3Jlc3VsdHMnKTtcblxuICAgICAgICAvLyBSZW1vdmUgcHJldmlvdXMgbWFya2VycyBmcm9tIG1hcCBiYXNlZCBvbiBjdXJyZW50IGNsdXN0ZXJpbmcgc3RhdGUuXG4gICAgICAgIGlmIChzZWxmLm1hcmtlcnMpIHtcbiAgICAgICAgICAgIF8oc2VsZi5tYXJrZXJzKS5lYWNoKGZ1bmN0aW9uIChtYXJrZXIpIHtcblxuICAgICAgICAgICAgICAgIGlmICghc2VsZi5vcHRpb25zLmtlZXBPcGVuTWFya2Vyc0FmdGVyUmVzdWx0Q2hhbmdlIHx8IChzZWxmLm1hcmtlck5vdFBvcHVwKG1hcmtlcikgJiYgc2VsZi5tYXJrZXJOb3RTcGlkZXJmaWVkKG1hcmtlcikpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYucmVtb3ZlTWFya2VyKG1hcmtlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLnNldENsdXN0ZXJTdGF0ZSgpO1xuICAgICAgICBzZWxmLm1hcmtlcnMgPSBbXTtcblxuICAgICAgICAvLyBFbnN1cmUgcG9wdXAgYW5kIHNwaWRlcmZpZWQgbWFya2VycyBhcmUgaW4gdGhlIG1hcmtlcnMgYXJyYXk7XG4gICAgICAgIC8vIGV2ZW4gd2hlbiB0aGV5IGFyZW4ndCBpbmNsdWRlZCBpbiB0aGUgbGF0ZXN0IHJlc3VsdHMuXG4gICAgICAgIGlmIChzZWxmLm9wdGlvbnMua2VlcE9wZW5NYXJrZXJzQWZ0ZXJSZXN1bHRDaGFuZ2UpIHtcbiAgICAgICAgICAgIGlmIChzZWxmLnBvcHVwKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5tYXJrZXJzLnB1c2goc2VsZi5wb3B1cC5fc291cmNlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VsZi5zdGF0ZS5jdXJyZW50U3BpZGVyZmllZCkge1xuICAgICAgICAgICAgICAgIF8oc2VsZi5zdGF0ZS5jdXJyZW50U3BpZGVyZmllZC5nZXRBbGxDaGlsZE1hcmtlcnMoKSkuZWFjaChmdW5jdGlvbiAobSkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLm1hcmtlcnMucHVzaChtKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFkZCB0aGUgaW5kaXZpZHVhbCBtYXJrZXJzLlxuICAgICAgICBfKHRoaXMubW9kZWwuYWN0aXZlRmlsdGVyTGlzdCgpKS5lYWNoKGZ1bmN0aW9uIChyZXN1bHRUeXBlKSB7XG4gICAgICAgICAgICBfKHJlc3VsdHNbcmVzdWx0VHlwZV0pLmVhY2goZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHNlbGYuYWRkTWFya2VyKHJlc3VsdCwgcmVzdWx0VHlwZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICAqL1xuXG4gICAgaGFuZGxlVmlld3BvcnRDaGFuZ2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zZXRDbHVzdGVyU3RhdGUoKTtcbiAgICAgICAgdGhpcy51cGRhdGVCb3VuZHMoKTtcbiAgICAgICAgdGhpcy51cGRhdGVDbHVzdGVyRGlzdGFuY2VzKCk7XG4gICAgICAgIEJhY2tib25lLm1lZGlhdG9yLnB1Ymxpc2goJ2FwcDpzdGFsZS1yZXN1bHRzJywge3JlYXNvbjogJ3ZpZXdwb3J0LWNoYW5nZWQnfSk7XG4gICAgfSxcbiAgICBcbiAgICAvKiogUmVjYWxjdWxhdGUgY2x1c3RlcmluZyBkaXN0YW5jZXMgYmFzZWQgb24gY3VycmVudCBtYXAgYXJlYSBhbmQgem9vbSAqL1xuICAgIHVwZGF0ZUNsdXN0ZXJEaXN0YW5jZXM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5zID0gTWF0aC5hYnModGhpcy5zdGF0ZS5zb3V0aCAtIHRoaXMuc3RhdGUubm9ydGgpIC8gdGhpcy4kZWwuaGVpZ2h0KCk7XG4gICAgICAgIHZhciB3ZSA9IE1hdGguYWJzKHRoaXMuc3RhdGUuZWFzdCAtIHRoaXMuc3RhdGUud2VzdCkgLyB0aGlzLiRlbC53aWR0aCgpO1xuICAgICAgICB0aGlzLm9wdGlvbnMucmVzdWx0TWFya2VyQ2x1c3RlckRpc3RhbmNlWyd4J10gPSB3ZSAqIHRoaXMub3B0aW9ucy5yZXN1bHRNYXJrZXJTaXplc1snd2lkdGhMYXJnZSddICogdGhpcy5vcHRpb25zLk1BUktFUl9DTFVTVEVSX1JBRElVU19MSU1JVDtcbiAgICAgICAgdGhpcy5vcHRpb25zLnJlc3VsdE1hcmtlckNsdXN0ZXJEaXN0YW5jZVsneSddID0gbnMgKiB0aGlzLm9wdGlvbnMucmVzdWx0TWFya2VyU2l6ZXNbJ2hlaWdodExhcmdlJ10gKiB0aGlzLm9wdGlvbnMuTUFSS0VSX0NMVVNURVJfUkFESVVTX0xJTUlUO1xuICAgICAgICB0aGlzLm9wdGlvbnMucmVzdWx0TWFya2VyQ2x1c3RlckRpc3RhbmNlWydwZXJab29tJ10gPSAxIC8gKE1hdGgucG93KDIsIHRoaXMubGVhZmxldC5nZXRab29tKCkpKTtcbiAgICB9LFxuXG4gICAgLy8gSGFuZGxlIGNoYW5nZSBib3VuZHMgKGZyb20gVVJMKS5cbiAgICBmaXRCb3VuZHM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMubGVhZmxldCkge1xuICAgICAgICAgICAgdXRpbC5sb2coJ21hcC12aWV3LmpzOiBmaXRCb3VuZHMgY2FsbGVkJylcbiAgICAgICAgICAgIHRoaXMubGVhZmxldC5maXRCb3VuZHMoTC5sYXRMbmdCb3VuZHMoXG4gICAgICAgICAgICAgICAgICAgIEwubGF0TG5nKHRoaXMuc3RhdGUuc291dGgsIHRoaXMuc3RhdGUud2VzdCksXG4gICAgICAgICAgICAgICAgICAgIEwubGF0TG5nKHRoaXMuc3RhdGUubm9ydGgsIHRoaXMuc3RhdGUuZWFzdClcbiAgICAgICAgICAgICkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdXRpbC5sb2coJ21hcC12aWV3LmpzOiBmaXRCb3VuZHMgZml6emxlZCcpXG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgaGFuZGxlUG9wdXA6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ3BvcHVwb3BlbicpIHtcbiAgICAgICAgICAgIHRoaXMucG9wdXAgPSBldmVudC5wb3B1cDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBwb3BMYXRMbmcgPSB0aGlzLnBvcHVwLmdldExhdExuZygpO1xuICAgICAgICAgICAgdmFyIG1hcmtlciA9IGV2ZW50LnBvcHVwLl9zb3VyY2U7XG4gICAgICAgICAgICAvLyBSZW1vdmUgdGhlIHBvcHVwJ3MgbWFya2VyIGlmIGl0J3Mgbm93IG9mZiBzY3JlZW4uXG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgaWYgKCF0aGlzLmxlYWZsZXQuZ2V0Qm91bmRzKCkucGFkKHRoaXMub3B0aW9ucy5sYXRMbmdCdWZmZXIpLmNvbnRhaW5zKHBvcExhdExuZykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZU1hcmtlcihtYXJrZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMucG9wdXAgPSBudWxsO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIGhhbmRsZVNwaWRlcmZpZWQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB0aGlzLnN0YXRlLmN1cnJlbnRTcGlkZXJmaWVkID0gZXZlbnQuY2x1c3RlcjtcbiAgICB9XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29zaW5udXMvY2xpZW50L3ZpZXdzL21hcC12aWV3LmpzXG4vLyBtb2R1bGUgaWQgPSAyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxudmFyIEJhc2VWaWV3ID0gcmVxdWlyZSgndmlld3MvYmFzZS92aWV3Jyk7XG52YXIgdXRpbCA9IHJlcXVpcmUoJ2xpYi91dGlsJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gQmFzZVZpZXcuZXh0ZW5kKHtcbiAgICBcbiAgICAvLyByZWZlcmVuY2UgYmFjayB0byB0aGUgbWFpbiBBcHBcbiAgICBBcHA6IG51bGwsXG4gICAgXG4gICAgLy8gdGhlIHJlc3VsdENvbGxlY3Rpb24gZGF0YSBzb3VyY2UgdGhpcyB2aWV3IG9wZXJhdGVzIG9uLlxuICAgIC8vIG9mdGVuIHRoZSBzYW1lIGNvbGxlY3Rpb24gb3RoZXIgdmlld3MgdXNlIGFzIHdlbGxcbiAgICBjb2xsZWN0aW9uOiBudWxsLFxuXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gKG9wdGlvbnMsIGFwcCwgY29sbGVjdGlvbikge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIEJhc2VWaWV3LnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwoc2VsZiwgb3B0aW9ucyk7XG4gICAgICAgIHNlbGYuQXBwID0gYXBwO1xuICAgICAgICBzZWxmLmNvbGxlY3Rpb24gPSBjb2xsZWN0aW9uO1xuICAgIH0sXG4gICAgXG4gICAgLyoqIENhbGxlZCBhdCB0aGUgZW5kIG9mIGluaXRpYWxpemF0aW9uLlxuICAgICAqIFxuICAgICAqICBQdXJwb3NlIGlzIHRvIGluaXRpYWxpemUgdGhlIGNvbWJpbmVkIHBhcmFtZXRlcnMgZnJvbSBVUkwgYW5kIGluaXRpYWwgQXBwIG9wdGlvbnNcbiAgICAgKiAgaW50byBzZWxmLnN0YXRlID0ge30sIHNvIHRoYXQgdGhleSBhcmUgcmVhZHkgdG8gYmUgYnVpbHQgaW50byBhIHNlYXJjaCBBUEkgVVJMIFxuICAgICAqICB1c2luZyBwYXJhbXMgZnJvbSBlYWNoIENvbnRlbnRDb250cm9sVmlldydzIGBjb250cmlidXRlVG9TZWFyY2hQYXJhbWV0ZXJzKClgIFxuICAgICAqICBcbiAgICAgKiAgKi9cbiAgICBhcHBseVVybFNlYXJjaFBhcmFtZXRlcnM6IGZ1bmN0aW9uKHVybFBhcmFtcykge1xuICAgICAgICAvLyBzdHViLCBleHRlbmQgdGhpcyBpbiB0aGUgaW5oZXJpdGluZyB2aWV3XG4gICAgfSxcbiAgICBcbiAgICAvKiogQWRkIGFsbCByZWxldmFudCBzZWFyY2ggcGFyYW1ldGVycyB0byB0aGUgc2VhcmNoIEFQSSBxdWVyeSBmb3IgeW91ciB2aWV3LlxuICAgICAqICBBbnl0aGluZyBoYXBwZW5pbmcgaW4geW91ciB2aWV3IHRoYXQgYWZmZWN0cyB0aGUgc2VhcmNoIHNob3VsZCBiZSBpbnZvbHZlZCBoZXJlLlxuICAgICAqICBcbiAgICAgKiAgQHBhcmFtIGZvckFQSTogaWYgdHJ1ZSwgY29udGFpbnMgYWxsIHNlYXJjaCBwYXJhbWV0ZXJzLlxuICAgICAqICAgICAgICAgaWYgZmFsc2UsIGNvbnRhaW5zIG9ubHkgdGhlc2UgdGhhdCBzaG91bGQgYmUgdmlzaWJsZSBpbiB0aGUgYnJvd3NlciBVUkwgXG4gICAgICogIEByZXR1cm46IGRpY3Qgb2YgcGFyYW1zIFxuICAgICAqL1xuICAgIGNvbnRyaWJ1dGVUb1NlYXJjaFBhcmFtZXRlcnM6IGZ1bmN0aW9uKGZvckFQSSkge1xuICAgICAgICAvLyBzdHViLCBleHRlbmQgdGhpcyBpbiB0aGUgaW5oZXJpdGluZyB2aWV3XG4gICAgICAgIHJldHVybiB7fVxuICAgIH0sXG4gICAgXG4gICAgLyoqIENhbGxlZCBkdXJpbmcgc2VhcmNoICovXG4gICAgZGlzYWJsZUlucHV0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gc3R1YiwgZXh0ZW5kIHRoaXMgaW4gdGhlIGluaGVyaXRpbmcgdmlld1xuICAgIH0sXG4gICAgXG4gICAgLyoqIENhbGxlZCB3aGVuIHNlYXJjaGVzIGVuZCAqL1xuICAgIGVuYWJsZUlucHV0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gc3R1YiwgZXh0ZW5kIHRoaXMgaW4gdGhlIGluaGVyaXRpbmcgdmlld1xuICAgIH0sXG4gICAgXG4gICAgLy8gcHJpdmF0ZVxuXG4gICAgcGFyc2VVcmw6IGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgICAgaWYgKHVybC5pbmRleE9mKCc/JykgPj0gMCkge1xuICAgICAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKCd7XCInICsgZGVjb2RlVVJJKHVybC5yZXBsYWNlKC9cXCUyQy9nLCAnLCcpLnJlcGxhY2UoL1xcKy9nLCcgJykucmVwbGFjZSgvW14/XSpcXD8vLCAnJykucmVwbGFjZSgvJi9nLCBcIlxcXCIsXFxcIlwiKS5yZXBsYWNlKC89L2csXCJcXFwiOlxcXCJcIikpICsgJ1wifScpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIganNvbiA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIF8oXyhqc29uKS5rZXlzKCkpLmVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgaWYgKGpzb25ba2V5XSAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBqc29uW2tleV0gPSBKU09OLnBhcnNlKGpzb25ba2V5XSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7fVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHR5cGVvZiBqc29uWyd0b3BpY3MnXSA9PT0gXCJudW1iZXJcIiB8fCAodHlwZW9mIGpzb25bJ3RvcGljcyddID09PSBcInN0cmluZ1wiICYmIGpzb25bJ3RvcGljcyddLmxlbmd0aCA+IDApKSB7XG4gICAgICAgICAgICBqc29uWyd0b3BpY3MnXSA9IGpzb25bJ3RvcGljcyddLnRvU3RyaW5nKCkuc3BsaXQoJywnKS5tYXAoTnVtYmVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGpzb25bJ3RleHRfdG9waWNzJ10gPT09IFwibnVtYmVyXCIgfHwgKHR5cGVvZiBqc29uWyd0ZXh0X3RvcGljcyddID09PSBcInN0cmluZ1wiICYmIGpzb25bJ3RleHRfdG9waWNzJ10ubGVuZ3RoID4gMCkpIHtcbiAgICAgICAgICAgIGpzb25bJ3RleHRfdG9waWNzJ10gPSBqc29uWyd0ZXh0X3RvcGljcyddLnRvU3RyaW5nKCkuc3BsaXQoJywnKS5tYXAoTnVtYmVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGpzb25bJ3NkZ3MnXSA9PT0gXCJudW1iZXJcIiB8fCAodHlwZW9mIGpzb25bJ3NkZ3MnXSA9PT0gXCJzdHJpbmdcIiAmJiBqc29uWydzZGdzJ10ubGVuZ3RoID4gMCkpIHtcbiAgICAgICAgICAgIGpzb25bJ3NkZ3MnXSA9IGpzb25bJ3NkZ3MnXS50b1N0cmluZygpLnNwbGl0KCcsJykubWFwKE51bWJlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBqc29uWydtYW5hZ2VkX3RhZ3MnXSA9PT0gXCJudW1iZXJcIiB8fCAodHlwZW9mIGpzb25bJ21hbmFnZWRfdGFncyddID09PSBcInN0cmluZ1wiICYmIGpzb25bJ21hbmFnZWRfdGFncyddLmxlbmd0aCA+IDApKSB7XG4gICAgICAgICAgICBqc29uWydtYW5hZ2VkX3RhZ3MnXSA9IGpzb25bJ21hbmFnZWRfdGFncyddLnRvU3RyaW5nKCkuc3BsaXQoJywnKS5tYXAoTnVtYmVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ganNvbjtcbiAgICB9LFxufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Nvc2lubnVzL2NsaWVudC92aWV3cy9iYXNlL2NvbnRlbnQtY29udHJvbC12aWV3LmpzXG4vLyBtb2R1bGUgaWQgPSAzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWwgPSByZXF1aXJlKCdsaWIvdXRpbC5qcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcbiAgICBcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZXNlIHZhbHVlcyBvbiB0aGUgdmlldzpcbiAgICAgKiAgLSBzZWxmLm9wdGlvbnM6IFxuICAgICAqICAgICAgLSBwdXJwb3NlOiB0aGUgZ2VuZXJhbCBiZWhhdmlvdXJhbCBzZXR0aW5ncyBmb3IgdGhlIHZpZXcuIG9ubHkgZGlmZmVyIGZyb20gZGVmYXVsdFxuICAgICAqICAgICAgICAgIGlmIHBhc3NlZCB0aHJvdWdoIGFzIFZpZXcuaW5pdChvcHRpb25zKS4gZG9uJ3QgY2hhbmdlIGR1cmluZyBydW50aW1lXG4gICAgICogICAgICAtIHZhbHVlOiBleHRlbmRlZCBzZWxmLmRlZmF1bHRzIHdpdGggdGhlIHBhcmFtZXRlciBvcHRpb25zXG4gICAgICogIC0gc2VsZi5zdGF0ZTpcbiAgICAgKiAgICAgIC0gcHVycG9zZTogY3VycmVudCBzdGF0ZSB2YXJpYWJsZXMgb2YgdGhlIHZpZXcuIGRlZmF1bHRzIGNhbiBiZSBzZXQgaW4gXG4gICAgICogICAgICAgICAgc2VsZi5kZWZhdWx0cy5zdGF0ZSwgb3IgcGFzc2VkIHRocm91Z2ggVmlldy5pbml0KG9wdGlvbnMuc3RhdGUpLlxuICAgICAqICAgICAgICAgIGNvbnN0YW50bHkgY2hhbmdlIHdpdGggdGhlIHZpZXcncyBjdXJyZW50IHN0YXRlXG4gICAgICogICAgICAtIHZhbHVlOiBzZWxmLm9wdGlvbnMuc3RhdGUgaWYgZXhpc3RzIG9yIHt9XG4gICAgICovXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gJC5leHRlbmQodHJ1ZSwge30sIHRoaXMuZGVmYXVsdHMsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLnN0YXRlID0gdGhpcy5vcHRpb25zICYmIHRoaXMub3B0aW9ucy5zdGF0ZSB8fCB7fTtcbiAgICB9LFxuICAgIFxuICAgIC8qKlxuICAgICAqIElmIHNlbGYub3B0aW9ucy5lbFBhcmVudCBpcyBzZXQsXG4gICAgICogICAgICAgICB0aGUgZ2l2ZW4gZWwgaXMgaWdub3JlZCBhdCBmaXJzdCBhbmQgZWxQYXJlbnQgaXMgY29uc2lkZXJlZCB0aGUgXG4gICAgICogICAgICAgICBwYXJlbnQgZWxlbWVudCwgc29cbiAgICAgKiAgICAgICAgIGluc3RlYWQgb2YgY3JlYXRpbmcgdGhpcyB0ZW1wbGF0ZSBieSBmaWxsaW5nIGEgZ2l2aW5nIGVsZW1lbnQsXG4gICAgICogICAgICAgICB0aGUgY29tcGxldGUgcmVuZGVyZWQgdGVtcGxhdGUgd2lsbCBhcHBlbmRlZCB0byB0aGUgZ2l2ZW4gJGVsLFxuICAgICAqICAgICAgICAgYW5kIHRoZW4gYmVjb21lIHRoaXMgdmlld3MgYWN0dWFsICRlbCFcbiAgICAgKi9cbiAgICByZW5kZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAvLyBDb2xsZWN0IHRoZSBkYXRhIHRvIGJlIHJlbmRlcmVkOyBjYW4gYmUgb3ZlcnJpZGRlbiBpbiBjaGlsZCB2aWV3LlxuICAgICAgICB2YXIgZGF0YSA9IHRoaXMuZ2V0VGVtcGxhdGVEYXRhKCk7XG4gICAgICAgIC8vIFVzZSBudW5qdWNrcyB0byByZW5kZXIgdGhlIHRlbXBsYXRlIChzcGVjaWZpZWQgaW4gY2hpbGQgdmlldykuXG4gICAgICAgIGlmICh0aGlzLnRlbXBsYXRlICYmIHRoaXMudGVtcGxhdGUucmVuZGVyICYmXG4gICAgICAgICAgICB0eXBlb2YgdGhpcy50ZW1wbGF0ZS5yZW5kZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHZhciByZW5kZXJlZCA9IHRoaXMudGVtcGxhdGUucmVuZGVyKGRhdGEpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoc2VsZi5vcHRpb25zLmVsUGFyZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhpcyBlbGVtZW50IGlzIG5vdCBpbiBwbGFjZSB5ZXQsIGFwcGVuZCBpdCB0byB0aGUgcGFyZW50XG4gICAgICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIHJlcGxhY2UgaXRcbiAgICAgICAgICAgICAgICByZW5kZXJlZCA9ICQocmVuZGVyZWQpO1xuICAgICAgICAgICAgICAgIGlmIChzZWxmLiRlbC5wYXJlbnQoKS5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAkKHNlbGYub3B0aW9ucy5lbFBhcmVudCkuYXBwZW5kKHJlbmRlcmVkKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLiRlbC5yZXBsYWNlV2l0aChyZW5kZXJlZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuc2V0RWxlbWVudChyZW5kZXJlZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuJGVsLmh0bWwocmVuZGVyZWQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkLmNvc2lubnVzLnRpdGxlZGJ5KHRoaXMuJGVsKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBZnRlciBhIHJlcGFpbnQgKHRvIGFsbG93IGZ1cnRoZXIgcmVuZGVyaW5nIGluICNhZnRlclJlbmRlciksXG4gICAgICAgIC8vIGNhbGwgdGhlIGFmdGVyIHJlbmRlciBtZXRob2QgaWYgaXQgZXhpc3RzLlxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNlbGYuYWZ0ZXJSZW5kZXIgJiYgc2VsZi5hZnRlclJlbmRlcigpO1xuICAgICAgICB9LCAwKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqICBEZWZhdWx0IGltcGxlbWVudGF0aW9uIHRvIHJldHJpZXZlIGRhdGEgdG8gYmUgcmVuZGVyZWQuXG4gICAgICogIElmIGEgbW9kZWwgaXMgc2V0LCByZXR1cm4gaXRzIGF0dHJpYnV0ZXMgYXMgSlNPTiwgb3RoZXJ3aXNlXG4gICAgICogIGFuIGVtcHR5IG9iamVjdCB3aXRoIGFueSBvcHRpb25zIGFuZCBzdGF0ZSBhdHRyaWJ1dGVzIG9uIHRoZSBcbiAgICAgKiAgdmlldyBtaXhlZCBpbi5cbiAgICAgKi9cbiAgICBnZXRUZW1wbGF0ZURhdGE6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG1vZGVsRGF0YSA9IHRoaXMubW9kZWwgJiYgdGhpcy5tb2RlbC50b0pTT04oKSB8fCB7J25vTW9kZWwnOiB0cnVlfTtcbiAgICAgICAgdmFyIGRhdGEgPSBfLmV4dGVuZChcbiAgICAgICAgICAgIG1vZGVsRGF0YSxcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucyxcbiAgICAgICAgICAgIHRoaXMuc3RhdGUsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgJ2Nvc2lubnVzX2FjdGl2ZV91c2VyJzogY29zaW5udXNfYWN0aXZlX3VzZXIsXG4gICAgICAgICAgICAgICAgJ0NPU0lOTlVTX0lERUFTX0VOQUJMRUQnOiBDT1NJTk5VU19JREVBU19FTkFCTEVELFxuICAgICAgICAgICAgICAgICdDT1NJTk5VU19PUkdBTklaQVRJT05TX0VOQUJMRUQnOiBDT1NJTk5VU19PUkdBTklaQVRJT05TX0VOQUJMRUQsXG4gICAgICAgICAgICAgICAgJ0NPU0lOTlVTX0NPTkZFUkVOQ0VTX0VOQUJMRUQnOiBDT1NJTk5VU19DT05GRVJFTkNFU19FTkFCTEVELFxuICAgICAgICAgICAgICAgICdDT1NJTk5VU19FWENIQU5HRV9FTkFCTEVEJzogQ09TSU5OVVNfRVhDSEFOR0VfRU5BQkxFRCxcbiAgICAgICAgICAgICAgICAnQ09TSU5OVVNfRVhDSEFOR0VfUE9SVEFMX0lEJzogQ09TSU5OVVNfRVhDSEFOR0VfUE9SVEFMX0lELFxuICAgICAgICAgICAgICAgICdDT1NJTk5VU19NQVRDSElOR19FTkFCTEVEJzogQ09TSU5OVVNfTUFUQ0hJTkdfRU5BQkxFRCxcbiAgICAgICAgICAgICAgICAnQ09TSU5OVVNfU0hPV19QUk9KRUNUX0FORF9HUk9VUF9DUkVBVEVfQlVUVE9OUyc6IENPU0lOTlVTX1NIT1dfUFJPSkVDVF9BTkRfR1JPVVBfQ1JFQVRFX0JVVFRPTlMsXG4gICAgICAgICAgICAgICAgJ0NPU0lOTlVTX1NIT1dfU1VQRVJVU0VSX0NPTlRST0xTJzogQ09TSU5OVVNfU0hPV19TVVBFUlVTRVJfQ09OVFJPTFMsXG4gICAgICAgICAgICAgICAgJ0NPU0lOTlVTX1VTRVJfQ0FOX0NSRUFURV9DT05GRVJFTkNFJzogQ09TSU5OVVNfVVNFUl9DQU5fQ1JFQVRFX0NPTkZFUkVOQ0UsXG4gICAgICAgICAgICAgICAgJ0NPU0lOTlVTX1VTRVJfRVhURVJOQUxfVVNFUlNfRk9SQklEREVOJzogQ09TSU5OVVNfVVNFUl9FWFRFUk5BTF9VU0VSU19GT1JCSURERU4sXG4gICAgICAgICAgICAgICAgJ0NPU0lOTlVTX0ZPUlVNX0dST1VQX1NMVUcnOiBDT1NJTk5VU19GT1JVTV9HUk9VUF9TTFVHLFxuICAgICAgICAgICAgICAgICdDT1NJTk5VU19UUkFOUyc6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0NPU0lOTlVTX1RSQU5TX01ZX0NPTkZFUkVOQ0VTJzogQ09TSU5OVVNfVFJBTlNfTVlfQ09ORkVSRU5DRVMsXG4gICAgICAgICAgICAgICAgICAgICdDT1NJTk5VU19UUkFOU19NWV9DT05GRVJFTkNFU19FTVBUWSc6IENPU0lOTlVTX1RSQU5TX01ZX0NPTkZFUkVOQ0VTX0VNUFRZLFxuICAgICAgICAgICAgICAgICAgICAnQ09TSU5OVVNfVFJBTlNfQ09ORkVSRU5DRSc6IENPU0lOTlVTX1RSQU5TX0NPTkZFUkVOQ0UsXG4gICAgICAgICAgICAgICAgICAgICdDT1NJTk5VU19UUkFOU19DT05GRVJFTkNFUyc6IENPU0lOTlVTX1RSQU5TX0NPTkZFUkVOQ0VTLFxuICAgICAgICAgICAgICAgICAgICAnQ09TSU5OVVNfVFJBTlNfQUxMX0NPTkZFUkVOQ0VTJzogQ09TSU5OVVNfVFJBTlNfQUxMX0NPTkZFUkVOQ0VTLFxuICAgICAgICAgICAgICAgICAgICAnQ09TSU5OVVNfVFJBTlNfQlJPV1NFX0FMTF9DT05GRVJFTkNFUyc6IENPU0lOTlVTX1RSQU5TX0JST1dTRV9BTExfQ09ORkVSRU5DRVMsXG4gICAgICAgICAgICAgICAgICAgICdDT1NJTk5VU19UUkFOU19DUkVBVEVfQ09ORkVSRU5DRSc6IENPU0lOTlVTX1RSQU5TX0NSRUFURV9DT05GRVJFTkNFLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSxcbiAgICBcbiAgICAvKiogV3JhcCB5b3Ugc2lnbmFsIGhhbmRsZXJzIGluIHRoaXMgZnVuY3Rpb24gaW5zaWRlIHZpZXdzIHRvIHJldGFpblxuICAgICAqICB0aGUgdmlldyBhcyBgdGhpc2AgYXMgY29udGV4dC5cbiAgICAgKiAgRXhhbXBsZTogXG4gICAgICogICAgICBjb2xsZWN0aW9uLm9uKHtcbiAgICAgKiAgICAgICAgICdhZGQnIDogc2VsZi50aGlzQ29udGV4dChzZWxmLm15Q2FsbClcbiAgICAgKiAgICAgIH0pO1xuICAgICAqICA9PT4gIG15Q2FsbCguLi4pIHdpbGwgaGF2ZSBgdGhpc2Agc2V0IHRvIGBzZWxmYFxuICAgICovXG4gICAgdGhpc0NvbnRleHQ6IGZ1bmN0aW9uKGZ1bmMpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGZ1bmMuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTtcbiAgICAgICAgfTtcbiAgICB9XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29zaW5udXMvY2xpZW50L3ZpZXdzL2Jhc2Uvdmlldy5qc1xuLy8gbW9kdWxlIGlkID0gNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIHByb3RvY29sOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2w7XG4gICAgfSxcbiAgICBcbiAgICBpc0lnbm9yYWJsZUtleTogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBrZXljb2RlcyA9IFtcbiAgICAgICAgICAgIDksICAvLyB0YWJcbiAgICAgICAgICAgIDEzLCAvLyBlbnRlclxuICAgICAgICAgICAgMTYsIC8vIHNoaWZ0XG4gICAgICAgICAgICAxNywgLy8gY3RybFxuICAgICAgICAgICAgMTgsIC8vIGFsdFxuICAgICAgICAgICAgMTksIC8vIHBhdXNlL2JyZWFrXG4gICAgICAgICAgICAyMCwgLy8gY2Fwc2xvY2tcbiAgICAgICAgICAgIDI3LCAvLyBlc2NhcGVcbiAgICAgICAgICAgIDMzLCAvLyBwYWdldXBcbiAgICAgICAgICAgIDM0LCAvLyBwYWdlZG93blxuICAgICAgICAgICAgMzUsIC8vIGVuZFxuICAgICAgICAgICAgMzYsIC8vIGhvbWVcbiAgICAgICAgICAgIDM3LCAvLyBsZWZ0YXJyb3dcbiAgICAgICAgICAgIDM4LCAvLyB1cGFycm93XG4gICAgICAgICAgICAzOSwgLy8gcmlnaHRhcnJvd1xuICAgICAgICAgICAgNDAsIC8vIGRvd25hcnJvd1xuICAgICAgICAgICAgNDUsIC8vIGluc2VydFxuICAgICAgICAgICAgNDYgLy8gZGVsZXRlXG4gICAgICAgIF07XG4gICAgICAgIHJldHVybiBfKGtleWNvZGVzKS5jb250YWlucyhldmVudC5rZXlDb2RlKTtcbiAgICB9LFxuICAgIFxuICAgIC8qKiBSZXR1cm5zIGEgaWYgaXQgaXMgZGVmaW5lZCwgZWxzZSBiICovXG4gICAgaWZ1bmRlZjogZnVuY3Rpb24oYSwgYikge1xuICAgICAgICByZXR1cm4gdHlwZW9mIGEgPT0gXCJ1bmRlZmluZWRcIiA/IGIgOiBhO1xuICAgIH0sXG4gICAgXG4gICAgbG9nOiBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgLy8gZGV0ZXJtaW5lIHRlc3QvcHJvZCBlbnZpcm9ubWVudFxuICAgICAgICBpZiAoREVCVUcpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqID09IFwic3RyaW5nXCIgJiYgbmV3IEVycm9yKCkuc3RhY2spIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhvYmogKyAnICAgIHx8IGZyb206ICAnICsgbmV3IEVycm9yKCkuc3RhY2sucmVwbGFjZSgvKD86XFxyXFxufFxccnxcXG4pL2csICcnKS5zcGxpdCgnIGF0ICcpWzJdKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cob2JqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgXG4gICAgLyoqIFJldHVybnMgYSBzdGF0dXNEYXRhIGRpY3Qgb2YgaW1wb3J0YW50IHN0YXRlIGRhdGEgb2YgYSB0ZXh0IGlucHV0LFxuICAgICAqICB0byBiZSByZXN0b3JlZCBsYXRlciB1c2luZyBgcmVzdG9yZUlucHV0U3RhdHVzKClgICovXG4gICAgc2F2ZUlucHV0U3RhdHVzOiBmdW5jdGlvbiAoJGlucHV0KSB7XG4gICAgICAgIHZhciBlbGVtID0gJGlucHV0WzBdO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaGFkRm9jdXM6ICRpbnB1dC5pcyhcIjpmb2N1c1wiKSxcbiAgICAgICAgICAgIHZhbDogZWxlbS52YWx1ZSxcbiAgICAgICAgICAgIHN0YXJ0OiBlbGVtLnNlbGVjdGlvblN0YXJ0LFxuICAgICAgICAgICAgZW5kOiBlbGVtLnNlbGVjdGlvbkVuZFxuICAgICAgICB9XG4gICAgfSxcbiAgICBcbiAgICAvKiogUmVzdG9yZXMgYSB0ZXh0IGlucHV0J3Mgc3RhdGUgc2F2ZWQgd2l0aCBgc2F2ZUlucHV0U3RhdHVzYCAqL1xuICAgIHJlc3RvcmVJbnB1dFN0YXR1czogZnVuY3Rpb24gKCRpbnB1dCwgc3RhdHVzRGF0YSkge1xuICAgICAgICB2YXIgZWxlbSA9ICRpbnB1dFswXTtcbiAgICAgICAgZWxlbS52YWx1ZSA9IHN0YXR1c0RhdGFbJ3ZhbCddO1xuICAgICAgICBlbGVtLnNldFNlbGVjdGlvblJhbmdlKHN0YXR1c0RhdGFbJ3N0YXJ0J10sIHN0YXR1c0RhdGFbJ2VuZCddKTtcbiAgICAgICAgaWYgKHN0YXR1c0RhdGFbJ2hhZEZvY3VzJ10pIHtcbiAgICAgICAgICAgICRpbnB1dC5mb2N1cygpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBcbiAgICAvKiogUGFyc2VzIGEgY29tYmluZWQgUmVzdWx0IGlkIGZyb20gdGhlIGJhY2tlbmQgaW50byBpdHMgcGFydHMuXG4gICAgICogXHRFeGFtcGxlOiBcIjEuZXZlbnRzLmZvcnVtKnRvbGxlcy1ldmVudFwiIG9yIFwiMS5ncm91cHMuZm9ydW1cIi5cbiAgICAgKiBcdFJldHVybnM6IEEgZGljdCBvZiBwYXJ0czpcbiAgICAgKiAge1xuICAgICAqIFx0XHRwb3J0YWw6IGludCxcbiAgICAgKiBcdFx0dHlwZTogc3RyLFxuICAgICAqIFx0XHRzbHVnOiBzdHIsXG4gICAgICogIH0qL1xuICAgIHBhcnNlRGlyZWN0SXRlbUlkOiBmdW5jdGlvbiAoZGlyZWN0SXRlbUlkU3RyKSB7XG4gICAgXHR2YXIgZGF0YSA9IGRpcmVjdEl0ZW1JZFN0ci5zcGxpdCgnLicpO1xuICAgICAgICBkYXRhID0ge1xuICAgICAgICAgICAgcG9ydGFsOiBkYXRhWzBdLFxuICAgICAgICAgICAgdHlwZTogZGF0YVsxXSxcbiAgICAgICAgICAgIHNsdWc6IGRhdGEuc2xpY2UoMikuam9pbignLicpLCAvLyB0aGUgcmVzdCBvZiB0aGUgc3BsaXQgc3RyaW5nXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH0sXG4gICAgXG4gICAgLyoqIENyZWF0ZSBhIGNvbWJpbmVkIFJlc3VsdCBpZCBmb3IgdGhlIGJhY2tlbmQgZnJvbSBpdHMgcGFydHMgKi9cbiAgICBtYWtlRGlyZWN0SXRlbUlkOiBmdW5jdGlvbiAocG9ydGFsLCB0eXBlLCBzbHVnKSB7XG4gICAgXHRyZXR1cm4gcG9ydGFsICsgJy4nICsgdHlwZSArICcuJyArIHNsdWc7XG4gICAgfSxcbiAgICBcbiAgICBnZXRBUElEYXRhRm9yRGlyZWN0SXRlbUlkOiBmdW5jdGlvbiAoZGlyZWN0SXRlbUlkKSB7XG4gICAgXHR2YXIgZGF0YSA9IHRoaXMucGFyc2VEaXJlY3RJdGVtSWQoZGlyZWN0SXRlbUlkKTtcbiAgICAgICAgdmFyIGFwaURhdGEgPSB7fTtcbiAgICBcdGlmIChkYXRhLnR5cGUgPT0gJ2lkZWFzJykge1xuICAgIFx0XHRhcGlEYXRhID0ge1xuICAgIFx0XHRcdGN0OiAnY29zaW5udXMuQ29zaW5udXNJZGVhJyxcbiAgICBcdFx0XHRzbHVnOiBkYXRhLnNsdWcsXG4gICAgXHRcdH07XG4gICAgXHR9IGVsc2UgaWYgKGRhdGEudHlwZSA9PSAnb3JnYW5pemF0aW9ucycpIHtcbiAgICBcdFx0YXBpRGF0YSA9IHtcblx0XHRcdFx0Y3Q6ICdjb3Npbm51cy5Db3Npbm51c09yZ2FuaXphdGlvbicsXG5cdFx0XHRcdHNsdWc6IGRhdGEuc2x1ZyxcbiAgICBcdFx0fTtcbiAgICBcdH0gZWxzZSBpZiAoZGF0YS50eXBlID09ICdldmVudHMnKSB7XG4gICAgXHRcdGFwaURhdGEgPSB7XG5cdFx0XHRcdGN0OiAnY29zaW5udXNfZXZlbnQuRXZlbnQnLFxuXHRcdFx0XHRzbHVnOiBkYXRhLnNsdWcsXG4gICAgXHRcdH07XG4gICAgXHR9IGVsc2UgaWYgKGRhdGEudHlwZSA9PSAncHJvamVjdHMnKSB7XG4gICAgXHRcdGFwaURhdGEgPSB7XG5cdFx0XHRcdGN0OiAnY29zaW5udXMuQ29zaW5udXNQcm9qZWN0Jyxcblx0XHRcdFx0c2x1ZzogZGF0YS5zbHVnLFxuICAgIFx0XHR9O1xuICAgIFx0fSBlbHNlIGlmIChkYXRhLnR5cGUgPT0gJ2dyb3VwcycpIHtcbiAgICAgICAgICAgIGFwaURhdGEgPSB7XG4gICAgICAgICAgICAgICAgY3Q6ICdjb3Npbm51cy5Db3Npbm51c1NvY2lldHknLFxuICAgICAgICAgICAgICAgIHNsdWc6IGRhdGEuc2x1ZyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09ICdjb25mZXJlbmNlcycpIHtcbiAgICAgICAgICAgIGFwaURhdGEgPSB7XG4gICAgICAgICAgICAgICAgY3Q6ICdjb3Npbm51cy5Db3Npbm51c0NvbmZlcmVuY2UnLFxuICAgICAgICAgICAgICAgIHNsdWc6IGRhdGEuc2x1ZyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09ICdwZW9wbGUnKSB7XG4gICAgXHRcdGFwaURhdGEgPSB7XG4gICAgICAgICAgICAgICAgc2x1ZzogZGF0YS5zbHVnLFxuICAgICAgICAgICAgICAgIGN0OiAncGVvcGxlJ1xuICAgIFx0XHR9O1xuICAgIFx0fSBlbHNlIHtcbiAgICBcdFx0cmV0dXJuIG51bGw7XG4gICAgXHR9XG4gICAgXHRyZXR1cm4gYXBpRGF0YTtcbiAgICB9LFxuICAgIFxuICAgIC8qKiBDYXNlIGluc2Vuc2l0aXZlIHN0cmluZyByZXBsYWNlICovXG4gICAgaVJlcGxhY2U6IGZ1bmN0aW9uIChzdHJTb3VjZSwgc3RyUmVwbGFjZSwgc3RyV2l0aCkge1xuICAgICAgICB2YXIgZXNjID0gc3RyUmVwbGFjZS5yZXBsYWNlKC9bLVxcL1xcXFxeJCorPy4oKXxbXFxde31dL2csICdcXFxcJCYnKTtcbiAgICAgICAgdmFyIHJlZyA9IG5ldyBSZWdFeHAoJygnICsgZXNjICsgJyknLCAnaWcnKTtcbiAgICAgICAgcmV0dXJuIHN0clNvdWNlLnJlcGxhY2UocmVnLCBzdHJXaXRoKTtcbiAgICB9LFxufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29zaW5udXMvY2xpZW50L2xpYi91dGlsLmpzXG4vLyBtb2R1bGUgaWQgPSA1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxudmFyIEJhc2VWaWV3ID0gcmVxdWlyZSgndmlld3MvYmFzZS92aWV3Jyk7XG52YXIgdXRpbCA9IHJlcXVpcmUoJ2xpYi91dGlsLmpzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gQmFzZVZpZXcuZXh0ZW5kKHtcbiAgICBcbiAgICB0ZW1wbGF0ZTogcmVxdWlyZSgnbWFwL21hcC1sYXllci1idXR0b25zJyksXG4gICAgXG4gICAgbWFwVmlldzogbnVsbCxcbiAgICBcbiAgICAvLyB3aWxsIGJlIHNldCB0byBzZWxmLm9wdGlvbnMgZHVyaW5nIGluaXRpYWxpemF0aW9uXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgLy8gd2lsbCBiZSBzZXQgdG8gc2VsZi5zdGF0ZSBkdXJpbmcgaW5pdGlhbGl6YXRpb25cbiAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgICAgIGxheWVyOiBudWxsXG4gICAgICAgIH1cbiAgICB9LFxuICAgIFxuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgQmFzZVZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbChzZWxmLCBvcHRpb25zKTtcbiAgICAgICAgXG4gICAgICAgIHNlbGYuc3RhdGUubGF5ZXIgPSBvcHRpb25zLmxheWVyO1xuICAgICAgICBzZWxmLm1hcFZpZXcgPSBvcHRpb25zLm1hcFZpZXc7XG4gICAgfSxcblxuICAgIGV2ZW50czoge1xuICAgICAgICAnY2xpY2sgLmxheWVyLWJ1dHRvbic6ICdzd2l0Y2hMYXllckNsaWNrZWQnLFxuICAgIH0sXG5cbiAgICAvLyBFdmVudCBIYW5kbGVyc1xuICAgIC8vIC0tLS0tLS0tLS0tLS0tXG5cbiAgICAvLyBTd2l0Y2ggbGF5ZXJzIGlmIGNsaWNrZWQgbGF5ZXIgaXNuJ3QgdGhlIGFjdGl2ZSBsYXllci5cbiAgICBzd2l0Y2hMYXllckNsaWNrZWQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgbGF5ZXIgPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmRhdGEoJ2xheWVyJyk7XG4gICAgICAgIGlmICh0aGlzLm1hcFZpZXcub3B0aW9ucy5sYXllciAhPT0gbGF5ZXIpIHtcbiAgICAgICAgICAgIHRoaXMubWFwVmlldy5vcHRpb25zLmxheWVyID0gbGF5ZXI7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmxheWVyID0gbGF5ZXI7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICAgICAgQmFja2JvbmUubWVkaWF0b3IucHVibGlzaCgnY2hhbmdlOmxheWVyJywgbGF5ZXIpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBcbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy9jbGllbnQvdmlld3MvbWFwLWxheWVyLWJ1dHRvbnMtdmlldy5qc1xuLy8gbW9kdWxlIGlkID0gNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgbnVuanVja3MgPSByZXF1aXJlKFwibnVuanVja3MvYnJvd3Nlci9udW5qdWNrcy1zbGltXCIpO1xudmFyIGVudjtcbmlmICghbnVuanVja3MuY3VycmVudEVudil7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnYgPSBuZXcgbnVuanVja3MuRW52aXJvbm1lbnQoW10sIHVuZGVmaW5lZCk7XG59IGVsc2Uge1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52O1xufVxudmFyIGNvbmZpZ3VyZSA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi8uLi9udW5qdWNrcy5jb25maWcuanNcIikoZW52KTtcbnZhciBkZXBlbmRlbmNpZXMgPSBudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzIHx8IChudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzID0ge30pO1xuXG5cblxuXG52YXIgc2hpbSA9IHJlcXVpcmUoXCIvaG9tZS9zYXNjaGEvcHIvY29zaW5udXMtY29yZS9ub2RlX21vZHVsZXMvbnVuanVja3MtbG9hZGVyL3J1bnRpbWUtc2hpbVwiKTtcblxuXG4oZnVuY3Rpb24oKSB7KG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgPSBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkIHx8IHt9KVtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvbWFwL21hcC1sYXllci1idXR0b25zLmh0bWxcIl0gPSAoZnVuY3Rpb24oKSB7XG5mdW5jdGlvbiByb290KGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG52YXIgcGFyZW50VGVtcGxhdGUgPSBudWxsO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwicGFzc1Rocm91Z2hcIilbXCJydW5cIl0oY29udGV4dCxydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImkxOG5cIikpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXCI7XG5pZihmYWxzZSkge1xub3V0cHV0ICs9IFwiIFwiO1xub3V0cHV0ICs9IFwiXFxuPGRpdj5cXG4gICAgPGRpdiBkYXRhLWxheWVyPVxcXCJzdHJlZXRcXFwiXFxuICAgICAgICBjbGFzcz1cXFwicm91bmRlZC1idXR0b24gcm91bmRlZC1idXR0b24tc21hbGwgYnV0dG9uLWFjdGlvbiBsYXllci1idXR0b24gXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImxheWVyXCIpID09IFwic3RyZWV0XCIpIHtcbm91dHB1dCArPSBcIiBzZWxlY3RlZCBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcXCI+XFxuICAgICAgICA8c3BhbiBjbGFzcz1cXFwicm91bmRlZC1idXR0b24taW5uZXJcXFwiPlxcbiAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiU3RyZWV0XCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICA8L3NwYW4+XFxuICAgIDwvZGl2PlxcbjwvZGl2PlxcblwiO1xuO1xufVxuaWYocGFyZW50VGVtcGxhdGUpIHtcbnBhcmVudFRlbXBsYXRlLnJvb3RSZW5kZXJGdW5jKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKTtcbn0gZWxzZSB7XG5jYihudWxsLCBvdXRwdXQpO1xufVxuO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbnJldHVybiB7XG5yb290OiByb290XG59O1xuXG59KSgpO1xufSkoKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gc2hpbShudW5qdWNrcywgZW52LCBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkW1wiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC9tYXAvbWFwLWxheWVyLWJ1dHRvbnMuaHRtbFwiXSAsIGRlcGVuZGVuY2llcylcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Nvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvbWFwL21hcC1sYXllci1idXR0b25zLmh0bWxcbi8vIG1vZHVsZSBpZCA9IDdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyohIEJyb3dzZXIgYnVuZGxlIG9mIG51bmp1Y2tzIDIuNS4yIChzbGltLCBvbmx5IHdvcmtzIHdpdGggcHJlY29tcGlsZWQgdGVtcGxhdGVzKSAqL1xuKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wibnVuanVja3NcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wibnVuanVja3NcIl0gPSBmYWN0b3J5KCk7XG59KSh0aGlzLCBmdW5jdGlvbigpIHtcbnJldHVybiAvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fSxcbi8qKioqKiovIFx0XHRcdGlkOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGxvYWRlZDogZmFsc2Vcbi8qKioqKiovIFx0XHR9O1xuXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuXG5cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBsaWIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHR2YXIgZW52ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0dmFyIExvYWRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXHR2YXIgbG9hZGVycyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdHZhciBwcmVjb21waWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXHRtb2R1bGUuZXhwb3J0cy5FbnZpcm9ubWVudCA9IGVudi5FbnZpcm9ubWVudDtcblx0bW9kdWxlLmV4cG9ydHMuVGVtcGxhdGUgPSBlbnYuVGVtcGxhdGU7XG5cblx0bW9kdWxlLmV4cG9ydHMuTG9hZGVyID0gTG9hZGVyO1xuXHRtb2R1bGUuZXhwb3J0cy5GaWxlU3lzdGVtTG9hZGVyID0gbG9hZGVycy5GaWxlU3lzdGVtTG9hZGVyO1xuXHRtb2R1bGUuZXhwb3J0cy5QcmVjb21waWxlZExvYWRlciA9IGxvYWRlcnMuUHJlY29tcGlsZWRMb2FkZXI7XG5cdG1vZHVsZS5leHBvcnRzLldlYkxvYWRlciA9IGxvYWRlcnMuV2ViTG9hZGVyO1xuXG5cdG1vZHVsZS5leHBvcnRzLmNvbXBpbGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0bW9kdWxlLmV4cG9ydHMucGFyc2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0bW9kdWxlLmV4cG9ydHMubGV4ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRtb2R1bGUuZXhwb3J0cy5ydW50aW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0bW9kdWxlLmV4cG9ydHMubGliID0gbGliO1xuXHRtb2R1bGUuZXhwb3J0cy5ub2RlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cblx0bW9kdWxlLmV4cG9ydHMuaW5zdGFsbEppbmphQ29tcGF0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cblx0Ly8gQSBzaW5nbGUgaW5zdGFuY2Ugb2YgYW4gZW52aXJvbm1lbnQsIHNpbmNlIHRoaXMgaXMgc28gY29tbW9ubHkgdXNlZFxuXG5cdHZhciBlO1xuXHRtb2R1bGUuZXhwb3J0cy5jb25maWd1cmUgPSBmdW5jdGlvbih0ZW1wbGF0ZXNQYXRoLCBvcHRzKSB7XG5cdCAgICBvcHRzID0gb3B0cyB8fCB7fTtcblx0ICAgIGlmKGxpYi5pc09iamVjdCh0ZW1wbGF0ZXNQYXRoKSkge1xuXHQgICAgICAgIG9wdHMgPSB0ZW1wbGF0ZXNQYXRoO1xuXHQgICAgICAgIHRlbXBsYXRlc1BhdGggPSBudWxsO1xuXHQgICAgfVxuXG5cdCAgICB2YXIgVGVtcGxhdGVMb2FkZXI7XG5cdCAgICBpZihsb2FkZXJzLkZpbGVTeXN0ZW1Mb2FkZXIpIHtcblx0ICAgICAgICBUZW1wbGF0ZUxvYWRlciA9IG5ldyBsb2FkZXJzLkZpbGVTeXN0ZW1Mb2FkZXIodGVtcGxhdGVzUGF0aCwge1xuXHQgICAgICAgICAgICB3YXRjaDogb3B0cy53YXRjaCxcblx0ICAgICAgICAgICAgbm9DYWNoZTogb3B0cy5ub0NhY2hlXG5cdCAgICAgICAgfSk7XG5cdCAgICB9XG5cdCAgICBlbHNlIGlmKGxvYWRlcnMuV2ViTG9hZGVyKSB7XG5cdCAgICAgICAgVGVtcGxhdGVMb2FkZXIgPSBuZXcgbG9hZGVycy5XZWJMb2FkZXIodGVtcGxhdGVzUGF0aCwge1xuXHQgICAgICAgICAgICB1c2VDYWNoZTogb3B0cy53ZWIgJiYgb3B0cy53ZWIudXNlQ2FjaGUsXG5cdCAgICAgICAgICAgIGFzeW5jOiBvcHRzLndlYiAmJiBvcHRzLndlYi5hc3luY1xuXHQgICAgICAgIH0pO1xuXHQgICAgfVxuXG5cdCAgICBlID0gbmV3IGVudi5FbnZpcm9ubWVudChUZW1wbGF0ZUxvYWRlciwgb3B0cyk7XG5cblx0ICAgIGlmKG9wdHMgJiYgb3B0cy5leHByZXNzKSB7XG5cdCAgICAgICAgZS5leHByZXNzKG9wdHMuZXhwcmVzcyk7XG5cdCAgICB9XG5cblx0ICAgIHJldHVybiBlO1xuXHR9O1xuXG5cdG1vZHVsZS5leHBvcnRzLmNvbXBpbGUgPSBmdW5jdGlvbihzcmMsIGVudiwgcGF0aCwgZWFnZXJDb21waWxlKSB7XG5cdCAgICBpZighZSkge1xuXHQgICAgICAgIG1vZHVsZS5leHBvcnRzLmNvbmZpZ3VyZSgpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIG5ldyBtb2R1bGUuZXhwb3J0cy5UZW1wbGF0ZShzcmMsIGVudiwgcGF0aCwgZWFnZXJDb21waWxlKTtcblx0fTtcblxuXHRtb2R1bGUuZXhwb3J0cy5yZW5kZXIgPSBmdW5jdGlvbihuYW1lLCBjdHgsIGNiKSB7XG5cdCAgICBpZighZSkge1xuXHQgICAgICAgIG1vZHVsZS5leHBvcnRzLmNvbmZpZ3VyZSgpO1xuXHQgICAgfVxuXG5cdCAgICByZXR1cm4gZS5yZW5kZXIobmFtZSwgY3R4LCBjYik7XG5cdH07XG5cblx0bW9kdWxlLmV4cG9ydHMucmVuZGVyU3RyaW5nID0gZnVuY3Rpb24oc3JjLCBjdHgsIGNiKSB7XG5cdCAgICBpZighZSkge1xuXHQgICAgICAgIG1vZHVsZS5leHBvcnRzLmNvbmZpZ3VyZSgpO1xuXHQgICAgfVxuXG5cdCAgICByZXR1cm4gZS5yZW5kZXJTdHJpbmcoc3JjLCBjdHgsIGNiKTtcblx0fTtcblxuXHRpZihwcmVjb21waWxlKSB7XG5cdCAgICBtb2R1bGUuZXhwb3J0cy5wcmVjb21waWxlID0gcHJlY29tcGlsZS5wcmVjb21waWxlO1xuXHQgICAgbW9kdWxlLmV4cG9ydHMucHJlY29tcGlsZVN0cmluZyA9IHByZWNvbXBpbGUucHJlY29tcGlsZVN0cmluZztcblx0fVxuXG5cbi8qKiovIH0sXG4vKiAxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIEFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGU7XG5cdHZhciBPYmpQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cblx0dmFyIGVzY2FwZU1hcCA9IHtcblx0ICAgICcmJzogJyZhbXA7Jyxcblx0ICAgICdcIic6ICcmcXVvdDsnLFxuXHQgICAgJ1xcJyc6ICcmIzM5OycsXG5cdCAgICAnPCc6ICcmbHQ7Jyxcblx0ICAgICc+JzogJyZndDsnXG5cdH07XG5cblx0dmFyIGVzY2FwZVJlZ2V4ID0gL1smXCInPD5dL2c7XG5cblx0dmFyIGxvb2t1cEVzY2FwZSA9IGZ1bmN0aW9uKGNoKSB7XG5cdCAgICByZXR1cm4gZXNjYXBlTWFwW2NoXTtcblx0fTtcblxuXHR2YXIgZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cblx0ZXhwb3J0cy5wcmV0dGlmeUVycm9yID0gZnVuY3Rpb24ocGF0aCwgd2l0aEludGVybmFscywgZXJyKSB7XG5cdCAgICAvLyBqc2hpbnQgLVcwMjJcblx0ICAgIC8vIGh0dHA6Ly9qc2xpbnRlcnJvcnMuY29tL2RvLW5vdC1hc3NpZ24tdG8tdGhlLWV4Y2VwdGlvbi1wYXJhbWV0ZXJcblx0ICAgIGlmICghZXJyLlVwZGF0ZSkge1xuXHQgICAgICAgIC8vIG5vdCBvbmUgb2Ygb3VycywgY2FzdCBpdFxuXHQgICAgICAgIGVyciA9IG5ldyBleHBvcnRzLlRlbXBsYXRlRXJyb3IoZXJyKTtcblx0ICAgIH1cblx0ICAgIGVyci5VcGRhdGUocGF0aCk7XG5cblx0ICAgIC8vIFVubGVzcyB0aGV5IG1hcmtlZCB0aGUgZGV2IGZsYWcsIHNob3cgdGhlbSBhIHRyYWNlIGZyb20gaGVyZVxuXHQgICAgaWYgKCF3aXRoSW50ZXJuYWxzKSB7XG5cdCAgICAgICAgdmFyIG9sZCA9IGVycjtcblx0ICAgICAgICBlcnIgPSBuZXcgRXJyb3Iob2xkLm1lc3NhZ2UpO1xuXHQgICAgICAgIGVyci5uYW1lID0gb2xkLm5hbWU7XG5cdCAgICB9XG5cblx0ICAgIHJldHVybiBlcnI7XG5cdH07XG5cblx0ZXhwb3J0cy5UZW1wbGF0ZUVycm9yID0gZnVuY3Rpb24obWVzc2FnZSwgbGluZW5vLCBjb2xubykge1xuXHQgICAgdmFyIGVyciA9IHRoaXM7XG5cblx0ICAgIGlmIChtZXNzYWdlIGluc3RhbmNlb2YgRXJyb3IpIHsgLy8gZm9yIGNhc3RpbmcgcmVndWxhciBqcyBlcnJvcnNcblx0ICAgICAgICBlcnIgPSBtZXNzYWdlO1xuXHQgICAgICAgIG1lc3NhZ2UgPSBtZXNzYWdlLm5hbWUgKyAnOiAnICsgbWVzc2FnZS5tZXNzYWdlO1xuXG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgaWYoZXJyLm5hbWUgPSAnJykge31cblx0ICAgICAgICB9XG5cdCAgICAgICAgY2F0Y2goZSkge1xuXHQgICAgICAgICAgICAvLyBJZiB3ZSBjYW4ndCBzZXQgdGhlIG5hbWUgb2YgdGhlIGVycm9yIG9iamVjdCBpbiB0aGlzXG5cdCAgICAgICAgICAgIC8vIGVudmlyb25tZW50LCBkb24ndCB1c2UgaXRcblx0ICAgICAgICAgICAgZXJyID0gdGhpcztcblx0ICAgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIGlmKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7XG5cdCAgICAgICAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKGVycik7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXG5cdCAgICBlcnIubmFtZSA9ICdUZW1wbGF0ZSByZW5kZXIgZXJyb3InO1xuXHQgICAgZXJyLm1lc3NhZ2UgPSBtZXNzYWdlO1xuXHQgICAgZXJyLmxpbmVubyA9IGxpbmVubztcblx0ICAgIGVyci5jb2xubyA9IGNvbG5vO1xuXHQgICAgZXJyLmZpcnN0VXBkYXRlID0gdHJ1ZTtcblxuXHQgICAgZXJyLlVwZGF0ZSA9IGZ1bmN0aW9uKHBhdGgpIHtcblx0ICAgICAgICB2YXIgbWVzc2FnZSA9ICcoJyArIChwYXRoIHx8ICd1bmtub3duIHBhdGgnKSArICcpJztcblxuXHQgICAgICAgIC8vIG9ubHkgc2hvdyBsaW5lbm8gKyBjb2xubyBuZXh0IHRvIHBhdGggb2YgdGVtcGxhdGVcblx0ICAgICAgICAvLyB3aGVyZSBlcnJvciBvY2N1cnJlZFxuXHQgICAgICAgIGlmICh0aGlzLmZpcnN0VXBkYXRlKSB7XG5cdCAgICAgICAgICAgIGlmKHRoaXMubGluZW5vICYmIHRoaXMuY29sbm8pIHtcblx0ICAgICAgICAgICAgICAgIG1lc3NhZ2UgKz0gJyBbTGluZSAnICsgdGhpcy5saW5lbm8gKyAnLCBDb2x1bW4gJyArIHRoaXMuY29sbm8gKyAnXSc7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgZWxzZSBpZih0aGlzLmxpbmVubykge1xuXHQgICAgICAgICAgICAgICAgbWVzc2FnZSArPSAnIFtMaW5lICcgKyB0aGlzLmxpbmVubyArICddJztcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblxuXHQgICAgICAgIG1lc3NhZ2UgKz0gJ1xcbiAnO1xuXHQgICAgICAgIGlmICh0aGlzLmZpcnN0VXBkYXRlKSB7XG5cdCAgICAgICAgICAgIG1lc3NhZ2UgKz0gJyAnO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2UgKyAodGhpcy5tZXNzYWdlIHx8ICcnKTtcblx0ICAgICAgICB0aGlzLmZpcnN0VXBkYXRlID0gZmFsc2U7XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9O1xuXG5cdCAgICByZXR1cm4gZXJyO1xuXHR9O1xuXG5cdGV4cG9ydHMuVGVtcGxhdGVFcnJvci5wcm90b3R5cGUgPSBFcnJvci5wcm90b3R5cGU7XG5cblx0ZXhwb3J0cy5lc2NhcGUgPSBmdW5jdGlvbih2YWwpIHtcblx0ICByZXR1cm4gdmFsLnJlcGxhY2UoZXNjYXBlUmVnZXgsIGxvb2t1cEVzY2FwZSk7XG5cdH07XG5cblx0ZXhwb3J0cy5pc0Z1bmN0aW9uID0gZnVuY3Rpb24ob2JqKSB7XG5cdCAgICByZXR1cm4gT2JqUHJvdG8udG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xuXHR9O1xuXG5cdGV4cG9ydHMuaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24ob2JqKSB7XG5cdCAgICByZXR1cm4gT2JqUHJvdG8udG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBBcnJheV0nO1xuXHR9O1xuXG5cdGV4cG9ydHMuaXNTdHJpbmcgPSBmdW5jdGlvbihvYmopIHtcblx0ICAgIHJldHVybiBPYmpQcm90by50b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IFN0cmluZ10nO1xuXHR9O1xuXG5cdGV4cG9ydHMuaXNPYmplY3QgPSBmdW5jdGlvbihvYmopIHtcblx0ICAgIHJldHVybiBPYmpQcm90by50b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IE9iamVjdF0nO1xuXHR9O1xuXG5cdGV4cG9ydHMuZ3JvdXBCeSA9IGZ1bmN0aW9uKG9iaiwgdmFsKSB7XG5cdCAgICB2YXIgcmVzdWx0ID0ge307XG5cdCAgICB2YXIgaXRlcmF0b3IgPSBleHBvcnRzLmlzRnVuY3Rpb24odmFsKSA/IHZhbCA6IGZ1bmN0aW9uKG9iaikgeyByZXR1cm4gb2JqW3ZhbF07IH07XG5cdCAgICBmb3IodmFyIGk9MDsgaTxvYmoubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB2YXIgdmFsdWUgPSBvYmpbaV07XG5cdCAgICAgICAgdmFyIGtleSA9IGl0ZXJhdG9yKHZhbHVlLCBpKTtcblx0ICAgICAgICAocmVzdWx0W2tleV0gfHwgKHJlc3VsdFtrZXldID0gW10pKS5wdXNoKHZhbHVlKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiByZXN1bHQ7XG5cdH07XG5cblx0ZXhwb3J0cy50b0FycmF5ID0gZnVuY3Rpb24ob2JqKSB7XG5cdCAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwob2JqKTtcblx0fTtcblxuXHRleHBvcnRzLndpdGhvdXQgPSBmdW5jdGlvbihhcnJheSkge1xuXHQgICAgdmFyIHJlc3VsdCA9IFtdO1xuXHQgICAgaWYgKCFhcnJheSkge1xuXHQgICAgICAgIHJldHVybiByZXN1bHQ7XG5cdCAgICB9XG5cdCAgICB2YXIgaW5kZXggPSAtMSxcblx0ICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcblx0ICAgIGNvbnRhaW5zID0gZXhwb3J0cy50b0FycmF5KGFyZ3VtZW50cykuc2xpY2UoMSk7XG5cblx0ICAgIHdoaWxlKCsraW5kZXggPCBsZW5ndGgpIHtcblx0ICAgICAgICBpZihleHBvcnRzLmluZGV4T2YoY29udGFpbnMsIGFycmF5W2luZGV4XSkgPT09IC0xKSB7XG5cdCAgICAgICAgICAgIHJlc3VsdC5wdXNoKGFycmF5W2luZGV4XSk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIHJlc3VsdDtcblx0fTtcblxuXHRleHBvcnRzLmV4dGVuZCA9IGZ1bmN0aW9uKG9iaiwgb2JqMikge1xuXHQgICAgZm9yKHZhciBrIGluIG9iajIpIHtcblx0ICAgICAgICBvYmpba10gPSBvYmoyW2tdO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIG9iajtcblx0fTtcblxuXHRleHBvcnRzLnJlcGVhdCA9IGZ1bmN0aW9uKGNoYXJfLCBuKSB7XG5cdCAgICB2YXIgc3RyID0gJyc7XG5cdCAgICBmb3IodmFyIGk9MDsgaTxuOyBpKyspIHtcblx0ICAgICAgICBzdHIgKz0gY2hhcl87XG5cdCAgICB9XG5cdCAgICByZXR1cm4gc3RyO1xuXHR9O1xuXG5cdGV4cG9ydHMuZWFjaCA9IGZ1bmN0aW9uKG9iaiwgZnVuYywgY29udGV4dCkge1xuXHQgICAgaWYob2JqID09IG51bGwpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cblx0ICAgIGlmKEFycmF5UHJvdG8uZWFjaCAmJiBvYmouZWFjaCA9PT0gQXJyYXlQcm90by5lYWNoKSB7XG5cdCAgICAgICAgb2JqLmZvckVhY2goZnVuYywgY29udGV4dCk7XG5cdCAgICB9XG5cdCAgICBlbHNlIGlmKG9iai5sZW5ndGggPT09ICtvYmoubGVuZ3RoKSB7XG5cdCAgICAgICAgZm9yKHZhciBpPTAsIGw9b2JqLmxlbmd0aDsgaTxsOyBpKyspIHtcblx0ICAgICAgICAgICAgZnVuYy5jYWxsKGNvbnRleHQsIG9ialtpXSwgaSwgb2JqKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdH07XG5cblx0ZXhwb3J0cy5tYXAgPSBmdW5jdGlvbihvYmosIGZ1bmMpIHtcblx0ICAgIHZhciByZXN1bHRzID0gW107XG5cdCAgICBpZihvYmogPT0gbnVsbCkge1xuXHQgICAgICAgIHJldHVybiByZXN1bHRzO1xuXHQgICAgfVxuXG5cdCAgICBpZihBcnJheVByb3RvLm1hcCAmJiBvYmoubWFwID09PSBBcnJheVByb3RvLm1hcCkge1xuXHQgICAgICAgIHJldHVybiBvYmoubWFwKGZ1bmMpO1xuXHQgICAgfVxuXG5cdCAgICBmb3IodmFyIGk9MDsgaTxvYmoubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICByZXN1bHRzW3Jlc3VsdHMubGVuZ3RoXSA9IGZ1bmMob2JqW2ldLCBpKTtcblx0ICAgIH1cblxuXHQgICAgaWYob2JqLmxlbmd0aCA9PT0gK29iai5sZW5ndGgpIHtcblx0ICAgICAgICByZXN1bHRzLmxlbmd0aCA9IG9iai5sZW5ndGg7XG5cdCAgICB9XG5cblx0ICAgIHJldHVybiByZXN1bHRzO1xuXHR9O1xuXG5cdGV4cG9ydHMuYXN5bmNJdGVyID0gZnVuY3Rpb24oYXJyLCBpdGVyLCBjYikge1xuXHQgICAgdmFyIGkgPSAtMTtcblxuXHQgICAgZnVuY3Rpb24gbmV4dCgpIHtcblx0ICAgICAgICBpKys7XG5cblx0ICAgICAgICBpZihpIDwgYXJyLmxlbmd0aCkge1xuXHQgICAgICAgICAgICBpdGVyKGFycltpXSwgaSwgbmV4dCwgY2IpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgY2IoKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cblx0ICAgIG5leHQoKTtcblx0fTtcblxuXHRleHBvcnRzLmFzeW5jRm9yID0gZnVuY3Rpb24ob2JqLCBpdGVyLCBjYikge1xuXHQgICAgdmFyIGtleXMgPSBleHBvcnRzLmtleXMob2JqKTtcblx0ICAgIHZhciBsZW4gPSBrZXlzLmxlbmd0aDtcblx0ICAgIHZhciBpID0gLTE7XG5cblx0ICAgIGZ1bmN0aW9uIG5leHQoKSB7XG5cdCAgICAgICAgaSsrO1xuXHQgICAgICAgIHZhciBrID0ga2V5c1tpXTtcblxuXHQgICAgICAgIGlmKGkgPCBsZW4pIHtcblx0ICAgICAgICAgICAgaXRlcihrLCBvYmpba10sIGksIGxlbiwgbmV4dCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICBjYigpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgbmV4dCgpO1xuXHR9O1xuXG5cdC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L2luZGV4T2YjUG9seWZpbGxcblx0ZXhwb3J0cy5pbmRleE9mID0gQXJyYXkucHJvdG90eXBlLmluZGV4T2YgP1xuXHQgICAgZnVuY3Rpb24gKGFyciwgc2VhcmNoRWxlbWVudCwgZnJvbUluZGV4KSB7XG5cdCAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoYXJyLCBzZWFyY2hFbGVtZW50LCBmcm9tSW5kZXgpO1xuXHQgICAgfSA6XG5cdCAgICBmdW5jdGlvbiAoYXJyLCBzZWFyY2hFbGVtZW50LCBmcm9tSW5kZXgpIHtcblx0ICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5sZW5ndGggPj4+IDA7IC8vIEhhY2sgdG8gY29udmVydCBvYmplY3QubGVuZ3RoIHRvIGEgVUludDMyXG5cblx0ICAgICAgICBmcm9tSW5kZXggPSArZnJvbUluZGV4IHx8IDA7XG5cblx0ICAgICAgICBpZihNYXRoLmFicyhmcm9tSW5kZXgpID09PSBJbmZpbml0eSkge1xuXHQgICAgICAgICAgICBmcm9tSW5kZXggPSAwO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIGlmKGZyb21JbmRleCA8IDApIHtcblx0ICAgICAgICAgICAgZnJvbUluZGV4ICs9IGxlbmd0aDtcblx0ICAgICAgICAgICAgaWYgKGZyb21JbmRleCA8IDApIHtcblx0ICAgICAgICAgICAgICAgIGZyb21JbmRleCA9IDA7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cblx0ICAgICAgICBmb3IoO2Zyb21JbmRleCA8IGxlbmd0aDsgZnJvbUluZGV4KyspIHtcblx0ICAgICAgICAgICAgaWYgKGFycltmcm9tSW5kZXhdID09PSBzZWFyY2hFbGVtZW50KSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gZnJvbUluZGV4O1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgcmV0dXJuIC0xO1xuXHQgICAgfTtcblxuXHRpZighQXJyYXkucHJvdG90eXBlLm1hcCkge1xuXHQgICAgQXJyYXkucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHRocm93IG5ldyBFcnJvcignbWFwIGlzIHVuaW1wbGVtZW50ZWQgZm9yIHRoaXMganMgZW5naW5lJyk7XG5cdCAgICB9O1xuXHR9XG5cblx0ZXhwb3J0cy5rZXlzID0gZnVuY3Rpb24ob2JqKSB7XG5cdCAgICBpZihPYmplY3QucHJvdG90eXBlLmtleXMpIHtcblx0ICAgICAgICByZXR1cm4gb2JqLmtleXMoKTtcblx0ICAgIH1cblx0ICAgIGVsc2Uge1xuXHQgICAgICAgIHZhciBrZXlzID0gW107XG5cdCAgICAgICAgZm9yKHZhciBrIGluIG9iaikge1xuXHQgICAgICAgICAgICBpZihvYmouaGFzT3duUHJvcGVydHkoaykpIHtcblx0ICAgICAgICAgICAgICAgIGtleXMucHVzaChrKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4ga2V5cztcblx0ICAgIH1cblx0fTtcblxuXHRleHBvcnRzLmluT3BlcmF0b3IgPSBmdW5jdGlvbiAoa2V5LCB2YWwpIHtcblx0ICAgIGlmIChleHBvcnRzLmlzQXJyYXkodmFsKSkge1xuXHQgICAgICAgIHJldHVybiBleHBvcnRzLmluZGV4T2YodmFsLCBrZXkpICE9PSAtMTtcblx0ICAgIH0gZWxzZSBpZiAoZXhwb3J0cy5pc09iamVjdCh2YWwpKSB7XG5cdCAgICAgICAgcmV0dXJuIGtleSBpbiB2YWw7XG5cdCAgICB9IGVsc2UgaWYgKGV4cG9ydHMuaXNTdHJpbmcodmFsKSkge1xuXHQgICAgICAgIHJldHVybiB2YWwuaW5kZXhPZihrZXkpICE9PSAtMTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgdXNlIFwiaW5cIiBvcGVyYXRvciB0byBzZWFyY2ggZm9yIFwiJ1xuXHQgICAgICAgICAgICArIGtleSArICdcIiBpbiB1bmV4cGVjdGVkIHR5cGVzLicpO1xuXHQgICAgfVxuXHR9O1xuXG5cbi8qKiovIH0sXG4vKiAyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIHBhdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHR2YXIgYXNhcCA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdHZhciBsaWIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHR2YXIgT2JqID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0dmFyIGNvbXBpbGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0dmFyIGJ1aWx0aW5fZmlsdGVycyA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdHZhciBidWlsdGluX2xvYWRlcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHR2YXIgcnVudGltZSA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdHZhciBnbG9iYWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblx0dmFyIEZyYW1lID0gcnVudGltZS5GcmFtZTtcblx0dmFyIFRlbXBsYXRlO1xuXG5cdC8vIFVuY29uZGl0aW9uYWxseSBsb2FkIGluIHRoaXMgbG9hZGVyLCBldmVuIGlmIG5vIG90aGVyIG9uZXMgYXJlXG5cdC8vIGluY2x1ZGVkIChwb3NzaWJsZSBpbiB0aGUgc2xpbSBicm93c2VyIGJ1aWxkKVxuXHRidWlsdGluX2xvYWRlcnMuUHJlY29tcGlsZWRMb2FkZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblxuXHQvLyBJZiB0aGUgdXNlciBpcyB1c2luZyB0aGUgYXN5bmMgQVBJLCAqYWx3YXlzKiBjYWxsIGl0XG5cdC8vIGFzeW5jaHJvbm91c2x5IGV2ZW4gaWYgdGhlIHRlbXBsYXRlIHdhcyBzeW5jaHJvbm91cy5cblx0ZnVuY3Rpb24gY2FsbGJhY2tBc2FwKGNiLCBlcnIsIHJlcykge1xuXHQgICAgYXNhcChmdW5jdGlvbigpIHsgY2IoZXJyLCByZXMpOyB9KTtcblx0fVxuXG5cdHZhciBFbnZpcm9ubWVudCA9IE9iai5leHRlbmQoe1xuXHQgICAgaW5pdDogZnVuY3Rpb24obG9hZGVycywgb3B0cykge1xuXHQgICAgICAgIC8vIFRoZSBkZXYgZmxhZyBkZXRlcm1pbmVzIHRoZSB0cmFjZSB0aGF0J2xsIGJlIHNob3duIG9uIGVycm9ycy5cblx0ICAgICAgICAvLyBJZiBzZXQgdG8gdHJ1ZSwgcmV0dXJucyB0aGUgZnVsbCB0cmFjZSBmcm9tIHRoZSBlcnJvciBwb2ludCxcblx0ICAgICAgICAvLyBvdGhlcndpc2Ugd2lsbCByZXR1cm4gdHJhY2Ugc3RhcnRpbmcgZnJvbSBUZW1wbGF0ZS5yZW5kZXJcblx0ICAgICAgICAvLyAodGhlIGZ1bGwgdHJhY2UgZnJvbSB3aXRoaW4gbnVuanVja3MgbWF5IGNvbmZ1c2UgZGV2ZWxvcGVycyB1c2luZ1xuXHQgICAgICAgIC8vICB0aGUgbGlicmFyeSlcblx0ICAgICAgICAvLyBkZWZhdWx0cyB0byBmYWxzZVxuXHQgICAgICAgIG9wdHMgPSB0aGlzLm9wdHMgPSBvcHRzIHx8IHt9O1xuXHQgICAgICAgIHRoaXMub3B0cy5kZXYgPSAhIW9wdHMuZGV2O1xuXG5cdCAgICAgICAgLy8gVGhlIGF1dG9lc2NhcGUgZmxhZyBzZXRzIGdsb2JhbCBhdXRvZXNjYXBpbmcuIElmIHRydWUsXG5cdCAgICAgICAgLy8gZXZlcnkgc3RyaW5nIHZhcmlhYmxlIHdpbGwgYmUgZXNjYXBlZCBieSBkZWZhdWx0LlxuXHQgICAgICAgIC8vIElmIGZhbHNlLCBzdHJpbmdzIGNhbiBiZSBtYW51YWxseSBlc2NhcGVkIHVzaW5nIHRoZSBgZXNjYXBlYCBmaWx0ZXIuXG5cdCAgICAgICAgLy8gZGVmYXVsdHMgdG8gdHJ1ZVxuXHQgICAgICAgIHRoaXMub3B0cy5hdXRvZXNjYXBlID0gb3B0cy5hdXRvZXNjYXBlICE9IG51bGwgPyBvcHRzLmF1dG9lc2NhcGUgOiB0cnVlO1xuXG5cdCAgICAgICAgLy8gSWYgdHJ1ZSwgdGhpcyB3aWxsIG1ha2UgdGhlIHN5c3RlbSB0aHJvdyBlcnJvcnMgaWYgdHJ5aW5nXG5cdCAgICAgICAgLy8gdG8gb3V0cHV0IGEgbnVsbCBvciB1bmRlZmluZWQgdmFsdWVcblx0ICAgICAgICB0aGlzLm9wdHMudGhyb3dPblVuZGVmaW5lZCA9ICEhb3B0cy50aHJvd09uVW5kZWZpbmVkO1xuXHQgICAgICAgIHRoaXMub3B0cy50cmltQmxvY2tzID0gISFvcHRzLnRyaW1CbG9ja3M7XG5cdCAgICAgICAgdGhpcy5vcHRzLmxzdHJpcEJsb2NrcyA9ICEhb3B0cy5sc3RyaXBCbG9ja3M7XG5cblx0ICAgICAgICB0aGlzLmxvYWRlcnMgPSBbXTtcblxuXHQgICAgICAgIGlmKCFsb2FkZXJzKSB7XG5cdCAgICAgICAgICAgIC8vIFRoZSBmaWxlc3lzdGVtIGxvYWRlciBpcyBvbmx5IGF2YWlsYWJsZSBzZXJ2ZXItc2lkZVxuXHQgICAgICAgICAgICBpZihidWlsdGluX2xvYWRlcnMuRmlsZVN5c3RlbUxvYWRlcikge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5sb2FkZXJzID0gW25ldyBidWlsdGluX2xvYWRlcnMuRmlsZVN5c3RlbUxvYWRlcigndmlld3MnKV07XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgZWxzZSBpZihidWlsdGluX2xvYWRlcnMuV2ViTG9hZGVyKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLmxvYWRlcnMgPSBbbmV3IGJ1aWx0aW5fbG9hZGVycy5XZWJMb2FkZXIoJy92aWV3cycpXTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgdGhpcy5sb2FkZXJzID0gbGliLmlzQXJyYXkobG9hZGVycykgPyBsb2FkZXJzIDogW2xvYWRlcnNdO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIC8vIEl0J3MgZWFzeSB0byB1c2UgcHJlY29tcGlsZWQgdGVtcGxhdGVzOiBqdXN0IGluY2x1ZGUgdGhlbVxuXHQgICAgICAgIC8vIGJlZm9yZSB5b3UgY29uZmlndXJlIG51bmp1Y2tzIGFuZCB0aGlzIHdpbGwgYXV0b21hdGljYWxseVxuXHQgICAgICAgIC8vIHBpY2sgaXQgdXAgYW5kIHVzZSBpdFxuXHQgICAgICAgIGlmKCh0cnVlKSAmJiB3aW5kb3cubnVuanVja3NQcmVjb21waWxlZCkge1xuXHQgICAgICAgICAgICB0aGlzLmxvYWRlcnMudW5zaGlmdChcblx0ICAgICAgICAgICAgICAgIG5ldyBidWlsdGluX2xvYWRlcnMuUHJlY29tcGlsZWRMb2FkZXIod2luZG93Lm51bmp1Y2tzUHJlY29tcGlsZWQpXG5cdCAgICAgICAgICAgICk7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgdGhpcy5pbml0Q2FjaGUoKTtcblxuXHQgICAgICAgIHRoaXMuZ2xvYmFscyA9IGdsb2JhbHMoKTtcblx0ICAgICAgICB0aGlzLmZpbHRlcnMgPSB7fTtcblx0ICAgICAgICB0aGlzLmFzeW5jRmlsdGVycyA9IFtdO1xuXHQgICAgICAgIHRoaXMuZXh0ZW5zaW9ucyA9IHt9O1xuXHQgICAgICAgIHRoaXMuZXh0ZW5zaW9uc0xpc3QgPSBbXTtcblxuXHQgICAgICAgIGZvcih2YXIgbmFtZSBpbiBidWlsdGluX2ZpbHRlcnMpIHtcblx0ICAgICAgICAgICAgdGhpcy5hZGRGaWx0ZXIobmFtZSwgYnVpbHRpbl9maWx0ZXJzW25hbWVdKTtcblx0ICAgICAgICB9XG5cdCAgICB9LFxuXG5cdCAgICBpbml0Q2FjaGU6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIC8vIENhY2hpbmcgYW5kIGNhY2hlIGJ1c3Rpbmdcblx0ICAgICAgICBsaWIuZWFjaCh0aGlzLmxvYWRlcnMsIGZ1bmN0aW9uKGxvYWRlcikge1xuXHQgICAgICAgICAgICBsb2FkZXIuY2FjaGUgPSB7fTtcblxuXHQgICAgICAgICAgICBpZih0eXBlb2YgbG9hZGVyLm9uID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgICAgICAgICBsb2FkZXIub24oJ3VwZGF0ZScsIGZ1bmN0aW9uKHRlbXBsYXRlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgbG9hZGVyLmNhY2hlW3RlbXBsYXRlXSA9IG51bGw7XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXHQgICAgfSxcblxuXHQgICAgYWRkRXh0ZW5zaW9uOiBmdW5jdGlvbihuYW1lLCBleHRlbnNpb24pIHtcblx0ICAgICAgICBleHRlbnNpb24uX25hbWUgPSBuYW1lO1xuXHQgICAgICAgIHRoaXMuZXh0ZW5zaW9uc1tuYW1lXSA9IGV4dGVuc2lvbjtcblx0ICAgICAgICB0aGlzLmV4dGVuc2lvbnNMaXN0LnB1c2goZXh0ZW5zaW9uKTtcblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH0sXG5cblx0ICAgIHJlbW92ZUV4dGVuc2lvbjogZnVuY3Rpb24obmFtZSkge1xuXHQgICAgICAgIHZhciBleHRlbnNpb24gPSB0aGlzLmdldEV4dGVuc2lvbihuYW1lKTtcblx0ICAgICAgICBpZiAoIWV4dGVuc2lvbikgcmV0dXJuO1xuXG5cdCAgICAgICAgdGhpcy5leHRlbnNpb25zTGlzdCA9IGxpYi53aXRob3V0KHRoaXMuZXh0ZW5zaW9uc0xpc3QsIGV4dGVuc2lvbik7XG5cdCAgICAgICAgZGVsZXRlIHRoaXMuZXh0ZW5zaW9uc1tuYW1lXTtcblx0ICAgIH0sXG5cblx0ICAgIGdldEV4dGVuc2lvbjogZnVuY3Rpb24obmFtZSkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLmV4dGVuc2lvbnNbbmFtZV07XG5cdCAgICB9LFxuXG5cdCAgICBoYXNFeHRlbnNpb246IGZ1bmN0aW9uKG5hbWUpIHtcblx0ICAgICAgICByZXR1cm4gISF0aGlzLmV4dGVuc2lvbnNbbmFtZV07XG5cdCAgICB9LFxuXG5cdCAgICBhZGRHbG9iYWw6IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG5cdCAgICAgICAgdGhpcy5nbG9iYWxzW25hbWVdID0gdmFsdWU7XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9LFxuXG5cdCAgICBnZXRHbG9iYWw6IGZ1bmN0aW9uKG5hbWUpIHtcblx0ICAgICAgICBpZih0eXBlb2YgdGhpcy5nbG9iYWxzW25hbWVdID09PSAndW5kZWZpbmVkJykge1xuXHQgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2dsb2JhbCBub3QgZm91bmQ6ICcgKyBuYW1lKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuZ2xvYmFsc1tuYW1lXTtcblx0ICAgIH0sXG5cblx0ICAgIGFkZEZpbHRlcjogZnVuY3Rpb24obmFtZSwgZnVuYywgYXN5bmMpIHtcblx0ICAgICAgICB2YXIgd3JhcHBlZCA9IGZ1bmM7XG5cblx0ICAgICAgICBpZihhc3luYykge1xuXHQgICAgICAgICAgICB0aGlzLmFzeW5jRmlsdGVycy5wdXNoKG5hbWUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB0aGlzLmZpbHRlcnNbbmFtZV0gPSB3cmFwcGVkO1xuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfSxcblxuXHQgICAgZ2V0RmlsdGVyOiBmdW5jdGlvbihuYW1lKSB7XG5cdCAgICAgICAgaWYoIXRoaXMuZmlsdGVyc1tuYW1lXSkge1xuXHQgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ZpbHRlciBub3QgZm91bmQ6ICcgKyBuYW1lKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyc1tuYW1lXTtcblx0ICAgIH0sXG5cblx0ICAgIHJlc29sdmVUZW1wbGF0ZTogZnVuY3Rpb24obG9hZGVyLCBwYXJlbnROYW1lLCBmaWxlbmFtZSkge1xuXHQgICAgICAgIHZhciBpc1JlbGF0aXZlID0gKGxvYWRlci5pc1JlbGF0aXZlICYmIHBhcmVudE5hbWUpPyBsb2FkZXIuaXNSZWxhdGl2ZShmaWxlbmFtZSkgOiBmYWxzZTtcblx0ICAgICAgICByZXR1cm4gKGlzUmVsYXRpdmUgJiYgbG9hZGVyLnJlc29sdmUpPyBsb2FkZXIucmVzb2x2ZShwYXJlbnROYW1lLCBmaWxlbmFtZSkgOiBmaWxlbmFtZTtcblx0ICAgIH0sXG5cblx0ICAgIGdldFRlbXBsYXRlOiBmdW5jdGlvbihuYW1lLCBlYWdlckNvbXBpbGUsIHBhcmVudE5hbWUsIGlnbm9yZU1pc3NpbmcsIGNiKSB7XG5cdCAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuXHQgICAgICAgIHZhciB0bXBsID0gbnVsbDtcblx0ICAgICAgICBpZihuYW1lICYmIG5hbWUucmF3KSB7XG5cdCAgICAgICAgICAgIC8vIHRoaXMgZml4ZXMgYXV0b2VzY2FwZSBmb3IgdGVtcGxhdGVzIHJlZmVyZW5jZWQgaW4gc3ltYm9sc1xuXHQgICAgICAgICAgICBuYW1lID0gbmFtZS5yYXc7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgaWYobGliLmlzRnVuY3Rpb24ocGFyZW50TmFtZSkpIHtcblx0ICAgICAgICAgICAgY2IgPSBwYXJlbnROYW1lO1xuXHQgICAgICAgICAgICBwYXJlbnROYW1lID0gbnVsbDtcblx0ICAgICAgICAgICAgZWFnZXJDb21waWxlID0gZWFnZXJDb21waWxlIHx8IGZhbHNlO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIGlmKGxpYi5pc0Z1bmN0aW9uKGVhZ2VyQ29tcGlsZSkpIHtcblx0ICAgICAgICAgICAgY2IgPSBlYWdlckNvbXBpbGU7XG5cdCAgICAgICAgICAgIGVhZ2VyQ29tcGlsZSA9IGZhbHNlO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIGlmIChuYW1lIGluc3RhbmNlb2YgVGVtcGxhdGUpIHtcblx0ICAgICAgICAgICAgIHRtcGwgPSBuYW1lO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBlbHNlIGlmKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykge1xuXHQgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3RlbXBsYXRlIG5hbWVzIG11c3QgYmUgYSBzdHJpbmc6ICcgKyBuYW1lKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sb2FkZXJzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgX25hbWUgPSB0aGlzLnJlc29sdmVUZW1wbGF0ZSh0aGlzLmxvYWRlcnNbaV0sIHBhcmVudE5hbWUsIG5hbWUpO1xuXHQgICAgICAgICAgICAgICAgdG1wbCA9IHRoaXMubG9hZGVyc1tpXS5jYWNoZVtfbmFtZV07XG5cdCAgICAgICAgICAgICAgICBpZiAodG1wbCkgYnJlYWs7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cblx0ICAgICAgICBpZih0bXBsKSB7XG5cdCAgICAgICAgICAgIGlmKGVhZ2VyQ29tcGlsZSkge1xuXHQgICAgICAgICAgICAgICAgdG1wbC5jb21waWxlKCk7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICBpZihjYikge1xuXHQgICAgICAgICAgICAgICAgY2IobnVsbCwgdG1wbCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdG1wbDtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHZhciBzeW5jUmVzdWx0O1xuXHQgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG5cdCAgICAgICAgICAgIHZhciBjcmVhdGVUZW1wbGF0ZSA9IGZ1bmN0aW9uKGVyciwgaW5mbykge1xuXHQgICAgICAgICAgICAgICAgaWYoIWluZm8gJiYgIWVycikge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmKCFpZ25vcmVNaXNzaW5nKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGVyciA9IG5ldyBFcnJvcigndGVtcGxhdGUgbm90IGZvdW5kOiAnICsgbmFtZSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYoY2IpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY2IoZXJyKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVycjtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgdG1wbDtcblx0ICAgICAgICAgICAgICAgICAgICBpZihpbmZvKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRtcGwgPSBuZXcgVGVtcGxhdGUoaW5mby5zcmMsIF90aGlzLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZm8ucGF0aCwgZWFnZXJDb21waWxlKTtcblxuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZighaW5mby5ub0NhY2hlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmZvLmxvYWRlci5jYWNoZVtuYW1lXSA9IHRtcGw7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRtcGwgPSBuZXcgVGVtcGxhdGUoJycsIF90aGlzLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcnLCBlYWdlckNvbXBpbGUpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgICAgIGlmKGNiKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGNiKG51bGwsIHRtcGwpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgc3luY1Jlc3VsdCA9IHRtcGw7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9O1xuXG5cdCAgICAgICAgICAgIGxpYi5hc3luY0l0ZXIodGhpcy5sb2FkZXJzLCBmdW5jdGlvbihsb2FkZXIsIGksIG5leHQsIGRvbmUpIHtcblx0ICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGhhbmRsZShlcnIsIHNyYykge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmKGVycikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBkb25lKGVycik7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYoc3JjKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHNyYy5sb2FkZXIgPSBsb2FkZXI7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGRvbmUobnVsbCwgc3JjKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgIC8vIFJlc29sdmUgbmFtZSByZWxhdGl2ZSB0byBwYXJlbnROYW1lXG5cdCAgICAgICAgICAgICAgICBuYW1lID0gdGhhdC5yZXNvbHZlVGVtcGxhdGUobG9hZGVyLCBwYXJlbnROYW1lLCBuYW1lKTtcblxuXHQgICAgICAgICAgICAgICAgaWYobG9hZGVyLmFzeW5jKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgbG9hZGVyLmdldFNvdXJjZShuYW1lLCBoYW5kbGUpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaGFuZGxlKG51bGwsIGxvYWRlci5nZXRTb3VyY2UobmFtZSkpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9LCBjcmVhdGVUZW1wbGF0ZSk7XG5cblx0ICAgICAgICAgICAgcmV0dXJuIHN5bmNSZXN1bHQ7XG5cdCAgICAgICAgfVxuXHQgICAgfSxcblxuXHQgICAgZXhwcmVzczogZnVuY3Rpb24oYXBwKSB7XG5cdCAgICAgICAgdmFyIGVudiA9IHRoaXM7XG5cblx0ICAgICAgICBmdW5jdGlvbiBOdW5qdWNrc1ZpZXcobmFtZSwgb3B0cykge1xuXHQgICAgICAgICAgICB0aGlzLm5hbWUgICAgICAgICAgPSBuYW1lO1xuXHQgICAgICAgICAgICB0aGlzLnBhdGggICAgICAgICAgPSBuYW1lO1xuXHQgICAgICAgICAgICB0aGlzLmRlZmF1bHRFbmdpbmUgPSBvcHRzLmRlZmF1bHRFbmdpbmU7XG5cdCAgICAgICAgICAgIHRoaXMuZXh0ICAgICAgICAgICA9IHBhdGguZXh0bmFtZShuYW1lKTtcblx0ICAgICAgICAgICAgaWYgKCF0aGlzLmV4dCAmJiAhdGhpcy5kZWZhdWx0RW5naW5lKSB0aHJvdyBuZXcgRXJyb3IoJ05vIGRlZmF1bHQgZW5naW5lIHdhcyBzcGVjaWZpZWQgYW5kIG5vIGV4dGVuc2lvbiB3YXMgcHJvdmlkZWQuJyk7XG5cdCAgICAgICAgICAgIGlmICghdGhpcy5leHQpIHRoaXMubmFtZSArPSAodGhpcy5leHQgPSAoJy4nICE9PSB0aGlzLmRlZmF1bHRFbmdpbmVbMF0gPyAnLicgOiAnJykgKyB0aGlzLmRlZmF1bHRFbmdpbmUpO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIE51bmp1Y2tzVmlldy5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24ob3B0cywgY2IpIHtcblx0ICAgICAgICAgIGVudi5yZW5kZXIodGhpcy5uYW1lLCBvcHRzLCBjYik7XG5cdCAgICAgICAgfTtcblxuXHQgICAgICAgIGFwcC5zZXQoJ3ZpZXcnLCBOdW5qdWNrc1ZpZXcpO1xuXHQgICAgICAgIGFwcC5zZXQoJ251bmp1Y2tzRW52JywgdGhpcyk7XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9LFxuXG5cdCAgICByZW5kZXI6IGZ1bmN0aW9uKG5hbWUsIGN0eCwgY2IpIHtcblx0ICAgICAgICBpZihsaWIuaXNGdW5jdGlvbihjdHgpKSB7XG5cdCAgICAgICAgICAgIGNiID0gY3R4O1xuXHQgICAgICAgICAgICBjdHggPSBudWxsO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIC8vIFdlIHN1cHBvcnQgYSBzeW5jaHJvbm91cyBBUEkgdG8gbWFrZSBpdCBlYXNpZXIgdG8gbWlncmF0ZVxuXHQgICAgICAgIC8vIGV4aXN0aW5nIGNvZGUgdG8gYXN5bmMuIFRoaXMgd29ya3MgYmVjYXVzZSBpZiB5b3UgZG9uJ3QgZG9cblx0ICAgICAgICAvLyBhbnl0aGluZyBhc3luYyB3b3JrLCB0aGUgd2hvbGUgdGhpbmcgaXMgYWN0dWFsbHkgcnVuXG5cdCAgICAgICAgLy8gc3luY2hyb25vdXNseS5cblx0ICAgICAgICB2YXIgc3luY1Jlc3VsdCA9IG51bGw7XG5cblx0ICAgICAgICB0aGlzLmdldFRlbXBsYXRlKG5hbWUsIGZ1bmN0aW9uKGVyciwgdG1wbCkge1xuXHQgICAgICAgICAgICBpZihlcnIgJiYgY2IpIHtcblx0ICAgICAgICAgICAgICAgIGNhbGxiYWNrQXNhcChjYiwgZXJyKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBlbHNlIGlmKGVycikge1xuXHQgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgc3luY1Jlc3VsdCA9IHRtcGwucmVuZGVyKGN0eCwgY2IpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cblx0ICAgICAgICByZXR1cm4gc3luY1Jlc3VsdDtcblx0ICAgIH0sXG5cblx0ICAgIHJlbmRlclN0cmluZzogZnVuY3Rpb24oc3JjLCBjdHgsIG9wdHMsIGNiKSB7XG5cdCAgICAgICAgaWYobGliLmlzRnVuY3Rpb24ob3B0cykpIHtcblx0ICAgICAgICAgICAgY2IgPSBvcHRzO1xuXHQgICAgICAgICAgICBvcHRzID0ge307XG5cdCAgICAgICAgfVxuXHQgICAgICAgIG9wdHMgPSBvcHRzIHx8IHt9O1xuXG5cdCAgICAgICAgdmFyIHRtcGwgPSBuZXcgVGVtcGxhdGUoc3JjLCB0aGlzLCBvcHRzLnBhdGgpO1xuXHQgICAgICAgIHJldHVybiB0bXBsLnJlbmRlcihjdHgsIGNiKTtcblx0ICAgIH1cblx0fSk7XG5cblx0dmFyIENvbnRleHQgPSBPYmouZXh0ZW5kKHtcblx0ICAgIGluaXQ6IGZ1bmN0aW9uKGN0eCwgYmxvY2tzLCBlbnYpIHtcblx0ICAgICAgICAvLyBIYXMgdG8gYmUgdGllZCB0byBhbiBlbnZpcm9ubWVudCBzbyB3ZSBjYW4gdGFwIGludG8gaXRzIGdsb2JhbHMuXG5cdCAgICAgICAgdGhpcy5lbnYgPSBlbnYgfHwgbmV3IEVudmlyb25tZW50KCk7XG5cblx0ICAgICAgICAvLyBNYWtlIGEgZHVwbGljYXRlIG9mIGN0eFxuXHQgICAgICAgIHRoaXMuY3R4ID0ge307XG5cdCAgICAgICAgZm9yKHZhciBrIGluIGN0eCkge1xuXHQgICAgICAgICAgICBpZihjdHguaGFzT3duUHJvcGVydHkoaykpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMuY3R4W2tdID0gY3R4W2tdO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgdGhpcy5ibG9ja3MgPSB7fTtcblx0ICAgICAgICB0aGlzLmV4cG9ydGVkID0gW107XG5cblx0ICAgICAgICBmb3IodmFyIG5hbWUgaW4gYmxvY2tzKSB7XG5cdCAgICAgICAgICAgIHRoaXMuYWRkQmxvY2sobmFtZSwgYmxvY2tzW25hbWVdKTtcblx0ICAgICAgICB9XG5cdCAgICB9LFxuXG5cdCAgICBsb29rdXA6IGZ1bmN0aW9uKG5hbWUpIHtcblx0ICAgICAgICAvLyBUaGlzIGlzIG9uZSBvZiB0aGUgbW9zdCBjYWxsZWQgZnVuY3Rpb25zLCBzbyBvcHRpbWl6ZSBmb3Jcblx0ICAgICAgICAvLyB0aGUgdHlwaWNhbCBjYXNlIHdoZXJlIHRoZSBuYW1lIGlzbid0IGluIHRoZSBnbG9iYWxzXG5cdCAgICAgICAgaWYobmFtZSBpbiB0aGlzLmVudi5nbG9iYWxzICYmICEobmFtZSBpbiB0aGlzLmN0eCkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW52Lmdsb2JhbHNbbmFtZV07XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5jdHhbbmFtZV07XG5cdCAgICAgICAgfVxuXHQgICAgfSxcblxuXHQgICAgc2V0VmFyaWFibGU6IGZ1bmN0aW9uKG5hbWUsIHZhbCkge1xuXHQgICAgICAgIHRoaXMuY3R4W25hbWVdID0gdmFsO1xuXHQgICAgfSxcblxuXHQgICAgZ2V0VmFyaWFibGVzOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5jdHg7XG5cdCAgICB9LFxuXG5cdCAgICBhZGRCbG9jazogZnVuY3Rpb24obmFtZSwgYmxvY2spIHtcblx0ICAgICAgICB0aGlzLmJsb2Nrc1tuYW1lXSA9IHRoaXMuYmxvY2tzW25hbWVdIHx8IFtdO1xuXHQgICAgICAgIHRoaXMuYmxvY2tzW25hbWVdLnB1c2goYmxvY2spO1xuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfSxcblxuXHQgICAgZ2V0QmxvY2s6IGZ1bmN0aW9uKG5hbWUpIHtcblx0ICAgICAgICBpZighdGhpcy5ibG9ja3NbbmFtZV0pIHtcblx0ICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIGJsb2NrIFwiJyArIG5hbWUgKyAnXCInKTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICByZXR1cm4gdGhpcy5ibG9ja3NbbmFtZV1bMF07XG5cdCAgICB9LFxuXG5cdCAgICBnZXRTdXBlcjogZnVuY3Rpb24oZW52LCBuYW1lLCBibG9jaywgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG5cdCAgICAgICAgdmFyIGlkeCA9IGxpYi5pbmRleE9mKHRoaXMuYmxvY2tzW25hbWVdIHx8IFtdLCBibG9jayk7XG5cdCAgICAgICAgdmFyIGJsayA9IHRoaXMuYmxvY2tzW25hbWVdW2lkeCArIDFdO1xuXHQgICAgICAgIHZhciBjb250ZXh0ID0gdGhpcztcblxuXHQgICAgICAgIGlmKGlkeCA9PT0gLTEgfHwgIWJsaykge1xuXHQgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vIHN1cGVyIGJsb2NrIGF2YWlsYWJsZSBmb3IgXCInICsgbmFtZSArICdcIicpO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIGJsayhlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYik7XG5cdCAgICB9LFxuXG5cdCAgICBhZGRFeHBvcnQ6IGZ1bmN0aW9uKG5hbWUpIHtcblx0ICAgICAgICB0aGlzLmV4cG9ydGVkLnB1c2gobmFtZSk7XG5cdCAgICB9LFxuXG5cdCAgICBnZXRFeHBvcnRlZDogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIGV4cG9ydGVkID0ge307XG5cdCAgICAgICAgZm9yKHZhciBpPTA7IGk8dGhpcy5leHBvcnRlZC5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICB2YXIgbmFtZSA9IHRoaXMuZXhwb3J0ZWRbaV07XG5cdCAgICAgICAgICAgIGV4cG9ydGVkW25hbWVdID0gdGhpcy5jdHhbbmFtZV07XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBleHBvcnRlZDtcblx0ICAgIH1cblx0fSk7XG5cblx0VGVtcGxhdGUgPSBPYmouZXh0ZW5kKHtcblx0ICAgIGluaXQ6IGZ1bmN0aW9uIChzcmMsIGVudiwgcGF0aCwgZWFnZXJDb21waWxlKSB7XG5cdCAgICAgICAgdGhpcy5lbnYgPSBlbnYgfHwgbmV3IEVudmlyb25tZW50KCk7XG5cblx0ICAgICAgICBpZihsaWIuaXNPYmplY3Qoc3JjKSkge1xuXHQgICAgICAgICAgICBzd2l0Y2goc3JjLnR5cGUpIHtcblx0ICAgICAgICAgICAgY2FzZSAnY29kZSc6IHRoaXMudG1wbFByb3BzID0gc3JjLm9iajsgYnJlYWs7XG5cdCAgICAgICAgICAgIGNhc2UgJ3N0cmluZyc6IHRoaXMudG1wbFN0ciA9IHNyYy5vYmo7IGJyZWFrO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsc2UgaWYobGliLmlzU3RyaW5nKHNyYykpIHtcblx0ICAgICAgICAgICAgdGhpcy50bXBsU3RyID0gc3JjO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzcmMgbXVzdCBiZSBhIHN0cmluZyBvciBhbiBvYmplY3QgZGVzY3JpYmluZyAnICtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0aGUgc291cmNlJyk7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgdGhpcy5wYXRoID0gcGF0aDtcblxuXHQgICAgICAgIGlmKGVhZ2VyQ29tcGlsZSkge1xuXHQgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHQgICAgICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAgICAgX3RoaXMuX2NvbXBpbGUoKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBjYXRjaChlcnIpIHtcblx0ICAgICAgICAgICAgICAgIHRocm93IGxpYi5wcmV0dGlmeUVycm9yKHRoaXMucGF0aCwgdGhpcy5lbnYub3B0cy5kZXYsIGVycik7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICAgIHRoaXMuY29tcGlsZWQgPSBmYWxzZTtcblx0ICAgICAgICB9XG5cdCAgICB9LFxuXG5cdCAgICByZW5kZXI6IGZ1bmN0aW9uKGN0eCwgcGFyZW50RnJhbWUsIGNiKSB7XG5cdCAgICAgICAgaWYgKHR5cGVvZiBjdHggPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICAgICAgY2IgPSBjdHg7XG5cdCAgICAgICAgICAgIGN0eCA9IHt9O1xuXHQgICAgICAgIH1cblx0ICAgICAgICBlbHNlIGlmICh0eXBlb2YgcGFyZW50RnJhbWUgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICAgICAgY2IgPSBwYXJlbnRGcmFtZTtcblx0ICAgICAgICAgICAgcGFyZW50RnJhbWUgPSBudWxsO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHZhciBmb3JjZUFzeW5jID0gdHJ1ZTtcblx0ICAgICAgICBpZihwYXJlbnRGcmFtZSkge1xuXHQgICAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBhIGZyYW1lLCB3ZSBhcmUgYmVpbmcgY2FsbGVkIGZyb20gaW50ZXJuYWxcblx0ICAgICAgICAgICAgLy8gY29kZSBvZiBhbm90aGVyIHRlbXBsYXRlLCBhbmQgdGhlIGludGVybmFsIHN5c3RlbVxuXHQgICAgICAgICAgICAvLyBkZXBlbmRzIG9uIHRoZSBzeW5jL2FzeW5jIG5hdHVyZSBvZiB0aGUgcGFyZW50IHRlbXBsYXRlXG5cdCAgICAgICAgICAgIC8vIHRvIGJlIGluaGVyaXRlZCwgc28gZm9yY2UgYW4gYXN5bmMgY2FsbGJhY2tcblx0ICAgICAgICAgICAgZm9yY2VBc3luYyA9IGZhbHNlO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdCAgICAgICAgLy8gQ2F0Y2ggY29tcGlsZSBlcnJvcnMgZm9yIGFzeW5jIHJlbmRlcmluZ1xuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgIF90aGlzLmNvbXBpbGUoKTtcblx0ICAgICAgICB9IGNhdGNoIChfZXJyKSB7XG5cdCAgICAgICAgICAgIHZhciBlcnIgPSBsaWIucHJldHRpZnlFcnJvcih0aGlzLnBhdGgsIHRoaXMuZW52Lm9wdHMuZGV2LCBfZXJyKTtcblx0ICAgICAgICAgICAgaWYgKGNiKSByZXR1cm4gY2FsbGJhY2tBc2FwKGNiLCBlcnIpO1xuXHQgICAgICAgICAgICBlbHNlIHRocm93IGVycjtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICB2YXIgY29udGV4dCA9IG5ldyBDb250ZXh0KGN0eCB8fCB7fSwgX3RoaXMuYmxvY2tzLCBfdGhpcy5lbnYpO1xuXHQgICAgICAgIHZhciBmcmFtZSA9IHBhcmVudEZyYW1lID8gcGFyZW50RnJhbWUucHVzaCh0cnVlKSA6IG5ldyBGcmFtZSgpO1xuXHQgICAgICAgIGZyYW1lLnRvcExldmVsID0gdHJ1ZTtcblx0ICAgICAgICB2YXIgc3luY1Jlc3VsdCA9IG51bGw7XG5cblx0ICAgICAgICBfdGhpcy5yb290UmVuZGVyRnVuYyhcblx0ICAgICAgICAgICAgX3RoaXMuZW52LFxuXHQgICAgICAgICAgICBjb250ZXh0LFxuXHQgICAgICAgICAgICBmcmFtZSB8fCBuZXcgRnJhbWUoKSxcblx0ICAgICAgICAgICAgcnVudGltZSxcblx0ICAgICAgICAgICAgZnVuY3Rpb24oZXJyLCByZXMpIHtcblx0ICAgICAgICAgICAgICAgIGlmKGVycikge1xuXHQgICAgICAgICAgICAgICAgICAgIGVyciA9IGxpYi5wcmV0dGlmeUVycm9yKF90aGlzLnBhdGgsIF90aGlzLmVudi5vcHRzLmRldiwgZXJyKTtcblx0ICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgaWYoY2IpIHtcblx0ICAgICAgICAgICAgICAgICAgICBpZihmb3JjZUFzeW5jKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrQXNhcChjYiwgZXJyLCByZXMpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY2IoZXJyLCByZXMpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmKGVycikgeyB0aHJvdyBlcnI7IH1cblx0ICAgICAgICAgICAgICAgICAgICBzeW5jUmVzdWx0ID0gcmVzO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgKTtcblxuXHQgICAgICAgIHJldHVybiBzeW5jUmVzdWx0O1xuXHQgICAgfSxcblxuXG5cdCAgICBnZXRFeHBvcnRlZDogZnVuY3Rpb24oY3R4LCBwYXJlbnRGcmFtZSwgY2IpIHtcblx0ICAgICAgICBpZiAodHlwZW9mIGN0eCA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgICAgICBjYiA9IGN0eDtcblx0ICAgICAgICAgICAgY3R4ID0ge307XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgaWYgKHR5cGVvZiBwYXJlbnRGcmFtZSA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgICAgICBjYiA9IHBhcmVudEZyYW1lO1xuXHQgICAgICAgICAgICBwYXJlbnRGcmFtZSA9IG51bGw7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgLy8gQ2F0Y2ggY29tcGlsZSBlcnJvcnMgZm9yIGFzeW5jIHJlbmRlcmluZ1xuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgIHRoaXMuY29tcGlsZSgpO1xuXHQgICAgICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICAgICAgaWYgKGNiKSByZXR1cm4gY2IoZSk7XG5cdCAgICAgICAgICAgIGVsc2UgdGhyb3cgZTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICB2YXIgZnJhbWUgPSBwYXJlbnRGcmFtZSA/IHBhcmVudEZyYW1lLnB1c2goKSA6IG5ldyBGcmFtZSgpO1xuXHQgICAgICAgIGZyYW1lLnRvcExldmVsID0gdHJ1ZTtcblxuXHQgICAgICAgIC8vIFJ1biB0aGUgcm9vdFJlbmRlckZ1bmMgdG8gcG9wdWxhdGUgdGhlIGNvbnRleHQgd2l0aCBleHBvcnRlZCB2YXJzXG5cdCAgICAgICAgdmFyIGNvbnRleHQgPSBuZXcgQ29udGV4dChjdHggfHwge30sIHRoaXMuYmxvY2tzLCB0aGlzLmVudik7XG5cdCAgICAgICAgdGhpcy5yb290UmVuZGVyRnVuYyh0aGlzLmVudixcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmFtZSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bnRpbWUsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihlcnIpIHtcblx0ICAgICAgICBcdFx0ICAgICAgICBpZiAoIGVyciApIHtcblx0ICAgICAgICBcdFx0XHQgICAgY2IoZXJyLCBudWxsKTtcblx0ICAgICAgICBcdFx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIFx0XHRcdCAgICBjYihudWxsLCBjb250ZXh0LmdldEV4cG9ydGVkKCkpO1xuXHQgICAgICAgIFx0XHQgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgfSxcblxuXHQgICAgY29tcGlsZTogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgaWYoIXRoaXMuY29tcGlsZWQpIHtcblx0ICAgICAgICAgICAgdGhpcy5fY29tcGlsZSgpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sXG5cblx0ICAgIF9jb21waWxlOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgcHJvcHM7XG5cblx0ICAgICAgICBpZih0aGlzLnRtcGxQcm9wcykge1xuXHQgICAgICAgICAgICBwcm9wcyA9IHRoaXMudG1wbFByb3BzO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGNvbXBpbGVyLmNvbXBpbGUodGhpcy50bXBsU3RyLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVudi5hc3luY0ZpbHRlcnMsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW52LmV4dGVuc2lvbnNMaXN0LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhdGgsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW52Lm9wdHMpO1xuXG5cdCAgICAgICAgICAgIC8qIGpzbGludCBldmlsOiB0cnVlICovXG5cdCAgICAgICAgICAgIHZhciBmdW5jID0gbmV3IEZ1bmN0aW9uKHNvdXJjZSk7XG5cdCAgICAgICAgICAgIHByb3BzID0gZnVuYygpO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHRoaXMuYmxvY2tzID0gdGhpcy5fZ2V0QmxvY2tzKHByb3BzKTtcblx0ICAgICAgICB0aGlzLnJvb3RSZW5kZXJGdW5jID0gcHJvcHMucm9vdDtcblx0ICAgICAgICB0aGlzLmNvbXBpbGVkID0gdHJ1ZTtcblx0ICAgIH0sXG5cblx0ICAgIF9nZXRCbG9ja3M6IGZ1bmN0aW9uKHByb3BzKSB7XG5cdCAgICAgICAgdmFyIGJsb2NrcyA9IHt9O1xuXG5cdCAgICAgICAgZm9yKHZhciBrIGluIHByb3BzKSB7XG5cdCAgICAgICAgICAgIGlmKGsuc2xpY2UoMCwgMikgPT09ICdiXycpIHtcblx0ICAgICAgICAgICAgICAgIGJsb2Nrc1trLnNsaWNlKDIpXSA9IHByb3BzW2tdO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgcmV0dXJuIGJsb2Nrcztcblx0ICAgIH1cblx0fSk7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7XG5cdCAgICBFbnZpcm9ubWVudDogRW52aXJvbm1lbnQsXG5cdCAgICBUZW1wbGF0ZTogVGVtcGxhdGVcblx0fTtcblxuXG4vKioqLyB9LFxuLyogMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XG5cbi8qKiovIH0sXG4vKiA0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHQvLyByYXdBc2FwIHByb3ZpZGVzIGV2ZXJ5dGhpbmcgd2UgbmVlZCBleGNlcHQgZXhjZXB0aW9uIG1hbmFnZW1lbnQuXG5cdHZhciByYXdBc2FwID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0Ly8gUmF3VGFza3MgYXJlIHJlY3ljbGVkIHRvIHJlZHVjZSBHQyBjaHVybi5cblx0dmFyIGZyZWVUYXNrcyA9IFtdO1xuXHQvLyBXZSBxdWV1ZSBlcnJvcnMgdG8gZW5zdXJlIHRoZXkgYXJlIHRocm93biBpbiByaWdodCBvcmRlciAoRklGTykuXG5cdC8vIEFycmF5LWFzLXF1ZXVlIGlzIGdvb2QgZW5vdWdoIGhlcmUsIHNpbmNlIHdlIGFyZSBqdXN0IGRlYWxpbmcgd2l0aCBleGNlcHRpb25zLlxuXHR2YXIgcGVuZGluZ0Vycm9ycyA9IFtdO1xuXHR2YXIgcmVxdWVzdEVycm9yVGhyb3cgPSByYXdBc2FwLm1ha2VSZXF1ZXN0Q2FsbEZyb21UaW1lcih0aHJvd0ZpcnN0RXJyb3IpO1xuXG5cdGZ1bmN0aW9uIHRocm93Rmlyc3RFcnJvcigpIHtcblx0ICAgIGlmIChwZW5kaW5nRXJyb3JzLmxlbmd0aCkge1xuXHQgICAgICAgIHRocm93IHBlbmRpbmdFcnJvcnMuc2hpZnQoKTtcblx0ICAgIH1cblx0fVxuXG5cdC8qKlxuXHQgKiBDYWxscyBhIHRhc2sgYXMgc29vbiBhcyBwb3NzaWJsZSBhZnRlciByZXR1cm5pbmcsIGluIGl0cyBvd24gZXZlbnQsIHdpdGggcHJpb3JpdHlcblx0ICogb3ZlciBvdGhlciBldmVudHMgbGlrZSBhbmltYXRpb24sIHJlZmxvdywgYW5kIHJlcGFpbnQuIEFuIGVycm9yIHRocm93biBmcm9tIGFuXG5cdCAqIGV2ZW50IHdpbGwgbm90IGludGVycnVwdCwgbm9yIGV2ZW4gc3Vic3RhbnRpYWxseSBzbG93IGRvd24gdGhlIHByb2Nlc3Npbmcgb2Zcblx0ICogb3RoZXIgZXZlbnRzLCBidXQgd2lsbCBiZSByYXRoZXIgcG9zdHBvbmVkIHRvIGEgbG93ZXIgcHJpb3JpdHkgZXZlbnQuXG5cdCAqIEBwYXJhbSB7e2NhbGx9fSB0YXNrIEEgY2FsbGFibGUgb2JqZWN0LCB0eXBpY2FsbHkgYSBmdW5jdGlvbiB0aGF0IHRha2VzIG5vXG5cdCAqIGFyZ3VtZW50cy5cblx0ICovXG5cdG1vZHVsZS5leHBvcnRzID0gYXNhcDtcblx0ZnVuY3Rpb24gYXNhcCh0YXNrKSB7XG5cdCAgICB2YXIgcmF3VGFzaztcblx0ICAgIGlmIChmcmVlVGFza3MubGVuZ3RoKSB7XG5cdCAgICAgICAgcmF3VGFzayA9IGZyZWVUYXNrcy5wb3AoKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmF3VGFzayA9IG5ldyBSYXdUYXNrKCk7XG5cdCAgICB9XG5cdCAgICByYXdUYXNrLnRhc2sgPSB0YXNrO1xuXHQgICAgcmF3QXNhcChyYXdUYXNrKTtcblx0fVxuXG5cdC8vIFdlIHdyYXAgdGFza3Mgd2l0aCByZWN5Y2xhYmxlIHRhc2sgb2JqZWN0cy4gIEEgdGFzayBvYmplY3QgaW1wbGVtZW50c1xuXHQvLyBgY2FsbGAsIGp1c3QgbGlrZSBhIGZ1bmN0aW9uLlxuXHRmdW5jdGlvbiBSYXdUYXNrKCkge1xuXHQgICAgdGhpcy50YXNrID0gbnVsbDtcblx0fVxuXG5cdC8vIFRoZSBzb2xlIHB1cnBvc2Ugb2Ygd3JhcHBpbmcgdGhlIHRhc2sgaXMgdG8gY2F0Y2ggdGhlIGV4Y2VwdGlvbiBhbmQgcmVjeWNsZVxuXHQvLyB0aGUgdGFzayBvYmplY3QgYWZ0ZXIgaXRzIHNpbmdsZSB1c2UuXG5cdFJhd1Rhc2sucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB0cnkge1xuXHQgICAgICAgIHRoaXMudGFzay5jYWxsKCk7XG5cdCAgICB9IGNhdGNoIChlcnJvcikge1xuXHQgICAgICAgIGlmIChhc2FwLm9uZXJyb3IpIHtcblx0ICAgICAgICAgICAgLy8gVGhpcyBob29rIGV4aXN0cyBwdXJlbHkgZm9yIHRlc3RpbmcgcHVycG9zZXMuXG5cdCAgICAgICAgICAgIC8vIEl0cyBuYW1lIHdpbGwgYmUgcGVyaW9kaWNhbGx5IHJhbmRvbWl6ZWQgdG8gYnJlYWsgYW55IGNvZGUgdGhhdFxuXHQgICAgICAgICAgICAvLyBkZXBlbmRzIG9uIGl0cyBleGlzdGVuY2UuXG5cdCAgICAgICAgICAgIGFzYXAub25lcnJvcihlcnJvcik7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgLy8gSW4gYSB3ZWIgYnJvd3NlciwgZXhjZXB0aW9ucyBhcmUgbm90IGZhdGFsLiBIb3dldmVyLCB0byBhdm9pZFxuXHQgICAgICAgICAgICAvLyBzbG93aW5nIGRvd24gdGhlIHF1ZXVlIG9mIHBlbmRpbmcgdGFza3MsIHdlIHJldGhyb3cgdGhlIGVycm9yIGluIGFcblx0ICAgICAgICAgICAgLy8gbG93ZXIgcHJpb3JpdHkgdHVybi5cblx0ICAgICAgICAgICAgcGVuZGluZ0Vycm9ycy5wdXNoKGVycm9yKTtcblx0ICAgICAgICAgICAgcmVxdWVzdEVycm9yVGhyb3coKTtcblx0ICAgICAgICB9XG5cdCAgICB9IGZpbmFsbHkge1xuXHQgICAgICAgIHRoaXMudGFzayA9IG51bGw7XG5cdCAgICAgICAgZnJlZVRhc2tzW2ZyZWVUYXNrcy5sZW5ndGhdID0gdGhpcztcblx0ICAgIH1cblx0fTtcblxuXG4vKioqLyB9LFxuLyogNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGdsb2JhbCkge1widXNlIHN0cmljdFwiO1xuXG5cdC8vIFVzZSB0aGUgZmFzdGVzdCBtZWFucyBwb3NzaWJsZSB0byBleGVjdXRlIGEgdGFzayBpbiBpdHMgb3duIHR1cm4sIHdpdGhcblx0Ly8gcHJpb3JpdHkgb3ZlciBvdGhlciBldmVudHMgaW5jbHVkaW5nIElPLCBhbmltYXRpb24sIHJlZmxvdywgYW5kIHJlZHJhd1xuXHQvLyBldmVudHMgaW4gYnJvd3NlcnMuXG5cdC8vXG5cdC8vIEFuIGV4Y2VwdGlvbiB0aHJvd24gYnkgYSB0YXNrIHdpbGwgcGVybWFuZW50bHkgaW50ZXJydXB0IHRoZSBwcm9jZXNzaW5nIG9mXG5cdC8vIHN1YnNlcXVlbnQgdGFza3MuIFRoZSBoaWdoZXIgbGV2ZWwgYGFzYXBgIGZ1bmN0aW9uIGVuc3VyZXMgdGhhdCBpZiBhblxuXHQvLyBleGNlcHRpb24gaXMgdGhyb3duIGJ5IGEgdGFzaywgdGhhdCB0aGUgdGFzayBxdWV1ZSB3aWxsIGNvbnRpbnVlIGZsdXNoaW5nIGFzXG5cdC8vIHNvb24gYXMgcG9zc2libGUsIGJ1dCBpZiB5b3UgdXNlIGByYXdBc2FwYCBkaXJlY3RseSwgeW91IGFyZSByZXNwb25zaWJsZSB0b1xuXHQvLyBlaXRoZXIgZW5zdXJlIHRoYXQgbm8gZXhjZXB0aW9ucyBhcmUgdGhyb3duIGZyb20geW91ciB0YXNrLCBvciB0byBtYW51YWxseVxuXHQvLyBjYWxsIGByYXdBc2FwLnJlcXVlc3RGbHVzaGAgaWYgYW4gZXhjZXB0aW9uIGlzIHRocm93bi5cblx0bW9kdWxlLmV4cG9ydHMgPSByYXdBc2FwO1xuXHRmdW5jdGlvbiByYXdBc2FwKHRhc2spIHtcblx0ICAgIGlmICghcXVldWUubGVuZ3RoKSB7XG5cdCAgICAgICAgcmVxdWVzdEZsdXNoKCk7XG5cdCAgICAgICAgZmx1c2hpbmcgPSB0cnVlO1xuXHQgICAgfVxuXHQgICAgLy8gRXF1aXZhbGVudCB0byBwdXNoLCBidXQgYXZvaWRzIGEgZnVuY3Rpb24gY2FsbC5cblx0ICAgIHF1ZXVlW3F1ZXVlLmxlbmd0aF0gPSB0YXNrO1xuXHR9XG5cblx0dmFyIHF1ZXVlID0gW107XG5cdC8vIE9uY2UgYSBmbHVzaCBoYXMgYmVlbiByZXF1ZXN0ZWQsIG5vIGZ1cnRoZXIgY2FsbHMgdG8gYHJlcXVlc3RGbHVzaGAgYXJlXG5cdC8vIG5lY2Vzc2FyeSB1bnRpbCB0aGUgbmV4dCBgZmx1c2hgIGNvbXBsZXRlcy5cblx0dmFyIGZsdXNoaW5nID0gZmFsc2U7XG5cdC8vIGByZXF1ZXN0Rmx1c2hgIGlzIGFuIGltcGxlbWVudGF0aW9uLXNwZWNpZmljIG1ldGhvZCB0aGF0IGF0dGVtcHRzIHRvIGtpY2tcblx0Ly8gb2ZmIGEgYGZsdXNoYCBldmVudCBhcyBxdWlja2x5IGFzIHBvc3NpYmxlLiBgZmx1c2hgIHdpbGwgYXR0ZW1wdCB0byBleGhhdXN0XG5cdC8vIHRoZSBldmVudCBxdWV1ZSBiZWZvcmUgeWllbGRpbmcgdG8gdGhlIGJyb3dzZXIncyBvd24gZXZlbnQgbG9vcC5cblx0dmFyIHJlcXVlc3RGbHVzaDtcblx0Ly8gVGhlIHBvc2l0aW9uIG9mIHRoZSBuZXh0IHRhc2sgdG8gZXhlY3V0ZSBpbiB0aGUgdGFzayBxdWV1ZS4gVGhpcyBpc1xuXHQvLyBwcmVzZXJ2ZWQgYmV0d2VlbiBjYWxscyB0byBgZmx1c2hgIHNvIHRoYXQgaXQgY2FuIGJlIHJlc3VtZWQgaWZcblx0Ly8gYSB0YXNrIHRocm93cyBhbiBleGNlcHRpb24uXG5cdHZhciBpbmRleCA9IDA7XG5cdC8vIElmIGEgdGFzayBzY2hlZHVsZXMgYWRkaXRpb25hbCB0YXNrcyByZWN1cnNpdmVseSwgdGhlIHRhc2sgcXVldWUgY2FuIGdyb3dcblx0Ly8gdW5ib3VuZGVkLiBUbyBwcmV2ZW50IG1lbW9yeSBleGhhdXN0aW9uLCB0aGUgdGFzayBxdWV1ZSB3aWxsIHBlcmlvZGljYWxseVxuXHQvLyB0cnVuY2F0ZSBhbHJlYWR5LWNvbXBsZXRlZCB0YXNrcy5cblx0dmFyIGNhcGFjaXR5ID0gMTAyNDtcblxuXHQvLyBUaGUgZmx1c2ggZnVuY3Rpb24gcHJvY2Vzc2VzIGFsbCB0YXNrcyB0aGF0IGhhdmUgYmVlbiBzY2hlZHVsZWQgd2l0aFxuXHQvLyBgcmF3QXNhcGAgdW5sZXNzIGFuZCB1bnRpbCBvbmUgb2YgdGhvc2UgdGFza3MgdGhyb3dzIGFuIGV4Y2VwdGlvbi5cblx0Ly8gSWYgYSB0YXNrIHRocm93cyBhbiBleGNlcHRpb24sIGBmbHVzaGAgZW5zdXJlcyB0aGF0IGl0cyBzdGF0ZSB3aWxsIHJlbWFpblxuXHQvLyBjb25zaXN0ZW50IGFuZCB3aWxsIHJlc3VtZSB3aGVyZSBpdCBsZWZ0IG9mZiB3aGVuIGNhbGxlZCBhZ2Fpbi5cblx0Ly8gSG93ZXZlciwgYGZsdXNoYCBkb2VzIG5vdCBtYWtlIGFueSBhcnJhbmdlbWVudHMgdG8gYmUgY2FsbGVkIGFnYWluIGlmIGFuXG5cdC8vIGV4Y2VwdGlvbiBpcyB0aHJvd24uXG5cdGZ1bmN0aW9uIGZsdXNoKCkge1xuXHQgICAgd2hpbGUgKGluZGV4IDwgcXVldWUubGVuZ3RoKSB7XG5cdCAgICAgICAgdmFyIGN1cnJlbnRJbmRleCA9IGluZGV4O1xuXHQgICAgICAgIC8vIEFkdmFuY2UgdGhlIGluZGV4IGJlZm9yZSBjYWxsaW5nIHRoZSB0YXNrLiBUaGlzIGVuc3VyZXMgdGhhdCB3ZSB3aWxsXG5cdCAgICAgICAgLy8gYmVnaW4gZmx1c2hpbmcgb24gdGhlIG5leHQgdGFzayB0aGUgdGFzayB0aHJvd3MgYW4gZXJyb3IuXG5cdCAgICAgICAgaW5kZXggPSBpbmRleCArIDE7XG5cdCAgICAgICAgcXVldWVbY3VycmVudEluZGV4XS5jYWxsKCk7XG5cdCAgICAgICAgLy8gUHJldmVudCBsZWFraW5nIG1lbW9yeSBmb3IgbG9uZyBjaGFpbnMgb2YgcmVjdXJzaXZlIGNhbGxzIHRvIGBhc2FwYC5cblx0ICAgICAgICAvLyBJZiB3ZSBjYWxsIGBhc2FwYCB3aXRoaW4gdGFza3Mgc2NoZWR1bGVkIGJ5IGBhc2FwYCwgdGhlIHF1ZXVlIHdpbGxcblx0ICAgICAgICAvLyBncm93LCBidXQgdG8gYXZvaWQgYW4gTyhuKSB3YWxrIGZvciBldmVyeSB0YXNrIHdlIGV4ZWN1dGUsIHdlIGRvbid0XG5cdCAgICAgICAgLy8gc2hpZnQgdGFza3Mgb2ZmIHRoZSBxdWV1ZSBhZnRlciB0aGV5IGhhdmUgYmVlbiBleGVjdXRlZC5cblx0ICAgICAgICAvLyBJbnN0ZWFkLCB3ZSBwZXJpb2RpY2FsbHkgc2hpZnQgMTAyNCB0YXNrcyBvZmYgdGhlIHF1ZXVlLlxuXHQgICAgICAgIGlmIChpbmRleCA+IGNhcGFjaXR5KSB7XG5cdCAgICAgICAgICAgIC8vIE1hbnVhbGx5IHNoaWZ0IGFsbCB2YWx1ZXMgc3RhcnRpbmcgYXQgdGhlIGluZGV4IGJhY2sgdG8gdGhlXG5cdCAgICAgICAgICAgIC8vIGJlZ2lubmluZyBvZiB0aGUgcXVldWUuXG5cdCAgICAgICAgICAgIGZvciAodmFyIHNjYW4gPSAwLCBuZXdMZW5ndGggPSBxdWV1ZS5sZW5ndGggLSBpbmRleDsgc2NhbiA8IG5ld0xlbmd0aDsgc2NhbisrKSB7XG5cdCAgICAgICAgICAgICAgICBxdWV1ZVtzY2FuXSA9IHF1ZXVlW3NjYW4gKyBpbmRleF07XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcXVldWUubGVuZ3RoIC09IGluZGV4O1xuXHQgICAgICAgICAgICBpbmRleCA9IDA7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcXVldWUubGVuZ3RoID0gMDtcblx0ICAgIGluZGV4ID0gMDtcblx0ICAgIGZsdXNoaW5nID0gZmFsc2U7XG5cdH1cblxuXHQvLyBgcmVxdWVzdEZsdXNoYCBpcyBpbXBsZW1lbnRlZCB1c2luZyBhIHN0cmF0ZWd5IGJhc2VkIG9uIGRhdGEgY29sbGVjdGVkIGZyb21cblx0Ly8gZXZlcnkgYXZhaWxhYmxlIFNhdWNlTGFicyBTZWxlbml1bSB3ZWIgZHJpdmVyIHdvcmtlciBhdCB0aW1lIG9mIHdyaXRpbmcuXG5cdC8vIGh0dHBzOi8vZG9jcy5nb29nbGUuY29tL3NwcmVhZHNoZWV0cy9kLzFtRy01VVlHdXA1cXhHZEVNV2toUDZCV0N6MDUzTlViMkUxUW9VVFUxNnVBL2VkaXQjZ2lkPTc4MzcyNDU5M1xuXG5cdC8vIFNhZmFyaSA2IGFuZCA2LjEgZm9yIGRlc2t0b3AsIGlQYWQsIGFuZCBpUGhvbmUgYXJlIHRoZSBvbmx5IGJyb3dzZXJzIHRoYXRcblx0Ly8gaGF2ZSBXZWJLaXRNdXRhdGlvbk9ic2VydmVyIGJ1dCBub3QgdW4tcHJlZml4ZWQgTXV0YXRpb25PYnNlcnZlci5cblx0Ly8gTXVzdCB1c2UgYGdsb2JhbGAgaW5zdGVhZCBvZiBgd2luZG93YCB0byB3b3JrIGluIGJvdGggZnJhbWVzIGFuZCB3ZWJcblx0Ly8gd29ya2Vycy4gYGdsb2JhbGAgaXMgYSBwcm92aXNpb24gb2YgQnJvd3NlcmlmeSwgTXIsIE1ycywgb3IgTW9wLlxuXHR2YXIgQnJvd3Nlck11dGF0aW9uT2JzZXJ2ZXIgPSBnbG9iYWwuTXV0YXRpb25PYnNlcnZlciB8fCBnbG9iYWwuV2ViS2l0TXV0YXRpb25PYnNlcnZlcjtcblxuXHQvLyBNdXRhdGlvbk9ic2VydmVycyBhcmUgZGVzaXJhYmxlIGJlY2F1c2UgdGhleSBoYXZlIGhpZ2ggcHJpb3JpdHkgYW5kIHdvcmtcblx0Ly8gcmVsaWFibHkgZXZlcnl3aGVyZSB0aGV5IGFyZSBpbXBsZW1lbnRlZC5cblx0Ly8gVGhleSBhcmUgaW1wbGVtZW50ZWQgaW4gYWxsIG1vZGVybiBicm93c2Vycy5cblx0Ly9cblx0Ly8gLSBBbmRyb2lkIDQtNC4zXG5cdC8vIC0gQ2hyb21lIDI2LTM0XG5cdC8vIC0gRmlyZWZveCAxNC0yOVxuXHQvLyAtIEludGVybmV0IEV4cGxvcmVyIDExXG5cdC8vIC0gaVBhZCBTYWZhcmkgNi03LjFcblx0Ly8gLSBpUGhvbmUgU2FmYXJpIDctNy4xXG5cdC8vIC0gU2FmYXJpIDYtN1xuXHRpZiAodHlwZW9mIEJyb3dzZXJNdXRhdGlvbk9ic2VydmVyID09PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgIHJlcXVlc3RGbHVzaCA9IG1ha2VSZXF1ZXN0Q2FsbEZyb21NdXRhdGlvbk9ic2VydmVyKGZsdXNoKTtcblxuXHQvLyBNZXNzYWdlQ2hhbm5lbHMgYXJlIGRlc2lyYWJsZSBiZWNhdXNlIHRoZXkgZ2l2ZSBkaXJlY3QgYWNjZXNzIHRvIHRoZSBIVE1MXG5cdC8vIHRhc2sgcXVldWUsIGFyZSBpbXBsZW1lbnRlZCBpbiBJbnRlcm5ldCBFeHBsb3JlciAxMCwgU2FmYXJpIDUuMC0xLCBhbmQgT3BlcmFcblx0Ly8gMTEtMTIsIGFuZCBpbiB3ZWIgd29ya2VycyBpbiBtYW55IGVuZ2luZXMuXG5cdC8vIEFsdGhvdWdoIG1lc3NhZ2UgY2hhbm5lbHMgeWllbGQgdG8gYW55IHF1ZXVlZCByZW5kZXJpbmcgYW5kIElPIHRhc2tzLCB0aGV5XG5cdC8vIHdvdWxkIGJlIGJldHRlciB0aGFuIGltcG9zaW5nIHRoZSA0bXMgZGVsYXkgb2YgdGltZXJzLlxuXHQvLyBIb3dldmVyLCB0aGV5IGRvIG5vdCB3b3JrIHJlbGlhYmx5IGluIEludGVybmV0IEV4cGxvcmVyIG9yIFNhZmFyaS5cblxuXHQvLyBJbnRlcm5ldCBFeHBsb3JlciAxMCBpcyB0aGUgb25seSBicm93c2VyIHRoYXQgaGFzIHNldEltbWVkaWF0ZSBidXQgZG9lc1xuXHQvLyBub3QgaGF2ZSBNdXRhdGlvbk9ic2VydmVycy5cblx0Ly8gQWx0aG91Z2ggc2V0SW1tZWRpYXRlIHlpZWxkcyB0byB0aGUgYnJvd3NlcidzIHJlbmRlcmVyLCBpdCB3b3VsZCBiZVxuXHQvLyBwcmVmZXJyYWJsZSB0byBmYWxsaW5nIGJhY2sgdG8gc2V0VGltZW91dCBzaW5jZSBpdCBkb2VzIG5vdCBoYXZlXG5cdC8vIHRoZSBtaW5pbXVtIDRtcyBwZW5hbHR5LlxuXHQvLyBVbmZvcnR1bmF0ZWx5IHRoZXJlIGFwcGVhcnMgdG8gYmUgYSBidWcgaW4gSW50ZXJuZXQgRXhwbG9yZXIgMTAgTW9iaWxlIChhbmRcblx0Ly8gRGVza3RvcCB0byBhIGxlc3NlciBleHRlbnQpIHRoYXQgcmVuZGVycyBib3RoIHNldEltbWVkaWF0ZSBhbmRcblx0Ly8gTWVzc2FnZUNoYW5uZWwgdXNlbGVzcyBmb3IgdGhlIHB1cnBvc2VzIG9mIEFTQVAuXG5cdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9rcmlza293YWwvcS9pc3N1ZXMvMzk2XG5cblx0Ly8gVGltZXJzIGFyZSBpbXBsZW1lbnRlZCB1bml2ZXJzYWxseS5cblx0Ly8gV2UgZmFsbCBiYWNrIHRvIHRpbWVycyBpbiB3b3JrZXJzIGluIG1vc3QgZW5naW5lcywgYW5kIGluIGZvcmVncm91bmRcblx0Ly8gY29udGV4dHMgaW4gdGhlIGZvbGxvd2luZyBicm93c2Vycy5cblx0Ly8gSG93ZXZlciwgbm90ZSB0aGF0IGV2ZW4gdGhpcyBzaW1wbGUgY2FzZSByZXF1aXJlcyBudWFuY2VzIHRvIG9wZXJhdGUgaW4gYVxuXHQvLyBicm9hZCBzcGVjdHJ1bSBvZiBicm93c2Vycy5cblx0Ly9cblx0Ly8gLSBGaXJlZm94IDMtMTNcblx0Ly8gLSBJbnRlcm5ldCBFeHBsb3JlciA2LTlcblx0Ly8gLSBpUGFkIFNhZmFyaSA0LjNcblx0Ly8gLSBMeW54IDIuOC43XG5cdH0gZWxzZSB7XG5cdCAgICByZXF1ZXN0Rmx1c2ggPSBtYWtlUmVxdWVzdENhbGxGcm9tVGltZXIoZmx1c2gpO1xuXHR9XG5cblx0Ly8gYHJlcXVlc3RGbHVzaGAgcmVxdWVzdHMgdGhhdCB0aGUgaGlnaCBwcmlvcml0eSBldmVudCBxdWV1ZSBiZSBmbHVzaGVkIGFzXG5cdC8vIHNvb24gYXMgcG9zc2libGUuXG5cdC8vIFRoaXMgaXMgdXNlZnVsIHRvIHByZXZlbnQgYW4gZXJyb3IgdGhyb3duIGluIGEgdGFzayBmcm9tIHN0YWxsaW5nIHRoZSBldmVudFxuXHQvLyBxdWV1ZSBpZiB0aGUgZXhjZXB0aW9uIGhhbmRsZWQgYnkgTm9kZS5qc+KAmXNcblx0Ly8gYHByb2Nlc3Mub24oXCJ1bmNhdWdodEV4Y2VwdGlvblwiKWAgb3IgYnkgYSBkb21haW4uXG5cdHJhd0FzYXAucmVxdWVzdEZsdXNoID0gcmVxdWVzdEZsdXNoO1xuXG5cdC8vIFRvIHJlcXVlc3QgYSBoaWdoIHByaW9yaXR5IGV2ZW50LCB3ZSBpbmR1Y2UgYSBtdXRhdGlvbiBvYnNlcnZlciBieSB0b2dnbGluZ1xuXHQvLyB0aGUgdGV4dCBvZiBhIHRleHQgbm9kZSBiZXR3ZWVuIFwiMVwiIGFuZCBcIi0xXCIuXG5cdGZ1bmN0aW9uIG1ha2VSZXF1ZXN0Q2FsbEZyb21NdXRhdGlvbk9ic2VydmVyKGNhbGxiYWNrKSB7XG5cdCAgICB2YXIgdG9nZ2xlID0gMTtcblx0ICAgIHZhciBvYnNlcnZlciA9IG5ldyBCcm93c2VyTXV0YXRpb25PYnNlcnZlcihjYWxsYmFjayk7XG5cdCAgICB2YXIgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpO1xuXHQgICAgb2JzZXJ2ZXIub2JzZXJ2ZShub2RlLCB7Y2hhcmFjdGVyRGF0YTogdHJ1ZX0pO1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uIHJlcXVlc3RDYWxsKCkge1xuXHQgICAgICAgIHRvZ2dsZSA9IC10b2dnbGU7XG5cdCAgICAgICAgbm9kZS5kYXRhID0gdG9nZ2xlO1xuXHQgICAgfTtcblx0fVxuXG5cdC8vIFRoZSBtZXNzYWdlIGNoYW5uZWwgdGVjaG5pcXVlIHdhcyBkaXNjb3ZlcmVkIGJ5IE1hbHRlIFVibCBhbmQgd2FzIHRoZVxuXHQvLyBvcmlnaW5hbCBmb3VuZGF0aW9uIGZvciB0aGlzIGxpYnJhcnkuXG5cdC8vIGh0dHA6Ly93d3cubm9uYmxvY2tpbmcuaW8vMjAxMS8wNi93aW5kb3duZXh0dGljay5odG1sXG5cblx0Ly8gU2FmYXJpIDYuMC41IChhdCBsZWFzdCkgaW50ZXJtaXR0ZW50bHkgZmFpbHMgdG8gY3JlYXRlIG1lc3NhZ2UgcG9ydHMgb24gYVxuXHQvLyBwYWdlJ3MgZmlyc3QgbG9hZC4gVGhhbmtmdWxseSwgdGhpcyB2ZXJzaW9uIG9mIFNhZmFyaSBzdXBwb3J0c1xuXHQvLyBNdXRhdGlvbk9ic2VydmVycywgc28gd2UgZG9uJ3QgbmVlZCB0byBmYWxsIGJhY2sgaW4gdGhhdCBjYXNlLlxuXG5cdC8vIGZ1bmN0aW9uIG1ha2VSZXF1ZXN0Q2FsbEZyb21NZXNzYWdlQ2hhbm5lbChjYWxsYmFjaykge1xuXHQvLyAgICAgdmFyIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcblx0Ly8gICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gY2FsbGJhY2s7XG5cdC8vICAgICByZXR1cm4gZnVuY3Rpb24gcmVxdWVzdENhbGwoKSB7XG5cdC8vICAgICAgICAgY2hhbm5lbC5wb3J0Mi5wb3N0TWVzc2FnZSgwKTtcblx0Ly8gICAgIH07XG5cdC8vIH1cblxuXHQvLyBGb3IgcmVhc29ucyBleHBsYWluZWQgYWJvdmUsIHdlIGFyZSBhbHNvIHVuYWJsZSB0byB1c2UgYHNldEltbWVkaWF0ZWBcblx0Ly8gdW5kZXIgYW55IGNpcmN1bXN0YW5jZXMuXG5cdC8vIEV2ZW4gaWYgd2Ugd2VyZSwgdGhlcmUgaXMgYW5vdGhlciBidWcgaW4gSW50ZXJuZXQgRXhwbG9yZXIgMTAuXG5cdC8vIEl0IGlzIG5vdCBzdWZmaWNpZW50IHRvIGFzc2lnbiBgc2V0SW1tZWRpYXRlYCB0byBgcmVxdWVzdEZsdXNoYCBiZWNhdXNlXG5cdC8vIGBzZXRJbW1lZGlhdGVgIG11c3QgYmUgY2FsbGVkICpieSBuYW1lKiBhbmQgdGhlcmVmb3JlIG11c3QgYmUgd3JhcHBlZCBpbiBhXG5cdC8vIGNsb3N1cmUuXG5cdC8vIE5ldmVyIGZvcmdldC5cblxuXHQvLyBmdW5jdGlvbiBtYWtlUmVxdWVzdENhbGxGcm9tU2V0SW1tZWRpYXRlKGNhbGxiYWNrKSB7XG5cdC8vICAgICByZXR1cm4gZnVuY3Rpb24gcmVxdWVzdENhbGwoKSB7XG5cdC8vICAgICAgICAgc2V0SW1tZWRpYXRlKGNhbGxiYWNrKTtcblx0Ly8gICAgIH07XG5cdC8vIH1cblxuXHQvLyBTYWZhcmkgNi4wIGhhcyBhIHByb2JsZW0gd2hlcmUgdGltZXJzIHdpbGwgZ2V0IGxvc3Qgd2hpbGUgdGhlIHVzZXIgaXNcblx0Ly8gc2Nyb2xsaW5nLiBUaGlzIHByb2JsZW0gZG9lcyBub3QgaW1wYWN0IEFTQVAgYmVjYXVzZSBTYWZhcmkgNi4wIHN1cHBvcnRzXG5cdC8vIG11dGF0aW9uIG9ic2VydmVycywgc28gdGhhdCBpbXBsZW1lbnRhdGlvbiBpcyB1c2VkIGluc3RlYWQuXG5cdC8vIEhvd2V2ZXIsIGlmIHdlIGV2ZXIgZWxlY3QgdG8gdXNlIHRpbWVycyBpbiBTYWZhcmksIHRoZSBwcmV2YWxlbnQgd29yay1hcm91bmRcblx0Ly8gaXMgdG8gYWRkIGEgc2Nyb2xsIGV2ZW50IGxpc3RlbmVyIHRoYXQgY2FsbHMgZm9yIGEgZmx1c2guXG5cblx0Ly8gYHNldFRpbWVvdXRgIGRvZXMgbm90IGNhbGwgdGhlIHBhc3NlZCBjYWxsYmFjayBpZiB0aGUgZGVsYXkgaXMgbGVzcyB0aGFuXG5cdC8vIGFwcHJveGltYXRlbHkgNyBpbiB3ZWIgd29ya2VycyBpbiBGaXJlZm94IDggdGhyb3VnaCAxOCwgYW5kIHNvbWV0aW1lcyBub3Rcblx0Ly8gZXZlbiB0aGVuLlxuXG5cdGZ1bmN0aW9uIG1ha2VSZXF1ZXN0Q2FsbEZyb21UaW1lcihjYWxsYmFjaykge1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uIHJlcXVlc3RDYWxsKCkge1xuXHQgICAgICAgIC8vIFdlIGRpc3BhdGNoIGEgdGltZW91dCB3aXRoIGEgc3BlY2lmaWVkIGRlbGF5IG9mIDAgZm9yIGVuZ2luZXMgdGhhdFxuXHQgICAgICAgIC8vIGNhbiByZWxpYWJseSBhY2NvbW1vZGF0ZSB0aGF0IHJlcXVlc3QuIFRoaXMgd2lsbCB1c3VhbGx5IGJlIHNuYXBwZWRcblx0ICAgICAgICAvLyB0byBhIDQgbWlsaXNlY29uZCBkZWxheSwgYnV0IG9uY2Ugd2UncmUgZmx1c2hpbmcsIHRoZXJlJ3Mgbm8gZGVsYXlcblx0ICAgICAgICAvLyBiZXR3ZWVuIGV2ZW50cy5cblx0ICAgICAgICB2YXIgdGltZW91dEhhbmRsZSA9IHNldFRpbWVvdXQoaGFuZGxlVGltZXIsIDApO1xuXHQgICAgICAgIC8vIEhvd2V2ZXIsIHNpbmNlIHRoaXMgdGltZXIgZ2V0cyBmcmVxdWVudGx5IGRyb3BwZWQgaW4gRmlyZWZveFxuXHQgICAgICAgIC8vIHdvcmtlcnMsIHdlIGVubGlzdCBhbiBpbnRlcnZhbCBoYW5kbGUgdGhhdCB3aWxsIHRyeSB0byBmaXJlXG5cdCAgICAgICAgLy8gYW4gZXZlbnQgMjAgdGltZXMgcGVyIHNlY29uZCB1bnRpbCBpdCBzdWNjZWVkcy5cblx0ICAgICAgICB2YXIgaW50ZXJ2YWxIYW5kbGUgPSBzZXRJbnRlcnZhbChoYW5kbGVUaW1lciwgNTApO1xuXG5cdCAgICAgICAgZnVuY3Rpb24gaGFuZGxlVGltZXIoKSB7XG5cdCAgICAgICAgICAgIC8vIFdoaWNoZXZlciB0aW1lciBzdWNjZWVkcyB3aWxsIGNhbmNlbCBib3RoIHRpbWVycyBhbmRcblx0ICAgICAgICAgICAgLy8gZXhlY3V0ZSB0aGUgY2FsbGJhY2suXG5cdCAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SGFuZGxlKTtcblx0ICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbEhhbmRsZSk7XG5cdCAgICAgICAgICAgIGNhbGxiYWNrKCk7XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblx0fVxuXG5cdC8vIFRoaXMgaXMgZm9yIGBhc2FwLmpzYCBvbmx5LlxuXHQvLyBJdHMgbmFtZSB3aWxsIGJlIHBlcmlvZGljYWxseSByYW5kb21pemVkIHRvIGJyZWFrIGFueSBjb2RlIHRoYXQgZGVwZW5kcyBvblxuXHQvLyBpdHMgZXhpc3RlbmNlLlxuXHRyYXdBc2FwLm1ha2VSZXF1ZXN0Q2FsbEZyb21UaW1lciA9IG1ha2VSZXF1ZXN0Q2FsbEZyb21UaW1lcjtcblxuXHQvLyBBU0FQIHdhcyBvcmlnaW5hbGx5IGEgbmV4dFRpY2sgc2hpbSBpbmNsdWRlZCBpbiBRLiBUaGlzIHdhcyBmYWN0b3JlZCBvdXRcblx0Ly8gaW50byB0aGlzIEFTQVAgcGFja2FnZS4gSXQgd2FzIGxhdGVyIGFkYXB0ZWQgdG8gUlNWUCB3aGljaCBtYWRlIGZ1cnRoZXJcblx0Ly8gYW1lbmRtZW50cy4gVGhlc2UgZGVjaXNpb25zLCBwYXJ0aWN1bGFybHkgdG8gbWFyZ2luYWxpemUgTWVzc2FnZUNoYW5uZWwgYW5kXG5cdC8vIHRvIGNhcHR1cmUgdGhlIE11dGF0aW9uT2JzZXJ2ZXIgaW1wbGVtZW50YXRpb24gaW4gYSBjbG9zdXJlLCB3ZXJlIGludGVncmF0ZWRcblx0Ly8gYmFjayBpbnRvIEFTQVAgcHJvcGVyLlxuXHQvLyBodHRwczovL2dpdGh1Yi5jb20vdGlsZGVpby9yc3ZwLmpzL2Jsb2IvY2RkZjcyMzI1NDZhOWNmODU4NTI0Yjc1Y2RlNmY5ZWRmNzI2MjBhNy9saWIvcnN2cC9hc2FwLmpzXG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIChmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0oKSkpKVxuXG4vKioqLyB9LFxuLyogNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdC8vIEEgc2ltcGxlIGNsYXNzIHN5c3RlbSwgbW9yZSBkb2N1bWVudGF0aW9uIHRvIGNvbWVcblxuXHRmdW5jdGlvbiBleHRlbmQoY2xzLCBuYW1lLCBwcm9wcykge1xuXHQgICAgLy8gVGhpcyBkb2VzIHRoYXQgc2FtZSB0aGluZyBhcyBPYmplY3QuY3JlYXRlLCBidXQgd2l0aCBzdXBwb3J0IGZvciBJRThcblx0ICAgIHZhciBGID0gZnVuY3Rpb24oKSB7fTtcblx0ICAgIEYucHJvdG90eXBlID0gY2xzLnByb3RvdHlwZTtcblx0ICAgIHZhciBwcm90b3R5cGUgPSBuZXcgRigpO1xuXG5cdCAgICAvLyBqc2hpbnQgdW5kZWY6IGZhbHNlXG5cdCAgICB2YXIgZm5UZXN0ID0gL3h5ei8udGVzdChmdW5jdGlvbigpeyB4eXo7IH0pID8gL1xcYnBhcmVudFxcYi8gOiAvLiovO1xuXHQgICAgcHJvcHMgPSBwcm9wcyB8fCB7fTtcblxuXHQgICAgZm9yKHZhciBrIGluIHByb3BzKSB7XG5cdCAgICAgICAgdmFyIHNyYyA9IHByb3BzW2tdO1xuXHQgICAgICAgIHZhciBwYXJlbnQgPSBwcm90b3R5cGVba107XG5cblx0ICAgICAgICBpZih0eXBlb2YgcGFyZW50ID09PSAnZnVuY3Rpb24nICYmXG5cdCAgICAgICAgICAgdHlwZW9mIHNyYyA9PT0gJ2Z1bmN0aW9uJyAmJlxuXHQgICAgICAgICAgIGZuVGVzdC50ZXN0KHNyYykpIHtcblx0ICAgICAgICAgICAgLypqc2hpbnQgLVcwODMgKi9cblx0ICAgICAgICAgICAgcHJvdG90eXBlW2tdID0gKGZ1bmN0aW9uIChzcmMsIHBhcmVudCkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgICAgIC8vIFNhdmUgdGhlIGN1cnJlbnQgcGFyZW50IG1ldGhvZFxuXHQgICAgICAgICAgICAgICAgICAgIHZhciB0bXAgPSB0aGlzLnBhcmVudDtcblxuXHQgICAgICAgICAgICAgICAgICAgIC8vIFNldCBwYXJlbnQgdG8gdGhlIHByZXZpb3VzIG1ldGhvZCwgY2FsbCwgYW5kIHJlc3RvcmVcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgcmVzID0gc3JjLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSB0bXA7XG5cblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuXHQgICAgICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgfSkoc3JjLCBwYXJlbnQpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgcHJvdG90eXBlW2tdID0gc3JjO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgcHJvdG90eXBlLnR5cGVuYW1lID0gbmFtZTtcblxuXHQgICAgdmFyIG5ld19jbHMgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICBpZihwcm90b3R5cGUuaW5pdCkge1xuXHQgICAgICAgICAgICBwcm90b3R5cGUuaW5pdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cblx0ICAgIG5ld19jbHMucHJvdG90eXBlID0gcHJvdG90eXBlO1xuXHQgICAgbmV3X2Nscy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBuZXdfY2xzO1xuXG5cdCAgICBuZXdfY2xzLmV4dGVuZCA9IGZ1bmN0aW9uKG5hbWUsIHByb3BzKSB7XG5cdCAgICAgICAgaWYodHlwZW9mIG5hbWUgPT09ICdvYmplY3QnKSB7XG5cdCAgICAgICAgICAgIHByb3BzID0gbmFtZTtcblx0ICAgICAgICAgICAgbmFtZSA9ICdhbm9ueW1vdXMnO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gZXh0ZW5kKG5ld19jbHMsIG5hbWUsIHByb3BzKTtcblx0ICAgIH07XG5cblx0ICAgIHJldHVybiBuZXdfY2xzO1xuXHR9XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBleHRlbmQoT2JqZWN0LCAnT2JqZWN0Jywge30pO1xuXG5cbi8qKiovIH0sXG4vKiA3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIGxpYiA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdHZhciByID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxuXHRmdW5jdGlvbiBub3JtYWxpemUodmFsdWUsIGRlZmF1bHRWYWx1ZSkge1xuXHQgICAgaWYodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZSA9PT0gZmFsc2UpIHtcblx0ICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHZhbHVlO1xuXHR9XG5cblx0dmFyIGZpbHRlcnMgPSB7XG5cdCAgICBhYnM6IGZ1bmN0aW9uKG4pIHtcblx0ICAgICAgICByZXR1cm4gTWF0aC5hYnMobik7XG5cdCAgICB9LFxuXG5cdCAgICBiYXRjaDogZnVuY3Rpb24oYXJyLCBsaW5lY291bnQsIGZpbGxfd2l0aCkge1xuXHQgICAgICAgIHZhciBpO1xuXHQgICAgICAgIHZhciByZXMgPSBbXTtcblx0ICAgICAgICB2YXIgdG1wID0gW107XG5cblx0ICAgICAgICBmb3IoaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgaWYoaSAlIGxpbmVjb3VudCA9PT0gMCAmJiB0bXAubGVuZ3RoKSB7XG5cdCAgICAgICAgICAgICAgICByZXMucHVzaCh0bXApO1xuXHQgICAgICAgICAgICAgICAgdG1wID0gW107XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICB0bXAucHVzaChhcnJbaV0pO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIGlmKHRtcC5sZW5ndGgpIHtcblx0ICAgICAgICAgICAgaWYoZmlsbF93aXRoKSB7XG5cdCAgICAgICAgICAgICAgICBmb3IoaSA9IHRtcC5sZW5ndGg7IGkgPCBsaW5lY291bnQ7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgICAgIHRtcC5wdXNoKGZpbGxfd2l0aCk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICByZXMucHVzaCh0bXApO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHJldHVybiByZXM7XG5cdCAgICB9LFxuXG5cdCAgICBjYXBpdGFsaXplOiBmdW5jdGlvbihzdHIpIHtcblx0ICAgICAgICBzdHIgPSBub3JtYWxpemUoc3RyLCAnJyk7XG5cdCAgICAgICAgdmFyIHJldCA9IHN0ci50b0xvd2VyQ2FzZSgpO1xuXHQgICAgICAgIHJldHVybiByLmNvcHlTYWZlbmVzcyhzdHIsIHJldC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHJldC5zbGljZSgxKSk7XG5cdCAgICB9LFxuXG5cdCAgICBjZW50ZXI6IGZ1bmN0aW9uKHN0ciwgd2lkdGgpIHtcblx0ICAgICAgICBzdHIgPSBub3JtYWxpemUoc3RyLCAnJyk7XG5cdCAgICAgICAgd2lkdGggPSB3aWR0aCB8fCA4MDtcblxuXHQgICAgICAgIGlmKHN0ci5sZW5ndGggPj0gd2lkdGgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHN0cjtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICB2YXIgc3BhY2VzID0gd2lkdGggLSBzdHIubGVuZ3RoO1xuXHQgICAgICAgIHZhciBwcmUgPSBsaWIucmVwZWF0KCcgJywgc3BhY2VzLzIgLSBzcGFjZXMgJSAyKTtcblx0ICAgICAgICB2YXIgcG9zdCA9IGxpYi5yZXBlYXQoJyAnLCBzcGFjZXMvMik7XG5cdCAgICAgICAgcmV0dXJuIHIuY29weVNhZmVuZXNzKHN0ciwgcHJlICsgc3RyICsgcG9zdCk7XG5cdCAgICB9LFxuXG5cdCAgICAnZGVmYXVsdCc6IGZ1bmN0aW9uKHZhbCwgZGVmLCBib29sKSB7XG5cdCAgICAgICAgaWYoYm9vbCkge1xuXHQgICAgICAgICAgICByZXR1cm4gdmFsID8gdmFsIDogZGVmO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgcmV0dXJuICh2YWwgIT09IHVuZGVmaW5lZCkgPyB2YWwgOiBkZWY7XG5cdCAgICAgICAgfVxuXHQgICAgfSxcblxuXHQgICAgZGljdHNvcnQ6IGZ1bmN0aW9uKHZhbCwgY2FzZV9zZW5zaXRpdmUsIGJ5KSB7XG5cdCAgICAgICAgaWYgKCFsaWIuaXNPYmplY3QodmFsKSkge1xuXHQgICAgICAgICAgICB0aHJvdyBuZXcgbGliLlRlbXBsYXRlRXJyb3IoJ2RpY3Rzb3J0IGZpbHRlcjogdmFsIG11c3QgYmUgYW4gb2JqZWN0Jyk7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgdmFyIGFycmF5ID0gW107XG5cdCAgICAgICAgZm9yICh2YXIgayBpbiB2YWwpIHtcblx0ICAgICAgICAgICAgLy8gZGVsaWJlcmF0ZWx5IGluY2x1ZGUgcHJvcGVydGllcyBmcm9tIHRoZSBvYmplY3QncyBwcm90b3R5cGVcblx0ICAgICAgICAgICAgYXJyYXkucHVzaChbayx2YWxba11dKTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICB2YXIgc2k7XG5cdCAgICAgICAgaWYgKGJ5ID09PSB1bmRlZmluZWQgfHwgYnkgPT09ICdrZXknKSB7XG5cdCAgICAgICAgICAgIHNpID0gMDtcblx0ICAgICAgICB9IGVsc2UgaWYgKGJ5ID09PSAndmFsdWUnKSB7XG5cdCAgICAgICAgICAgIHNpID0gMTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB0aHJvdyBuZXcgbGliLlRlbXBsYXRlRXJyb3IoXG5cdCAgICAgICAgICAgICAgICAnZGljdHNvcnQgZmlsdGVyOiBZb3UgY2FuIG9ubHkgc29ydCBieSBlaXRoZXIga2V5IG9yIHZhbHVlJyk7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgYXJyYXkuc29ydChmdW5jdGlvbih0MSwgdDIpIHtcblx0ICAgICAgICAgICAgdmFyIGEgPSB0MVtzaV07XG5cdCAgICAgICAgICAgIHZhciBiID0gdDJbc2ldO1xuXG5cdCAgICAgICAgICAgIGlmICghY2FzZV9zZW5zaXRpdmUpIHtcblx0ICAgICAgICAgICAgICAgIGlmIChsaWIuaXNTdHJpbmcoYSkpIHtcblx0ICAgICAgICAgICAgICAgICAgICBhID0gYS50b1VwcGVyQ2FzZSgpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgaWYgKGxpYi5pc1N0cmluZyhiKSkge1xuXHQgICAgICAgICAgICAgICAgICAgIGIgPSBiLnRvVXBwZXJDYXNlKCk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICByZXR1cm4gYSA+IGIgPyAxIDogKGEgPT09IGIgPyAwIDogLTEpO1xuXHQgICAgICAgIH0pO1xuXG5cdCAgICAgICAgcmV0dXJuIGFycmF5O1xuXHQgICAgfSxcblxuXHQgICAgZHVtcDogZnVuY3Rpb24ob2JqKSB7XG5cdCAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG9iaik7XG5cdCAgICB9LFxuXG5cdCAgICBlc2NhcGU6IGZ1bmN0aW9uKHN0cikge1xuXHQgICAgICAgIGlmKHN0ciBpbnN0YW5jZW9mIHIuU2FmZVN0cmluZykge1xuXHQgICAgICAgICAgICByZXR1cm4gc3RyO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBzdHIgPSAoc3RyID09PSBudWxsIHx8IHN0ciA9PT0gdW5kZWZpbmVkKSA/ICcnIDogc3RyO1xuXHQgICAgICAgIHJldHVybiByLm1hcmtTYWZlKGxpYi5lc2NhcGUoc3RyLnRvU3RyaW5nKCkpKTtcblx0ICAgIH0sXG5cblx0ICAgIHNhZmU6IGZ1bmN0aW9uKHN0cikge1xuXHQgICAgICAgIGlmIChzdHIgaW5zdGFuY2VvZiByLlNhZmVTdHJpbmcpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHN0cjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgc3RyID0gKHN0ciA9PT0gbnVsbCB8fCBzdHIgPT09IHVuZGVmaW5lZCkgPyAnJyA6IHN0cjtcblx0ICAgICAgICByZXR1cm4gci5tYXJrU2FmZShzdHIudG9TdHJpbmcoKSk7XG5cdCAgICB9LFxuXG5cdCAgICBmaXJzdDogZnVuY3Rpb24oYXJyKSB7XG5cdCAgICAgICAgcmV0dXJuIGFyclswXTtcblx0ICAgIH0sXG5cblx0ICAgIGdyb3VwYnk6IGZ1bmN0aW9uKGFyciwgYXR0cikge1xuXHQgICAgICAgIHJldHVybiBsaWIuZ3JvdXBCeShhcnIsIGF0dHIpO1xuXHQgICAgfSxcblxuXHQgICAgaW5kZW50OiBmdW5jdGlvbihzdHIsIHdpZHRoLCBpbmRlbnRmaXJzdCkge1xuXHQgICAgICAgIHN0ciA9IG5vcm1hbGl6ZShzdHIsICcnKTtcblxuXHQgICAgICAgIGlmIChzdHIgPT09ICcnKSByZXR1cm4gJyc7XG5cblx0ICAgICAgICB3aWR0aCA9IHdpZHRoIHx8IDQ7XG5cdCAgICAgICAgdmFyIHJlcyA9ICcnO1xuXHQgICAgICAgIHZhciBsaW5lcyA9IHN0ci5zcGxpdCgnXFxuJyk7XG5cdCAgICAgICAgdmFyIHNwID0gbGliLnJlcGVhdCgnICcsIHdpZHRoKTtcblxuXHQgICAgICAgIGZvcih2YXIgaT0wOyBpPGxpbmVzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgIGlmKGkgPT09IDAgJiYgIWluZGVudGZpcnN0KSB7XG5cdCAgICAgICAgICAgICAgICByZXMgKz0gbGluZXNbaV0gKyAnXFxuJztcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHJlcyArPSBzcCArIGxpbmVzW2ldICsgJ1xcbic7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cblx0ICAgICAgICByZXR1cm4gci5jb3B5U2FmZW5lc3Moc3RyLCByZXMpO1xuXHQgICAgfSxcblxuXHQgICAgam9pbjogZnVuY3Rpb24oYXJyLCBkZWwsIGF0dHIpIHtcblx0ICAgICAgICBkZWwgPSBkZWwgfHwgJyc7XG5cblx0ICAgICAgICBpZihhdHRyKSB7XG5cdCAgICAgICAgICAgIGFyciA9IGxpYi5tYXAoYXJyLCBmdW5jdGlvbih2KSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdlthdHRyXTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgcmV0dXJuIGFyci5qb2luKGRlbCk7XG5cdCAgICB9LFxuXG5cdCAgICBsYXN0OiBmdW5jdGlvbihhcnIpIHtcblx0ICAgICAgICByZXR1cm4gYXJyW2Fyci5sZW5ndGgtMV07XG5cdCAgICB9LFxuXG5cdCAgICBsZW5ndGg6IGZ1bmN0aW9uKHZhbCkge1xuXHQgICAgICAgIHZhciB2YWx1ZSA9IG5vcm1hbGl6ZSh2YWwsICcnKTtcblxuXHQgICAgICAgIGlmKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgaWYoXG5cdCAgICAgICAgICAgICAgICAodHlwZW9mIE1hcCA9PT0gJ2Z1bmN0aW9uJyAmJiB2YWx1ZSBpbnN0YW5jZW9mIE1hcCkgfHxcblx0ICAgICAgICAgICAgICAgICh0eXBlb2YgU2V0ID09PSAnZnVuY3Rpb24nICYmIHZhbHVlIGluc3RhbmNlb2YgU2V0KVxuXHQgICAgICAgICAgICApIHtcblx0ICAgICAgICAgICAgICAgIC8vIEVDTUFTY3JpcHQgMjAxNSBNYXBzIGFuZCBTZXRzXG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUuc2l6ZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpZihsaWIuaXNPYmplY3QodmFsdWUpICYmICEodmFsdWUgaW5zdGFuY2VvZiByLlNhZmVTdHJpbmcpKSB7XG5cdCAgICAgICAgICAgICAgICAvLyBPYmplY3RzIChiZXNpZGVzIFNhZmVTdHJpbmdzKSwgbm9uLXByaW1hdGl2ZSBBcnJheXNcblx0ICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh2YWx1ZSkubGVuZ3RoO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiB2YWx1ZS5sZW5ndGg7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiAwO1xuXHQgICAgfSxcblxuXHQgICAgbGlzdDogZnVuY3Rpb24odmFsKSB7XG5cdCAgICAgICAgaWYobGliLmlzU3RyaW5nKHZhbCkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHZhbC5zcGxpdCgnJyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsc2UgaWYobGliLmlzT2JqZWN0KHZhbCkpIHtcblx0ICAgICAgICAgICAgdmFyIGtleXMgPSBbXTtcblxuXHQgICAgICAgICAgICBpZihPYmplY3Qua2V5cykge1xuXHQgICAgICAgICAgICAgICAga2V5cyA9IE9iamVjdC5rZXlzKHZhbCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBmb3IodmFyIGsgaW4gdmFsKSB7XG5cdCAgICAgICAgICAgICAgICAgICAga2V5cy5wdXNoKGspO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgcmV0dXJuIGxpYi5tYXAoa2V5cywgZnVuY3Rpb24oaykge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHsga2V5OiBrLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbFtrXSB9O1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgZWxzZSBpZihsaWIuaXNBcnJheSh2YWwpKSB7XG5cdCAgICAgICAgICByZXR1cm4gdmFsO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgdGhyb3cgbmV3IGxpYi5UZW1wbGF0ZUVycm9yKCdsaXN0IGZpbHRlcjogdHlwZSBub3QgaXRlcmFibGUnKTtcblx0ICAgICAgICB9XG5cdCAgICB9LFxuXG5cdCAgICBsb3dlcjogZnVuY3Rpb24oc3RyKSB7XG5cdCAgICAgICAgc3RyID0gbm9ybWFsaXplKHN0ciwgJycpO1xuXHQgICAgICAgIHJldHVybiBzdHIudG9Mb3dlckNhc2UoKTtcblx0ICAgIH0sXG5cblx0ICAgIHJhbmRvbTogZnVuY3Rpb24oYXJyKSB7XG5cdCAgICAgICAgcmV0dXJuIGFycltNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBhcnIubGVuZ3RoKV07XG5cdCAgICB9LFxuXG5cdCAgICByZWplY3RhdHRyOiBmdW5jdGlvbihhcnIsIGF0dHIpIHtcblx0ICAgICAgcmV0dXJuIGFyci5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgICAgICByZXR1cm4gIWl0ZW1bYXR0cl07XG5cdCAgICAgIH0pO1xuXHQgICAgfSxcblxuXHQgICAgc2VsZWN0YXR0cjogZnVuY3Rpb24oYXJyLCBhdHRyKSB7XG5cdCAgICAgIHJldHVybiBhcnIuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICAgICAgcmV0dXJuICEhaXRlbVthdHRyXTtcblx0ICAgICAgfSk7XG5cdCAgICB9LFxuXG5cdCAgICByZXBsYWNlOiBmdW5jdGlvbihzdHIsIG9sZCwgbmV3XywgbWF4Q291bnQpIHtcblx0ICAgICAgICB2YXIgb3JpZ2luYWxTdHIgPSBzdHI7XG5cblx0ICAgICAgICBpZiAob2xkIGluc3RhbmNlb2YgUmVnRXhwKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBzdHIucmVwbGFjZShvbGQsIG5ld18pO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIGlmKHR5cGVvZiBtYXhDb3VudCA9PT0gJ3VuZGVmaW5lZCcpe1xuXHQgICAgICAgICAgICBtYXhDb3VudCA9IC0xO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHZhciByZXMgPSAnJzsgIC8vIE91dHB1dFxuXG5cdCAgICAgICAgLy8gQ2FzdCBOdW1iZXJzIGluIHRoZSBzZWFyY2ggdGVybSB0byBzdHJpbmdcblx0ICAgICAgICBpZih0eXBlb2Ygb2xkID09PSAnbnVtYmVyJyl7XG5cdCAgICAgICAgICAgIG9sZCA9IG9sZCArICcnO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBlbHNlIGlmKHR5cGVvZiBvbGQgIT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgICAgIC8vIElmIGl0IGlzIHNvbWV0aGluZyBvdGhlciB0aGFuIG51bWJlciBvciBzdHJpbmcsXG5cdCAgICAgICAgICAgIC8vIHJldHVybiB0aGUgb3JpZ2luYWwgc3RyaW5nXG5cdCAgICAgICAgICAgIHJldHVybiBzdHI7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgLy8gQ2FzdCBudW1iZXJzIGluIHRoZSByZXBsYWNlbWVudCB0byBzdHJpbmdcblx0ICAgICAgICBpZih0eXBlb2Ygc3RyID09PSAnbnVtYmVyJyl7XG5cdCAgICAgICAgICAgIHN0ciA9IHN0ciArICcnO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIC8vIElmIGJ5IG5vdywgd2UgZG9uJ3QgaGF2ZSBhIHN0cmluZywgdGhyb3cgaXQgYmFja1xuXHQgICAgICAgIGlmKHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnICYmICEoc3RyIGluc3RhbmNlb2Ygci5TYWZlU3RyaW5nKSl7XG5cdCAgICAgICAgICAgIHJldHVybiBzdHI7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgLy8gU2hvcnRDaXJjdWl0c1xuXHQgICAgICAgIGlmKG9sZCA9PT0gJycpe1xuXHQgICAgICAgICAgICAvLyBNaW1pYyB0aGUgcHl0aG9uIGJlaGF2aW91cjogZW1wdHkgc3RyaW5nIGlzIHJlcGxhY2VkXG5cdCAgICAgICAgICAgIC8vIGJ5IHJlcGxhY2VtZW50IGUuZy4gXCJhYmNcInxyZXBsYWNlKFwiXCIsIFwiLlwiKSAtPiAuYS5iLmMuXG5cdCAgICAgICAgICAgIHJlcyA9IG5ld18gKyBzdHIuc3BsaXQoJycpLmpvaW4obmV3XykgKyBuZXdfO1xuXHQgICAgICAgICAgICByZXR1cm4gci5jb3B5U2FmZW5lc3Moc3RyLCByZXMpO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHZhciBuZXh0SW5kZXggPSBzdHIuaW5kZXhPZihvbGQpO1xuXHQgICAgICAgIC8vIGlmICMgb2YgcmVwbGFjZW1lbnRzIHRvIHBlcmZvcm0gaXMgMCwgb3IgdGhlIHN0cmluZyB0byBkb2VzXG5cdCAgICAgICAgLy8gbm90IGNvbnRhaW4gdGhlIG9sZCB2YWx1ZSwgcmV0dXJuIHRoZSBzdHJpbmdcblx0ICAgICAgICBpZihtYXhDb3VudCA9PT0gMCB8fCBuZXh0SW5kZXggPT09IC0xKXtcblx0ICAgICAgICAgICAgcmV0dXJuIHN0cjtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICB2YXIgcG9zID0gMDtcblx0ICAgICAgICB2YXIgY291bnQgPSAwOyAvLyAjIG9mIHJlcGxhY2VtZW50cyBtYWRlXG5cblx0ICAgICAgICB3aGlsZShuZXh0SW5kZXggID4gLTEgJiYgKG1heENvdW50ID09PSAtMSB8fCBjb3VudCA8IG1heENvdW50KSl7XG5cdCAgICAgICAgICAgIC8vIEdyYWIgdGhlIG5leHQgY2h1bmsgb2Ygc3JjIHN0cmluZyBhbmQgYWRkIGl0IHdpdGggdGhlXG5cdCAgICAgICAgICAgIC8vIHJlcGxhY2VtZW50LCB0byB0aGUgcmVzdWx0XG5cdCAgICAgICAgICAgIHJlcyArPSBzdHIuc3Vic3RyaW5nKHBvcywgbmV4dEluZGV4KSArIG5ld187XG5cdCAgICAgICAgICAgIC8vIEluY3JlbWVudCBvdXIgcG9pbnRlciBpbiB0aGUgc3JjIHN0cmluZ1xuXHQgICAgICAgICAgICBwb3MgPSBuZXh0SW5kZXggKyBvbGQubGVuZ3RoO1xuXHQgICAgICAgICAgICBjb3VudCsrO1xuXHQgICAgICAgICAgICAvLyBTZWUgaWYgdGhlcmUgYXJlIGFueSBtb3JlIHJlcGxhY2VtZW50cyB0byBiZSBtYWRlXG5cdCAgICAgICAgICAgIG5leHRJbmRleCA9IHN0ci5pbmRleE9mKG9sZCwgcG9zKTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICAvLyBXZSd2ZSBlaXRoZXIgcmVhY2hlZCB0aGUgZW5kLCBvciBkb25lIHRoZSBtYXggIyBvZlxuXHQgICAgICAgIC8vIHJlcGxhY2VtZW50cywgdGFjayBvbiBhbnkgcmVtYWluaW5nIHN0cmluZ1xuXHQgICAgICAgIGlmKHBvcyA8IHN0ci5sZW5ndGgpIHtcblx0ICAgICAgICAgICAgcmVzICs9IHN0ci5zdWJzdHJpbmcocG9zKTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICByZXR1cm4gci5jb3B5U2FmZW5lc3Mob3JpZ2luYWxTdHIsIHJlcyk7XG5cdCAgICB9LFxuXG5cdCAgICByZXZlcnNlOiBmdW5jdGlvbih2YWwpIHtcblx0ICAgICAgICB2YXIgYXJyO1xuXHQgICAgICAgIGlmKGxpYi5pc1N0cmluZyh2YWwpKSB7XG5cdCAgICAgICAgICAgIGFyciA9IGZpbHRlcnMubGlzdCh2YWwpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgLy8gQ29weSBpdFxuXHQgICAgICAgICAgICBhcnIgPSBsaWIubWFwKHZhbCwgZnVuY3Rpb24odikgeyByZXR1cm4gdjsgfSk7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgYXJyLnJldmVyc2UoKTtcblxuXHQgICAgICAgIGlmKGxpYi5pc1N0cmluZyh2YWwpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiByLmNvcHlTYWZlbmVzcyh2YWwsIGFyci5qb2luKCcnKSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBhcnI7XG5cdCAgICB9LFxuXG5cdCAgICByb3VuZDogZnVuY3Rpb24odmFsLCBwcmVjaXNpb24sIG1ldGhvZCkge1xuXHQgICAgICAgIHByZWNpc2lvbiA9IHByZWNpc2lvbiB8fCAwO1xuXHQgICAgICAgIHZhciBmYWN0b3IgPSBNYXRoLnBvdygxMCwgcHJlY2lzaW9uKTtcblx0ICAgICAgICB2YXIgcm91bmRlcjtcblxuXHQgICAgICAgIGlmKG1ldGhvZCA9PT0gJ2NlaWwnKSB7XG5cdCAgICAgICAgICAgIHJvdW5kZXIgPSBNYXRoLmNlaWw7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsc2UgaWYobWV0aG9kID09PSAnZmxvb3InKSB7XG5cdCAgICAgICAgICAgIHJvdW5kZXIgPSBNYXRoLmZsb29yO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgcm91bmRlciA9IE1hdGgucm91bmQ7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgcmV0dXJuIHJvdW5kZXIodmFsICogZmFjdG9yKSAvIGZhY3Rvcjtcblx0ICAgIH0sXG5cblx0ICAgIHNsaWNlOiBmdW5jdGlvbihhcnIsIHNsaWNlcywgZmlsbFdpdGgpIHtcblx0ICAgICAgICB2YXIgc2xpY2VMZW5ndGggPSBNYXRoLmZsb29yKGFyci5sZW5ndGggLyBzbGljZXMpO1xuXHQgICAgICAgIHZhciBleHRyYSA9IGFyci5sZW5ndGggJSBzbGljZXM7XG5cdCAgICAgICAgdmFyIG9mZnNldCA9IDA7XG5cdCAgICAgICAgdmFyIHJlcyA9IFtdO1xuXG5cdCAgICAgICAgZm9yKHZhciBpPTA7IGk8c2xpY2VzOyBpKyspIHtcblx0ICAgICAgICAgICAgdmFyIHN0YXJ0ID0gb2Zmc2V0ICsgaSAqIHNsaWNlTGVuZ3RoO1xuXHQgICAgICAgICAgICBpZihpIDwgZXh0cmEpIHtcblx0ICAgICAgICAgICAgICAgIG9mZnNldCsrO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHZhciBlbmQgPSBvZmZzZXQgKyAoaSArIDEpICogc2xpY2VMZW5ndGg7XG5cblx0ICAgICAgICAgICAgdmFyIHNsaWNlID0gYXJyLnNsaWNlKHN0YXJ0LCBlbmQpO1xuXHQgICAgICAgICAgICBpZihmaWxsV2l0aCAmJiBpID49IGV4dHJhKSB7XG5cdCAgICAgICAgICAgICAgICBzbGljZS5wdXNoKGZpbGxXaXRoKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXMucHVzaChzbGljZSk7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgcmV0dXJuIHJlcztcblx0ICAgIH0sXG5cblx0ICAgIHN1bTogZnVuY3Rpb24oYXJyLCBhdHRyLCBzdGFydCkge1xuXHQgICAgICAgIHZhciBzdW0gPSAwO1xuXG5cdCAgICAgICAgaWYodHlwZW9mIHN0YXJ0ID09PSAnbnVtYmVyJyl7XG5cdCAgICAgICAgICAgIHN1bSArPSBzdGFydDtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICBpZihhdHRyKSB7XG5cdCAgICAgICAgICAgIGFyciA9IGxpYi5tYXAoYXJyLCBmdW5jdGlvbih2KSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdlthdHRyXTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICBzdW0gKz0gYXJyW2ldO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHJldHVybiBzdW07XG5cdCAgICB9LFxuXG5cdCAgICBzb3J0OiByLm1ha2VNYWNybyhbJ3ZhbHVlJywgJ3JldmVyc2UnLCAnY2FzZV9zZW5zaXRpdmUnLCAnYXR0cmlidXRlJ10sIFtdLCBmdW5jdGlvbihhcnIsIHJldmVyc2UsIGNhc2VTZW5zLCBhdHRyKSB7XG5cdCAgICAgICAgIC8vIENvcHkgaXRcblx0ICAgICAgICBhcnIgPSBsaWIubWFwKGFyciwgZnVuY3Rpb24odikgeyByZXR1cm4gdjsgfSk7XG5cblx0ICAgICAgICBhcnIuc29ydChmdW5jdGlvbihhLCBiKSB7XG5cdCAgICAgICAgICAgIHZhciB4LCB5O1xuXG5cdCAgICAgICAgICAgIGlmKGF0dHIpIHtcblx0ICAgICAgICAgICAgICAgIHggPSBhW2F0dHJdO1xuXHQgICAgICAgICAgICAgICAgeSA9IGJbYXR0cl07XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICAgICAgICB4ID0gYTtcblx0ICAgICAgICAgICAgICAgIHkgPSBiO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgaWYoIWNhc2VTZW5zICYmIGxpYi5pc1N0cmluZyh4KSAmJiBsaWIuaXNTdHJpbmcoeSkpIHtcblx0ICAgICAgICAgICAgICAgIHggPSB4LnRvTG93ZXJDYXNlKCk7XG5cdCAgICAgICAgICAgICAgICB5ID0geS50b0xvd2VyQ2FzZSgpO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgaWYoeCA8IHkpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiByZXZlcnNlID8gMSA6IC0xO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGVsc2UgaWYoeCA+IHkpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiByZXZlcnNlID8gLTE6IDE7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gMDtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXG5cdCAgICAgICAgcmV0dXJuIGFycjtcblx0ICAgIH0pLFxuXG5cdCAgICBzdHJpbmc6IGZ1bmN0aW9uKG9iaikge1xuXHQgICAgICAgIHJldHVybiByLmNvcHlTYWZlbmVzcyhvYmosIG9iaik7XG5cdCAgICB9LFxuXG5cdCAgICBzdHJpcHRhZ3M6IGZ1bmN0aW9uKGlucHV0LCBwcmVzZXJ2ZV9saW5lYnJlYWtzKSB7XG5cdCAgICAgICAgaW5wdXQgPSBub3JtYWxpemUoaW5wdXQsICcnKTtcblx0ICAgICAgICBwcmVzZXJ2ZV9saW5lYnJlYWtzID0gcHJlc2VydmVfbGluZWJyZWFrcyB8fCBmYWxzZTtcblx0ICAgICAgICB2YXIgdGFncyA9IC88XFwvPyhbYS16XVthLXowLTldKilcXGJbXj5dKj58PCEtLVtcXHNcXFNdKj8tLT4vZ2k7XG5cdCAgICAgICAgdmFyIHRyaW1tZWRJbnB1dCA9IGZpbHRlcnMudHJpbShpbnB1dC5yZXBsYWNlKHRhZ3MsICcnKSk7XG5cdCAgICAgICAgdmFyIHJlcyA9ICcnO1xuXHQgICAgICAgIGlmIChwcmVzZXJ2ZV9saW5lYnJlYWtzKSB7XG5cdCAgICAgICAgICAgIHJlcyA9IHRyaW1tZWRJbnB1dFxuXHQgICAgICAgICAgICAgICAgLnJlcGxhY2UoL14gK3wgKyQvZ20sICcnKSAgICAgLy8gcmVtb3ZlIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHNwYWNlc1xuXHQgICAgICAgICAgICAgICAgLnJlcGxhY2UoLyArL2csICcgJykgICAgICAgICAgLy8gc3F1YXNoIGFkamFjZW50IHNwYWNlc1xuXHQgICAgICAgICAgICAgICAgLnJlcGxhY2UoLyhcXHJcXG4pL2csICdcXG4nKSAgICAgLy8gbm9ybWFsaXplIGxpbmVicmVha3MgKENSTEYgLT4gTEYpXG5cdCAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFxuXFxuXFxuKy9nLCAnXFxuXFxuJyk7IC8vIHNxdWFzaCBhYm5vcm1hbCBhZGphY2VudCBsaW5lYnJlYWtzXG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgcmVzID0gdHJpbW1lZElucHV0LnJlcGxhY2UoL1xccysvZ2ksICcgJyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiByLmNvcHlTYWZlbmVzcyhpbnB1dCwgcmVzKTtcblx0ICAgIH0sXG5cblx0ICAgIHRpdGxlOiBmdW5jdGlvbihzdHIpIHtcblx0ICAgICAgICBzdHIgPSBub3JtYWxpemUoc3RyLCAnJyk7XG5cdCAgICAgICAgdmFyIHdvcmRzID0gc3RyLnNwbGl0KCcgJyk7XG5cdCAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHdvcmRzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgIHdvcmRzW2ldID0gZmlsdGVycy5jYXBpdGFsaXplKHdvcmRzW2ldKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHIuY29weVNhZmVuZXNzKHN0ciwgd29yZHMuam9pbignICcpKTtcblx0ICAgIH0sXG5cblx0ICAgIHRyaW06IGZ1bmN0aW9uKHN0cikge1xuXHQgICAgICAgIHJldHVybiByLmNvcHlTYWZlbmVzcyhzdHIsIHN0ci5yZXBsYWNlKC9eXFxzKnxcXHMqJC9nLCAnJykpO1xuXHQgICAgfSxcblxuXHQgICAgdHJ1bmNhdGU6IGZ1bmN0aW9uKGlucHV0LCBsZW5ndGgsIGtpbGx3b3JkcywgZW5kKSB7XG5cdCAgICAgICAgdmFyIG9yaWcgPSBpbnB1dDtcblx0ICAgICAgICBpbnB1dCA9IG5vcm1hbGl6ZShpbnB1dCwgJycpO1xuXHQgICAgICAgIGxlbmd0aCA9IGxlbmd0aCB8fCAyNTU7XG5cblx0ICAgICAgICBpZiAoaW5wdXQubGVuZ3RoIDw9IGxlbmd0aClcblx0ICAgICAgICAgICAgcmV0dXJuIGlucHV0O1xuXG5cdCAgICAgICAgaWYgKGtpbGx3b3Jkcykge1xuXHQgICAgICAgICAgICBpbnB1dCA9IGlucHV0LnN1YnN0cmluZygwLCBsZW5ndGgpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHZhciBpZHggPSBpbnB1dC5sYXN0SW5kZXhPZignICcsIGxlbmd0aCk7XG5cdCAgICAgICAgICAgIGlmKGlkeCA9PT0gLTEpIHtcblx0ICAgICAgICAgICAgICAgIGlkeCA9IGxlbmd0aDtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIGlucHV0ID0gaW5wdXQuc3Vic3RyaW5nKDAsIGlkeCk7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgaW5wdXQgKz0gKGVuZCAhPT0gdW5kZWZpbmVkICYmIGVuZCAhPT0gbnVsbCkgPyBlbmQgOiAnLi4uJztcblx0ICAgICAgICByZXR1cm4gci5jb3B5U2FmZW5lc3Mob3JpZywgaW5wdXQpO1xuXHQgICAgfSxcblxuXHQgICAgdXBwZXI6IGZ1bmN0aW9uKHN0cikge1xuXHQgICAgICAgIHN0ciA9IG5vcm1hbGl6ZShzdHIsICcnKTtcblx0ICAgICAgICByZXR1cm4gc3RyLnRvVXBwZXJDYXNlKCk7XG5cdCAgICB9LFxuXG5cdCAgICB1cmxlbmNvZGU6IGZ1bmN0aW9uKG9iaikge1xuXHQgICAgICAgIHZhciBlbmMgPSBlbmNvZGVVUklDb21wb25lbnQ7XG5cdCAgICAgICAgaWYgKGxpYi5pc1N0cmluZyhvYmopKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBlbmMob2JqKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB2YXIgcGFydHM7XG5cdCAgICAgICAgICAgIGlmIChsaWIuaXNBcnJheShvYmopKSB7XG5cdCAgICAgICAgICAgICAgICBwYXJ0cyA9IG9iai5tYXAoZnVuY3Rpb24oaXRlbSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbmMoaXRlbVswXSkgKyAnPScgKyBlbmMoaXRlbVsxXSk7XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHBhcnRzID0gW107XG5cdCAgICAgICAgICAgICAgICBmb3IgKHZhciBrIGluIG9iaikge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoaykpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcGFydHMucHVzaChlbmMoaykgKyAnPScgKyBlbmMob2JqW2tdKSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiBwYXJ0cy5qb2luKCcmJyk7XG5cdCAgICAgICAgfVxuXHQgICAgfSxcblxuXHQgICAgdXJsaXplOiBmdW5jdGlvbihzdHIsIGxlbmd0aCwgbm9mb2xsb3cpIHtcblx0ICAgICAgICBpZiAoaXNOYU4obGVuZ3RoKSkgbGVuZ3RoID0gSW5maW5pdHk7XG5cblx0ICAgICAgICB2YXIgbm9Gb2xsb3dBdHRyID0gKG5vZm9sbG93ID09PSB0cnVlID8gJyByZWw9XCJub2ZvbGxvd1wiJyA6ICcnKTtcblxuXHQgICAgICAgIC8vIEZvciB0aGUgamluamEgcmVnZXhwLCBzZWVcblx0ICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbWl0c3VoaWtvL2ppbmphMi9ibG9iL2YxNWI4MTRkY2JhNmFhMTJiYzc0ZDFmN2QwYzg4MWQ1NWY3MTI2YmUvamluamEyL3V0aWxzLnB5I0wyMC1MMjNcblx0ICAgICAgICB2YXIgcHVuY1JFID0gL14oPzpcXCh8PHwmbHQ7KT8oLio/KSg/OlxcLnwsfFxcKXxcXG58Jmd0Oyk/JC87XG5cdCAgICAgICAgLy8gZnJvbSBodHRwOi8vYmxvZy5nZXJ2Lm5ldC8yMDExLzA1L2h0bWw1X2VtYWlsX2FkZHJlc3NfcmVnZXhwL1xuXHQgICAgICAgIHZhciBlbWFpbFJFID0gL15bXFx3LiEjJCUmJyorXFwtXFwvPT9cXF5ge3x9fl0rQFthLXpcXGRcXC1dKyhcXC5bYS16XFxkXFwtXSspKyQvaTtcblx0ICAgICAgICB2YXIgaHR0cEh0dHBzUkUgPSAvXmh0dHBzPzpcXC9cXC8uKiQvO1xuXHQgICAgICAgIHZhciB3d3dSRSA9IC9ed3d3XFwuLztcblx0ICAgICAgICB2YXIgdGxkUkUgPSAvXFwuKD86b3JnfG5ldHxjb20pKD86XFw6fFxcL3wkKS87XG5cblx0ICAgICAgICB2YXIgd29yZHMgPSBzdHIuc3BsaXQoLyhcXHMrKS8pLmZpbHRlcihmdW5jdGlvbih3b3JkKSB7XG5cdCAgICAgICAgICAvLyBJZiB0aGUgd29yZCBoYXMgbm8gbGVuZ3RoLCBiYWlsLiBUaGlzIGNhbiBoYXBwZW4gZm9yIHN0ciB3aXRoXG5cdCAgICAgICAgICAvLyB0cmFpbGluZyB3aGl0ZXNwYWNlLlxuXHQgICAgICAgICAgcmV0dXJuIHdvcmQgJiYgd29yZC5sZW5ndGg7XG5cdCAgICAgICAgfSkubWFwKGZ1bmN0aW9uKHdvcmQpIHtcblx0ICAgICAgICAgIHZhciBtYXRjaGVzID0gd29yZC5tYXRjaChwdW5jUkUpO1xuXHQgICAgICAgICAgdmFyIHBvc3NpYmxlVXJsID0gbWF0Y2hlcyAmJiBtYXRjaGVzWzFdIHx8IHdvcmQ7XG5cblx0ICAgICAgICAgIC8vIHVybCB0aGF0IHN0YXJ0cyB3aXRoIGh0dHAgb3IgaHR0cHNcblx0ICAgICAgICAgIGlmIChodHRwSHR0cHNSRS50ZXN0KHBvc3NpYmxlVXJsKSlcblx0ICAgICAgICAgICAgcmV0dXJuICc8YSBocmVmPVwiJyArIHBvc3NpYmxlVXJsICsgJ1wiJyArIG5vRm9sbG93QXR0ciArICc+JyArIHBvc3NpYmxlVXJsLnN1YnN0cigwLCBsZW5ndGgpICsgJzwvYT4nO1xuXG5cdCAgICAgICAgICAvLyB1cmwgdGhhdCBzdGFydHMgd2l0aCB3d3cuXG5cdCAgICAgICAgICBpZiAod3d3UkUudGVzdChwb3NzaWJsZVVybCkpXG5cdCAgICAgICAgICAgIHJldHVybiAnPGEgaHJlZj1cImh0dHA6Ly8nICsgcG9zc2libGVVcmwgKyAnXCInICsgbm9Gb2xsb3dBdHRyICsgJz4nICsgcG9zc2libGVVcmwuc3Vic3RyKDAsIGxlbmd0aCkgKyAnPC9hPic7XG5cblx0ICAgICAgICAgIC8vIGFuIGVtYWlsIGFkZHJlc3Mgb2YgdGhlIGZvcm0gdXNlcm5hbWVAZG9tYWluLnRsZFxuXHQgICAgICAgICAgaWYgKGVtYWlsUkUudGVzdChwb3NzaWJsZVVybCkpXG5cdCAgICAgICAgICAgIHJldHVybiAnPGEgaHJlZj1cIm1haWx0bzonICsgcG9zc2libGVVcmwgKyAnXCI+JyArIHBvc3NpYmxlVXJsICsgJzwvYT4nO1xuXG5cdCAgICAgICAgICAvLyB1cmwgdGhhdCBlbmRzIGluIC5jb20sIC5vcmcgb3IgLm5ldCB0aGF0IGlzIG5vdCBhbiBlbWFpbCBhZGRyZXNzXG5cdCAgICAgICAgICBpZiAodGxkUkUudGVzdChwb3NzaWJsZVVybCkpXG5cdCAgICAgICAgICAgIHJldHVybiAnPGEgaHJlZj1cImh0dHA6Ly8nICsgcG9zc2libGVVcmwgKyAnXCInICsgbm9Gb2xsb3dBdHRyICsgJz4nICsgcG9zc2libGVVcmwuc3Vic3RyKDAsIGxlbmd0aCkgKyAnPC9hPic7XG5cblx0ICAgICAgICAgIHJldHVybiB3b3JkO1xuXG5cdCAgICAgICAgfSk7XG5cblx0ICAgICAgICByZXR1cm4gd29yZHMuam9pbignJyk7XG5cdCAgICB9LFxuXG5cdCAgICB3b3JkY291bnQ6IGZ1bmN0aW9uKHN0cikge1xuXHQgICAgICAgIHN0ciA9IG5vcm1hbGl6ZShzdHIsICcnKTtcblx0ICAgICAgICB2YXIgd29yZHMgPSAoc3RyKSA/IHN0ci5tYXRjaCgvXFx3Ky9nKSA6IG51bGw7XG5cdCAgICAgICAgcmV0dXJuICh3b3JkcykgPyB3b3Jkcy5sZW5ndGggOiBudWxsO1xuXHQgICAgfSxcblxuXHQgICAgJ2Zsb2F0JzogZnVuY3Rpb24odmFsLCBkZWYpIHtcblx0ICAgICAgICB2YXIgcmVzID0gcGFyc2VGbG9hdCh2YWwpO1xuXHQgICAgICAgIHJldHVybiBpc05hTihyZXMpID8gZGVmIDogcmVzO1xuXHQgICAgfSxcblxuXHQgICAgJ2ludCc6IGZ1bmN0aW9uKHZhbCwgZGVmKSB7XG5cdCAgICAgICAgdmFyIHJlcyA9IHBhcnNlSW50KHZhbCwgMTApO1xuXHQgICAgICAgIHJldHVybiBpc05hTihyZXMpID8gZGVmIDogcmVzO1xuXHQgICAgfVxuXHR9O1xuXG5cdC8vIEFsaWFzZXNcblx0ZmlsdGVycy5kID0gZmlsdGVyc1snZGVmYXVsdCddO1xuXHRmaWx0ZXJzLmUgPSBmaWx0ZXJzLmVzY2FwZTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZpbHRlcnM7XG5cblxuLyoqKi8gfSxcbi8qIDggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgbGliID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0dmFyIE9iaiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cblx0Ly8gRnJhbWVzIGtlZXAgdHJhY2sgb2Ygc2NvcGluZyBib3RoIGF0IGNvbXBpbGUtdGltZSBhbmQgcnVuLXRpbWUgc29cblx0Ly8gd2Uga25vdyBob3cgdG8gYWNjZXNzIHZhcmlhYmxlcy4gQmxvY2sgdGFncyBjYW4gaW50cm9kdWNlIHNwZWNpYWxcblx0Ly8gdmFyaWFibGVzLCBmb3IgZXhhbXBsZS5cblx0dmFyIEZyYW1lID0gT2JqLmV4dGVuZCh7XG5cdCAgICBpbml0OiBmdW5jdGlvbihwYXJlbnQsIGlzb2xhdGVXcml0ZXMpIHtcblx0ICAgICAgICB0aGlzLnZhcmlhYmxlcyA9IHt9O1xuXHQgICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuXHQgICAgICAgIHRoaXMudG9wTGV2ZWwgPSBmYWxzZTtcblx0ICAgICAgICAvLyBpZiB0aGlzIGlzIHRydWUsIHdyaXRlcyAoc2V0KSBzaG91bGQgbmV2ZXIgcHJvcGFnYXRlIHVwd2FyZHMgcGFzdFxuXHQgICAgICAgIC8vIHRoaXMgZnJhbWUgdG8gaXRzIHBhcmVudCAodGhvdWdoIHJlYWRzIG1heSkuXG5cdCAgICAgICAgdGhpcy5pc29sYXRlV3JpdGVzID0gaXNvbGF0ZVdyaXRlcztcblx0ICAgIH0sXG5cblx0ICAgIHNldDogZnVuY3Rpb24obmFtZSwgdmFsLCByZXNvbHZlVXApIHtcblx0ICAgICAgICAvLyBBbGxvdyB2YXJpYWJsZXMgd2l0aCBkb3RzIGJ5IGF1dG9tYXRpY2FsbHkgY3JlYXRpbmcgdGhlXG5cdCAgICAgICAgLy8gbmVzdGVkIHN0cnVjdHVyZVxuXHQgICAgICAgIHZhciBwYXJ0cyA9IG5hbWUuc3BsaXQoJy4nKTtcblx0ICAgICAgICB2YXIgb2JqID0gdGhpcy52YXJpYWJsZXM7XG5cdCAgICAgICAgdmFyIGZyYW1lID0gdGhpcztcblxuXHQgICAgICAgIGlmKHJlc29sdmVVcCkge1xuXHQgICAgICAgICAgICBpZigoZnJhbWUgPSB0aGlzLnJlc29sdmUocGFydHNbMF0sIHRydWUpKSkge1xuXHQgICAgICAgICAgICAgICAgZnJhbWUuc2V0KG5hbWUsIHZhbCk7XG5cdCAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cblx0ICAgICAgICBmb3IodmFyIGk9MDsgaTxwYXJ0cy5sZW5ndGggLSAxOyBpKyspIHtcblx0ICAgICAgICAgICAgdmFyIGlkID0gcGFydHNbaV07XG5cblx0ICAgICAgICAgICAgaWYoIW9ialtpZF0pIHtcblx0ICAgICAgICAgICAgICAgIG9ialtpZF0gPSB7fTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBvYmogPSBvYmpbaWRdO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIG9ialtwYXJ0c1twYXJ0cy5sZW5ndGggLSAxXV0gPSB2YWw7XG5cdCAgICB9LFxuXG5cdCAgICBnZXQ6IGZ1bmN0aW9uKG5hbWUpIHtcblx0ICAgICAgICB2YXIgdmFsID0gdGhpcy52YXJpYWJsZXNbbmFtZV07XG5cdCAgICAgICAgaWYodmFsICE9PSB1bmRlZmluZWQgJiYgdmFsICE9PSBudWxsKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB2YWw7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfSxcblxuXHQgICAgbG9va3VwOiBmdW5jdGlvbihuYW1lKSB7XG5cdCAgICAgICAgdmFyIHAgPSB0aGlzLnBhcmVudDtcblx0ICAgICAgICB2YXIgdmFsID0gdGhpcy52YXJpYWJsZXNbbmFtZV07XG5cdCAgICAgICAgaWYodmFsICE9PSB1bmRlZmluZWQgJiYgdmFsICE9PSBudWxsKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB2YWw7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBwICYmIHAubG9va3VwKG5hbWUpO1xuXHQgICAgfSxcblxuXHQgICAgcmVzb2x2ZTogZnVuY3Rpb24obmFtZSwgZm9yV3JpdGUpIHtcblx0ICAgICAgICB2YXIgcCA9IChmb3JXcml0ZSAmJiB0aGlzLmlzb2xhdGVXcml0ZXMpID8gdW5kZWZpbmVkIDogdGhpcy5wYXJlbnQ7XG5cdCAgICAgICAgdmFyIHZhbCA9IHRoaXMudmFyaWFibGVzW25hbWVdO1xuXHQgICAgICAgIGlmKHZhbCAhPT0gdW5kZWZpbmVkICYmIHZhbCAhPT0gbnVsbCkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHAgJiYgcC5yZXNvbHZlKG5hbWUpO1xuXHQgICAgfSxcblxuXHQgICAgcHVzaDogZnVuY3Rpb24oaXNvbGF0ZVdyaXRlcykge1xuXHQgICAgICAgIHJldHVybiBuZXcgRnJhbWUodGhpcywgaXNvbGF0ZVdyaXRlcyk7XG5cdCAgICB9LFxuXG5cdCAgICBwb3A6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLnBhcmVudDtcblx0ICAgIH1cblx0fSk7XG5cblx0ZnVuY3Rpb24gbWFrZU1hY3JvKGFyZ05hbWVzLCBrd2FyZ05hbWVzLCBmdW5jKSB7XG5cdCAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIGFyZ0NvdW50ID0gbnVtQXJncyhhcmd1bWVudHMpO1xuXHQgICAgICAgIHZhciBhcmdzO1xuXHQgICAgICAgIHZhciBrd2FyZ3MgPSBnZXRLZXl3b3JkQXJncyhhcmd1bWVudHMpO1xuXHQgICAgICAgIHZhciBpO1xuXG5cdCAgICAgICAgaWYoYXJnQ291bnQgPiBhcmdOYW1lcy5sZW5ndGgpIHtcblx0ICAgICAgICAgICAgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCwgYXJnTmFtZXMubGVuZ3RoKTtcblxuXHQgICAgICAgICAgICAvLyBQb3NpdGlvbmFsIGFyZ3VtZW50cyB0aGF0IHNob3VsZCBiZSBwYXNzZWQgaW4gYXNcblx0ICAgICAgICAgICAgLy8ga2V5d29yZCBhcmd1bWVudHMgKGVzc2VudGlhbGx5IGRlZmF1bHQgdmFsdWVzKVxuXHQgICAgICAgICAgICB2YXIgdmFscyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgYXJncy5sZW5ndGgsIGFyZ0NvdW50KTtcblx0ICAgICAgICAgICAgZm9yKGkgPSAwOyBpIDwgdmFscy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgaWYoaSA8IGt3YXJnTmFtZXMubGVuZ3RoKSB7XG5cdCAgICAgICAgICAgICAgICAgICAga3dhcmdzW2t3YXJnTmFtZXNbaV1dID0gdmFsc1tpXTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIGFyZ3MucHVzaChrd2FyZ3MpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBlbHNlIGlmKGFyZ0NvdW50IDwgYXJnTmFtZXMubGVuZ3RoKSB7XG5cdCAgICAgICAgICAgIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDAsIGFyZ0NvdW50KTtcblxuXHQgICAgICAgICAgICBmb3IoaSA9IGFyZ0NvdW50OyBpIDwgYXJnTmFtZXMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgIHZhciBhcmcgPSBhcmdOYW1lc1tpXTtcblxuXHQgICAgICAgICAgICAgICAgLy8gS2V5d29yZCBhcmd1bWVudHMgdGhhdCBzaG91bGQgYmUgcGFzc2VkIGFzXG5cdCAgICAgICAgICAgICAgICAvLyBwb3NpdGlvbmFsIGFyZ3VtZW50cywgaS5lLiB0aGUgY2FsbGVyIGV4cGxpY2l0bHlcblx0ICAgICAgICAgICAgICAgIC8vIHVzZWQgdGhlIG5hbWUgb2YgYSBwb3NpdGlvbmFsIGFyZ1xuXHQgICAgICAgICAgICAgICAgYXJncy5wdXNoKGt3YXJnc1thcmddKTtcblx0ICAgICAgICAgICAgICAgIGRlbGV0ZSBrd2FyZ3NbYXJnXTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIGFyZ3MucHVzaChrd2FyZ3MpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgYXJncyA9IGFyZ3VtZW50cztcblx0ICAgICAgICB9XG5cblx0ICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcblx0ICAgIH07XG5cdH1cblxuXHRmdW5jdGlvbiBtYWtlS2V5d29yZEFyZ3Mob2JqKSB7XG5cdCAgICBvYmouX19rZXl3b3JkcyA9IHRydWU7XG5cdCAgICByZXR1cm4gb2JqO1xuXHR9XG5cblx0ZnVuY3Rpb24gZ2V0S2V5d29yZEFyZ3MoYXJncykge1xuXHQgICAgdmFyIGxlbiA9IGFyZ3MubGVuZ3RoO1xuXHQgICAgaWYobGVuKSB7XG5cdCAgICAgICAgdmFyIGxhc3RBcmcgPSBhcmdzW2xlbiAtIDFdO1xuXHQgICAgICAgIGlmKGxhc3RBcmcgJiYgbGFzdEFyZy5oYXNPd25Qcm9wZXJ0eSgnX19rZXl3b3JkcycpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBsYXN0QXJnO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiB7fTtcblx0fVxuXG5cdGZ1bmN0aW9uIG51bUFyZ3MoYXJncykge1xuXHQgICAgdmFyIGxlbiA9IGFyZ3MubGVuZ3RoO1xuXHQgICAgaWYobGVuID09PSAwKSB7XG5cdCAgICAgICAgcmV0dXJuIDA7XG5cdCAgICB9XG5cblx0ICAgIHZhciBsYXN0QXJnID0gYXJnc1tsZW4gLSAxXTtcblx0ICAgIGlmKGxhc3RBcmcgJiYgbGFzdEFyZy5oYXNPd25Qcm9wZXJ0eSgnX19rZXl3b3JkcycpKSB7XG5cdCAgICAgICAgcmV0dXJuIGxlbiAtIDE7XG5cdCAgICB9XG5cdCAgICBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gbGVuO1xuXHQgICAgfVxuXHR9XG5cblx0Ly8gQSBTYWZlU3RyaW5nIG9iamVjdCBpbmRpY2F0ZXMgdGhhdCB0aGUgc3RyaW5nIHNob3VsZCBub3QgYmVcblx0Ly8gYXV0b2VzY2FwZWQuIFRoaXMgaGFwcGVucyBtYWdpY2FsbHkgYmVjYXVzZSBhdXRvZXNjYXBpbmcgb25seVxuXHQvLyBvY2N1cnMgb24gcHJpbWl0aXZlIHN0cmluZyBvYmplY3RzLlxuXHRmdW5jdGlvbiBTYWZlU3RyaW5nKHZhbCkge1xuXHQgICAgaWYodHlwZW9mIHZhbCAhPT0gJ3N0cmluZycpIHtcblx0ICAgICAgICByZXR1cm4gdmFsO1xuXHQgICAgfVxuXG5cdCAgICB0aGlzLnZhbCA9IHZhbDtcblx0ICAgIHRoaXMubGVuZ3RoID0gdmFsLmxlbmd0aDtcblx0fVxuXG5cdFNhZmVTdHJpbmcucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTdHJpbmcucHJvdG90eXBlLCB7XG5cdCAgICBsZW5ndGg6IHsgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgdmFsdWU6IDAgfVxuXHR9KTtcblx0U2FmZVN0cmluZy5wcm90b3R5cGUudmFsdWVPZiA9IGZ1bmN0aW9uKCkge1xuXHQgICAgcmV0dXJuIHRoaXMudmFsO1xuXHR9O1xuXHRTYWZlU3RyaW5nLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgcmV0dXJuIHRoaXMudmFsO1xuXHR9O1xuXG5cdGZ1bmN0aW9uIGNvcHlTYWZlbmVzcyhkZXN0LCB0YXJnZXQpIHtcblx0ICAgIGlmKGRlc3QgaW5zdGFuY2VvZiBTYWZlU3RyaW5nKSB7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBTYWZlU3RyaW5nKHRhcmdldCk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdGFyZ2V0LnRvU3RyaW5nKCk7XG5cdH1cblxuXHRmdW5jdGlvbiBtYXJrU2FmZSh2YWwpIHtcblx0ICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbDtcblxuXHQgICAgaWYodHlwZSA9PT0gJ3N0cmluZycpIHtcblx0ICAgICAgICByZXR1cm4gbmV3IFNhZmVTdHJpbmcodmFsKTtcblx0ICAgIH1cblx0ICAgIGVsc2UgaWYodHlwZSAhPT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgIHJldHVybiB2YWw7XG5cdCAgICB9XG5cdCAgICBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIHZhciByZXQgPSB2YWwuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuXHQgICAgICAgICAgICBpZih0eXBlb2YgcmV0ID09PSAnc3RyaW5nJykge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBTYWZlU3RyaW5nKHJldCk7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICByZXR1cm4gcmV0O1xuXHQgICAgICAgIH07XG5cdCAgICB9XG5cdH1cblxuXHRmdW5jdGlvbiBzdXBwcmVzc1ZhbHVlKHZhbCwgYXV0b2VzY2FwZSkge1xuXHQgICAgdmFsID0gKHZhbCAhPT0gdW5kZWZpbmVkICYmIHZhbCAhPT0gbnVsbCkgPyB2YWwgOiAnJztcblxuXHQgICAgaWYoYXV0b2VzY2FwZSAmJiAhKHZhbCBpbnN0YW5jZW9mIFNhZmVTdHJpbmcpKSB7XG5cdCAgICAgICAgdmFsID0gbGliLmVzY2FwZSh2YWwudG9TdHJpbmcoKSk7XG5cdCAgICB9XG5cblx0ICAgIHJldHVybiB2YWw7XG5cdH1cblxuXHRmdW5jdGlvbiBlbnN1cmVEZWZpbmVkKHZhbCwgbGluZW5vLCBjb2xubykge1xuXHQgICAgaWYodmFsID09PSBudWxsIHx8IHZhbCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IGxpYi5UZW1wbGF0ZUVycm9yKFxuXHQgICAgICAgICAgICAnYXR0ZW1wdGVkIHRvIG91dHB1dCBudWxsIG9yIHVuZGVmaW5lZCB2YWx1ZScsXG5cdCAgICAgICAgICAgIGxpbmVubyArIDEsXG5cdCAgICAgICAgICAgIGNvbG5vICsgMVxuXHQgICAgICAgICk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdmFsO1xuXHR9XG5cblx0ZnVuY3Rpb24gbWVtYmVyTG9va3VwKG9iaiwgdmFsKSB7XG5cdCAgICBvYmogPSBvYmogfHwge307XG5cblx0ICAgIGlmKHR5cGVvZiBvYmpbdmFsXSA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIG9ialt2YWxdLmFwcGx5KG9iaiwgYXJndW1lbnRzKTtcblx0ICAgICAgICB9O1xuXHQgICAgfVxuXG5cdCAgICByZXR1cm4gb2JqW3ZhbF07XG5cdH1cblxuXHRmdW5jdGlvbiBjYWxsV3JhcChvYmosIG5hbWUsIGNvbnRleHQsIGFyZ3MpIHtcblx0ICAgIGlmKCFvYmopIHtcblx0ICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBjYWxsIGAnICsgbmFtZSArICdgLCB3aGljaCBpcyB1bmRlZmluZWQgb3IgZmFsc2V5Jyk7XG5cdCAgICB9XG5cdCAgICBlbHNlIGlmKHR5cGVvZiBvYmogIT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBjYWxsIGAnICsgbmFtZSArICdgLCB3aGljaCBpcyBub3QgYSBmdW5jdGlvbicpO1xuXHQgICAgfVxuXG5cdCAgICAvLyBqc2hpbnQgdmFsaWR0aGlzOiB0cnVlXG5cdCAgICByZXR1cm4gb2JqLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuXHR9XG5cblx0ZnVuY3Rpb24gY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIG5hbWUpIHtcblx0ICAgIHZhciB2YWwgPSBmcmFtZS5sb29rdXAobmFtZSk7XG5cdCAgICByZXR1cm4gKHZhbCAhPT0gdW5kZWZpbmVkICYmIHZhbCAhPT0gbnVsbCkgP1xuXHQgICAgICAgIHZhbCA6XG5cdCAgICAgICAgY29udGV4dC5sb29rdXAobmFtZSk7XG5cdH1cblxuXHRmdW5jdGlvbiBoYW5kbGVFcnJvcihlcnJvciwgbGluZW5vLCBjb2xubykge1xuXHQgICAgaWYoZXJyb3IubGluZW5vKSB7XG5cdCAgICAgICAgcmV0dXJuIGVycm9yO1xuXHQgICAgfVxuXHQgICAgZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBsaWIuVGVtcGxhdGVFcnJvcihlcnJvciwgbGluZW5vLCBjb2xubyk7XG5cdCAgICB9XG5cdH1cblxuXHRmdW5jdGlvbiBhc3luY0VhY2goYXJyLCBkaW1lbiwgaXRlciwgY2IpIHtcblx0ICAgIGlmKGxpYi5pc0FycmF5KGFycikpIHtcblx0ICAgICAgICB2YXIgbGVuID0gYXJyLmxlbmd0aDtcblxuXHQgICAgICAgIGxpYi5hc3luY0l0ZXIoYXJyLCBmdW5jdGlvbihpdGVtLCBpLCBuZXh0KSB7XG5cdCAgICAgICAgICAgIHN3aXRjaChkaW1lbikge1xuXHQgICAgICAgICAgICBjYXNlIDE6IGl0ZXIoaXRlbSwgaSwgbGVuLCBuZXh0KTsgYnJlYWs7XG5cdCAgICAgICAgICAgIGNhc2UgMjogaXRlcihpdGVtWzBdLCBpdGVtWzFdLCBpLCBsZW4sIG5leHQpOyBicmVhaztcblx0ICAgICAgICAgICAgY2FzZSAzOiBpdGVyKGl0ZW1bMF0sIGl0ZW1bMV0sIGl0ZW1bMl0sIGksIGxlbiwgbmV4dCk7IGJyZWFrO1xuXHQgICAgICAgICAgICBkZWZhdWx0OlxuXHQgICAgICAgICAgICAgICAgaXRlbS5wdXNoKGksIG5leHQpO1xuXHQgICAgICAgICAgICAgICAgaXRlci5hcHBseSh0aGlzLCBpdGVtKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0sIGNiKTtcblx0ICAgIH1cblx0ICAgIGVsc2Uge1xuXHQgICAgICAgIGxpYi5hc3luY0ZvcihhcnIsIGZ1bmN0aW9uKGtleSwgdmFsLCBpLCBsZW4sIG5leHQpIHtcblx0ICAgICAgICAgICAgaXRlcihrZXksIHZhbCwgaSwgbGVuLCBuZXh0KTtcblx0ICAgICAgICB9LCBjYik7XG5cdCAgICB9XG5cdH1cblxuXHRmdW5jdGlvbiBhc3luY0FsbChhcnIsIGRpbWVuLCBmdW5jLCBjYikge1xuXHQgICAgdmFyIGZpbmlzaGVkID0gMDtcblx0ICAgIHZhciBsZW4sIGk7XG5cdCAgICB2YXIgb3V0cHV0QXJyO1xuXG5cdCAgICBmdW5jdGlvbiBkb25lKGksIG91dHB1dCkge1xuXHQgICAgICAgIGZpbmlzaGVkKys7XG5cdCAgICAgICAgb3V0cHV0QXJyW2ldID0gb3V0cHV0O1xuXG5cdCAgICAgICAgaWYoZmluaXNoZWQgPT09IGxlbikge1xuXHQgICAgICAgICAgICBjYihudWxsLCBvdXRwdXRBcnIuam9pbignJykpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgaWYobGliLmlzQXJyYXkoYXJyKSkge1xuXHQgICAgICAgIGxlbiA9IGFyci5sZW5ndGg7XG5cdCAgICAgICAgb3V0cHV0QXJyID0gbmV3IEFycmF5KGxlbik7XG5cblx0ICAgICAgICBpZihsZW4gPT09IDApIHtcblx0ICAgICAgICAgICAgY2IobnVsbCwgJycpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgZm9yKGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IGFycltpXTtcblxuXHQgICAgICAgICAgICAgICAgc3dpdGNoKGRpbWVuKSB7XG5cdCAgICAgICAgICAgICAgICBjYXNlIDE6IGZ1bmMoaXRlbSwgaSwgbGVuLCBkb25lKTsgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIDI6IGZ1bmMoaXRlbVswXSwgaXRlbVsxXSwgaSwgbGVuLCBkb25lKTsgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBjYXNlIDM6IGZ1bmMoaXRlbVswXSwgaXRlbVsxXSwgaXRlbVsyXSwgaSwgbGVuLCBkb25lKTsgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICBkZWZhdWx0OlxuXHQgICAgICAgICAgICAgICAgICAgIGl0ZW0ucHVzaChpLCBkb25lKTtcblx0ICAgICAgICAgICAgICAgICAgICAvLyBqc2hpbnQgdmFsaWR0aGlzOiB0cnVlXG5cdCAgICAgICAgICAgICAgICAgICAgZnVuYy5hcHBseSh0aGlzLCBpdGVtKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIGVsc2Uge1xuXHQgICAgICAgIHZhciBrZXlzID0gbGliLmtleXMoYXJyKTtcblx0ICAgICAgICBsZW4gPSBrZXlzLmxlbmd0aDtcblx0ICAgICAgICBvdXRwdXRBcnIgPSBuZXcgQXJyYXkobGVuKTtcblxuXHQgICAgICAgIGlmKGxlbiA9PT0gMCkge1xuXHQgICAgICAgICAgICBjYihudWxsLCAnJyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICBmb3IoaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgayA9IGtleXNbaV07XG5cdCAgICAgICAgICAgICAgICBmdW5jKGssIGFycltrXSwgaSwgbGVuLCBkb25lKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH1cblx0fVxuXG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHQgICAgRnJhbWU6IEZyYW1lLFxuXHQgICAgbWFrZU1hY3JvOiBtYWtlTWFjcm8sXG5cdCAgICBtYWtlS2V5d29yZEFyZ3M6IG1ha2VLZXl3b3JkQXJncyxcblx0ICAgIG51bUFyZ3M6IG51bUFyZ3MsXG5cdCAgICBzdXBwcmVzc1ZhbHVlOiBzdXBwcmVzc1ZhbHVlLFxuXHQgICAgZW5zdXJlRGVmaW5lZDogZW5zdXJlRGVmaW5lZCxcblx0ICAgIG1lbWJlckxvb2t1cDogbWVtYmVyTG9va3VwLFxuXHQgICAgY29udGV4dE9yRnJhbWVMb29rdXA6IGNvbnRleHRPckZyYW1lTG9va3VwLFxuXHQgICAgY2FsbFdyYXA6IGNhbGxXcmFwLFxuXHQgICAgaGFuZGxlRXJyb3I6IGhhbmRsZUVycm9yLFxuXHQgICAgaXNBcnJheTogbGliLmlzQXJyYXksXG5cdCAgICBrZXlzOiBsaWIua2V5cyxcblx0ICAgIFNhZmVTdHJpbmc6IFNhZmVTdHJpbmcsXG5cdCAgICBjb3B5U2FmZW5lc3M6IGNvcHlTYWZlbmVzcyxcblx0ICAgIG1hcmtTYWZlOiBtYXJrU2FmZSxcblx0ICAgIGFzeW5jRWFjaDogYXN5bmNFYWNoLFxuXHQgICAgYXN5bmNBbGw6IGFzeW5jQWxsLFxuXHQgICAgaW5PcGVyYXRvcjogbGliLmluT3BlcmF0b3Jcblx0fTtcblxuXG4vKioqLyB9LFxuLyogOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdGZ1bmN0aW9uIGN5Y2xlcihpdGVtcykge1xuXHQgICAgdmFyIGluZGV4ID0gLTE7XG5cblx0ICAgIHJldHVybiB7XG5cdCAgICAgICAgY3VycmVudDogbnVsbCxcblx0ICAgICAgICByZXNldDogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIGluZGV4ID0gLTE7XG5cdCAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IG51bGw7XG5cdCAgICAgICAgfSxcblxuXHQgICAgICAgIG5leHQ6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICBpbmRleCsrO1xuXHQgICAgICAgICAgICBpZihpbmRleCA+PSBpdGVtcy5sZW5ndGgpIHtcblx0ICAgICAgICAgICAgICAgIGluZGV4ID0gMDtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IGl0ZW1zW2luZGV4XTtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudDtcblx0ICAgICAgICB9LFxuXHQgICAgfTtcblxuXHR9XG5cblx0ZnVuY3Rpb24gam9pbmVyKHNlcCkge1xuXHQgICAgc2VwID0gc2VwIHx8ICcsJztcblx0ICAgIHZhciBmaXJzdCA9IHRydWU7XG5cblx0ICAgIHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgdmFsID0gZmlyc3QgPyAnJyA6IHNlcDtcblx0ICAgICAgICBmaXJzdCA9IGZhbHNlO1xuXHQgICAgICAgIHJldHVybiB2YWw7XG5cdCAgICB9O1xuXHR9XG5cblx0Ly8gTWFraW5nIHRoaXMgYSBmdW5jdGlvbiBpbnN0ZWFkIHNvIGl0IHJldHVybnMgYSBuZXcgb2JqZWN0XG5cdC8vIGVhY2ggdGltZSBpdCdzIGNhbGxlZC4gVGhhdCB3YXksIGlmIHNvbWV0aGluZyBsaWtlIGFuIGVudmlyb25tZW50XG5cdC8vIHVzZXMgaXQsIHRoZXkgd2lsbCBlYWNoIGhhdmUgdGhlaXIgb3duIGNvcHkuXG5cdGZ1bmN0aW9uIGdsb2JhbHMoKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICAgIHJhbmdlOiBmdW5jdGlvbihzdGFydCwgc3RvcCwgc3RlcCkge1xuXHQgICAgICAgICAgICBpZih0eXBlb2Ygc3RvcCA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgICAgICAgICAgIHN0b3AgPSBzdGFydDtcblx0ICAgICAgICAgICAgICAgIHN0YXJ0ID0gMDtcblx0ICAgICAgICAgICAgICAgIHN0ZXAgPSAxO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGVsc2UgaWYoIXN0ZXApIHtcblx0ICAgICAgICAgICAgICAgIHN0ZXAgPSAxO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgdmFyIGFyciA9IFtdO1xuXHQgICAgICAgICAgICB2YXIgaTtcblx0ICAgICAgICAgICAgaWYgKHN0ZXAgPiAwKSB7XG5cdCAgICAgICAgICAgICAgICBmb3IgKGk9c3RhcnQ7IGk8c3RvcDsgaSs9c3RlcCkge1xuXHQgICAgICAgICAgICAgICAgICAgIGFyci5wdXNoKGkpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgZm9yIChpPXN0YXJ0OyBpPnN0b3A7IGkrPXN0ZXApIHtcblx0ICAgICAgICAgICAgICAgICAgICBhcnIucHVzaChpKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXR1cm4gYXJyO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICAvLyBsaXBzdW06IGZ1bmN0aW9uKG4sIGh0bWwsIG1pbiwgbWF4KSB7XG5cdCAgICAgICAgLy8gfSxcblxuXHQgICAgICAgIGN5Y2xlcjogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBjeWNsZXIoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7XG5cdCAgICAgICAgfSxcblxuXHQgICAgICAgIGpvaW5lcjogZnVuY3Rpb24oc2VwKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBqb2luZXIoc2VwKTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHR9XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBnbG9iYWxzO1xuXG5cbi8qKiovIH0sXG4vKiAxMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBMb2FkZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcblxuXHR2YXIgUHJlY29tcGlsZWRMb2FkZXIgPSBMb2FkZXIuZXh0ZW5kKHtcblx0ICAgIGluaXQ6IGZ1bmN0aW9uKGNvbXBpbGVkVGVtcGxhdGVzKSB7XG5cdCAgICAgICAgdGhpcy5wcmVjb21waWxlZCA9IGNvbXBpbGVkVGVtcGxhdGVzIHx8IHt9O1xuXHQgICAgfSxcblxuXHQgICAgZ2V0U291cmNlOiBmdW5jdGlvbihuYW1lKSB7XG5cdCAgICAgICAgaWYgKHRoaXMucHJlY29tcGlsZWRbbmFtZV0pIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgICAgICAgIHNyYzogeyB0eXBlOiAnY29kZScsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgb2JqOiB0aGlzLnByZWNvbXBpbGVkW25hbWVdIH0sXG5cdCAgICAgICAgICAgICAgICBwYXRoOiBuYW1lXG5cdCAgICAgICAgICAgIH07XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHR9KTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IFByZWNvbXBpbGVkTG9hZGVyO1xuXG5cbi8qKiovIH0sXG4vKiAxMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBwYXRoID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0dmFyIE9iaiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdHZhciBsaWIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG5cdHZhciBMb2FkZXIgPSBPYmouZXh0ZW5kKHtcblx0ICAgIG9uOiBmdW5jdGlvbihuYW1lLCBmdW5jKSB7XG5cdCAgICAgICAgdGhpcy5saXN0ZW5lcnMgPSB0aGlzLmxpc3RlbmVycyB8fCB7fTtcblx0ICAgICAgICB0aGlzLmxpc3RlbmVyc1tuYW1lXSA9IHRoaXMubGlzdGVuZXJzW25hbWVdIHx8IFtdO1xuXHQgICAgICAgIHRoaXMubGlzdGVuZXJzW25hbWVdLnB1c2goZnVuYyk7XG5cdCAgICB9LFxuXG5cdCAgICBlbWl0OiBmdW5jdGlvbihuYW1lIC8qLCBhcmcxLCBhcmcyLCAuLi4qLykge1xuXHQgICAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcblxuXHQgICAgICAgIGlmKHRoaXMubGlzdGVuZXJzICYmIHRoaXMubGlzdGVuZXJzW25hbWVdKSB7XG5cdCAgICAgICAgICAgIGxpYi5lYWNoKHRoaXMubGlzdGVuZXJzW25hbWVdLCBmdW5jdGlvbihsaXN0ZW5lcikge1xuXHQgICAgICAgICAgICAgICAgbGlzdGVuZXIuYXBwbHkobnVsbCwgYXJncyk7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgIH0sXG5cblx0ICAgIHJlc29sdmU6IGZ1bmN0aW9uKGZyb20sIHRvKSB7XG5cdCAgICAgICAgcmV0dXJuIHBhdGgucmVzb2x2ZShwYXRoLmRpcm5hbWUoZnJvbSksIHRvKTtcblx0ICAgIH0sXG5cblx0ICAgIGlzUmVsYXRpdmU6IGZ1bmN0aW9uKGZpbGVuYW1lKSB7XG5cdCAgICAgICAgcmV0dXJuIChmaWxlbmFtZS5pbmRleE9mKCcuLycpID09PSAwIHx8IGZpbGVuYW1lLmluZGV4T2YoJy4uLycpID09PSAwKTtcblx0ICAgIH1cblx0fSk7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBMb2FkZXI7XG5cblxuLyoqKi8gfSxcbi8qIDEyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRmdW5jdGlvbiBpbnN0YWxsQ29tcGF0KCkge1xuXHQgICd1c2Ugc3RyaWN0JztcblxuXHQgIC8vIFRoaXMgbXVzdCBiZSBjYWxsZWQgbGlrZSBgbnVuanVja3MuaW5zdGFsbENvbXBhdGAgc28gdGhhdCBgdGhpc2Bcblx0ICAvLyByZWZlcmVuY2VzIHRoZSBudW5qdWNrcyBpbnN0YW5jZVxuXHQgIHZhciBydW50aW1lID0gdGhpcy5ydW50aW1lOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblx0ICB2YXIgbGliID0gdGhpcy5saWI7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5cdCAgdmFyIG9yaWdfY29udGV4dE9yRnJhbWVMb29rdXAgPSBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwO1xuXHQgIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAgPSBmdW5jdGlvbihjb250ZXh0LCBmcmFtZSwga2V5KSB7XG5cdCAgICB2YXIgdmFsID0gb3JpZ19jb250ZXh0T3JGcmFtZUxvb2t1cC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgaWYgKHZhbCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIHN3aXRjaCAoa2V5KSB7XG5cdCAgICAgIGNhc2UgJ1RydWUnOlxuXHQgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICBjYXNlICdGYWxzZSc6XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICBjYXNlICdOb25lJzpcblx0ICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgICAgfVxuXHQgICAgfVxuXG5cdCAgICByZXR1cm4gdmFsO1xuXHQgIH07XG5cblx0ICB2YXIgb3JpZ19tZW1iZXJMb29rdXAgPSBydW50aW1lLm1lbWJlckxvb2t1cDtcblx0ICB2YXIgQVJSQVlfTUVNQkVSUyA9IHtcblx0ICAgIHBvcDogZnVuY3Rpb24oaW5kZXgpIHtcblx0ICAgICAgaWYgKGluZGV4ID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5wb3AoKTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoaW5kZXggPj0gdGhpcy5sZW5ndGggfHwgaW5kZXggPCAwKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdLZXlFcnJvcicpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiB0aGlzLnNwbGljZShpbmRleCwgMSk7XG5cdCAgICB9LFxuXHQgICAgcmVtb3ZlOiBmdW5jdGlvbihlbGVtZW50KSB7XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIGlmICh0aGlzW2ldID09PSBlbGVtZW50KSB7XG5cdCAgICAgICAgICByZXR1cm4gdGhpcy5zcGxpY2UoaSwgMSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIHRocm93IG5ldyBFcnJvcignVmFsdWVFcnJvcicpO1xuXHQgICAgfSxcblx0ICAgIGNvdW50OiBmdW5jdGlvbihlbGVtZW50KSB7XG5cdCAgICAgIHZhciBjb3VudCA9IDA7XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIGlmICh0aGlzW2ldID09PSBlbGVtZW50KSB7XG5cdCAgICAgICAgICBjb3VudCsrO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gY291bnQ7XG5cdCAgICB9LFxuXHQgICAgaW5kZXg6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcblx0ICAgICAgdmFyIGk7XG5cdCAgICAgIGlmICgoaSA9IHRoaXMuaW5kZXhPZihlbGVtZW50KSkgPT09IC0xKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdWYWx1ZUVycm9yJyk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIGk7XG5cdCAgICB9LFxuXHQgICAgZmluZDogZnVuY3Rpb24oZWxlbWVudCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5pbmRleE9mKGVsZW1lbnQpO1xuXHQgICAgfSxcblx0ICAgIGluc2VydDogZnVuY3Rpb24oaW5kZXgsIGVsZW0pIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuc3BsaWNlKGluZGV4LCAwLCBlbGVtKTtcblx0ICAgIH1cblx0ICB9O1xuXHQgIHZhciBPQkpFQ1RfTUVNQkVSUyA9IHtcblx0ICAgIGl0ZW1zOiBmdW5jdGlvbigpIHtcblx0ICAgICAgdmFyIHJldCA9IFtdO1xuXHQgICAgICBmb3IodmFyIGsgaW4gdGhpcykge1xuXHQgICAgICAgIHJldC5wdXNoKFtrLCB0aGlzW2tdXSk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHJldDtcblx0ICAgIH0sXG5cdCAgICB2YWx1ZXM6IGZ1bmN0aW9uKCkge1xuXHQgICAgICB2YXIgcmV0ID0gW107XG5cdCAgICAgIGZvcih2YXIgayBpbiB0aGlzKSB7XG5cdCAgICAgICAgcmV0LnB1c2godGhpc1trXSk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHJldDtcblx0ICAgIH0sXG5cdCAgICBrZXlzOiBmdW5jdGlvbigpIHtcblx0ICAgICAgdmFyIHJldCA9IFtdO1xuXHQgICAgICBmb3IodmFyIGsgaW4gdGhpcykge1xuXHQgICAgICAgIHJldC5wdXNoKGspO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiByZXQ7XG5cdCAgICB9LFxuXHQgICAgZ2V0OiBmdW5jdGlvbihrZXksIGRlZikge1xuXHQgICAgICB2YXIgb3V0cHV0ID0gdGhpc1trZXldO1xuXHQgICAgICBpZiAob3V0cHV0ID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICBvdXRwdXQgPSBkZWY7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIG91dHB1dDtcblx0ICAgIH0sXG5cdCAgICBoYXNfa2V5OiBmdW5jdGlvbihrZXkpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuaGFzT3duUHJvcGVydHkoa2V5KTtcblx0ICAgIH0sXG5cdCAgICBwb3A6IGZ1bmN0aW9uKGtleSwgZGVmKSB7XG5cdCAgICAgIHZhciBvdXRwdXQgPSB0aGlzW2tleV07XG5cdCAgICAgIGlmIChvdXRwdXQgPT09IHVuZGVmaW5lZCAmJiBkZWYgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIG91dHB1dCA9IGRlZjtcblx0ICAgICAgfSBlbHNlIGlmIChvdXRwdXQgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHRocm93IG5ldyBFcnJvcignS2V5RXJyb3InKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBkZWxldGUgdGhpc1trZXldO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBvdXRwdXQ7XG5cdCAgICB9LFxuXHQgICAgcG9waXRlbTogZnVuY3Rpb24oKSB7XG5cdCAgICAgIGZvciAodmFyIGsgaW4gdGhpcykge1xuXHQgICAgICAgIC8vIFJldHVybiB0aGUgZmlyc3Qgb2JqZWN0IHBhaXIuXG5cdCAgICAgICAgdmFyIHZhbCA9IHRoaXNba107XG5cdCAgICAgICAgZGVsZXRlIHRoaXNba107XG5cdCAgICAgICAgcmV0dXJuIFtrLCB2YWxdO1xuXHQgICAgICB9XG5cdCAgICAgIHRocm93IG5ldyBFcnJvcignS2V5RXJyb3InKTtcblx0ICAgIH0sXG5cdCAgICBzZXRkZWZhdWx0OiBmdW5jdGlvbihrZXksIGRlZikge1xuXHQgICAgICBpZiAoa2V5IGluIHRoaXMpIHtcblx0ICAgICAgICByZXR1cm4gdGhpc1trZXldO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChkZWYgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIGRlZiA9IG51bGw7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHRoaXNba2V5XSA9IGRlZjtcblx0ICAgIH0sXG5cdCAgICB1cGRhdGU6IGZ1bmN0aW9uKGt3YXJncykge1xuXHQgICAgICBmb3IgKHZhciBrIGluIGt3YXJncykge1xuXHQgICAgICAgIHRoaXNba10gPSBrd2FyZ3Nba107XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIG51bGw7ICAvLyBBbHdheXMgcmV0dXJucyBOb25lXG5cdCAgICB9XG5cdCAgfTtcblx0ICBPQkpFQ1RfTUVNQkVSUy5pdGVyaXRlbXMgPSBPQkpFQ1RfTUVNQkVSUy5pdGVtcztcblx0ICBPQkpFQ1RfTUVNQkVSUy5pdGVydmFsdWVzID0gT0JKRUNUX01FTUJFUlMudmFsdWVzO1xuXHQgIE9CSkVDVF9NRU1CRVJTLml0ZXJrZXlzID0gT0JKRUNUX01FTUJFUlMua2V5cztcblx0ICBydW50aW1lLm1lbWJlckxvb2t1cCA9IGZ1bmN0aW9uKG9iaiwgdmFsLCBhdXRvZXNjYXBlKSB7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXHQgICAgb2JqID0gb2JqIHx8IHt9O1xuXG5cdCAgICAvLyBJZiB0aGUgb2JqZWN0IGlzIGFuIG9iamVjdCwgcmV0dXJuIGFueSBvZiB0aGUgbWV0aG9kcyB0aGF0IFB5dGhvbiB3b3VsZFxuXHQgICAgLy8gb3RoZXJ3aXNlIHByb3ZpZGUuXG5cdCAgICBpZiAobGliLmlzQXJyYXkob2JqKSAmJiBBUlJBWV9NRU1CRVJTLmhhc093blByb3BlcnR5KHZhbCkpIHtcblx0ICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge3JldHVybiBBUlJBWV9NRU1CRVJTW3ZhbF0uYXBwbHkob2JqLCBhcmd1bWVudHMpO307XG5cdCAgICB9XG5cblx0ICAgIGlmIChsaWIuaXNPYmplY3Qob2JqKSAmJiBPQkpFQ1RfTUVNQkVSUy5oYXNPd25Qcm9wZXJ0eSh2YWwpKSB7XG5cdCAgICAgIHJldHVybiBmdW5jdGlvbigpIHtyZXR1cm4gT0JKRUNUX01FTUJFUlNbdmFsXS5hcHBseShvYmosIGFyZ3VtZW50cyk7fTtcblx0ICAgIH1cblxuXHQgICAgcmV0dXJuIG9yaWdfbWVtYmVyTG9va3VwLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgfTtcblx0fVxuXG5cdG1vZHVsZS5leHBvcnRzID0gaW5zdGFsbENvbXBhdDtcblxuXG4vKioqLyB9XG4vKioqKioqLyBdKVxufSk7XG47XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L251bmp1Y2tzL2Jyb3dzZXIvbnVuanVja3Mtc2xpbS5qc1xuLy8gbW9kdWxlIGlkID0gOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGVudil7XG4gICAgZnVuY3Rpb24gcGFyc2UgKHBhcnNlciwgbm9kZXMsIGxleGVyKSB7XG4gICAgICAgIHZhciB0b2sgPSBwYXJzZXIubmV4dFRva2VuKCk7XG4gICAgICAgIGtleSA9IHBhcnNlci5wYXJzZVNpZ25hdHVyZShudWxsLCB0cnVlKTtcbiAgICAgICAgcGFyc2VyLmFkdmFuY2VBZnRlckJsb2NrRW5kKHRvay52YWx1ZSk7XG4gICAgICAgIHJldHVybiBuZXcgbm9kZXMuQ2FsbEV4dGVuc2lvbih0aGlzLCAncnVuJywga2V5KTtcbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gVHJhbnNsYXRpb24gKCkge1xuICAgICAgICB0aGlzLnRhZ3MgPSBbJ3RyYW5zJ107XG4gICAgICAgIHRoaXMucGFyc2UgPSBwYXJzZTtcbiAgICAgICAgdGhpcy5ydW4gPSBmdW5jdGlvbiAoY3R4LCBrZXkpIHtcbiAgICAgICAgXHQvLyBjb3Npbm51c19jdXJyZW50X2xhbmd1YWdlIGlzIGRlZmluZWQgaW4gYmFzZS5odG1sXG4gICAgICAgIFx0Ly8gQ09TSU5OVVNfUE9fVFJBTlMgaXMgZGVmaW5lZCBpbiB3ZWJwYWNrL3NoYXJlZC5jb25maWcuanNcbiAgICAgICAgXHRpZiAoY29zaW5udXNfY3VycmVudF9sYW5ndWFnZSBpbiBDT1NJTk5VU19QT19UUkFOUyAmJiBrZXkgaW4gQ09TSU5OVVNfUE9fVFJBTlNbY29zaW5udXNfY3VycmVudF9sYW5ndWFnZV0pIHtcbiAgICAgICAgXHRcdHZhciB0cmFucyA9IENPU0lOTlVTX1BPX1RSQU5TW2Nvc2lubnVzX2N1cnJlbnRfbGFuZ3VhZ2VdW2tleV07XG4gICAgICAgIFx0XHRpZiAodHJhbnMgJiYgdHJhbnMubGVuZ3RoID4gMCkge1xuICAgICAgICBcdFx0XHRyZXR1cm4gdHJhbnM7XG4gICAgICAgIFx0XHR9XG4gICAgICAgIFx0fVxuICAgICAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBJZ25vcmUgKCkge1xuICAgICAgICB0aGlzLnRhZ3MgPSBbJ2xvYWQnXTtcbiAgICAgICAgdGhpcy5wYXJzZSA9IHBhcnNlO1xuICAgICAgICB0aGlzLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBlbnYuYWRkRXh0ZW5zaW9uKCd0cmFuc2xhdGlvbicsIG5ldyBUcmFuc2xhdGlvbigpKTtcbiAgICBlbnYuYWRkRXh0ZW5zaW9uKCdwYXNzVGhyb3VnaCcsIG5ldyBJZ25vcmUoKSk7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL251bmp1Y2tzLmNvbmZpZy5qc1xuLy8gbW9kdWxlIGlkID0gOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChudW5qdWNrcywgZW52LCBvYmosIGRlcGVuZGVuY2llcyl7XG5cbiAgICB2YXIgb2xkUm9vdCA9IG9iai5yb290O1xuXG4gICAgb2JqLnJvb3QgPSBmdW5jdGlvbiggZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgaWdub3JlTWlzc2luZywgY2IgKSB7XG4gICAgICAgIHZhciBvbGRHZXRUZW1wbGF0ZSA9IGVudi5nZXRUZW1wbGF0ZTtcbiAgICAgICAgZW52LmdldFRlbXBsYXRlID0gZnVuY3Rpb24gKG5hbWUsIGVjLCBwYXJlbnROYW1lLCBpZ25vcmVNaXNzaW5nLCBjYikge1xuICAgICAgICAgICAgaWYoIHR5cGVvZiBlYyA9PT0gXCJmdW5jdGlvblwiICkge1xuICAgICAgICAgICAgICAgIGNiID0gZWMgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBfcmVxdWlyZSA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYWRkIGEgcmVmZXJlbmNlIHRvIHRoZSBhbHJlYWR5IHJlc29sdmVkIGRlcGVuZGVuY3kgaGVyZVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVwZW5kZW5jaWVzW25hbWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZnJhbWUuZ2V0KFwiX3JlcXVpcmVcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmcmFtZS5nZXQoXCJfcmVxdWlyZVwiKShuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignQ291bGQgbm90IGxvYWQgdGVtcGxhdGUgXCIlc1wiJywgbmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgdG1wbCA9IF9yZXF1aXJlKG5hbWUpO1xuICAgICAgICAgICAgZnJhbWUuc2V0KFwiX3JlcXVpcmVcIiwgX3JlcXVpcmUpO1xuXG4gICAgICAgICAgICBpZiggZWMgKSB0bXBsLmNvbXBpbGUoKTtcbiAgICAgICAgICAgIGNiKCBudWxsLCB0bXBsICk7XG4gICAgICAgIH07XG5cbiAgICAgICAgb2xkUm9vdChlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBpZ25vcmVNaXNzaW5nLCBmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgICAgICAgIGVudi5nZXRUZW1wbGF0ZSA9IG9sZEdldFRlbXBsYXRlO1xuICAgICAgICAgICAgY2IoIGVyciwgcmVzICk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgc3JjID0ge1xuICAgICAgICBvYmo6IG9iaixcbiAgICAgICAgdHlwZTogJ2NvZGUnXG4gICAgfTtcblxuICAgIHJldHVybiBuZXcgbnVuanVja3MuVGVtcGxhdGUoc3JjLCBlbnYpO1xuXG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9udW5qdWNrcy1sb2FkZXIvcnVudGltZS1zaGltLmpzXG4vLyBtb2R1bGUgaWQgPSAxMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgbnVuanVja3MgPSByZXF1aXJlKFwibnVuanVja3MvYnJvd3Nlci9udW5qdWNrcy1zbGltXCIpO1xudmFyIGVudjtcbmlmICghbnVuanVja3MuY3VycmVudEVudil7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnYgPSBuZXcgbnVuanVja3MuRW52aXJvbm1lbnQoW10sIHtcImRldlwiOmZhbHNlLFwiYXV0b2VzY2FwZVwiOnRydWUsXCJ0aHJvd09uVW5kZWZpbmVkXCI6ZmFsc2UsXCJ0cmltQmxvY2tzXCI6ZmFsc2UsXCJsc3RyaXBCbG9ja3NcIjpmYWxzZX0pO1xufSBlbHNlIHtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudjtcbn1cbnZhciBjb25maWd1cmUgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vLi4vbnVuanVja3MuY29uZmlnLmpzXCIpKGVudik7XG52YXIgZGVwZW5kZW5jaWVzID0gbnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyB8fCAobnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyA9IHt9KTtcblxuXG5cblxudmFyIHNoaW0gPSByZXF1aXJlKFwiL2hvbWUvc2FzY2hhL3ByL2Nvc2lubnVzLWNvcmUvbm9kZV9tb2R1bGVzL251bmp1Y2tzLWxvYWRlci9ydW50aW1lLXNoaW1cIik7XG5cblxuKGZ1bmN0aW9uKCkgeyhudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkID0gbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZCB8fCB7fSlbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL21hcC9wb3B1cC5odG1sXCJdID0gKGZ1bmN0aW9uKCkge1xuZnVuY3Rpb24gcm9vdChlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xudmFyIHBhcmVudFRlbXBsYXRlID0gbnVsbDtcbm91dHB1dCArPSBcIjxkaXYgY2xhc3M9XFxcInBvcHVwXFxcIj5cXG4gICAgPGltZyBzcmM9XFxcIlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImltYWdlVVJMXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCIgLz5cXG4gICAgPGRpdiBjbGFzcz1cXFwiZGV0YWlsc1xcXCI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJsaW5rXFxcIj5cXG4gICAgICAgICAgICA8YSBocmVmPVxcXCJcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ1cmxcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCI+XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwidGl0bGVcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiPC9hPlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJhZGRyZXNzXFxcIj5cIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJhZGRyZXNzXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIjwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZGVzY3JpcHRpb25cXFwiPlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImRlc2NyaXB0aW9uXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIjwvZGl2PlxcbiAgICA8L2Rpdj5cXG48L2Rpdj5cXG5cIjtcbmlmKHBhcmVudFRlbXBsYXRlKSB7XG5wYXJlbnRUZW1wbGF0ZS5yb290UmVuZGVyRnVuYyhlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYik7XG59IGVsc2Uge1xuY2IobnVsbCwgb3V0cHV0KTtcbn1cbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5yZXR1cm4ge1xucm9vdDogcm9vdFxufTtcblxufSkoKTtcbn0pKCk7XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHNoaW0obnVuanVja3MsIGVudiwgbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZFtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvbWFwL3BvcHVwLmh0bWxcIl0gLCBkZXBlbmRlbmNpZXMpXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL21hcC9wb3B1cC5odG1sXG4vLyBtb2R1bGUgaWQgPSAxMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgbnVuanVja3MgPSByZXF1aXJlKFwibnVuanVja3MvYnJvd3Nlci9udW5qdWNrcy1zbGltXCIpO1xudmFyIGVudjtcbmlmICghbnVuanVja3MuY3VycmVudEVudil7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnYgPSBuZXcgbnVuanVja3MuRW52aXJvbm1lbnQoW10sIHVuZGVmaW5lZCk7XG59IGVsc2Uge1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52O1xufVxudmFyIGNvbmZpZ3VyZSA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi8uLi9udW5qdWNrcy5jb25maWcuanNcIikoZW52KTtcbnZhciBkZXBlbmRlbmNpZXMgPSBudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzIHx8IChudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzID0ge30pO1xuXG5cblxuXG52YXIgc2hpbSA9IHJlcXVpcmUoXCIvaG9tZS9zYXNjaGEvcHIvY29zaW5udXMtY29yZS9ub2RlX21vZHVsZXMvbnVuanVja3MtbG9hZGVyL3J1bnRpbWUtc2hpbVwiKTtcblxuXG4oZnVuY3Rpb24oKSB7KG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgPSBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkIHx8IHt9KVtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvbWFwL21hcC5odG1sXCJdID0gKGZ1bmN0aW9uKCkge1xuZnVuY3Rpb24gcm9vdChlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xudmFyIHBhcmVudFRlbXBsYXRlID0gbnVsbDtcbm91dHB1dCArPSBcIjxkaXYgaWQ9XFxcIm1hcC1jb250YWluZXJcXFwiIGNsYXNzPVxcXCJtYXAtcm9vdCBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZnVsbHNjcmVlblwiKSkge1xub3V0cHV0ICs9IFwiIG1hcC1mdWxsc2NyZWVuIFwiO1xuO1xufVxuZWxzZSB7XG5vdXRwdXQgKz0gXCIgbWFwLWVtYmVkIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic3BsaXRzY3JlZW5cIikpIHtcbm91dHB1dCArPSBcIiBtYXAtc3BsaXRzY3JlZW4gXCI7XG47XG59XG5vdXRwdXQgKz0gXCIgbW9iaWxlLXZpZXcgbW9iaWxlLXZpZXctbWFwLXZpc2libGUtYmxvY2sgbW9iaWxlLXZpZXctc2VhcmNoLXZpc2libGUtYmxvY2sgbW9iaWxlLXZpZXctbGlzdC12aXNpYmxlLWJsb2NrIG1vYmlsZS12aWV3LWRldGFpbC12aXNpYmxlLWJsb2NrIG1vYmlsZS12aWV3LWlkZWEtY3JlYXRlLTEtdmlzaWJsZS1ibG9jayBtb2JpbGUtdmlldy1pZGVhLWNyZWF0ZS0yLXZpc2libGUtYmxvY2tcXFwiPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJtYXAtbGF5ZXJzLWJ1dHRvbnNcXFwiPjwvZGl2PlxcbiAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29udHJvbHNFbmFibGVkXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgPGEgY2xhc3M9XFxcIm1hcC1leHBhbmQtYnV0dG9uIG1vYmlsZS1oaWRkZW5cXFwiPlxcblxcdCAgICBcXHQ8aSBjbGFzcz1cXFwiZmEgZmEtZncgZmEtY2FyZXQtcmlnaHQgZXhwYW5kZWRcXFwiPjwvaT5cXHRcXG5cXHQgICAgXFx0PGkgY2xhc3M9XFxcImZhIGZhLWZ3IGZhLXNlYXJjaCBjb250cmFjdGVkXFxcIj48L2k+XFx0XFxuXFx0ICAgIDwvYT5cXG4gICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG48L2Rpdj5cIjtcbmlmKHBhcmVudFRlbXBsYXRlKSB7XG5wYXJlbnRUZW1wbGF0ZS5yb290UmVuZGVyRnVuYyhlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYik7XG59IGVsc2Uge1xuY2IobnVsbCwgb3V0cHV0KTtcbn1cbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5yZXR1cm4ge1xucm9vdDogcm9vdFxufTtcblxufSkoKTtcbn0pKCk7XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHNoaW0obnVuanVja3MsIGVudiwgbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZFtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvbWFwL21hcC5odG1sXCJdICwgZGVwZW5kZW5jaWVzKVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC9tYXAvbWFwLmh0bWxcbi8vIG1vZHVsZSBpZCA9IDEyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuLy8gUHViLXN1YiBldmVudCBtZWRpYXRvciBhbmQgIGRhdGEgc3RvcmUuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBwdWJsaXNoOiBmdW5jdGlvbiAoZXZlbnROYW1lLCBkYXRhKSB7XG4gICAgICAgIEJhY2tib25lLnRyaWdnZXIoZXZlbnROYW1lLCBkYXRhKTtcbiAgICB9LFxuXG4gICAgc3Vic2NyaWJlOiBmdW5jdGlvbiAoZXZlbnQsIGNhbGxiYWNrLCBjb250ZXh0KSB7XG4gICAgICAgIEJhY2tib25lLm9uKGV2ZW50LCBjYWxsYmFjaywgY29udGV4dCk7XG4gICAgfVxufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29zaW5udXMvY2xpZW50L21lZGlhdG9yLmpzXG4vLyBtb2R1bGUgaWQgPSAxM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbnZhciBDb250ZW50Q29udHJvbFZpZXcgPSByZXF1aXJlKCd2aWV3cy9iYXNlL2NvbnRlbnQtY29udHJvbC12aWV3Jyk7XG52YXIgRXJyb3JWaWV3ID0gcmVxdWlyZSgndmlld3MvZXJyb3ItdmlldycpO1xudmFyIFBhZ2luYXRpb25Db250cm9sVmlldyA9IHJlcXVpcmUoJ3ZpZXdzL3BhZ2luYXRpb24tY29udHJvbC12aWV3Jyk7XG52YXIgTW9iaWxlQ29udHJvbFZpZXcgPSByZXF1aXJlKCd2aWV3cy9tb2JpbGUtY29udHJvbC12aWV3Jyk7XG52YXIgQ3JlYXRlSWRlYVZpZXcgPSByZXF1aXJlKCd2aWV3cy9jcmVhdGUtaWRlYS12aWV3Jyk7XG5cbnZhciBSZXN1bHRDb2xsZWN0aW9uID0gcmVxdWlyZSgnY29sbGVjdGlvbnMvcmVzdWx0LWNvbGxlY3Rpb24nKTtcbnZhciBSZXN1bHQgPSByZXF1aXJlKCdtb2RlbHMvcmVzdWx0Jyk7XG5cbnZhciB1dGlsID0gcmVxdWlyZSgnbGliL3V0aWwuanMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBDb250ZW50Q29udHJvbFZpZXcuZXh0ZW5kKHtcbiAgICBcbiAgICB0ZW1wbGF0ZTogcmVxdWlyZSgnbWFwL21hcC1jb250cm9scycpLFxuICAgIFxuICAgIGFjdGl2ZUZpbHRlcnNUZW1wbGF0ZTogcmVxdWlyZSgnbWFwL21hcC1jb250cm9scy1hY3RpdmUtZmlsdGVycycpLFxuICAgIFxuICAgIC8vIHdpbGwgYmUgc2V0IHRvIHNlbGYub3B0aW9ucyBkdXJpbmcgaW5pdGlhbGl6YXRpb25cbiAgICBkZWZhdWx0czoge1xuICAgICAgICBhdmFpbGFibGVGaWx0ZXJzOiB7XG4gICAgICAgICAgICBwZW9wbGU6IHRydWUsXG4gICAgICAgICAgICBwcm9qZWN0czogdHJ1ZSxcbiAgICAgICAgICAgIGdyb3VwczogdHJ1ZSxcbiAgICAgICAgICAgIGV2ZW50czogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgICAgYWN0aXZlRmlsdGVyczoge1xuICAgICAgICAgICAgcGVvcGxlOiB0cnVlLFxuICAgICAgICAgICAgcHJvamVjdHM6IHRydWUsXG4gICAgICAgICAgICBncm91cHM6IHRydWUsXG4gICAgICAgICAgICBldmVudHM6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICAgIGF2YWlsYWJsZUZpbHRlckxpc3Q6IFtdLCAvLyBjb250YWlucyBhdmFpbGFibGVGaWx0ZXJzIGtleXMgdGhhdCBhcmUgdHJ1ZSwgZ2VuZXJhdGVkIG9uIGluaXRpYWxpemVcbiAgICAgICAgXG4gICAgICAgIGFsbFRvcGljczoge30sICAvLyB0aGUgZGljdCBvZiBhbGwgc2VhcmNoYWJsZSB0b3BpY3NcbiAgICAgICAgYWxsVGV4dFRvcGljczoge30sXG4gICAgICAgIGFsbFNER1M6IHt9LCAvLyB0aGUgZGljdCBvZiBhbGwgc2VhcmNoYWJsZSBTREdzXG4gICAgICAgIGFsbE1hbmFnZWRUYWdzOiB7fSwgLy8gdGhlIGRpY3Qgb2YgYWxsIHNlYXJjaGFibGUgQ29zaW5udXNNYW5hZ2VkVGFnc1xuICAgICAgICBtYW5hZ2VkVGFnc0xhYmVsczoge30sIC8vIHRoZSBsYWJlbHMgZGljdCBmb3IgQ29zaW5udXNNYW5hZ2VkVGFnc1xuICAgICAgICBzaG93TWFuYWdlZFRhZ3NPblR5cGVzU2VsZWN0ZWQ6IFtdLFxuICAgICAgICBzaG93VGV4dFRvcGljc09uVHlwZXNTZWxlY3RlZDogW10sXG4gICAgICAgIHBvcnRhbEluZm86IHt9LCAvLyBwb3J0YWwgaW5mbyBieSBwb3J0YWwtaWQsIGZyb20gYGdldF9jb3Npbm51c19wb3J0YWxfaW5mbygpYFxuICAgICAgICBjb250cm9sc0VuYWJsZWQ6IHRydWUsXG4gICAgICAgIGZpbHRlckdyb3VwOiBudWxsLFxuICAgICAgICBmaWx0ZXJNYW5hZ2VkVGFnOiBudWxsLCAvLyB1c2VkIG9ubHkgZm9yIGluaXRpYWxseSBzZXR0aW5nIHRoZSBzdGF0ZS5hY3RpdmVNYW5hZ2VkVGFnc0lkc1xuICAgICAgICBmdWxsc2NyZWVuOiBmYWxzZSxcbiAgICAgICAgc3BsaXRzY3JlZW46IGZhbHNlLFxuICAgICAgICBzaG93TWluZTogZmFsc2UsIC8vIFVSTCBwYXJhbS4gaWYgdHJ1ZSwgb25seSB0aGUgY3VycmVudCB1c2VyJ3Mgb3duIHJlc3VsdHMgd2lsbCBiZSBzaG93bi4gaWdub3JlZCBhd2F5IGlmIHVzZXIgaXMgbm90IGxvZ2dlZCBpbi5cbiAgICAgICAgaGlkZVRvcGljczogZmFsc2UsXG4gICAgICAgIFxuICAgICAgICBwYWdpbmF0aW9uQ29udHJvbHNFbmFibGVkOiB0cnVlLCBcbiAgICAgICAgcGFnaW5hdGlvbkNvbnRyb2xzVXNlSW5maW5pdGVTY3JvbGw6IGZhbHNlLCAvLyBpZiB0cnVlLCB0aGUgcGFnaW5hdGlvbiBjb250cm9scyB3aWxsIGJlIGhpZGRlbiBhbmQgaW5maW5pdGUgc2Nyb2xsIHdpbGwgYmUgdXNlZFxuICAgICAgICBcbiAgICAgICAgLy8gaW4gZnVsbHNjcmVlbiBtb2RlLCB0aGlzIG11c3QgYWx3YXlzIGJlIHRoZSBiYXNlIFVSTCB3ZSBzdGFydGVkIGF0XG4gICAgICAgIGJhc2VQYWdlVVJMOiAnL21hcC8nLFxuXG4gICAgICAgIG15R3JvdXBzOiBbXSxcbiAgICAgICAgbXlQcm9qZWN0czogW10sXG4gICAgICAgIG15T3JnYW5pemF0aW9uczogW10sXG4gICAgICAgIFxuICAgICAgICAvLyB3aWxsIGJlIHNldCB0byBzZWxmLnN0YXRlIGR1cmluZyBpbml0aWFsaXphdGlvblxuICAgICAgICBzdGF0ZToge1xuICAgICAgICAgICAgLy8gY3VycmVudCBxdWVyeVxuICAgICAgICAgICAgcTogJycsIC8vIFVSTCBwYXJhbS4gXG4gICAgICAgICAgICBhY3RpdmVUb3BpY0lkczogW10sXG4gICAgICAgICAgICBhY3RpdmVUZXh0VG9waWNJZHM6IFtdLFxuICAgICAgICAgICAgYWN0aXZlU0RHSWRzOiBbXSxcbiAgICAgICAgICAgIGFjdGl2ZU1hbmFnZWRUYWdzSWRzOiBbXSxcbiAgICAgICAgICAgIGZpbHRlcnNBY3RpdmU6IGZhbHNlLCAvLyBVUkwgcGFyYW0uICBpZiB0cnVlLCBhbnkgZmlsdGVyIGlzIGFjdGl2ZSBhbmQgd2UgZGlzcGxheSBhIHJlc2V0LWZpbHRlciBidXR0b25cbiAgICAgICAgICAgIHR5cGVGaWx0ZXJzQWN0aXZlOiBmYWxzZSwgLy8gVVJMIHBhcmFtLiAgYSByZXN1bHQgdHlwZSBmaWx0ZXIgaXMgYWN0aXZlXG4gICAgICAgICAgICB0b3BpY0ZpbHRlcnNBY3RpdmU6IGZhbHNlLCAvLyBVUkwgcGFyYW0uICBhIHRvcGljIGZpbHRlciBpcyBhY3RpdmVcbiAgICAgICAgICAgIGRhdGVGaWx0ZXJzQWN0aXZlOiBmYWxzZSwgLy8gaWYgdGhlIGRhdGV0aW1lIHdpZGdldCBwaWNrZXJzIGFuZCBkYXRlIGZpbHRlcnMgYXJlIGFjdGl2ZS4gb25seSB0cnVlIGlmIG9ubHkgZXZlbnQtbGlrZSB0eXBlcyBhcmUgYWN0aXZlXG4gICAgICAgICAgICB0ZXh0VG9waWNGaWx0ZXJzQWN0aXZlOiBmYWxzZSxcbiAgICAgICAgICAgIHNkZ0ZpbHRlcnNBY3RpdmU6IGZhbHNlLFxuICAgICAgICAgICAgbWFuYWdlZFRhZ3NGaWx0ZXJzQWN0aXZlOiBmYWxzZSxcbiAgICAgICAgICAgIGlnbm9yZUxvY2F0aW9uOiBmYWxzZSwgLy8gaWYgdHJ1ZSwgc2VhcmNoIGlnbm9yZXMgYWxsIGdlby1sb2MgYW5kIGV2ZW4gc2hvd3MgcmVzdWx0cyB3aXRob3V0IHRhZ2dlZCBsb2NhdGlvblxuICAgICAgICAgICAgZXhjaGFuZ2U6IGZhbHNlLCAvLyBpZiB0cnVlLCBzZWFyY2ggaW5jbHVkZXMgY29udGVudHMgZnJvbSBleHRlcm5hbCBwbGF0Zm9ybXNcbiAgICAgICAgICAgIG1hdGNoaW5nOiAnJywgLy8gaWYgc2V0LCBzZWFyY2ggc2hvd3MgY29udGVudHMgbWF0Y2hpbmcgZ3JvdXAvcHJvamVjdC9vcmdhbml6YXRpb24gc3BlY2lmaWVkXG4gICAgICAgICAgICBzZWFyY2hpbmc6IGZhbHNlLFxuICAgICAgICAgICAgc2VhcmNoSGFkRXJyb3JzOiBmYWxzZSxcbiAgICAgICAgICAgIHNlYXJjaFJlc3VsdExpbWl0OiAyMCxcbiAgICAgICAgICAgIHBhZ2U6IG51bGwsICAvLyBVUkwgcGFyYW0uIFxuICAgICAgICAgICAgcGFnZUluZGV4OiAwLFxuICAgICAgICAgICAgc2VhcmNoT25TY3JvbGw6IHRydWUsXG4gICAgICAgICAgICByZXN1bHRzU3RhbGU6IGZhbHNlLFxuICAgICAgICAgICAgdXJsU2VsZWN0ZWRSZXN1bHRJZDogbnVsbCwgLy8gVVJMIHBhcmFtLiB0aGUgY3VycmVudGx5IHNlbGVjdGVkIHJlc3VsdCwgZ2l2ZW4gaW4gdGhlIHVybFxuICAgICAgICAgICAgZmlsdGVyUGFuZWxWaXNpYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGxhc3RWaWV3QmVmb3JlRGV0YWlsV2FzTGlzdFZpZXc6IGZhbHNlLCAvLyBhIHNhdmVzdGF0ZSBzbyB3ZSBrbm93IHdoaWNoIHZpZXcgdG8gcmV0dXJuIHRvIGFmdGVyIGNsb3NpbmcgdGhlIGRldGFpbCB2aWV3IG9uIG1vYmlsZSxcbiAgICAgICAgICAgIGRpc3BsYXlNYW5hZ2VkVGFnc0ZpbHRlcjogdHJ1ZSxcbiAgICAgICAgICAgIGRpc3BsYXlUZXh0VG9wY0ZpbHRlcjogdHJ1ZSxcbiAgICAgICAgICAgIGZyb21EYXRlOiBudWxsLFxuICAgICAgICAgICAgZnJvbVRpbWU6IG51bGwsXG4gICAgICAgICAgICB0b0RhdGU6IG51bGwsXG4gICAgICAgICAgICB0b1RpbWU6IG51bGxcbiAgICAgICAgfVxuICAgIH0sXG4gICAgXG4gICAgLy8gdGhlIG1haW4gUmVzdWx0Q29sbGVjdGlvbiBvZiBhbGwgZGlzcGxheWVkIHJlc3VsdHNcbiAgICBjb2xsZWN0aW9uOiBudWxsLFxuXG4gICAgcGFnaW5hdGlvbkNvbnRyb2xWaWV3OiBudWxsLFxuICAgIG1vYmlsZUNvbnRyb2xWaWV3OiBudWxsLFxuICAgIGNyZWF0ZUlkZWFWaWV3OiBudWxsLFxuICAgIFxuICAgIC8vIHRoZSBjdXJyZW50bHkgaG92ZXJlZCBvbiBhbmQgc2VsZWN0ZWQgUmVzdWx0IGl0ZW1zXG4gICAgc2VsZWN0ZWRSZXN1bHQ6IG51bGwsXG4gICAgaG92ZXJlZFJlc3VsdDogbnVsbCxcbiAgICBkZXRhaWxSZXN1bHQ6IG51bGwsIC8vIHRoZSBSZXN1bHQgZGlzcGxheWVkIGFzIERldGFpbFZpZXcgcmVzdWx0LiBub3QgdGhlIHNhbWUgYXMgYHNlbGVjdGVkUmVzdWx0YCFcbiAgICBkZXRhaWxSZXN1bHRDYWNoZToge30sXG4gICAgXG4gICAgc2VhcmNoRW5kcG9pbnRVUkw6ICcvbWFwL3NlYXJjaC8nLFxuICAgIGRldGFpbEVuZHBvaW50VVJMOiAnL21hcC9kZXRhaWwvJyxcbiAgICBzZWFyY2hEZWxheTogMSwgLy8gc2luY2Ugd2UgYXJlIGNhbmNlbGxpbmcgeGhycyBwcm9wZXJseSwgd2UgZG8gbm90IG5lZWQgdG8gZGVsYXkgc2VhcmNoZXMgYW55bW9yZS4gYnV0IGxlYXZpbmcgaXQgaW4gaWYgd2UgZXZlciBkbyBhZ2Fpbi5cbiAgICBzZWFyY2hYSFJUaW1lb3V0OiAxNTAwMCxcbiAgICBjdXJyZW50U2VhcmNoSHR0cFJlcXVlc3Q6IG51bGwsIFxuICAgIGN1cnJlbnREZXRhaWxIdHRwUmVxdWVzdDogbnVsbCxcbiAgICBcbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbiAob3B0aW9ucywgYXBwLCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgLy8gYWRkIGNvbmZlcmVuY2VzIG1vZGVscyBpZiBhY3RpdmVcbiAgICAgICAgaWYgKENPU0lOTlVTX0NPTkZFUkVOQ0VTX0VOQUJMRUQpIHtcbiAgICAgICAgICAgIHNlbGYuZGVmYXVsdHMuYXZhaWxhYmxlRmlsdGVyc1snY29uZmVyZW5jZXMnXSA9IHRydWU7XG4gICAgICAgICAgICBzZWxmLmRlZmF1bHRzLmFjdGl2ZUZpbHRlcnNbJ2NvbmZlcmVuY2VzJ10gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFkZCBpZGVhIG1vZGVscyBpZiBhY3RpdmVcbiAgICAgICAgaWYgKENPU0lOTlVTX0lERUFTX0VOQUJMRUQpIHtcbiAgICAgICAgXHRzZWxmLmRlZmF1bHRzLmF2YWlsYWJsZUZpbHRlcnNbJ2lkZWFzJ10gPSB0cnVlO1xuICAgICAgICBcdHNlbGYuZGVmYXVsdHMuYWN0aXZlRmlsdGVyc1snaWRlYXMnXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWRkIG9yZ2FuaXphdGlvbiBtb2RlbHMgaWYgYWN0aXZlXG4gICAgICAgIGlmIChDT1NJTk5VU19PUkdBTklaQVRJT05TX0VOQUJMRUQpIHtcbiAgICAgICAgICAgIHNlbGYuZGVmYXVsdHMuYXZhaWxhYmxlRmlsdGVyc1snb3JnYW5pemF0aW9ucyddID0gdHJ1ZTtcbiAgICAgICAgICAgIHNlbGYuZGVmYXVsdHMuYWN0aXZlRmlsdGVyc1snb3JnYW5pemF0aW9ucyddID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQ09TSU5OVVNfQ0xPVURfRU5BQkxFRCkge1xuICAgICAgICAgICAgc2VsZi5kZWZhdWx0cy5hdmFpbGFibGVGaWx0ZXJMaXN0WydjbG91ZGZpbGVzJ10gPSB0cnVlO1xuICAgICAgICAgICAgc2VsZi5kZWZhdWx0cy5hY3RpdmVGaWx0ZXJzWydjbG91ZGZpbGVzJ10gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBDb250ZW50Q29udHJvbFZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbChzZWxmLCBvcHRpb25zLCBhcHAsIGNvbGxlY3Rpb24pO1xuICAgICAgICBcbiAgICAgICAgXy5lYWNoKHRoaXMub3B0aW9ucy5hdmFpbGFibGVGaWx0ZXJzLCBmdW5jdGlvbihhY3RpdmUsIHR5cGUpe1xuICAgICAgICAgICAgaWYgKGFjdGl2ZSkge1xuICAgICAgICAgICAgXHRzZWxmLm9wdGlvbnMuYXZhaWxhYmxlRmlsdGVyTGlzdC5wdXNoKHR5cGUpOyBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChDT1NJTk5VU19NQVBfT1BUSU9OU1snZmlsdGVyX3BhbmVsX2RlZmF1bHRfdmlzaWJsZSddKSB7XG4gICAgICAgICAgICBzZWxmLnN0YXRlLmZpbHRlclBhbmVsVmlzaWJsZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzZWxmLm9wdGlvbnMubWFwU2hvd24gfHwgQ09TSU5OVVNfTUFQX09QVElPTlNbJ2lnbm9yZV9sb2NhdGlvbl9kZWZhdWx0X2FjdGl2YXRlZCddKSB7XG4gICAgICAgICAgICBzZWxmLnN0YXRlLmlnbm9yZUxvY2F0aW9uID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQ09TSU5OVVNfTUFQX09QVElPTlNbJ2V4Y2hhbmdlX2RlZmF1bHRfYWN0aXZhdGVkJ10pIHtcbiAgICAgICAgICAgIHNlbGYuc3RhdGUuZXhjaGFuZ2UgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChDT1NJTk5VU19NQVRDSElOR19FTkFCTEVEICkge1xuICAgICAgICAgICAgdmFyIHNlYXJjaFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XG4gICAgICAgICAgICBzZWxmLnN0YXRlLm1hdGNoaW5nID0gc2VhcmNoUGFyYW1zLmdldCgnbWF0Y2hpbmcnKTtcbiAgICAgICAgICAgIHNlbGYuc3RhdGUuaWdub3JlTG9jYXRpb24gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoIXNlbGYuY29sbGVjdGlvbikge1xuICAgICAgICAgICAgc2VsZi5jb2xsZWN0aW9uID0gbmV3IFJlc3VsdENvbGxlY3Rpb24oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5zZWFyY2hSZXN1bHRMaW1pdCAmJiAhaXNOYU4ob3B0aW9ucy5zZWFyY2hSZXN1bHRMaW1pdCkpIHtcbiAgICAgICAgXHR2YXIgc2VhcmNoUmVzdWx0TGltaXQgPSBwYXJzZUludChvcHRpb25zLnNlYXJjaFJlc3VsdExpbWl0KTtcbiAgICAgICAgXHRpZiAoc2VhcmNoUmVzdWx0TGltaXQgPiAwKSB7XG4gICAgICAgIFx0XHRzZWxmLnN0YXRlLnNlYXJjaFJlc3VsdExpbWl0ID0gb3B0aW9ucy5zZWFyY2hSZXN1bHRMaW1pdDtcbiAgICAgICAgXHR9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIEJhY2tib25lLm1lZGlhdG9yLnN1YnNjcmliZSgnd2FudDpzZWFyY2gnLCBzZWxmLmhhbmRsZVN0YXJ0U2VhcmNoLCBzZWxmKTtcbiAgICAgICAgQmFja2JvbmUubWVkaWF0b3Iuc3Vic2NyaWJlKCdlbmQ6c2VhcmNoJywgc2VsZi5oYW5kbGVFbmRTZWFyY2gsIHNlbGYpO1xuICAgICAgICBCYWNrYm9uZS5tZWRpYXRvci5zdWJzY3JpYmUoJ2FwcDpyZWFkeScsIHNlbGYuaGFuZGxlQXBwUmVhZHksIHNlbGYpO1xuICAgICAgICBCYWNrYm9uZS5tZWRpYXRvci5zdWJzY3JpYmUoJ2FwcDpzdGFsZS1yZXN1bHRzJywgc2VsZi5oYW5kbGVTdGFsZVJlc3VsdHMsIHNlbGYpO1xuICAgICAgICBcbiAgICAgICAgc2VsZi50cmlnZ2VyTW9iaWxlRGVmYXVsdFZpZXcoKTtcblxuICAgICAgICBpZiAob3B0aW9ucy5maWx0ZXJNYW5hZ2VkVGFnICE9IG51bGwpIHtcbiAgICAgICAgICAgIHNlbGYuZGVmYXVsdHMuZmlsdGVyTWFuYWdlZFRhZyA9IG9wdGlvbnMuZmlsdGVyTWFuYWdlZFRhZztcbiAgICAgICAgfSBcbiAgICAgICAgXG4gICAgICAgIHV0aWwubG9nKCdjb250cm9sLXZpZXcuanM6IGluaXRpYWxpemVkLiB3aXRoIHNlbGYuQXBwPScgKyBzZWxmLkFwcClcbiAgICB9LFxuXG4gICAgZXZlbnRzOiB7XG4gICAgICAgICdjbGljayAucmVzdWx0LWZpbHRlci1idXR0b24nOiAndG9nZ2xlRmlsdGVyQnV0dG9uJyxcbiAgICAgICAgJ2NsaWNrIC50b3BpYy1idXR0b24nOiAndG9nZ2xlRmlsdGVyQnV0dG9uJyxcbiAgICAgICAgJ2NsaWNrIC50ZXh0LXRvcGljLWJ1dHRvbic6ICd0b2dnbGVGaWx0ZXJCdXR0b24nLFxuICAgICAgICAnY2xpY2sgLnJlc2V0LWFsbCc6ICdyZXNldEFsbENsaWNrZWQnLFxuICAgICAgICAnY2xpY2sgLnF1ZXJ5LXNlYXJjaC1idXR0b24gJzogJ3RyaWdnZXJRdWVyeVNlYXJjaCcsXG4gICAgICAgICdjbGljayAuaWNvbi1maWx0ZXJzJzogJ3RvZ2dsZUZpbHRlclBhbmVsJyxcbiAgICAgICAgJ2ZvY3VzIC5xJzogJ3Nob3dGaWx0ZXJQYW5lbCcsXG4gICAgICAgICdjbGljayAucmVzZXQtdHlwZS1maWx0ZXJzJzogJ3Jlc2V0VHlwZUZpbHRlcnNDbGlja2VkJyxcbiAgICAgICAgJ2NsaWNrIC5yZXNldC10b3BpYy1maWx0ZXJzJzogJ3Jlc2V0VG9waWNGaWx0ZXJzQ2xpY2tlZCcsXG4gICAgICAgICdjbGljayAucmVzZXQtdGV4dC10b3BpYy1maWx0ZXJzJzogJ3Jlc2V0VGV4dFRvcGljRmlsdGVyc0NsaWNrZWQnLFxuICAgICAgICAnY2xpY2sgLnJlc2V0LXNkZy1maWx0ZXJzJzogJ3Jlc2V0U0RHRmlsdGVyc0NsaWNrZWQnLFxuICAgICAgICAnY2xpY2sgLnJlc2V0LW1hbmFnZWQtdGFnLWZpbHRlcnMnOiAncmVzZXRNYW5hZ2VkVGFnc0ZpbHRlcnNDbGlja2VkJyxcbiAgICAgICAgJ2NsaWNrIC5yZXNldC1xJzogJ3Jlc2V0UUNsaWNrZWQnLFxuICAgICAgICAnY2xpY2sgLnJlc2V0LXR5cGUtYW5kLXRvcGljLWZpbHRlcnMnOiAncmVzZXRBbGxDbGlja2VkJywgLy8gdXNlIHRoaXMgdG8gb25seSByZXNldCB0aGUgZmlsdGVycyBib3g6ICdyZXNldFR5cGVBbmRUb3BpY0ZpbHRlcnNDbGlja2VkJyxcbiAgICAgICAgJ2NsaWNrIC5hY3RpdmUtZmlsdGVycyc6ICdzaG93RmlsdGVyUGFuZWwnLFxuICAgICAgICAnY2hhbmdlIC5jaGVjay1pZ25vcmUtbG9jYXRpb24nOiAnbWFya1NlYXJjaEJveFNlYXJjaGFibGUnLFxuICAgICAgICAnY2hhbmdlIC5jaGVjay1leGNoYW5nZSc6ICdtYXJrU2VhcmNoQm94U2VhcmNoYWJsZScsXG4gICAgICAgIFxuICAgICAgICAna2V5dXAgLnEnOiAnaGFuZGxlVHlwaW5nJyxcbiAgICAgICAgJ2tleWRvd24gLnEnOiAnaGFuZGxlS2V5RG93bicsXG5cbiAgICAgICAgJ2NsaWNrIC5zZGctYnV0dG9uJzogJ3RvZ2dsZVNER0ZpbHRlckJ1dHRvbicsXG4gICAgICAgICdjbGljayAubWFuYWdlZC10YWctYnV0dG9uJzogJ3RvZ2dsZU1hbmFnZWRUYWdzRmlsdGVyQnV0dG9uJyxcbiAgICAgICAgJ21vdXNlZW50ZXIgLmhvdmVyLWltYWdlLWJ1dHRvbic6ICdzaG93SG92ZXJJY29uJyxcbiAgICAgICAgJ21vdXNlbGVhdmUgLmhvdmVyLWltYWdlLWJ1dHRvbic6ICdoaWRlSG92ZXJJY29uJyxcbiAgICAgICAgJ21vdXNlZW50ZXIgLmhvdmVyLWltYWdlLWljb24nOiAnaGlkZUhvdmVySWNvbicsXG5cbiAgICAgICAgJ2NsaWNrIC5tYXRjaC1idXR0b24nOiAnbWF0Y2hCdXR0b25DbGlja2VkJ1xuICAgIH0sXG5cbiAgICAvLyBFdmVudCBIYW5kbGVyc1xuICAgIC8vIC0tLS0tLS0tLS0tLS0tXG5cbiAgICB0b2dnbGVGaWx0ZXJCdXR0b246IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgJGJ1dHRvbiA9ICQoZXZlbnQuY3VycmVudFRhcmdldCk7XG4gICAgICAgIC8vIGNoZWNrIGlmIGFsbCBidXR0b25zIG9mIHRoaXMgdHlwZSBhcmUgc2VsZWN0ZWQuXG4gICAgICAgIC8vICBpZiBzbywgbWFrZSB0aGlzIGNsaWNrIG9ubHkgc2VsZWN0IHRoaXMgYnV0dG9uIChkZXNlbGVjdCBhbGwgb3RoZXJzKVxuICAgICAgICBpZiAoJGJ1dHRvbi5oYXNDbGFzcygncmVzdWx0LWZpbHRlci1idXR0b24nKSAmJlxuICAgICAgICAgICAgdGhpcy4kZWwuZmluZCgnLnJlc3VsdC1maWx0ZXItYnV0dG9uJykubGVuZ3RoID09IHRoaXMuJGVsLmZpbmQoJy5yZXN1bHQtZmlsdGVyLWJ1dHRvbi5zZWxlY3RlZCcpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuJGVsLmZpbmQoJy5yZXN1bHQtZmlsdGVyLWJ1dHRvbicpLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpO1xuICAgICAgICB9IGVsc2UgaWYgKCRidXR0b24uaGFzQ2xhc3MoJ3RvcGljLWJ1dHRvbicpICYmXG4gICAgICAgICAgICB0aGlzLiRlbC5maW5kKCcudG9waWMtYnV0dG9uJykubGVuZ3RoID09IHRoaXMuJGVsLmZpbmQoJy50b3BpYy1idXR0b24uc2VsZWN0ZWQnKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRlbC5maW5kKCcudG9waWMtYnV0dG9uJykucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoJGJ1dHRvbi5oYXNDbGFzcygndGV4dC10b3BpYy1idXR0b24nKSAmJlxuICAgICAgICAgICAgdGhpcy4kZWwuZmluZCgnLnRleHQtdG9waWMtYnV0dG9uJykubGVuZ3RoID09IHRoaXMuJGVsLmZpbmQoJy50ZXh0LXRvcGljLWJ1dHRvbi5zZWxlY3RlZCcpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuJGVsLmZpbmQoJy50ZXh0LXRvcGljLWJ1dHRvbicpLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG9nZ2xlIHRoZSBidXR0b25cbiAgICAgICAgJGJ1dHRvbi50b2dnbGVDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMudG9nZ2xlRGF0ZVRpbWVQaWNrZXIoKTtcbiAgICAgICAgdGhpcy50b2dnbGVNYW5hZ2VkVGFnc09uVHlwZSgpO1xuICAgICAgICB0aGlzLnRvZ2dsZVRleHRUb3BpY3NPblR5cGUoKTtcbiAgICAgICAgLy8gbWFyayBzZWFyY2ggYm94IGFzIHNlYXJjaGFibGVcbiAgICAgICAgdGhpcy5tYXJrU2VhcmNoQm94U2VhcmNoYWJsZSgpO1xuICAgIH0sXG5cbiAgICB0b2dnbGVNYW5hZ2VkVGFnc09uVHlwZTogZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNob3dNYW5hZ2VkVGFnc09uVHlwZXNTZWxlY3RlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgdHlwZXNGb3JNYW5hZ2VkVGFncyA9IHRoaXMub3B0aW9ucy5zaG93TWFuYWdlZFRhZ3NPblR5cGVzU2VsZWN0ZWQ7XG4gICAgICAgICAgICB2YXIgc2hvd01hbmFnZWRUYWdzID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZEJ1dHRvbnMgPSAkKCcucmVzdWx0LWZpbHRlci1idXR0b24uc2VsZWN0ZWQnKTtcblxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkQnV0dG9ucy5sZW5ndGggPT0gMCl7XG4gICAgICAgICAgICAgICAgc2hvd01hbmFnZWRUYWdzID0gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkQnV0dG9ucy5lYWNoKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc0F0dHJpYnV0ZSgnZGF0YS1yZXN1bHQtZmlsdGVyLXR5cGUnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHR5cGUgPSB0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS1yZXN1bHQtZmlsdGVyLXR5cGUnKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQuaW5BcnJheSh0eXBlLCB0eXBlc0Zvck1hbmFnZWRUYWdzKSA9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dNYW5hZ2VkVGFncyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHNob3dNYW5hZ2VkVGFncykge1xuICAgICAgICAgICAgICAgICQoJy5tYW5hZ2VkLXRhZ3MtYnV0dG9ucycpLnNob3coKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJCgnLm1hbmFnZWQtdGFncy1idXR0b25zJykuaGlkZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIHRvZ2dsZVRleHRUb3BpY3NPblR5cGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaG93VGV4dFRvcGljc09uVHlwZXNTZWxlY3RlZC5sZW5ndGggPiAwICkge1xuICAgICAgICAgICAgdmFyIHR5cGVzRm9yVGV4dFRvcGljcyA9IHRoaXMub3B0aW9ucy5zaG93VGV4dFRvcGljc09uVHlwZXNTZWxlY3RlZDtcbiAgICAgICAgICAgIHZhciBzaG93VGV4dFRvcGljcyA9IHRydWU7XG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWRCdXR0b25zID0gJCgnLnJlc3VsdC1maWx0ZXItYnV0dG9uLnNlbGVjdGVkJyk7XG5cbiAgICAgICAgICAgIGlmIChzZWxlY3RlZEJ1dHRvbnMubGVuZ3RoID09IDApe1xuICAgICAgICAgICAgICAgIHNob3dUZXh0VG9waWNzID0gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkQnV0dG9ucy5lYWNoKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc0F0dHJpYnV0ZSgnZGF0YS1yZXN1bHQtZmlsdGVyLXR5cGUnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHR5cGUgPSB0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS1yZXN1bHQtZmlsdGVyLXR5cGUnKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQuaW5BcnJheSh0eXBlLCB0eXBlc0ZvclRleHRUb3BpY3MpID09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1RleHRUb3BpY3MgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2hvd1RleHRUb3BpY3MpIHtcbiAgICAgICAgICAgICAgICAkKCcudGV4dC10b3BpYy1idXR0b25zJykuc2hvdygpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkKCcudGV4dC10b3BpYy1idXR0b25zJykuaGlkZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKiBXaWxsIHNldCBzdGF0ZS5kYXRlRmlsdGVyc0FjdGl2ZSBiYXNlZCBvbiBpZiBvbmx5IGRhdGUtbGlrZSBjb250ZW50IHR5cGVzIGFyZSBzaG93biAqL1xuICAgIHRvZ2dsZURhdGVUaW1lUGlja2VyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHR5cGVzV2l0aERhdGVzID0gWydldmVudHMnLCAnY29uZmVyZW5jZXMnXTtcbiAgICAgICAgdmFyIG9ubHlEYXRlVHlwZXNBdmFpbGFibGUgPSB0cnVlO1xuICAgICAgICBfLmVhY2godGhpcy5vcHRpb25zLmF2YWlsYWJsZUZpbHRlcnMsIGZ1bmN0aW9uKGF2YWlsYWJsZSwgdHlwZSl7XG4gICAgICAgICAgICBpZiAoYXZhaWxhYmxlICYmICQuaW5BcnJheSh0eXBlLCB0eXBlc1dpdGhEYXRlcykgPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBvbmx5RGF0ZVR5cGVzQXZhaWxhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgb25seURhdGVUeXBlc0FjdGl2ZSA9IHRydWU7XG4gICAgICAgIHZhciBzZWxlY3RlZEJ1dHRvbnMgPSAkKCcucmVzdWx0LWZpbHRlci1idXR0b24uc2VsZWN0ZWQnKTtcbiAgICAgICAgaWYgKHNlbGVjdGVkQnV0dG9ucy5sZW5ndGggPT0gMCl7XG4gICAgICAgICAgICBvbmx5RGF0ZVR5cGVzQWN0aXZlID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZWxlY3RlZEJ1dHRvbnMuZWFjaChmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc0F0dHJpYnV0ZSgnZGF0YS1yZXN1bHQtZmlsdGVyLXR5cGUnKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLXJlc3VsdC1maWx0ZXItdHlwZScpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoJC5pbkFycmF5KHR5cGUsIHR5cGVzV2l0aERhdGVzKSA9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb25seURhdGVUeXBlc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgICB0aGlzLnN0YXRlLmRhdGVGaWx0ZXJzQWN0aXZlID0gb25seURhdGVUeXBlc0F2YWlsYWJsZSB8fCBvbmx5RGF0ZVR5cGVzQWN0aXZlO1xuICAgICAgICB0aGlzLnNob3dPckhpZGVEYXRlVGltZVBpY2tlcih0aGlzLnN0YXRlLmRhdGVGaWx0ZXJzQWN0aXZlKTtcbiAgICB9LFxuXG4gICAgc2hvd09ySGlkZURhdGVUaW1lUGlja2VyOiBmdW5jdGlvbiAoc2hvd0RhdGVUaW1lUGlja2VyKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIGRhdGVUaW1lUGlja2VyID0gJCgnI2RhdGUtdGltZS1maWx0ZXInKTtcbiAgICAgICAgaWYgKHNob3dEYXRlVGltZVBpY2tlcikge1xuICAgICAgICAgICAgZGF0ZVRpbWVQaWNrZXIuc2hvdygpO1xuICAgICAgICAgICAgaWYgKCFkYXRlVGltZVBpY2tlci5hdHRyKCdpbml0ZWQnKSAmJiBkYXRlVGltZVBpY2tlci5pcyhcIjp2aXNpYmxlXCIpKSB7XG4gICAgICAgICAgICAgICAgJC5jb3Npbm51cy5mdWxsY2FsZW5kYXIoKTtcbiAgICAgICAgICAgICAgICAkLmNvc2lubnVzLmluaXRDYWxlbmRhckRheVRpbWVDaG9vc2VyV2lkZ2V0KCk7XG4gICAgICAgICAgICAgICAgJCgnLmNhbGVuZGFyLWRhdGUtdGltZS1jaG9vc2VyIC5zbWFsbC1jYWxlbmRhcicpLm9uKFwiZnVsbENhbGVuZGFyRGF5Q2xpY2tcIiwgZnVuY3Rpb24oZXZlbnQsIGRhdGUsIGpzRXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5tYXJrU2VhcmNoQm94U2VhcmNoYWJsZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICQoJy5jYWxlbmRhci1kYXRlLXRpbWUtY2hvb3NlciBpbnB1dCcpLm9uKFwia2V5dXAgY2hhbmdlXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLm1hcmtTZWFyY2hCb3hTZWFyY2hhYmxlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgZGF0ZVRpbWVQaWNrZXIuYXR0cignaW5pdGVkJywgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkYXRlVGltZVBpY2tlci5oaWRlKCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgdG9nZ2xlU0RHRmlsdGVyQnV0dG9uOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyICRidXR0b24gPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpO1xuICAgICAgICAvLyBjaGVjayBpZiBhbGwgYnV0dG9ucyBvZiB0aGlzIHR5cGUgYXJlIHNlbGVjdGVkLlxuICAgICAgICAvLyAgaWYgc28sIG1ha2UgdGhpcyBjbGljayBvbmx5IHNlbGVjdCB0aGlzIGJ1dHRvbiAoZGVzZWxlY3QgYWxsIG90aGVycylcbiAgICAgICAgaWYgKCRidXR0b24uaGFzQ2xhc3MoJ3Jlc3VsdC1maWx0ZXItYnV0dG9uJykgJiZcbiAgICAgICAgICAgIHRoaXMuJGVsLmZpbmQoJy5yZXN1bHQtZmlsdGVyLWJ1dHRvbicpLmxlbmd0aCA9PSB0aGlzLiRlbC5maW5kKCcucmVzdWx0LWZpbHRlci1idXR0b24uc2VsZWN0ZWQnKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuJGVsLmZpbmQoJy5yZXN1bHQtZmlsdGVyLWJ1dHRvbicpLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpO1xuICAgICAgICB9IGVsc2UgaWYgKCRidXR0b24uaGFzQ2xhc3MoJ3NkZy1idXR0b24nKSAmJlxuICAgICAgICAgICAgdGhpcy4kZWwuZmluZCgnLnNkZy1idXR0b24nKS5sZW5ndGggPT0gdGhpcy4kZWwuZmluZCgnLnNkZy1idXR0b24uc2VsZWN0ZWQnKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuJGVsLmZpbmQoJy5zZGctYnV0dG9uJykucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdG9nZ2xlIHRoZSBidXR0b25cbiAgICAgICAgJGJ1dHRvbi50b2dnbGVDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICAgICAgLy8gbWFyayBzZWFyY2ggYm94IGFzIHNlYXJjaGFibGVcbiAgICAgICAgdGhpcy5tYXJrU2VhcmNoQm94U2VhcmNoYWJsZSgpO1xuICAgIH0sXG4gICAgXG4gICAgdG9nZ2xlTWFuYWdlZFRhZ3NGaWx0ZXJCdXR0b246IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgJGJ1dHRvbiA9ICQoZXZlbnQuY3VycmVudFRhcmdldCk7XG4gICAgICAgIC8vIGNoZWNrIGlmIGFsbCBidXR0b25zIG9mIHRoaXMgdHlwZSBhcmUgc2VsZWN0ZWQuXG4gICAgICAgIC8vICBpZiBzbywgbWFrZSB0aGlzIGNsaWNrIG9ubHkgc2VsZWN0IHRoaXMgYnV0dG9uIChkZXNlbGVjdCBhbGwgb3RoZXJzKVxuICAgICAgICBpZiAoJGJ1dHRvbi5oYXNDbGFzcygncmVzdWx0LWZpbHRlci1idXR0b24nKSAmJlxuICAgICAgICAgICAgdGhpcy4kZWwuZmluZCgnLnJlc3VsdC1maWx0ZXItYnV0dG9uJykubGVuZ3RoID09IHRoaXMuJGVsLmZpbmQoJy5yZXN1bHQtZmlsdGVyLWJ1dHRvbi5zZWxlY3RlZCcpLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy4kZWwuZmluZCgnLnJlc3VsdC1maWx0ZXItYnV0dG9uJykucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoJGJ1dHRvbi5oYXNDbGFzcygnbWFuYWdlZFRhZ3MtYnV0dG9uJykgJiZcbiAgICAgICAgICAgIHRoaXMuJGVsLmZpbmQoJy5tYW5hZ2VkVGFncy1idXR0b24nKS5sZW5ndGggPT0gdGhpcy4kZWwuZmluZCgnLm1hbmFnZWRUYWdzLWJ1dHRvbi5zZWxlY3RlZCcpLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy4kZWwuZmluZCgnLm1hbmFnZWRUYWdzLWJ1dHRvbicpLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRvZ2dsZSB0aGUgYnV0dG9uXG4gICAgICAgICRidXR0b24udG9nZ2xlQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgICAgIC8vIG1hcmsgc2VhcmNoIGJveCBhcyBzZWFyY2hhYmxlXG4gICAgICAgIHRoaXMubWFya1NlYXJjaEJveFNlYXJjaGFibGUoKTtcbiAgICB9LFxuXG4gICAgbWF0Y2hCdXR0b25DbGlja2VkOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyICRidXR0b24gPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpO1xuICAgICAgICAvLyBSZXBsYWNlIG1hdGNoaW5nIHBhcmFtZXRlclxuICAgICAgICB2YXIgc2VhcmNoUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcbiAgICAgICAgc2VhcmNoUGFyYW1zLnNldCgnbWF0Y2hpbmcnLCAkYnV0dG9uLmRhdGEoJ21hdGNoJykpO1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uc2VhcmNoID0gc2VhcmNoUGFyYW1zLnRvU3RyaW5nKCk7XG4gICAgICAgIHRoaXMudHJpZ2dlclNlYXJjaEZyb21VcmwodHJ1ZSk7XG4gICAgfSxcbiAgICBcbiAgICAvKiogUmVzZXQgYWxsIHR5cGVzIG9mIGlucHV0IGZpbHRlcnMgYW5kIHRyaWdnZXIgYSBuZXcgc2VhcmNoICovXG4gICAgcmVzZXRBbGxDbGlja2VkOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5yZXNldEFsbCgpO1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICB2YXIgc2VhcmNoUmVhc29uID0gJ3Jlc2V0LWZpbHRlcnMtc2VhcmNoJztcbiAgICAgICAgdGhpcy50cmlnZ2VyRGVsYXllZFNlYXJjaCh0cnVlLCBmYWxzZSwgZmFsc2UsIHNlYXJjaFJlYXNvbik7XG4gICAgfSxcbiAgICBcbiAgICAvKiogUmVzZXRzIGFsbCBmaWx0ZXIgc3RhdGVzICovXG4gICAgcmVzZXRBbGw6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5xID0gJyc7XG4gICAgICAgIHRoaXMucmVzZXRUb3BpY3MoKTtcbiAgICAgICAgdGhpcy5yZXNldFRleHRUb3BpY3MoKTtcbiAgICAgICAgdGhpcy5yZXNldFNER1MoKTtcbiAgICAgICAgdGhpcy5yZXNldE1hbmFnZWRUYWdzKCk7XG4gICAgICAgIHRoaXMucmVzZXREYXRlVGltZVdpZGdldCgpO1xuICAgICAgICB0aGlzLnJlc2V0VHlwZUZpbHRlcnMoKTtcbiAgICAgICAgdGhpcy5jbGVhckRldGFpbFJlc3VsdENhY2hlKCk7XG4gICAgfSxcbiAgICBcbiAgICAvKiogSW50ZXJuYWwgc3RhdGUgcmVzZXQgb2YgZnJvbURhdGUsIGZyb21UaW1lLCB0b0RhdGUsIHRvVGltZSAqL1xuICAgIHJlc2V0RGF0ZVRpbWVXaWRnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdG9kYXkgPSBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQnKTtcbiAgICAgICAgdmFyIGluX3RocmVlX21vbnRocyA9IG1vbWVudCgpLmFkZCgzLCAnTScpLmZvcm1hdCgnWVlZWS1NTS1ERCcpO1xuICAgICAgICB0aGlzLnN0YXRlLmZyb21EYXRlID0gIHRvZGF5O1xuICAgICAgICB0aGlzLnN0YXRlLmZyb21UaW1lID0gXCIwMDowMFwiO1xuICAgICAgICB0aGlzLnN0YXRlLnRvRGF0ZSA9IGluX3RocmVlX21vbnRocztcbiAgICAgICAgdGhpcy5zdGF0ZS50b1RpbWUgPSBcIjIzOjU5XCI7XG4gICAgfSxcbiAgICBcbiAgICAvKiogSW50ZXJuYWwgc3RhdGUgcmVzZXQgb2YgZmlsdGVyZWQgdG9waWNzICovXG4gICAgcmVzZXRUb3BpY3M6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5hY3RpdmVUb3BpY0lkcyA9IFtdO1xuICAgIH0sXG5cbiAgICByZXNldFRleHRUb3BpY3M6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5hY3RpdmVUZXh0VG9waWNJZHMgPSBbXTtcbiAgICB9LFxuXG4gICAgcmVzZXRTREdTOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc3RhdGUuYWN0aXZlU0RHSWRzID0gW107XG4gICAgfSxcbiAgICBcbiAgICByZXNldE1hbmFnZWRUYWdzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmRlZmF1bHRzLmZpbHRlck1hbmFnZWRUYWcgIT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gYXBwbHkgaW5pdGlhbCBtYW5hZ2VkIHRhZ3Mgb25jZVxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5hY3RpdmVNYW5hZ2VkVGFnc0lkcyA9IFt0aGlzLmRlZmF1bHRzLmZpbHRlck1hbmFnZWRUYWddO1xuICAgICAgICAgICAgdGhpcy5kZWZhdWx0cy5maWx0ZXJNYW5hZ2VkVGFnID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuYWN0aXZlTWFuYWdlZFRhZ3NJZHMgPSBbXTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgXG4gICAgLyoqIEludGVybmFsIHN0YXRlIHJlc2V0IG9mIGZpbHRlcmVkIHJlc3VsdCB0eXBlcyAqL1xuICAgIHJlc2V0VHlwZUZpbHRlcnM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5hY3RpdmVGaWx0ZXJzID0gXyh0aGlzLm9wdGlvbnMuYXZhaWxhYmxlRmlsdGVycykuY2xvbmUoKTtcbiAgICAgICAgdGhpcy5zdGF0ZS50eXBlRmlsdGVyc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNob3dUZXh0VG9waWNzT25UeXBlc1NlbGVjdGVkLmxlbmd0aCA+IDAgKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0VGV4dFRvcGljcygpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2hvd01hbmFnZWRUYWdzT25UeXBlc1NlbGVjdGVkLmxlbmd0aCA+IDAgKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0TWFuYWdlZFRhZ3MoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRvZ2dsZURhdGVUaW1lUGlja2VyKCk7XG4gICAgfSxcblxuICAgIHJlc2V0VHlwZUZpbHRlcnNDbGlja2VkOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHRoaXMucmVzZXRUeXBlRmlsdGVycygpO1xuICAgICAgICB0aGlzLnJlc2V0RGF0ZVRpbWVXaWRnZXQoKTtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgdGhpcy5jbGVhckRldGFpbFJlc3VsdENhY2hlKCk7XG4gICAgICAgIHZhciBzZWFyY2hSZWFzb24gPSAncmVzZXQtZmlsdGVycy1zZWFyY2gnO1xuICAgICAgICB0aGlzLnRyaWdnZXJEZWxheWVkU2VhcmNoKHRydWUsIGZhbHNlLCBmYWxzZSwgc2VhcmNoUmVhc29uKTtcbiAgICB9LFxuXG4gICAgcmVzZXRUb3BpY0ZpbHRlcnNDbGlja2VkOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHRoaXMucmVzZXRUb3BpY3MoKTtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgdGhpcy5jbGVhckRldGFpbFJlc3VsdENhY2hlKCk7XG4gICAgICAgIHZhciBzZWFyY2hSZWFzb24gPSAncmVzZXQtZmlsdGVycy1zZWFyY2gnO1xuICAgICAgICB0aGlzLnRyaWdnZXJEZWxheWVkU2VhcmNoKHRydWUsIGZhbHNlLCBmYWxzZSwgc2VhcmNoUmVhc29uKTtcbiAgICB9LFxuXG4gICAgcmVzZXRUZXh0VG9waWNGaWx0ZXJzQ2xpY2tlZDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB0aGlzLnJlc2V0VGV4dFRvcGljcygpO1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICB0aGlzLmNsZWFyRGV0YWlsUmVzdWx0Q2FjaGUoKTtcbiAgICAgICAgdmFyIHNlYXJjaFJlYXNvbiA9ICdyZXNldC1maWx0ZXJzLXNlYXJjaCc7XG4gICAgICAgIHRoaXMudHJpZ2dlckRlbGF5ZWRTZWFyY2godHJ1ZSwgZmFsc2UsIGZhbHNlLCBzZWFyY2hSZWFzb24pO1xuICAgIH0sXG5cbiAgICByZXNldFNER0ZpbHRlcnNDbGlja2VkOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHRoaXMucmVzZXRTREdTKCk7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgIHRoaXMuY2xlYXJEZXRhaWxSZXN1bHRDYWNoZSgpO1xuICAgICAgICB2YXIgc2VhcmNoUmVhc29uID0gJ3Jlc2V0LWZpbHRlcnMtc2VhcmNoJztcbiAgICAgICAgdGhpcy50cmlnZ2VyRGVsYXllZFNlYXJjaCh0cnVlLCBmYWxzZSwgZmFsc2UsIHNlYXJjaFJlYXNvbik7XG4gICAgfSxcbiAgICBcbiAgICByZXNldE1hbmFnZWRUYWdzRmlsdGVyc0NsaWNrZWQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgdGhpcy5yZXNldE1hbmFnZWRUYWdzKCk7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgIHRoaXMuY2xlYXJEZXRhaWxSZXN1bHRDYWNoZSgpO1xuICAgICAgICB2YXIgc2VhcmNoUmVhc29uID0gJ3Jlc2V0LWZpbHRlcnMtc2VhcmNoJztcbiAgICAgICAgdGhpcy50cmlnZ2VyRGVsYXllZFNlYXJjaCh0cnVlLCBmYWxzZSwgZmFsc2UsIHNlYXJjaFJlYXNvbik7XG4gICAgfSxcblxuICAgIHJlc2V0UUNsaWNrZWQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgdGhpcy5zdGF0ZS5xID0gJyc7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgIHRoaXMuY2xlYXJEZXRhaWxSZXN1bHRDYWNoZSgpO1xuICAgICAgICB2YXIgc2VhcmNoUmVhc29uID0gJ3Jlc2V0LWZpbHRlcnMtc2VhcmNoJztcbiAgICAgICAgdGhpcy50cmlnZ2VyRGVsYXllZFNlYXJjaCh0cnVlLCBmYWxzZSwgZmFsc2UsIHNlYXJjaFJlYXNvbik7XG4gICAgfSxcbiAgICBcbiAgICByZXNldFR5cGVBbmRUb3BpY0ZpbHRlcnNDbGlja2VkOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHRoaXMucmVzZXRUeXBlRmlsdGVycygpO1xuICAgICAgICB0aGlzLnJlc2V0VG9waWNzKCk7XG4gICAgICAgIHRoaXMucmVzZXREYXRlVGltZVdpZGdldCgpO1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICB0aGlzLmNsZWFyRGV0YWlsUmVzdWx0Q2FjaGUoKTtcbiAgICAgICAgdmFyIHNlYXJjaFJlYXNvbiA9ICdyZXNldC1maWx0ZXJzLXNlYXJjaCc7XG4gICAgICAgIHRoaXMudHJpZ2dlckRlbGF5ZWRTZWFyY2godHJ1ZSwgZmFsc2UsIGZhbHNlLCBzZWFyY2hSZWFzb24pO1xuICAgIH0sXG4gICAgXG4gICAgXG4gICAgLyoqIFRoaXMgZG9lc24ndCBsaXN0ZW4gdG8gZXZlbnRzIGluIHRoaXMgdmlldywgYnV0IHJhdGhlciBpcyB0aGUgdGFyZ2V0IGZvciBcbiAgICAgKiAgICAgZGVsZWdhdGVkIGV2ZW50cyBmcm9tIHRpbGUtdmlldyBhbmQgdGlsZS1kZXRhaWwtdmlldyAqL1xuICAgIG9uVG9waWNMaW5rQ2xpY2tlZDogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHZhciAkbGluayA9ICQoZXZlbnQudGFyZ2V0KTtcbiAgICAgICAgdmFyIHRvcGljSWQgPSAkbGluay5hdHRyKCdkYXRhLXRvcGljLWlkJyk7XG4gICAgICAgIHRoaXMucmVzZXRBbGwoKTtcbiAgICAgICAgdGhpcy5zdGF0ZS5hY3RpdmVUb3BpY0lkcyA9IFtwYXJzZUludCh0b3BpY0lkKV07XG4gICAgICAgIHRoaXMuY2xlYXJEZXRhaWxSZXN1bHRDYWNoZSgpO1xuICAgICAgICB0aGlzLnRyaWdnZXJEZWxheWVkU2VhcmNoKHRydWUpO1xuICAgIH0sXG5cbiAgICBvblRleHRUb3BpY0xpbmtDbGlja2VkOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgdmFyICRsaW5rID0gJChldmVudC50YXJnZXQpO1xuICAgICAgICB2YXIgdGV4dFRvcGljSWQgPSAkbGluay5hdHRyKCdkYXRhLXRleHQtdG9waWMtaWQnKTtcbiAgICAgICAgdGhpcy5yZXNldEFsbCgpO1xuICAgICAgICB0aGlzLnN0YXRlLmFjdGl2ZVRleHRUb3BpY0lkcyA9IFtwYXJzZUludCh0ZXh0VG9waWNJZCldO1xuICAgICAgICB0aGlzLmNsZWFyRGV0YWlsUmVzdWx0Q2FjaGUoKTtcbiAgICAgICAgdGhpcy50cmlnZ2VyRGVsYXllZFNlYXJjaCh0cnVlKTtcbiAgICB9LFxuICAgIFxuICAgIC8qKiBUaGlzIGRvZXNuJ3QgbGlzdGVuIHRvIGV2ZW50cyBpbiB0aGlzIHZpZXcsIGJ1dCByYXRoZXIgaXMgdGhlIHRhcmdldCBmb3IgXG4gICAgICogICAgIGRlbGVnYXRlZCBldmVudHMgZnJvbSB0aWxlLXZpZXcgYW5kIHRpbGUtZGV0YWlsLXZpZXcgKi9cbiAgICBvbk1hbmFnZWRUYWdMaW5rQ2xpY2tlZDogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHZhciAkbGluayA9ICQoZXZlbnQudGFyZ2V0KTtcbiAgICAgICAgdmFyIG1hbmFnZWRUYWdJZCA9ICRsaW5rLmF0dHIoJ2RhdGEtbWFuYWdlZC10YWctaWQnKTtcbiAgICAgICAgdGhpcy5yZXNldEFsbCgpO1xuICAgICAgICB0aGlzLnN0YXRlLmFjdGl2ZU1hbmFnZWRUYWdzSWRzID0gW3BhcnNlSW50KG1hbmFnZWRUYWdJZCldO1xuICAgICAgICB0aGlzLmNsZWFyRGV0YWlsUmVzdWx0Q2FjaGUoKTtcbiAgICAgICAgdGhpcy50cmlnZ2VyRGVsYXllZFNlYXJjaCh0cnVlKTtcbiAgICB9LFxuICAgIFxuICAgIHRvZ2dsZVNlYXJjaE9uU2Nyb2xsQ2xpY2tlZDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuc3RhdGUuc2VhcmNoT25TY3JvbGwgPSAhdGhpcy5zdGF0ZS5zZWFyY2hPblNjcm9sbDtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuc2VhcmNoT25TY3JvbGwgPT0gdHJ1ZSAmJiB0aGlzLnN0YXRlLnJlc3VsdHNTdGFsZSkge1xuICAgICAgICAgICAgdGhpcy5zdGFsZVNlYXJjaEJ1dHRvbkNsaWNrZWQoZXZlbnQpO1xuICAgICAgICB9IFxuICAgIH0sXG4gICAgXG4gICAgc3RhbGVTZWFyY2hCdXR0b25DbGlja2VkOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5jbGVhckRldGFpbFJlc3VsdENhY2hlKCk7XG4gICAgICAgIHRoaXMudHJpZ2dlckRlbGF5ZWRTZWFyY2godHJ1ZSk7XG4gICAgICAgIC8vIHdlIGNoZWF0IHRoaXMgaW4gYmVjYXVzZSB3ZSBrbm93IHRoZSBzZWFyY2ggd2lsbCBkbyBpdCBhbnl3YXlzIGluIGEgbWlsbGlzZWNvbmQsXG4gICAgICAgIC8vIGJ1dCB3aXRob3V0IHRoaXMgaXQgd29uJ3QgYmUgaW4gdGltZSBmb3IgdGhlIHJlbmRlcigpIG9mIHRoZSBjb250cm9sc1xuICAgICAgICB0aGlzLnN0YXRlLnJlc3VsdHNTdGFsZSA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5wYWdpbmF0aW9uQ29udHJvbFZpZXcpIHtcbiAgICAgICAgXHR0aGlzLnBhZ2luYXRpb25Db250cm9sVmlldy5yZW5kZXIoKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgXG4gICAgcGFnaW5hdGlvbkZvcndhcmRDbGlja2VkOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBcdGlmIChldmVudCkge1xuICAgIFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIFx0fVxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5wYWdlLmhhc19uZXh0KSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLnBhZ2VJbmRleCArPSAxO1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyRGVsYXllZFNlYXJjaCh0cnVlLCB0cnVlLCBmYWxzZSwgJ3BhZ2luYXRlLXNlYXJjaCcpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBcbiAgICBwYWdpbmF0aW9uQmFja0NsaWNrZWQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIFx0aWYgKGV2ZW50KSB7XG4gICAgXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgXHR9XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnBhZ2UuaGFzX3ByZXZpb3VzICYmIHRoaXMuc3RhdGUucGFnZUluZGV4ID4gMCkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5wYWdlSW5kZXggLT0gMTtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlckRlbGF5ZWRTZWFyY2godHJ1ZSwgdHJ1ZSwgZmFsc2UsICdwYWdpbmF0ZS1zZWFyY2gnKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgXG4gICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tICBEaXNwbGF5LXJlbGF0ZWQgbG9naWMgICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuICAgIFxuICAgIFxuICAgIC8qKiBPcGVuIHRoZSBDcmVhdGUtSWRlYSB2aWV3ICovXG4gICAgb3BlbkNyZWF0ZUlkZWFWaWV3OiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBcdHZhciBzZWxmID0gdGhpcztcbiAgICBcdGlmIChDT1NJTk5VU19JREVBU19FTkFCTEVEKSB7XG4gICAgXHRcdGlmICghc2VsZi5jcmVhdGVJZGVhVmlldykge1xuICAgIFx0XHRcdHNlbGYuY3JlYXRlSWRlYVZpZXcgPSBuZXcgQ3JlYXRlSWRlYVZpZXcoe1xuICAgIFx0XHRcdFx0ZWxQYXJlbnQ6IHNlbGYuQXBwLmVsLFxuICAgIFx0XHRcdH0sIFxuICAgIFx0XHRcdHNlbGYuQXBwLFxuICAgIFx0XHRcdHNlbGZcbiAgICBcdFx0XHQpLnJlbmRlcigpO1xuICAgIFx0XHR9IGVsc2Uge1xuICAgIFx0XHRcdHNlbGYuY3JlYXRlSWRlYVZpZXcuJGVsLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICBcdFx0fVxuICAgICAgICAgICAgQmFja2JvbmUubWVkaWF0b3IucHVibGlzaCgnaWRlYXM6Y3JlYXRlLXZpZXctb3BlbmVkJyk7XG4gICAgXHR9XG4gICAgfSxcbiAgICBcbiAgICAvKiogT3BlbiB0aGUgQ3JlYXRlLUlkZWEgdmlldyAqL1xuICAgIGNsb3NlQ3JlYXRlSWRlYVZpZXc6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIFx0dmFyIHNlbGYgPSB0aGlzO1xuICAgIFx0c2VsZi5jcmVhdGVJZGVhVmlldy4kZWwuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgIFx0c2VsZi51bnRyaWdnZXJNb2JpbGVJZGVhQ3JlYXRlVmlldyhldmVudCk7XG4gICAgXHRCYWNrYm9uZS5tZWRpYXRvci5wdWJsaXNoKCdpZGVhczpjcmVhdGUtdmlldy1jbG9zZWQnKTtcbiAgICB9LFxuICAgIFxuICAgIC8qKiBNb2JpbGUgdmlldyBzd2l0Y2ggYnV0dG9ucyAqL1xuICAgIF9yZXNldE1vYmlsZVZpZXc6IGZ1bmN0aW9uIChldmVudCwgZG9udFJlc2V0RGV0YWlsUmVzdWx0KSB7XG4gICAgICAgIC8vIHVuc2VsZWN0IHRoZSBkZXRhaWwgdmlldyBpZiBvbmUgaXMgb3BlblxuICAgICAgICBpZiAodGhpcy5kZXRhaWxSZXN1bHQgJiYgIWRvbnRSZXNldERldGFpbFJlc3VsdCkge1xuICAgICAgICAgICAgdGhpcy5kaXNwbGF5RGV0YWlsUmVzdWx0KG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuQXBwLiRlbC5yZW1vdmVDbGFzcygnbW9iaWxlLXZpZXctbWFwIG1vYmlsZS12aWV3LXNlYXJjaCBtb2JpbGUtdmlldy1saXN0IG1vYmlsZS12aWV3LWRldGFpbCBtb2JpbGUtdmlldy1pZGVhLWNyZWF0ZS0xIG1vYmlsZS12aWV3LWlkZWEtY3JlYXRlLTInKTtcbiAgICB9LFxuICAgIFxuICAgIHRyaWdnZXJNb2JpbGVEZWZhdWx0VmlldzogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgXHRpZiAodGhpcy5vcHRpb25zLnNwbGl0c2NyZWVuKSB7XG4gICAgXHRcdHRoaXMudHJpZ2dlck1vYmlsZU1hcFZpZXcoZXZlbnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICBcdHRoaXMudHJpZ2dlck1vYmlsZUxpc3RWaWV3KGV2ZW50KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgXG4gICAgdHJpZ2dlck1vYmlsZUxpc3RWaWV3OiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5fcmVzZXRNb2JpbGVWaWV3KCk7XG4gICAgICAgIHRoaXMuQXBwLiRlbC5hZGRDbGFzcygnbW9iaWxlLXZpZXctbGlzdCcpO1xuICAgICAgICBpZiAodGhpcy5BcHAudGlsZUxpc3RWaWV3KSB7IC8vIG1pZ2h0IG5vdCBiZSBsb2FkZWQgeWV0XG4gICAgICAgIFx0dGhpcy5BcHAudGlsZUxpc3RWaWV3LmdyaWRSZWZyZXNoKCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgdHJpZ2dlck1vYmlsZVNlYXJjaFZpZXc6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB0aGlzLl9yZXNldE1vYmlsZVZpZXcoKTtcbiAgICAgICAgdGhpcy5BcHAuJGVsLmFkZENsYXNzKCdtb2JpbGUtdmlldy1zZWFyY2gnKTtcbiAgICAgICAgdGhpcy4kZWwuZmluZCgnLnEnKS5mb2N1cygpO1xuICAgIH0sXG5cbiAgICB0cmlnZ2VyTW9iaWxlTWFwVmlldzogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuX3Jlc2V0TW9iaWxlVmlldygpO1xuICAgICAgICB0aGlzLkFwcC4kZWwuYWRkQ2xhc3MoJ21vYmlsZS12aWV3LW1hcCcpO1xuICAgIH0sXG5cbiAgICB0cmlnZ2VyTW9iaWxlRGV0YWlsVmlldzogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgXHQvLyBzYXZlIHRoZSBjdXJyZW50IHZpZXcgXG4gICAgXHQvLyAoaWYgaXQgd2FzIGxpc3QgdmlldyB3ZSB3YW50IHRvIHJldHVybiB0byB0aGF0IGluc3RlYWQgb2YgbWFwIHZpZXcgd2hlbiBjbG9zaW5nIGRldGFpbClcbiAgICBcdHRoaXMuc3RhdGUubGFzdFZpZXdCZWZvcmVEZXRhaWxXYXNMaXN0VmlldyA9IHRoaXMuQXBwLiRlbC5oYXNDbGFzcygnbW9iaWxlLXZpZXctbGlzdCcpO1xuICAgIFx0dGhpcy5fcmVzZXRNb2JpbGVWaWV3KGV2ZW50LCB0cnVlKTtcbiAgICBcdHRoaXMuQXBwLiRlbC5hZGRDbGFzcygnbW9iaWxlLXZpZXctZGV0YWlsJyk7XG4gICAgfSxcblxuICAgIHRyaWdnZXJNb2JpbGVJZGVhQ3JlYXRlMVZpZXc6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB0aGlzLl9yZXNldE1vYmlsZVZpZXcoKTtcbiAgICAgICAgdGhpcy5vcGVuQ3JlYXRlSWRlYVZpZXcoZXZlbnQpO1xuICAgICAgICB0aGlzLkFwcC4kZWwuYWRkQ2xhc3MoJ21vYmlsZS12aWV3LWlkZWEtY3JlYXRlLTEnKTtcbiAgICB9LFxuXG4gICAgdHJpZ2dlck1vYmlsZUlkZWFDcmVhdGUyVmlldzogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuX3Jlc2V0TW9iaWxlVmlldygpO1xuICAgICAgICB0aGlzLkFwcC4kZWwuYWRkQ2xhc3MoJ21vYmlsZS12aWV3LWlkZWEtY3JlYXRlLTInKTtcbiAgICB9LFxuXG4gICAgdW50cmlnZ2VyTW9iaWxlSWRlYUNyZWF0ZVZpZXc6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB0aGlzLnRyaWdnZXJNb2JpbGVEZWZhdWx0VmlldyhldmVudCk7XG4gICAgfSxcblxuICAgIHVudHJpZ2dlck1vYmlsZURldGFpbFZpZXc6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5sYXN0Vmlld0JlZm9yZURldGFpbFdhc0xpc3RWaWV3KSB7XG4gICAgICAgIFx0dGhpcy50cmlnZ2VyTW9iaWxlTGlzdFZpZXcoZXZlbnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICBcdHRoaXMudHJpZ2dlck1vYmlsZU1hcFZpZXcoZXZlbnQpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHNob3dIb3Zlckljb246IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgaWNvbiA9ICQoZXZlbnQudGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoJ2ltZycpKVxuICAgICAgICBpY29uLnJlbW92ZUNsYXNzKCdob3Zlci1pbWFnZS1pY29uLWhpZGRlbicpXG4gICAgfSxcblxuICAgIGhpZGVIb3Zlckljb246IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQudGFyZ2V0LnRhZ05hbWUgPT0gJ0lNRycpIHtcbiAgICAgICAgICAgICQoZXZlbnQudGFyZ2V0KS5hZGRDbGFzcygnaG92ZXItaW1hZ2UtaWNvbi1oaWRkZW4nKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJChldmVudC50YXJnZXQucXVlcnlTZWxlY3RvcignaW1nJykpLmFkZENsYXNzKCdob3Zlci1pbWFnZS1pY29uLWhpZGRlbicpXG4gICAgICAgIH1cbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFRvZ2dsZXMgdGhlIHN0YXRlIG9mIHRoZSB2aWV3cyBiZXR3ZWVuIHNwbGl0dmlldywgbWFwLWZ1bGxzY3JlZW4gb3IgdGlsZS1mdWxsc2NyZWVuLlxuICAgICAqL1xuICAgIHN3aXRjaERpc3BsYXlTdGF0ZTogZnVuY3Rpb24gKHNob3dNYXAsIHNob3dUaWxlcykge1xuICAgIFx0aWYgKCFzaG93TWFwICYmICFzaG93VGlsZXMpIHtcbiAgICAgICAgICAgIHV0aWwubG9nKCdjb250cm9sLXZpZXcuanM6IGNhbnQgaGlkZSBib3RoIHRpbGUgYW5kIG1hcCB2aWV3cyBhdCB0aGUgc2FtZSB0aW1lIScpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgIFx0fVxuICAgIFx0dGhpcy5BcHAuZGlzcGxheU9wdGlvbnMuc2hvd01hcCA9IHNob3dNYXA7XG4gICAgXHR0aGlzLkFwcC5kaXNwbGF5T3B0aW9ucy5zaG93VGlsZXMgPSBzaG93VGlsZXM7XG4gICAgXHR0aGlzLm9wdGlvbnMuc3BsaXRzY3JlZW4gPSBzaG93TWFwICYmIHNob3dUaWxlcztcbiAgICBcdHRoaXMuQXBwLmxvYWRUaWxlVmlldygpO1xuICAgIFx0dGhpcy5BcHAubG9hZE1hcFZpZXcoKTtcbiAgICB9LFxuXG4gICAgXG4gICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tICBGdW5jdGlvbmFsIGxvZ2ljICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbiAgICBcbiAgICBcbiAgICAvKipcbiAgICAgKiBXaWxsIHN0YXJ0IGEgZnJlc2ggc2VhcmNoIHdpdGggdGhlIGN1cnJlbnQgcXVlcnkgb2YgdGhlIHNlYXJjaCB0ZXh0Ym94LlxuICAgICAqL1xuICAgIHRyaWdnZXJRdWVyeVNlYXJjaDogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcXVlcnkgPSB0aGlzLiRlbC5maW5kKCcucScpLnZhbCgpO1xuICAgICAgICB0aGlzLnN0YXRlLnEgPSBxdWVyeTtcbiAgICAgICAgdGhpcy5hcHBseUZpbHRlcnMoKTtcbiAgICAgICAgdGhpcy5zdGF0ZS5pZ25vcmVMb2NhdGlvbiA9ICF0aGlzLiRlbC5maW5kKCcuY2hlY2staWdub3JlLWxvY2F0aW9uJykuaXMoJzpjaGVja2VkJyk7XG4gICAgICAgIHRoaXMuc3RhdGUuZXhjaGFuZ2UgPSB0aGlzLiRlbC5maW5kKCcuY2hlY2stZXhjaGFuZ2UnKS5pcygnOmNoZWNrZWQnKTtcbiAgICAgICAgdGhpcy5jbGVhckRldGFpbFJlc3VsdENhY2hlKCk7XG4gICAgICAgIHZhciBzZWFyY2hSZWFzb24gPSAnbWFudWFsLXNlYXJjaCc7XG4gICAgICAgIHRoaXMudHJpZ2dlckRlbGF5ZWRTZWFyY2godHJ1ZSwgZmFsc2UsIGZhbHNlLCBzZWFyY2hSZWFzb24pO1xuICAgIH0sXG4gICAgXG4gICAgLyoqIERlbGV0ZSB0aGUgZGV0YWlsIHJlc3VsdCBjYWNoZSwgc2hvdWxkIG9ubHkgaGFwcGVuIG9uIHZvbHVudGFyeSB1c2VyIFwibmV3IHNlYXJjaFwiIGFjdGlvbnMhICovXG4gICAgY2xlYXJEZXRhaWxSZXN1bHRDYWNoZTogZnVuY3Rpb24gKCkge1xuICAgICAgICBzZWxmLmRldGFpbFJlc3VsdENhY2hlID0ge307XG4gICAgfSxcbiAgICBcbiAgICAvKiogVHJpZ2dlcnMgb24gY2xpY2sgb2YgYSBsaW5rIHRoYXQgb3BlbnMgYSByZXN1bHQgZGV0YWlsIHZpZXcuXG4gICAgICogIENhbiBiZSB0cmlnZ2VyZWQgZnJvbSBtdWx0aXBsZSB2aWV3cy4gKi9cbiAgICBvblJlc3VsdExpbmtDbGlja2VkOiBmdW5jdGlvbiAoZXZlbnQsIGRpcmVjdEl0ZW1JZCwgbm9OYXZpZ2F0ZSkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIGlmIChldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHBhcnNlIHRoZSB0YXJnZXQgb2JqZWN0IGZyb20gdGhlIGxpbmtcbiAgICAgICAgdmFyIGRhdGEgPSBudWxsO1xuICAgICAgICBpZiAoIWRpcmVjdEl0ZW1JZCAmJiBldmVudCkge1xuICAgICAgICAgICAgdmFyICR0YXIgPSAkKGV2ZW50LnRhcmdldCkuY2xvc2VzdCgnLnJlc3VsdC1saW5rJyk7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgICAgICAgICBwb3J0YWw6ICR0YXIuYXR0cignZGF0YS1wb3J0YWwnKSB8fCAwLFxuICAgICAgICAgICAgICAgIHR5cGU6ICR0YXIuYXR0cignZGF0YS10eXBlJyksXG4gICAgICAgICAgICAgICAgc2x1ZzogJHRhci5hdHRyKCdkYXRhLXNsdWcnKSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRpcmVjdEl0ZW1JZCA9IHV0aWwubWFrZURpcmVjdEl0ZW1JZChkYXRhWydwb3J0YWwnXSwgZGF0YVsndHlwZSddLCBkYXRhWydzbHVnJ10pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSB1dGlsLnBhcnNlRGlyZWN0SXRlbUlkKGRpcmVjdEl0ZW1JZCk7XG4gICAgICAgIH1cbiAgICAgICAgdXRpbC5sb2coJ3RpbGUtdmlldy5qczogZ290IGEgc2VsZWN0IGNsaWNrIGV2ZW50ISBkYXRhOiAnICsgSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xuICAgICAgICBpZiAoZGF0YS50eXBlID09IFwiY2xvdWRmaWxlXCIpIHtcbiAgICAgICAgICAgIHdpbmRvdy5vcGVuKGRhdGEuc2x1Zyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2hlY2sgaWYgdGhpcyBpdGVtIGlzIGluIHRoZSBsb2NhbCBkZXRhaWwgUmVzdWx0IGNhY2hlXG4gICAgICAgIHZhciByZXN1bHQgPSBudWxsO1xuICAgICAgICBpZiAoZGlyZWN0SXRlbUlkIGluIHNlbGYuZGV0YWlsUmVzdWx0Q2FjaGUpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHNlbGYuZGV0YWlsUmVzdWx0Q2FjaGVbZGlyZWN0SXRlbUlkXTtcbiAgICAgICAgICAgIHNlbGYuZGlzcGxheURldGFpbFJlc3VsdChyZXN1bHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gaWYgbm90LCBsb2FkIGl0IGZyb20gdGhlIHNlcnZlclxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBidWlsZCBkZXRhaWwgVVJMXG4gICAgICAgICAgICB2YXIgcXVlcnkgPSAkLnBhcmFtKGRhdGEpO1xuICAgICAgICAgICAgdmFyIHVybCA9IHRoaXMuZGV0YWlsRW5kcG9pbnRVUkwgKyAnPycgKyBxdWVyeTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gY2FuY2VsIHRoZSBjdXJyZW50bHkgb25nb2luZyByZXF1ZXN0XG4gICAgICAgICAgICBpZiAoc2VsZi5jdXJyZW50RGV0YWlsSHR0cFJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICB1dGlsLmxvZygnY29udHJvbC12aWV3LmpzOiBOZXcgZGV0YWlsIHJlcXVlc3QhIEFib3J0aW5nIGN1cnJlbnQgcmVxdWVzdC4nKVxuICAgICAgICAgICAgICAgIHNlbGYuY3VycmVudERldGFpbEh0dHBSZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHZhciBkZXRhaWxIYWRFcnJvcnMgPSBmYWxzZTtcbiAgICAgICAgICAgIHNlbGYuY3VycmVudERldGFpbEh0dHBSZXF1ZXN0ID0gJC5hamF4KHVybCwge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgICAgICAgICAgIHRpbWVvdXQ6IHNlbGYuc2VhcmNoWEhSVGltZW91dCxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSwgdGV4dFN0YXR1cykge1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgdXRpbC5sb2coJ2dvdCByZXN1bHRzc3NzIGZvciBkZXRhaWwnKVxuICAgICAgICAgICAgICAgICAgICB1dGlsLmxvZyhkYXRhKVxuICAgICAgICAgICAgICAgICAgICB1dGlsLmxvZyh0ZXh0U3RhdHVzKVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKCdyZXN1bHQnIGluIGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IG5ldyBSZXN1bHQoZGF0YS5yZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHV0IGl0ZW0gaW4gcmVzdWx0IGNhY2hlXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmRldGFpbFJlc3VsdENhY2hlW3Jlc3VsdC5pZF0gPSByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmRpc3BsYXlEZXRhaWxSZXN1bHQocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFkZCBhIHJvdXRlIG5hdmlnYXRlIGhpc3Rvcnkgc3RhdGU/XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoQXBwLmRpc3BsYXlPcHRpb25zLnJvdXRlTmF2aWdhdGlvbiAmJiAhbm9OYXZpZ2F0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0aWwubG9nKCdjb250cm9sLXZpZXcuanM6ICsrKysrKysrKysrKysrKysrIHNpbmNlIHdlIGFyZSBmdWxsc2NyZWVuLCBwdWJsaXNoaW5nIGRldGFpbCByb3V0ZXIgVVJMIHVwZGF0ZSEnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuYWRkQ3VycmVudEhpc3RvcnlTdGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSByZXN1bHQgY2FtZSBiYWNrIGVtcHR5LCBpdCBtaWdodCBoYXZlIGJlZW4gZGVsZXRlZCBvbiB0aGUgc2VydmVyLCBzaG93IGFuIGVycm9yIG1lc3NhZ2UgYW5kIGNsb3NlIGRldGFpbCB2aWV3XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxIYWRFcnJvcnMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHhociwgdGV4dFN0YXR1cykge1xuICAgICAgICAgICAgICAgICAgICB1dGlsLmxvZygnY29udHJvbC12aWV3LmpzOiBEZXRhaWwgWEhSIGZhaWxlZC4nKVxuICAgICAgICAgICAgICAgICAgICBpZiAodGV4dFN0YXR1cyA9PT0gJ2Fib3J0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGRldGFpbEhhZEVycm9ycyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKHhociwgdGV4dFN0YXR1cykge1xuICAgICAgICAgICAgICAgICAgICB1dGlsLmxvZygnY29udHJvbC12aWV3LmpzOiBTZWFyY2ggY29tcGxldGU6ICcgKyB0ZXh0U3RhdHVzKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0U3RhdHVzID09PSAnYWJvcnQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRleHRTdGF0dXMgIT09ICdzdWNjZXNzJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsSGFkRXJyb3JzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzZWxmLmN1cnJlbnREZXRhaWxIdHRwUmVxdWVzdCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXRhaWxIYWRFcnJvcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzID09IDQwMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZGlzcGxheURldGFpbFJlc3VsdChuZXcgUmVzdWx0KHt0eXBlOiAnZXJyb3ItNDAzJ30pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5kaXNwbGF5RGV0YWlsUmVzdWx0KG5ldyBSZXN1bHQoe3R5cGU6ICdlcnJvcid9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICB9LFxuICAgIFxuICAgIC8vIGlkIGlzOiBcIjEuZXZlbnRzLmZvcnVtKnRvbGxlcy1ldmVudFwiXG4gICAgXG4gICAgLyoqIFdpbGwgbGlrZS91bmxpa2UgYSBnaXZlbiByZXN1bHQsIGRlcGVuZGluZyBvbiB0aGUgY3VycmVudCBsaWtlZCBzdGF0dXMgKi9cbiAgICB0cmlnZ2VyUmVzdWx0TGlrZU9yVW5saWtlOiBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgXHR2YXIgc2VsZiA9IHRoaXM7XG4gICAgXHR2YXIgdXJsID0gJy9saWtlZm9sbG93c3Rhci8nXG4gICAgXHRcdFxuICAgIFx0dmFyIGRhdGEgPSB1dGlsLmdldEFQSURhdGFGb3JEaXJlY3RJdGVtSWQocmVzdWx0LmdldCgnaWQnKSk7XG4gICAgXHRpZiAoZGF0YSA9PSBudWxsIHx8ICEocmVzdWx0LmdldCgndHlwZScpID09ICdpZGVhcycgfHwgcmVzdWx0LmdldCgndHlwZScpID09ICdldmVudHMnKSkge1xuICAgIFx0XHR1dGlsLmxvZygnTGlraW5nIGNhbmNlbGxlZCAtIGludmFsaWQgcmVzdWx0IHR5cGUgZm9yIGxpa2luZzogJyArIHJlc3VsdC5nZXQoJ3R5cGUnKSlcbiAgICBcdFx0cmV0dXJuO1xuICAgIFx0fVxuICAgIFx0XG4gICAgXHR2YXIgdG9fbGlrZSA9IHJlc3VsdC5nZXQoJ2xpa2VkJykgPyAnMCcgOiAnMSc7XG4gICAgXHR2YXIgdW5saWtlZF9jb3VudCA9IHJlc3VsdC5nZXQoJ3BhcnRpY2lwYW50X2NvdW50JykgLSAocmVzdWx0LmdldCgnbGlrZWQnKSA/IDEgOiAwKTtcbiAgICBcdGRhdGFbJ2xpa2UnXSA9IHRvX2xpa2U7XG4gICAgXHQvLyBpZiB3ZSB1bmxpa2UgYW4gaWRlYSwgYWxzbyB1bmZvbGxvdyBpdFxuICAgIFx0aWYgKHRvX2xpa2UgPT0gJzAnICYmIHJlc3VsdC5nZXQoJ3R5cGUnKSA9PSAnaWRlYXMnKSB7XG4gICAgXHRcdGRhdGFbJ2ZvbGxvdyddID0gJzAnO1xuICAgIFx0fVxuICAgIFx0XG4gICAgXHR1dGlsLmxvZygnU2VuZGluZyBsaWtlIHJlcXVlc3QgZm9yIHNsdWcgXCInICsgcmVzdWx0LmdldCgnc2x1ZycpICsgJ1wiIGFuZCBsaWtlOiAnICsgdG9fbGlrZSk7XG4gICAgXHR2YXIgbGlrZUhhZEVycm9ycyA9IGZhbHNlO1xuICAgIFx0c2VsZi5jdXJyZW50RGV0YWlsSHR0cFJlcXVlc3QgPSAkLmFqYXgodXJsLCB7XG4gICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICB0aW1lb3V0OiBzZWxmLnNlYXJjaFhIUlRpbWVvdXQsXG4gICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEsIHRleHRTdGF0dXMpIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB1dGlsLmxvZygnZ290IHJlc3VsdHNzc3MgZm9yIGxpa2UnKVxuICAgICAgICAgICAgICAgIHV0aWwubG9nKGRhdGEpXG4gICAgICAgICAgICAgICAgdXRpbC5sb2codGV4dFN0YXR1cylcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAoJ2xpa2VkJyBpbiBkYXRhKSB7XG4gICAgICAgICAgICAgICAgXHQvLyBmb3IgaWRlYXMsIFwicGFydGljaXBhbnRzXCIgYXJlIHRoZSBsaWtlcnNcbiAgICAgICAgICAgICAgICBcdGlmIChyZXN1bHQuZ2V0KCd0eXBlJykgPT0gJ2lkZWFzJykge1xuICAgICAgICAgICAgICAgIFx0XHRyZXN1bHQuc2V0KCdwYXJ0aWNpcGFudF9jb3VudCcsIHVubGlrZWRfY291bnQgKyAoZGF0YS5saWtlZCA/IDEgOiAwKSk7XG4gICAgICAgICAgICAgICAgXHR9XG4gICAgICAgICAgICAgICAgXHQvLyBncmFwaGljcyB1cGRhdGUgaGFwcGVucyBoZXJlLCB2aWEgc3Vic2NyaXB0aW9ucyBvbiBjaGFuZ2U6bGlrZWRcbiAgICAgICAgICAgICAgICBcdHJlc3VsdC5zZXQoJ2xpa2VkJywgZGF0YS5saWtlZCk7XG4gICAgICAgICAgICAgICAgXHRyZXN1bHQuc2V0KCdmb2xsb3dlZCcsIGRhdGEuZm9sbG93ZWQpO1xuXG4gICAgICAgICAgICAgICAgXHQvLyBmb3IgaWRlYXMsIGEgbGlrZSB0cmlnZ2VycyBhIGZvbGxvdywgc28gc2hvdyB0aGUgbm93LWZvbGxvd2luZyBtZXNzYWdlXG4gICAgICAgICAgICAgICAgXHRpZiAocmVzdWx0LmdldCgndHlwZScpID09ICdpZGVhcycgJiYgZGF0YS5mb2xsb3dlZCkge1xuICAgICAgICAgICAgICAgIFx0XHRzZWxmLkFwcC4kZWwuZmluZCgnLm5vdy1mb2xsb3dpbmctbWVzc2FnZScpLnNob3coKTtcbiAgICAgICAgICAgICAgICBcdH1cbiAgICAgICAgICAgICAgICB9IFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCB0ZXh0U3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgdXRpbC5sb2coJ2NvbnRyb2wtdmlldy5qczogTGlrZSBYSFIgZmFpbGVkLicpXG4gICAgICAgICAgICAgICAgbGlrZUhhZEVycm9ycyA9IHRydWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICh4aHIsIHRleHRTdGF0dXMpIHtcbiAgICAgICAgICAgICAgICB1dGlsLmxvZygnY29udHJvbC12aWV3LmpzOiBMaWtlIGNvbXBsZXRlOiAnICsgdGV4dFN0YXR1cyk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKHRleHRTdGF0dXMgIT09ICdzdWNjZXNzJykge1xuICAgICAgICAgICAgICAgIFx0bGlrZUhhZEVycm9ycyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChsaWtlSGFkRXJyb3JzKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJy5saWtlLWJ1dHRvbi1lcnJvcicpLnNob3coKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgXG5cbiAgICAvKiogV2lsbCBmb2xsb3cvdW5mb2xsb3cgYSBnaXZlbiByZXN1bHQsIGRlcGVuZGluZyBvbiB0aGUgY3VycmVudCBmb2xsb3dlZCBzdGF0dXMgKi9cbiAgICB0cmlnZ2VyUmVzdWx0Rm9sbG93T3JVbmZvbGxvdzogZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgIFx0dmFyIHNlbGYgPSB0aGlzO1xuICAgIFx0dmFyIHVybCA9ICcvbGlrZWZvbGxvd3N0YXIvJ1xuICAgIFx0XHRcbiAgICAgICAgdmFyIGRhdGEgPSB1dGlsLmdldEFQSURhdGFGb3JEaXJlY3RJdGVtSWQocmVzdWx0LmdldCgnaWQnKSk7XG5cbiAgICBcdGlmIChkYXRhID09IG51bGwpIHtcbiAgICBcdFx0dXRpbC5sb2coJ0ZvbGxvd2luZyBjYW5jZWxsZWQgLSBpbnZhbGlkIHJlc3VsdCB0eXBlIGZvciBsaWtpbmc6ICcgKyByZXN1bHQuZ2V0KCd0eXBlJykpO1xuICAgIFx0XHRyZXR1cm47XG4gICAgXHR9XG4gICAgXHR2YXIgdG9fZm9sbG93ID0gcmVzdWx0LmdldCgnZm9sbG93ZWQnKSA/ICcwJyA6IDE7XG4gICAgXHRkYXRhWydmb2xsb3cnXSA9IHRvX2ZvbGxvdztcbiAgICBcdFxuICAgIFx0dXRpbC5sb2coJ1NlbmRpbmcgZm9sbG93IHJlcXVlc3QgZm9yIHNsdWcgXCInICsgcmVzdWx0LmdldCgnc2x1ZycpICsgJ1wiIGFuZCBmb2xsb3c6ICcgKyB0b19mb2xsb3cpO1xuICAgIFx0dmFyIGZvbGxvd0hhZEVycm9ycyA9IGZhbHNlO1xuICAgIFx0c2VsZi5jdXJyZW50RGV0YWlsSHR0cFJlcXVlc3QgPSAkLmFqYXgodXJsLCB7XG4gICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICB0aW1lb3V0OiBzZWxmLnNlYXJjaFhIUlRpbWVvdXQsXG4gICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEsIHRleHRTdGF0dXMpIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB1dGlsLmxvZygnZ290IHJlc3VsdHNzc3MgZm9yIGZvbGxvdycpXG4gICAgICAgICAgICAgICAgdXRpbC5sb2coZGF0YSlcbiAgICAgICAgICAgICAgICB1dGlsLmxvZyh0ZXh0U3RhdHVzKVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmICgnZm9sbG93ZWQnIGluIGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnNldCgnZm9sbG93ZWQnLCBkYXRhLmZvbGxvd2VkKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZ3JhcGhpY3MgdXBkYXRlIGhhcHBlbnMgdmlhIHN1YnNjcmlwdGlvbnMgb24gY2hhbmdlOmZvbGxvd2VkXG4gICAgICAgICAgICAgICAgXHRpZiAoZGF0YS5mb2xsb3dlZCkge1xuICAgICAgICAgICAgICAgIFx0XHRzZWxmLkFwcC4kZWwuZmluZCgnLm5vdy1mb2xsb3dpbmctbWVzc2FnZScpLnNob3coKTtcbiAgICAgICAgICAgICAgICBcdH1cbiAgICAgICAgICAgICAgICB9IFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCB0ZXh0U3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgdXRpbC5sb2coJ2NvbnRyb2wtdmlldy5qczogRm9sbG93IFhIUiBmYWlsZWQuJylcbiAgICAgICAgICAgICAgICBmb2xsb3dIYWRFcnJvcnMgPSB0cnVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoeGhyLCB0ZXh0U3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgdXRpbC5sb2coJ2NvbnRyb2wtdmlldy5qczogRm9sbG93IGNvbXBsZXRlOiAnICsgdGV4dFN0YXR1cyk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGV4dFN0YXR1cyAhPT0gJ3N1Y2Nlc3MnKSB7XG4gICAgICAgICAgICAgICAgXHRmb2xsb3dIYWRFcnJvcnMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZm9sbG93SGFkRXJyb3JzKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJy5mb2xsb3ctYnV0dG9uLWVycm9yJykuc2hvdygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIHRyaWdnZXJSZXN1bHRTdGFyT3JVbnN0YXI6IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB2YXIgdXJsID0gJy9saWtlZm9sbG93c3Rhci8nXG5cbiAgICAgICAgdmFyIGRhdGEgPSB1dGlsLmdldEFQSURhdGFGb3JEaXJlY3RJdGVtSWQocmVzdWx0LmdldCgnaWQnKSk7XG4gICAgXHRpZiAoZGF0YSA9PSBudWxsKSB7XG4gICAgXHRcdHV0aWwubG9nKCdNYXJraW5nIGNhbmNlbGxlZCAtIGludmFsaWQgcmVzdWx0IHR5cGUgZm9yIHN0YXJyaW5nOiAnICsgcmVzdWx0LmdldCgndHlwZScpKTtcbiAgICBcdFx0cmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRvX3N0YXIgPSByZXN1bHQuZ2V0KCdzdGFycmVkJykgPyAnMCcgOiAxO1xuICAgICAgICBkYXRhWydzdGFyJ10gPSB0b19zdGFyO1xuXG4gICAgICAgIHV0aWwubG9nKCdTZW5kaW5nIHN0YXIgcmVxdWVzdCBmb3Igc2x1ZyBcIicgKyByZXN1bHQuZ2V0KCdzbHVnJykgKyAnXCIgYW5kIHN0YXI6ICcgKyB0b19zdGFyKTtcblxuICAgICAgICB2YXIgc3RhckhhZEVycm9ycyA9IGZhbHNlO1xuICAgICAgICBzZWxmLmN1cnJlbnREZXRhaWxIdHRwUmVxdWVzdCA9ICQuYWpheCh1cmwsIHtcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgIHRpbWVvdXQ6IHNlbGYuc2VhcmNoWEhSVGltZW91dCxcbiAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSwgdGV4dFN0YXR1cykge1xuXG4gICAgICAgICAgICAgICAgdXRpbC5sb2coJ2dvdCByZXN1bHRzc3NzIGZvciBzdGFyJylcbiAgICAgICAgICAgICAgICB1dGlsLmxvZyhkYXRhKVxuICAgICAgICAgICAgICAgIHV0aWwubG9nKHRleHRTdGF0dXMpXG5cbiAgICAgICAgICAgICAgICBpZiAoJ3N0YXJyZWQnIGluIGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnNldCgnc3RhcnJlZCcsIGRhdGEuc3RhcnJlZCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIHRleHRTdGF0dXMpIHtcbiAgICAgICAgICAgICAgICB1dGlsLmxvZygnY29udHJvbC12aWV3LmpzOiBTdGFyIFhIUiBmYWlsZWQuJylcbiAgICAgICAgICAgICAgICBzdGFySGFkRXJyb3JzID0gdHJ1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKHhociwgdGV4dFN0YXR1cykge1xuICAgICAgICAgICAgICAgIHV0aWwubG9nKCdjb250cm9sLXZpZXcuanM6IFN0YXIgY29tcGxldGU6ICcgKyB0ZXh0U3RhdHVzKTtcblxuICAgICAgICAgICAgICAgIGlmICh0ZXh0U3RhdHVzICE9PSAnc3VjY2VzcycpIHtcbiAgICAgICAgICAgICAgICBcdHN0YXJIYWRFcnJvcnMgID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHN0YXJIYWRFcnJvcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnLnN0YXItYnV0dG9uLWVycm9yJykuc2hvdygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cblxuICAgIH0sXG4gICAgLyoqIENhbGxlZCBtYW51YWxseSBvciBkZWZlcnJlZGx5IGFmdGVyIGxvYWRpbmcgYSBSZXN1bHQgZnJvbSB0aGUgc2VydmVyLFxuICAgICAqICB0byBiZSBzaG93biBhcyB0aGUgRGV0YWlsIFZpZXcuXG4gICAgICogIEBwYXJhbSByZXN1bHQ6IFRoaXMgbXVzdCBiZSAqYSBkZXRhaWxlZCogUmVzdWx0IG1vZGVsLCBvciBudWxsIVxuICAgICAqICBDYWxsaW5nIHRoaXMgd2l0aCBgbnVsbGAgYXMgcGFyYW1ldGVyIGNsb3NlcyBhbnkgb3BlbiBkZXRhaWwgdmlldy4gKi9cbiAgICBkaXNwbGF5RGV0YWlsUmVzdWx0OiBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgIC8vIHdlIHNpbXBseSB1bnNlbGVjdCB0aGUgY3VycmVudCByZXN1bHRcbiAgICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgICAgIHRoaXMuX3NldFNlbGVjdGVkUmVzdWx0KG51bGwpO1xuICAgICAgICAgICAgdGhpcy5kZXRhaWxSZXN1bHQgPSBudWxsO1xuICAgICAgICAgICAgQmFja2JvbmUubWVkaWF0b3IucHVibGlzaCgncmVzdWx0OmRldGFpbC1jbG9zZWQnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gdHJ5IHRvIGZpbmQgdGhlIHJlc3VsdCB3aXRoIHRoaXMgc2hvcnQgaWQgaW4gb3VyIGNvbGxlY3Rpb24gYW5kIHNldCBpdCB0byBzZWxlY3RlZFxuICAgICAgICB2YXIgY29sbGVjdGlvbk1vZGVsID0gdGhpcy5jb2xsZWN0aW9uLmdldChyZXN1bHQuaWQpO1xuICAgICAgICBpZiAoY29sbGVjdGlvbk1vZGVsKSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRTZWxlY3RlZFJlc3VsdChjb2xsZWN0aW9uTW9kZWwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fc2V0U2VsZWN0ZWRSZXN1bHQobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcHVibGlzaCB0aGUgb3BlbmluZyBpbnRlbnQgZm9yIHRoZSBkZXRhaWwgdmlldyAoaXQgZG9lcyBub3QgbmVlZCB0byBiZSBpbiBvdXIgY29sbGVjdGlvbilcbiAgICAgICAgdGhpcy5kZXRhaWxSZXN1bHQgPSByZXN1bHQ7XG4gICAgICAgIEJhY2tib25lLm1lZGlhdG9yLnB1Ymxpc2goJ3Jlc3VsdDpkZXRhaWwtb3BlbmVkJywgcmVzdWx0KTtcbiAgICB9LFxuICAgIFxuICAgIC8qKiBTdGF0ZSBzd2l0Y2hlciBmb3IgdGhlIGZpbHRlciBmcmFtZSAqL1xuICAgIHRvZ2dsZUZpbHRlclBhbmVsOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmZpbHRlclBhbmVsVmlzaWJsZSkge1xuICAgICAgICAgICAgdGhpcy5oaWRlRmlsdGVyUGFuZWwoZXZlbnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zaG93RmlsdGVyUGFuZWwoZXZlbnQpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKiBTdGF0ZSBzd2l0Y2hlciBmb3IgdGhlIGZpbHRlciBmcmFtZSAqL1xuICAgIHNob3dGaWx0ZXJQYW5lbDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXRlLmZpbHRlclBhbmVsVmlzaWJsZSA9IHRydWU7XG4gICAgICAgIHRoaXMuJGVsLmZpbmQoJy5tYXAtY29udHJvbHMtZmlsdGVycycpLnNsaWRlRG93bigyNTApO1xuICAgICAgICB0aGlzLiRlbC5maW5kKCcuaWNvbi1maWx0ZXJzJykuYWRkQ2xhc3MoJ29wZW4nKTtcbiAgICAgICAgdGhpcy4kZWwucGFyZW50cygpLmZpbmQoJy5jb250cm9scycpLmFkZENsYXNzKCdvcGVuJyk7XG4gICAgICAgIHRoaXMudG9nZ2xlRGF0ZVRpbWVQaWNrZXIoKTtcbiAgICB9LFxuXG4gICAgLyoqIFN0YXRlIHN3aXRjaGVyIGZvciB0aGUgZmlsdGVyIGZyYW1lICovXG4gICAgaGlkZUZpbHRlclBhbmVsOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhdGUuZmlsdGVyUGFuZWxWaXNpYmxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuJGVsLmZpbmQoJy5tYXAtY29udHJvbHMtZmlsdGVycycpLnNsaWRlVXAoMjUwKTtcbiAgICAgICAgdGhpcy4kZWwuZmluZCgnLmljb24tZmlsdGVycycpLnJlbW92ZUNsYXNzKCdvcGVuJyk7XG4gICAgICAgIHRoaXMuJGVsLnBhcmVudHMoKS5maW5kKCcuY29udHJvbHMnKS5yZW1vdmVDbGFzcygnb3BlbicpO1xuICAgIH0sXG4gICAgXG4gICAgaGFuZGxlVHlwaW5nOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBpZiAodXRpbC5pc0lnbm9yYWJsZUtleShldmVudCkpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5tYXJrU2VhcmNoQm94U2VhcmNoYWJsZSgpO1xuICAgIH0sXG4gICAgXG4gICAgaGFuZGxlS2V5RG93bjogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IDEzKSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyUXVlcnlTZWFyY2goKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgXG4gICAgbWFya1NlYXJjaEJveFNlYXJjaGFibGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gdHJpZ2dlciB0aGlzIHdoZW4gbmV3IGRhdGEvc3RhdGVzIGFyZSBlbnRlcmVkIHRvIGVuYWJsZSB0aGUgc2VhcmNoIGJ1dHRvblxuICAgICAgICB0aGlzLiRlbC5maW5kKCcuaWNvbi1zZWFyY2gnKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgIHRoaXMuJGVsLmZpbmQoJy5idXR0b24tc2VhcmNoJykucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgfSxcblxuICAgIGhhbmRsZVN0YXJ0U2VhcmNoOiBmdW5jdGlvbiAoc2VhcmNoUmVhc29uKSB7XG4gICAgICAgIHRoaXMuJGVsLmZpbmQoJy5pY29uLWxvYWRpbmcnKS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgIHRoaXMuJGVsLmZpbmQoJy5pY29uLXJlc2V0JykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICB0aGlzLiRlbC5maW5kKCcucScpLmJsdXIoKTtcbiAgICAgICAgLy8gZGlzYWJsZSBpbnB1dCBpbiBjb250ZW50IHZpZXdzIGR1cmluZyBzZWFyY2ggKHVwIHRvIHRoZSB2aWV3cyB0byBkZWNpZGUgd2hhdCB0byBkaXNhYmxlKVxuICAgICAgICAvLyBleGNlcHQgaWYgd2UgYXJlIG9ubHkgYWRkaW5nIHNvbWUgcmVzdWx0cyBhZnRlciBhbiBpbmZpbml0ZSBzY3JvbGwgZXZlbnRcbiAgICAgICAgaWYgKCEodGhpcy5vcHRpb25zLnBhZ2luYXRpb25Db250cm9sc1VzZUluZmluaXRlU2Nyb2xsICYmIHNlYXJjaFJlYXNvbiA9PSAncGFnaW5hdGUtc2VhcmNoJykpIHtcbiAgICAgICAgXHRfLmVhY2godGhpcy5BcHAuY29udGVudFZpZXdzLCBmdW5jdGlvbih2aWV3KXtcbiAgICAgICAgXHRcdHZpZXcuZGlzYWJsZUlucHV0KCk7XG4gICAgICAgIFx0fSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgfSxcblxuICAgIGhhbmRsZUVuZFNlYXJjaDogZnVuY3Rpb24gKHNlYXJjaFJlYXNvbikge1xuICAgICAgICB0aGlzLiRlbC5maW5kKCcuaWNvbi1sb2FkaW5nJykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICB0aGlzLiRlbC5maW5kKCcuaWNvbi1yZXNldCcpLnRvZ2dsZUNsYXNzKCdoaWRkZW4nLCAoIXRoaXMuc3RhdGUuZmlsdGVyc0FjdGl2ZSAmJiAhdGhpcy5zdGF0ZS5xKSk7XG4gICAgICAgIC8vIGVuYWJsZSBpbnB1dCBpbiBjb250ZW50IHZpZXdzIGR1cmluZyBzZWFyY2ggKHVwIHRvIHRoZSB2aWV3cyB0byBkZWNpZGUgd2hhdCB0byBlbmFibGUpXG4gICAgICAgIF8uZWFjaCh0aGlzLkFwcC5jb250ZW50Vmlld3MsIGZ1bmN0aW9uKHZpZXcpe1xuICAgICAgICAgICAgdmlldy5lbmFibGVJbnB1dCgpO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqIENhbGxlZCB3aGVuIHRoZSBBcHAgaXMgZnVsbHkgbG9hZGVkIGZvciB0aGUgZmlyc3QgdGltZS5cbiAgICAgKiBcdFRoaXMgaXMgdGhlIGluaXRpYWwgc2VhcmNoLlxuICAgICAqICAgICBXQVJOSU5HOiBEdWUgdG8gdGhlIHRocmVhZGVkIGFmdGVyX3JlbmRlcigpIG1ldGhvZCwgdGhpcyBtYXlcbiAgICAgKiAgICAgICAgIGN1cnJlbnRseSBhY3R1YWxseSBoYXBwZW4gYmVmb3JlIGEgZnVsbCBsb2FkLlxuICAgICAqICAqL1xuICAgIGhhbmRsZUFwcFJlYWR5OiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdXRpbC5sb2coJ2NvbnRyb2wtdmlldy5qczogYXBwIGlzIHJlYWR5IHRvIHNlYXJjaC4gc3RhcnRpbmcgc2VhcmNoIGZyb20gVVJMIScpXG4gICAgICAgIHRoaXMudHJpZ2dlclNlYXJjaEZyb21VcmwoKTtcbiAgICB9LFxuICAgIFxuICAgIC8qKiBFeGVjdXRlZCAqZXZlcnkgdGltZSogYWZ0ZXIgcmVuZGVyICovXG4gICAgYWZ0ZXJSZW5kZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBwYWdpbmF0aW9uIGNvbnRyb2wgdmlldyBpZiBub3QgZXhpc3RzXG4gICAgICAgIGlmICghc2VsZi5wYWdpbmF0aW9uQ29udHJvbFZpZXcgJiYgc2VsZi5vcHRpb25zLnBhZ2luYXRpb25Db250cm9sc0VuYWJsZWQgJiYgc2VsZi5BcHAudGlsZUxpc3RWaWV3KSB7XG4gICAgICAgICAgICBzZWxmLnBhZ2luYXRpb25Db250cm9sVmlldyA9IG5ldyBQYWdpbmF0aW9uQ29udHJvbFZpZXcoe1xuICAgICAgICAgICAgICAgIG1vZGVsOiBudWxsLFxuICAgICAgICAgICAgICAgIGVsOiBzZWxmLkFwcC50aWxlTGlzdFZpZXcuJGVsLmZpbmQoJy5wYWdpbmF0aW9uLWNvbnRyb2xzJyksXG4gICAgICAgICAgICAgICAgZnVsbHNjcmVlbjogc2VsZi5BcHAuZGlzcGxheU9wdGlvbnMuZnVsbHNjcmVlbixcbiAgICAgICAgICAgICAgICBzcGxpdHNjcmVlbjogc2VsZi5BcHAuZGlzcGxheU9wdGlvbnMuc2hvd01hcCAmJiBzZWxmLkFwcC5kaXNwbGF5T3B0aW9ucy5zaG93VGlsZXNcbiAgICAgICAgICAgIH0sIFxuICAgICAgICAgICAgc2VsZi5BcHAsXG4gICAgICAgICAgICBzZWxmXG4gICAgICAgICAgICApLnJlbmRlcigpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc2VsZi5tb2JpbGVDb250cm9sVmlldykge1xuICAgICAgICAgICAgLy8gcmVuZGVyIG1vYmlsZSB2aWV3IGJ1dHRvbnNcbiAgICAgICAgICAgIHNlbGYubW9iaWxlQ29udHJvbFZpZXcgPSBuZXcgTW9iaWxlQ29udHJvbFZpZXcoe1xuICAgICAgICAgICAgICAgIG1vZGVsOiBudWxsLFxuICAgICAgICAgICAgICAgIGVsUGFyZW50OiBzZWxmLkFwcC5lbCxcbiAgICAgICAgICAgIH0sIFxuICAgICAgICAgICAgc2VsZi5BcHAsXG4gICAgICAgICAgICBzZWxmXG4gICAgICAgICAgICApLnJlbmRlcigpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkYXRlVGltZVBpY2tlciA9ICQoJyNkYXRlLXRpbWUtZmlsdGVyJyk7XG4gICAgICAgIGRhdGVUaW1lUGlja2VyLmZpbmQoJyNpZF9zdGFydF8wJykudmFsKHRoaXMuc3RhdGUuZnJvbURhdGUpO1xuICAgICAgICBkYXRlVGltZVBpY2tlci5maW5kKCcjaWRfc3RhcnRfMScpLnZhbCh0aGlzLnN0YXRlLmZyb21UaW1lKTtcbiAgICAgICAgZGF0ZVRpbWVQaWNrZXIuZmluZCgnI2lkX2VuZF8wJykudmFsKHRoaXMuc3RhdGUudG9EYXRlKTtcbiAgICAgICAgZGF0ZVRpbWVQaWNrZXIuZmluZCgnI2lkX2VuZF8xJykudmFsKHRoaXMuc3RhdGUudG9UaW1lKTtcbiAgICAgICAgdGhpcy50b2dnbGVEYXRlVGltZVBpY2tlcigpO1xuICAgIH0sXG4gICAgXG4gICAgLyoqXG4gICAgICogTGV0IGFsbCBjb250ZW50IHZpZXdzIHBhcnNlIHRoZSBVUkwgcGFyYW1ldGVycyB0aGV5IGFyZSBpbnRlcmVzdGVkIGluLCBhbmQgdGhlbiBzdGFydCBcbiAgICAgKiBhIGZyZXNoIHNlYXJjaC5cbiAgICAgKi9cbiAgICB0cmlnZ2VyU2VhcmNoRnJvbVVybDogZnVuY3Rpb24gKG5vTmV3TmF2aWdhdGVFdmVudCkge1xuICAgICAgICB0aGlzLnJlc2V0QWxsKCk7XG4gICAgICAgIHZhciB1cmxQYXJhbXMgPSB0aGlzLnBhcnNlVXJsKHdpbmRvdy5sb2NhdGlvbi5ocmVmLnJlcGxhY2Uod2luZG93LmxvY2F0aW9uLm9yaWdpbiwgJycpKTtcbiAgICAgICAgLy8gaWYgaW5maW5pdGUgc2Nyb2xsIGlzIGVuYWJsZWQsIGFsd2F5cyBzaG93IHRoZSBpbml0aWFsIHBhZ2UsIHVuc2Nyb2xsZWQgYW5kIHVucGFnaW5hdGVkXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucGFnaW5hdGlvbkNvbnRyb2xzVXNlSW5maW5pdGVTY3JvbGwgJiYgJ3BhZ2UnIGluIHVybFBhcmFtcykge1xuICAgICAgICBcdGRlbGV0ZSB1cmxQYXJhbXMucGFnZTtcbiAgICAgICAgfVxuICAgICAgICBfLmVhY2godGhpcy5BcHAuY29udGVudFZpZXdzLCBmdW5jdGlvbih2aWV3KXtcbiAgICAgICAgICAgIHZpZXcuYXBwbHlVcmxTZWFyY2hQYXJhbWV0ZXJzKHVybFBhcmFtcyk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRldGVybWluZUFjdGl2ZUZpbHRlclN0YXR1c2VzKCk7XG4gICAgICAgIC8vIENoZWNrIGlmIG1hdGNoaW5nIGVuYWJsZWQgYW5kIG1hdGNoaW5nIG9iamVjdCBnaXZlblxuICAgICAgICBpZiAoQ09TSU5OVVNfTUFUQ0hJTkdfRU5BQkxFRCAmJiB0aGlzLnN0YXRlLm1hdGNoaW5nKSB7XG4gICAgICAgICAgICBfLmV4dGVuZCh0aGlzLm9wdGlvbnMsIHRoaXMuZ2V0TWF0Y2hpbmdPcHRpb25zKCkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgIHRoaXMudHJpZ2dlckRlbGF5ZWRTZWFyY2godHJ1ZSwgdHJ1ZSwgbm9OZXdOYXZpZ2F0ZUV2ZW50LCAnaW5pdGlhbC1zZWFyY2gnKTtcbiAgICB9LFxuICAgIFxuICAgIC8qKlxuICAgICAqIFRoZSBjb250ZXh0IGNhbiBjb250YWluIGByZWFzb25gIGZvciBhIHNpZ25hbCBmb3Igb3V0LW9mLWRhdGUgcmVzdWx0IHNldHM6XG4gICAgICogLSB2aWV3cG9ydC1jaGFuZ2VkOiBUaGUgbWFwIHdhcyBzY3JvbGxlZCBvciB3aW5kb3cgd2FzIHJlc2l6ZWRcbiAgICAgKiAtIG1hcC1uYXZpZ2F0ZTogUm91dGVyIG5hdmlnYXRlIG9uIHRoZSBtYXAgKG5vdCBjYWxsZWQgZHVyaW5nIGluaXRpYWwgbmF2aWdhdGlvbilcbiAgICAgKiAtIC4uLlxuICAgICAqL1xuICAgIGhhbmRsZVN0YWxlUmVzdWx0czogZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgaWYgKGNvbnRleHQucmVhc29uID09ICd2aWV3cG9ydC1jaGFuZ2VkJykge1xuICAgICAgICAgICAgdXRpbC5sb2coJyoqKiBjb250cm9sLXZpZXcuanM6IFJlY2VpdmVkIHNpZ25hbCBmb3Igc3RhbGUgcmVzdWx0cyBiYyBvZiB2aWV3cG9ydCBjaGFuZ2UnKVxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRleHQucmVhc29uID09ICdtYXAtbmF2aWdhdGUnKSB7XG4gICAgICAgICAgICB1dGlsLmxvZygnKioqIGNvbnRyb2wtdmlldy5qczogUmVjZWl2ZWQgc2lnbmFsIGZvciBzdGFsZSByZXN1bHRzIGJjIG9mIG1hcC1uYXZpZ2F0ZScpXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIHByZXZlbnQgcmVmcmVzaGluZyByZXN1bHRzIG9uIHZpZXdwb3J0IGNoYW5nZXMgd2hlbiB0aGUgbW9iaWxlIHZpZXcgc2VhcmNoIHBhbmVsIGlzIG9wZW4sXG4gICAgICAgIC8vIGFzIHRoaXMgaXMgdHJpZ2dlcmVkIGJ5IG9uc2NyZWVuIGtleWJvYXJkcyBhbmQgbGVhZHMgdG8gY2hvcHB5IGJlaGF2aW91clxuICAgICAgICBpZiAoY29udGV4dC5yZWFzb24gPT0gJ3ZpZXdwb3J0LWNoYW5nZWQnICYmIHRoaXMuQXBwLiRlbC5oYXNDbGFzcygnbW9iaWxlLXZpZXctc2VhcmNoJykpIHtcbiAgICAgICAgXHR1dGlsLmxvZygnKioqIGNvbnRyb2wtdmlldy5qczogUHJldmVudGVkIHJlZnJlc2ggb2YgcmVzdWx0cyB3aGlsZSBzZWFyY2ggcGFuZWwgaXMgb3Blbi4nKVxuICAgICAgICBcdHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdmFyIHN0YWxlQmVmb3JlID0gdGhpcy5zdGF0ZS5yZXN1bHRzU3RhbGU7XG4gICAgICAgIHRoaXMuc3RhdGUucmVzdWx0c1N0YWxlID0gdHJ1ZTtcbiAgICAgICAgXG4gICAgICAgIGlmIChjb250ZXh0LnJlYXNvbiA9PSAnbWFwLW5hdmlnYXRlJykge1xuICAgICAgICAgICAgLy8gb24gYSBuYXZpZ2F0ZSBldmVudCB3ZSBoYXZlIHRvIHJlLXJlYWQgdGhlIFVSTCAoYnV0IGFkZCBubyBoaXN0b3J5IHN0YXRlKVxuICAgICAgICAgICAgdGhpcy50cmlnZ2VyU2VhcmNoRnJvbVVybCh0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHNlYXJjaCBvciBkbyBub3RoaW5nLCBkZXBlbmRpbmcgb24gaWYgd2UgcmUtc2VhcmNoIG9uIHNjcm9sbFxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuc2VhcmNoT25TY3JvbGwpIHtcbiAgICAgICAgICAgICAgICAvLyBjaGVjayBiZWZvcmUgYXV0by1yZXJlbmRlcmluZyB0aGF0IHRoZSBpbnB1dC1ib3ggaXMgbm90IGZvY3VzZWQhXG4gICAgICAgICAgICAgICAgLy8gaWYgc28sIG9uIG1vYmlsZSB0aGlzIHNlYXJjaCB3b3VsZCBwdWxsIGRvd24gdGhlIGtleWJvYXJkXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLiRlbC5maW5kKCcucScpLmlzKFwiOmZvY3VzXCIpKSB7XG4gICAgICAgICAgICAgICAgXHR2YXIgbm9QYWdpbmF0aW9uUmVzZXQgPSBjb250ZXh0LnJlYXNvbiA9PSAndmlld3BvcnQtY2hhbmdlZCc7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlckRlbGF5ZWRTZWFyY2goZmFsc2UsIG5vUGFnaW5hdGlvblJlc2V0LCBmYWxzZSwgY29udGV4dC5yZWFzb24pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHV0aWwubG9nKCdjb250cm9sLXZpZXcuanM6IFByZXZlbnRlZCBhIHNlYXJjaCB3aGlsZSBpbnB1dCBpcyBmb2N1c2VkIScpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyByZS1yZW5kZXIgY29udHJvbHMgc28gdGhlIG1hbnVhbCBzZWFyY2ggYnV0dG9uIHdpbGwgYmUgZW5hYmxlZFxuICAgICAgICAgICAgICAgIGlmICghc3RhbGVCZWZvcmUpIHtcbiAgICAgICAgICAgICAgICBcdGlmICh0aGlzLnBhZ2luYXRpb25Db250cm9sVmlldykge1xuICAgICAgICAgICAgICAgIFx0XHR0aGlzLnBhZ2luYXRpb25Db250cm9sVmlldy5yZW5kZXIoKTtcbiAgICAgICAgICAgICAgICBcdH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIFxuICAgIC8qKiBBZGRzIHRoZSBjdXJyZW50IHNlYXJjaCBzdGF0ZSwgaW5jbHVkaW5nIGFsbCBwYXJhbWV0ZXJzIGFuZCBkZXRhaWwgdmlldyBzdGF0ZSBcbiAgICAgKiAgYXMgYSBVUkwgaGlzdG9yeSBzdGF0ZS5cbiAgICAgKi9cbiAgICBhZGRDdXJyZW50SGlzdG9yeVN0YXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgQmFja2JvbmUubWVkaWF0b3IucHVibGlzaCgnbmF2aWdhdGU6cm91dGVyJywgc2VsZi5idWlsZFNlYXJjaFF1ZXJ5VVJMKGZhbHNlKS5yZXBsYWNlKHNlbGYuc2VhcmNoRW5kcG9pbnRVUkwsICcvJykpXG4gICAgfSxcbiAgICBcbiAgICAvLyBjYWxsZWQgd2l0aCBhIGxpc3Qgb2YgZGljdHMgb2YgcmVzdWx0cyBmcmVzaGx5IHJldHVybmVkIGFmdGVyIGEgc2VhcmNoXG4gICAgcHJvY2Vzc1NlYXJjaFJlc3VsdHM6IGZ1bmN0aW9uIChqc29uUmVzdWx0TGlzdCwgc2VhcmNoUmVhc29uKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgXG4gICAgICAgIHZhciByZXN1bHRNb2RlbHMgPSBbXTtcbiAgICAgICAgXy5lYWNoKGpzb25SZXN1bHRMaXN0LCBmdW5jdGlvbihyZXMpe1xuICAgICAgICAgICAgdmFyIG5ld21vZCA9IG5ldyBSZXN1bHQocmVzKTtcbiAgICAgICAgICAgIHJlc3VsdE1vZGVscy5wdXNoKG5ld21vZCk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyB0YWtlIHRoZSBjdXJyZW50IHNlbGVjdGVkIG1vZGVsIGFuZCBjaGVjayBpZiBpdCBpcyBpbiB0aGUgbmV3IHJlc3VsdCBsaXN0XG4gICAgICAgIC8vIGlmIHNvLCBzZXQgdGhhdCB0byBzZWxlY3RlZFxuICAgICAgICAvLyBpZiBub3Q6IGFkZCBpdCB0byBpdFxuICAgICAgICBpZiAoc2VsZi5zZWxlY3RlZFJlc3VsdCkge1xuICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gcmVzdWx0TW9kZWxzLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5pZDt9KS5pbmRleE9mKHNlbGYuc2VsZWN0ZWRSZXN1bHQuaWQpO1xuICAgICAgICAgICAgaWYgKHBvc2l0aW9uID4gLTEpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRNb2RlbHNbcG9zaXRpb25dLnNldCgnc2VsZWN0ZWQnLCB0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0TW9kZWxzLnB1c2goc2VsZi5zZWxlY3RlZFJlc3VsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGFrZSB0aGUgY3VycmVudCBob3ZlcmVkIG1vZGVsIGFuZCBjaGVjayBpZiBpdCBpcyBpbiB0aGUgbmV3IHJlc3VsdCBsaXN0XG4gICAgICAgIC8vIGlmIHNvLCBzZXQgdGhhdCB0byBob3ZlcmVkXG4gICAgICAgIC8vIGlmIG5vdDogYWRkIGl0IHRvIGl0XG4gICAgICAgIGlmIChzZWxmLmhvdmVyZWRSZXN1bHQpIHtcbiAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IHJlc3VsdE1vZGVscy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWQ7fSkuaW5kZXhPZihzZWxmLmhvdmVyZWRSZXN1bHQuaWQpO1xuICAgICAgICAgICAgaWYgKHBvc2l0aW9uID4gLTEpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRNb2RlbHNbcG9zaXRpb25dLnNldCgnaG92ZXJlZCcsIHRydWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXN1bHRNb2RlbHMucHVzaChzZWxmLmhvdmVyZWRSZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB1dGlsLmxvZygnY29udHJvbC12aWV3LmpzOnByb2Nlc3NTZWFyY2hSZXN1bHRzOiBjaGVjayB0aGF0IHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgb2JqZWN0IGlzIGtlcHQgaW4gdGhlIGNvbGxlY3Rpb24hJylcbiAgICAgICAgdXRpbC5sb2coJ2NvbnRyb2wtdmlldy5qczogZ290IHRoZSByZXN1bHRzIGJhY2sgYW5kIHVwZGF0ZWQgdGhlIGNvbGxlY3Rpb24hJylcbiAgICAgICAgdXRpbC5sb2coc2VsZi5jb2xsZWN0aW9uLnRvSlNPTigpKTtcbiAgICAgICAgXG4gICAgICAgIC8vIGlmIGluZmluaXRlLXNjcm9sbCBpcyBhY3RpdmUsIGFuZCB0aGlzIHNlYXJjaCBoYXMgYmVlbiB0cmlnZ2VyZWQgYnkgYSBwYWdpbmF0ZSBldmVudCxcbiAgICAgICAgLy8gd2UgYWRkIHRoZSByZXN1bHRzIHRvIHRoZSBjb2xsZWN0aW9uIGluc3RlYWQgb2YgcmVwbGFjaW5nIHRoZW0uXG4gICAgICAgIGlmIChzZWxmLm9wdGlvbnMucGFnaW5hdGlvbkNvbnRyb2xzVXNlSW5maW5pdGVTY3JvbGwgJiYgc2VhcmNoUmVhc29uID09ICdwYWdpbmF0ZS1zZWFyY2gnKSB7XG4gICAgICAgIFx0c2VsZi5jb2xsZWN0aW9uLmFkZChyZXN1bHRNb2RlbHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICBcdHNlbGYuY29sbGVjdGlvbi5yZXNldChyZXN1bHRNb2RlbHMpO1xuICAgICAgICBcdFxuICAgICAgICBcdC8vIGlmIHdlIGhhZCBhIG5hdmlnYXRlIGV2ZW50IGFuZCB3ZSBzdGlsbCBoYXZlIGEgZGV0YWlsLXZpZXcgb3BlbiwgYnV0IGl0J3Mgbm90IGluIHRoZSBVUkwsIGNsb3NlIGl0XG4gICAgICAgIFx0Ly8gaGFwcGVucyBvbiBiYWNrL2ZvcndhcmQgYnV0dG9ucywgYnV0IGFsc28gb24gc2Nyb2xsIGV2ZW50cyAod2hlcmUgd2UgZG9uJ3Qgd2FudCB0byBjbG9zZSB0aGUgZGV0YWlsIHZpZXcpXG4gICAgICAgIFx0aWYgKHNlbGYuZGV0YWlsUmVzdWx0ICYmICFzZWxmLnN0YXRlLnVybFNlbGVjdGVkUmVzdWx0SWQgJiYgIShzZWFyY2hSZWFzb24gPT0gJ3ZpZXdwb3J0LWNoYW5nZWQnKSkge1xuICAgICAgICBcdFx0c2VsZi5kaXNwbGF5RGV0YWlsUmVzdWx0KG51bGwpO1xuICAgICAgICBcdH0gXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIGlmIG91ciBVUkwgcG9pbnRzIGRpcmVjdGx5IGF0IGFuIGl0ZW0sIHNlbGVjdCBpdC5cbiAgICAgICAgLy8gdGhlIEFQSSBzaG91bGQgdGFrZSBjYXJlIHRoYXQgaXQgaXMgKmFsd2F5cyogaW4gdGhlIHJlc3VsdCBzZXRcbiAgICAgICAgaWYgKHNlbGYuc3RhdGUudXJsU2VsZWN0ZWRSZXN1bHRJZCAmJiAoIXNlbGYuZGV0YWlsUmVzdWx0IHx8IHNlbGYuc3RhdGUudXJsU2VsZWN0ZWRSZXN1bHRJZCAhPSBzZWxmLmRldGFpbFJlc3VsdC5pZCkpIHtcbiAgICAgICAgICAgIHNlbGYub25SZXN1bHRMaW5rQ2xpY2tlZChudWxsLCBzZWxmLnN0YXRlLnVybFNlbGVjdGVkUmVzdWx0SWQsIHRydWUpO1xuICAgICAgICAgICAgc2VsZi5zdGF0ZS51cmxTZWxlY3RlZFJlc3VsdElkID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICB9LFxuICAgIFxuICAgIC8vIHB1YmxpYyBmdW5jdGlvbnNcbiAgICBcbiAgICAvKipcbiAgICAgKiBXaWxsIHNldCBhIG5ldyBzZWxlY3RlZCByZXN1bHQgYW5kIHVuLXNldCB0aGUgb2xkIG9uZS5cbiAgICAgKiBJZiByZXN1bHQgPT0gbnVsbCwgd2lsbCBqdXN0IHVuLXNldCB0aGUgY3VycmVudCBvbmUuXG4gICAgICovXG4gICAgX3NldFNlbGVjdGVkUmVzdWx0OiBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGVkUmVzdWx0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIC8vIHVuc2VsZWN0IHByZXZpb3VzbHkgc2VsZWN0ZWQgcmVzdWx0XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkUmVzdWx0LnNldCgnc2VsZWN0ZWQnLCBmYWxzZSk7XG4gICAgICAgICAgICBpZiAocmVzdWx0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyB3ZSdyZSBpbnN0YW50bHkgc2VsZWN0aW5nIGEgbmV3IHJlc3VsdFxuICAgICAgICAgICAgICAgIEJhY2tib25lLm1lZGlhdG9yLnB1Ymxpc2goJ3Jlc3VsdDpyZXNlbGVjdGVkJywgcmVzdWx0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8ganVzdCB1bnNlbGVjdGluZywgd2l0aG91dCBzZWxlY3RpbmcgYSBuZXcgcmVzdWx0XG4gICAgICAgICAgICAgICAgQmFja2JvbmUubWVkaWF0b3IucHVibGlzaCgncmVzdWx0OnVuc2VsZWN0ZWQnLCB0aGlzLnNlbGVjdGVkUmVzdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQgIT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gd2Ugc2VsZWN0IGEgbmV3IHJlc3VsdCB3aXRob3V0IGEgcHJldmlvdXMgb25lIGhhdmluZyBiZWVuIHNlbGVjdGVkXG4gICAgICAgICAgICBCYWNrYm9uZS5tZWRpYXRvci5wdWJsaXNoKCdyZXN1bHQ6c2VsZWN0ZWQnLCByZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRSZXN1bHQgPSByZXN1bHQ7XG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGVkUmVzdWx0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRSZXN1bHQuc2V0KCdzZWxlY3RlZCcsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5zZXRIb3ZlcmVkUmVzdWx0KG51bGwpOyAvLyBhbHdheXMgdW5ob3ZlciBvbiBzZWxlY3RcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLyoqIHRoaXMgbm8gbG9uZ2VyIGhhcyBhbnkgdmFsaWRpdHlcbiAgICAgICAgICAgIC8vIHNlbGVjdGluZyBhIHJlc3VsdCBjaGFuZ2VzIHRoZSBVUkwgc28gcmVzdWx0cyBjYW4gYmUgZGlyZWN0bHkgbGlua2VkXG4gICAgICAgICAgICBpZiAoQXBwLmRpc3BsYXlPcHRpb25zLnJvdXRlTmF2aWdhdGlvbikge1xuICAgICAgICAgICAgICAgIHZhciBuZXdVcmwgPSB0aGlzLmJ1aWxkU2VhcmNoUXVlcnlVUkwoZmFsc2UpLnJlcGxhY2UodGhpcy5zZWFyY2hFbmRwb2ludFVSTCwgdGhpcy5vcHRpb25zLmJhc2VQYWdlVVJMKTtcbiAgICAgICAgICAgICAgICBBcHAucm91dGVyLnJlcGxhY2VVcmwobmV3VXJsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICovXG4gICAgICAgIH1cbiAgICB9LFxuICAgIFxuICAgIC8qKlxuICAgICAqIFdpbGwgc2V0IGEgbmV3IGhvdmVyZWQgcmVzdWx0IGFuZCB1bi1zZXQgdGhlIG9sZCBvbmUuXG4gICAgICogSWYgcmVzdWx0ID09IG51bGwsIHdpbGwganVzdCB1bi1zZXQgdGhlIGN1cnJlbnQgb25lLlxuICAgICAqL1xuICAgIHNldEhvdmVyZWRSZXN1bHQ6IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQgPT0gdGhpcy5zZWxlY3RlZFJlc3VsdCkge1xuICAgICAgICAgICAgcmV0dXJuOyAvLyBwcmV2ZW50IHNldHRpbmcgaG92ZXJlZCBzdGF0ZSBvbiB0aGUgY3VycmVudGx5IHNlbGVjdGVkIHJlc3VsdFxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmhvdmVyZWRSZXN1bHQgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5ob3ZlcmVkUmVzdWx0LnNldCgnaG92ZXJlZCcsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhvdmVyZWRSZXN1bHQgPSByZXN1bHQ7XG4gICAgICAgIGlmICh0aGlzLmhvdmVyZWRSZXN1bHQgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5ob3ZlcmVkUmVzdWx0LnNldCgnaG92ZXJlZCcsIHRydWUpO1xuICAgICAgICB9XG4gICAgfSxcblxuXG4gICAgLyoqXG4gICAgICogR2V0IG9wdGlvbnMgZm9yIG1hdGNoaW5nIChteSBncm91cHMsIHByb2plY3QgYW5kIG9yZ2FuaXphdGlvbnMpXG4gICAgICovXG4gICAgZ2V0TWF0Y2hpbmdPcHRpb25zOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgICAgbXlHcm91cHM6IFtdLFxuICAgICAgICAgICAgbXlQcm9qZWN0czogW10sXG4gICAgICAgICAgICBteU9yZ2FuaXphdGlvbnM6IFtdLFxuICAgICAgICB9O1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBmaWx0ZXJPcGVuRm9yQ29vcGVyYXRpb24gPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZW0uaXNfb3Blbl9mb3JfY29vcGVyYXRpb247XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFkZFNlbGVjdGVkID0gZnVuY3Rpb24gKHByZWZpeCkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF8uZXh0ZW5kKGl0ZW0sXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IHNlbGYuc3RhdGUubWF0Y2hpbmcgPT09IHByZWZpeCArIFwiLlwiICsgaXRlbS5zbHVnLFxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdXJsOiAnL2FwaS92Mi9ncm91cHMvbWluZT9saW1pdD0xMDAnLFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJlZFJlc3VsdCA9IGRhdGEucmVzdWx0cy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpbHRlck9wZW5Gb3JDb29wZXJhdGlvbihpdGVtKSAmJiBpdGVtLnNsdWcgIT09IENPU0lOTlVTX0ZPUlVNX0dST1VQX1NMVUc7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5teUdyb3VwcyA9IGZpbHRlcmVkUmVzdWx0Lm1hcChhZGRTZWxlY3RlZCgnZ3JvdXBzJykpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFzeW5jOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHVybDogJy9hcGkvdjIvcHJvamVjdHMvbWluZT9saW1pdD0xMDAnLFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJlZFJlc3VsdCA9IGRhdGEucmVzdWx0cy5maWx0ZXIoZmlsdGVyT3BlbkZvckNvb3BlcmF0aW9uKTtcbiAgICAgICAgICAgICAgICBvcHRpb25zLm15UHJvamVjdHMgPSBmaWx0ZXJlZFJlc3VsdC5tYXAoYWRkU2VsZWN0ZWQoJ3Byb2plY3RzJykpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFzeW5jOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHVybDogJy9hcGkvdjIvb3JnYW5pemF0aW9ucy9taW5lP2xpbWl0PTEwMCcsXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZpbHRlcmVkUmVzdWx0ID0gZGF0YS5yZXN1bHRzLmZpbHRlcihmaWx0ZXJPcGVuRm9yQ29vcGVyYXRpb24pO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubXlPcmdhbml6YXRpb25zID0gZmlsdGVyZWRSZXN1bHQubWFwKGFkZFNlbGVjdGVkKCdvcmdhbml6YXRpb25zJykpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFzeW5jOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc29sZS5sb2cob3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBvcHRpb25zO1xuICAgIH0sXG5cbiAgICBcbiAgICAvKiogZGV0ZXJtaW5lIGlmIGFueSBmaWx0ZXJpbmcgbWV0aG9kIGlzIGFjdGl2ZSAodG9waWNzIG9yIHJlc3VsdCB0eXBlcykgKi9cbiAgICBkZXRlcm1pbmVBY3RpdmVGaWx0ZXJTdGF0dXNlczogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHNlbGYuc3RhdGUuZmlsdGVyc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICBzZWxmLnN0YXRlLnRleHRUb3BpY0ZpbHRlcnNBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgc2VsZi5zdGF0ZS50b3BpY0ZpbHRlcnNBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgc2VsZi5zdGF0ZS5zZGdGaWx0ZXJzQWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHNlbGYuc3RhdGUubWFuYWdlZFRhZ3NGaWx0ZXJzQWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHNlbGYuc3RhdGUudHlwZUZpbHRlcnNBY3RpdmUgPSBmYWxzZTtcblxuICAgICAgICBpZiAoc2VsZi5zdGF0ZS5hY3RpdmVUb3BpY0lkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBzZWxmLnN0YXRlLmZpbHRlcnNBY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgc2VsZi5zdGF0ZS50b3BpY0ZpbHRlcnNBY3RpdmUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZWxmLnN0YXRlLmFjdGl2ZVRleHRUb3BpY0lkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBzZWxmLnN0YXRlLmZpbHRlcnNBY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgc2VsZi5zdGF0ZS50ZXh0VG9waWNGaWx0ZXJzQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VsZi5zdGF0ZS5hY3RpdmVTREdJZHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgc2VsZi5zdGF0ZS5maWx0ZXJzQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIHNlbGYuc3RhdGUuc2RnRmlsdGVyc0FjdGl2ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlbGYuc3RhdGUuYWN0aXZlTWFuYWdlZFRhZ3NJZHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgc2VsZi5zdGF0ZS5maWx0ZXJzQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIHNlbGYuc3RhdGUubWFuYWdlZFRhZ3NGaWx0ZXJzQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIF8uZWFjaChPYmplY3Qua2V5cyhzZWxmLm9wdGlvbnMuYXZhaWxhYmxlRmlsdGVycyksIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgaWYgKHNlbGYub3B0aW9ucy5hdmFpbGFibGVGaWx0ZXJzW2tleV0gIT0gc2VsZi5zdGF0ZS5hY3RpdmVGaWx0ZXJzW2tleV0pIHtcbiAgICAgICAgICAgICAgICBzZWxmLnN0YXRlLmZpbHRlcnNBY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHNlbGYuc3RhdGUudHlwZUZpbHRlcnNBY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgc2VhcmNoOiBmdW5jdGlvbiAobm9OYXZpZ2F0ZSwgc2VhcmNoUmVhc29uKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgc2VsZi5zdGF0ZS5yZXN1bHRzU3RhbGUgPSBmYWxzZTtcbiAgICAgICAgXG4gICAgICAgIHZhciB1cmwgPSBzZWxmLmJ1aWxkU2VhcmNoUXVlcnlVUkwodHJ1ZSk7XG4gICAgICAgIHNlbGYuc3RhdGUuc2VhcmNoaW5nID0gdHJ1ZTtcbiAgICAgICAgXG4gICAgICAgIC8vIGNhbmNlbCB0aGUgY3VycmVudGx5IG9uZ29pbmcgcmVxdWVzdFxuICAgICAgICBpZiAoc2VsZi5jdXJyZW50U2VhcmNoSHR0cFJlcXVlc3QpIHtcbiAgICAgICAgICAgIHV0aWwubG9nKCdjb250cm9sLXZpZXcuanM6IE5ldyBzZWFyY2ghIEFib3J0aW5nIGN1cnJlbnQgc2VhcmNoIHJlcXVlc3QuJylcbiAgICAgICAgICAgIHNlbGYuY3VycmVudFNlYXJjaEh0dHBSZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLmN1cnJlbnRTZWFyY2hIdHRwUmVxdWVzdCA9ICQuYWpheCh1cmwsIHtcbiAgICAgICAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgICAgICAgdGltZW91dDogc2VsZi5zZWFyY2hYSFJUaW1lb3V0LFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEsIHRleHRTdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAvLyBTYXZlIHRoZSBzZWFyY2ggc3RhdGUgaW4gdGhlIHVybC5cbiAgICAgICAgICAgICAgICBpZiAoQXBwLmRpc3BsYXlPcHRpb25zLnJvdXRlTmF2aWdhdGlvbiAmJiAhbm9OYXZpZ2F0ZSAmJiAhc2VsZi5zZWxlY3RlZFJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICB1dGlsLmxvZygnY29udHJvbC12aWV3LmpzOiArKysrKysrKysrKysrKysrKyBzaW5jZSB3ZSBhcmUgZnVsbHNjcmVlbiwgcHVibGlzaGluZyByb3V0ZXIgVVJMIHVwZGF0ZSEnKVxuICAgICAgICAgICAgICAgICAgICBzZWxmLmFkZEN1cnJlbnRIaXN0b3J5U3RhdGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdXRpbC5sb2coJ2dvdCByZXN1bHRzc3NzJylcbiAgICAgICAgICAgICAgICB1dGlsLmxvZyhkYXRhKVxuICAgICAgICAgICAgICAgIHV0aWwubG9nKHRleHRTdGF0dXMpXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdHMgPSBkYXRhLnJlc3VsdHM7XG4gICAgICAgICAgICAgICAgc2VsZi5wcm9jZXNzU2VhcmNoUmVzdWx0cyhyZXN1bHRzLCBzZWFyY2hSZWFzb24pO1xuICAgICAgICAgICAgICAgIHNlbGYuc3RhdGUucGFnZSA9IGRhdGEucGFnZTtcbiAgICAgICAgICAgICAgICBzZWxmLnN0YXRlLnBhZ2VJbmRleCA9IGRhdGEucGFnZSAmJiBkYXRhLnBhZ2UuaW5kZXggfHwgMDtcbiAgICAgICAgICAgICAgICBzZWxmLnN0YXRlLnNlYXJjaEhhZEVycm9ycyA9IGZhbHNlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCB0ZXh0U3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgdXRpbC5sb2coJ2NvbnRyb2wtdmlldy5qczogU2VhcmNoIFhIUiBmYWlsZWQuJylcbiAgICAgICAgICAgICAgICBpZiAodGV4dFN0YXR1cyA9PT0gJ2Fib3J0Jykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIEJhY2tib25lLm1lZGlhdG9yLnB1Ymxpc2goJ2Vycm9yOnNlYXJjaCcpO1xuICAgICAgICAgICAgICAgIHNlbGYuc3RhdGUuc2VhcmNoSGFkRXJyb3JzID0gdHJ1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKHhociwgdGV4dFN0YXR1cykge1xuICAgICAgICAgICAgICAgIHV0aWwubG9nKCdjb250cm9sLXZpZXcuanM6IFNlYXJjaCBjb21wbGV0ZTogJyArIHRleHRTdGF0dXMpXG4gICAgICAgICAgICAgICAgaWYgKHRleHRTdGF0dXMgPT09ICdhYm9ydCcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGV4dFN0YXR1cyAhPT0gJ3N1Y2Nlc3MnKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc3RhdGUuc2VhcmNoSGFkRXJyb3JzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2VsZi5zdGF0ZS5zZWFyY2hpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5vcHRpb25zLmNvbnRyb2xzRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmRldGVybWluZUFjdGl2ZUZpbHRlclN0YXR1c2VzKCk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYucmVmcmVzaFNlYXJjaENvbnRyb2xzKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWFyY2hSZWFzb24gPT0gJ21hbnVhbC1zZWFyY2gnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmhpZGVGaWx0ZXJQYW5lbCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNlbGYucmVuZGVyQWN0aXZlRmlsdGVycygpO1xuICAgICAgICAgICAgICAgICAgICAvLyByZWZyZXNoIHBhZ2luYXRpb24gY29udHJvbHNcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYucGFnaW5hdGlvbkNvbnRyb2xWaWV3KSB7XG4gICAgICAgICAgICAgICAgICAgIFx0c2VsZi5wYWdpbmF0aW9uQ29udHJvbFZpZXcucmVuZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgd2UgaGF2ZSBkb25lIGEgbWFudWFsIHNlYXJjaCwgc2V0IHRoZSB2aWV3IHRvIGRlZmF1bHQhXG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWFyY2hSZWFzb24gPT0gJ21hbnVhbC1zZWFyY2gnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnRyaWdnZXJNb2JpbGVEZWZhdWx0VmlldyhldmVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gc2Nyb2xsIHRpbGUgbGlzdCB0byB0b3Agb24gbWFudWFsIHNlYXJjaGVzXG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWFyY2hSZWFzb24gPT0gJ21hbnVhbC1zZWFyY2gnIHx8IHNlYXJjaFJlYXNvbiA9PSAncmVzZXQtZmlsdGVycy1zZWFyY2gnIHx8IChzZWFyY2hSZWFzb24gPT0gJ3BhZ2luYXRlLXNlYXJjaCcgJiYgIXNlbGYub3B0aW9ucy5wYWdpbmF0aW9uQ29udHJvbHNVc2VJbmZpbml0ZVNjcm9sbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy50aWxlLWNvbnRlbnRzJykuc2Nyb2xsVG9wKDApOyAvLyBzY3JvbGwgdG8gdG9wIG9uIHRpbGUgbGlzdFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHNlbGYuY3VycmVudFNlYXJjaEh0dHBSZXF1ZXN0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBCYWNrYm9uZS5tZWRpYXRvci5wdWJsaXNoKCdlbmQ6c2VhcmNoJywgc2VhcmNoUmVhc29uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBcbiAgICByZWZyZXNoU2VhcmNoQ29udHJvbHM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBzZWxmLiRlbC5maW5kKCcuaWNvbi1maWx0ZXJzJykudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScsIHNlbGYuc3RhdGUuZmlsdGVyc0FjdGl2ZSk7XG4gICAgICAgIHNlbGYuJGVsLmZpbmQoJy5pY29uLXJlc2V0JykudG9nZ2xlQ2xhc3MoJ2hpZGRlbicsICghc2VsZi5zdGF0ZS5maWx0ZXJzQWN0aXZlICYmICFzZWxmLnN0YXRlLnEpKTtcbiAgICAgICAgc2VsZi4kZWwuZmluZCgnLmljb24tc2VhcmNoJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICBzZWxmLiRlbC5maW5kKCcuYnV0dG9uLXNlYXJjaCcpLmFkZENsYXNzKCdkaXNhYmxlZCcpO1xuICAgIH0sXG4gICAgXG4gICAgcmVuZGVyQWN0aXZlRmlsdGVyczogZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5maWx0ZXJzQWN0aXZlIHx8IHRoaXMuc3RhdGUucSkge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmdldFRlbXBsYXRlRGF0YSgpO1xuICAgICAgICAgICAgdmFyIHJlbmRlcmVkID0gdGhpcy5hY3RpdmVGaWx0ZXJzVGVtcGxhdGUucmVuZGVyKGRhdGEpO1xuICAgICAgICAgICAgdGhpcy4kZWwuZmluZCgnLm1hcC1jb250cm9scy1hY3RpdmUtZmlsdGVycycpLmh0bWwocmVuZGVyZWQpLnNob3coKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuJGVsLmZpbmQoJy5tYXAtY29udHJvbHMtYWN0aXZlLWZpbHRlcnMnKS5oaWRlKCkuZW1wdHkoKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgXG4gICAgLyoqIFVudXNlZCwgcmVtb3ZlIGlmIG5vdCBuZWVkZWQgKi9cbiAgICAvKiogT2xkIHZlcnNpb246IHdlIGRvIG5vdCByZS1yZW5kZXIgdGhlIHNlYXJjaCBjb250cm9scyBhbnkgbW9yZSBiZWNhdXNlIG9mIGxvc3NcbiAgICAgKiAgb2YgbmV3IHNlYXJjaCBpbnB1dCBmb3IgdGhlIHVzZXJcbiAgICByZWZyZXNoU2VhcmNoQ29udHJvbHM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gcmVzdG9yZSB0aGUgc2VhcmNoIHRleHRib3ggYWZ0ZXIgdGhlIHJlbmRlciBzbyB3ZSBkb24ndCB0aHJvdyB0aGUgdXNlciBvdXRcbiAgICAgICAgdmFyIHFkYXRhID0gdXRpbC5zYXZlSW5wdXRTdGF0dXMoc2VsZi4kZWwuZmluZCgnLnEnKSk7XG4gICAgICAgIHNlbGYucmVuZGVyKCk7XG4gICAgICAgIHV0aWwucmVzdG9yZUlucHV0U3RhdHVzKHNlbGYuJGVsLmZpbmQoJy5xJyksIHFkYXRhKTtcbiAgICB9LFxuICAgICovXG4gICAgXG4gICAgLy8gZXh0ZW5kZWQgZnJvbSBjb250ZW50LWNvbnRyb2wtdmlldy5qc1xuICAgIGFwcGx5VXJsU2VhcmNoUGFyYW1ldGVyczogZnVuY3Rpb24gKHVybFBhcmFtcykge1xuICAgICAgICBfLmV4dGVuZCh0aGlzLnN0YXRlLCB7XG4gICAgICAgICAgICBhY3RpdmVGaWx0ZXJzOiB7XG4gICAgICAgICAgICAgICAgcGVvcGxlOiB0aGlzLm9wdGlvbnMuYXZhaWxhYmxlRmlsdGVycy5wZW9wbGUgPyB1dGlsLmlmdW5kZWYodXJsUGFyYW1zLnBlb3BsZSwgdGhpcy5vcHRpb25zLmFjdGl2ZUZpbHRlcnMucGVvcGxlKSA6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGV2ZW50czogdGhpcy5vcHRpb25zLmF2YWlsYWJsZUZpbHRlcnMuZXZlbnRzID8gdXRpbC5pZnVuZGVmKHVybFBhcmFtcy5ldmVudHMsIHRoaXMub3B0aW9ucy5hY3RpdmVGaWx0ZXJzLmV2ZW50cykgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBwcm9qZWN0czogdGhpcy5vcHRpb25zLmF2YWlsYWJsZUZpbHRlcnMucHJvamVjdHMgPyB1dGlsLmlmdW5kZWYodXJsUGFyYW1zLnByb2plY3RzLCB0aGlzLm9wdGlvbnMuYWN0aXZlRmlsdGVycy5wcm9qZWN0cykgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBncm91cHM6IHRoaXMub3B0aW9ucy5hdmFpbGFibGVGaWx0ZXJzLmdyb3VwcyA/IHV0aWwuaWZ1bmRlZih1cmxQYXJhbXMuZ3JvdXBzLCB0aGlzLm9wdGlvbnMuYWN0aXZlRmlsdGVycy5ncm91cHMpIDogZmFsc2VcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBxOiB1dGlsLmlmdW5kZWYodXJsUGFyYW1zLnEsIHRoaXMuc3RhdGUucSksXG4gICAgICAgICAgICBpZ25vcmVMb2NhdGlvbjogdXRpbC5pZnVuZGVmKHVybFBhcmFtcy5pZ25vcmVfbG9jYXRpb24sIHRoaXMuc3RhdGUuaWdub3JlTG9jYXRpb24pLFxuICAgICAgICAgICAgZXhjaGFuZ2U6IENPU0lOTlVTX0VYQ0hBTkdFX0VOQUJMRUQgJiYgdXRpbC5pZnVuZGVmKHVybFBhcmFtcy5leGNoYW5nZSwgdGhpcy5zdGF0ZS5leGNoYW5nZSksXG4gICAgICAgICAgICBtYXRjaGluZzogQ09TSU5OVVNfTUFUQ0hJTkdfRU5BQkxFRCAmJiB1dGlsLmlmdW5kZWYodXJsUGFyYW1zLm1hdGNoaW5nLCB0aGlzLnN0YXRlLm1hdGNoaW5nKSxcbiAgICAgICAgICAgIHNlYXJjaFJlc3VsdExpbWl0OiB1dGlsLmlmdW5kZWYodXJsUGFyYW1zLmxpbWl0LCB0aGlzLnN0YXRlLnNlYXJjaFJlc3VsdExpbWl0KSxcbiAgICAgICAgICAgIGFjdGl2ZVRvcGljSWRzOiB1dGlsLmlmdW5kZWYodXJsUGFyYW1zLnRvcGljcywgdGhpcy5zdGF0ZS5hY3RpdmVUb3BpY0lkcyksXG4gICAgICAgICAgICBhY3RpdmVUZXh0VG9waWNJZHM6IHV0aWwuaWZ1bmRlZih1cmxQYXJhbXMudGV4dF90b3BpY3MsIHRoaXMuc3RhdGUuYWN0aXZlVGV4dFRvcGljSWRzKSxcbiAgICAgICAgICAgIGFjdGl2ZVNER0lkczogdXRpbC5pZnVuZGVmKHVybFBhcmFtcy5zZGdzLCB0aGlzLnN0YXRlLmFjdGl2ZVNER0lkcyksXG4gICAgICAgICAgICBhY3RpdmVNYW5hZ2VkVGFnc0lkczogdXRpbC5pZnVuZGVmKHVybFBhcmFtcy5tYW5hZ2VkX3RhZ3MsIHRoaXMuc3RhdGUuYWN0aXZlTWFuYWdlZFRhZ3NJZHMpLFxuICAgICAgICAgICAgcGFnZUluZGV4OiB1dGlsLmlmdW5kZWYodXJsUGFyYW1zLnBhZ2UsIHRoaXMuc3RhdGUucGFnZUluZGV4KSxcbiAgICAgICAgICAgIHVybFNlbGVjdGVkUmVzdWx0SWQ6IHV0aWwuaWZ1bmRlZih1cmxQYXJhbXMuaXRlbSwgdGhpcy5zdGF0ZS51cmxTZWxlY3RlZFJlc3VsdElkKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChDT1NJTk5VU19JREVBU19FTkFCTEVEKSB7XG4gICAgICAgIFx0dGhpcy5zdGF0ZS5hY3RpdmVGaWx0ZXJzWydpZGVhcyddID0gdGhpcy5vcHRpb25zLmF2YWlsYWJsZUZpbHRlcnMuaWRlYXMgPyB1dGlsLmlmdW5kZWYodXJsUGFyYW1zLmlkZWFzLCB0aGlzLm9wdGlvbnMuYWN0aXZlRmlsdGVycy5pZGVhcykgOiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQ09TSU5OVVNfT1JHQU5JWkFUSU9OU19FTkFCTEVEKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmFjdGl2ZUZpbHRlcnNbJ29yZ2FuaXphdGlvbnMnXSA9IHRoaXMub3B0aW9ucy5hdmFpbGFibGVGaWx0ZXJzLm9yZ2FuaXphdGlvbnMgPyB1dGlsLmlmdW5kZWYodXJsUGFyYW1zLm9yZ2FuaXphdGlvbnMsIHRoaXMub3B0aW9ucy5hY3RpdmVGaWx0ZXJzLm9yZ2FuaXphdGlvbnMpIDogZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKENPU0lOTlVTX0NPTkZFUkVOQ0VTX0VOQUJMRUQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuYWN0aXZlRmlsdGVyc1snY29uZmVyZW5jZXMnXSA9IHRoaXMub3B0aW9ucy5hdmFpbGFibGVGaWx0ZXJzLmNvbmZlcmVuY2VzID8gdXRpbC5pZnVuZGVmKHVybFBhcmFtcy5jb25mZXJlbmNlcywgdGhpcy5vcHRpb25zLmFjdGl2ZUZpbHRlcnMuY29uZmVyZW5jZXMpIDogZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKENPU0lOTlVTX0NMT1VEX0VOQUJMRUQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuYWN0aXZlRmlsdGVyc1snY2xvdWRmaWxlcyddID0gdGhpcy5vcHRpb25zLmF2YWlsYWJsZUZpbHRlckxpc3QuY2xvdWRmaWxlcyA/IHV0aWwuaWZ1bmRlZih1cmxQYXJhbXMuY2xvdWRmaWxlcywgdGhpcy5vcHRpb25zLmFjdGl2ZUZpbHRlcnMuY2xvdWRmaWxlcykgOiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb3Npbm51c19hY3RpdmVfdXNlcikge1xuICAgICAgICBcdHRoaXMub3B0aW9ucy5zaG93TWluZSA9IHV0aWwuaWZ1bmRlZih1cmxQYXJhbXMubWluZSwgdGhpcy5vcHRpb25zLnNob3dNaW5lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3RhdGUudHlwZUZpbHRlcnNBY3RpdmUgPSBPYmplY3QudmFsdWVzKHRoaXMuc3RhdGUuYWN0aXZlRmlsdGVycykuaW5kZXhPZihmYWxzZSkgPiAtMVxuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2hvd01hbmFnZWRUYWdzT25UeXBlc1NlbGVjdGVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciBhY3RpdmVGaWx0ZXJzID0gdGhpcy5zdGF0ZS5hY3RpdmVGaWx0ZXJzXG4gICAgICAgICAgICB2YXIgc2hvd01hbmFnZWRUYWdzID0gXy5zb21lKHRoaXMub3B0aW9ucy5zaG93TWFuYWdlZFRhZ3NPblR5cGVzU2VsZWN0ZWQsIGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoYWN0aXZlRmlsdGVyc1t0eXBlXSkge1xuICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmRpc3BsYXlNYW5hZ2VkVGFnc0ZpbHRlciA9IHNob3dNYW5hZ2VkVGFncyAmJiB0aGlzLnN0YXRlLnR5cGVGaWx0ZXJzQWN0aXZlXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNob3dUZXh0VG9waWNzT25UeXBlc1NlbGVjdGVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciBhY3RpdmVGaWx0ZXJzID0gdGhpcy5zdGF0ZS5hY3RpdmVGaWx0ZXJzXG4gICAgICAgICAgICB2YXIgc2hvd1RleHRUb3BpY3MgPSBfLnNvbWUodGhpcy5vcHRpb25zLnNob3dUZXh0VG9waWNzT25UeXBlc1NlbGVjdGVkLCBmdW5jdGlvbih0eXBlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFjdGl2ZUZpbHRlcnNbdHlwZV0pIHtcbiAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5kaXNwbGF5VGV4dFRvcGNGaWx0ZXIgPSBzaG93VGV4dFRvcGljcyAmJiB0aGlzLnN0YXRlLnR5cGVGaWx0ZXJzQWN0aXZlXG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdG9kYXkgPSBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQnKTtcbiAgICAgICAgdmFyIGluX3RocmVlX21vbnRocyA9IG1vbWVudCgpLmFkZCgzLCAnTScpLmZvcm1hdCgnWVlZWS1NTS1ERCcpO1xuICAgICAgICB0aGlzLnN0YXRlLmZyb21EYXRlID0gIHV0aWwuaWZ1bmRlZih1cmxQYXJhbXMuZnJvbURhdGUsIHRvZGF5KTtcbiAgICAgICAgdGhpcy5zdGF0ZS5mcm9tVGltZSA9IHV0aWwuaWZ1bmRlZih1cmxQYXJhbXMuZnJvbVRpbWUsIFwiMDA6MDBcIikucmVwbGFjZShcIiUzQVwiLCBcIjpcIik7XG4gICAgICAgIHRoaXMuc3RhdGUudG9EYXRlID0gdXRpbC5pZnVuZGVmKHVybFBhcmFtcy50b0RhdGUsIGluX3RocmVlX21vbnRocyk7XG4gICAgICAgIHRoaXMuc3RhdGUudG9UaW1lID0gdXRpbC5pZnVuZGVmKHVybFBhcmFtcy50b1RpbWUsIFwiMjM6NTlcIikucmVwbGFjZShcIiUzQVwiLCBcIjpcIik7XG4gICAgfSxcblxuICAgIC8vIGV4dGVuZGVkIGZyb20gY29udGVudC1jb250cm9sLXZpZXcuanNcbiAgICBjb250cmlidXRlVG9TZWFyY2hQYXJhbWV0ZXJzOiBmdW5jdGlvbihmb3JBUEkpIHtcbiAgICAgICAgdmFyIHNlYXJjaFBhcmFtcyA9IHtcbiAgICAgICAgICAgIHE6IHRoaXMuc3RhdGUucSxcbiAgICAgICAgICAgIHBlb3BsZTogdGhpcy5zdGF0ZS5hY3RpdmVGaWx0ZXJzLnBlb3BsZSxcbiAgICAgICAgICAgIGV2ZW50czogdGhpcy5zdGF0ZS5hY3RpdmVGaWx0ZXJzLmV2ZW50cyxcbiAgICAgICAgICAgIHByb2plY3RzOiB0aGlzLnN0YXRlLmFjdGl2ZUZpbHRlcnMucHJvamVjdHMsXG4gICAgICAgICAgICBncm91cHM6IHRoaXMuc3RhdGUuYWN0aXZlRmlsdGVycy5ncm91cHMsXG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5kYXRlRmlsdGVyc0FjdGl2ZSkge1xuICAgICAgICAgICAgdmFyIGRhdGVUaW1lUGlja2VyID0gJCgnI2RhdGUtdGltZS1maWx0ZXInKTtcbiAgICAgICAgICAgIHZhciBmcm9tRGF0ZSA9IGRhdGVUaW1lUGlja2VyLmZpbmQoJyNpZF9zdGFydF8wJykudmFsKCkgfHwgdGhpcy5zdGF0ZS5mcm9tRGF0ZTtcbiAgICAgICAgICAgIHZhciBmcm9tVGltZSA9IGRhdGVUaW1lUGlja2VyLmZpbmQoJyNpZF9zdGFydF8xJykudmFsKCkgfHwgdGhpcy5zdGF0ZS5mcm9tVGltZTtcbiAgICAgICAgICAgIHZhciB0b0RhdGUgPSBkYXRlVGltZVBpY2tlci5maW5kKCcjaWRfZW5kXzAnKS52YWwoKSB8fCB0aGlzLnN0YXRlLnRvRGF0ZTtcbiAgICAgICAgICAgIHZhciB0b1RpbWUgPSBkYXRlVGltZVBpY2tlci5maW5kKCcjaWRfZW5kXzEnKS52YWwoKSB8fCB0aGlzLnN0YXRlLmZyb21EYXRlO1xuICAgICAgICAgICAgaWYgKCFmcm9tVGltZS5pbmNsdWRlcygnOicpKSB7XG4gICAgICAgICAgICAgICAgZnJvbVRpbWUgKz0gJzowMCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRvVGltZS5pbmNsdWRlcygnOicpKSB7XG4gICAgICAgICAgICAgICAgdG9UaW1lICs9ICc6MDAnO1xuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgaWYgKGZyb21EYXRlKSB7XG4gICAgICAgICAgICAgICAgXy5leHRlbmQoc2VhcmNoUGFyYW1zLCB7XG4gICAgICAgICAgICAgICAgICAgIGZyb21EYXRlOiBmcm9tRGF0ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChmcm9tVGltZSkge1xuICAgICAgICAgICAgICAgICAgICBfLmV4dGVuZChzZWFyY2hQYXJhbXMsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyb21UaW1lOiBmcm9tVGltZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICBpZiAodG9EYXRlKSB7XG4gICAgICAgICAgICAgICAgXy5leHRlbmQoc2VhcmNoUGFyYW1zLCB7XG4gICAgICAgICAgICAgICAgICAgIHRvRGF0ZTogdG9EYXRlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHRvVGltZSkge1xuICAgICAgICAgICAgICAgICAgICBfLmV4dGVuZChzZWFyY2hQYXJhbXMsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvVGltZTogdG9UaW1lXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChDT1NJTk5VU19JREVBU19FTkFCTEVEKSB7XG4gICAgICAgIFx0Xy5leHRlbmQoc2VhcmNoUGFyYW1zLCB7XG4gICAgICAgICAgICAgICAgaWRlYXM6IHRoaXMuc3RhdGUuYWN0aXZlRmlsdGVycy5pZGVhc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKENPU0lOTlVTX09SR0FOSVpBVElPTlNfRU5BQkxFRCkge1xuICAgICAgICAgICAgXy5leHRlbmQoc2VhcmNoUGFyYW1zLCB7XG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uczogdGhpcy5zdGF0ZS5hY3RpdmVGaWx0ZXJzLm9yZ2FuaXphdGlvbnNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChDT1NJTk5VU19DT05GRVJFTkNFU19FTkFCTEVEKSB7XG4gICAgICAgICAgICBfLmV4dGVuZChzZWFyY2hQYXJhbXMsIHtcbiAgICAgICAgICAgICAgICBjb25mZXJlbmNlczogdGhpcy5zdGF0ZS5hY3RpdmVGaWx0ZXJzLmNvbmZlcmVuY2VzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQ09TSU5OVVNfQ0xPVURfRU5BQkxFRCkge1xuICAgICAgICAgICAgXy5leHRlbmQoc2VhcmNoUGFyYW1zLCB7XG4gICAgICAgICAgICAgICAgY2xvdWRmaWxlczogdGhpcy5zdGF0ZS5hY3RpdmVGaWx0ZXJzLmNsb3VkZmlsZXNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmFjdGl2ZVRvcGljSWRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIF8uZXh0ZW5kKHNlYXJjaFBhcmFtcywge1xuICAgICAgICAgICAgICAgIHRvcGljczogdGhpcy5zdGF0ZS5hY3RpdmVUb3BpY0lkcy5qb2luKCcsJylcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuYWN0aXZlVGV4dFRvcGljSWRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIF8uZXh0ZW5kKHNlYXJjaFBhcmFtcywge1xuICAgICAgICAgICAgICAgIHRleHRfdG9waWNzOiB0aGlzLnN0YXRlLmFjdGl2ZVRleHRUb3BpY0lkcy5qb2luKCcsJylcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmFjdGl2ZVNER0lkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBfLmV4dGVuZChzZWFyY2hQYXJhbXMsIHtcbiAgICAgICAgICAgICAgICBzZGdzOiB0aGlzLnN0YXRlLmFjdGl2ZVNER0lkcy5qb2luKCcsJylcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmFjdGl2ZU1hbmFnZWRUYWdzSWRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIF8uZXh0ZW5kKHNlYXJjaFBhcmFtcywge1xuICAgICAgICAgICAgICAgIG1hbmFnZWRfdGFnczogdGhpcy5zdGF0ZS5hY3RpdmVNYW5hZ2VkVGFnc0lkcy5qb2luKCcsJylcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnBhZ2VJbmRleCA+IDApIHtcbiAgICAgICAgICAgIF8uZXh0ZW5kKHNlYXJjaFBhcmFtcywge1xuICAgICAgICAgICAgICAgIHBhZ2U6IHRoaXMuc3RhdGUucGFnZUluZGV4XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kZXRhaWxSZXN1bHQpIHtcbiAgICAgICAgICAgIF8uZXh0ZW5kKHNlYXJjaFBhcmFtcywge1xuICAgICAgICAgICAgICAgIGl0ZW06IHRoaXMuZGV0YWlsUmVzdWx0LmlkXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLnVybFNlbGVjdGVkUmVzdWx0SWQpIHtcbiAgICAgICAgICAgIF8uZXh0ZW5kKHNlYXJjaFBhcmFtcywge1xuICAgICAgICAgICAgICAgIGl0ZW06IHRoaXMuc3RhdGUudXJsU2VsZWN0ZWRSZXN1bHRJZFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaG93TWluZSkge1xuICAgICAgICAgICAgXy5leHRlbmQoc2VhcmNoUGFyYW1zLCB7XG4gICAgICAgICAgICBcdG1pbmU6IDFcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmlnbm9yZUxvY2F0aW9uKSB7XG4gICAgICAgICAgICBfLmV4dGVuZChzZWFyY2hQYXJhbXMsIHtcbiAgICAgICAgICAgICAgICBpZ25vcmVfbG9jYXRpb246IDFcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChDT1NJTk5VU19FWENIQU5HRV9FTkFCTEVEICYmIHRoaXMuc3RhdGUuZXhjaGFuZ2UpIHtcbiAgICAgICAgICAgIF8uZXh0ZW5kKHNlYXJjaFBhcmFtcywge1xuICAgICAgICAgICAgICAgIGV4Y2hhbmdlOiAxXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQ09TSU5OVVNfTUFUQ0hJTkdfRU5BQkxFRCAmJiB0aGlzLnN0YXRlLm1hdGNoaW5nKSB7XG4gICAgICAgICAgICBfLmV4dGVuZChzZWFyY2hQYXJhbXMsIHtcbiAgICAgICAgICAgICAgICBtYXRjaGluZzogdGhpcy5zdGF0ZS5tYXRjaGluZ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvckFQSSkge1xuICAgICAgICAgICAgXy5leHRlbmQoc2VhcmNoUGFyYW1zLCB7XG4gICAgICAgICAgICAgICAgbGltaXQ6IHRoaXMuc3RhdGUuc2VhcmNoUmVzdWx0TGltaXRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB1dGlsLmxvZygnY29udHJvbC12aWV3LmpzOiByZXR1cm5pbmcgc2VhcmNoIHBhcmFtczonKVxuICAgICAgICB1dGlsLmxvZyhzZWFyY2hQYXJhbXMpXG4gICAgICAgIHJldHVybiBzZWFyY2hQYXJhbXNcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQnVpbGQgdGhlIFVSTCBjb250YWluaW5nIGFsbCBwYXJhbWV0ZXJzIGZvciB0aGUgY3VycmVudCB2aWV3XG4gICAgICogXG4gICAgICogQHBhcmFtIGZvckFQSTogaWYgdHJ1ZSwgY29udGFpbnMgYWxsIHNlYXJjaCBwYXJhbWV0ZXJzLlxuICAgICAqICAgICAgICAgaWYgZmFsc2UsIGNvbnRhaW5zIG9ubHkgdGhlc2UgdGhhdCBzaG91bGQgYmUgdmlzaWJsZSBpbiB0aGUgYnJvd3NlciBVUkwgXG4gICAgICovXG4gICAgYnVpbGRTZWFyY2hRdWVyeVVSTDogZnVuY3Rpb24gKGZvckFQSSkge1xuICAgICAgICAvLyBjb2xsZWN0IGFsbCBzZWFyY2ggcGFyYW1ldGVycyBmcm9tIGNvbnRlbnQgdmlld3MgdGhhdCBhZmZlY3QgdGhlbVxuICAgICAgICB2YXIgc2VhcmNoUGFyYW1zID0ge307XG4gICAgICAgIF8uZWFjaCh0aGlzLkFwcC5jb250ZW50Vmlld3MsIGZ1bmN0aW9uKHZpZXcpe1xuICAgICAgICAgICAgXy5leHRlbmQoc2VhcmNoUGFyYW1zLCB2aWV3LmNvbnRyaWJ1dGVUb1NlYXJjaFBhcmFtZXRlcnMoZm9yQVBJKSk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgcXVlcnkgPSAkLnBhcmFtKHNlYXJjaFBhcmFtcyk7XG4gICAgICAgIFxuICAgICAgICB2YXIgdXJsID0gdGhpcy5zZWFyY2hFbmRwb2ludFVSTDtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5maWx0ZXJHcm91cCkge1xuICAgICAgICAgICAgdXJsID0gdXJsICsgdGhpcy5vcHRpb25zLmZpbHRlckdyb3VwICsgJy8nO1xuICAgICAgICB9XG4gICAgICAgIHVybCA9IHVybCArICc/JyArIHF1ZXJ5O1xuICAgICAgICBcbiAgICAgICAgdXRpbC5sb2coJyAqKioqKioqKioqKiogIEJVSUxEIFNFQVJDSCBRVUVSWSBVUkwgUkVUVVJORUQgKGZvckFQSSk6ICcgKyBmb3JBUEkpXG4gICAgICAgIHV0aWwubG9nKHVybClcbiAgICAgICAgcmV0dXJuIHVybDtcbiAgICB9LFxuICAgIFxuICAgIC8qKiBDb2xsZWN0cyBhbGwgdG9nZ2xlZCBzdGF0ZXMgb2YgZmlsdGVyIGJ1dHRvbnMgYW5kIGFwcGxpZXMgdGhlbSBvbnRvIHRoZSBjdXJyZW50IGNvbnRyb2wtdmlldyBzdGF0ZSAqL1xuICAgIGFwcGx5RmlsdGVyczogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgLy8gUmVzdWx0IHR5cGVzXG4gICAgICAgIHZhciBhbGxfZGVzZWxlY3RlZCA9IHRydWU7XG4gICAgICAgIHNlbGYuJGVsLmZpbmQoJy5yZXN1bHQtZmlsdGVyLWJ1dHRvbicpLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHZhciAkYnV0dG9uID0gJCh0aGlzKTtcbiAgICAgICAgICAgIHZhciByZXN1bHRUeXBlID0gJGJ1dHRvbi5hdHRyKCdkYXRhLXJlc3VsdC1maWx0ZXItdHlwZScpO1xuICAgICAgICAgICAgdmFyIHNlbGVjdGVkID0gJGJ1dHRvbi5oYXNDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgIHNlbGYuc3RhdGUuYWN0aXZlRmlsdGVyc1tyZXN1bHRUeXBlXSA9IHNlbGVjdGVkO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgYWxsX2Rlc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGlmIHdlIHNlbGVjdCBhbGwgdHlwZXMsIGRyb3AgdGhlIGZpbHRlciAoc2VsZWN0IGFsbCBpcyBkZWZhdWx0KS5cbiAgICAgICAgaWYgKGFsbF9kZXNlbGVjdGVkKSB7XG4gICAgICAgICAgICBzZWxmLnJlc2V0VHlwZUZpbHRlcnMoKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gVG9waWNzXG4gICAgICAgIHNlbGYucmVzZXRUb3BpY3MoKTtcbiAgICAgICAgc2VsZi4kZWwuZmluZCgnLnRvcGljLWJ1dHRvbi5zZWxlY3RlZCcpLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHZhciAkYnV0dG9uID0gJCh0aGlzKTtcbiAgICAgICAgICAgIHZhciBiaWQgPSBwYXJzZUludCgkYnV0dG9uLmF0dHIoJ2RhdGEtdG9waWMtaWQnKSk7XG4gICAgICAgICAgICBzZWxmLnN0YXRlLmFjdGl2ZVRvcGljSWRzLnB1c2goYmlkKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy9UZXh0VG9waWNzXG4gICAgICAgIHNlbGYucmVzZXRUZXh0VG9waWNzKCk7XG4gICAgICAgIHNlbGYuJGVsLmZpbmQoJy50ZXh0LXRvcGljLWJ1dHRvbi5zZWxlY3RlZCcpLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHZhciAkYnV0dG9uID0gJCh0aGlzKTtcbiAgICAgICAgICAgIHZhciBiaWQgPSBwYXJzZUludCgkYnV0dG9uLmF0dHIoJ2RhdGEtdGV4dC10b3BpYy1pZCcpKTtcbiAgICAgICAgICAgIHNlbGYuc3RhdGUuYWN0aXZlVGV4dFRvcGljSWRzLnB1c2goYmlkKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gU0RHc1xuICAgICAgICBzZWxmLnJlc2V0U0RHUygpO1xuICAgICAgICBzZWxmLiRlbC5maW5kKCcuc2RnLWJ1dHRvbi5zZWxlY3RlZCcpLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHZhciAkYnV0dG9uID0gJCh0aGlzKTtcbiAgICAgICAgICAgIHZhciBiaWQgPSBwYXJzZUludCgkYnV0dG9uLmF0dHIoJ2RhdGEtc2RnLWlkJykpO1xuICAgICAgICAgICAgc2VsZi5zdGF0ZS5hY3RpdmVTREdJZHMucHVzaChiaWQpO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIE1hbmFnZWRUYWdzXG4gICAgICAgIHNlbGYucmVzZXRNYW5hZ2VkVGFncygpO1xuICAgICAgICBzZWxmLiRlbC5maW5kKCcubWFuYWdlZC10YWctYnV0dG9uLnNlbGVjdGVkJykuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICAgICAgdmFyICRidXR0b24gPSAkKHRoaXMpO1xuICAgICAgICAgICAgdmFyIGJpZCA9IHBhcnNlSW50KCRidXR0b24uYXR0cignZGF0YS1tYW5hZ2VkLXRhZy1pZCcpKTtcbiAgICAgICAgICAgIHNlbGYuc3RhdGUuYWN0aXZlTWFuYWdlZFRhZ3NJZHMucHVzaChiaWQpO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgLy8gVE9ETyBSRU1PVkVcbiAgICB0b2dnbGVGaWx0ZXI6IGZ1bmN0aW9uIChyZXN1bHRUeXBlKSB7XG4gICAgICAgIHZhciBhY3RpdmVGaWx0ZXJzID0gdGhpcy5zdGF0ZS5hY3RpdmVGaWx0ZXJzO1xuICAgICAgICBhY3RpdmVGaWx0ZXJzW3Jlc3VsdFR5cGVdID0gIWFjdGl2ZUZpbHRlcnNbcmVzdWx0VHlwZV07XG4gICAgICAgIHRoaXMuc3RhdGUuYWN0aXZlRmlsdGVycyA9IGFjdGl2ZUZpbHRlcnM7XG4gICAgICAgIHRoaXMudHJpZ2dlckRlbGF5ZWRTZWFyY2godHJ1ZSk7XG4gICAgfSxcblxuICAgIC8vIFJlZ2lzdGVyIGEgY2hhbmdlIGluIHRoZSBjb250cm9scyBvciB0aGUgbWFwIFVJIHdoaWNoIHNob3VsZCBxdWV1ZVxuICAgIC8vIGEgc2VhcmNoIGF0dGVtcHQgYWZ0ZXIgYSBkZWxheS5cbiAgICB0cmlnZ2VyRGVsYXllZFNlYXJjaDogZnVuY3Rpb24gKGZpcmVJbW1lZGlhdGVseUlmUG9zc2libGUsIG5vUGFnZVJlc2V0LCBub05hdmlnYXRlLCBzZWFyY2hSZWFzb24pIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBcbiAgICAgICAgdmFyIGRlbGF5ID0gc2VsZi5zZWFyY2hEZWxheTtcbiAgICAgICAgaWYgKGZpcmVJbW1lZGlhdGVseUlmUG9zc2libGUpIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW5vUGFnZVJlc2V0KSB7XG4gICAgICAgICAgICBzZWxmLnN0YXRlLnBhZ2VJbmRleCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuc2VhcmNoVGltZW91dCk7XG4gICAgXHRCYWNrYm9uZS5tZWRpYXRvci5wdWJsaXNoKCd3YW50OnNlYXJjaCcsIHNlYXJjaFJlYXNvbik7XG4gICAgICAgIHNlbGYuc2VhcmNoVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2VsZi5zZWFyY2gobm9OYXZpZ2F0ZSwgc2VhcmNoUmVhc29uKTtcbiAgICAgICAgfSwgZGVsYXkpO1xuICAgIH0sXG5cbiAgICBhY3RpdmVGaWx0ZXJMaXN0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfKF8odGhpcy5zdGF0ZS5hY3RpdmVGaWx0ZXJzKS5rZXlzKCkpLnNlbGVjdChmdW5jdGlvbiAoZmlsdGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gISFmaWx0ZXI7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgXG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29zaW5udXMvY2xpZW50L3ZpZXdzL2NvbnRyb2wtdmlldy5qc1xuLy8gbW9kdWxlIGlkID0gMTRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgVmlldyA9IHJlcXVpcmUoJ3ZpZXdzL2Jhc2UvdmlldycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFZpZXcuZXh0ZW5kKHtcbiAgICBcbiAgICB0ZW1wbGF0ZTogcmVxdWlyZSgneGhyLWVycm9yJyksICAgIFxuICAgIFxuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHNlbGYsIG9wdGlvbnMpO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5zdGF0ZS5tZXNzYWdlID0gb3B0aW9ucy5tZXNzYWdlO1xuICAgIH1cbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy9jbGllbnQvdmlld3MvZXJyb3Itdmlldy5qc1xuLy8gbW9kdWxlIGlkID0gMTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIG51bmp1Y2tzID0gcmVxdWlyZShcIm51bmp1Y2tzL2Jyb3dzZXIvbnVuanVja3Mtc2xpbVwiKTtcbnZhciBlbnY7XG5pZiAoIW51bmp1Y2tzLmN1cnJlbnRFbnYpe1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52ID0gbmV3IG51bmp1Y2tzLkVudmlyb25tZW50KFtdLCB1bmRlZmluZWQpO1xufSBlbHNlIHtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudjtcbn1cbnZhciBjb25maWd1cmUgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vbnVuanVja3MuY29uZmlnLmpzXCIpKGVudik7XG52YXIgZGVwZW5kZW5jaWVzID0gbnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyB8fCAobnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyA9IHt9KTtcblxuXG5cblxudmFyIHNoaW0gPSByZXF1aXJlKFwiL2hvbWUvc2FzY2hhL3ByL2Nvc2lubnVzLWNvcmUvbm9kZV9tb2R1bGVzL251bmp1Y2tzLWxvYWRlci9ydW50aW1lLXNoaW1cIik7XG5cblxuKGZ1bmN0aW9uKCkgeyhudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkID0gbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZCB8fCB7fSlbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3hoci1lcnJvci5odG1sXCJdID0gKGZ1bmN0aW9uKCkge1xuZnVuY3Rpb24gcm9vdChlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xudmFyIHBhcmVudFRlbXBsYXRlID0gbnVsbDtcbm91dHB1dCArPSBcIjxkaXYgY2xhc3M9XFxcImVycm9yXFxcIj5cXG4gICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibWVzc2FnZVwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG48L2Rpdj5cXG5cIjtcbmlmKHBhcmVudFRlbXBsYXRlKSB7XG5wYXJlbnRUZW1wbGF0ZS5yb290UmVuZGVyRnVuYyhlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYik7XG59IGVsc2Uge1xuY2IobnVsbCwgb3V0cHV0KTtcbn1cbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5yZXR1cm4ge1xucm9vdDogcm9vdFxufTtcblxufSkoKTtcbn0pKCk7XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHNoaW0obnVuanVja3MsIGVudiwgbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZFtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwveGhyLWVycm9yLmh0bWxcIl0gLCBkZXBlbmRlbmNpZXMpXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3hoci1lcnJvci5odG1sXG4vLyBtb2R1bGUgaWQgPSAxNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbnZhciBCYXNlVmlldyA9IHJlcXVpcmUoJ3ZpZXdzL2Jhc2UvdmlldycpO1xudmFyIHV0aWwgPSByZXF1aXJlKCdsaWIvdXRpbCcpO1xuXG52YXIgcGFnaW5hdGlvbkNvbnRyb2xzVGVtcGxhdGUgPSByZXF1aXJlKCdtYXAvcGFnaW5hdGlvbi1jb250cm9scycpO1xuXG5cbi8qKiBcbiAqIEEgc21hbGwgdmlldywgYmFzaWNhbGx5IGp1c3QgdG8gZW5jYXBzdWxhdGUgdGhlIHBhZ2luYXRpb24gY29udHJvbFxuICogdGVtcGxhdGUgYW5kIGJ1dHRvbnMsIHRvIGJlIGFibGUgdG8gcmVuZGVyIGFuZCByZWZyZXNoIHRoZW0gaW5kZXBlbmRlbnRseVxuICogb2YgdGhlIHNlYXJjaCBjb250cm9scy4gXG4gKiBUaGlzIGlzIGNvbnRhaW5lZCBieSBhbmQgZGVsZWdhdGVzIGFsbW9zdCBldmVyeXRoaW5nIGJhY2sgdG8gdGhlIGNvbnRyb2wtdmlldy5cbiAqICovXG5tb2R1bGUuZXhwb3J0cyA9IEJhc2VWaWV3LmV4dGVuZCh7XG4gICAgXG4gICAgLy8gcmVmZXJlbmNlIGJhY2sgdG8gdGhlIG1haW4gQXBwXG4gICAgQXBwOiBudWxsLFxuICAgIFxuICAgIGNvbnRyb2xWaWV3OiBudWxsLFxuICAgIFxuICAgIHRlbXBsYXRlOiBwYWdpbmF0aW9uQ29udHJvbHNUZW1wbGF0ZSxcbiAgICBcbiAgICBkZWZhdWx0czoge1xuICAgIFx0aW5maW5pdGVTY3JvbGxIYXNUcmlnZ2VyZWQ6IGZhbHNlLFxuICAgIH0sXG4gICAgXG4gICAgLy8gVGhlIERPTSBldmVudHMgc3BlY2lmaWMgdG8gYW4gaXRlbS5cbiAgICBldmVudHM6IHtcbiAgICAgICAgJ2NsaWNrIC50b2dnbGUtc2VhcmNoLW9uLXNjcm9sbCc6ICd0b2dnbGVTZWFyY2hPblNjcm9sbENsaWNrZWQnLFxuICAgICAgICAnY2xpY2sgLnN0YWxlLXNlYXJjaC1idXR0b24nOiAnc3RhbGVTZWFyY2hCdXR0b25DbGlja2VkJyxcbiAgICAgICAgJ2NsaWNrIC50cmlnZ2VyLXBhZ2luYXRpb24tZm9yd2FyZCc6ICdwYWdpbmF0aW9uRm9yd2FyZENsaWNrZWQnLFxuICAgICAgICAnY2xpY2sgLnRyaWdnZXItcGFnaW5hdGlvbi1iYWNrd2FyZCc6ICdwYWdpbmF0aW9uQmFja0NsaWNrZWQnLFxuICAgICAgICAnY2xpY2sgLnRyaWdnZXItY3JlYXRlLWlkZWEnOiAnY3JlYXRlSWRlYUNsaWNrZWQnLFxuICAgIH0sXG4gICAgXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gKG9wdGlvbnMsIGFwcCwgY29udHJvbFZpZXcpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBCYXNlVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHNlbGYsIG9wdGlvbnMpO1xuICAgICAgICBzZWxmLkFwcCA9IGFwcDtcbiAgICAgICAgc2VsZi5jb250cm9sVmlldyA9IGNvbnRyb2xWaWV3O1xuICAgICAgICBcbiAgICAgICAgaWYgKHNlbGYuY29udHJvbFZpZXcub3B0aW9ucy5wYWdpbmF0aW9uQ29udHJvbHNVc2VJbmZpbml0ZVNjcm9sbCkge1xuICAgICAgICBcdEJhY2tib25lLm1lZGlhdG9yLnN1YnNjcmliZSgndGlsZS1saXN0OnNjcm9sbC1lbmQtcmVhY2hlZCcsIHNlbGYuaGFuZGxlSW5maW5pdGVTY3JvbGxUcmlnZ2VyZWQsIHNlbGYpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBcbiAgICAvKiogRXh0ZW5kIHRoZSB0ZW1wbGF0ZSBkYXRhIGJ5IHRoZSBjb250cm9sVmlldydzIG9wdGlvbnMgYW5kIHN0YXRlICovXG4gICAgZ2V0VGVtcGxhdGVEYXRhOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIGRhdGEgPSBCYXNlVmlldy5wcm90b3R5cGUuZ2V0VGVtcGxhdGVEYXRhLmNhbGwoc2VsZik7XG4gICAgICAgIHZhciBzaG93X2lkZWFfYnV0dG9uID0gQ09TSU5OVVNfSURFQVNfRU5BQkxFRCAmJiBzZWxmLkFwcC5kaXNwbGF5T3B0aW9ucy5zaG93TWFwICYmICFzZWxmLkFwcC5tYXBWaWV3LmRyYWdnYWJsZU1hcmtlcjtcbiAgICAgICAgXG4gICAgICAgIGRhdGEgPSBfLmV4dGVuZChcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBzZWxmLmNvbnRyb2xWaWV3Lm9wdGlvbnMsXG4gICAgICAgICAgICBzZWxmLmNvbnRyb2xWaWV3LnN0YXRlLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgXHRzaG93X2lkZWFfYnV0dG9uOiBzaG93X2lkZWFfYnV0dG9uXG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH0sXG4gICAgXG4gICAgYWZ0ZXJSZW5kZXI6IGZ1bmN0aW9uICgpIHtcbiAgICBcdC8vIHJlc2V0IGluZmluaXRlIHNjcm9sbCBsb2NrXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgc2VsZi5zdGF0ZS5pbmZpbml0ZVNjcm9sbEhhc1RyaWdnZXJlZCA9IGZhbHNlO1xuICAgIH0sXG4gICAgXG4gICAgLy8gRXZlbnRzICAtLS0tLS0tLS0tLS0tXG4gICAgXG4gICAgLyoqIENhbGxlZCB3aGVuIHRoZSBlbmQgb2YgdGhlIHNjcm9sbCBsaXN0IGlzIHJlYWNoZWQuXG4gICAgICogXHRDYW4gYmUgY2FsbGVkIG11bHRpcGxlIHRpbWVzLCBhbmQgZXZlbiB3aGVuIHRoZSBmdWxsIGxpc3QgaXMgYWxyZWFkeSBsb2FkZWQuICovXG4gICAgaGFuZGxlSW5maW5pdGVTY3JvbGxUcmlnZ2VyZWQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIFx0aWYgKCF0aGlzLmNvbnRyb2xWaWV3LnN0YXRlLnNlYXJjaGluZyAmJiAhdGhpcy5zdGF0ZS5pbmZpbml0ZVNjcm9sbEhhc1RyaWdnZXJlZCkge1xuICAgIFx0XHR0aGlzLnN0YXRlLmluZmluaXRlU2Nyb2xsSGFzVHJpZ2dlcmVkID0gdHJ1ZTtcbiAgICBcdFx0dGhpcy5wYWdpbmF0aW9uRm9yd2FyZENsaWNrZWQoKTtcbiAgICBcdH1cbiAgICB9LFxuXG4gICAgLy8gZGVsZWdhdGUgdG8gY29udHJvbFZpZXdcbiAgICB0b2dnbGVTZWFyY2hPblNjcm9sbENsaWNrZWQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB0aGlzLmNvbnRyb2xWaWV3LnRvZ2dsZVNlYXJjaE9uU2Nyb2xsQ2xpY2tlZChldmVudCk7XG4gICAgfSxcbiAgICBcbiAgICAvLyBkZWxlZ2F0ZSB0byBjb250cm9sVmlld1xuICAgIHN0YWxlU2VhcmNoQnV0dG9uQ2xpY2tlZDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgXHR0aGlzLmNvbnRyb2xWaWV3LnN0YWxlU2VhcmNoQnV0dG9uQ2xpY2tlZChldmVudCk7XG4gICAgfSxcbiAgICBcbiAgICAvLyBkZWxlZ2F0ZSB0byBjb250cm9sVmlld1xuICAgIHBhZ2luYXRpb25Gb3J3YXJkQ2xpY2tlZDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgXHR0aGlzLmNvbnRyb2xWaWV3LnBhZ2luYXRpb25Gb3J3YXJkQ2xpY2tlZChldmVudCk7XG4gICAgfSxcbiAgICBcbiAgICAvLyBkZWxlZ2F0ZSB0byBjb250cm9sVmlld1xuICAgIHBhZ2luYXRpb25CYWNrQ2xpY2tlZDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgXHR0aGlzLmNvbnRyb2xWaWV3LnBhZ2luYXRpb25CYWNrQ2xpY2tlZChldmVudCk7XG4gICAgfSxcbiAgICBcbiAgICAvLyBkZWxlZ2F0ZSB0byBjb250cm9sVmlld1xuICAgIGNyZWF0ZUlkZWFDbGlja2VkOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBcdHRoaXMuY29udHJvbFZpZXcub3BlbkNyZWF0ZUlkZWFWaWV3KGV2ZW50KTtcbiAgICB9LFxuICAgIFxufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Nvc2lubnVzL2NsaWVudC92aWV3cy9wYWdpbmF0aW9uLWNvbnRyb2wtdmlldy5qc1xuLy8gbW9kdWxlIGlkID0gMTdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIG51bmp1Y2tzID0gcmVxdWlyZShcIm51bmp1Y2tzL2Jyb3dzZXIvbnVuanVja3Mtc2xpbVwiKTtcbnZhciBlbnY7XG5pZiAoIW51bmp1Y2tzLmN1cnJlbnRFbnYpe1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52ID0gbmV3IG51bmp1Y2tzLkVudmlyb25tZW50KFtdLCB1bmRlZmluZWQpO1xufSBlbHNlIHtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudjtcbn1cbnZhciBjb25maWd1cmUgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vLi4vbnVuanVja3MuY29uZmlnLmpzXCIpKGVudik7XG52YXIgZGVwZW5kZW5jaWVzID0gbnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyB8fCAobnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyA9IHt9KTtcblxuXG5cblxudmFyIHNoaW0gPSByZXF1aXJlKFwiL2hvbWUvc2FzY2hhL3ByL2Nvc2lubnVzLWNvcmUvbm9kZV9tb2R1bGVzL251bmp1Y2tzLWxvYWRlci9ydW50aW1lLXNoaW1cIik7XG5cblxuKGZ1bmN0aW9uKCkgeyhudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkID0gbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZCB8fCB7fSlbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL21hcC9wYWdpbmF0aW9uLWNvbnRyb2xzLmh0bWxcIl0gPSAoZnVuY3Rpb24oKSB7XG5mdW5jdGlvbiByb290KGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG52YXIgcGFyZW50VGVtcGxhdGUgPSBudWxsO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwicGFzc1Rocm91Z2hcIilbXCJydW5cIl0oY29udGV4dCxydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImkxOG5cIikpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFxuXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInBhZ2luYXRpb25Db250cm9sc0VuYWJsZWRcIikgJiYgIXJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicGFnaW5hdGlvbkNvbnRyb2xzVXNlSW5maW5pdGVTY3JvbGxcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJtYXAtcGFnaW5hdGlvbi1jb250cm9scyBtb2JpbGUtdmlldyBtb2JpbGUtdmlldy1saXN0LXZpc2libGUtYmxvY2tcXFwiPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwibGluZVxcXCI+XFxuICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInBhZ2VcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbiByb3VuZGVkLWJ1dHRvbi1jaXJjdWxhciBidXR0b24tYWN0aW9uIHRyaWdnZXItcGFnaW5hdGlvbi1iYWNrd2FyZCBcIjtcbmlmKCFydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJwYWdlXCIpKSxcImhhc19wcmV2aW91c1wiKSkge1xub3V0cHV0ICs9IFwiZGlzYWJsZWQgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uLWlubmVyXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtZncgZmEtY2hldnJvbi1sZWZ0XFxcIj48L2k+XFxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJpbmxpbmUtc3BhY2VyXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJwYWdlXCIpKSxcInN0YXJ0XCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIiAtIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJwYWdlXCIpKSxcImVuZFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuaWYoMSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJvZlwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJwYWdlXCIpKSxcInRvdGFsX2NvdW50XCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiUmVzdWx0c1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiaW5saW5lLXNwYWNlciByb3VuZGVkLWJ1dHRvbiByb3VuZGVkLWJ1dHRvbi1jaXJjdWxhciBidXR0b24tYWN0aW9uIHRyaWdnZXItcGFnaW5hdGlvbi1mb3J3YXJkIFwiO1xuaWYoIXJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInBhZ2VcIikpLFwiaGFzX25leHRcIikpIHtcbm91dHB1dCArPSBcImRpc2FibGVkIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbi1pbm5lclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWZ3IGZhLWNoZXZyb24tcmlnaHRcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJzcGFjZXJcXFwiPjwvZGl2PlxcbiAgICAgICAgICAgICAgICA8aT5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJObyByZXN1bHRzIGZvdW5kLlwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICA8L2k+XFxuICAgICAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICBcXG4gICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzZWFyY2hIYWRFcnJvcnNcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcIm1lc3NhZ2UtZXJyb3JcXFwiPlxcbiAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtd2FybmluZ1xcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJDb3VsZCBub3QgY29tcGxldGUgdGhlIHNlYXJjaCBkdWUgdG8gYW4gZXJyb3IuXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgXFxuICAgICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cXG5cIjtcbm91dHB1dCArPSBcIlxcblwiO1xuaWYoMCAmJiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNjcm9sbENvbnRyb2xzRW5hYmxlZFwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgIDxkaXYgY2xhc3M9XFxcIm1hcC1zY3JvbGwtY29udHJvbHMgbW9iaWxlLWhpZGRlblxcXCI+XFxuICAgICAgICA8dGFibGUgY2xhc3M9XFxcIm9ub2Zmc3dpdGNoLWZyYW1lXFxcIj5cXG4gICAgICAgICAgICA8dHI+XFxuICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFwib25vZmZzd2l0Y2gtdGV4dC1sYWJlbFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiU2VhcmNoIHdoZW4gbW92aW5nIHRoZSBtYXBcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgPC90ZD5cXG4gICAgICAgICAgICAgICAgPHRkPlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwib25vZmZzd2l0Y2hcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJjaGVja2JveFxcXCIgbmFtZT1cXFwib25vZmZzd2l0Y2gtc2VhcmNoLW9uLXNjcm9sbFxcXCIgY2xhc3M9XFxcIm9ub2Zmc3dpdGNoLWNoZWNrYm94IHRvZ2dsZS1zZWFyY2gtb24tc2Nyb2xsXFxcIiBpZD1cXFwiY2hlY2stc2VhcmNoLW9uLXNjcm9sbFxcXCIgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNlYXJjaE9uU2Nyb2xsXCIpKSB7XG5vdXRwdXQgKz0gXCJjaGVja2VkXCI7XG47XG59XG5vdXRwdXQgKz0gXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJvbm9mZnN3aXRjaC1sYWJlbFxcXCIgZm9yPVxcXCJjaGVjay1zZWFyY2gtb24tc2Nyb2xsXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcIm9ub2Zmc3dpdGNoLWlubmVyXFxcIj48L3NwYW4+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJvbm9mZnN3aXRjaC1zd2l0Y2hcXFwiPjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgIDwvdGQ+XFxuICAgICAgICAgICAgPC90cj5cXG4gICAgICAgIDwvdGFibGU+XFxuICAgICAgICBcXG4gICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICBcIjtcbmlmKDAgJiYgIXJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2VhcmNoT25TY3JvbGxcIikgJiYgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJyZXN1bHRzU3RhbGVcIikgJiYgIXJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2VhcmNoaW5nXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbiBidXR0b24tY29sb3ItYWN0aW9uIHN0YWxlLXNlYXJjaC1idXR0b25cXFwiPlxcbiAgICAgICAgICAgICAgIDxzcGFuPlxcbiAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJTZWFyY2ggdGhpcyBhcmVhXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgPC9kaXY+XFxuXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cXG4gICAgICAgICAgICBcXG48ZGl2IGNsYXNzPVxcXCJtYXAtY3JlYXRlLWlkZWEtYnV0dG9uLWZyYW1lIG1vYmlsZS1oaWRkZW5cXFwiPlxcbiAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2hvd19pZGVhX2J1dHRvblwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcblxcdCAgICBcXG5cXHQgICAgXFxuXFx0ICAgIDxhIFwiO1xuaWYoIXJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29zaW5udXNfYWN0aXZlX3VzZXJcIikpIHtcbm91dHB1dCArPSBcImhyZWY9XFxcIi9zaWdudXAvP2FjY19yZXFfbXNnPTEmbmV4dD0vbWFwL1xcXCIgY2xhc3M9XFxcIlwiO1xuO1xufVxuZWxzZSB7XG5vdXRwdXQgKz0gXCJjbGFzcz1cXFwidHJpZ2dlci1jcmVhdGUtaWRlYVwiO1xuO1xufVxub3V0cHV0ICs9IFwiIHJvdW5kZWQtYnV0dG9uIGJ1dHRvbi1jb2xvci1pZGVhcy1pbnZlcnRlZCBzaGFkb3dlZC1idXR0b25cXFwiPlxcblxcdCAgICAgICAgPHNwYW4gY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uLWlubmVyXFxcIj5cXG5cXHQgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtbGlnaHRidWxiLW9cXFwiPjwvaT5cXG5cXHQgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcblxcdCAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkNyZWF0ZSBJZGVhXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0ICAgICAgICA8L3NwYW4+XFxuXFx0ICAgIDwvYT5cXG4gICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgXFxuICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzcGxpdHNjcmVlblwiKSAmJiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIkNPU0lOTlVTX1NIT1dfUFJPSkVDVF9BTkRfR1JPVVBfQ1JFQVRFX0JVVFRPTlNcIikpIHtcbm91dHB1dCArPSBcIlxcblxcdCAgICA8YSBocmVmPVxcXCJcIjtcbmlmKCFydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvc2lubnVzX2FjdGl2ZV91c2VyXCIpKSB7XG5vdXRwdXQgKz0gXCIvc2lnbnVwLz9hY2NfcmVxX21zZz0xJm5leHQ9XCI7XG47XG59XG5vdXRwdXQgKz0gXCIvcHJvamVjdHMvYWRkL1xcXCIgY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uIGJ1dHRvbi1jb2xvci1wcm9qZWN0cy1pbnZlcnRlZCBzaGFkb3dlZC1idXR0b25cXFwiPlxcblxcdCAgICAgICAgPHNwYW4gY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uLWlubmVyXFxcIj5cXG5cXHQgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtZ3JvdXBcXFwiPjwvaT5cXG5cXHQgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcblxcdCAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkNyZWF0ZSBQcm9qZWN0XCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0ICAgICAgICA8L3NwYW4+XFxuXFx0ICAgIDwvYT5cXG4gICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cXG4gICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNwbGl0c2NyZWVuXCIpICYmIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiQ09TSU5OVVNfTUFUQ0hJTkdfRU5BQkxFRFwiKSkge1xub3V0cHV0ICs9IFwiXFxuXFx0ICAgIDxhIGhyZWY9XFxcIlwiO1xuaWYoIXJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29zaW5udXNfYWN0aXZlX3VzZXJcIikpIHtcbm91dHB1dCArPSBcIi9zaWdudXAvP2FjY19yZXFfbXNnPTEmbmV4dD1cIjtcbjtcbn1cbm91dHB1dCArPSBcIi9tYXAvP21hdGNoaW5nPXRydWVcXFwiIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbiBidXR0b24tY29sb3ItcHJpbWFyeS1pbnZlcnRlZCBzaGFkb3dlZC1idXR0b25cXFwiPlxcblxcdCAgICAgICAgPHNwYW4gY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uLWlubmVyXFxcIj5cXG5cXHQgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtcHV6emxlLXBpZWNlXFxcIj48L2k+XFxuXFx0ICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJGaW5kIHBhcnRuZXJzXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0ICAgICAgICA8L3NwYW4+XFxuXFx0ICAgIDwvYT5cXG4gICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG48L2Rpdj5cXG5cIjtcbmlmKHBhcmVudFRlbXBsYXRlKSB7XG5wYXJlbnRUZW1wbGF0ZS5yb290UmVuZGVyRnVuYyhlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYik7XG59IGVsc2Uge1xuY2IobnVsbCwgb3V0cHV0KTtcbn1cbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5yZXR1cm4ge1xucm9vdDogcm9vdFxufTtcblxufSkoKTtcbn0pKCk7XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHNoaW0obnVuanVja3MsIGVudiwgbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZFtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvbWFwL3BhZ2luYXRpb24tY29udHJvbHMuaHRtbFwiXSAsIGRlcGVuZGVuY2llcylcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Nvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvbWFwL3BhZ2luYXRpb24tY29udHJvbHMuaHRtbFxuLy8gbW9kdWxlIGlkID0gMThcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgQmFzZVZpZXcgPSByZXF1aXJlKCd2aWV3cy9iYXNlL3ZpZXcnKTtcbnZhciB1dGlsID0gcmVxdWlyZSgnbGliL3V0aWwnKTtcblxudmFyIG1vYmlsZUNvbnRyb2xzVGVtcGxhdGUgPSByZXF1aXJlKCdtYXAvbW9iaWxlLWNvbnRyb2xzJyk7XG5cblxuLyoqIFxuICogQSBzbWFsbCB2aWV3LCBiYXNpY2FsbHkganVzdCB0byBlbmNhcHN1bGF0ZSB0aGUgbW9iaWxlIGNvbnRyb2xcbiAqIHRlbXBsYXRlIGFuZCBidXR0b25zLCB0byBiZSBhYmxlIHRvIHJlbmRlciBhbmQgcmVmcmVzaCB0aGVtIGluZGVwZW5kZW50bHlcbiAqIG9mIHRoZSBzZWFyY2ggY29udHJvbHMuIFxuICogVGhpcyBpcyBjb250YWluZWQgYnkgYW5kIGRlbGVnYXRlcyBhbG1vc3QgZXZlcnl0aGluZyBiYWNrIHRvIHRoZSBjb250cm9sLXZpZXcuXG4gKiAqL1xubW9kdWxlLmV4cG9ydHMgPSBCYXNlVmlldy5leHRlbmQoe1xuICAgIFxuICAgIC8vIHJlZmVyZW5jZSBiYWNrIHRvIHRoZSBtYWluIEFwcFxuICAgIEFwcDogbnVsbCxcbiAgICBcbiAgICBjb250cm9sVmlldzogbnVsbCxcbiAgICBcbiAgICB0ZW1wbGF0ZTogbW9iaWxlQ29udHJvbHNUZW1wbGF0ZSxcbiAgICBcbiAgICAvLyBUaGUgRE9NIGV2ZW50cyBzcGVjaWZpYyB0byBhbiBpdGVtLlxuICAgIGV2ZW50czoge1xuICAgICAgICAnY2xpY2sgLnRyaWdnZXItbW9iaWxlLWxpc3Qtdmlldyc6ICd0cmlnZ2VyTW9iaWxlTGlzdFZpZXcnLFxuICAgICAgICAnY2xpY2sgLnRyaWdnZXItbW9iaWxlLXNlYXJjaC12aWV3JzogJ3RyaWdnZXJNb2JpbGVTZWFyY2hWaWV3JyxcbiAgICAgICAgJ2NsaWNrIC50cmlnZ2VyLW1vYmlsZS1tYXAtdmlldyc6ICd0cmlnZ2VyTW9iaWxlTWFwVmlldycsXG4gICAgICAgICdjbGljayAudHJpZ2dlci1tb2JpbGUtaWRlYS1jcmVhdGUtMS12aWV3JzogJ3RyaWdnZXJNb2JpbGVJZGVhQ3JlYXRlMVZpZXcnLFxuICAgICAgICAnY2xpY2sgLnRyaWdnZXItbW9iaWxlLWlkZWEtY3JlYXRlLTItdmlldyc6ICd0cmlnZ2VyTW9iaWxlSWRlYUNyZWF0ZTJWaWV3J1xuICAgIH0sXG4gICAgXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gKG9wdGlvbnMsIGFwcCwgY29udHJvbFZpZXcpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBCYXNlVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHNlbGYsIG9wdGlvbnMpO1xuICAgICAgICBzZWxmLkFwcCA9IGFwcDtcbiAgICAgICAgc2VsZi5jb250cm9sVmlldyA9IGNvbnRyb2xWaWV3O1xuICAgIH0sXG4gICAgXG4gICAgLyoqIEV4dGVuZCB0aGUgdGVtcGxhdGUgZGF0YSBieSB0aGUgY29udHJvbFZpZXcncyBvcHRpb25zIGFuZCBzdGF0ZSAqL1xuICAgIGdldFRlbXBsYXRlRGF0YTogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBkYXRhID0gQmFzZVZpZXcucHJvdG90eXBlLmdldFRlbXBsYXRlRGF0YS5jYWxsKHNlbGYpO1xuICAgICAgICBkYXRhID0gXy5leHRlbmQoXG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgc2VsZi5jb250cm9sVmlldy5vcHRpb25zLFxuICAgICAgICAgICAgc2VsZi5jb250cm9sVmlldy5zdGF0ZVxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9LFxuICAgIFxuICAgIFxuICAgIC8vIEV2ZW50cyAgLS0tLS0tLS0tLS0tLVxuICAgIFxuXG4gICAgLy8gZGVsZWdhdGUgdG8gY29udHJvbFZpZXdcbiAgICB0cmlnZ2VyTW9iaWxlTGlzdFZpZXc6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB0aGlzLmNvbnRyb2xWaWV3LnRyaWdnZXJNb2JpbGVMaXN0VmlldygpO1xuICAgIH0sXG5cbiAgICAvLyBkZWxlZ2F0ZSB0byBjb250cm9sVmlld1xuICAgIHRyaWdnZXJNb2JpbGVTZWFyY2hWaWV3OiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBcdHRoaXMuY29udHJvbFZpZXcudHJpZ2dlck1vYmlsZVNlYXJjaFZpZXcoKTtcbiAgICB9LFxuXG4gICAgLy8gZGVsZWdhdGUgdG8gY29udHJvbFZpZXdcbiAgICB0cmlnZ2VyTW9iaWxlTWFwVmlldzogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgXHR0aGlzLmNvbnRyb2xWaWV3LnRyaWdnZXJNb2JpbGVNYXBWaWV3KCk7XG4gICAgfSxcbiAgICBcbiAgICAvLyBkZWxlZ2F0ZSB0byBjb250cm9sVmlld1xuICAgIHRyaWdnZXJNb2JpbGVJZGVhQ3JlYXRlMVZpZXc6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIFx0dGhpcy5jb250cm9sVmlldy50cmlnZ2VyTW9iaWxlSWRlYUNyZWF0ZTFWaWV3KCk7XG4gICAgfSxcblxuICAgIC8vIGRlbGVnYXRlIHRvIGNvbnRyb2xWaWV3XG4gICAgdHJpZ2dlck1vYmlsZUlkZWFDcmVhdGUyVmlldzogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgXHR0aGlzLmNvbnRyb2xWaWV3LnRyaWdnZXJNb2JpbGVJZGVhQ3JlYXRlMlZpZXcoKTtcbiAgICB9LFxuICAgIFxuICAgIFxufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Nvc2lubnVzL2NsaWVudC92aWV3cy9tb2JpbGUtY29udHJvbC12aWV3LmpzXG4vLyBtb2R1bGUgaWQgPSAxOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgbnVuanVja3MgPSByZXF1aXJlKFwibnVuanVja3MvYnJvd3Nlci9udW5qdWNrcy1zbGltXCIpO1xudmFyIGVudjtcbmlmICghbnVuanVja3MuY3VycmVudEVudil7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnYgPSBuZXcgbnVuanVja3MuRW52aXJvbm1lbnQoW10sIHVuZGVmaW5lZCk7XG59IGVsc2Uge1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52O1xufVxudmFyIGNvbmZpZ3VyZSA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi8uLi9udW5qdWNrcy5jb25maWcuanNcIikoZW52KTtcbnZhciBkZXBlbmRlbmNpZXMgPSBudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzIHx8IChudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzID0ge30pO1xuXG5cblxuXG52YXIgc2hpbSA9IHJlcXVpcmUoXCIvaG9tZS9zYXNjaGEvcHIvY29zaW5udXMtY29yZS9ub2RlX21vZHVsZXMvbnVuanVja3MtbG9hZGVyL3J1bnRpbWUtc2hpbVwiKTtcblxuXG4oZnVuY3Rpb24oKSB7KG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgPSBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkIHx8IHt9KVtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvbWFwL21vYmlsZS1jb250cm9scy5odG1sXCJdID0gKGZ1bmN0aW9uKCkge1xuZnVuY3Rpb24gcm9vdChlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xudmFyIHBhcmVudFRlbXBsYXRlID0gbnVsbDtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiQ09TSU5OVVNfSURFQVNfRU5BQkxFRFwiKSkge1xub3V0cHV0ICs9IFwiXFxuXFx0PGRpdiBjbGFzcz1cXFwibWFwLW1vYmlsZS1jb250cm9scyBsZWZ0LXNpZGUgbW9iaWxlLW9ubHkgbW9iaWxlLXZpZXcgbW9iaWxlLXZpZXctbWFwLXZpc2libGUtYmxvY2tcXFwiPlxcblxcdFxcdDxhIFwiO1xuaWYoIXJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29zaW5udXNfYWN0aXZlX3VzZXJcIikpIHtcbm91dHB1dCArPSBcImhyZWY9XFxcIi9zaWdudXAvP2FjY19yZXFfbXNnPTEmbmV4dD0vbWFwL1xcXCIgY2xhc3M9XFxcIlwiO1xuO1xufVxuZWxzZSB7XG5vdXRwdXQgKz0gXCJjbGFzcz1cXFwidHJpZ2dlci1tb2JpbGUtaWRlYS1jcmVhdGUtMS12aWV3XCI7XG47XG59XG5vdXRwdXQgKz0gXCIgcHVsbC1sZWZ0IHJvdW5kZWQtYnV0dG9uIGJ1dHRvbi1hY3Rpb24tZmFkZWQgc2hhZG93ZWQtYnV0dG9uXFxcIj5cXG5cXHRcXHQgICAgPHNwYW4gY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uLWlubmVyXFxcIj5cXG5cXHRcXHQgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1mdyBmYS1saWdodGJ1bGItbyBhcHBseS1jb2xvci1pZGVhc1xcXCI+PC9pPlxcblxcdFxcdCAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHQgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkNyZWF0ZSBpZGVhXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0ICAgIDwvc3Bhbj5cXG5cXHRcXHQ8L2E+XFxuXFx0PC9kaXY+XFxuXFx0XFxuXFx0PGRpdiBjbGFzcz1cXFwibWFwLW1vYmlsZS1jb250cm9scyBtYXAtcGFnaW5hdGlvbi1jb250cm9scyBmdWxsLXdpZHRoIHZlcnRpY2FsLWNlbnRlci1wYXJlbnQgICBtb2JpbGUtb25seSBtb2JpbGUtdmlldyBtb2JpbGUtdmlldy1pZGVhLWNyZWF0ZS0xLXZpc2libGUtYmxvY2tcXFwiPlxcbiAgICAgICAgPGEgY2xhc3M9XFxcInRyaWdnZXItbW9iaWxlLWlkZWEtY3JlYXRlLTItdmlldyByb3VuZGVkLWJ1dHRvbiBidXR0b24tY29sb3ItYWN0aW9uIHB1bGwtcmlnaHQgaW5saW5lLXNwYWNlciB2ZXJ0aWNhbC1jZW50ZXItY2hpbGRcXFwiPlxcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbi1pbm5lclxcXCI+XFxuICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIk5leHRcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICA8L2E+XFxuXFx0ICAgIDxkaXYgY2xhc3M9XFxcImNvbnRyb2xzLWRlc2NyaXB0aW9uIHZlcnRpY2FsLWNlbnRlci1jaGlsZFxcXCI+XFxuXFx0ICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkNob29zZSBhIGxvY2F0aW9uIGZvciB5b3VyIGlkZWEgYnkgZHJhZ2dpbmcgdGhlIG1hcmtlciFcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcblxcdFxcblwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXFxuPGRpdiBjbGFzcz1cXFwibWFwLW1vYmlsZS1jb250cm9scyBtb2JpbGUtb25seVxcXCI+XFxuICAgIFwiO1xuaWYoIXJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZnVsbHNjcmVlblwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgIDxkaXYgY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uIHJvdW5kZWQtYnV0dG9uLWNpcmN1bGFyIGJ1dHRvbi1hY3Rpb24tZmFkZWQgc2hhZG93ZWQtYnV0dG9uIHRyaWdnZXItbW9iaWxlLXNlYXJjaC12aWV3ICAgbW9iaWxlLXZpZXcgbW9iaWxlLXZpZXctbGlzdC12aXNpYmxlLWlubGluZS1ibG9jayAgbW9iaWxlLXZpZXctbWFwLXZpc2libGUtaW5saW5lLWJsb2NrIG1vYmlsZS12aWV3LWRldGFpbC12aXNpYmxlLWlubGluZS1ibG9ja1xcXCI+XFxuICAgICAgICA8c3BhbiBjbGFzcz1cXFwicm91bmRlZC1idXR0b24taW5uZXJcXFwiPlxcbiAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1mdyBmYS1zZWFyY2hcXFwiPjwvaT5cXG4gICAgICAgIDwvc3Bhbj5cXG4gICAgPC9kaXY+XFxuICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzcGxpdHNjcmVlblwiKSkge1xub3V0cHV0ICs9IFwiXFxuXFx0ICAgIDxkaXYgY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uIHJvdW5kZWQtYnV0dG9uLWNpcmN1bGFyIGJ1dHRvbi1hY3Rpb24tZmFkZWQgc2hhZG93ZWQtYnV0dG9uIHRyaWdnZXItbW9iaWxlLW1hcC12aWV3ICAgbW9iaWxlLXZpZXcgbW9iaWxlLXZpZXctc2VhcmNoLXZpc2libGUtaW5saW5lLWJsb2NrICBtb2JpbGUtdmlldy1saXN0LXZpc2libGUtaW5saW5lLWJsb2NrIG1vYmlsZS12aWV3LWRldGFpbC12aXNpYmxlLWlubGluZS1ibG9ja1xcXCI+XFxuXFx0ICAgICAgICA8c3BhbiBjbGFzcz1cXFwicm91bmRlZC1idXR0b24taW5uZXJcXFwiPlxcblxcdCAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1mdyBmYS1tYXAtbWFya2VyXFxcIj48L2k+XFxuXFx0ICAgICAgICA8L3NwYW4+XFxuXFx0ICAgIDwvZGl2PlxcbiAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbiByb3VuZGVkLWJ1dHRvbi1jaXJjdWxhciBidXR0b24tYWN0aW9uLWZhZGVkIHNoYWRvd2VkLWJ1dHRvbiB0cmlnZ2VyLW1vYmlsZS1saXN0LXZpZXcgICBtb2JpbGUtdmlldyBtb2JpbGUtdmlldy1tYXAtdmlzaWJsZS1pbmxpbmUtYmxvY2sgIG1vYmlsZS12aWV3LXNlYXJjaC12aXNpYmxlLWlubGluZS1ibG9jayBtb2JpbGUtdmlldy1kZXRhaWwtdmlzaWJsZS1pbmxpbmUtYmxvY2tcXFwiPlxcbiAgICAgICAgPHNwYW4gY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uLWlubmVyXFxcIj5cXG4gICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtZncgZmEtbGlzdC11bFxcXCI+PC9pPlxcbiAgICAgICAgPC9zcGFuPlxcbiAgICA8L2Rpdj5cXG48L2Rpdj5cIjtcbmlmKHBhcmVudFRlbXBsYXRlKSB7XG5wYXJlbnRUZW1wbGF0ZS5yb290UmVuZGVyRnVuYyhlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYik7XG59IGVsc2Uge1xuY2IobnVsbCwgb3V0cHV0KTtcbn1cbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5yZXR1cm4ge1xucm9vdDogcm9vdFxufTtcblxufSkoKTtcbn0pKCk7XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHNoaW0obnVuanVja3MsIGVudiwgbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZFtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvbWFwL21vYmlsZS1jb250cm9scy5odG1sXCJdICwgZGVwZW5kZW5jaWVzKVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC9tYXAvbW9iaWxlLWNvbnRyb2xzLmh0bWxcbi8vIG1vZHVsZSBpZCA9IDIwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxudmFyIEJhc2VWaWV3ID0gcmVxdWlyZSgndmlld3MvYmFzZS92aWV3Jyk7XG52YXIgdXRpbCA9IHJlcXVpcmUoJ2xpYi91dGlsJyk7XG5cblxubW9kdWxlLmV4cG9ydHMgPSBCYXNlVmlldy5leHRlbmQoe1xuICAgIFxuICAgIC8vIHJlZmVyZW5jZSBiYWNrIHRvIHRoZSBtYWluIEFwcFxuICAgIEFwcDogbnVsbCxcbiAgICBcbiAgICBjb250cm9sVmlldzogbnVsbCxcbiAgICBcbiAgICBtb2RlbDogbnVsbCxcblxuICAgIHRlbXBsYXRlOiByZXF1aXJlKCd0aWxlcy90aWxlLWRldGFpbC1jcmVhdGUtaWRlYScpLFxuICAgIFxuICAgIC8vIFRoZSBET00gZXZlbnRzIHNwZWNpZmljIHRvIGFuIGl0ZW0uXG4gICAgZXZlbnRzOiB7XG4gICAgICAgICdjbGljayAudGlsZS1jbG9zZS1idXR0b24nOiAnb25DbG9zZUNsaWNrZWQnLFxuICAgICAgICAnY2xpY2sgLnRyaWdnZXItY3JlYXRlLWlkZWEtc3VibWl0JzogJ29uU3VibWl0Q2xpY2tlZCcsXG4gICAgICAgICdjbGljayAudHJpZ2dlci1tb2JpbGUtaWRlYS1iYWNrJzogJ29uTW9iaWxlSWRlYUJhY2tDbGlja2VkJyxcbiAgICB9LFxuICAgIFxuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIChvcHRpb25zLCBhcHAsIGNvbnRyb2xWaWV3KSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgQmFzZVZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbChzZWxmLCBvcHRpb25zKTtcbiAgICAgICAgc2VsZi5BcHAgPSBhcHA7XG4gICAgICAgIHNlbGYuY29udHJvbFZpZXcgPSBjb250cm9sVmlldztcbiAgICAgICAgXG4gICAgICAgIEJhY2tib25lLm1lZGlhdG9yLnN1YnNjcmliZSgnaWRlYXM6Y3JlYXRlLXZpZXctb3BlbmVkJywgc2VsZi5vblZpZXdPcGVuZWQsIHNlbGYpO1xuICAgICAgICBCYWNrYm9uZS5tZWRpYXRvci5zdWJzY3JpYmUoJ2lkZWFzOmNyZWF0ZS12aWV3LWNsb3NlZCcsIHNlbGYub25WaWV3Q2xvc2VkLCBzZWxmKTtcbiAgICB9LFxuXG4gICAgLyoqIEV4dGVuZCB0aGUgdGVtcGxhdGUgZGF0YSBieSB0aGUgY29udHJvbFZpZXcncyBvcHRpb25zIGFuZCBzdGF0ZSAqL1xuICAgIGdldFRlbXBsYXRlRGF0YTogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBkYXRhID0gQmFzZVZpZXcucHJvdG90eXBlLmdldFRlbXBsYXRlRGF0YS5jYWxsKHNlbGYpO1xuICAgICAgICBkYXRhWydjb250cm9sVmlldyddID0gXy5leHRlbmQoXG4gICAgICAgICAgICB7fSxcbiAgICAgICAgICAgIHNlbGYuQXBwLmNvbnRyb2xWaWV3Lm9wdGlvbnMsXG4gICAgICAgICAgICBzZWxmLkFwcC5jb250cm9sVmlldy5zdGF0ZVxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9LFxuICAgIFxuICAgIGFmdGVyUmVuZGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgXHRpbml0X3NpbXBsZW1kZSgkKCcjaWRlYS1jcmVhdGUtZGVzY3JpcHRpb24nKVswXSk7XG4gICAgfSxcbiAgICBcbiAgICBvblZpZXdPcGVuZWQ6IGZ1bmN0aW9uICgpIHtcbiAgICBcdHRoaXMuJGVsLmZpbmQoJyNpZGVhLWNyZWF0ZS10aXRsZScpLmZvY3VzKCk7XG4gICAgXHR0aGlzLkFwcC5tYXBWaWV3LmFjdGl2YXRlRHJhZ2dhYmxlTWFya2VyKCdpZGVhcycpO1xuICAgIFx0JCgnLnRyaWdnZXItY3JlYXRlLWlkZWEnKS5oaWRlKCk7XG4gICAgICAgIEJhY2tib25lLm1lZGlhdG9yLnB1Ymxpc2goJ3RpbGUtZGV0YWlsOm9wZW5lZCcpO1xuICAgIH0sXG4gICAgXG4gICAgb25WaWV3Q2xvc2VkOiBmdW5jdGlvbiAoKSB7XG4gICAgXHR0aGlzLkFwcC5tYXBWaWV3LmRlYWN0aXZhdGVEcmFnZ2FibGVNYXJrZXIoKTtcbiAgICBcdCQoJy50cmlnZ2VyLWNyZWF0ZS1pZGVhJykuc2hvdygpO1xuICAgICAgICBCYWNrYm9uZS5tZWRpYXRvci5wdWJsaXNoKCd0aWxlLWRldGFpbDpjbG9zZWQnKTtcbiAgICB9LFxuICAgIFxuICAgIC8vIHRoZSB2aWV3IGlzIGJlaW5nIGNsb3NlZFxuICAgIG9uQ2xvc2VDbGlja2VkOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBcdHRoaXMuY29udHJvbFZpZXcuY2xvc2VDcmVhdGVJZGVhVmlldyhldmVudCk7XG4gICAgfSxcbiAgICBcbiAgICAvLyBzdWJtaXQgYnV0dG9uIHdhcyBjbGlja2VkXG4gICAgb25TdWJtaXRDbGlja2VkOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBcdC8vIGNvbGxlY3QgXCJmb3JtXCIgdmFsdWVzIGFuZCBuYXZpZ2F0ZSB0byB0aGUgcmVhbCBjcmVhdGUgVVJMXG4gICAgXHR2YXIgdGl0bGUgPSB0aGlzLiRlbC5maW5kKCcjaWRlYS1jcmVhdGUtdGl0bGUnKS52YWwoKTtcbiAgICBcdHZhciBkZXNjcmlwdGlvbiA9IGluaXRlZF9zaW1wbGVtZGUudmFsdWUoKTtcbiAgICBcdHZhciBsYXRsbmcgPSB0aGlzLkFwcC5tYXBWaWV3LmdldERyYWdnYWJsZU1hcmtlckxhdExuZygpO1xuICAgIFx0dmFyIHVybCA9ICcvaWRlYXMvYWRkLz8nICsgXG5cdCAgICBcdCd0aXRsZT0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHRpdGxlKSArICcmJyArIFxuXHQgICAgXHQnbGF0PScgKyBsYXRsbmcubGF0ICsgJyYnICsgXG5cdCAgICBcdCdsb249JyArIGxhdGxuZy5sbmcgKyAnJicgK1xuXHQgICAgXHQnZGVzY3JpcHRpb249JyArIGVuY29kZVVSSUNvbXBvbmVudChkZXNjcmlwdGlvbik7IFxuICAgIFx0d2luZG93LmxvY2F0aW9uLmhyZWYgPSB1cmw7XG4gICAgfSxcbiAgICBcbiAgICBvbk1vYmlsZUlkZWFCYWNrQ2xpY2tlZDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgXHR0aGlzLmNvbnRyb2xWaWV3LnRyaWdnZXJNb2JpbGVJZGVhQ3JlYXRlMVZpZXcoZXZlbnQpO1xuICAgIH1cbiAgICBcbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy9jbGllbnQvdmlld3MvY3JlYXRlLWlkZWEtdmlldy5qc1xuLy8gbW9kdWxlIGlkID0gMjFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIG51bmp1Y2tzID0gcmVxdWlyZShcIm51bmp1Y2tzL2Jyb3dzZXIvbnVuanVja3Mtc2xpbVwiKTtcbnZhciBlbnY7XG5pZiAoIW51bmp1Y2tzLmN1cnJlbnRFbnYpe1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52ID0gbmV3IG51bmp1Y2tzLkVudmlyb25tZW50KFtdLCB1bmRlZmluZWQpO1xufSBlbHNlIHtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudjtcbn1cbnZhciBjb25maWd1cmUgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vLi4vbnVuanVja3MuY29uZmlnLmpzXCIpKGVudik7XG52YXIgZGVwZW5kZW5jaWVzID0gbnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyB8fCAobnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyA9IHt9KTtcbmRlcGVuZGVuY2llc1tcImluY2x1ZGUvbWFjcm9zLmh0bWxcIl0gPSByZXF1aXJlKCBcImluY2x1ZGUvbWFjcm9zLmh0bWxcIiApO1xuXG5cblxuXG52YXIgc2hpbSA9IHJlcXVpcmUoXCIvaG9tZS9zYXNjaGEvcHIvY29zaW5udXMtY29yZS9ub2RlX21vZHVsZXMvbnVuanVja3MtbG9hZGVyL3J1bnRpbWUtc2hpbVwiKTtcblxuXG4oZnVuY3Rpb24oKSB7KG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgPSBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkIHx8IHt9KVtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtY3JlYXRlLWlkZWEuaHRtbFwiXSA9IChmdW5jdGlvbigpIHtcbmZ1bmN0aW9uIHJvb3QoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbnZhciBwYXJlbnRUZW1wbGF0ZSA9IG51bGw7XG5lbnYuZ2V0VGVtcGxhdGUoXCJpbmNsdWRlL21hY3Jvcy5odG1sXCIsIGZhbHNlLCBcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtY3JlYXRlLWlkZWEuaHRtbFwiLCBmYWxzZSwgZnVuY3Rpb24odF8yLHRfMSkge1xuaWYodF8yKSB7IGNiKHRfMik7IHJldHVybjsgfVxudF8xLmdldEV4cG9ydGVkKGZ1bmN0aW9uKHRfMyx0XzEpIHtcbmlmKHRfMykgeyBjYih0XzMpOyByZXR1cm47IH1cbmNvbnRleHQuc2V0VmFyaWFibGUoXCJtYWNyb3NcIiwgdF8xKTtcbm91dHB1dCArPSBcIlxcblxcbjxkaXYgY2xhc3M9XFxcInRpbGUtZGV0YWlsIHRpbGUtaWRlYSB0aWxlLWNyZWF0ZS1pZGVhIG1vYmlsZS12aWV3IG1vYmlsZS12aWV3LWlkZWEtY3JlYXRlLTItdmlzaWJsZS1ibG9ja1xcXCI+XFxuICAgIDxkaXYgY2xhc3M9XFxcInRpbGUtY2xvc2UtYnV0dG9uIG1vcmUtcGFkZGluZ1xcXCI+XFxuICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtZncgZmEtY2xvc2VcXFwiPjwvaT5cXG4gICAgPC9kaXY+XFxuICAgIFxcbiAgICBcXG4gICAgXCI7XG4ocGFyZW50VGVtcGxhdGUgPyBmdW5jdGlvbihlLCBjLCBmLCByLCBjYikgeyBjYihcIlwiKTsgfSA6IGNvbnRleHQuZ2V0QmxvY2soXCJ0aXRsZVwiKSkoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF81LHRfNCkge1xuaWYodF81KSB7IGNiKHRfNSk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfNDtcbm91dHB1dCArPSBcIlxcbiAgICBcXG4gICAgXCI7XG4ocGFyZW50VGVtcGxhdGUgPyBmdW5jdGlvbihlLCBjLCBmLCByLCBjYikgeyBjYihcIlwiKTsgfSA6IGNvbnRleHQuZ2V0QmxvY2soXCJmb3JtXCIpKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzcsdF82KSB7XG5pZih0XzcpIHsgY2IodF83KTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF82O1xub3V0cHV0ICs9IFwiXFxuICAgICAgICBcXG4gICAgXFxuICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgIDxkaXYgY2xhc3M9XFxcInNwYWNlciBtb2JpbGUtb25seVxcXCI+Jm5ic3A7PC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XFxcInNwYWNlciBtb2JpbGUtb25seVxcXCI+Jm5ic3A7PC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XFxcInNwYWNlciBtb2JpbGUtb25seVxcXCI+Jm5ic3A7PC9kaXY+XFxuPC9kaXY+XFxuXCI7XG5pZihwYXJlbnRUZW1wbGF0ZSkge1xucGFyZW50VGVtcGxhdGUucm9vdFJlbmRlckZ1bmMoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpO1xufSBlbHNlIHtcbmNiKG51bGwsIG91dHB1dCk7XG59XG59KX0pfSl9KTtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX3RpdGxlKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcInRpbGUtc2VjdGlvbiBuby10b3Atc3BhY2luZyB0aXRsZVxcXCI+XFxuICAgICAgICAgICAgPGgxPlxcbiAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJDcmVhdGUgaWRlYVwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIDwvaDE+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIFxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uIG1vYmlsZS1oaWRkZW5cXFwiPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInB1bGwtbGVmdCBtdWx0aS1zcGFuIG5vbi1tYXAtcGxhY2VtYXJrIHBsYWNlbWFyayBsIGljb24gaWRlYXNcXFwiPjwvZGl2PlxcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9XFxcIm92ZXJmbG93OiBoaWRkZW47XFxcIj5cXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiQ2hvb3NlIGEgbG9jYXRpb24gZm9yIHlvdXIgaWRlYSBieSBkcmFnZ2luZyAmIGRyb3BwaW5nIHRoZSBtYXJrZXIuIFlvdSBjYW4gc3RpbGwgY2hhbmdlIHRoaXMgbG9jYXRpb24gbGF0ZXIgb24uXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIFxcbiAgICBcIjtcbmNiKG51bGwsIG91dHB1dCk7XG47XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl9mb3JtKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcInRpbGUtZGV0YWlsLWZvcm1cXFwiPlxcblxcdCAgICAgICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uXFxcIj5cXG5cXHQgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XFxcImNhcHNcXFwiIGZvcj1cXFwiaWRlYS1jcmVhdGUtdGl0bGVcXFwiPlxcblxcdCAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcblxcdCAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJUaXRsZVwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdCAgICAgICAgICAgIDwvbGFiZWw+IFxcblxcdCAgICAgICAgICAgIDxpbnB1dCBpZD1cXFwiaWRlYS1jcmVhdGUtdGl0bGVcXFwiIHR5cGU9XFxcInRleHRcXFwiIC8+XFxuXFx0ICAgICAgICA8L2Rpdj5cXG5cXHQgICAgICAgIFxcblxcdCAgICAgICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uXFxcIj5cXG5cXHQgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XFxcImNhcHNcXFwiIGZvcj1cXFwiaWRlYS1jcmVhdGUtZGVzY3JpcHRpb25cXFwiPlxcblxcdCAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcblxcdCAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJEZXNjcmlwdGlvblwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdCAgICAgICAgICAgIDwvbGFiZWw+IFxcblxcdCAgICAgICAgICAgIDx0ZXh0YXJlYSBpZD1cXFwiaWRlYS1jcmVhdGUtZGVzY3JpcHRpb25cXFwiIG5hbWU9XFxcImRlc2NyaXB0aW9uXFxcIj48L3RleHRhcmVhPlxcblxcdCAgICAgICAgPC9kaXY+XFxuXFx0ICAgICAgICBcXG5cXHQgICAgICAgIDxkaXYgY2xhc3M9XFxcInRpbGUtc2VjdGlvbiB0aWxlLXNlY3Rpb24tYnV0dG9uLWxpc3RcXFwiPlxcblxcdCAgICAgICAgICAgIDxhIGNsYXNzPVxcXCJwdWxsLXJpZ2h0IHJvdW5kZWQtYnV0dG9uIGJ1dHRvbi1jb2xvci1hY3Rpb24gdHJpZ2dlci1jcmVhdGUtaWRlYS1zdWJtaXRcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uLWlubmVyXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIk5leHRcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgICAgICAgICA8YSBjbGFzcz1cXFwicHVsbC1yaWdodCByb3VuZGVkLWJ1dHRvbiBidXR0b24tYWN0aW9uIHRyaWdnZXItbW9iaWxlLWlkZWEtYmFjayBtb2JpbGUtb25seVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwicm91bmRlZC1idXR0b24taW5uZXJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiQmFjayB0byBsb2NhdGlvbiBzZWxlY3Rpb25cIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgPC9hPlxcblxcdCAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgXCI7XG5jYihudWxsLCBvdXRwdXQpO1xuO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbnJldHVybiB7XG5iX3RpdGxlOiBiX3RpdGxlLFxuYl9mb3JtOiBiX2Zvcm0sXG5yb290OiByb290XG59O1xuXG59KSgpO1xufSkoKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gc2hpbShudW5qdWNrcywgZW52LCBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkW1wiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy90aWxlLWRldGFpbC1jcmVhdGUtaWRlYS5odG1sXCJdICwgZGVwZW5kZW5jaWVzKVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy90aWxlLWRldGFpbC1jcmVhdGUtaWRlYS5odG1sXG4vLyBtb2R1bGUgaWQgPSAyMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgbnVuanVja3MgPSByZXF1aXJlKFwibnVuanVja3MvYnJvd3Nlci9udW5qdWNrcy1zbGltXCIpO1xudmFyIGVudjtcbmlmICghbnVuanVja3MuY3VycmVudEVudil7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnYgPSBuZXcgbnVuanVja3MuRW52aXJvbm1lbnQoW10sIHVuZGVmaW5lZCk7XG59IGVsc2Uge1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52O1xufVxudmFyIGNvbmZpZ3VyZSA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi8uLi9udW5qdWNrcy5jb25maWcuanNcIikoZW52KTtcbnZhciBkZXBlbmRlbmNpZXMgPSBudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzIHx8IChudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzID0ge30pO1xuXG5cblxuXG52YXIgc2hpbSA9IHJlcXVpcmUoXCIvaG9tZS9zYXNjaGEvcHIvY29zaW5udXMtY29yZS9ub2RlX21vZHVsZXMvbnVuanVja3MtbG9hZGVyL3J1bnRpbWUtc2hpbVwiKTtcblxuXG4oZnVuY3Rpb24oKSB7KG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgPSBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkIHx8IHt9KVtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvaW5jbHVkZS9tYWNyb3MuaHRtbFwiXSA9IChmdW5jdGlvbigpIHtcbmZ1bmN0aW9uIHJvb3QoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbnZhciBwYXJlbnRUZW1wbGF0ZSA9IG51bGw7XG52YXIgbWFjcm9fdF8xID0gcnVudGltZS5tYWtlTWFjcm8oXG5bXCJ0eXBlXCJdLCBcbltcImNsYXNzZXNcIiwgXCJzaW5ndWxhclwiLCBcImJ1dHRvblwiLCBcInVzZVN0eWxlc1wiLCBcImNvbG9uXCIsIFwic2hvd0ljb25cIiwgXCJtaW5lXCIsIFwiYWxsXCIsIFwiY3JlYXRlXCIsIFwiQ09TSU5OVVNfVFJBTlNcIl0sIFxuZnVuY3Rpb24gKGxfdHlwZSwga3dhcmdzKSB7XG5mcmFtZSA9IGZyYW1lLnB1c2godHJ1ZSk7XG5rd2FyZ3MgPSBrd2FyZ3MgfHwge307XG5pZiAoa3dhcmdzLmhhc093blByb3BlcnR5KFwiY2FsbGVyXCIpKSB7XG5mcmFtZS5zZXQoXCJjYWxsZXJcIiwga3dhcmdzLmNhbGxlcik7IH1cbmZyYW1lLnNldChcInR5cGVcIiwgbF90eXBlKTtcbmZyYW1lLnNldChcImNsYXNzZXNcIiwga3dhcmdzLmhhc093blByb3BlcnR5KFwiY2xhc3Nlc1wiKSA/IGt3YXJnc1tcImNsYXNzZXNcIl0gOiBcIlwiKTtcbmZyYW1lLnNldChcInNpbmd1bGFyXCIsIGt3YXJncy5oYXNPd25Qcm9wZXJ0eShcInNpbmd1bGFyXCIpID8ga3dhcmdzW1wic2luZ3VsYXJcIl0gOiAwKTtcbmZyYW1lLnNldChcImJ1dHRvblwiLCBrd2FyZ3MuaGFzT3duUHJvcGVydHkoXCJidXR0b25cIikgPyBrd2FyZ3NbXCJidXR0b25cIl0gOiAwKTtcbmZyYW1lLnNldChcInVzZVN0eWxlc1wiLCBrd2FyZ3MuaGFzT3duUHJvcGVydHkoXCJ1c2VTdHlsZXNcIikgPyBrd2FyZ3NbXCJ1c2VTdHlsZXNcIl0gOiAxKTtcbmZyYW1lLnNldChcImNvbG9uXCIsIGt3YXJncy5oYXNPd25Qcm9wZXJ0eShcImNvbG9uXCIpID8ga3dhcmdzW1wiY29sb25cIl0gOiAwKTtcbmZyYW1lLnNldChcInNob3dJY29uXCIsIGt3YXJncy5oYXNPd25Qcm9wZXJ0eShcInNob3dJY29uXCIpID8ga3dhcmdzW1wic2hvd0ljb25cIl0gOiAxKTtcbmZyYW1lLnNldChcIm1pbmVcIiwga3dhcmdzLmhhc093blByb3BlcnR5KFwibWluZVwiKSA/IGt3YXJnc1tcIm1pbmVcIl0gOiBmYWxzZSk7XG5mcmFtZS5zZXQoXCJhbGxcIiwga3dhcmdzLmhhc093blByb3BlcnR5KFwiYWxsXCIpID8ga3dhcmdzW1wiYWxsXCJdIDogZmFsc2UpO1xuZnJhbWUuc2V0KFwiY3JlYXRlXCIsIGt3YXJncy5oYXNPd25Qcm9wZXJ0eShcImNyZWF0ZVwiKSA/IGt3YXJnc1tcImNyZWF0ZVwiXSA6IGZhbHNlKTtcbmZyYW1lLnNldChcIkNPU0lOTlVTX1RSQU5TXCIsIGt3YXJncy5oYXNPd25Qcm9wZXJ0eShcIkNPU0lOTlVTX1RSQU5TXCIpID8ga3dhcmdzW1wiQ09TSU5OVVNfVFJBTlNcIl0gOiB7fSk7XG52YXIgdF8yID0gXCJcIjt0XzIgKz0gXCJcXG4gICAgPHNwYW4gY2xhc3M9XFxcIlwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ1c2VTdHlsZXNcIikgPT0gMSkge1xudF8yICs9IFwicmVzdWx0LXR5cGUtc3BhbiBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYnV0dG9uXCIpKSB7XG50XzIgKz0gXCJidXR0b25cIjtcbjtcbn1cbmVsc2Uge1xudF8yICs9IFwiYXBwbHlcIjtcbjtcbn1cbnRfMiArPSBcIi1jb2xvci1cIjtcbnRfMiArPSBydW50aW1lLnN1cHByZXNzVmFsdWUobF90eXBlLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbjtcbn1cbnRfMiArPSBcIiBcIjtcbnRfMiArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjbGFzc2VzXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbnRfMiArPSBcIlxcXCI+XFxuICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibWluZVwiKSkge1xudF8yICs9IFwiXFxuICAgICAgICAgICAgXCI7XG5pZihsX3R5cGUgPT0gXCJwZW9wbGVcIikge1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzaG93SWNvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI8aSBjbGFzcz1cXFwiZmEgZmEtdXNlclxcXCI+PC9pPlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIk15IFVzZXJzXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb2xvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI6XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xuaWYobF90eXBlID09IFwiZXZlbnRzXCIpIHtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2hvd0ljb25cIikgPT0gMSkge1xudF8yICs9IFwiPGkgY2xhc3M9XFxcImZhIGZhLWNhbGVuZGFyXFxcIj48L2k+XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiTXkgRXZlbnRzXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb2xvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI6XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xuaWYobF90eXBlID09IFwicHJvamVjdHNcIikge1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzaG93SWNvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI8aSBjbGFzcz1cXFwiZmEgZmEtZ3JvdXBcXFwiPjwvaT5cIjtcbjtcbn1cbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbnRfMiArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJNeSBQcm9qZWN0c1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29sb25cIikgPT0gMSkge1xudF8yICs9IFwiOlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbmlmKGxfdHlwZSA9PSBcImdyb3Vwc1wiKSB7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNob3dJY29uXCIpID09IDEpIHtcbnRfMiArPSBcIjxpIGNsYXNzPVxcXCJmYSBmYS1zaXRlbWFwXFxcIj48L2k+XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiTXkgR3JvdXBzXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb2xvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI6XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xuaWYobF90eXBlID09IFwiY29uZmVyZW5jZXNcIikge1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzaG93SWNvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI8aSBjbGFzcz1cXFwiZmEgZmEtY2FsZW5kYXJcXFwiPjwvaT5cIjtcbjtcbn1cbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbnRfMiArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiQ09TSU5OVVNfVFJBTlNcIikpLFwiQ09TSU5OVVNfVFJBTlNfTVlfQ09ORkVSRU5DRVNcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb2xvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI6XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xuaWYobF90eXBlID09IFwiaWRlYXNcIikge1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzaG93SWNvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI8aSBjbGFzcz1cXFwiZmEgZmEtbGlnaHRidWxiLW9cXFwiPjwvaT5cIjtcbjtcbn1cbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbnRfMiArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJNeSBJZGVhc1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29sb25cIikgPT0gMSkge1xudF8yICs9IFwiOlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbmlmKGxfdHlwZSA9PSBcIm9yZ2FuaXphdGlvbnNcIikge1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzaG93SWNvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI8aSBjbGFzcz1cXFwiZmEgZmEtYnVpbGRpbmdcXFwiPjwvaT5cIjtcbjtcbn1cbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbnRfMiArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJNeSBPcmdhbml6YXRpb25zXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb2xvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI6XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xuaWYobF90eXBlID09IFwiY2xvdWRmaWxlc1wiKSB7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNob3dJY29uXCIpID09IDEpIHtcbnRfMiArPSBcIjxpIGNsYXNzPVxcXCJmYSBmYS1jbG91ZFxcXCI+PC9pPlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIk15IENsb3VkIEZpbGVzXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb2xvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI6XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbjtcbn1cbjtcbn1cbjtcbn1cbjtcbn1cbjtcbn1cbjtcbn1cbjtcbn1cbjtcbn1cbnRfMiArPSBcIlxcbiAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWxsXCIpKSB7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbmlmKGxfdHlwZSA9PSBcInBlb3BsZVwiKSB7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNob3dJY29uXCIpID09IDEpIHtcbnRfMiArPSBcIjxpIGNsYXNzPVxcXCJmYSBmYS11c2VyXFxcIj48L2k+XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiQWxsIFVzZXJzXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb2xvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI6XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xuaWYobF90eXBlID09IFwiZXZlbnRzXCIpIHtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2hvd0ljb25cIikgPT0gMSkge1xudF8yICs9IFwiPGkgY2xhc3M9XFxcImZhIGZhLWNhbGVuZGFyXFxcIj48L2k+XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiQWxsIEV2ZW50c1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29sb25cIikgPT0gMSkge1xudF8yICs9IFwiOlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbmlmKGxfdHlwZSA9PSBcInByb2plY3RzXCIpIHtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2hvd0ljb25cIikgPT0gMSkge1xudF8yICs9IFwiPGkgY2xhc3M9XFxcImZhIGZhLWdyb3VwXFxcIj48L2k+XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiQWxsIFByb2plY3RzXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb2xvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI6XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xuaWYobF90eXBlID09IFwiZ3JvdXBzXCIpIHtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2hvd0ljb25cIikgPT0gMSkge1xudF8yICs9IFwiPGkgY2xhc3M9XFxcImZhIGZhLXNpdGVtYXBcXFwiPjwvaT5cIjtcbjtcbn1cbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbnRfMiArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJBbGwgR3JvdXBzXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb2xvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI6XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xuaWYobF90eXBlID09IFwiY29uZmVyZW5jZXNcIikge1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzaG93SWNvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI8aSBjbGFzcz1cXFwiZmEgZmEtY2FsZW5kYXJcXFwiPjwvaT5cIjtcbjtcbn1cbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbnRfMiArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiQ09TSU5OVVNfVFJBTlNcIikpLFwiQ09TSU5OVVNfVFJBTlNfQUxMX0NPTkZFUkVOQ0VTXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29sb25cIikgPT0gMSkge1xudF8yICs9IFwiOlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbmlmKGxfdHlwZSA9PSBcImlkZWFzXCIpIHtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2hvd0ljb25cIikgPT0gMSkge1xudF8yICs9IFwiPGkgY2xhc3M9XFxcImZhIGZhLWxpZ2h0YnVsYi1vXFxcIj48L2k+XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiQWxsIElkZWFzXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb2xvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI6XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xuaWYobF90eXBlID09IFwib3JnYW5pemF0aW9uc1wiKSB7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNob3dJY29uXCIpID09IDEpIHtcbnRfMiArPSBcIjxpIGNsYXNzPVxcXCJmYSBmYS1idWlsZGluZ1xcXCI+PC9pPlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkFsbCBPcmdhbml6YXRpb25zXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb2xvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI6XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xuaWYobF90eXBlID09IFwiY2xvdWRmaWxlc1wiKSB7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNob3dJY29uXCIpID09IDEpIHtcbnRfMiArPSBcIjxpIGNsYXNzPVxcXCJmYSBmYS1jbG91ZFxcXCI+PC9pPlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkNsb3VkIEZpbGVzXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb2xvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI6XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbjtcbn1cbjtcbn1cbjtcbn1cbjtcbn1cbjtcbn1cbjtcbn1cbjtcbn1cbjtcbn1cbnRfMiArPSBcIlxcbiAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2luZ3VsYXJcIikpIHtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgIFwiO1xuaWYobF90eXBlID09IFwicGVvcGxlXCIpIHtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2hvd0ljb25cIikgPT0gMSkge1xudF8yICs9IFwiPGkgY2xhc3M9XFxcImZhIGZhLXVzZXJcXFwiPjwvaT5cIjtcbjtcbn1cbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbnRfMiArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJVc2VyXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb2xvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI6XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xuaWYobF90eXBlID09IFwiZXZlbnRzXCIpIHtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2hvd0ljb25cIikgPT0gMSkge1xudF8yICs9IFwiPGkgY2xhc3M9XFxcImZhIGZhLWNhbGVuZGFyXFxcIj48L2k+XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiRXZlbnRcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvbG9uXCIpID09IDEpIHtcbnRfMiArPSBcIjpcIjtcbjtcbn1cbnRfMiArPSBcIlxcbiAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5pZihsX3R5cGUgPT0gXCJwcm9qZWN0c1wiKSB7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNob3dJY29uXCIpID09IDEpIHtcbnRfMiArPSBcIjxpIGNsYXNzPVxcXCJmYSBmYS1ncm91cFxcXCI+PC9pPlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIlByb2plY3RcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvbG9uXCIpID09IDEpIHtcbnRfMiArPSBcIjpcIjtcbjtcbn1cbnRfMiArPSBcIlxcbiAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5pZihsX3R5cGUgPT0gXCJncm91cHNcIikge1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzaG93SWNvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI8aSBjbGFzcz1cXFwiZmEgZmEtc2l0ZW1hcFxcXCI+PC9pPlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkdyb3VwXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb2xvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI6XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xuaWYobF90eXBlID09IFwiY29uZmVyZW5jZXNcIikge1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzaG93SWNvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI8aSBjbGFzcz1cXFwiZmEgZmEtY2FsZW5kYXJcXFwiPjwvaT5cIjtcbjtcbn1cbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbnRfMiArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiQ09TSU5OVVNfVFJBTlNcIikpLFwiQ09TSU5OVVNfVFJBTlNfQ09ORkVSRU5DRVwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvbG9uXCIpID09IDEpIHtcbnRfMiArPSBcIjpcIjtcbjtcbn1cbnRfMiArPSBcIlxcbiAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5pZihsX3R5cGUgPT0gXCJpZGVhc1wiKSB7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNob3dJY29uXCIpID09IDEpIHtcbnRfMiArPSBcIjxpIGNsYXNzPVxcXCJmYSBmYS1saWdodGJ1bGItb1xcXCI+PC9pPlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIklkZWFcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvbG9uXCIpID09IDEpIHtcbnRfMiArPSBcIjpcIjtcbjtcbn1cbnRfMiArPSBcIlxcbiAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5pZihsX3R5cGUgPT0gXCJvcmdhbml6YXRpb25zXCIpIHtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2hvd0ljb25cIikgPT0gMSkge1xudF8yICs9IFwiPGkgY2xhc3M9XFxcImZhIGZhLWJ1aWxkaW5nXFxcIj48L2k+XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiT3JnYW5pemF0aW9uXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb2xvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI6XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xuaWYobF90eXBlID09IFwiY2xvdWRmaWxlc1wiKSB7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNob3dJY29uXCIpID09IDEpIHtcbnRfMiArPSBcIjxpIGNsYXNzPVxcXCJmYSBmYS1jbG91ZFxcXCI+PC9pPlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkNsb3VkIEZpbGVcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvbG9uXCIpID09IDEpIHtcbnRfMiArPSBcIjpcIjtcbjtcbn1cbnRfMiArPSBcIlxcbiAgICAgICAgICAgIFwiO1xuO1xufVxuO1xufVxuO1xufVxuO1xufVxuO1xufVxuO1xufVxuO1xufVxuO1xufVxudF8yICs9IFwiXFxuICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjcmVhdGVcIikpIHtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgIFwiO1xuaWYobF90eXBlID09IFwicGVvcGxlXCIpIHtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2hvd0ljb25cIikgPT0gMSkge1xudF8yICs9IFwiPGkgY2xhc3M9XFxcImZhIGZhLXVzZXJcXFwiPjwvaT5cIjtcbjtcbn1cbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbnRfMiArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJDcmVhdGUgVXNlclwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29sb25cIikgPT0gMSkge1xudF8yICs9IFwiOlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbmlmKGxfdHlwZSA9PSBcImV2ZW50c1wiKSB7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNob3dJY29uXCIpID09IDEpIHtcbnRfMiArPSBcIjxpIGNsYXNzPVxcXCJmYSBmYS1jYWxlbmRhclxcXCI+PC9pPlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkNyZWF0ZSBFdmVudFwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29sb25cIikgPT0gMSkge1xudF8yICs9IFwiOlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbmlmKGxfdHlwZSA9PSBcInByb2plY3RzXCIpIHtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2hvd0ljb25cIikgPT0gMSkge1xudF8yICs9IFwiPGkgY2xhc3M9XFxcImZhIGZhLWdyb3VwXFxcIj48L2k+XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiQ3JlYXRlIFByb2plY3RcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvbG9uXCIpID09IDEpIHtcbnRfMiArPSBcIjpcIjtcbjtcbn1cbnRfMiArPSBcIlxcbiAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5pZihsX3R5cGUgPT0gXCJncm91cHNcIikge1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzaG93SWNvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI8aSBjbGFzcz1cXFwiZmEgZmEtc2l0ZW1hcFxcXCI+PC9pPlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkNyZWF0ZSBHcm91cFwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29sb25cIikgPT0gMSkge1xudF8yICs9IFwiOlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbmlmKGxfdHlwZSA9PSBcImNvbmZlcmVuY2VzXCIpIHtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2hvd0ljb25cIikgPT0gMSkge1xudF8yICs9IFwiPGkgY2xhc3M9XFxcImZhIGZhLWNhbGVuZGFyXFxcIj48L2k+XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIkNPU0lOTlVTX1RSQU5TXCIpKSxcIkNPU0lOTlVTX1RSQU5TX0NSRUFURV9DT05GRVJFTkNFXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29sb25cIikgPT0gMSkge1xudF8yICs9IFwiOlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbmlmKGxfdHlwZSA9PSBcImlkZWFzXCIpIHtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2hvd0ljb25cIikgPT0gMSkge1xudF8yICs9IFwiPGkgY2xhc3M9XFxcImZhIGZhLWxpZ2h0YnVsYi1vXFxcIj48L2k+XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiQ3JlYXRlIElkZWFcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvbG9uXCIpID09IDEpIHtcbnRfMiArPSBcIjpcIjtcbjtcbn1cbnRfMiArPSBcIlxcbiAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5pZihsX3R5cGUgPT0gXCJvcmdhbml6YXRpb25zXCIpIHtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2hvd0ljb25cIikgPT0gMSkge1xudF8yICs9IFwiPGkgY2xhc3M9XFxcImZhIGZhLWJ1aWxkaW5nXFxcIj48L2k+XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiQ3JlYXRlIE9yZ2FuaXphdGlvblwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29sb25cIikgPT0gMSkge1xudF8yICs9IFwiOlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgXCI7XG47XG59XG47XG59XG47XG59XG47XG59XG47XG59XG47XG59XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbmlmKGxfdHlwZSA9PSBcInBlb3BsZVwiKSB7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNob3dJY29uXCIpID09IDEpIHtcbnRfMiArPSBcIjxpIGNsYXNzPVxcXCJmYSBmYS11c2VyXFxcIj48L2k+XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiUGVvcGxlXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb2xvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI6XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xuaWYobF90eXBlID09IFwiZXZlbnRzXCIpIHtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2hvd0ljb25cIikgPT0gMSkge1xudF8yICs9IFwiPGkgY2xhc3M9XFxcImZhIGZhLWNhbGVuZGFyXFxcIj48L2k+XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiRXZlbnRzXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb2xvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI6XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xuaWYobF90eXBlID09IFwicHJvamVjdHNcIikge1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzaG93SWNvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI8aSBjbGFzcz1cXFwiZmEgZmEtZ3JvdXBcXFwiPjwvaT5cIjtcbjtcbn1cbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbnRfMiArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJQcm9qZWN0c1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29sb25cIikgPT0gMSkge1xudF8yICs9IFwiOlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbmlmKGxfdHlwZSA9PSBcImdyb3Vwc1wiKSB7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNob3dJY29uXCIpID09IDEpIHtcbnRfMiArPSBcIjxpIGNsYXNzPVxcXCJmYSBmYS1zaXRlbWFwXFxcIj48L2k+XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiR3JvdXBzXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb2xvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI6XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xuaWYobF90eXBlID09IFwiY29uZmVyZW5jZXNcIikge1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzaG93SWNvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI8aSBjbGFzcz1cXFwiZmEgZmEtY2FsZW5kYXJcXFwiPjwvaT5cIjtcbjtcbn1cbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbnRfMiArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiQ09TSU5OVVNfVFJBTlNcIikpLFwiQ09TSU5OVVNfVFJBTlNfQ09ORkVSRU5DRVNcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb2xvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI6XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xuaWYobF90eXBlID09IFwiaWRlYXNcIikge1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzaG93SWNvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI8aSBjbGFzcz1cXFwiZmEgZmEtbGlnaHRidWxiLW9cXFwiPjwvaT5cIjtcbjtcbn1cbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbnRfMiArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJJZGVhc1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29sb25cIikgPT0gMSkge1xudF8yICs9IFwiOlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbmlmKGxfdHlwZSA9PSBcIm9yZ2FuaXphdGlvbnNcIikge1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzaG93SWNvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI8aSBjbGFzcz1cXFwiZmEgZmEtYnVpbGRpbmdcXFwiPjwvaT5cIjtcbjtcbn1cbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbnRfMiArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJPcmdhbml6YXRpb25zXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb2xvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI6XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xuaWYobF90eXBlID09IFwiY2xvdWRmaWxlc1wiKSB7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNob3dJY29uXCIpID09IDEpIHtcbnRfMiArPSBcIjxpIGNsYXNzPVxcXCJmYSBmYS1jbG91ZFxcXCI+PC9pPlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkNsb3VkIEZpbGVzXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb2xvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI6XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbjtcbn1cbjtcbn1cbjtcbn1cbjtcbn1cbjtcbn1cbjtcbn1cbjtcbn1cbjtcbn1cbnRfMiArPSBcIlxcbiAgICAgICAgXCI7XG47XG59XG47XG59XG47XG59XG47XG59XG50XzIgKz0gXCJcXG4gICAgPC9zcGFuPlxcblwiO1xuO1xuZnJhbWUgPSBmcmFtZS5wb3AoKTtcbnJldHVybiBuZXcgcnVudGltZS5TYWZlU3RyaW5nKHRfMik7XG59KTtcbmNvbnRleHQuYWRkRXhwb3J0KFwidHlwZUxhYmVsXCIpO1xuY29udGV4dC5zZXRWYXJpYWJsZShcInR5cGVMYWJlbFwiLCBtYWNyb190XzEpO1xub3V0cHV0ICs9IFwiXFxuXFxuXCI7XG52YXIgbWFjcm9fdF8zID0gcnVudGltZS5tYWtlTWFjcm8oXG5bXCJwb3J0YWxcIiwgXCJzbHVnXCIsIFwibmFtZVwiLCBcInR5cGVcIl0sIFxuW1wiZ3JvdXBfc2x1Z1wiLCBcImlubGluZV9vbmx5XCJdLCBcbmZ1bmN0aW9uIChsX3BvcnRhbCwgbF9zbHVnLCBsX25hbWUsIGxfdHlwZSwga3dhcmdzKSB7XG5mcmFtZSA9IGZyYW1lLnB1c2godHJ1ZSk7XG5rd2FyZ3MgPSBrd2FyZ3MgfHwge307XG5pZiAoa3dhcmdzLmhhc093blByb3BlcnR5KFwiY2FsbGVyXCIpKSB7XG5mcmFtZS5zZXQoXCJjYWxsZXJcIiwga3dhcmdzLmNhbGxlcik7IH1cbmZyYW1lLnNldChcInBvcnRhbFwiLCBsX3BvcnRhbCk7XG5mcmFtZS5zZXQoXCJzbHVnXCIsIGxfc2x1Zyk7XG5mcmFtZS5zZXQoXCJuYW1lXCIsIGxfbmFtZSk7XG5mcmFtZS5zZXQoXCJ0eXBlXCIsIGxfdHlwZSk7XG5mcmFtZS5zZXQoXCJncm91cF9zbHVnXCIsIGt3YXJncy5oYXNPd25Qcm9wZXJ0eShcImdyb3VwX3NsdWdcIikgPyBrd2FyZ3NbXCJncm91cF9zbHVnXCJdIDogcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJudWxsXCIpKTtcbmZyYW1lLnNldChcImlubGluZV9vbmx5XCIsIGt3YXJncy5oYXNPd25Qcm9wZXJ0eShcImlubGluZV9vbmx5XCIpID8ga3dhcmdzW1wiaW5saW5lX29ubHlcIl0gOiAwKTtcbnZhciB0XzQgPSBcIlwiO3RfNCArPSBcIlxcbiAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiaW5saW5lX29ubHlcIikgPT0gMSkge1xudF80ICs9IFwiXFxuICAgICAgICBkYXRhLXBvcnRhbD1cXFwiXCI7XG50XzQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGxfcG9ydGFsLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbnRfNCArPSBcIlxcXCIgZGF0YS1zbHVnPVxcXCJcIjtcbmlmKGxfdHlwZSA9PSBcImV2ZW50c1wiICYmIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZ3JvdXBfc2x1Z1wiKSkge1xudF80ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImdyb3VwX3NsdWdcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xudF80ICs9IFwiKlwiO1xuO1xufVxudF80ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShsX3NsdWcsIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xudF80ICs9IFwiXFxcIiBkYXRhLXR5cGU9XFxcIlwiO1xudF80ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShsX3R5cGUsIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xudF80ICs9IFwiXFxcIlxcbiAgICBcIjtcbjtcbn1cbmVsc2Uge1xudF80ICs9IFwiXFxuICAgICAgICA8YSBjbGFzcz1cXFwicmVzdWx0LWxpbmtcXFwiIGRhdGEtcG9ydGFsPVxcXCJcIjtcbnRfNCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUobF9wb3J0YWwsIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xudF80ICs9IFwiXFxcIiBkYXRhLXNsdWc9XFxcIlwiO1xuaWYobF90eXBlID09IFwiZXZlbnRzXCIgJiYgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJncm91cF9zbHVnXCIpKSB7XG50XzQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZ3JvdXBfc2x1Z1wiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG50XzQgKz0gXCIqXCI7XG47XG59XG50XzQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGxfc2x1ZywgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG50XzQgKz0gXCJcXFwiIGRhdGEtdHlwZT1cXFwiXCI7XG50XzQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGxfdHlwZSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG50XzQgKz0gXCJcXFwiPlwiO1xudF80ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShsX25hbWUsIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xudF80ICs9IFwiPC9hPlxcbiAgICBcIjtcbjtcbn1cbnRfNCArPSBcIlxcblwiO1xuO1xuZnJhbWUgPSBmcmFtZS5wb3AoKTtcbnJldHVybiBuZXcgcnVudGltZS5TYWZlU3RyaW5nKHRfNCk7XG59KTtcbmNvbnRleHQuYWRkRXhwb3J0KFwicmVzdWx0TGlua1wiKTtcbmNvbnRleHQuc2V0VmFyaWFibGUoXCJyZXN1bHRMaW5rXCIsIG1hY3JvX3RfMyk7XG5vdXRwdXQgKz0gXCJcXG5cXG5cIjtcbnZhciBtYWNyb190XzUgPSBydW50aW1lLm1ha2VNYWNybyhcbltcInBvcnRhbFwiLCBcInNsdWdcIiwgXCJ0aXRsZVwiLCBcInR5cGVcIl0sIFxuW1wiaW1hZ2VVcmxcIiwgXCJzbG90MWRhdGFcIiwgXCJzbG90MWljb25cIiwgXCJzbG90MmRhdGFcIiwgXCJzbG90Mmljb25cIiwgXCJjb3Npbm51c19hY3RpdmVfdXNlclwiLCBcImdyb3VwX3NsdWdcIl0sIFxuZnVuY3Rpb24gKGxfcG9ydGFsLCBsX3NsdWcsIGxfdGl0bGUsIGxfdHlwZSwga3dhcmdzKSB7XG5mcmFtZSA9IGZyYW1lLnB1c2godHJ1ZSk7XG5rd2FyZ3MgPSBrd2FyZ3MgfHwge307XG5pZiAoa3dhcmdzLmhhc093blByb3BlcnR5KFwiY2FsbGVyXCIpKSB7XG5mcmFtZS5zZXQoXCJjYWxsZXJcIiwga3dhcmdzLmNhbGxlcik7IH1cbmZyYW1lLnNldChcInBvcnRhbFwiLCBsX3BvcnRhbCk7XG5mcmFtZS5zZXQoXCJzbHVnXCIsIGxfc2x1Zyk7XG5mcmFtZS5zZXQoXCJ0aXRsZVwiLCBsX3RpdGxlKTtcbmZyYW1lLnNldChcInR5cGVcIiwgbF90eXBlKTtcbmZyYW1lLnNldChcImltYWdlVXJsXCIsIGt3YXJncy5oYXNPd25Qcm9wZXJ0eShcImltYWdlVXJsXCIpID8ga3dhcmdzW1wiaW1hZ2VVcmxcIl0gOiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm51bGxcIikpO1xuZnJhbWUuc2V0KFwic2xvdDFkYXRhXCIsIGt3YXJncy5oYXNPd25Qcm9wZXJ0eShcInNsb3QxZGF0YVwiKSA/IGt3YXJnc1tcInNsb3QxZGF0YVwiXSA6IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibnVsbFwiKSk7XG5mcmFtZS5zZXQoXCJzbG90MWljb25cIiwga3dhcmdzLmhhc093blByb3BlcnR5KFwic2xvdDFpY29uXCIpID8ga3dhcmdzW1wic2xvdDFpY29uXCJdIDogcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJudWxsXCIpKTtcbmZyYW1lLnNldChcInNsb3QyZGF0YVwiLCBrd2FyZ3MuaGFzT3duUHJvcGVydHkoXCJzbG90MmRhdGFcIikgPyBrd2FyZ3NbXCJzbG90MmRhdGFcIl0gOiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm51bGxcIikpO1xuZnJhbWUuc2V0KFwic2xvdDJpY29uXCIsIGt3YXJncy5oYXNPd25Qcm9wZXJ0eShcInNsb3QyaWNvblwiKSA/IGt3YXJnc1tcInNsb3QyaWNvblwiXSA6IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibnVsbFwiKSk7XG5mcmFtZS5zZXQoXCJjb3Npbm51c19hY3RpdmVfdXNlclwiLCBrd2FyZ3MuaGFzT3duUHJvcGVydHkoXCJjb3Npbm51c19hY3RpdmVfdXNlclwiKSA/IGt3YXJnc1tcImNvc2lubnVzX2FjdGl2ZV91c2VyXCJdIDogcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJudWxsXCIpKTtcbmZyYW1lLnNldChcImdyb3VwX3NsdWdcIiwga3dhcmdzLmhhc093blByb3BlcnR5KFwiZ3JvdXBfc2x1Z1wiKSA/IGt3YXJnc1tcImdyb3VwX3NsdWdcIl0gOiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm51bGxcIikpO1xudmFyIHRfNiA9IFwiXCI7dF82ICs9IFwiXFxuICAgIDxkaXYgY2xhc3M9XFxcImNhcmQgXCI7XG5pZihsX3R5cGUgPT0gXCJwZW9wbGVcIiAmJiAhcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb3Npbm51c19hY3RpdmVfdXNlclwiKSkge1xudF82ICs9IFwiXFxcIiBocmVmPVxcXCIvc2lnbnVwLz9hY2NfcmVxX21zZz0xJm5leHQ9L21hcC9cXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIlwiO1xuO1xufVxuZWxzZSB7XG50XzYgKz0gXCJyZXN1bHQtbGlua1xcXCIgXCI7XG50XzYgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKChsaW5lbm8gPSAxNzYsIGNvbG5vID0gMTU5LCBydW50aW1lLmNhbGxXcmFwKG1hY3JvX3RfMywgXCJyZXN1bHRMaW5rXCIsIGNvbnRleHQsIFtsX3BvcnRhbCxsX3NsdWcsbF90aXRsZSxsX3R5cGUscnVudGltZS5tYWtlS2V5d29yZEFyZ3Moe1wiaW5saW5lX29ubHlcIjogMSxcImdyb3VwX3NsdWdcIjogcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJncm91cF9zbHVnXCIpfSldKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xuO1xufVxudF82ICs9IFwiPlxcbiAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImltYWdlVXJsXCIpKSB7XG50XzYgKz0gXCJcXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjYXJkLWltYWdlXFxcIj5cXG4gICAgICAgICAgICAgICAgPGltZyBzcmM9XFxcIlwiO1xudF82ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImltYWdlVXJsXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbnRfNiArPSBcIlxcXCI+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICBcIjtcbjtcbn1cbnRfNiArPSBcIlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiY2FyZC10aXRsZVxcXCI+XFxuICAgICAgICAgICAgXCI7XG5pZihsX3R5cGUgPT0gXCJwZW9wbGVcIiAmJiAhcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb3Npbm51c19hY3RpdmVfdXNlclwiKSkge1xudF82ICs9IFwiXFxuICAgICAgICAgICAgICAgIDxhIGhyZWY9XFxcIi9zaWdudXAvP2FjY19yZXFfbXNnPTEmbmV4dD0vbWFwL1xcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiPlwiO1xudF82ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShsX3RpdGxlLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbnRfNiArPSBcIjwvYT5cXG4gICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xudF82ICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF82ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSgobGluZW5vID0gMTg2LCBjb2xubyA9IDI3LCBydW50aW1lLmNhbGxXcmFwKG1hY3JvX3RfMywgXCJyZXN1bHRMaW5rXCIsIGNvbnRleHQsIFtsX3BvcnRhbCxsX3NsdWcsbF90aXRsZSxsX3R5cGUscnVudGltZS5tYWtlS2V5d29yZEFyZ3Moe1wiZ3JvdXBfc2x1Z1wiOiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImdyb3VwX3NsdWdcIil9KV0pKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG50XzYgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbjtcbn1cbnRfNiArPSBcIlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjYXJkLWRhdGFcXFwiPlxcbiAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzbG90MWRhdGFcIikgfHwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzbG90MmRhdGFcIikpIHtcbnRfNiArPSBcIlxcbiAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzbG90MWRhdGFcIikgJiYgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzbG90MWljb25cIikpIHtcbnRfNiArPSBcIlxcbiAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgXCI7XG50XzYgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2xvdDFpY29uXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbnRfNiArPSBcIlxcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICAgICA8c3Bhbj5cIjtcbnRfNiArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzbG90MWRhdGFcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xudF82ICs9IFwiPC9zcGFuPlxcbiAgICAgICAgICAgICAgIFwiO1xuO1xufVxudF82ICs9IFwiXFxuICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNsb3QyZGF0YVwiKSAmJiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNsb3QyaWNvblwiKSkge1xudF82ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBcIjtcbnRfNiArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzbG90Mmljb25cIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xudF82ICs9IFwiXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgICAgIDxzcGFuPlwiO1xudF82ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNsb3QyZGF0YVwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG50XzYgKz0gXCI8L3NwYW4+XFxuICAgICAgICAgICAgICAgXCI7XG47XG59XG50XzYgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xudF82ICs9IFwiXFxuICAgICAgICAgICAgICAgPHA+PC9wPlxcbiAgICAgICAgICAgIFwiO1xuO1xufVxudF82ICs9IFwiXFxuICAgICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuXCI7XG47XG5mcmFtZSA9IGZyYW1lLnBvcCgpO1xucmV0dXJuIG5ldyBydW50aW1lLlNhZmVTdHJpbmcodF82KTtcbn0pO1xuY29udGV4dC5hZGRFeHBvcnQoXCJpdGVtQ2FyZFwiKTtcbmNvbnRleHQuc2V0VmFyaWFibGUoXCJpdGVtQ2FyZFwiLCBtYWNyb190XzUpO1xub3V0cHV0ICs9IFwiXFxuXFxuXFxuXCI7XG52YXIgbWFjcm9fdF83ID0gcnVudGltZS5tYWtlTWFjcm8oXG5bXCJ0ZXh0XCIsIFwidXJsXCIsIFwiaWNvblwiXSwgXG5bXCJzdWJ0ZXh0XCIsIFwiYW5ub3RhdGlvblwiLCBcImFubm90YXRpb25JY29uXCIsIFwiaW5jbHVkZVVuZGVyZHJvcFwiLCBcImlzX2VtcGhhc2l6ZWRcIiwgXCJpbmFjdGl2ZVwiLCBcInBhZGRlZFwiLCBcIm1ha2VTYWZlXCJdLCBcbmZ1bmN0aW9uIChsX3RleHQsIGxfdXJsLCBsX2ljb24sIGt3YXJncykge1xuZnJhbWUgPSBmcmFtZS5wdXNoKHRydWUpO1xua3dhcmdzID0ga3dhcmdzIHx8IHt9O1xuaWYgKGt3YXJncy5oYXNPd25Qcm9wZXJ0eShcImNhbGxlclwiKSkge1xuZnJhbWUuc2V0KFwiY2FsbGVyXCIsIGt3YXJncy5jYWxsZXIpOyB9XG5mcmFtZS5zZXQoXCJ0ZXh0XCIsIGxfdGV4dCk7XG5mcmFtZS5zZXQoXCJ1cmxcIiwgbF91cmwpO1xuZnJhbWUuc2V0KFwiaWNvblwiLCBsX2ljb24pO1xuZnJhbWUuc2V0KFwic3VidGV4dFwiLCBrd2FyZ3MuaGFzT3duUHJvcGVydHkoXCJzdWJ0ZXh0XCIpID8ga3dhcmdzW1wic3VidGV4dFwiXSA6IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibnVsbFwiKSk7XG5mcmFtZS5zZXQoXCJhbm5vdGF0aW9uXCIsIGt3YXJncy5oYXNPd25Qcm9wZXJ0eShcImFubm90YXRpb25cIikgPyBrd2FyZ3NbXCJhbm5vdGF0aW9uXCJdIDogcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJudWxsXCIpKTtcbmZyYW1lLnNldChcImFubm90YXRpb25JY29uXCIsIGt3YXJncy5oYXNPd25Qcm9wZXJ0eShcImFubm90YXRpb25JY29uXCIpID8ga3dhcmdzW1wiYW5ub3RhdGlvbkljb25cIl0gOiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm51bGxcIikpO1xuZnJhbWUuc2V0KFwiaW5jbHVkZVVuZGVyZHJvcFwiLCBrd2FyZ3MuaGFzT3duUHJvcGVydHkoXCJpbmNsdWRlVW5kZXJkcm9wXCIpID8ga3dhcmdzW1wiaW5jbHVkZVVuZGVyZHJvcFwiXSA6IGZhbHNlKTtcbmZyYW1lLnNldChcImlzX2VtcGhhc2l6ZWRcIiwga3dhcmdzLmhhc093blByb3BlcnR5KFwiaXNfZW1waGFzaXplZFwiKSA/IGt3YXJnc1tcImlzX2VtcGhhc2l6ZWRcIl0gOiBmYWxzZSk7XG5mcmFtZS5zZXQoXCJpbmFjdGl2ZVwiLCBrd2FyZ3MuaGFzT3duUHJvcGVydHkoXCJpbmFjdGl2ZVwiKSA/IGt3YXJnc1tcImluYWN0aXZlXCJdIDogZmFsc2UpO1xuZnJhbWUuc2V0KFwicGFkZGVkXCIsIGt3YXJncy5oYXNPd25Qcm9wZXJ0eShcInBhZGRlZFwiKSA/IGt3YXJnc1tcInBhZGRlZFwiXSA6IGZhbHNlKTtcbmZyYW1lLnNldChcIm1ha2VTYWZlXCIsIGt3YXJncy5oYXNPd25Qcm9wZXJ0eShcIm1ha2VTYWZlXCIpID8ga3dhcmdzW1wibWFrZVNhZmVcIl0gOiB0cnVlKTtcbnZhciB0XzggPSBcIlwiO3RfOCArPSBcIlxcbiAgICA8bGk+XFxuXFx0XFx0PGEgY2xhc3M9XFxcImxpc3QtaXRlbSBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicGFkZGVkXCIpKSB7XG50XzggKz0gXCJsaXN0LWl0ZW0tcGFkZGVkIFwiO1xuO1xufVxuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJpbmFjdGl2ZVwiKSkge1xudF84ICs9IFwiaW5hY3RpdmUgbm8tc2VsZWN0IFwiO1xuO1xufVxudF84ICs9IFwiXFxcIiBocmVmPVxcXCJcIjtcbnRfOCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUobF91cmwsIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xudF84ICs9IFwiXFxcIiByb2xlPVxcXCJidXR0b25cXFwiIHRpdGxlZGJ5PVxcXCJcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic3VidGV4dFwiKSkge1xudF84ICs9IFwiLml0ZW0tdGV4dC1wcmltYXJ5XCI7XG47XG59XG5lbHNlIHtcbnRfOCArPSBcIi5pdGVtLXRleHRcIjtcbjtcbn1cbnRfOCArPSBcIlxcXCI+IFxcblxcdFxcdFxcdDxkaXYgY2xhc3M9XFxcIml0ZW0taWNvbiBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic3VidGV4dFwiKSkge1xudF84ICs9IFwiaXRlbS1pY29uLW9mZnNldFwiO1xuO1xufVxudF84ICs9IFwiXFxcIj5cXG4gICAgXFx0XFx0XFx0XCI7XG5pZihsX2ljb24gJiYgcnVudGltZS5pbk9wZXJhdG9yKFwiL1wiLGxfaWNvbikpIHtcbnRfOCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XFxcIlwiO1xudF84ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShsX2ljb24sIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xudF84ICs9IFwiXFxcIj48L2ltZz5cXG4gICAgICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbnRfOCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhcyBmYS1mdyBcIjtcbnRfOCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUobF9pY29uLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbnRfOCArPSBcIlxcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbnRfOCArPSBcIlxcbiAgICBcXHRcXHQ8L2Rpdj5cXG4gICAgXFx0XFx0XCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInN1YnRleHRcIikpIHtcbnRfOCArPSBcIlxcblxcdCAgICBcXHRcXHQ8ZGl2IGNsYXNzPVxcXCJpdGVtLXRleHQgaXRlbS10ZXh0LWR1YWxcXFwiPlxcblxcdCAgICBcXHRcXHRcXHQ8ZGl2IGNsYXNzPVxcXCJpdGVtLXRleHQtcHJpbWFyeSB0ZXh0LWJvbGRcXFwiPlxcblxcdCAgICBcXHRcXHRcXHRcXHRcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibWFrZVNhZmVcIikpIHtcbnRfOCArPSBcIlxcblxcdCAgICBcXHRcXHRcXHRcXHRcXHRcIjtcbnRfOCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEZpbHRlcihcInNhZmVcIikuY2FsbChjb250ZXh0LCBsX3RleHQpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbnRfOCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFxcdFwiO1xuO1xufVxuZWxzZSB7XG50XzggKz0gXCJcXG5cXHRcXHQgICAgXFx0XFx0XFx0XFx0XCI7XG50XzggKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGxfdGV4dCwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG50XzggKz0gXCIgXFxuXFx0ICAgIFxcdFxcdFxcdFxcdFwiO1xuO1xufVxudF84ICs9IFwiXFxuICAgIFxcdFxcdFxcdFxcdDwvZGl2PlxcblxcdCAgICBcXHRcXHRcXHRcIjtcbmlmKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInN1YnRleHRcIikpLFwiaXNfZGF0ZVwiKSkge1xudF84ICs9IFwiXFxuXFx0ICAgIFxcdFxcdFxcdFxcdDxkaXYgY2xhc3M9XFxcIm1vbWVudC1kYXRhLWRhdGVcXFwiIGRhdGEtZGF0ZT1cXFwiXCI7XG50XzggKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInN1YnRleHRcIikpLFwiZGF0ZVwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG50XzggKz0gXCJcXFwiPjwvZGl2PlxcblxcdCAgICBcXHRcXHRcXHRcIjtcbjtcbn1cbmVsc2Uge1xudF84ICs9IFwiXFxuXFx0ICAgIFxcdFxcdFxcdFxcdDxkaXY+XFxuXFx0XFx0ICAgIFxcdFxcdFxcdFxcdFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJtYWtlU2FmZVwiKSkge1xudF84ICs9IFwiXFxuXFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xudF84ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RmlsdGVyKFwic2FmZVwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic3VidGV4dFwiKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xudF84ICs9IFwiXFxuXFx0ICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbnRfOCArPSBcIlxcblxcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbnRfOCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzdWJ0ZXh0XCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbnRfOCArPSBcIiBcXG5cXHQgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbnRfOCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcblxcdCAgICBcXHRcXHRcXHRcIjtcbjtcbn1cbnRfOCArPSBcIlxcblxcdCAgICBcXHRcXHQ8L2Rpdj5cXG4gICAgXFx0XFx0XCI7XG47XG59XG5lbHNlIHtcbnRfOCArPSBcIlxcbiAgICBcXHRcXHRcXHQ8ZGl2IGNsYXNzPVxcXCJpdGVtLXRleHQgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImlzX2VtcGhhc2l6ZWRcIikpIHtcbnRfOCArPSBcInRleHQtYm9sZFwiO1xuO1xufVxudF84ICs9IFwiXFxcIj5cXG4gICAgXFx0XFx0XFx0XFx0XCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm1ha2VTYWZlXCIpKSB7XG50XzggKz0gXCJcXG4gICAgXFx0XFx0XFx0XFx0XFx0XCI7XG50XzggKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRGaWx0ZXIoXCJzYWZlXCIpLmNhbGwoY29udGV4dCwgbF90ZXh0KSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG50XzggKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcIjtcbjtcbn1cbmVsc2Uge1xudF84ICs9IFwiXFxuXFx0ICAgIFxcdFxcdFxcdFxcdFwiO1xudF84ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShsX3RleHQsIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xudF84ICs9IFwiIFxcbiAgICBcXHRcXHRcXHRcXHRcIjtcbjtcbn1cbnRfOCArPSBcIlxcblxcdCAgICBcXHRcXHQ8L2Rpdj5cXG4gICAgXFx0XFx0XCI7XG47XG59XG50XzggKz0gXCJcXG4gICAgXFx0XFx0XCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImFubm90YXRpb25cIikpIHtcbnRfOCArPSBcIlxcbiAgICBcXHRcXHRcXHQ8ZGl2IGNsYXNzPVxcXCJyaWdodC1zaWRlLWFubm90YXRpb24gdHJ1bmNhdGVkLW9uZWxpbmVcXFwiPlxcbiAgICBcXHRcXHRcXHRcXHRcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYW5ub3RhdGlvbkljb25cIikpIHtcbnRfOCArPSBcIlxcbiAgICBcXHRcXHRcXHRcXHRcXHQ8aSBjbGFzcz1cXFwiZmFzIGZhLWZ3IFwiO1xudF84ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImFubm90YXRpb25JY29uXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbnRfOCArPSBcIlxcXCI+PC9pPlxcbiAgICBcXHRcXHRcXHRcXHRcIjtcbjtcbn1cbnRfOCArPSBcIlxcblxcdCAgICBcXHRcXHRcXHRcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibWFrZVNhZmVcIikpIHtcbnRfOCArPSBcIlxcbiAgICBcXHRcXHRcXHRcXHRcXHRcIjtcbnRfOCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEZpbHRlcihcInNhZmVcIikuY2FsbChjb250ZXh0LCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImFubm90YXRpb25cIikpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbnRfOCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFwiO1xuO1xufVxuZWxzZSB7XG50XzggKz0gXCJcXG5cXHQgICAgXFx0XFx0XFx0XFx0XCI7XG50XzggKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYW5ub3RhdGlvblwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG50XzggKz0gXCIgXFxuICAgIFxcdFxcdFxcdFxcdFwiO1xuO1xufVxudF84ICs9IFwiXFxuXFx0ICAgIFxcdFxcdDwvZGl2PlxcbiAgICBcXHRcXHRcIjtcbjtcbn1cbnRfOCArPSBcIlxcbiAgICBcXHRcXHRcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiaW5jbHVkZVVuZGVyZHJvcFwiKSkge1xudF84ICs9IFwiXFxuICAgIFxcdFxcdFxcdDxkaXYgY2xhc3M9XFxcImxpLXVuZGVyZHJvcFxcXCI+PC9kaXY+XFxuICAgIFxcdFxcdFwiO1xuO1xufVxudF84ICs9IFwiXFxuXFx0XFx0PC9hPlxcblxcdDwvbGk+XFxuXCI7XG47XG5mcmFtZSA9IGZyYW1lLnBvcCgpO1xucmV0dXJuIG5ldyBydW50aW1lLlNhZmVTdHJpbmcodF84KTtcbn0pO1xuY29udGV4dC5hZGRFeHBvcnQoXCJsaXN0SXRlbVwiKTtcbmNvbnRleHQuc2V0VmFyaWFibGUoXCJsaXN0SXRlbVwiLCBtYWNyb190XzcpO1xub3V0cHV0ICs9IFwiXFxuXFxuXCI7XG52YXIgbWFjcm9fdF85ID0gcnVudGltZS5tYWtlTWFjcm8oXG5bXCJpdGVtXCJdLCBcbltcIm1ha2VTYWZlXCJdLCBcbmZ1bmN0aW9uIChsX2l0ZW0sIGt3YXJncykge1xuZnJhbWUgPSBmcmFtZS5wdXNoKHRydWUpO1xua3dhcmdzID0ga3dhcmdzIHx8IHt9O1xuaWYgKGt3YXJncy5oYXNPd25Qcm9wZXJ0eShcImNhbGxlclwiKSkge1xuZnJhbWUuc2V0KFwiY2FsbGVyXCIsIGt3YXJncy5jYWxsZXIpOyB9XG5mcmFtZS5zZXQoXCJpdGVtXCIsIGxfaXRlbSk7XG5mcmFtZS5zZXQoXCJtYWtlU2FmZVwiLCBrd2FyZ3MuaGFzT3duUHJvcGVydHkoXCJtYWtlU2FmZVwiKSA/IGt3YXJnc1tcIm1ha2VTYWZlXCJdIDogdHJ1ZSk7XG52YXIgdF8xMCA9IFwiXCI7dF8xMCArPSBcIlxcbjxsaT5cXG4gICAgPGEgY2xhc3M9XFxcImxpc3QtaXRlbVxcXCIgaHJlZj1cXFwiXCI7XG50XzEwICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLm1lbWJlckxvb2t1cCgobF9pdGVtKSxcInVybFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG50XzEwICs9IFwiXFxcIiB0aXRsZWRieT1cXFwiLml0ZW0tdGV4dFxcXCI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJpdGVtLWljb25cXFwiPlxcbiAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5tZW1iZXJMb29rdXAoKGxfaXRlbSksXCJpY29uXCIpICYmIHJ1bnRpbWUuaW5PcGVyYXRvcihcIi9cIixydW50aW1lLm1lbWJlckxvb2t1cCgobF9pdGVtKSxcImljb25cIikpKSB7XG50XzEwICs9IFwiXFxuICAgICAgICAgICAgICAgIDxpbWcgc3JjPVxcXCJcIjtcbnRfMTAgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUubWVtYmVyTG9va3VwKChsX2l0ZW0pLFwiaWNvblwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG50XzEwICs9IFwiXFxcIj48L2ltZz5cXG4gICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xudF8xMCArPSBcIlxcbiAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmFzIGZhLWZ3IFwiO1xudF8xMCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5tZW1iZXJMb29rdXAoKGxfaXRlbSksXCJpY29uXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbnRfMTAgKz0gXCJcXFwiPjwvaT5cXG4gICAgICAgICAgICBcIjtcbjtcbn1cbnRfMTAgKz0gXCJcXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiaXRlbS10ZXh0XFxcIj5cXG4gICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibWFrZVNhZmVcIikpIHtcbnRfMTAgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzEwICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RmlsdGVyKFwic2FmZVwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUubWVtYmVyTG9va3VwKChsX2l0ZW0pLFwidGV4dFwiKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xudF8xMCArPSBcIlxcbiAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG50XzEwICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8xMCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5tZW1iZXJMb29rdXAoKGxfaXRlbSksXCJ0ZXh0XCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbnRfMTAgKz0gXCIgXFxuICAgICAgICAgICAgXCI7XG47XG59XG50XzEwICs9IFwiXFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcInJpZ2h0LXNpZGUtYW5ub3RhdGlvbiByaWdodC1zaWRlLWFjdGlvbiB0cnVuY2F0ZWQtb25lbGluZVxcXCI+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwibGlrZWZvbGxvd3N0YXItYnV0dG9uIGFjdGlvbi1kby1saWtlZm9sbG93c3RhciBsaWtlZm9sbG93c3Rhci1idXR0b24tc2ltcGxlIHNlbGVjdGVkXFxcIiBkYXRhLXR5cGU9XFxcInN0YXJcXFwiIGRhdGEtY3Q9XFxcIlwiO1xudF8xMCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5tZW1iZXJMb29rdXAoKGxfaXRlbSksXCJjdFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG50XzEwICs9IFwiXFxcIiBkYXRhLWlkPVxcXCJcIjtcbnRfMTAgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUubWVtYmVyTG9va3VwKChsX2l0ZW0pLFwiaWRcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xudF8xMCArPSBcIlxcXCI+XFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJzaG93LXVuc2VsZWN0ZWRcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhciBmYS1zdGFyIHByZXZlbnQtY2xpY2tcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwic2hvdy1zZWxlY3RlZFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmFzIGZhLXN0YXIgcHJldmVudC1jbGlja1xcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgPC9hPlxcbjwvbGk+XFxuXCI7XG47XG5mcmFtZSA9IGZyYW1lLnBvcCgpO1xucmV0dXJuIG5ldyBydW50aW1lLlNhZmVTdHJpbmcodF8xMCk7XG59KTtcbmNvbnRleHQuYWRkRXhwb3J0KFwic3RhcnJlZGxpc3RJdGVtXCIpO1xuY29udGV4dC5zZXRWYXJpYWJsZShcInN0YXJyZWRsaXN0SXRlbVwiLCBtYWNyb190XzkpO1xub3V0cHV0ICs9IFwiXFxuXFxuXCI7XG52YXIgbWFjcm9fdF8xMSA9IHJ1bnRpbWUubWFrZU1hY3JvKFxuW1wiaXRlbVwiXSwgXG5bXCJtYWtlU2FmZVwiXSwgXG5mdW5jdGlvbiAobF9pdGVtLCBrd2FyZ3MpIHtcbmZyYW1lID0gZnJhbWUucHVzaCh0cnVlKTtcbmt3YXJncyA9IGt3YXJncyB8fCB7fTtcbmlmIChrd2FyZ3MuaGFzT3duUHJvcGVydHkoXCJjYWxsZXJcIikpIHtcbmZyYW1lLnNldChcImNhbGxlclwiLCBrd2FyZ3MuY2FsbGVyKTsgfVxuZnJhbWUuc2V0KFwiaXRlbVwiLCBsX2l0ZW0pO1xuZnJhbWUuc2V0KFwibWFrZVNhZmVcIiwga3dhcmdzLmhhc093blByb3BlcnR5KFwibWFrZVNhZmVcIikgPyBrd2FyZ3NbXCJtYWtlU2FmZVwiXSA6IHRydWUpO1xudmFyIHRfMTIgPSBcIlwiO3RfMTIgKz0gXCJcXG48bGk+XFxuICAgIDxhIGNsYXNzPVxcXCJsaXN0LWl0ZW1cXFwiIGhyZWY9XFxcIlwiO1xudF8xMiArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5tZW1iZXJMb29rdXAoKGxfaXRlbSksXCJ1cmxcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xudF8xMiArPSBcIlxcXCIgdGl0bGVkYnk9XFxcIi5pdGVtLXRleHRcXFwiPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiaXRlbS1pY29uXFxcIj5cXG4gICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUubWVtYmVyTG9va3VwKChsX2l0ZW0pLFwiaWNvblwiKSAmJiBydW50aW1lLmluT3BlcmF0b3IoXCIvXCIscnVudGltZS5tZW1iZXJMb29rdXAoKGxfaXRlbSksXCJpY29uXCIpKSkge1xudF8xMiArPSBcIlxcbiAgICAgICAgICAgICAgICA8aW1nIHNyYz1cXFwiXCI7XG50XzEyICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLm1lbWJlckxvb2t1cCgobF9pdGVtKSxcImljb25cIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xudF8xMiArPSBcIlxcXCI+PC9pbWc+XFxuICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbnRfMTIgKz0gXCJcXG4gICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhcyBmYS1mdyBcIjtcbnRfMTIgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUubWVtYmVyTG9va3VwKChsX2l0ZW0pLFwiaWNvblwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG50XzEyICs9IFwiXFxcIj48L2k+XFxuICAgICAgICAgICAgXCI7XG47XG59XG50XzEyICs9IFwiXFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcIml0ZW0tdGV4dFxcXCI+XFxuICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm1ha2VTYWZlXCIpKSB7XG50XzEyICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8xMiArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEZpbHRlcihcInNhZmVcIikuY2FsbChjb250ZXh0LCBydW50aW1lLm1lbWJlckxvb2t1cCgobF9pdGVtKSxcInRleHRcIikpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbnRfMTIgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xudF8xMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbnRfMTIgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUubWVtYmVyTG9va3VwKChsX2l0ZW0pLFwidGV4dFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG50XzEyICs9IFwiIFxcbiAgICAgICAgICAgIFwiO1xuO1xufVxudF8xMiArPSBcIlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJyaWdodC1zaWRlLWFubm90YXRpb24gcmlnaHQtc2lkZS1hY3Rpb24gdHJ1bmNhdGVkLW9uZWxpbmVcXFwiPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImxpa2Vmb2xsb3dzdGFyLWJ1dHRvbiBhY3Rpb24tZG8tbGlrZWZvbGxvd3N0YXIgbGlrZWZvbGxvd3N0YXItYnV0dG9uLXNpbXBsZSBzZWxlY3RlZFxcXCIgZGF0YS10eXBlPVxcXCJmb2xsb3dcXFwiIGRhdGEtY3Q9XFxcIlwiO1xudF8xMiArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5tZW1iZXJMb29rdXAoKGxfaXRlbSksXCJjdFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG50XzEyICs9IFwiXFxcIiBkYXRhLWlkPVxcXCJcIjtcbnRfMTIgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUubWVtYmVyTG9va3VwKChsX2l0ZW0pLFwiaWRcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xudF8xMiArPSBcIlxcXCI+XFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJzaG93LXVuc2VsZWN0ZWRcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhciBmYS1iZWxsIHByZXZlbnQtY2xpY2tcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwic2hvdy1zZWxlY3RlZFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmFzIGZhLWJlbGwgcHJldmVudC1jbGlja1xcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgPC9hPlxcbjwvbGk+XFxuXCI7XG47XG5mcmFtZSA9IGZyYW1lLnBvcCgpO1xucmV0dXJuIG5ldyBydW50aW1lLlNhZmVTdHJpbmcodF8xMik7XG59KTtcbmNvbnRleHQuYWRkRXhwb3J0KFwiZm9sbG93ZWRsaXN0SXRlbVwiKTtcbmNvbnRleHQuc2V0VmFyaWFibGUoXCJmb2xsb3dlZGxpc3RJdGVtXCIsIG1hY3JvX3RfMTEpO1xub3V0cHV0ICs9IFwiXFxuXFxuXCI7XG5pZihwYXJlbnRUZW1wbGF0ZSkge1xucGFyZW50VGVtcGxhdGUucm9vdFJlbmRlckZ1bmMoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpO1xufSBlbHNlIHtcbmNiKG51bGwsIG91dHB1dCk7XG59XG47XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxucmV0dXJuIHtcbnJvb3Q6IHJvb3Rcbn07XG5cbn0pKCk7XG59KSgpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBzaGltKG51bmp1Y2tzLCBlbnYsIG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWRbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL2luY2x1ZGUvbWFjcm9zLmh0bWxcIl0gLCBkZXBlbmRlbmNpZXMpXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL2luY2x1ZGUvbWFjcm9zLmh0bWxcbi8vIG1vZHVsZSBpZCA9IDIzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxudmFyIFJlc3VsdCA9IHJlcXVpcmUoJ21vZGVscy9yZXN1bHQnKTtcbnZhciB1dGlsID0gcmVxdWlyZSgnbGliL3V0aWwuanMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBCYWNrYm9uZS5Db2xsZWN0aW9uLmV4dGVuZCh7XG4gICAgXG4gICAgbW9kZWw6IFJlc3VsdCxcbiAgICBcbiAgICAvKiogUmVzdWx0cyBhcmUgYWx3YXlzIHNvcnRlZCBieSByZWxldmFuY2UgKi9cbiAgICBjb21wYXJhdG9yOiBmdW5jdGlvbiAocmVzdWx0XzEsIHJlc3VsdF8yKSB7XG4gICAgICAgIGlmIChyZXN1bHRfMS5nZXQoJ3JlbGV2YW5jZScpID09IHJlc3VsdF8yLmdldCgncmVsZXZhbmNlJykpIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdF8xLmdldCgncmVsZXZhbmNlJykgPiByZXN1bHRfMi5nZXQoJ3JlbGV2YW5jZScpKSB7XG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbn0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29zaW5udXMvY2xpZW50L2NvbGxlY3Rpb25zL3Jlc3VsdC1jb2xsZWN0aW9uLmpzXG4vLyBtb2R1bGUgaWQgPSAyNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlsID0gcmVxdWlyZSgnbGliL3V0aWwuanMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBCYWNrYm9uZS5Nb2RlbC5leHRlbmQoe1xuICAgIFxuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIC8qKiBpZDogUmVzdWx0cyBnZXQgYW4gaWQgaW4gdGhlIGZvcm0gb2YgXCI8cmVzdWx0X3R5cGU+LjxyZXN1bHRfaWQ+XCIgZnJvbSB0aGUgYmFja2VuZC5cbiAgICAgICAgICogICAgICAgICBFeGFtcGxlOiAgXCIzLjIxNVwiICAqL1xuICAgICAgICBcbiAgICAgICAgLyoqICBPYmplY3QgdHlwZSBvZiB0aGUgcmVzdWx0LiBjdXJyZW50bHk6XG4gICAgICAgICAqICAnZ3JvdXBzJywgJ3Byb2plY3RzJywgJ2V2ZW50cycsICdwZW9wbGUnLlxuICAgICAgICAgKiAgQW5kIHRoZSBzcGVjaWFsIHJlc3VsdCB0eXBlOiAnZXJyb3InICovXG4gICAgICAgIHR5cGU6IG51bGwsXG4gICAgICAgIFxuICAgICAgICAvKiogQ2VudHJhbGlzZWQgaG92ZXJlZCBzdGF0ZSBvZiB0aGlzIHJlc3VsdCBpbiB0aGUgdmlld3MuIFxuICAgICAgICAgKiAgVXNlZCB0byB0cmFuc3BvcnQgaG92ZXJlZCBzdGF0ZSBvdmVyIHRoZSBzYW1lIHJlc3VsdCwgZXZlbiBpZiBkaXNwbGF5ZWQgaW4gZGlmZmVyZW50IFxuICAgICAgICAgKiAgdmlld3MgKHRpbGUsIG1hcCwgZXRjKS4gVGhlIGNvcnJlc3BvbmRpbmcgY2hhbmdlOmhvdmVyZWQgc2lnbmFsIGNhbiBiZSBzdWJzY3JpYmVkIHRvIFxuICAgICAgICAgKiAgdG8gcmVnaXN0ZXIgdmlzdWFsIGNoYW5nZXMgaW4gdGhlIHZpZXdzLiAgKi9cbiAgICAgICAgaG92ZXJlZDogZmFsc2UsXG4gICAgICAgIFxuICAgICAgICAvKiogQ2VudHJhbGlzZWQgc2VsZWN0ZWQvY2xpY2tlZCBzdGF0ZSBvZiB0aGlzIHJlc3VsdCBpbiB0aGUgdmlld3MuIFxuICAgICAgICAgKiAgVXNlZCB0byB0cmFuc3BvcnQgc2VsZWN0ZWQgc3RhdGUgb3ZlciB0aGUgc2FtZSByZXN1bHQsIGV2ZW4gaWYgZGlzcGxheWVkIGluIGRpZmZlcmVudCBcbiAgICAgICAgICogIHZpZXdzICh0aWxlLCBtYXAsIGV0YykuIFRoZSBjb3JyZXNwb25kaW5nIHNlbGVjdGVkIHNpZ25hbCBjYW4gYmUgc3Vic2NyaWJlZCB0byB0byBcbiAgICAgICAgICogIHJlZ2lzdGVyIHZpc3VhbCBjaGFuZ2VzIGluIHRoZSB2aWV3cy4gICovXG4gICAgICAgIHNlbGVjdGVkOiBmYWxzZSxcblxuICAgICAgICAvKiogTGF0aXR1ZGUvbG9uZ2l0dWRlIGNvb3JkaW5hdGVzLiBcbiAgICAgICAgICogIElmIG51bGwsIHRoaXMgUmVzdWx0IGhhcyBubyBsb2NhdGlvbiwgYnV0IGNhbiBzdGlsbCBiZSBkaXNwbGF5ZWQgaW4gZm9yIGV4YW1wbGUgdGhlIFRpbGUgVmlldy4gKi9cbiAgICAgICAgbGF0OiBudWxsLFxuICAgICAgICBsb246IG51bGwsXG4gICAgICAgIFxuICAgICAgICAvKiogUmVzdWx0IHJlbGV2YW5jZSBhcyBmbG9hdCwgMCBvciBwb3NpdGl2ZSwgY2FuIGJlIGxhcmdlciB0aGFuIDEuMCEgKi9cbiAgICAgICAgcmVsZXZhbmNlOiAwLjAsXG4gICAgICAgIFxuICAgICAgICAvKiogQWxsIG90aGVyIGF0dHJpYnV0ZXMgY29tZSBkaXJlY3RseSBmcm9tIHRoZSBiYWNrZW5kLCBhbmQgYXJlbid0IGxpc3RlZCBoZXJlIGFzXG4gICAgICAgICAqICB0aGV5IGFyZSBvbmx5IHVzZWQgaW4gdGhlIHRlbXBsYXRlcyBkaXJlY3RseS4gKi9cbiAgICB9LFxuICAgIFxuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKCl7XG4gICAgICAgIFxuICAgIH0sXG4gICAgXG4gICAgbG9jRXF1YWxzOiBmdW5jdGlvbihvdGhlcl9yZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdsYXQnKSAhPSBudWxsIFxuICAgICAgICAgICAgJiYgdGhpcy5nZXQoJ2xvbicpICE9IG51bGxcbiAgICAgICAgICAgICYmIG90aGVyX3Jlc3VsdC5nZXQoJ2xhdCcpID09IHRoaXMuZ2V0KCdsYXQnKSBcbiAgICAgICAgICAgICYmIG90aGVyX3Jlc3VsdC5nZXQoJ2xvbicpID09IHRoaXMuZ2V0KCdsb24nKTtcbiAgICB9LFxuICAgIFxuICAgIGdldExvY3M6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gW3RoaXMuZ2V0KCdsYXQnKSwgdGhpcy5nZXQoJ2xvbicpXTtcbiAgICB9XG5cbn0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29zaW5udXMvY2xpZW50L21vZGVscy9yZXN1bHQuanNcbi8vIG1vZHVsZSBpZCA9IDI1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBudW5qdWNrcyA9IHJlcXVpcmUoXCJudW5qdWNrcy9icm93c2VyL251bmp1Y2tzLXNsaW1cIik7XG52YXIgZW52O1xuaWYgKCFudW5qdWNrcy5jdXJyZW50RW52KXtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudiA9IG5ldyBudW5qdWNrcy5FbnZpcm9ubWVudChbXSwgdW5kZWZpbmVkKTtcbn0gZWxzZSB7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnY7XG59XG52YXIgY29uZmlndXJlID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uLy4uL251bmp1Y2tzLmNvbmZpZy5qc1wiKShlbnYpO1xudmFyIGRlcGVuZGVuY2llcyA9IG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgfHwgKG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgPSB7fSk7XG5kZXBlbmRlbmNpZXNbXCJpbmNsdWRlL21hY3Jvcy5odG1sXCJdID0gcmVxdWlyZSggXCJpbmNsdWRlL21hY3Jvcy5odG1sXCIgKTtcblxuXG5cblxudmFyIHNoaW0gPSByZXF1aXJlKFwiL2hvbWUvc2FzY2hhL3ByL2Nvc2lubnVzLWNvcmUvbm9kZV9tb2R1bGVzL251bmp1Y2tzLWxvYWRlci9ydW50aW1lLXNoaW1cIik7XG5cblxuKGZ1bmN0aW9uKCkgeyhudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkID0gbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZCB8fCB7fSlbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL21hcC9tYXAtY29udHJvbHMuaHRtbFwiXSA9IChmdW5jdGlvbigpIHtcbmZ1bmN0aW9uIHJvb3QoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbnZhciBwYXJlbnRUZW1wbGF0ZSA9IG51bGw7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJwYXNzVGhyb3VnaFwiKVtcInJ1blwiXShjb250ZXh0LHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiaTE4blwiKSksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cIjtcbmVudi5nZXRUZW1wbGF0ZShcImluY2x1ZGUvbWFjcm9zLmh0bWxcIiwgZmFsc2UsIFwiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC9tYXAvbWFwLWNvbnRyb2xzLmh0bWxcIiwgZmFsc2UsIGZ1bmN0aW9uKHRfMix0XzEpIHtcbmlmKHRfMikgeyBjYih0XzIpOyByZXR1cm47IH1cbnRfMS5nZXRFeHBvcnRlZChmdW5jdGlvbih0XzMsdF8xKSB7XG5pZih0XzMpIHsgY2IodF8zKTsgcmV0dXJuOyB9XG5jb250ZXh0LnNldFZhcmlhYmxlKFwibWFjcm9zXCIsIHRfMSk7XG5vdXRwdXQgKz0gXCJcXG5cXG48ZGl2IGNsYXNzPVxcXCJtYXAtY29udHJvbHMgbW9iaWxlLXZpZXcgbW9iaWxlLXZpZXctc2VhcmNoLXZpc2libGUtYmxvY2tcXFwiPlxcbiAgICAgPGRpdiBjbGFzcz1cXFwibWFwLWNvbnRyb2xzLXNlYXJjaFxcXCJcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibWF0Y2hpbmdcIikpIHtcbm91dHB1dCArPSBcIiBzdHlsZT1cXFwiZGlzcGxheTpub25lXFxcIlwiO1xuO1xufVxub3V0cHV0ICs9IFwiPlxcbiAgICAgICAgIDxkaXYgY2xhc3M9XFxcInNlYXJjaC1ib3hcXFwiPlxcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBjbGFzcz1cXFwicVxcXCIgbmFtZT1cXFwicVxcXCJcXG5cXG5cIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic3BsaXRzY3JlZW5cIikpIHtcbm91dHB1dCArPSBcIlxcbnBsYWNlaG9sZGVyPVxcXCJcIjtcbm91dHB1dCArPSBcIlxcblwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIlNlYXJjaCBmb3IgTmFtZXMsIFRvcGljcyBhbmQgUGxhY2VzLi4uXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxcIlxcblwiO1xuO1xufVxuZWxzZSB7XG5vdXRwdXQgKz0gXCJcXG5wbGFjZWhvbGRlcj1cXFwiXCI7XG5vdXRwdXQgKz0gXCJcXG5cIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJTZWFyY2ggZm9yIE5hbWVzIGFuZCBUb3BpY3MuLi5cIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiXFxuXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPVxcXCJcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJxXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCIgYXV0b2NvbXBsZXRlPVxcXCJvZmZcXFwiIC8+XFxuICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLXNlYXJjaCBjbGlja2FibGUtYnV0dG9uIHF1ZXJ5LXNlYXJjaC1idXR0b24gaWNvbi1zZWFyY2ggXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIndhbnRzVG9TZWFyY2hcIikpIHtcbm91dHB1dCArPSBcImhpZGRlblwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxcIj48L2k+XFxuICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImNsaWNrYWJsZS1idXR0b24gaWNvbi1maWx0ZXJzIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJmaWx0ZXJQYW5lbFZpc2libGVcIikpIHtcbm91dHB1dCArPSBcIm9wZW5cIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcXCI+XFxuICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1iYXJzIHZpc2libGUtZGVmYXVsdFxcXCI+PC9pPlxcbiAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtY2hldnJvbi11cCB2aXNpYmxlLW9wZW5cXFwiPjwvaT5cXG4gICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWNoZXZyb24tdXAgdmlzaWJsZS1vcGVuLWhvdmVyXFxcIj48L2k+XFxuICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1jbG9zZSBjbGlja2FibGUtYnV0dG9uIHJlc2V0LWFsbCBpY29uLXJlc2V0IFwiO1xuaWYoIXJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZmlsdGVyc0FjdGl2ZVwiKSAmJiAhcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJxXCIpKSB7XG5vdXRwdXQgKz0gXCJoaWRkZW5cIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcXCI+PC9pPlxcbiAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1zcGlubmVyIGZhLXB1bHNlIGljb24tbG9hZGluZyBcIjtcbmlmKCFydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIndhbnRzVG9TZWFyY2hcIikpIHtcbm91dHB1dCArPSBcIiBoaWRkZW5cIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcXCI+PC9pPlxcbiAgICAgICAgIDxkaXYgY2xhc3M9XFxcImljb24tYm94IGZpbHRlci1idXR0b24tYm94XFxcIj5cXG4gICAgICAgICA8L2Rpdj5cXG4gICAgIDwvZGl2PlxcblxcbiAgICAgPGRpdiBjbGFzcz1cXFwibWFwLWNvbnRyb2xzLWFjdGl2ZS1maWx0ZXJzXFxcIj48L2Rpdj5cXG5cXG4gICAgIDxkaXYgY2xhc3M9XFxcIm1hcC1jb250cm9scy1maWx0ZXJzIG1vYmlsZS1hbHdheXMtdmlzaWJsZVxcXCIgXCI7XG5pZighcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJmaWx0ZXJQYW5lbFZpc2libGVcIikpIHtcbm91dHB1dCArPSBcInN0eWxlPVxcXCJkaXNwbGF5OiBub25lO1xcXCJcIjtcbjtcbn1cbm91dHB1dCArPSBcIj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcIm1hcC1jb250cm9scy1maWx0ZXItZmllbGRzXFxcIj5cXG5cXHRcXHRcXHRcIjtcbmlmKGVudi5nZXRGaWx0ZXIoXCJsZW5ndGhcIikuY2FsbChjb250ZXh0LCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImF2YWlsYWJsZUZpbHRlckxpc3RcIikpID4gMSkge1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0PGRpdiBjbGFzcz1cXFwiYnV0dG9uLWxpc3RcXFwiPlxcblxcdFxcdFxcdFxcdFxcdFwiO1xuZnJhbWUgPSBmcmFtZS5wdXNoKCk7XG52YXIgdF82ID0gcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJhdmFpbGFibGVGaWx0ZXJMaXN0XCIpO1xuaWYodF82KSB7dmFyIHRfNSA9IHRfNi5sZW5ndGg7XG5mb3IodmFyIHRfND0wOyB0XzQgPCB0XzYubGVuZ3RoOyB0XzQrKykge1xudmFyIHRfNyA9IHRfNlt0XzRdO1xuZnJhbWUuc2V0KFwiZmlsdGVyX3R5cGVcIiwgdF83KTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXhcIiwgdF80ICsgMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4MFwiLCB0XzQpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleFwiLCB0XzUgLSB0XzQpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleDBcIiwgdF81IC0gdF80IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmZpcnN0XCIsIHRfNCA9PT0gMCk7XG5mcmFtZS5zZXQoXCJsb29wLmxhc3RcIiwgdF80ID09PSB0XzUgLSAxKTtcbmZyYW1lLnNldChcImxvb3AubGVuZ3RoXCIsIHRfNSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHQ8YSBjbGFzcz1cXFwicm91bmRlZC1idXR0b24gYnV0dG9uLWNvbG9yLVwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSh0XzcsIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiIHJlc3VsdC1maWx0ZXItYnV0dG9uIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0eXBlRmlsdGVyc0FjdGl2ZVwiKSAmJiBydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJhY3RpdmVGaWx0ZXJzXCIpKSx0XzcpKSB7XG5vdXRwdXQgKz0gXCJzZWxlY3RlZFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxcIiBkYXRhLXJlc3VsdC1maWx0ZXItdHlwZT1cXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHRfNywgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiPlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSgobGluZW5vID0gMzcsIGNvbG5vID0gMjQsIHJ1bnRpbWUuY2FsbFdyYXAocnVudGltZS5tZW1iZXJMb29rdXAoKHRfMSksXCJ0eXBlTGFiZWxcIiksIFwibWFjcm9zW1xcXCJ0eXBlTGFiZWxcXFwiXVwiLCBjb250ZXh0LCBbdF83LFwicm91bmRlZC1idXR0b24taW5uZXJcIixydW50aW1lLm1ha2VLZXl3b3JkQXJncyh7XCJidXR0b25cIjogMSxcIkNPU0lOTlVTX1RSQU5TXCI6IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiQ09TSU5OVVNfVFJBTlNcIil9KV0pKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHQ8L2E+XFxuXFx0XFx0XFx0XFx0XFx0XCI7XG47XG59XG59XG5mcmFtZSA9IGZyYW1lLnBvcCgpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0PC9kaXY+XFxuXFx0XFx0XFx0XCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cXG5cXHRcXHRcXHQ8b2wgaWQ9XFxcImRhdGUtdGltZS1maWx0ZXJcXFwiIGNsYXNzPVxcXCJpbnB1dC1hcmVhXFxcIiAgc3R5bGU9XFxcImRpc3BsYXk6IFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJkYXRlRmlsdGVyc0FjdGl2ZVwiKSkge1xub3V0cHV0ICs9IFwiIGJsb2NrIFwiO1xuO1xufVxuZWxzZSB7XG5vdXRwdXQgKz0gXCIgbm9uZSBcIjtcbjtcbn1cbm91dHB1dCArPSBcIjtcXFwiPlxcblxcdFxcdFxcdFxcdDxsaSBjbGFzcz1cXFwiY2FsZW5kYXItZGF0ZS10aW1lLWNob29zZXJcXFwiPlxcblxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiRnJvbVwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdDxpIGNsYXNzPVxcXCJmYSBmYS1jYWxlbmRhclxcXCI+PC9pPlxcblxcdFxcdFxcdFxcdFxcdDxpbnB1dCByZWFkb25seSA9XFxcInJlYWRvbmx5XFxcIiBjbGFzcz1cXFwiY2FsZW5kYXItZGF0ZS10aW1lLWNob29zZXItZGF0ZVxcXCIgLz5cXG5cXHRcXHRcXHRcXHRcXHQ8aW5wdXQgY2xhc3M9XFxcImNhbGVuZGFyLWRhdGUtdGltZS1jaG9vc2VyLWhpZGRlbmRhdGVcXFwiIGlkPVxcXCJpZF9zdGFydF8wXFxcIiBuYW1lPVxcXCJzdGFydF8wXFxcIlxcblxcdFxcdFxcdFxcdFxcdFxcdHR5cGU9XFxcImhpZGRlblxcXCIgdmFsdWU9XFxcIlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImZyb21EYXRlXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCJcXG5cXHRcXHRcXHRcXHRcXHQ+XFxuXFx0XFx0XFx0XFx0XFx0PGlucHV0IGNsYXNzPVxcXCJjYWxlbmRhci1kYXRlLXRpbWUtY2hvb3Nlci10aW1lXFxcIiBpZD1cXFwiaWRfc3RhcnRfMVxcXCIgbmFtZT1cXFwic3RhcnRfMVxcXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHRwbGFjZWhvbGRlcj1cXFwiMDA6MDBcXFwiIHR5cGU9XFxcInRleHRcXFwiIHZhbHVlPVxcXCJcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJmcm9tVGltZVwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiXFxuXFx0XFx0XFx0XFx0XFx0PlxcblxcdFxcdFxcdFxcdFxcdDxkaXYgY2xhc3M9XFxcInNtYWxsLWNhbGVuZGFyXFxcIj48L2Rpdj5cXG5cXHRcXHRcXHRcXHQ8L2xpPlxcblxcblxcdFxcdFxcdFxcdDxsaSBjbGFzcz1cXFwiY2FsZW5kYXItZGF0ZS10aW1lLWNob29zZXJcXFwiPlxcblxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiVW50aWxcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHQ8aSBjbGFzcz1cXFwiZmEgZmEtY2FsZW5kYXJcXFwiPjwvaT5cXG5cXHRcXHRcXHRcXHRcXHQ8aW5wdXQgcmVhZG9ubHkgPVxcXCJyZWFkb25seVxcXCIgY2xhc3M9XFxcImNhbGVuZGFyLWRhdGUtdGltZS1jaG9vc2VyLWRhdGVcXFwiIC8+XFxuXFx0XFx0XFx0XFx0XFx0PGlucHV0IGNsYXNzPVxcXCJjYWxlbmRhci1kYXRlLXRpbWUtY2hvb3Nlci1oaWRkZW5kYXRlXFxcIiBpZD1cXFwiaWRfZW5kXzBcXFwiIG5hbWU9XFxcImVuZF8wXFxcIlxcblxcdFxcdFxcdFxcdFxcdFxcdHR5cGU9XFxcImhpZGRlblxcXCIgdmFsdWU9XFxcIlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInRvRGF0ZVwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiXFxuXFx0XFx0XFx0XFx0XFx0PlxcblxcdFxcdFxcdFxcdFxcdDxpbnB1dCBjbGFzcz1cXFwiY2FsZW5kYXItZGF0ZS10aW1lLWNob29zZXItdGltZVxcXCIgaWQ9XFxcImlkX2VuZF8xXFxcIiBuYW1lPVxcXCJlbmRfMVxcXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHRwbGFjZWhvbGRlcj1cXFwiMDA6MDBcXFwiIHR5cGU9XFxcInRleHRcXFwiIHZhbHVlPVxcXCJcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0b1RpbWVcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxcIlxcblxcdFxcdFxcdFxcdFxcdD5cXG5cXHRcXHRcXHRcXHRcXHQ8ZGl2IGNsYXNzPVxcXCJzbWFsbC1jYWxlbmRhclxcXCI+PC9kaXY+XFxuXFx0XFx0XFx0XFx0PC9saT5cXG5cXHRcXHRcXHQ8L29sPlxcblxcblxcblxcdFxcdFxcdFwiO1xuaWYoZW52LmdldEZpbHRlcihcImxlbmd0aFwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWxsU0RHU1wiKSkgPiAwKSB7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHQ8aDE+XFxuXFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJTdXN0YWluYWJsZSBEZXZlbG9wbWVudCBHb2Fsc1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdDwvaDE+XFxuXFxuXFx0XFx0XFx0XFx0PGRpdiBjbGFzcz1cXFwiYnV0dG9uLWxpc3RcXFwiPlxcblxcdFxcdFxcdFxcdFxcdFwiO1xuZnJhbWUgPSBmcmFtZS5wdXNoKCk7XG52YXIgdF8xMCA9IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWxsU0RHU1wiKTtcbmlmKHRfMTApIHt2YXIgdF85ID0gdF8xMC5sZW5ndGg7XG5mb3IodmFyIHRfOD0wOyB0XzggPCB0XzEwLmxlbmd0aDsgdF84KyspIHtcbnZhciB0XzExID0gdF8xMFt0XzhdO1xuZnJhbWUuc2V0KFwic2RnXCIsIHRfMTEpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleFwiLCB0XzggKyAxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXgwXCIsIHRfOCk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4XCIsIHRfOSAtIHRfOCk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4MFwiLCB0XzkgLSB0XzggLSAxKTtcbmZyYW1lLnNldChcImxvb3AuZmlyc3RcIiwgdF84ID09PSAwKTtcbmZyYW1lLnNldChcImxvb3AubGFzdFwiLCB0XzggPT09IHRfOSAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5sZW5ndGhcIiwgdF85KTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFxcdFwiO1xuaWYocnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTEpLFwiaWRcIikgIT0gXCJcIiAmJiB0XzExKSB7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHQ8YSBjbGFzcz1cXFwicm91bmRlZC1idXR0b24gYnV0dG9uLWNvbG9yLXRvcGljIHNkZy1idXR0b24gaG92ZXItaW1hZ2UtYnV0dG9uIFwiO1xuaWYocnVudGltZS5pbk9wZXJhdG9yKHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzExKSxcImlkXCIpLHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWN0aXZlU0RHSWRzXCIpKSkge1xub3V0cHV0ICs9IFwic2VsZWN0ZWRcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcXCIgZGF0YS1zZGctaWQ9XFxcIlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLm1lbWJlckxvb2t1cCgodF8xMSksXCJpZFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiPlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdDxzcGFuIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbi1pbm5lciBob3Zlci1pbWFnZS1idXR0b24taW5uZXJcXFwiPlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLm1lbWJlckxvb2t1cCgodF8xMSksXCJuYW1lXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdDxpbWcgY2xhc3M9XFxcImhvdmVyLWltYWdlLWljb24gaG92ZXItaW1hZ2UtaWNvbi1wb3MtYWJzIGhvdmVyLWltYWdlLWljb24taGlkZGVuXFxcIiBzcmM9XFxcIlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLm1lbWJlckxvb2t1cCgodF8xMSksXCJpY29uXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCI+XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0PC9zcGFuPlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdDwvYT5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFwiO1xuO1xufVxufVxuZnJhbWUgPSBmcmFtZS5wb3AoKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdDwvZGl2PlxcblxcdFxcdFxcdFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXFxuXFx0XFx0XFx0XCI7XG5pZihlbnYuZ2V0RmlsdGVyKFwibGVuZ3RoXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJhbGxNYW5hZ2VkVGFnc1wiKSkgPiAwKSB7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHQ8ZGl2IGNsYXNzPVxcXCJtYW5hZ2VkLXRhZ3MtYnV0dG9uc1xcXCIgXCI7XG5pZihlbnYuZ2V0RmlsdGVyKFwibGVuZ3RoXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzaG93TWFuYWdlZFRhZ3NPblR5cGVzU2VsZWN0ZWRcIikpID4gMCAmJiAhcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJkaXNwbGF5TWFuYWdlZFRhZ3NGaWx0ZXJcIikpIHtcbm91dHB1dCArPSBcInN0eWxlPVxcXCJkaXNwbGF5OiBub25lO1xcXCJcIjtcbjtcbn1cbm91dHB1dCArPSBcIj5cXG5cXHRcXHRcXHRcXHRcXHQ8aDE+XFxuXFx0XFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm1hbmFnZWRUYWdzTGFiZWxzXCIpKSxcIk1BTkFHRURfVEFHX01BUF9MQUJFTFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHQ8L2gxPlxcblxcblxcdFxcdFxcdFxcdFxcdDxkaXYgY2xhc3M9XFxcImJ1dHRvbi1saXN0XFxcIj5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcIjtcbmZyYW1lID0gZnJhbWUucHVzaCgpO1xudmFyIHRfMTQgPSBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImFsbE1hbmFnZWRUYWdzXCIpO1xuaWYodF8xNCkge3ZhciB0XzEzID0gdF8xNC5sZW5ndGg7XG5mb3IodmFyIHRfMTI9MDsgdF8xMiA8IHRfMTQubGVuZ3RoOyB0XzEyKyspIHtcbnZhciB0XzE1ID0gdF8xNFt0XzEyXTtcbmZyYW1lLnNldChcIm1hbmFnZWRfdGFnXCIsIHRfMTUpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleFwiLCB0XzEyICsgMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4MFwiLCB0XzEyKTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXhcIiwgdF8xMyAtIHRfMTIpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleDBcIiwgdF8xMyAtIHRfMTIgLSAxKTtcbmZyYW1lLnNldChcImxvb3AuZmlyc3RcIiwgdF8xMiA9PT0gMCk7XG5mcmFtZS5zZXQoXCJsb29wLmxhc3RcIiwgdF8xMiA9PT0gdF8xMyAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5sZW5ndGhcIiwgdF8xMyk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcIjtcbmlmKHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzE1KSxcImlkXCIpICE9IFwiXCIgJiYgdF8xNSkge1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0PGEgY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uIGJ1dHRvbi1jb2xvci10b3BpYyBtYW5hZ2VkLXRhZy1idXR0b24gaG92ZXItaW1hZ2UtYnV0dG9uIFwiO1xuaWYocnVudGltZS5pbk9wZXJhdG9yKHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzE1KSxcImlkXCIpLHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWN0aXZlTWFuYWdlZFRhZ3NJZHNcIikpKSB7XG5vdXRwdXQgKz0gXCJzZWxlY3RlZFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxcIiBkYXRhLW1hbmFnZWQtdGFnLWlkPVxcXCJcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTUpLFwiaWRcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxcIj5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQ8c3BhbiBjbGFzcz1cXFwicm91bmRlZC1idXR0b24taW5uZXIgaG92ZXItaW1hZ2UtYnV0dG9uLWlubmVyXFxcIj5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTUpLFwibmFtZVwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcIjtcbmlmKHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzE1KSxcImltYWdlXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQ8aW1nIGNsYXNzPVxcXCJvdmVyLWltYWdlLWljb24gaG92ZXItaW1hZ2UtaWNvbi1wb3MtYWJzIGhvdmVyLWltYWdlLWljb24taGlkZGVuXFxcIiBzcmM9XFxcIlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLm1lbWJlckxvb2t1cCgodF8xNSksXCJpbWFnZVwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiPlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0PC9zcGFuPlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdDwvYT5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFxcdFwiO1xuO1xufVxufVxuZnJhbWUgPSBmcmFtZS5wb3AoKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdDwvZGl2PlxcblxcdFxcdFxcdFxcdDwvZGl2PlxcblxcdFxcdFxcdFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXFxuXFx0XFx0XFx0XCI7XG5pZihlbnYuZ2V0RmlsdGVyKFwibGVuZ3RoXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJhbGxUZXh0VG9waWNzXCIpKSA+IDApIHtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdDxkaXYgY2xhc3M9XFxcInRleHQtdG9waWMtYnV0dG9uc1xcXCIgXCI7XG5pZihlbnYuZ2V0RmlsdGVyKFwibGVuZ3RoXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzaG93VGV4dFRvcGljc09uVHlwZXNTZWxlY3RlZFwiKSkgPiAwICYmICFydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImRpc3BsYXlUZXh0VG9wY0ZpbHRlclwiKSkge1xub3V0cHV0ICs9IFwic3R5bGU9XFxcImRpc3BsYXk6IG5vbmU7XFxcIlwiO1xuO1xufVxub3V0cHV0ICs9IFwiPlxcblxcdFxcdFxcdFxcdFxcdDxoMT5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkNhdGVnb3JpZXNcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHQ8L2gxPlxcblxcblxcdFxcdFxcdFxcdFxcdDxkaXYgY2xhc3M9XFxcImJ1dHRvbi1saXN0XFxcIj5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcIjtcbmZyYW1lID0gZnJhbWUucHVzaCgpO1xudmFyIHRfMTggPSBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImFsbFRleHRUb3BpY3NcIik7XG5pZih0XzE4KSB7dmFyIHRfMTY7XG5pZihydW50aW1lLmlzQXJyYXkodF8xOCkpIHtcbnZhciB0XzE3ID0gdF8xOC5sZW5ndGg7XG5mb3IodF8xNj0wOyB0XzE2IDwgdF8xOC5sZW5ndGg7IHRfMTYrKykge1xudmFyIHRfMTkgPSB0XzE4W3RfMTZdWzBdXG5mcmFtZS5zZXQoXCJ0ZXh0VG9waWNfaWRcIiwgdF8xOFt0XzE2XVswXSk7XG52YXIgdF8yMCA9IHRfMThbdF8xNl1bMV1cbmZyYW1lLnNldChcInRleHRUb3BpY1wiLCB0XzE4W3RfMTZdWzFdKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXhcIiwgdF8xNiArIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleDBcIiwgdF8xNik7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4XCIsIHRfMTcgLSB0XzE2KTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXgwXCIsIHRfMTcgLSB0XzE2IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmZpcnN0XCIsIHRfMTYgPT09IDApO1xuZnJhbWUuc2V0KFwibG9vcC5sYXN0XCIsIHRfMTYgPT09IHRfMTcgLSAxKTtcbmZyYW1lLnNldChcImxvb3AubGVuZ3RoXCIsIHRfMTcpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XCI7XG5pZih0XzE5ICE9IFwiXCIgJiYgdF8yMCkge1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0PGEgY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uIGJ1dHRvbi1jb2xvci10b3BpYyB0ZXh0LXRvcGljLWJ1dHRvbiBcIjtcbmlmKHJ1bnRpbWUuaW5PcGVyYXRvcihlbnYuZ2V0RmlsdGVyKFwiaW50XCIpLmNhbGwoY29udGV4dCwgdF8xOSkscnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJhY3RpdmVUZXh0VG9waWNJZHNcIikpKSB7XG5vdXRwdXQgKz0gXCJzZWxlY3RlZFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxcIiBkYXRhLXRleHQtdG9waWMtaWQ9XFxcIlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSh0XzE5LCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCI+XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0PHNwYW4gY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uLWlubmVyXFxcIj5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUodF8yMCwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQ8L3NwYW4+XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0PC9hPlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XFx0XCI7XG47XG59XG59IGVsc2Uge1xudF8xNiA9IC0xO1xudmFyIHRfMTcgPSBydW50aW1lLmtleXModF8xOCkubGVuZ3RoO1xuZm9yKHZhciB0XzIxIGluIHRfMTgpIHtcbnRfMTYrKztcbnZhciB0XzIyID0gdF8xOFt0XzIxXTtcbmZyYW1lLnNldChcInRleHRUb3BpY19pZFwiLCB0XzIxKTtcbmZyYW1lLnNldChcInRleHRUb3BpY1wiLCB0XzIyKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXhcIiwgdF8xNiArIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleDBcIiwgdF8xNik7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4XCIsIHRfMTcgLSB0XzE2KTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXgwXCIsIHRfMTcgLSB0XzE2IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmZpcnN0XCIsIHRfMTYgPT09IDApO1xuZnJhbWUuc2V0KFwibG9vcC5sYXN0XCIsIHRfMTYgPT09IHRfMTcgLSAxKTtcbmZyYW1lLnNldChcImxvb3AubGVuZ3RoXCIsIHRfMTcpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XCI7XG5pZih0XzIxICE9IFwiXCIgJiYgdF8yMikge1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0PGEgY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uIGJ1dHRvbi1jb2xvci10b3BpYyB0ZXh0LXRvcGljLWJ1dHRvbiBcIjtcbmlmKHJ1bnRpbWUuaW5PcGVyYXRvcihlbnYuZ2V0RmlsdGVyKFwiaW50XCIpLmNhbGwoY29udGV4dCwgdF8yMSkscnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJhY3RpdmVUZXh0VG9waWNJZHNcIikpKSB7XG5vdXRwdXQgKz0gXCJzZWxlY3RlZFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxcIiBkYXRhLXRleHQtdG9waWMtaWQ9XFxcIlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSh0XzIxLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCI+XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0PHNwYW4gY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uLWlubmVyXFxcIj5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUodF8yMiwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQ8L3NwYW4+XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0PC9hPlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XFx0XCI7XG47XG59XG59XG59XG5mcmFtZSA9IGZyYW1lLnBvcCgpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0PC9kaXY+XFxuXFx0XFx0XFx0XFx0PC9kaXY+XFxuXFx0XFx0XFx0XCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cXG5cXHRcXHRcXHRcIjtcbmlmKGVudi5nZXRGaWx0ZXIoXCJsZW5ndGhcIikuY2FsbChjb250ZXh0LCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImFsbFRvcGljc1wiKSkgPiAwICYmICFydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImhpZGVUb3BpY3NcIikpIHtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdDxoMT5cXG5cXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIlRvcGljc1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdDwvaDE+XFxuXFxuXFx0XFx0XFx0XFx0PGRpdiBjbGFzcz1cXFwiYnV0dG9uLWxpc3RcXFwiPlxcblxcdFxcdFxcdFxcdFxcdFwiO1xuZnJhbWUgPSBmcmFtZS5wdXNoKCk7XG52YXIgdF8yNSA9IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWxsVG9waWNzXCIpO1xuaWYodF8yNSkge3ZhciB0XzIzO1xuaWYocnVudGltZS5pc0FycmF5KHRfMjUpKSB7XG52YXIgdF8yNCA9IHRfMjUubGVuZ3RoO1xuZm9yKHRfMjM9MDsgdF8yMyA8IHRfMjUubGVuZ3RoOyB0XzIzKyspIHtcbnZhciB0XzI2ID0gdF8yNVt0XzIzXVswXVxuZnJhbWUuc2V0KFwidG9waWNfaWRcIiwgdF8yNVt0XzIzXVswXSk7XG52YXIgdF8yNyA9IHRfMjVbdF8yM11bMV1cbmZyYW1lLnNldChcInRvcGljXCIsIHRfMjVbdF8yM11bMV0pO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleFwiLCB0XzIzICsgMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4MFwiLCB0XzIzKTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXhcIiwgdF8yNCAtIHRfMjMpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleDBcIiwgdF8yNCAtIHRfMjMgLSAxKTtcbmZyYW1lLnNldChcImxvb3AuZmlyc3RcIiwgdF8yMyA9PT0gMCk7XG5mcmFtZS5zZXQoXCJsb29wLmxhc3RcIiwgdF8yMyA9PT0gdF8yNCAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5sZW5ndGhcIiwgdF8yNCk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHRcIjtcbmlmKHRfMjYgIT0gXCJcIiAmJiB0XzI3KSB7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHQ8YSBjbGFzcz1cXFwicm91bmRlZC1idXR0b24gYnV0dG9uLWNvbG9yLXRvcGljIHRvcGljLWJ1dHRvbiBcIjtcbmlmKHJ1bnRpbWUuaW5PcGVyYXRvcihlbnYuZ2V0RmlsdGVyKFwiaW50XCIpLmNhbGwoY29udGV4dCwgdF8yNikscnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJhY3RpdmVUb3BpY0lkc1wiKSkpIHtcbm91dHB1dCArPSBcInNlbGVjdGVkXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXFwiIGRhdGEtdG9waWMtaWQ9XFxcIlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSh0XzI2LCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCI+XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0PHNwYW4gY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uLWlubmVyXFxcIj5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUodF8yNywgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQ8L3NwYW4+XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0PC9hPlxcblxcdFxcdFxcdFxcdFxcdFxcdFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XCI7XG47XG59XG59IGVsc2Uge1xudF8yMyA9IC0xO1xudmFyIHRfMjQgPSBydW50aW1lLmtleXModF8yNSkubGVuZ3RoO1xuZm9yKHZhciB0XzI4IGluIHRfMjUpIHtcbnRfMjMrKztcbnZhciB0XzI5ID0gdF8yNVt0XzI4XTtcbmZyYW1lLnNldChcInRvcGljX2lkXCIsIHRfMjgpO1xuZnJhbWUuc2V0KFwidG9waWNcIiwgdF8yOSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfMjMgKyAxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXgwXCIsIHRfMjMpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleFwiLCB0XzI0IC0gdF8yMyk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4MFwiLCB0XzI0IC0gdF8yMyAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzIzID09PSAwKTtcbmZyYW1lLnNldChcImxvb3AubGFzdFwiLCB0XzIzID09PSB0XzI0IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzI0KTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFxcdFwiO1xuaWYodF8yOCAhPSBcIlwiICYmIHRfMjkpIHtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdDxhIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbiBidXR0b24tY29sb3ItdG9waWMgdG9waWMtYnV0dG9uIFwiO1xuaWYocnVudGltZS5pbk9wZXJhdG9yKGVudi5nZXRGaWx0ZXIoXCJpbnRcIikuY2FsbChjb250ZXh0LCB0XzI4KSxydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImFjdGl2ZVRvcGljSWRzXCIpKSkge1xub3V0cHV0ICs9IFwic2VsZWN0ZWRcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcXCIgZGF0YS10b3BpYy1pZD1cXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHRfMjgsIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxcIj5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQ8c3BhbiBjbGFzcz1cXFwicm91bmRlZC1idXR0b24taW5uZXJcXFwiPlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSh0XzI5LCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdDwvc3Bhbj5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHQ8L2E+XFxuXFx0XFx0XFx0XFx0XFx0XFx0XCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcIjtcbjtcbn1cbn1cbn1cbmZyYW1lID0gZnJhbWUucG9wKCk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHQ8L2Rpdj5cXG5cXHRcXHRcXHRcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblxcblxcdFxcdFxcdFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJDT1NJTk5VU19FWENIQU5HRV9FTkFCTEVEXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgICAgICAgICA8aDE+XFxuXFx0ICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0ICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkV4dGVybmFsIGNvbnRlbnRzXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0ICAgICAgICAgICAgPC9oMT5cXG5cXG5cXHQgICAgICAgICAgICA8dGFibGUgY2xhc3M9XFxcIm9ub2Zmc3dpdGNoLWZyYW1lIHNtYWxsLXNwYWNlXFxcIj5cXG5cXHQgICAgICAgICAgICAgICAgPHRyPlxcblxcdCAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVxcXCJvbm9mZnN3aXRjaC10ZXh0LWxhYmVsXFxcIj5cXG5cXHQgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcblxcdCAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkluY2x1ZGUgY29udGVudHMgZnJvbSBvdGhlciBwbGF0Zm9ybXNcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgICAgICAgICAgICAgICAgIDwvdGQ+XFxuXFx0ICAgICAgICAgICAgICAgICAgICA8dGQ+XFxuXFx0ICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwib25vZmZzd2l0Y2hcXFwiPlxcblxcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIG5hbWU9XFxcIm9ub2Zmc3dpdGNoLWV4Y2hhbmdlXFxcIiBjbGFzcz1cXFwib25vZmZzd2l0Y2gtY2hlY2tib3ggY2hlY2stZXhjaGFuZ2VcXFwiIGlkPVxcXCJjaGVjay1leGNoYW5nZVxcXCIgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImV4Y2hhbmdlXCIpKSB7XG5vdXRwdXQgKz0gXCJjaGVja2VkXCI7XG47XG59XG5vdXRwdXQgKz0gXCI+XFxuXFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cXFwib25vZmZzd2l0Y2gtbGFiZWxcXFwiIGZvcj1cXFwiY2hlY2stZXhjaGFuZ2VcXFwiPlxcblxcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcIm9ub2Zmc3dpdGNoLWlubmVyXFxcIj48L3NwYW4+XFxuXFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwib25vZmZzd2l0Y2gtc3dpdGNoXFxcIj48L3NwYW4+XFxuXFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XFxuXFx0ICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuXFx0ICAgICAgICAgICAgICAgICAgICA8L3RkPlxcblxcdCAgICAgICAgICAgICAgICA8L3RyPlxcblxcdCAgICAgICAgICAgIDwvdGFibGU+XFxuXFx0ICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblxcblxcdFxcdFxcdFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzcGxpdHNjcmVlblwiKSkge1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0PGgxPlxcblxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiV2hlcmVcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHQ8L2gxPlxcblxcblxcdFxcdFxcdFxcdDx0YWJsZSBjbGFzcz1cXFwib25vZmZzd2l0Y2gtZnJhbWUgc21hbGwtc3BhY2VcXFwiPlxcblxcdFxcdFxcdFxcdFxcdDx0cj5cXG5cXHRcXHRcXHRcXHRcXHRcXHQ8dGQgY2xhc3M9XFxcIm9ub2Zmc3dpdGNoLXRleHQtbGFiZWxcXFwiPlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiSW4gbWFwIGFyZWFcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHQ8L3RkPlxcblxcdFxcdFxcdFxcdFxcdFxcdDx0ZD5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHQ8ZGl2IGNsYXNzPVxcXCJvbm9mZnN3aXRjaFxcXCI+XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0PGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiBuYW1lPVxcXCJvbm9mZnN3aXRjaC1pZ25vcmUtbG9jYXRpb25cXFwiIGNsYXNzPVxcXCJvbm9mZnN3aXRjaC1jaGVja2JveCBjaGVjay1pZ25vcmUtbG9jYXRpb25cXFwiIGlkPVxcXCJjaGVjay1pZ25vcmUtbG9jYXRpb25cXFwiIFwiO1xuaWYoIXJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiaWdub3JlTG9jYXRpb25cIikpIHtcbm91dHB1dCArPSBcImNoZWNrZWRcIjtcbjtcbn1cbm91dHB1dCArPSBcIj5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQ8bGFiZWwgY2xhc3M9XFxcIm9ub2Zmc3dpdGNoLWxhYmVsXFxcIiBmb3I9XFxcImNoZWNrLWlnbm9yZS1sb2NhdGlvblxcXCI+XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0PHNwYW4gY2xhc3M9XFxcIm9ub2Zmc3dpdGNoLWlubmVyXFxcIj48L3NwYW4+XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0PHNwYW4gY2xhc3M9XFxcIm9ub2Zmc3dpdGNoLXN3aXRjaFxcXCI+PC9zcGFuPlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdDwvbGFiZWw+XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0PC9kaXY+XFxuXFx0XFx0XFx0XFx0XFx0XFx0PC90ZD5cXG5cXHRcXHRcXHRcXHRcXHQ8L3RyPlxcblxcdFxcdFxcdFxcdDwvdGFibGU+XFxuXFx0XFx0XFx0XFx0PGRpdiBjbGFzcz1cXFwicGFsZS1jb2xvclxcXCI+XFxuXFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJJZiBhY3RpdmUsIHNlYXJjaGluZyB3aWxsIGJlIHJlc3RyaWN0ZWQgdG8gdGhlIHZpc2libGUgbWFwIGFyZWEuXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0PC9kaXY+XFxuXFx0XFx0XFx0XCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHQ8L2Rpdj5cXG5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcInNwYWNlclxcXCI+PC9kaXY+XFxuXFxuXFx0XFx0PGRpdiBjbGFzcz1cXFwiYXBwbHktYnV0dG9uc1xcXCI+XFxuXFx0XFx0XFx0PGRpdiBjbGFzcz1cXFwiYnV0dG9uLWxpc3RcXFwiPlxcblxcdFxcdFxcdFxcdDxhIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbiBidXR0b24tY29sb3ItYWN0aW9uIGJ1dHRvbi1zZWFyY2ggcXVlcnktc2VhcmNoLWJ1dHRvbiBkaXNhYmxlZFxcXCI+XFxuXFx0XFx0XFx0XFx0XFx0PHNwYW4gY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uLWlubmVyXFxcIj5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkFwcGx5IEZpbHRlcnNcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHQ8L3NwYW4+XFxuXFx0XFx0XFx0XFx0PC9hPlxcblxcblxcdFxcdFxcdFxcdDxhIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbiBidXR0b24tY29sb3ItYWN0aW9uIHJlc2V0LXR5cGUtYW5kLXRvcGljLWZpbHRlcnNcXFwiPlxcblxcdFxcdFxcdFxcdFxcdDxzcGFuIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbi1pbm5lclxcXCI+XFxuXFx0XFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJDbGVhciBGaWx0ZXJzXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0PC9zcGFuPlxcblxcdFxcdFxcdFxcdDwvYT5cXG5cXHRcXHRcXHQ8L2Rpdj5cXG5cXG5cXHRcXHRcXHRcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdDxkaXYgY2xhc3M9XFxcInNwYWNlciBtb2JpbGUtb25seVxcXCI+Jm5ic3A7PC9kaXY+XFxuXFx0XFx0XFx0PGRpdiBjbGFzcz1cXFwic3BhY2VyIG1vYmlsZS1vbmx5XFxcIj4mbmJzcDs8L2Rpdj5cXG5cXHRcXHQ8L2Rpdj5cXG5cXG4gICAgPC9kaXY+XFxuXFxuXFx0XCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm1hdGNoaW5nXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG5cXHQ8ZGl2IGNsYXNzPVxcXCJtYXAtY29udHJvbHMtbWF0Y2hpbmdcXFwiPlxcblxcdFxcdDxoMT5cXG5cXHRcXHRcXHQ8aSBjbGFzcz1cXFwiZmEgZmEtcHV6emxlLXBpZWNlXFxcIj48L2k+XFxuXFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJTaG93IHBvdGVudGlhbCBwYXJ0bmVyc1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdDwvaDE+XFxuXFx0XFx0PHA+XFxuXFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJIZXJlIHlvdSBjYW4gc2VhcmNoIGZvciBwYXJ0bmVyIG9yZ2FuaXNhdGlvbnMgYW5kIHByb2plY3RzIHRoYXQgYXJlIG9wZW4gZm9yIGZ1cnRoZXIgcGFydG5lcnMuIFRoZSByZXN1bHRzIGFyZSBzb3J0ZWQgc28gdGhhdCBwYXJ0bmVycyB3aXRoIGEgbG90IG9mIG92ZXJsYXAgaW4gdGhlIGZ1bmRpbmcgb2JqZWN0aXZlcywgZWxpZ2libGUgYXJlYXMgYW5kIFNER3MgeW91IGFyZSBhY3RpdmUgb24gYXJlIGxpc3RlZCBmaXJzdC5cIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHQ8L3A+XFxuXFx0XFx0XCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm15UHJvamVjdHNcIikgfHwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJteUdyb3Vwc1wiKSB8fCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm15T3JnYW5pemF0aW9uc1wiKSkge1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0PGgxPlxcblxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiU2hvdyBwb3RlbnRpYWwgcGFydG5lcnMgZm9yIC4uLlwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdDwvaDE+XFxuXFx0XFx0PGRpdiBjbGFzcz1cXFwiYXBwbHktYnV0dG9uc1xcXCI+XFxuXFx0XFx0XFx0PGRpdiBjbGFzcz1cXFwiYnV0dG9uLWxpc3RcXFwiPlxcblxcdFxcdFxcdFxcdFwiO1xuZnJhbWUgPSBmcmFtZS5wdXNoKCk7XG52YXIgdF8zMiA9IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibXlQcm9qZWN0c1wiKTtcbmlmKHRfMzIpIHt2YXIgdF8zMSA9IHRfMzIubGVuZ3RoO1xuZm9yKHZhciB0XzMwPTA7IHRfMzAgPCB0XzMyLmxlbmd0aDsgdF8zMCsrKSB7XG52YXIgdF8zMyA9IHRfMzJbdF8zMF07XG5mcmFtZS5zZXQoXCJwcm9qZWN0XCIsIHRfMzMpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleFwiLCB0XzMwICsgMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4MFwiLCB0XzMwKTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXhcIiwgdF8zMSAtIHRfMzApO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleDBcIiwgdF8zMSAtIHRfMzAgLSAxKTtcbmZyYW1lLnNldChcImxvb3AuZmlyc3RcIiwgdF8zMCA9PT0gMCk7XG5mcmFtZS5zZXQoXCJsb29wLmxhc3RcIiwgdF8zMCA9PT0gdF8zMSAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5sZW5ndGhcIiwgdF8zMSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHQ8YSBjbGFzcz1cXFwicm91bmRlZC1idXR0b24gYnV0dG9uLWNvbG9yLXByb2plY3RzIG1hdGNoLWJ1dHRvblwiO1xuaWYocnVudGltZS5tZW1iZXJMb29rdXAoKHRfMzMpLFwic2VsZWN0ZWRcIikpIHtcbm91dHB1dCArPSBcIiBzZWxlY3RlZFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxcIiBkYXRhLW1hdGNoPVxcXCJwcm9qZWN0cy5cIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5tZW1iZXJMb29rdXAoKHRfMzMpLFwic2x1Z1wiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiPlxcblxcdFxcdFxcdFxcdFxcdDxzcGFuIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbi1pbm5lclxcXCI+XFxuXFx0XFx0XFx0XFx0XFx0XFx0PGkgY2xhc3M9XFxcImZhIGZhLWdyb3VwXFxcIj48L2k+XFxuXFx0XFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzMzKSxcIm5hbWVcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0PC9zcGFuPlxcblxcdFxcdFxcdFxcdDwvYT5cXG5cXHRcXHRcXHRcXHRcIjtcbjtcbn1cbn1cbmZyYW1lID0gZnJhbWUucG9wKCk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHQ8L2Rpdj5cXG5cXHRcXHQ8L2Rpdj5cXG5cXHRcXHQ8ZGl2IGNsYXNzPVxcXCJhcHBseS1idXR0b25zXFxcIj5cXG5cXHRcXHRcXHQ8ZGl2IGNsYXNzPVxcXCJidXR0b24tbGlzdFxcXCI+XFxuXFx0XFx0XFx0XFx0XCI7XG5mcmFtZSA9IGZyYW1lLnB1c2goKTtcbnZhciB0XzM2ID0gcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJteUdyb3Vwc1wiKTtcbmlmKHRfMzYpIHt2YXIgdF8zNSA9IHRfMzYubGVuZ3RoO1xuZm9yKHZhciB0XzM0PTA7IHRfMzQgPCB0XzM2Lmxlbmd0aDsgdF8zNCsrKSB7XG52YXIgdF8zNyA9IHRfMzZbdF8zNF07XG5mcmFtZS5zZXQoXCJncm91cFwiLCB0XzM3KTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXhcIiwgdF8zNCArIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleDBcIiwgdF8zNCk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4XCIsIHRfMzUgLSB0XzM0KTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXgwXCIsIHRfMzUgLSB0XzM0IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmZpcnN0XCIsIHRfMzQgPT09IDApO1xuZnJhbWUuc2V0KFwibG9vcC5sYXN0XCIsIHRfMzQgPT09IHRfMzUgLSAxKTtcbmZyYW1lLnNldChcImxvb3AubGVuZ3RoXCIsIHRfMzUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0PGEgY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uIGJ1dHRvbi1jb2xvci1ncm91cHMgbWF0Y2gtYnV0dG9uXCI7XG5pZihydW50aW1lLm1lbWJlckxvb2t1cCgodF8zNyksXCJzZWxlY3RlZFwiKSkge1xub3V0cHV0ICs9IFwiIHNlbGVjdGVkXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXFwiIGRhdGEtbWF0Y2g9XFxcImdyb3Vwcy5cIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5tZW1iZXJMb29rdXAoKHRfMzcpLFwic2x1Z1wiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiPlxcblxcdFxcdFxcdFxcdFxcdDxzcGFuIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbi1pbm5lclxcXCI+XFxuXFx0XFx0XFx0XFx0XFx0XFx0PGkgY2xhc3M9XFxcImZhIGZhLXNpdGVtYXBcXFwiPjwvaT5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5tZW1iZXJMb29rdXAoKHRfMzcpLFwibmFtZVwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHQ8L3NwYW4+XFxuXFx0XFx0XFx0XFx0PC9hPlxcblxcdFxcdFxcdFxcdFwiO1xuO1xufVxufVxuZnJhbWUgPSBmcmFtZS5wb3AoKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdDwvZGl2PlxcblxcdFxcdDwvZGl2PlxcblxcdFxcdDxkaXYgY2xhc3M9XFxcImFwcGx5LWJ1dHRvbnNcXFwiPlxcblxcdFxcdFxcdDxkaXYgY2xhc3M9XFxcImJ1dHRvbi1saXN0XFxcIj5cXG5cXHRcXHRcXHRcXHRcIjtcbmZyYW1lID0gZnJhbWUucHVzaCgpO1xudmFyIHRfNDAgPSBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm15T3JnYW5pemF0aW9uc1wiKTtcbmlmKHRfNDApIHt2YXIgdF8zOSA9IHRfNDAubGVuZ3RoO1xuZm9yKHZhciB0XzM4PTA7IHRfMzggPCB0XzQwLmxlbmd0aDsgdF8zOCsrKSB7XG52YXIgdF80MSA9IHRfNDBbdF8zOF07XG5mcmFtZS5zZXQoXCJvcmdcIiwgdF80MSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfMzggKyAxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXgwXCIsIHRfMzgpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleFwiLCB0XzM5IC0gdF8zOCk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4MFwiLCB0XzM5IC0gdF8zOCAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzM4ID09PSAwKTtcbmZyYW1lLnNldChcImxvb3AubGFzdFwiLCB0XzM4ID09PSB0XzM5IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzM5KTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdDxhIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbiBidXR0b24tY29sb3Itb3JnYW5pemF0aW9ucyBtYXRjaC1idXR0b25cIjtcbmlmKHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzQxKSxcInNlbGVjdGVkXCIpKSB7XG5vdXRwdXQgKz0gXCIgc2VsZWN0ZWRcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcXCIgZGF0YS1tYXRjaD1cXFwib3JnYW5pemF0aW9ucy5cIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5tZW1iZXJMb29rdXAoKHRfNDEpLFwic2x1Z1wiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiPlxcblxcdFxcdFxcdFxcdFxcdDxzcGFuIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbi1pbm5lclxcXCI+XFxuXFx0XFx0XFx0XFx0XFx0XFx0PGkgY2xhc3M9XFxcImZhIGZhLWJ1aWxkaW5nXFxcIj48L2k+XFxuXFx0XFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzQxKSxcIm5hbWVcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0PC9zcGFuPlxcblxcdFxcdFxcdFxcdDwvYT5cXG5cXHRcXHRcXHRcXHRcIjtcbjtcbn1cbn1cbmZyYW1lID0gZnJhbWUucG9wKCk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHQ8L2Rpdj5cXG5cXHRcXHQ8L2Rpdj5cXG5cXHRcXHRcIjtcbjtcbn1cbmVsc2Uge1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0PHNwYW4gY2xhc3M9XFxcImlubGluZS1zcGFjZXJcXFwiPjwvc3Bhbj5cXG5cXHRcXHQ8cD5cXG5cXHRcXHRcXHRcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIllvdSdyZSBjdXJyZW50bHkgbm90IG1lbWJlciBvZiBhbnkgcHJvamVjdCwgZ3JvdXAgb3Igb3JnYW5pemF0aW9uLlwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdDwvcD5cXG5cXHRcXHRcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblxcdDwvZGl2PlxcblxcdFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXFxuPC9kaXY+XFxuXCI7XG5pZihwYXJlbnRUZW1wbGF0ZSkge1xucGFyZW50VGVtcGxhdGUucm9vdFJlbmRlckZ1bmMoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpO1xufSBlbHNlIHtcbmNiKG51bGwsIG91dHB1dCk7XG59XG59KX0pO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbnJldHVybiB7XG5yb290OiByb290XG59O1xuXG59KSgpO1xufSkoKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gc2hpbShudW5qdWNrcywgZW52LCBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkW1wiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC9tYXAvbWFwLWNvbnRyb2xzLmh0bWxcIl0gLCBkZXBlbmRlbmNpZXMpXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL21hcC9tYXAtY29udHJvbHMuaHRtbFxuLy8gbW9kdWxlIGlkID0gMjZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIG51bmp1Y2tzID0gcmVxdWlyZShcIm51bmp1Y2tzL2Jyb3dzZXIvbnVuanVja3Mtc2xpbVwiKTtcbnZhciBlbnY7XG5pZiAoIW51bmp1Y2tzLmN1cnJlbnRFbnYpe1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52ID0gbmV3IG51bmp1Y2tzLkVudmlyb25tZW50KFtdLCB1bmRlZmluZWQpO1xufSBlbHNlIHtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudjtcbn1cbnZhciBjb25maWd1cmUgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vLi4vbnVuanVja3MuY29uZmlnLmpzXCIpKGVudik7XG52YXIgZGVwZW5kZW5jaWVzID0gbnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyB8fCAobnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyA9IHt9KTtcblxuXG5cblxudmFyIHNoaW0gPSByZXF1aXJlKFwiL2hvbWUvc2FzY2hhL3ByL2Nvc2lubnVzLWNvcmUvbm9kZV9tb2R1bGVzL251bmp1Y2tzLWxvYWRlci9ydW50aW1lLXNoaW1cIik7XG5cblxuKGZ1bmN0aW9uKCkgeyhudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkID0gbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZCB8fCB7fSlbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL21hcC9tYXAtY29udHJvbHMtYWN0aXZlLWZpbHRlcnMuaHRtbFwiXSA9IChmdW5jdGlvbigpIHtcbmZ1bmN0aW9uIHJvb3QoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbnZhciBwYXJlbnRUZW1wbGF0ZSA9IG51bGw7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJwYXNzVGhyb3VnaFwiKVtcInJ1blwiXShjb250ZXh0LHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiaTE4blwiKSksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXG5cIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwidHlwZUZpbHRlcnNBY3RpdmVcIikgfHwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0b3BpY0ZpbHRlcnNBY3RpdmVcIikgfHwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0ZXh0VG9waWNGaWx0ZXJzQWN0aXZlXCIpIHx8IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicVwiKSB8fCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNkZ0ZpbHRlcnNBY3RpdmVcIikgfHwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJtYW5hZ2VkVGFnc0ZpbHRlcnNBY3RpdmVcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJtYXAtY29udHJvbHMtYWN0aXZlLWZpbHRlci1mcmFtZVxcXCI+XFxuXFxuICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwidHlwZUZpbHRlcnNBY3RpdmVcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImFjdGl2ZS1maWx0ZXJzIGFjdGl2ZS1maWx0ZXJzLXR5cGVcXFwiPlxcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiYWN0aXZlLWZpbHRlcnMtaW5uZXJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG5mcmFtZSA9IGZyYW1lLnB1c2goKTtcbnZhciB0XzMgPSBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImF2YWlsYWJsZUZpbHRlcnNcIik7XG5pZih0XzMpIHt2YXIgdF8xO1xuaWYocnVudGltZS5pc0FycmF5KHRfMykpIHtcbnZhciB0XzIgPSB0XzMubGVuZ3RoO1xuZm9yKHRfMT0wOyB0XzEgPCB0XzMubGVuZ3RoOyB0XzErKykge1xudmFyIHRfNCA9IHRfM1t0XzFdWzBdXG5mcmFtZS5zZXQoXCJmaWx0ZXJfdHlwZVwiLCB0XzNbdF8xXVswXSk7XG52YXIgdF81ID0gdF8zW3RfMV1bMV1cbmZyYW1lLnNldChcImF2YWlsYWJsZVwiLCB0XzNbdF8xXVsxXSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfMSArIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleDBcIiwgdF8xKTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXhcIiwgdF8yIC0gdF8xKTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXgwXCIsIHRfMiAtIHRfMSAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzEgPT09IDApO1xuZnJhbWUuc2V0KFwibG9vcC5sYXN0XCIsIHRfMSA9PT0gdF8yIC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzIpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5pZih0XzUgJiYgcnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWN0aXZlRmlsdGVyc1wiKSksdF80KSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJhcHBseS1jb2xvci1cIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUodF80LCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbmlmKHRfNCA9PSBcInBlb3BsZVwiKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtdXNlclxcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbmlmKHRfNCA9PSBcImV2ZW50c1wiKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtY2FsZW5kYXJcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5pZih0XzQgPT0gXCJwcm9qZWN0c1wiKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtZ3JvdXBcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5pZih0XzQgPT0gXCJncm91cHNcIikge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLXNpdGVtYXBcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5pZih0XzQgPT0gXCJjb25mZXJlbmNlc1wiKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtY2FsZW5kYXJcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5pZih0XzQgPT0gXCJpZGVhc1wiKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtbGlnaHRidWxiLW9cXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5pZih0XzQgPT0gXCJvcmdhbml6YXRpb25zXCIpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1idWlsZGluZ1xcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG47XG59XG47XG59XG47XG59XG47XG59XG47XG59XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbn0gZWxzZSB7XG50XzEgPSAtMTtcbnZhciB0XzIgPSBydW50aW1lLmtleXModF8zKS5sZW5ndGg7XG5mb3IodmFyIHRfNiBpbiB0XzMpIHtcbnRfMSsrO1xudmFyIHRfNyA9IHRfM1t0XzZdO1xuZnJhbWUuc2V0KFwiZmlsdGVyX3R5cGVcIiwgdF82KTtcbmZyYW1lLnNldChcImF2YWlsYWJsZVwiLCB0XzcpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleFwiLCB0XzEgKyAxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXgwXCIsIHRfMSk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4XCIsIHRfMiAtIHRfMSk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4MFwiLCB0XzIgLSB0XzEgLSAxKTtcbmZyYW1lLnNldChcImxvb3AuZmlyc3RcIiwgdF8xID09PSAwKTtcbmZyYW1lLnNldChcImxvb3AubGFzdFwiLCB0XzEgPT09IHRfMiAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5sZW5ndGhcIiwgdF8yKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuaWYodF83ICYmIHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImFjdGl2ZUZpbHRlcnNcIikpLHRfNikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiYXBwbHktY29sb3ItXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHRfNiwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5pZih0XzYgPT0gXCJwZW9wbGVcIikge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLXVzZXJcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5pZih0XzYgPT0gXCJldmVudHNcIikge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWNhbGVuZGFyXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xuaWYodF82ID09IFwicHJvamVjdHNcIikge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWdyb3VwXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xuaWYodF82ID09IFwiZ3JvdXBzXCIpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1zaXRlbWFwXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xuaWYodF82ID09IFwiY29uZmVyZW5jZXNcIikge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWNhbGVuZGFyXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xuaWYodF82ID09IFwiaWRlYXNcIikge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWxpZ2h0YnVsYi1vXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xuaWYodF82ID09IFwib3JnYW5pemF0aW9uc1wiKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtYnVpbGRpbmdcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxuO1xufVxuO1xufVxuO1xufVxuO1xufVxuO1xufVxuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG59XG59XG5mcmFtZSA9IGZyYW1lLnBvcCgpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWNsb3NlIGNsaWNrYWJsZS1idXR0b24gcmVzZXQtdHlwZS1maWx0ZXJzXFxcIj48L2k+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgXFxuICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwidGV4dFRvcGljRmlsdGVyc0FjdGl2ZVwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiYWN0aXZlLWZpbHRlcnMgYWN0aXZlLWZpbHRlcnMtdGV4dC10b3BpY3NcXFwiPlxcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiYWN0aXZlLWZpbHRlcnMtaW5uZXJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImNhcHNcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiQ2F0ZWdvcmllc1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIjpcXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuZnJhbWUgPSBmcmFtZS5wdXNoKCk7XG52YXIgdF8xMCA9IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWN0aXZlVGV4dFRvcGljSWRzXCIpO1xuaWYodF8xMCkge3ZhciB0XzkgPSB0XzEwLmxlbmd0aDtcbmZvcih2YXIgdF84PTA7IHRfOCA8IHRfMTAubGVuZ3RoOyB0XzgrKykge1xudmFyIHRfMTEgPSB0XzEwW3RfOF07XG5mcmFtZS5zZXQoXCJ0ZXh0X3RvcGljX2lkXCIsIHRfMTEpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleFwiLCB0XzggKyAxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXgwXCIsIHRfOCk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4XCIsIHRfOSAtIHRfOCk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4MFwiLCB0XzkgLSB0XzggLSAxKTtcbmZyYW1lLnNldChcImxvb3AuZmlyc3RcIiwgdF84ID09PSAwKTtcbmZyYW1lLnNldChcImxvb3AubGFzdFwiLCB0XzggPT09IHRfOSAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5sZW5ndGhcIiwgdF85KTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xudmFyIHRfMTI7XG50XzEyID0gcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJsb29wXCIpO1xuZnJhbWUuc2V0KFwib3V0ZXJfbG9vcFwiLCB0XzEyLCB0cnVlKTtcbmlmKGZyYW1lLnRvcExldmVsKSB7XG5jb250ZXh0LnNldFZhcmlhYmxlKFwib3V0ZXJfbG9vcFwiLCB0XzEyKTtcbn1cbmlmKGZyYW1lLnRvcExldmVsKSB7XG5jb250ZXh0LmFkZEV4cG9ydChcIm91dGVyX2xvb3BcIiwgdF8xMik7XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbmZyYW1lID0gZnJhbWUucHVzaCgpO1xudmFyIHRfMTUgPSBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImFsbFRleHRUb3BpY3NcIik7XG5pZih0XzE1KSB7dmFyIHRfMTM7XG5pZihydW50aW1lLmlzQXJyYXkodF8xNSkpIHtcbnZhciB0XzE0ID0gdF8xNS5sZW5ndGg7XG5mb3IodF8xMz0wOyB0XzEzIDwgdF8xNS5sZW5ndGg7IHRfMTMrKykge1xudmFyIHRfMTYgPSB0XzE1W3RfMTNdWzBdXG5mcmFtZS5zZXQoXCJ0aWRcIiwgdF8xNVt0XzEzXVswXSk7XG52YXIgdF8xNyA9IHRfMTVbdF8xM11bMV1cbmZyYW1lLnNldChcInRleHRfdG9waWNcIiwgdF8xNVt0XzEzXVsxXSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfMTMgKyAxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXgwXCIsIHRfMTMpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleFwiLCB0XzE0IC0gdF8xMyk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4MFwiLCB0XzE0IC0gdF8xMyAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzEzID09PSAwKTtcbmZyYW1lLnNldChcImxvb3AubGFzdFwiLCB0XzEzID09PSB0XzE0IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzE0KTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbmlmKHRfMTcgJiYgdF8xMSA9PSB0XzE2KSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSh0XzE3LCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbmlmKCFydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJvdXRlcl9sb29wXCIpKSxcImxhc3RcIikpIHtcbm91dHB1dCArPSBcIiwgXCI7XG47XG59XG5vdXRwdXQgKz0gXCI8L3NwYW4+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG59IGVsc2Uge1xudF8xMyA9IC0xO1xudmFyIHRfMTQgPSBydW50aW1lLmtleXModF8xNSkubGVuZ3RoO1xuZm9yKHZhciB0XzE4IGluIHRfMTUpIHtcbnRfMTMrKztcbnZhciB0XzE5ID0gdF8xNVt0XzE4XTtcbmZyYW1lLnNldChcInRpZFwiLCB0XzE4KTtcbmZyYW1lLnNldChcInRleHRfdG9waWNcIiwgdF8xOSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfMTMgKyAxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXgwXCIsIHRfMTMpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleFwiLCB0XzE0IC0gdF8xMyk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4MFwiLCB0XzE0IC0gdF8xMyAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzEzID09PSAwKTtcbmZyYW1lLnNldChcImxvb3AubGFzdFwiLCB0XzEzID09PSB0XzE0IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzE0KTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbmlmKHRfMTkgJiYgdF8xMSA9PSB0XzE4KSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSh0XzE5LCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbmlmKCFydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJvdXRlcl9sb29wXCIpKSxcImxhc3RcIikpIHtcbm91dHB1dCArPSBcIiwgXCI7XG47XG59XG5vdXRwdXQgKz0gXCI8L3NwYW4+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG59XG59XG5mcmFtZSA9IGZyYW1lLnBvcCgpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbn1cbmZyYW1lID0gZnJhbWUucG9wKCk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtY2xvc2UgY2xpY2thYmxlLWJ1dHRvbiByZXNldC10ZXh0LXRvcGljLWZpbHRlcnNcXFwiPjwvaT5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXFxuICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwidG9waWNGaWx0ZXJzQWN0aXZlXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJhY3RpdmUtZmlsdGVycyBhY3RpdmUtZmlsdGVycy10b3BpY3NcXFwiPlxcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiYWN0aXZlLWZpbHRlcnMtaW5uZXJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImNhcHNcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiVG9waWNzXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiOlxcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG5mcmFtZSA9IGZyYW1lLnB1c2goKTtcbnZhciB0XzIyID0gcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJhY3RpdmVUb3BpY0lkc1wiKTtcbmlmKHRfMjIpIHt2YXIgdF8yMSA9IHRfMjIubGVuZ3RoO1xuZm9yKHZhciB0XzIwPTA7IHRfMjAgPCB0XzIyLmxlbmd0aDsgdF8yMCsrKSB7XG52YXIgdF8yMyA9IHRfMjJbdF8yMF07XG5mcmFtZS5zZXQoXCJ0b3BpY19pZFwiLCB0XzIzKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXhcIiwgdF8yMCArIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleDBcIiwgdF8yMCk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4XCIsIHRfMjEgLSB0XzIwKTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXgwXCIsIHRfMjEgLSB0XzIwIC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmZpcnN0XCIsIHRfMjAgPT09IDApO1xuZnJhbWUuc2V0KFwibG9vcC5sYXN0XCIsIHRfMjAgPT09IHRfMjEgLSAxKTtcbmZyYW1lLnNldChcImxvb3AubGVuZ3RoXCIsIHRfMjEpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG52YXIgdF8yNDtcbnRfMjQgPSBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImxvb3BcIik7XG5mcmFtZS5zZXQoXCJvdXRlcl9sb29wXCIsIHRfMjQsIHRydWUpO1xuaWYoZnJhbWUudG9wTGV2ZWwpIHtcbmNvbnRleHQuc2V0VmFyaWFibGUoXCJvdXRlcl9sb29wXCIsIHRfMjQpO1xufVxuaWYoZnJhbWUudG9wTGV2ZWwpIHtcbmNvbnRleHQuYWRkRXhwb3J0KFwib3V0ZXJfbG9vcFwiLCB0XzI0KTtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuZnJhbWUgPSBmcmFtZS5wdXNoKCk7XG52YXIgdF8yNyA9IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWxsVG9waWNzXCIpO1xuaWYodF8yNykge3ZhciB0XzI1O1xuaWYocnVudGltZS5pc0FycmF5KHRfMjcpKSB7XG52YXIgdF8yNiA9IHRfMjcubGVuZ3RoO1xuZm9yKHRfMjU9MDsgdF8yNSA8IHRfMjcubGVuZ3RoOyB0XzI1KyspIHtcbnZhciB0XzI4ID0gdF8yN1t0XzI1XVswXVxuZnJhbWUuc2V0KFwidGlkXCIsIHRfMjdbdF8yNV1bMF0pO1xudmFyIHRfMjkgPSB0XzI3W3RfMjVdWzFdXG5mcmFtZS5zZXQoXCJ0b3BpY1wiLCB0XzI3W3RfMjVdWzFdKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXhcIiwgdF8yNSArIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleDBcIiwgdF8yNSk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4XCIsIHRfMjYgLSB0XzI1KTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXgwXCIsIHRfMjYgLSB0XzI1IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmZpcnN0XCIsIHRfMjUgPT09IDApO1xuZnJhbWUuc2V0KFwibG9vcC5sYXN0XCIsIHRfMjUgPT09IHRfMjYgLSAxKTtcbmZyYW1lLnNldChcImxvb3AubGVuZ3RoXCIsIHRfMjYpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuaWYodF8yOSAmJiB0XzIzID09IHRfMjgpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHRfMjksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xuaWYoIXJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm91dGVyX2xvb3BcIikpLFwibGFzdFwiKSkge1xub3V0cHV0ICs9IFwiLCBcIjtcbjtcbn1cbm91dHB1dCArPSBcIjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbn0gZWxzZSB7XG50XzI1ID0gLTE7XG52YXIgdF8yNiA9IHJ1bnRpbWUua2V5cyh0XzI3KS5sZW5ndGg7XG5mb3IodmFyIHRfMzAgaW4gdF8yNykge1xudF8yNSsrO1xudmFyIHRfMzEgPSB0XzI3W3RfMzBdO1xuZnJhbWUuc2V0KFwidGlkXCIsIHRfMzApO1xuZnJhbWUuc2V0KFwidG9waWNcIiwgdF8zMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfMjUgKyAxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXgwXCIsIHRfMjUpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleFwiLCB0XzI2IC0gdF8yNSk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4MFwiLCB0XzI2IC0gdF8yNSAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzI1ID09PSAwKTtcbmZyYW1lLnNldChcImxvb3AubGFzdFwiLCB0XzI1ID09PSB0XzI2IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzI2KTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbmlmKHRfMzEgJiYgdF8yMyA9PSB0XzMwKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSh0XzMxLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbmlmKCFydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJvdXRlcl9sb29wXCIpKSxcImxhc3RcIikpIHtcbm91dHB1dCArPSBcIiwgXCI7XG47XG59XG5vdXRwdXQgKz0gXCI8L3NwYW4+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG59XG59XG5mcmFtZSA9IGZyYW1lLnBvcCgpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbn1cbmZyYW1lID0gZnJhbWUucG9wKCk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtY2xvc2UgY2xpY2thYmxlLWJ1dHRvbiByZXNldC10b3BpYy1maWx0ZXJzXFxcIj48L2k+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblxcbiAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNkZ0ZpbHRlcnNBY3RpdmVcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImFjdGl2ZS1maWx0ZXJzIGFjdGl2ZS1maWx0ZXJzLXNkZ3NcXFwiPlxcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiYWN0aXZlLWZpbHRlcnMtaW5uZXJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImNhcHNcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiU0RHU1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIjpcXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuZnJhbWUgPSBmcmFtZS5wdXNoKCk7XG52YXIgdF8zNCA9IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWN0aXZlU0RHSWRzXCIpO1xuaWYodF8zNCkge3ZhciB0XzMzID0gdF8zNC5sZW5ndGg7XG5mb3IodmFyIHRfMzI9MDsgdF8zMiA8IHRfMzQubGVuZ3RoOyB0XzMyKyspIHtcbnZhciB0XzM1ID0gdF8zNFt0XzMyXTtcbmZyYW1lLnNldChcInNkZ19pZFwiLCB0XzM1KTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXhcIiwgdF8zMiArIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleDBcIiwgdF8zMik7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4XCIsIHRfMzMgLSB0XzMyKTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXgwXCIsIHRfMzMgLSB0XzMyIC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmZpcnN0XCIsIHRfMzIgPT09IDApO1xuZnJhbWUuc2V0KFwibG9vcC5sYXN0XCIsIHRfMzIgPT09IHRfMzMgLSAxKTtcbmZyYW1lLnNldChcImxvb3AubGVuZ3RoXCIsIHRfMzMpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG52YXIgdF8zNjtcbnRfMzYgPSBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImxvb3BcIik7XG5mcmFtZS5zZXQoXCJvdXRlcl9sb29wXCIsIHRfMzYsIHRydWUpO1xuaWYoZnJhbWUudG9wTGV2ZWwpIHtcbmNvbnRleHQuc2V0VmFyaWFibGUoXCJvdXRlcl9sb29wXCIsIHRfMzYpO1xufVxuaWYoZnJhbWUudG9wTGV2ZWwpIHtcbmNvbnRleHQuYWRkRXhwb3J0KFwib3V0ZXJfbG9vcFwiLCB0XzM2KTtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuZnJhbWUgPSBmcmFtZS5wdXNoKCk7XG52YXIgdF8zOSA9IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWxsU0RHU1wiKTtcbmlmKHRfMzkpIHt2YXIgdF8zOCA9IHRfMzkubGVuZ3RoO1xuZm9yKHZhciB0XzM3PTA7IHRfMzcgPCB0XzM5Lmxlbmd0aDsgdF8zNysrKSB7XG52YXIgdF80MCA9IHRfMzlbdF8zN107XG5mcmFtZS5zZXQoXCJzZGdcIiwgdF80MCk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfMzcgKyAxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXgwXCIsIHRfMzcpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleFwiLCB0XzM4IC0gdF8zNyk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4MFwiLCB0XzM4IC0gdF8zNyAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzM3ID09PSAwKTtcbmZyYW1lLnNldChcImxvb3AubGFzdFwiLCB0XzM3ID09PSB0XzM4IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzM4KTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbmlmKHRfNDAgJiYgdF8zNSA9PSBydW50aW1lLm1lbWJlckxvb2t1cCgodF80MCksXCJpZFwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5cIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5tZW1iZXJMb29rdXAoKHRfNDApLFwibmFtZVwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5pZighcnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwib3V0ZXJfbG9vcFwiKSksXCJsYXN0XCIpKSB7XG5vdXRwdXQgKz0gXCIsIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiPC9zcGFuPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxufVxuZnJhbWUgPSBmcmFtZS5wb3AoKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG59XG5mcmFtZSA9IGZyYW1lLnBvcCgpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWNsb3NlIGNsaWNrYWJsZS1idXR0b24gcmVzZXQtc2RnLWZpbHRlcnNcXFwiPjwvaT5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICBcXG4gICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJtYW5hZ2VkVGFnc0ZpbHRlcnNBY3RpdmVcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImFjdGl2ZS1maWx0ZXJzIGFjdGl2ZS1maWx0ZXJzLW1hbmFnZWQtdGFnc1xcXCI+XFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJhY3RpdmUtZmlsdGVycy1pbm5lclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiY2Fwc1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm1hbmFnZWRUYWdzTGFiZWxzXCIpKSxcIk1BTkFHRURfVEFHX01BUF9MQUJFTFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCI6XFxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgICAgICAgICAgICBcIjtcbmZyYW1lID0gZnJhbWUucHVzaCgpO1xudmFyIHRfNDMgPSBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImFjdGl2ZU1hbmFnZWRUYWdzSWRzXCIpO1xuaWYodF80Mykge3ZhciB0XzQyID0gdF80My5sZW5ndGg7XG5mb3IodmFyIHRfNDE9MDsgdF80MSA8IHRfNDMubGVuZ3RoOyB0XzQxKyspIHtcbnZhciB0XzQ0ID0gdF80M1t0XzQxXTtcbmZyYW1lLnNldChcIm1hbmFnZWRfdGFnX2lkXCIsIHRfNDQpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleFwiLCB0XzQxICsgMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4MFwiLCB0XzQxKTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXhcIiwgdF80MiAtIHRfNDEpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleDBcIiwgdF80MiAtIHRfNDEgLSAxKTtcbmZyYW1lLnNldChcImxvb3AuZmlyc3RcIiwgdF80MSA9PT0gMCk7XG5mcmFtZS5zZXQoXCJsb29wLmxhc3RcIiwgdF80MSA9PT0gdF80MiAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5sZW5ndGhcIiwgdF80Mik7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbnZhciB0XzQ1O1xudF80NSA9IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibG9vcFwiKTtcbmZyYW1lLnNldChcIm91dGVyX2xvb3BcIiwgdF80NSwgdHJ1ZSk7XG5pZihmcmFtZS50b3BMZXZlbCkge1xuY29udGV4dC5zZXRWYXJpYWJsZShcIm91dGVyX2xvb3BcIiwgdF80NSk7XG59XG5pZihmcmFtZS50b3BMZXZlbCkge1xuY29udGV4dC5hZGRFeHBvcnQoXCJvdXRlcl9sb29wXCIsIHRfNDUpO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5mcmFtZSA9IGZyYW1lLnB1c2goKTtcbnZhciB0XzQ4ID0gcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJhbGxNYW5hZ2VkVGFnc1wiKTtcbmlmKHRfNDgpIHt2YXIgdF80NyA9IHRfNDgubGVuZ3RoO1xuZm9yKHZhciB0XzQ2PTA7IHRfNDYgPCB0XzQ4Lmxlbmd0aDsgdF80NisrKSB7XG52YXIgdF80OSA9IHRfNDhbdF80Nl07XG5mcmFtZS5zZXQoXCJtYW5hZ2VkX3RhZ1wiLCB0XzQ5KTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXhcIiwgdF80NiArIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleDBcIiwgdF80Nik7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4XCIsIHRfNDcgLSB0XzQ2KTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXgwXCIsIHRfNDcgLSB0XzQ2IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmZpcnN0XCIsIHRfNDYgPT09IDApO1xuZnJhbWUuc2V0KFwibG9vcC5sYXN0XCIsIHRfNDYgPT09IHRfNDcgLSAxKTtcbmZyYW1lLnNldChcImxvb3AubGVuZ3RoXCIsIHRfNDcpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuaWYodF80OSAmJiB0XzQ0ID09IHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzQ5KSxcImlkXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLm1lbWJlckxvb2t1cCgodF80OSksXCJuYW1lXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbmlmKCFydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJvdXRlcl9sb29wXCIpKSxcImxhc3RcIikpIHtcbm91dHB1dCArPSBcIiwgXCI7XG47XG59XG5vdXRwdXQgKz0gXCI8L3NwYW4+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG59XG5mcmFtZSA9IGZyYW1lLnBvcCgpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbn1cbmZyYW1lID0gZnJhbWUucG9wKCk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtY2xvc2UgY2xpY2thYmxlLWJ1dHRvbiByZXNldC1tYW5hZ2VkLXRhZy1maWx0ZXJzXFxcIj48L2k+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgXFxuICAgICAgICBcXG4gICAgICAgIFxcbiAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInFcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImFjdGl2ZS1maWx0ZXJzIGFjdGl2ZS1maWx0ZXJzLXFcXFwiPlxcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiYWN0aXZlLWZpbHRlcnMtaW5uZXJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgXFxcIlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInFcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxcIlxcbiAgICAgICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1jbG9zZSBjbGlja2FibGUtYnV0dG9uIHJlc2V0LXFcXFwiPjwvaT5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgIFxcbiAgICA8L2Rpdj5cXG5cIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblxcblwiO1xuaWYocGFyZW50VGVtcGxhdGUpIHtcbnBhcmVudFRlbXBsYXRlLnJvb3RSZW5kZXJGdW5jKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKTtcbn0gZWxzZSB7XG5jYihudWxsLCBvdXRwdXQpO1xufVxuO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbnJldHVybiB7XG5yb290OiByb290XG59O1xuXG59KSgpO1xufSkoKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gc2hpbShudW5qdWNrcywgZW52LCBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkW1wiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC9tYXAvbWFwLWNvbnRyb2xzLWFjdGl2ZS1maWx0ZXJzLmh0bWxcIl0gLCBkZXBlbmRlbmNpZXMpXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL21hcC9tYXAtY29udHJvbHMtYWN0aXZlLWZpbHRlcnMuaHRtbFxuLy8gbW9kdWxlIGlkID0gMjdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgQmFzZVZpZXcgPSByZXF1aXJlKCd2aWV3cy9iYXNlL3ZpZXcnKTtcbnZhciBDb250ZW50Q29udHJvbFZpZXcgPSByZXF1aXJlKCd2aWV3cy9iYXNlL2NvbnRlbnQtY29udHJvbC12aWV3Jyk7XG52YXIgVGlsZVZpZXcgPSByZXF1aXJlKCd2aWV3cy90aWxlLXZpZXcnKTtcbnZhciB1dGlsID0gcmVxdWlyZSgnbGliL3V0aWwnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBDb250ZW50Q29udHJvbFZpZXcuZXh0ZW5kKHtcblxuICAgIHRlbXBsYXRlOiByZXF1aXJlKCd0aWxlcy90aWxlLWxpc3QnKSxcbiAgICBcbiAgICAvLyBNYXJrZXIgc3RvcmFnZSBkaWN0IG9mIHs8cmVzdWx0TW9kZWwuaWQ+OiB0aWxlVmlldywgLi4ufVxuICAgIC8vIGlkIGNvcnJlc3BvbmRzIHRvIHNlbGYuY29sbGVjdGlvbi5nZXQoPGlkPilcbiAgICAvLyB1cGRhdGVkIHRocm91Z2ggdGhlIGhhbmRsZXJzIG9mIHNlbGYuY29sbGVjdGlvbidzIHNpZ25hbHNcbiAgICB0aWxlczoge30sXG4gICAgXG4gICAgLy8gdGhlIE1hc29ucnkgZ3JpZCBmb3Igb3VyIHRpbGVzXG4gICAgZ3JpZDogbnVsbCxcbiAgICBcbiAgICAvLyBvbiBldmVyeSBpbnB1dHMgZGlzYWJsZSwgdGhhdCB0aHJlYWQgKzFzIHRoaXMgY291bnRlciBpdCBhbmQgbWF5IG9ubHlcbiAgICAvLyByZS1lbmFibGUgaW5wdXRzIGlmIHRoZSBjb3VudGVyIHN0YXllZCB0aGUgc2FtZSBpbiB0aGUgbWVhbnRpbWVcbiAgICAvLyAoaS5lLiBubyBuZXcgdGhyZWFkcyBhcmUgcnVubmluZyBub3cpIHRvIHByZXZlbnQgZW5hYmxlZCBpbnB1dHMgb24gd29ya2luZyB0aHJlYWRzXG4gICAgZGlzYWJsZUNvdW50ZXI6IDAsXG4gICAgXG4gICAgLy8gd2lsbCBiZSBzZXQgdG8gc2VsZi5vcHRpb25zIGR1cmluZyBpbml0aWFsaXphdGlvblxuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIC8vIGlzIHRoZSB3aW5kb3cgaW4gZnVsbC1zY3JlZW4gbW9kZSAoaW5zdGVhZCBvZiBpbnNpZGUgYSB3aWRnZXQgb3Igc2ltaWxhcilcbiAgICAgICAgZnVsbHNjcmVlbjogdHJ1ZSxcbiAgICAgICAgXG4gICAgICAgIC8vIGlzIHRoaXMgdmlldyBzaG93biB0b2dldGhlciB3aXRoIHRoZSBtYXAgdmlldyBhcyBhIDUwJSBzcGxpdCBzY3JlZW4/XG4gICAgICAgIHNwbGl0c2NyZWVuOiBmYWxzZSxcbiAgICAgICAgXG4gICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgICBtYXRjaGluZzogJydcbiAgICAgICAgfVxuICAgIH0sXG4gICAgXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gKG9wdGlvbnMsIGFwcCwgY29sbGVjdGlvbikge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIC8vIHRoaXMgY2FsbHMgc2VsZi5hcHBseVVybFNlYXJjaFBhcmFtZXRlcnMoKVxuICAgICAgICBDb250ZW50Q29udHJvbFZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbChzZWxmLCBvcHRpb25zLCBhcHAsIGNvbGxlY3Rpb24pO1xuICAgICAgICBcbiAgICAgICAgLy8gcmVzdWx0IGV2ZW50c1xuICAgICAgICBzZWxmLmNvbGxlY3Rpb24ub24oe1xuICAgICAgICAgICAnYWRkJyA6IHNlbGYudGhpc0NvbnRleHQoc2VsZi50aWxlQWRkKSxcbiAgICAgICAgICAgJ2NoYW5nZTpob3ZlcmVkJzogc2VsZi50aGlzQ29udGV4dChzZWxmLnRpbGVDaGFuZ2VIb3ZlciksXG4gICAgICAgICAgICdjaGFuZ2U6c2VsZWN0ZWQnOiBzZWxmLnRoaXNDb250ZXh0KHNlbGYudGlsZUNoYW5nZVNlbGVjdGVkKSxcbiAgICAgICAgICAgJ2NoYW5nZSc6IHNlbGYudGhpc0NvbnRleHQoc2VsZi50aWxlVXBkYXRlKSxcbiAgICAgICAgICAgJ3JlbW92ZSc6IHNlbGYudGhpc0NvbnRleHQoc2VsZi50aWxlUmVtb3ZlKSxcbiAgICAgICAgICAgJ3VwZGF0ZSc6IHNlbGYudGhpc0NvbnRleHQoc2VsZi50aWxlc1VwZGF0ZSksXG4gICAgICAgICAgICdyZXNldCc6IHNlbGYudGhpc0NvbnRleHQoc2VsZi50aWxlc1Jlc2V0KSxcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBCYWNrYm9uZS5tZWRpYXRvci5zdWJzY3JpYmUoJ2Vycm9yOnNlYXJjaCcsIHNlbGYub25TZWFyY2hFcnJvciwgc2VsZik7XG5cbiAgICAgICAgQmFja2JvbmUubWVkaWF0b3Iuc3Vic2NyaWJlKCd0aWxlLWRldGFpbDpvcGVuZWQnLCBzZWxmLm9uVGlsZURldGFpbE9wZW5lZCwgc2VsZik7XG4gICAgICAgIEJhY2tib25lLm1lZGlhdG9yLnN1YnNjcmliZSgndGlsZS1kZXRhaWw6Y2xvc2VkJywgc2VsZi5vblRpbGVEZXRhaWxDbG9zZWQsIHNlbGYpO1xuICAgIH0sXG5cbiAgICByZW5kZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBDb250ZW50Q29udHJvbFZpZXcucHJvdG90eXBlLnJlbmRlci5jYWxsKHNlbGYpO1xuICAgICAgICBcbiAgICAgICAgc2VsZi5yZW5kZXJUaWxlc0luaXRpYWwoKTtcbiAgICAgICAgXG4gICAgICAgIC8vIHNjcm9sbCBsaXN0ZW5lclxuICAgICAgICBzZWxmLiRlbC5maW5kKCcudGlsZS1jb250ZW50cycpLm9mZignc2Nyb2xsJykub24oJ3Njcm9sbCcsIHNlbGYub25UaWxlTGlzdFNjcm9sbGVkKTtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcbiAgICBcbiAgICAvKiogRXh0ZW5kIHRoZSB0ZW1wbGF0ZSBkYXRhIGJ5IHRoZSBjb250cm9sVmlldydzIG9wdGlvbnMgYW5kIHN0YXRlICovXG4gICAgZ2V0VGVtcGxhdGVEYXRhOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIGRhdGEgPSBCYXNlVmlldy5wcm90b3R5cGUuZ2V0VGVtcGxhdGVEYXRhLmNhbGwoc2VsZik7XG4gICAgICAgIGRhdGFbJ2NvbnRyb2xWaWV3J10gPSBfLmV4dGVuZChcbiAgICAgICAgICAgIHt9LFxuICAgICAgICAgICAgc2VsZi5BcHAuY29udHJvbFZpZXcub3B0aW9ucyxcbiAgICAgICAgICAgIHNlbGYuQXBwLmNvbnRyb2xWaWV3LnN0YXRlXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH0sXG4gICAgXG4gICAgYWZ0ZXJSZW5kZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIH0sXG4gICAgXG4gICAgLyoqIFNob3dzIGFuZCByZWxvYWRzIHRoZSB0aWxlIHZpZXcgKi9cbiAgICByZWxvYWQ6IGZ1bmN0aW9uICgpIHtcbiAgICBcdHV0aWwubG9nKCcqKiogUmVsb2FkaW5nIFRpbGUgVmlldyAqKionKVxuICAgIFx0dGhpcy4kZWwudG9nZ2xlQ2xhc3MoJ3RpbGUtbGlzdC1zcGxpdHNjcmVlbicsIHRoaXMub3B0aW9ucy5zcGxpdHNjcmVlbik7XG4gICAgXHR0aGlzLiRlbC50b2dnbGVDbGFzcygndGlsZS1saXN0LXRpbGUtZnVsbHNjcmVlbicsICF0aGlzLm9wdGlvbnMuc3BsaXRzY3JlZW4pO1xuICAgICAgICB0aGlzLiRlbC5zaG93KCk7XG4gICAgfSxcbiAgICBcbiAgICAvKiogSGlkZXMgdGhlIHRpbGUgdmlldyAqL1xuICAgIGhpZGU6IGZ1bmN0aW9uICgpIHtcbiAgICBcdHV0aWwubG9nKCcqKiogSGlkaW5nIFRpbGUgVmlldyAqKionKVxuICAgIFx0dGhpcy4kZWwuaGlkZSgpO1xuICAgIH0sXG4gICAgXG4gICAgLyoqIEhhbmRsZXMgZXZlbnRzIGZvciBpbmZpbml0ZSBzY3JvbGwgKi9cbiAgICBvblRpbGVMaXN0U2Nyb2xsZWQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIFx0dmFyICRsaXN0ID0gJChldmVudC50YXJnZXQpO1xuICAgIFx0aWYgKCRsaXN0LnNjcm9sbFRvcCgpICsgJGxpc3QuaW5uZXJIZWlnaHQoKSA+PSAkbGlzdFswXS5zY3JvbGxIZWlnaHQgLSAyNTApIHtcbiAgICAgICAgXHRCYWNrYm9uZS5tZWRpYXRvci5wdWJsaXNoKCd0aWxlLWxpc3Q6c2Nyb2xsLWVuZC1yZWFjaGVkJyk7XG4gICAgXHR9XG4gICAgfSxcbiAgICBcbiAgICBcbiAgICAvLyBleHRlbmRlZCBmcm9tIGNvbnRlbnQtY29udHJvbC12aWV3LmpzXG4gICAgYXBwbHlVcmxTZWFyY2hQYXJhbWV0ZXJzOiBmdW5jdGlvbiAodXJsUGFyYW1zKSB7XG4gICAgICAgIF8uZXh0ZW5kKHRoaXMuc3RhdGUsIHtcbiAgICAgICAgICAgIG1hdGNoaW5nOiB1dGlsLmlmdW5kZWYodXJsUGFyYW1zLm1hdGNoaW5nLCB0aGlzLnN0YXRlLm1hdGNoaW5nKSxcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBcbiAgICAvLyBleHRlbmRlZCBmcm9tIGNvbnRlbnQtY29udHJvbC12aWV3LmpzXG4gICAgY29udHJpYnV0ZVRvU2VhcmNoUGFyYW1ldGVyczogZnVuY3Rpb24oZm9yQVBJKSB7XG4gICAgICAgIC8vIGRvbid0IG5lZWQgdGhpcyBoZXJlXG4gICAgfSxcbiAgICBcbiAgICBcbiAgICAvLyBSZXN1bHRDb2xsZWN0aW9uIEV2ZW50IGhhbmRsZXJzXG4gICAgLy8gLS0tLS0tLS0tLS0tLS1cblxuICAgIHRpbGVBZGQ6IGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAvLyBhZGRpbmcgYSB0aWxlIHRoYXQgaXMgYWxyZWFkeSB0aGVyZT8gaW1wb3NzaWJydSEgYnV0IGJlc3QgYmUgc3VyZS5cbiAgICAgICAgaWYgKHJlc3VsdC5pZCBpbiB0aGlzLnRpbGVzKSB7XG4gICAgICAgICAgICB0aGlzLnRpbGVSZW1vdmUocmVzdWx0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0aWxlID0gbmV3IFRpbGVWaWV3KHtcblx0ICAgICAgICAgICAgbW9kZWw6IHJlc3VsdCxcblx0ICAgICAgICAgICAgZWxQYXJlbnQ6ICcjdGlsZS1jb250YWluZXInLFxuXHQgICAgICAgIH0sIFxuXHQgICAgICAgIHRoaXMuQXBwKS5yZW5kZXIoKTtcbiAgICAgICAgdGhpcy50aWxlc1tyZXN1bHQuaWRdID0gdGlsZTtcbiAgICB9LFxuXG4gICAgdGlsZVJlbW92ZTogZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgIGlmIChyZXN1bHQuZ2V0KCdzZWxlY3RlZCcpKSB7XG4gICAgICAgICAgICB1dGlsLmxvZygndGlsZS1saXN0LXZpZXcuanM6IFRPRE86OiB3YXMgb3JkZXJlZCB0byByZW1vdmUgYSB0aWxlIHRoYXQgaXMgY3VycmVudGx5IHNlbGVjdGVkLiBOT1QgRE9JTkcgQU5ZVEhJTkcgUk4hJylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzdWx0LmlkIGluIHRoaXMudGlsZXMpIHtcbiAgICAgICAgICAgIHZhciB0aWxlID0gdGhpcy50aWxlc1tyZXN1bHQuaWRdO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB0aWxlLnJlbW92ZSgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBkZWxldGUgdGhpcy50aWxlc1tyZXN1bHQuaWRdO1xuICAgICAgICAgICAgdXRpbC5sb2coJ1JlbW92ZWQgdGlsZSBhdCAnICsgcmVzdWx0LmlkKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICB0aWxlQ2hhbmdlSG92ZXI6IGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICBcbiAgICB9LFxuICAgIFxuICAgIHRpbGVDaGFuZ2VTZWxlY3RlZDogZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgIFxuICAgIH0sXG5cbiAgICB0aWxlVXBkYXRlOiBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgLy8gZG9uJ3QgdXNlIHRoaXMgdHJpZ2dlciB3aGVuIG9ubHkgaG92ZXJlZC9zZWxlY3RlZCBzdGF0ZSB3YXMgY2hhbmdlZCAtIHRoZXkgaGF2ZSB0aGVpciBvd24gaGFuZGxlcnNcbiAgICAgICAgdmFyIGF0dHJzID0gcmVzdWx0LmNoYW5nZWRBdHRyaWJ1dGVzKCk7XG4gICAgICAgIGlmIChhdHRycyAmJiAoJ3NlbGVjdGVkJyBpbiBhdHRycyB8fCAnaG92ZXJlZCcgaW4gYXR0cnMpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdC5pZCBpbiB0aGlzLnRpbGVzKSB7XG4gICAgICAgICAgICB2YXIgdGlsZSA9IHRoaXMudGlsZXNbcmVzdWx0LmlkXTtcbiAgICAgICAgICAgIHRpbGUucmVuZGVyKCk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIFxuICAgIC8qKiBIYW5kbGVyIGZvciB3aGVuIHRpbGVzIGhhdmUgYmVlbiBhZGRlZCB0byB0aGUgY29sbGVjdGlvbiwgbGlrZSBhZnRlciBhbiBpbmZpbml0ZSBzY3JvbGwgZXZlbnQgKi9cbiAgICB0aWxlc1VwZGF0ZTogZnVuY3Rpb24ocmVzdWx0Q29sbGVjdGlvbiwgb3B0aW9ucykge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgc2VsZi5ncmlkUmVmcmVzaCgpO1xuICAgICAgICBzZWxmLmVuYWJsZUlucHV0KHRydWUpO1xuICAgIH0sXG4gICAgXG4gICAgLyoqIEhhbmRsZXIgZm9yIHdoZW4gdGhlIGVudGlyZSBjb2xsZWN0aW9uIGNoYW5nZXMgKi9cbiAgICB0aWxlc1Jlc2V0OiBmdW5jdGlvbihyZXN1bHRDb2xsZWN0aW9uLCBvcHRpb25zKSB7XG4gICAgICAgIC8vIG9wdGlvbnMucHJldmlvdXNNb2RlbHMgY29udGFpbnMgdGhlIG9sZCBtb2RlbHMgaWYgd2UgbmVlZCB0aGVtXG4gICAgICAgIHRoaXMuc3dhcFRpbGVzZXQocmVzdWx0Q29sbGVjdGlvbi5tb2RlbHMpO1xuICAgIH0sXG4gICAgXG4gICAgLyoqIFN3YXBzIG91dCBhIG5ldyB0aWxlIHNldCBieSBkaXNhYmxpbmcgdGhlIHRpbGUgbGlzdCBpbnRlcmFjdGlvbiwgXG4gICAgICogICAgIGxvYWRpbmcgdGhlIG5ldyB0aWxlcyBpbnRvIGEgc2VwZXJhdGUgY29udGFpbmVyLCB3YWl0aW5nIHVudGlsIGFsbCB0aGVpclxuICAgICAqICBpbWFnZXMgaGF2ZSBsb2FkZWQsIGFuZCB0aGVuIHN3YXBwaW5nIGluIHRoZSBuZXcgY29udGFpbmVyIGZvciB0aGUgb2xkIG9uZS4gKi8gXG4gICAgc3dhcFRpbGVzZXQ6IGZ1bmN0aW9uKG5ld1RpbGVNb2RlbHMpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB2YXIgJG9sZF9ncmlkID0gc2VsZi5ncmlkO1xuICAgICAgICB2YXIgb2xkX3RpbGVzID0gc2VsZi50aWxlcztcbiAgICAgICAgc2VsZi50aWxlcyA9IHt9O1xuICAgICAgICBcbiAgICAgICAgLy8gZGlzYWJsZSB0aWxlIHZpZXcsIHNldCBvbGQgY29udGFpbmVyIGFzaWRlIGFib3ZlIHRoZSBuZXcgb25lXG4gICAgICAgIHNlbGYuZGlzYWJsZUlucHV0KCk7XG4gICAgICAgIHNlbGYuZGlzYWJsZUNvdW50ZXIgKz0gMTtcbiAgICAgICAgdmFyIGxvY2FsRGlzYWJsZUNvdW50ZXIgPSBzZWxmLmRpc2FibGVDb3VudGVyO1xuICAgICAgICBpZiAoJG9sZF9ncmlkKSB7XG4gICAgICAgICAgICAkb2xkX2dyaWQucmVtb3ZlQXR0cignaWQnKS5jc3Moeyd6LWluZGV4JzogMX0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIGxvYWQgbmV3IHRpbGVzIGludG8gbmV3IGNvbnRhaW5lciAod2hpY2ggaXMgY292ZXJlZCBieSBvbGQpXG4gICAgICAgIHNlbGYuZ3JpZCA9IHNlbGYuJGVsLmZpbmQoJyN0aWxlLWNvbnRhaW5lci1wcm90bycpXG4gICAgICAgICAgICAuY2xvbmUoKVxuICAgICAgICAgICAgLmF0dHIoJ2lkJywgJ3RpbGUtY29udGFpbmVyJylcbiAgICAgICAgICAgIC5hcHBlbmRUbyhzZWxmLiRlbC5maW5kKCcjdGlsZS1jb250YWluZXItcHJvdG8nKS5wYXJlbnQoKSlcbiAgICAgICAgICAgIC5zaG93KCk7XG4gICAgICAgIC8vIHVzZSBhIGxvY2FsIGdyaWQgdmFyaWFibGUgYmVjYXVzZSBuZXcgdGhyZWFkcyBtaWdodFxuICAgICAgICAvLyBzd2FwIG91dCBzZWxmLmdyaWQgYmVmb3JlIGltYWdlc2xvYWRlZCByZXNvbHZlc1xuICAgICAgICB2YXIgZ3JpZCA9IHNlbGYuZ3JpZDtcbiAgICAgICAgXG4gICAgICAgIF8uZWFjaChuZXdUaWxlTW9kZWxzLCBmdW5jdGlvbihyZXN1bHQpe1xuICAgICAgICAgICAgc2VsZi50aWxlQWRkKHJlc3VsdCk7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgZ3JpZC5pbWFnZXNMb2FkZWQoIGZ1bmN0aW9uKCkgeyBcbiAgICAgICAgICAgIGdyaWQubWFzb25yeSh7XG4gICAgICAgICAgICAgICAgLy8gc2V0IGl0ZW1TZWxlY3RvciBzbyAuZ3JpZC1zaXplciBpcyBub3QgdXNlZCBpbiBsYXlvdXRcbiAgICAgICAgICAgICAgICBpdGVtU2VsZWN0b3I6ICcuZ3JpZC1pdGVtJyxcbiAgICAgICAgICAgICAgICAvLyB1c2UgZWxlbWVudCBmb3Igb3B0aW9uXG4gICAgICAgICAgICAgICAgY29sdW1uV2lkdGg6ICcuZ3JpZC1zaXplcicsXG4gICAgICAgICAgICAgICAgcGVyY2VudFBvc2l0aW9uOiB0cnVlLFxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb25EdXJhdGlvbjogMFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICgkb2xkX2dyaWQpIHtcbiAgICAgICAgICAgICAgICAkb2xkX2dyaWQuaGlkZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcmUtZW5hYmxlIHRpbGUtdmlldyBpbnB1dCB1bmxlc3MgYSBuZXcgdGhyZWFkIGlzIG5vdyBydW5uaW5nXG4gICAgICAgICAgICBpZiAoc2VsZi5kaXNhYmxlQ291bnRlciA9PSBsb2NhbERpc2FibGVDb3VudGVyKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5lbmFibGVJbnB1dCh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gY2xlYW5seSByZW1vdmUgb2xkIHRpbGUgdmlld3MgYW5kIG9sZCBncmlkIHRvIG5vdCBjYXVzZSBsZWFrc1xuICAgICAgICAgICAgaWYgKG9sZF90aWxlcykge1xuICAgICAgICAgICAgICAgIF8uZWFjaChvbGRfdGlsZXMsIGZ1bmN0aW9uKHRpbGUpe1xuICAgICAgICAgICAgICAgICAgICB0aWxlLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCRvbGRfZ3JpZCkge1xuICAgICAgICAgICAgICAgICRvbGRfZ3JpZC5yZW1vdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICB1dGlsLmxvZygnVE9ETzogYWRkIGEgY2FzZSBmb3IgaW1hZ2VzTG9hZGVkKCkgbmV2ZXIgdHJpZ2dlcmluZyEnKVxuICAgIH0sXG4gICAgXG4gICAgLyoqIE9yZGVycyBNYXNvbnJ5IHRvIHJlb3JkZXIgdGlsZXMgYWZ0ZXIgYSByZWZyZXNoICovXG4gICAgZ3JpZFJlZnJlc2g6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBzZWxmLmdyaWQuaW1hZ2VzTG9hZGVkKCBmdW5jdGlvbigpIHsgXG4gICAgICAgICAgICBzZWxmLmdyaWQubWFzb25yeSgncmVsb2FkSXRlbXMnKTtcbiAgICAgICAgICAgIHNlbGYuZ3JpZC5tYXNvbnJ5KCdsYXlvdXQnKVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIFxuICAgIGRpc2FibGVJbnB1dDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJGVsLmFkZENsYXNzKCdkaXNhYmxlZCcpO1xuICAgIH0sXG4gICAgXG4gICAgZW5hYmxlSW5wdXQ6IGZ1bmN0aW9uKGxvY2FsX2VuYWJsZSkge1xuICAgICAgICAvLyB3ZSBpZ25vcmUgdGhlIGVuYWJsZSBzaWduYWwgZnJvbSB0aGUgY29udGVudCB2aWV3IGFuZCBvbmx5XG4gICAgICAgIC8vIHJlLWVuYWJsZSB0aGUgdGlsZSB2aWV3IG9uY2Ugd2UgaGF2ZSByZW5kZXJlZCB0aGUgcmVzdWx0cy5cbiAgICAgICAgaWYgKGxvY2FsX2VuYWJsZSkge1xuICAgICAgICAgICAgdGhpcy4kZWwucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgb25UaWxlRGV0YWlsT3BlbmVkOiBmdW5jdGlvbiAoKSB7XG4gICAgXHR0aGlzLkFwcC4kZWwuYWRkQ2xhc3MoJ3RpbGUtZGV0YWlsLW9wZW4nKTtcbiAgICBcdHRoaXMuQXBwLnRpbGVMaXN0Vmlldy5ncmlkUmVmcmVzaCgpO1xuICAgIH0sXG4gICAgXG4gICAgb25UaWxlRGV0YWlsQ2xvc2VkOiBmdW5jdGlvbiAoKSB7XG4gICAgXHR0aGlzLkFwcC4kZWwucmVtb3ZlQ2xhc3MoJ3RpbGUtZGV0YWlsLW9wZW4nKTtcbiAgICBcdHRoaXMuQXBwLnRpbGVMaXN0Vmlldy5ncmlkUmVmcmVzaCgpO1xuICAgIH0sXG4gICAgXG4gICAgXG4gICAgXG4gICAgb25TZWFyY2hFcnJvcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIHdoZW4gdGhlIHNlYXJjaCBmYWlscywgcmUtZW5hYmxlIHRoZSB0aWxlLWxpc3RcbiAgICAgICAgdGhpcy5lbmFibGVJbnB1dCh0cnVlKTtcbiAgICB9LFxuICAgIFxuICAgIC8vIFByaXZhdGVcbiAgICAvLyAtLS0tLS0tXG5cbiAgICByZW5kZXJUaWxlc0luaXRpYWw6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gbm90aGluZyB0byBkbyBoZXJlIGZvciBub3dcbiAgICB9LFxuXG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29zaW5udXMvY2xpZW50L3ZpZXdzL3RpbGUtbGlzdC12aWV3LmpzXG4vLyBtb2R1bGUgaWQgPSAyOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbnZhciBCYXNlVmlldyA9IHJlcXVpcmUoJ3ZpZXdzL2Jhc2UvdmlldycpO1xudmFyIFJlc3VsdCA9IHJlcXVpcmUoJ21vZGVscy9yZXN1bHQnKTtcbnZhciB1dGlsID0gcmVxdWlyZSgnbGliL3V0aWwnKTtcblxudmFyIHRpbGVUZW1wbGF0ZURlZmF1bHQgPSByZXF1aXJlKCd0aWxlcy9ncmlkLXRpbGUtZGVmYXVsdCcpO1xudmFyIHRpbGVUZW1wbGF0ZUdyb3VwcyA9IHJlcXVpcmUoJ3RpbGVzL2dyaWQtdGlsZS1ncm91cHMnKTtcbnZhciB0aWxlVGVtcGxhdGVQcm9qZWN0cyA9IHJlcXVpcmUoJ3RpbGVzL2dyaWQtdGlsZS1wcm9qZWN0cycpO1xuaWYgKENPU0lOTlVTX0NMT1VEX0VOQUJMRUQpIHtcbiAgICB2YXIgdGlsZVRlbXBsYXRlQ2xvdWRmaWxlID0gcmVxdWlyZSgndGlsZXMvZ3JpZC10aWxlLWNsb3VkZmlsZScpO1xufVxuaWYgKENPU0lOTlVTX09SR0FOSVpBVElPTlNfRU5BQkxFRCkge1xuICAgIHZhciB0aWxlVGVtcGxhdGVPcmdhbml6YXRpb25zID0gcmVxdWlyZSgndGlsZXMvZ3JpZC10aWxlLW9yZ2FuaXphdGlvbnMnKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBCYXNlVmlldy5leHRlbmQoe1xuICAgIFxuICAgIC8vIHJlZmVyZW5jZSBiYWNrIHRvIHRoZSBtYWluIEFwcFxuICAgIEFwcDogbnVsbCxcbiAgICBcbiAgICBtb2RlbDogUmVzdWx0LFxuXG4gICAgdGVtcGxhdGU6IHRpbGVUZW1wbGF0ZURlZmF1bHQsIC8vIGRldGVybWluZWQgaW4gYGZpdFRlbXBsYXRlKClgXG4gICAgXG4gICAgLy8gVGhlIERPTSBldmVudHMgc3BlY2lmaWMgdG8gYW4gaXRlbS5cbiAgICBldmVudHM6IHtcbiAgICAgICAgJ2NsaWNrIC5yZXN1bHQtbGluayc6ICdvblJlc3VsdExpbmtDbGlja2VkJyxcbiAgICAgICAgJ2NsaWNrIC50b3BpYy1maWx0ZXItbGluayc6ICdvblRvcGljTGlua0NsaWNrZWQnLFxuICAgICAgICAnY2xpY2sgLnRleHQtdG9waWMtZmlsdGVyLWxpbmsnOiAnb25UZXh0VG9waWNMaW5rQ2xpY2tlZCcsXG5cbiAgICAgICAgJ21vdXNlZW50ZXInOiAnb25Nb3VzZUVudGVyJyxcbiAgICAgICAgJ21vdXNlbGVhdmUnOiAnb25Nb3VzZUxlYXZlJyxcbiAgICB9LFxuICAgIFxuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIChvcHRpb25zLCBhcHApIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBCYXNlVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHNlbGYsIG9wdGlvbnMpO1xuICAgICAgICBzZWxmLkFwcCA9IGFwcDtcbiAgICAgICAgXG4gICAgICAgIHNlbGYubW9kZWwub24oe1xuICAgICAgICAgICAgJ2NoYW5nZTpob3ZlcmVkJzogc2VsZi50aGlzQ29udGV4dChzZWxmLm9uSG92ZXJDaGFuZ2VkKSxcbiAgICAgICAgfSk7XG4gICAgICAgIHNlbGYuZml0VGVtcGxhdGUoKTtcbiAgICB9LFxuICAgIFxuICAgIC8qKiBBZGp1c3QgdGhpcyB2aWV3J3MgdGVtcGxhdGUgYmFzZWQgb24gdGhlIHJlc3VsdCB0eXBlIGl0IGRpc3BsYXlzIChhbmQgb3RoZXIgc3RhdGVzKSAqL1xuICAgIGZpdFRlbXBsYXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgaWYgKHNlbGYubW9kZWwuZ2V0KCd0eXBlJykgPT09ICdjbG91ZGZpbGUnKSB7XG4gICAgICAgICAgICBzZWxmLnRlbXBsYXRlID0gdGlsZVRlbXBsYXRlQ2xvdWRmaWxlO1xuICAgICAgICAgICAgc2VsZi5zdGF0ZS5pc1NtYWxsID0gdHJ1ZTtcbiAgICAgICAgICAgIHNlbGYuc3RhdGUubm9JbWFnZSA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAoc2VsZi5tb2RlbC5nZXQoJ3R5cGUnKSA9PT0gJ3Blb3BsZScpIHtcbiAgICAgICAgICAgIHNlbGYuc3RhdGUuaXNTbWFsbCA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAoc2VsZi5tb2RlbC5nZXQoJ3R5cGUnKSA9PT0gJ2dyb3VwcycpIHtcbiAgICAgICAgICAgIHNlbGYudGVtcGxhdGUgPSB0aWxlVGVtcGxhdGVHcm91cHM7XG4gICAgICAgIH0gZWxzZSBpZiAoc2VsZi5tb2RlbC5nZXQoJ3R5cGUnKSA9PT0gJ3Byb2plY3RzJykge1xuICAgICAgICAgICAgc2VsZi50ZW1wbGF0ZSA9IHRpbGVUZW1wbGF0ZVByb2plY3RzO1xuICAgICAgICB9IGVsc2UgaWYgKHNlbGYubW9kZWwuZ2V0KCd0eXBlJykgPT09ICdvcmdhbml6YXRpb25zJykge1xuICAgICAgICAgICAgc2VsZi50ZW1wbGF0ZSA9IHRpbGVUZW1wbGF0ZU9yZ2FuaXphdGlvbnM7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5zdGF0ZS5pc1lvdSA9IHNlbGYubW9kZWwuZ2V0KCd0eXBlJykgPT09ICdwZW9wbGUnICYmIGNvc2lubnVzX2FjdGl2ZV91c2VyICYmIHNlbGYubW9kZWwuZ2V0KCdzbHVnJykgPT09IGNvc2lubnVzX2FjdGl2ZV91c2VyLnVzZXJuYW1lO1xuICAgIH0sXG4gICAgXG4gICAgLyoqIEV4dGVuZCB0aGUgdGVtcGxhdGUgZGF0YSBieSB0aGUgY29udHJvbFZpZXcncyBvcHRpb25zIGFuZCBzdGF0ZSAqL1xuICAgIGdldFRlbXBsYXRlRGF0YTogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBkYXRhID0gQmFzZVZpZXcucHJvdG90eXBlLmdldFRlbXBsYXRlRGF0YS5jYWxsKHNlbGYpO1xuICAgICAgICBkYXRhWydjb250cm9sVmlldyddID0gXy5leHRlbmQoXG4gICAgICAgICAgICB7fSxcbiAgICAgICAgICAgIHNlbGYuQXBwLmNvbnRyb2xWaWV3Lm9wdGlvbnMsXG4gICAgICAgICAgICBzZWxmLkFwcC5jb250cm9sVmlldy5zdGF0ZVxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9LFxuICAgIFxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZSAuaG92ZXJlZCBwcm9wZXJ0eSBvZiB0aGUgUmVzdWx0IG1vZGVsIHdhcyBjaGFuZ2VkLlxuICAgICAqIFdlIGFjdHVhbGx5IGRvIHRoZSBkaXNwbGF5IGFuZCByZS1yZW5kZXIgaGVyZSwgYmVjYXVzZVxuICAgICAqIHRoZSBzZWxlY3RlZCBjaGFuZ2UgbWF5IGJlIHRyaWdnZXJlZCBpbiBvdGhlciB2aWV3cy5cbiAgICAgKi9cbiAgICBvbkhvdmVyQ2hhbmdlZDogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLiRlbC50b2dnbGVDbGFzcygnaG92ZXJlZCcsIHRoaXMubW9kZWwuZ2V0KCdob3ZlcmVkJykpO1xuICAgIH0sXG4gICAgXG4gICAgXG4gICAgb25Nb3VzZUVudGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLm1vZGVsLmdldCgnc2VsZWN0ZWQnKSkge1xuICAgICAgICAgICAgdXRpbC5sb2coJ3RpbGUtdmlldy5qczogZ290IGEgaG92ZXIgZXZlbnQhIGlkOiAnICsgdGhpcy5tb2RlbC5pZCk7XG4gICAgICAgICAgICB0aGlzLkFwcC5jb250cm9sVmlldy5zZXRIb3ZlcmVkUmVzdWx0KHRoaXMubW9kZWwpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBvbk1vdXNlTGVhdmU6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXRoaXMubW9kZWwuZ2V0KCdzZWxlY3RlZCcpKSB7XG4gICAgICAgICAgICB1dGlsLmxvZygndGlsZS12aWV3LmpzOiBnb3QgYW4gdW5ob3ZlciBldmVudCEgaWQ6ICcgKyB0aGlzLm1vZGVsLmlkKTtcbiAgICAgICAgICAgIHRoaXMuQXBwLmNvbnRyb2xWaWV3LnNldEhvdmVyZWRSZXN1bHQobnVsbCk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIFxuICAgIC8qKiBDYWxsZWQgd2hlbiBhIHRvcGljIGxpbmsgaXMgY2xpY2tlZCB0byBmaWx0ZXIgZm9yIHRoYXQgdG9waWMgb25seSAqL1xuICAgIG9uVG9waWNMaW5rQ2xpY2tlZDogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgdGhpcy5BcHAuY29udHJvbFZpZXcub25Ub3BpY0xpbmtDbGlja2VkKGV2ZW50KTtcbiAgICB9LFxuXG4gICAgb25UZXh0VG9waWNMaW5rQ2xpY2tlZDogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgdGhpcy5BcHAuY29udHJvbFZpZXcub25UZXh0VG9waWNMaW5rQ2xpY2tlZChldmVudCk7XG4gICAgfSxcbiAgICBcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiBhIGxpbmsgaXMgY2xpY2tlZCB0aGF0IGxlYWRzIHRvIG9wZW5pbmcgYSBkZXRhaWwgdmlldy5cbiAgICAgKiBXZSBvbmx5IGNoYW5nZSB0aGUgUmVzdWx0IG1vZGVsJ3MgLnNlbGVjdGVkIHByb3BlcnR5IGFuZFxuICAgICAqIGRvbid0IGRvIGFueSByZW5kZXJpbmcgaGVyZS5cbiAgICAgKi9cbiAgICBvblJlc3VsdExpbmtDbGlja2VkOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5BcHAuY29udHJvbFZpZXcub25SZXN1bHRMaW5rQ2xpY2tlZChldmVudCk7XG4gICAgfSxcbiAgICBcbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy9jbGllbnQvdmlld3MvdGlsZS12aWV3LmpzXG4vLyBtb2R1bGUgaWQgPSAyOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgbnVuanVja3MgPSByZXF1aXJlKFwibnVuanVja3MvYnJvd3Nlci9udW5qdWNrcy1zbGltXCIpO1xudmFyIGVudjtcbmlmICghbnVuanVja3MuY3VycmVudEVudil7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnYgPSBuZXcgbnVuanVja3MuRW52aXJvbm1lbnQoW10sIHVuZGVmaW5lZCk7XG59IGVsc2Uge1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52O1xufVxudmFyIGNvbmZpZ3VyZSA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi8uLi9udW5qdWNrcy5jb25maWcuanNcIikoZW52KTtcbnZhciBkZXBlbmRlbmNpZXMgPSBudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzIHx8IChudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzID0ge30pO1xuZGVwZW5kZW5jaWVzW1widGlsZXMvZ3JpZC10aWxlLWJhc2VcIl0gPSByZXF1aXJlKCBcInRpbGVzL2dyaWQtdGlsZS1iYXNlXCIgKTtcbmRlcGVuZGVuY2llc1tcImluY2x1ZGUvbWFjcm9zLmh0bWxcIl0gPSByZXF1aXJlKCBcImluY2x1ZGUvbWFjcm9zLmh0bWxcIiApO1xuXG5cblxuXG52YXIgc2hpbSA9IHJlcXVpcmUoXCIvaG9tZS9zYXNjaGEvcHIvY29zaW5udXMtY29yZS9ub2RlX21vZHVsZXMvbnVuanVja3MtbG9hZGVyL3J1bnRpbWUtc2hpbVwiKTtcblxuXG4oZnVuY3Rpb24oKSB7KG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgPSBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkIHx8IHt9KVtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvZ3JpZC10aWxlLWRlZmF1bHQuaHRtbFwiXSA9IChmdW5jdGlvbigpIHtcbmZ1bmN0aW9uIHJvb3QoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbnZhciBwYXJlbnRUZW1wbGF0ZSA9IG51bGw7XG5lbnYuZ2V0VGVtcGxhdGUoXCJ0aWxlcy9ncmlkLXRpbGUtYmFzZVwiLCB0cnVlLCBcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvZ3JpZC10aWxlLWRlZmF1bHQuaHRtbFwiLCBmYWxzZSwgZnVuY3Rpb24odF8yLF9wYXJlbnRUZW1wbGF0ZSkge1xuaWYodF8yKSB7IGNiKHRfMik7IHJldHVybjsgfVxucGFyZW50VGVtcGxhdGUgPSBfcGFyZW50VGVtcGxhdGVcbmZvcih2YXIgdF8xIGluIHBhcmVudFRlbXBsYXRlLmJsb2Nrcykge1xuY29udGV4dC5hZGRCbG9jayh0XzEsIHBhcmVudFRlbXBsYXRlLmJsb2Nrc1t0XzFdKTtcbn1cbm91dHB1dCArPSBcIlxcblwiO1xuZW52LmdldFRlbXBsYXRlKFwiaW5jbHVkZS9tYWNyb3MuaHRtbFwiLCBmYWxzZSwgXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL2dyaWQtdGlsZS1kZWZhdWx0Lmh0bWxcIiwgZmFsc2UsIGZ1bmN0aW9uKHRfNCx0XzMpIHtcbmlmKHRfNCkgeyBjYih0XzQpOyByZXR1cm47IH1cbnRfMy5nZXRFeHBvcnRlZChmdW5jdGlvbih0XzUsdF8zKSB7XG5pZih0XzUpIHsgY2IodF81KTsgcmV0dXJuOyB9XG5jb250ZXh0LnNldFZhcmlhYmxlKFwibWFjcm9zXCIsIHRfMyk7XG5vdXRwdXQgKz0gXCJcXG5cXG5cIjtcbihwYXJlbnRUZW1wbGF0ZSA/IGZ1bmN0aW9uKGUsIGMsIGYsIHIsIGNiKSB7IGNiKFwiXCIpOyB9IDogY29udGV4dC5nZXRCbG9jayhcImRlc2NyaXB0aW9uX2FyZWFcIikpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfNyx0XzYpIHtcbmlmKHRfNykgeyBjYih0XzcpOyByZXR1cm47IH1cbm91dHB1dCArPSB0XzY7XG5vdXRwdXQgKz0gXCJcXG5cXG5cIjtcbihwYXJlbnRUZW1wbGF0ZSA/IGZ1bmN0aW9uKGUsIGMsIGYsIHIsIGNiKSB7IGNiKFwiXCIpOyB9IDogY29udGV4dC5nZXRCbG9jayhcImljb25fYXJlYVwiKSkoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF85LHRfOCkge1xuaWYodF85KSB7IGNiKHRfOSk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfODtcbm91dHB1dCArPSBcIlxcblwiO1xuaWYocGFyZW50VGVtcGxhdGUpIHtcbnBhcmVudFRlbXBsYXRlLnJvb3RSZW5kZXJGdW5jKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKTtcbn0gZWxzZSB7XG5jYihudWxsLCBvdXRwdXQpO1xufVxufSl9KX0pfSl9KTtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX2Rlc2NyaXB0aW9uX2FyZWEoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcbiAgICBcIjtcbmNvbnRleHQuZ2V0QmxvY2soXCJ0aXRsZVwiKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzExLHRfMTApIHtcbmlmKHRfMTEpIHsgY2IodF8xMSk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfMTA7XG5vdXRwdXQgKz0gXCJcXG4gICAgXFxuICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJncm91cF9zbHVnXCIpICYmIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZ3JvdXBfbmFtZVwiKSAmJiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInBvcnRhbFwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJwYWxlLWNvbG9yIG9uZS1saW5lXFxcIj5cXG4gICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwidHlwZVwiKSA9PSBcInByb2plY3RzXCIpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoKGxpbmVubyA9IDE5LCBjb2xubyA9IDMzLCBydW50aW1lLmNhbGxXcmFwKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm1hY3Jvc1wiKSksXCJ0eXBlTGFiZWxcIiksIFwibWFjcm9zW1xcXCJ0eXBlTGFiZWxcXFwiXVwiLCBjb250ZXh0LCBbXCJncm91cHNcIixydW50aW1lLm1ha2VLZXl3b3JkQXJncyh7XCJzaW5ndWxhclwiOiAxLFwidXNlU3R5bGVzXCI6IDAsXCJjb2xvblwiOiAxLFwic2hvd0ljb25cIjogMCxcIkNPU0lOTlVTX1RSQU5TXCI6IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiQ09TSU5OVVNfVFJBTlNcIil9KV0pKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKChsaW5lbm8gPSAyMCwgY29sbm8gPSAzNCwgcnVudGltZS5jYWxsV3JhcChydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJtYWNyb3NcIikpLFwicmVzdWx0TGlua1wiKSwgXCJtYWNyb3NbXFxcInJlc3VsdExpbmtcXFwiXVwiLCBjb250ZXh0LCBbcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJwb3J0YWxcIikscnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJncm91cF9zbHVnXCIpLHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZ3JvdXBfbmFtZVwiKSxcImdyb3Vwc1wiXSkpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKChsaW5lbm8gPSAyMiwgY29sbm8gPSAzMywgcnVudGltZS5jYWxsV3JhcChydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJtYWNyb3NcIikpLFwidHlwZUxhYmVsXCIpLCBcIm1hY3Jvc1tcXFwidHlwZUxhYmVsXFxcIl1cIiwgY29udGV4dCwgW1wicHJvamVjdHNcIixydW50aW1lLm1ha2VLZXl3b3JkQXJncyh7XCJzaW5ndWxhclwiOiAxLFwidXNlU3R5bGVzXCI6IDAsXCJjb2xvblwiOiAxLFwic2hvd0ljb25cIjogMCxcIkNPU0lOTlVTX1RSQU5TXCI6IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiQ09TSU5OVVNfVFJBTlNcIil9KV0pKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKChsaW5lbm8gPSAyMywgY29sbm8gPSAzNCwgcnVudGltZS5jYWxsV3JhcChydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJtYWNyb3NcIikpLFwicmVzdWx0TGlua1wiKSwgXCJtYWNyb3NbXFxcInJlc3VsdExpbmtcXFwiXVwiLCBjb250ZXh0LCBbcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJwb3J0YWxcIikscnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJncm91cF9zbHVnXCIpLHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZ3JvdXBfbmFtZVwiKSxcInByb2plY3RzXCJdKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIDwvZGl2PlxcbiAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICBcXG4gICAgXCI7XG5pZihlbnYuZ2V0RmlsdGVyKFwibGVuZ3RoXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0b3BpY3NcIikpID4gMCkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLXNlY3Rpb24gb25lLWxpbmVcXFwiPlxcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJwYWxlLWNvbG9yXFxcIj5cXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiVG9waWNzXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiOlxcbiAgICAgICAgICAgIDwvc3Bhbj4gXFxuICAgICAgICAgICAgXCI7XG5mcmFtZSA9IGZyYW1lLnB1c2goKTtcbnZhciB0XzE0ID0gcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0b3BpY3NcIik7XG5pZih0XzE0KSB7dmFyIHRfMTMgPSB0XzE0Lmxlbmd0aDtcbmZvcih2YXIgdF8xMj0wOyB0XzEyIDwgdF8xNC5sZW5ndGg7IHRfMTIrKykge1xudmFyIHRfMTUgPSB0XzE0W3RfMTJdO1xuZnJhbWUuc2V0KFwidG9waWNcIiwgdF8xNSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfMTIgKyAxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXgwXCIsIHRfMTIpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleFwiLCB0XzEzIC0gdF8xMik7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4MFwiLCB0XzEzIC0gdF8xMiAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzEyID09PSAwKTtcbmZyYW1lLnNldChcImxvb3AubGFzdFwiLCB0XzEyID09PSB0XzEzIC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzEzKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICA8YSBjbGFzcz1cXFwidG9waWMtZmlsdGVyLWxpbmsgXFxcIiBkYXRhLXRvcGljLWlkPVxcXCJcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUodF8xNSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiPlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29udHJvbFZpZXdcIikpLFwiYWxsVG9waWNzXCIpKSx0XzE1KSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCI8L2E+XCI7XG5pZighcnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibG9vcFwiKSksXCJsYXN0XCIpKSB7XG5vdXRwdXQgKz0gXCIsXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbjtcbn1cbn1cbmZyYW1lID0gZnJhbWUucG9wKCk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIDwvZGl2PlxcbiAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICBcXG4gICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImRlc2NyaXB0aW9uXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcInRpbGUtc2VjdGlvbiB0aWxlLWRlc2NyaXB0aW9uXFxcIj5cIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEZpbHRlcihcInNhZmVcIikuY2FsbChjb250ZXh0LCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImRlc2NyaXB0aW9uXCIpKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCI8L2Rpdj5cXG4gICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cIjtcbmNiKG51bGwsIG91dHB1dCk7XG59KTtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX3RpdGxlKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgPGgxPlxcbiAgICBcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0aXRsZVwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgXFx0XCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImlzWW91XCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgXFx0XFx0PGkgY2xhc3M9XFxcInBhbGUtY29sb3JcXFwiPlxcbiAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAoXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiWW91XCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiKVxcblxcdFxcdFxcdDwvaT5cXG5cXHRcXHRcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICA8L2gxPlxcbiAgICBcIjtcbmNiKG51bGwsIG91dHB1dCk7XG47XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl9pY29uX2FyZWEoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcbiAgICBcIjtcbmlmKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInR5cGVcIikgPT0gXCJldmVudHNcIiAmJiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInBhcnRpY2lwYW50X2NvdW50XCIpID4gMSkgfHwgKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwidHlwZVwiKSAhPSBcImV2ZW50c1wiICYmIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibWVtYmVyX2NvdW50XCIpID4gMSkgfHwgKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29udGVudF9jb3VudFwiKSA+IDApKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uIHBhbGUtY29sb3Igb25lLWxpbmVcXFwiPlxcbiAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInR5cGVcIikgPT0gXCJldmVudHNcIiAmJiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInBhcnRpY2lwYW50X2NvdW50XCIpID4gMSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcIm11bHRpLXNwYW5cXFwiIHRpdGxlPVxcXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiUGFydGljaXBhbnRzXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgXFxcIj5cXG4gICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWdyb3VwXFxcIj48L2k+IFxcbiAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJwYXJ0aWNpcGFudF9jb3VudFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgXFxuICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwidHlwZVwiKSA9PSBcInBlb3BsZVwiICYmIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibWVtYmVyX2NvdW50XCIpID4gMSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcIm11bHRpLXNwYW5cXFwiIHRpdGxlPVxcXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInR5cGVcIikgPT0gXCJwZW9wbGVcIikge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiUHJvamVjdHMvR3JvdXBzXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJNZW1iZXJzXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgXFxcIj5cXG4gICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWdyb3VwXFxcIj48L2k+IFxcbiAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJtZW1iZXJfY291bnRcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIFxcbiAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInR5cGVcIikgPT0gXCJwcm9qZWN0c1wiIHx8IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwidHlwZVwiKSA9PSBcImdyb3Vwc1wiKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibWVtYmVyX2NvdW50XCIpID4gMSkge1xub3V0cHV0ICs9IFwiXFxuXFx0ICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcIm11bHRpLXNwYW5cXFwiIHRpdGxlPVxcXCJcXG5cXHQgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiTWVtYmVyc1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdCAgICAgICAgICAgIFxcXCI+XFxuXFx0ICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1ncm91cFxcXCI+PC9pPiBcXG5cXHQgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibWVtYmVyX2NvdW50XCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdCAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblxcdCAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvbnRlbnRfY291bnRcIikgPiAwKSB7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwibXVsdGktc3BhblxcXCIgdGl0bGU9XFxcIlxcblxcdCAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcblxcdCAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJFdmVudHNcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgICAgICAgICBcXFwiPlxcblxcdCAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtY2FsZW5kYXJcXFwiPjwvaT4gXFxuXFx0ICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvbnRlbnRfY291bnRcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0ICAgICAgICAgICAgPC9zcGFuPlxcblxcdCAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICBcXG4gICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0eXBlXCIpID09IFwiaWRlYXNcIiAmJiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInBhcnRpY2lwYW50X2NvdW50XCIpID4gMCkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcIm11bHRpLXNwYW5cXFwiIHRpdGxlPVxcXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiTGlrZXNcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICBcXFwiPlxcbiAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtaGVhcnQgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImxpa2VkXCIpKSB7XG5vdXRwdXQgKz0gXCJhcHBseS1jb2xvci1saWtlZFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxcIiA+PC9pPiBcXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicGFydGljaXBhbnRfY291bnRcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0eXBlXCIpID09IFwiaWRlYXNcIiAmJiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvbnRlbnRfY291bnRcIikgPiAwKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwibXVsdGktc3BhblxcXCIgdGl0bGU9XFxcIlxcbiAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJQcm9qZWN0c1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIFxcXCI+XFxuICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1ncm91cFxcXCI+PC9pPiBcXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29udGVudF9jb3VudFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgXFxuICAgICAgICBcXG4gICAgPC9kaXY+XFxuICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgIFxcblwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5yZXR1cm4ge1xuYl9kZXNjcmlwdGlvbl9hcmVhOiBiX2Rlc2NyaXB0aW9uX2FyZWEsXG5iX3RpdGxlOiBiX3RpdGxlLFxuYl9pY29uX2FyZWE6IGJfaWNvbl9hcmVhLFxucm9vdDogcm9vdFxufTtcblxufSkoKTtcbn0pKCk7XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHNoaW0obnVuanVja3MsIGVudiwgbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZFtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvZ3JpZC10aWxlLWRlZmF1bHQuaHRtbFwiXSAsIGRlcGVuZGVuY2llcylcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Nvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvZ3JpZC10aWxlLWRlZmF1bHQuaHRtbFxuLy8gbW9kdWxlIGlkID0gMzBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIG51bmp1Y2tzID0gcmVxdWlyZShcIm51bmp1Y2tzL2Jyb3dzZXIvbnVuanVja3Mtc2xpbVwiKTtcbnZhciBlbnY7XG5pZiAoIW51bmp1Y2tzLmN1cnJlbnRFbnYpe1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52ID0gbmV3IG51bmp1Y2tzLkVudmlyb25tZW50KFtdLCB1bmRlZmluZWQpO1xufSBlbHNlIHtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudjtcbn1cbnZhciBjb25maWd1cmUgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vLi4vbnVuanVja3MuY29uZmlnLmpzXCIpKGVudik7XG52YXIgZGVwZW5kZW5jaWVzID0gbnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyB8fCAobnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyA9IHt9KTtcbmRlcGVuZGVuY2llc1tcImluY2x1ZGUvbWFjcm9zLmh0bWxcIl0gPSByZXF1aXJlKCBcImluY2x1ZGUvbWFjcm9zLmh0bWxcIiApO1xuXG5cblxuXG52YXIgc2hpbSA9IHJlcXVpcmUoXCIvaG9tZS9zYXNjaGEvcHIvY29zaW5udXMtY29yZS9ub2RlX21vZHVsZXMvbnVuanVja3MtbG9hZGVyL3J1bnRpbWUtc2hpbVwiKTtcblxuXG4oZnVuY3Rpb24oKSB7KG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgPSBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkIHx8IHt9KVtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvZ3JpZC10aWxlLWJhc2UuaHRtbFwiXSA9IChmdW5jdGlvbigpIHtcbmZ1bmN0aW9uIHJvb3QoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbnZhciBwYXJlbnRUZW1wbGF0ZSA9IG51bGw7XG5lbnYuZ2V0VGVtcGxhdGUoXCJpbmNsdWRlL21hY3Jvcy5odG1sXCIsIGZhbHNlLCBcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvZ3JpZC10aWxlLWJhc2UuaHRtbFwiLCBmYWxzZSwgZnVuY3Rpb24odF8yLHRfMSkge1xuaWYodF8yKSB7IGNiKHRfMik7IHJldHVybjsgfVxudF8xLmdldEV4cG9ydGVkKGZ1bmN0aW9uKHRfMyx0XzEpIHtcbmlmKHRfMykgeyBjYih0XzMpOyByZXR1cm47IH1cbmNvbnRleHQuc2V0VmFyaWFibGUoXCJtYWNyb3NcIiwgdF8xKTtcbm91dHB1dCArPSBcIlxcblxcbjxkaXYgY2xhc3M9XFxcInRpbGUgdGlsZS1cIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0eXBlXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIiBncmlkLWl0ZW0gXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNlbGVjdGVkXCIpKSB7XG5vdXRwdXQgKz0gXCJzZWxlY3RlZFwiO1xuO1xufVxub3V0cHV0ICs9IFwiIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJob3ZlcmVkXCIpKSB7XG5vdXRwdXQgKz0gXCJob3ZlcmVkXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXFwiPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLWRldGFpbC1saW5rIHJlc3VsdC1saW5rXFxcIiBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoKGxpbmVubyA9IDMsIGNvbG5vID0gNjQsIHJ1bnRpbWUuY2FsbFdyYXAocnVudGltZS5tZW1iZXJMb29rdXAoKHRfMSksXCJyZXN1bHRMaW5rXCIpLCBcIm1hY3Jvc1tcXFwicmVzdWx0TGlua1xcXCJdXCIsIGNvbnRleHQsIFtydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInBvcnRhbFwiKSxydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNsdWdcIikscnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0aXRsZVwiKSxydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInR5cGVcIikscnVudGltZS5tYWtlS2V5d29yZEFyZ3Moe1wiZ3JvdXBfc2x1Z1wiOiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImdyb3VwX3NsdWdcIiksXCJpbmxpbmVfb25seVwiOiAxfSldKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiPlxcbiAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImlzU21hbGxcIikgJiYgIXJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibm9JbWFnZVwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwic2luZ2xlLXRpbGUtaW1hZ2UgXCI7XG5pZighcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJpY29uSW1hZ2VVcmxcIikpIHtcbm91dHB1dCArPSBcImltYWdlLXBsYWNlaG9sZGVyLWJhY2tncm91bmQgaW1hZ2UtcGxhY2Vob2xkZXItYmFja2dyb3VuZC1cIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0eXBlXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbjtcbn1cbm91dHB1dCArPSBcIlxcXCI+XFxuICAgICAgICAgICAgXFx0XCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImljb25JbWFnZVVybFwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIFxcdDxpbWcgY2xhc3M9XFxcImZyYW1lZC10aWxlLWltYWdlXFxcIiBzcmM9XFxcIlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImljb25JbWFnZVVybFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiIC8+XFxuICAgICAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICBcXG4gICAgICAgIFwiO1xuKHBhcmVudFRlbXBsYXRlID8gZnVuY3Rpb24oZSwgYywgZiwgciwgY2IpIHsgY2IoXCJcIik7IH0gOiBjb250ZXh0LmdldEJsb2NrKFwidHlwZV9hcmVhXCIpKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzUsdF80KSB7XG5pZih0XzUpIHsgY2IodF81KTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF80O1xub3V0cHV0ICs9IFwiXFxuICAgICAgICBcXG4gICAgICAgIFwiO1xuaWYoKCFydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImlzU21hbGxcIikpICYmICghcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJub0ltYWdlXCIpKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uXFxcIj5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZHVhbC10aWxlLWltYWdlIFwiO1xuaWYoIXJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYmFja2dyb3VuZEltYWdlU21hbGxVcmxcIikpIHtcbm91dHB1dCArPSBcImltYWdlLXBsYWNlaG9sZGVyLWJhY2tncm91bmQgaW1hZ2UtcGxhY2Vob2xkZXItYmFja2dyb3VuZC1cIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0eXBlXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbjtcbn1cbm91dHB1dCArPSBcIlxcXCI+XFxuICAgICAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYmFja2dyb3VuZEltYWdlU21hbGxVcmxcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgY2xhc3M9XFxcInRpbGUtaW1hZ2UgdGlsZS1pbWFnZS1iYWNrZ3JvdW5kXFxcIiBzcmM9XFxcIlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImJhY2tncm91bmRJbWFnZVNtYWxsVXJsXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiaWNvbkltYWdlVXJsXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIGNsYXNzPVxcXCJmbG9hdGluZy10aWxlLWltYWdlXFxcIiBzcmM9XFxcIlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImljb25JbWFnZVVybFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICBcXG4gICAgICAgIFwiO1xuKHBhcmVudFRlbXBsYXRlID8gZnVuY3Rpb24oZSwgYywgZiwgciwgY2IpIHsgY2IoXCJcIik7IH0gOiBjb250ZXh0LmdldEJsb2NrKFwiZGVzY3JpcHRpb25fYXJlYVwiKSkoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF83LHRfNikge1xuaWYodF83KSB7IGNiKHRfNyk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfNjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgXFxuICAgICAgICBcIjtcbihwYXJlbnRUZW1wbGF0ZSA/IGZ1bmN0aW9uKGUsIGMsIGYsIHIsIGNiKSB7IGNiKFwiXCIpOyB9IDogY29udGV4dC5nZXRCbG9jayhcImljb25fYXJlYVwiKSkoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF85LHRfOCkge1xuaWYodF85KSB7IGNiKHRfOSk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfODtcbm91dHB1dCArPSBcIlxcbiAgICA8L2Rpdj4gXFxuPC9kaXY+XFxuXCI7XG5pZihwYXJlbnRUZW1wbGF0ZSkge1xucGFyZW50VGVtcGxhdGUucm9vdFJlbmRlckZ1bmMoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpO1xufSBlbHNlIHtcbmNiKG51bGwsIG91dHB1dCk7XG59XG59KX0pfSl9KX0pO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfdHlwZV9hcmVhKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLWhlYWRlci1zZWN0aW9uXFxcIj5cXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKChsaW5lbm8gPSAxNCwgY29sbm8gPSAzMywgcnVudGltZS5jYWxsV3JhcChydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJtYWNyb3NcIikpLFwidHlwZUxhYmVsXCIpLCBcIm1hY3Jvc1tcXFwidHlwZUxhYmVsXFxcIl1cIiwgY29udGV4dCwgW3J1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwidHlwZVwiKSxydW50aW1lLm1ha2VLZXl3b3JkQXJncyh7XCJzaW5ndWxhclwiOiAxLFwiQ09TSU5OVVNfVFJBTlNcIjogcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJDT1NJTk5VU19UUkFOU1wiKX0pXSkpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicG9ydGFsXCIpID09IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiQ09TSU5OVVNfRVhDSEFOR0VfUE9SVEFMX0lEXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgXFx0XCI7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiZnJvbVwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIjogXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic291cmNlXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbmlmKCFydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImlzU21hbGxcIikgJiYgcnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvbnRyb2xWaWV3XCIpKSxcInBvcnRhbEluZm9cIikpLFwiY3VycmVudFwiKSAhPSBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInBvcnRhbFwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJwdWxsLXJpZ2h0XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz1cXFwicG9ydGFsLWlubGluayB1bmNvbG9yZWQtbGlua1xcXCIgaHJlZj1cXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29udHJvbFZpZXdcIikpLFwicG9ydGFsSW5mb1wiKSkscnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJwb3J0YWxcIikpKSxcImRvbWFpblwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIiB0aXRsZT1cXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29udHJvbFZpZXdcIikpLFwicG9ydGFsSW5mb1wiKSkscnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJwb3J0YWxcIikpKSxcIm5hbWVcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29udHJvbFZpZXdcIikpLFwicG9ydGFsSW5mb1wiKSkscnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJwb3J0YWxcIikpKSxcIm5hbWVcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9hPiBcXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgXCI7XG5jYihudWxsLCBvdXRwdXQpO1xuO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfZGVzY3JpcHRpb25fYXJlYShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX2ljb25fYXJlYShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5yZXR1cm4ge1xuYl90eXBlX2FyZWE6IGJfdHlwZV9hcmVhLFxuYl9kZXNjcmlwdGlvbl9hcmVhOiBiX2Rlc2NyaXB0aW9uX2FyZWEsXG5iX2ljb25fYXJlYTogYl9pY29uX2FyZWEsXG5yb290OiByb290XG59O1xuXG59KSgpO1xufSkoKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gc2hpbShudW5qdWNrcywgZW52LCBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkW1wiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy9ncmlkLXRpbGUtYmFzZS5odG1sXCJdICwgZGVwZW5kZW5jaWVzKVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy9ncmlkLXRpbGUtYmFzZS5odG1sXG4vLyBtb2R1bGUgaWQgPSAzMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgbnVuanVja3MgPSByZXF1aXJlKFwibnVuanVja3MvYnJvd3Nlci9udW5qdWNrcy1zbGltXCIpO1xudmFyIGVudjtcbmlmICghbnVuanVja3MuY3VycmVudEVudil7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnYgPSBuZXcgbnVuanVja3MuRW52aXJvbm1lbnQoW10sIHVuZGVmaW5lZCk7XG59IGVsc2Uge1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52O1xufVxudmFyIGNvbmZpZ3VyZSA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi8uLi9udW5qdWNrcy5jb25maWcuanNcIikoZW52KTtcbnZhciBkZXBlbmRlbmNpZXMgPSBudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzIHx8IChudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzID0ge30pO1xuZGVwZW5kZW5jaWVzW1widGlsZXMvZ3JpZC10aWxlLWRlZmF1bHRcIl0gPSByZXF1aXJlKCBcInRpbGVzL2dyaWQtdGlsZS1kZWZhdWx0XCIgKTtcblxuXG5cblxudmFyIHNoaW0gPSByZXF1aXJlKFwiL2hvbWUvc2FzY2hhL3ByL2Nvc2lubnVzLWNvcmUvbm9kZV9tb2R1bGVzL251bmp1Y2tzLWxvYWRlci9ydW50aW1lLXNoaW1cIik7XG5cblxuKGZ1bmN0aW9uKCkgeyhudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkID0gbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZCB8fCB7fSlbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL2dyaWQtdGlsZS1ncm91cHMuaHRtbFwiXSA9IChmdW5jdGlvbigpIHtcbmZ1bmN0aW9uIHJvb3QoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbnZhciBwYXJlbnRUZW1wbGF0ZSA9IG51bGw7XG5lbnYuZ2V0VGVtcGxhdGUoXCJ0aWxlcy9ncmlkLXRpbGUtZGVmYXVsdFwiLCB0cnVlLCBcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvZ3JpZC10aWxlLWdyb3Vwcy5odG1sXCIsIGZhbHNlLCBmdW5jdGlvbih0XzIsX3BhcmVudFRlbXBsYXRlKSB7XG5pZih0XzIpIHsgY2IodF8yKTsgcmV0dXJuOyB9XG5wYXJlbnRUZW1wbGF0ZSA9IF9wYXJlbnRUZW1wbGF0ZVxuZm9yKHZhciB0XzEgaW4gcGFyZW50VGVtcGxhdGUuYmxvY2tzKSB7XG5jb250ZXh0LmFkZEJsb2NrKHRfMSwgcGFyZW50VGVtcGxhdGUuYmxvY2tzW3RfMV0pO1xufVxub3V0cHV0ICs9IFwiXFxuXFxuXCI7XG4ocGFyZW50VGVtcGxhdGUgPyBmdW5jdGlvbihlLCBjLCBmLCByLCBjYikgeyBjYihcIlwiKTsgfSA6IGNvbnRleHQuZ2V0QmxvY2soXCJ0aXRsZVwiKSkoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF80LHRfMykge1xuaWYodF80KSB7IGNiKHRfNCk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfMztcbmlmKHBhcmVudFRlbXBsYXRlKSB7XG5wYXJlbnRUZW1wbGF0ZS5yb290UmVuZGVyRnVuYyhlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYik7XG59IGVsc2Uge1xuY2IobnVsbCwgb3V0cHV0KTtcbn1cbn0pfSk7XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl90aXRsZShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xub3V0cHV0ICs9IFwiXFxuICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJpc19vcGVuX2Zvcl9jb29wZXJhdGlvblwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgIDxoMSBjbGFzcz1cXFwid2l0aC1pY29uXFxcIj5cXG4gICAgICAgIDxzcGFuPlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInRpdGxlXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIjwvc3Bhbj5cXG4gICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1wdXp6bGUtcGllY2UgYXBwbHktY29sb3ItcHJvamVjdHNcXFwiPjwvaT5cXG4gICAgPC9oMT5cXG4gICAgXCI7XG47XG59XG5lbHNlIHtcbm91dHB1dCArPSBcIlxcbiAgICA8aDE+XFxuICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0aXRsZVwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgPC9oMT5cXG4gICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cIjtcbmNiKG51bGwsIG91dHB1dCk7XG47XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxucmV0dXJuIHtcbmJfdGl0bGU6IGJfdGl0bGUsXG5yb290OiByb290XG59O1xuXG59KSgpO1xufSkoKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gc2hpbShudW5qdWNrcywgZW52LCBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkW1wiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy9ncmlkLXRpbGUtZ3JvdXBzLmh0bWxcIl0gLCBkZXBlbmRlbmNpZXMpXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL2dyaWQtdGlsZS1ncm91cHMuaHRtbFxuLy8gbW9kdWxlIGlkID0gMzJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIG51bmp1Y2tzID0gcmVxdWlyZShcIm51bmp1Y2tzL2Jyb3dzZXIvbnVuanVja3Mtc2xpbVwiKTtcbnZhciBlbnY7XG5pZiAoIW51bmp1Y2tzLmN1cnJlbnRFbnYpe1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52ID0gbmV3IG51bmp1Y2tzLkVudmlyb25tZW50KFtdLCB1bmRlZmluZWQpO1xufSBlbHNlIHtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudjtcbn1cbnZhciBjb25maWd1cmUgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vLi4vbnVuanVja3MuY29uZmlnLmpzXCIpKGVudik7XG52YXIgZGVwZW5kZW5jaWVzID0gbnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyB8fCAobnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyA9IHt9KTtcbmRlcGVuZGVuY2llc1tcInRpbGVzL2dyaWQtdGlsZS1kZWZhdWx0XCJdID0gcmVxdWlyZSggXCJ0aWxlcy9ncmlkLXRpbGUtZGVmYXVsdFwiICk7XG5cblxuXG5cbnZhciBzaGltID0gcmVxdWlyZShcIi9ob21lL3Nhc2NoYS9wci9jb3Npbm51cy1jb3JlL25vZGVfbW9kdWxlcy9udW5qdWNrcy1sb2FkZXIvcnVudGltZS1zaGltXCIpO1xuXG5cbihmdW5jdGlvbigpIHsobnVuanVja3MubnVuanVja3NQcmVjb21waWxlZCA9IG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgfHwge30pW1wiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy9ncmlkLXRpbGUtcHJvamVjdHMuaHRtbFwiXSA9IChmdW5jdGlvbigpIHtcbmZ1bmN0aW9uIHJvb3QoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbnZhciBwYXJlbnRUZW1wbGF0ZSA9IG51bGw7XG5lbnYuZ2V0VGVtcGxhdGUoXCJ0aWxlcy9ncmlkLXRpbGUtZGVmYXVsdFwiLCB0cnVlLCBcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvZ3JpZC10aWxlLXByb2plY3RzLmh0bWxcIiwgZmFsc2UsIGZ1bmN0aW9uKHRfMixfcGFyZW50VGVtcGxhdGUpIHtcbmlmKHRfMikgeyBjYih0XzIpOyByZXR1cm47IH1cbnBhcmVudFRlbXBsYXRlID0gX3BhcmVudFRlbXBsYXRlXG5mb3IodmFyIHRfMSBpbiBwYXJlbnRUZW1wbGF0ZS5ibG9ja3MpIHtcbmNvbnRleHQuYWRkQmxvY2sodF8xLCBwYXJlbnRUZW1wbGF0ZS5ibG9ja3NbdF8xXSk7XG59XG5vdXRwdXQgKz0gXCJcXG5cXG5cIjtcbihwYXJlbnRUZW1wbGF0ZSA/IGZ1bmN0aW9uKGUsIGMsIGYsIHIsIGNiKSB7IGNiKFwiXCIpOyB9IDogY29udGV4dC5nZXRCbG9jayhcInRpdGxlXCIpKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzQsdF8zKSB7XG5pZih0XzQpIHsgY2IodF80KTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF8zO1xuaWYocGFyZW50VGVtcGxhdGUpIHtcbnBhcmVudFRlbXBsYXRlLnJvb3RSZW5kZXJGdW5jKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKTtcbn0gZWxzZSB7XG5jYihudWxsLCBvdXRwdXQpO1xufVxufSl9KTtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX3RpdGxlKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImlzX29wZW5fZm9yX2Nvb3BlcmF0aW9uXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgPGgxIGNsYXNzPVxcXCJ3aXRoLWljb25cXFwiPlxcbiAgICAgICAgPHNwYW4+XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwidGl0bGVcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiPC9zcGFuPlxcbiAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLXB1enpsZS1waWVjZSBhcHBseS1jb2xvci1wcm9qZWN0c1xcXCI+PC9pPlxcbiAgICA8L2gxPlxcbiAgICBcIjtcbjtcbn1cbmVsc2Uge1xub3V0cHV0ICs9IFwiXFxuICAgIDxoMT5cXG4gICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInRpdGxlXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICA8L2gxPlxcbiAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5yZXR1cm4ge1xuYl90aXRsZTogYl90aXRsZSxcbnJvb3Q6IHJvb3Rcbn07XG5cbn0pKCk7XG59KSgpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBzaGltKG51bmp1Y2tzLCBlbnYsIG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWRbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL2dyaWQtdGlsZS1wcm9qZWN0cy5odG1sXCJdICwgZGVwZW5kZW5jaWVzKVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy9ncmlkLXRpbGUtcHJvamVjdHMuaHRtbFxuLy8gbW9kdWxlIGlkID0gMzNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIG51bmp1Y2tzID0gcmVxdWlyZShcIm51bmp1Y2tzL2Jyb3dzZXIvbnVuanVja3Mtc2xpbVwiKTtcbnZhciBlbnY7XG5pZiAoIW51bmp1Y2tzLmN1cnJlbnRFbnYpe1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52ID0gbmV3IG51bmp1Y2tzLkVudmlyb25tZW50KFtdLCB1bmRlZmluZWQpO1xufSBlbHNlIHtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudjtcbn1cbnZhciBjb25maWd1cmUgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vLi4vbnVuanVja3MuY29uZmlnLmpzXCIpKGVudik7XG52YXIgZGVwZW5kZW5jaWVzID0gbnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyB8fCAobnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyA9IHt9KTtcbmRlcGVuZGVuY2llc1tcInRpbGVzL2dyaWQtdGlsZS1iYXNlXCJdID0gcmVxdWlyZSggXCJ0aWxlcy9ncmlkLXRpbGUtYmFzZVwiICk7XG5kZXBlbmRlbmNpZXNbXCJpbmNsdWRlL21hY3Jvcy5odG1sXCJdID0gcmVxdWlyZSggXCJpbmNsdWRlL21hY3Jvcy5odG1sXCIgKTtcblxuXG5cblxudmFyIHNoaW0gPSByZXF1aXJlKFwiL2hvbWUvc2FzY2hhL3ByL2Nvc2lubnVzLWNvcmUvbm9kZV9tb2R1bGVzL251bmp1Y2tzLWxvYWRlci9ydW50aW1lLXNoaW1cIik7XG5cblxuKGZ1bmN0aW9uKCkgeyhudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkID0gbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZCB8fCB7fSlbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL2dyaWQtdGlsZS1jbG91ZGZpbGUuaHRtbFwiXSA9IChmdW5jdGlvbigpIHtcbmZ1bmN0aW9uIHJvb3QoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbnZhciBwYXJlbnRUZW1wbGF0ZSA9IG51bGw7XG5lbnYuZ2V0VGVtcGxhdGUoXCJ0aWxlcy9ncmlkLXRpbGUtYmFzZVwiLCB0cnVlLCBcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvZ3JpZC10aWxlLWNsb3VkZmlsZS5odG1sXCIsIGZhbHNlLCBmdW5jdGlvbih0XzIsX3BhcmVudFRlbXBsYXRlKSB7XG5pZih0XzIpIHsgY2IodF8yKTsgcmV0dXJuOyB9XG5wYXJlbnRUZW1wbGF0ZSA9IF9wYXJlbnRUZW1wbGF0ZVxuZm9yKHZhciB0XzEgaW4gcGFyZW50VGVtcGxhdGUuYmxvY2tzKSB7XG5jb250ZXh0LmFkZEJsb2NrKHRfMSwgcGFyZW50VGVtcGxhdGUuYmxvY2tzW3RfMV0pO1xufVxub3V0cHV0ICs9IFwiXFxuXCI7XG5lbnYuZ2V0VGVtcGxhdGUoXCJpbmNsdWRlL21hY3Jvcy5odG1sXCIsIGZhbHNlLCBcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvZ3JpZC10aWxlLWNsb3VkZmlsZS5odG1sXCIsIGZhbHNlLCBmdW5jdGlvbih0XzQsdF8zKSB7XG5pZih0XzQpIHsgY2IodF80KTsgcmV0dXJuOyB9XG50XzMuZ2V0RXhwb3J0ZWQoZnVuY3Rpb24odF81LHRfMykge1xuaWYodF81KSB7IGNiKHRfNSk7IHJldHVybjsgfVxuY29udGV4dC5zZXRWYXJpYWJsZShcIm1hY3Jvc1wiLCB0XzMpO1xub3V0cHV0ICs9IFwiXFxuXFxuXCI7XG4ocGFyZW50VGVtcGxhdGUgPyBmdW5jdGlvbihlLCBjLCBmLCByLCBjYikgeyBjYihcIlwiKTsgfSA6IGNvbnRleHQuZ2V0QmxvY2soXCJkZXNjcmlwdGlvbl9hcmVhXCIpKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzcsdF82KSB7XG5pZih0XzcpIHsgY2IodF83KTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF82O1xub3V0cHV0ICs9IFwiXFxuXFxuXCI7XG4ocGFyZW50VGVtcGxhdGUgPyBmdW5jdGlvbihlLCBjLCBmLCByLCBjYikgeyBjYihcIlwiKTsgfSA6IGNvbnRleHQuZ2V0QmxvY2soXCJpY29uX2FyZWFcIikpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfOSx0XzgpIHtcbmlmKHRfOSkgeyBjYih0XzkpOyByZXR1cm47IH1cbm91dHB1dCArPSB0Xzg7XG5vdXRwdXQgKz0gXCJcXG5cIjtcbmlmKHBhcmVudFRlbXBsYXRlKSB7XG5wYXJlbnRUZW1wbGF0ZS5yb290UmVuZGVyRnVuYyhlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYik7XG59IGVsc2Uge1xuY2IobnVsbCwgb3V0cHV0KTtcbn1cbn0pfSl9KX0pfSk7XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl9kZXNjcmlwdGlvbl9hcmVhKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgPGgxPlxcbiAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEZpbHRlcihcInNhZmVcIikuY2FsbChjb250ZXh0LCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInRpdGxlXCIpKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgPC9oMT5cXG4gICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uIHRpbGUtZGVzY3JpcHRpb25cXFwiPlxcbiAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImV4Y2VycHRcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RmlsdGVyKFwic2FmZVwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZXhjZXJwdFwiKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICA8L2Rpdj5cXG5cIjtcbmNiKG51bGwsIG91dHB1dCk7XG47XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl9pY29uX2FyZWEoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcbiAgICA8aSBjbGFzcz1cXFwiZmEgZmEtY2xvdWRcXFwiPjwvaT5cXG5cIjtcbmNiKG51bGwsIG91dHB1dCk7XG47XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxucmV0dXJuIHtcbmJfZGVzY3JpcHRpb25fYXJlYTogYl9kZXNjcmlwdGlvbl9hcmVhLFxuYl9pY29uX2FyZWE6IGJfaWNvbl9hcmVhLFxucm9vdDogcm9vdFxufTtcblxufSkoKTtcbn0pKCk7XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHNoaW0obnVuanVja3MsIGVudiwgbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZFtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvZ3JpZC10aWxlLWNsb3VkZmlsZS5odG1sXCJdICwgZGVwZW5kZW5jaWVzKVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy9ncmlkLXRpbGUtY2xvdWRmaWxlLmh0bWxcbi8vIG1vZHVsZSBpZCA9IDM0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBudW5qdWNrcyA9IHJlcXVpcmUoXCJudW5qdWNrcy9icm93c2VyL251bmp1Y2tzLXNsaW1cIik7XG52YXIgZW52O1xuaWYgKCFudW5qdWNrcy5jdXJyZW50RW52KXtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudiA9IG5ldyBudW5qdWNrcy5FbnZpcm9ubWVudChbXSwgdW5kZWZpbmVkKTtcbn0gZWxzZSB7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnY7XG59XG52YXIgY29uZmlndXJlID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uLy4uL251bmp1Y2tzLmNvbmZpZy5qc1wiKShlbnYpO1xudmFyIGRlcGVuZGVuY2llcyA9IG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgfHwgKG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgPSB7fSk7XG5kZXBlbmRlbmNpZXNbXCJ0aWxlcy9ncmlkLXRpbGUtZGVmYXVsdFwiXSA9IHJlcXVpcmUoIFwidGlsZXMvZ3JpZC10aWxlLWRlZmF1bHRcIiApO1xuXG5cblxuXG52YXIgc2hpbSA9IHJlcXVpcmUoXCIvaG9tZS9zYXNjaGEvcHIvY29zaW5udXMtY29yZS9ub2RlX21vZHVsZXMvbnVuanVja3MtbG9hZGVyL3J1bnRpbWUtc2hpbVwiKTtcblxuXG4oZnVuY3Rpb24oKSB7KG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgPSBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkIHx8IHt9KVtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvZ3JpZC10aWxlLW9yZ2FuaXphdGlvbnMuaHRtbFwiXSA9IChmdW5jdGlvbigpIHtcbmZ1bmN0aW9uIHJvb3QoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbnZhciBwYXJlbnRUZW1wbGF0ZSA9IG51bGw7XG5lbnYuZ2V0VGVtcGxhdGUoXCJ0aWxlcy9ncmlkLXRpbGUtZGVmYXVsdFwiLCB0cnVlLCBcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvZ3JpZC10aWxlLW9yZ2FuaXphdGlvbnMuaHRtbFwiLCBmYWxzZSwgZnVuY3Rpb24odF8yLF9wYXJlbnRUZW1wbGF0ZSkge1xuaWYodF8yKSB7IGNiKHRfMik7IHJldHVybjsgfVxucGFyZW50VGVtcGxhdGUgPSBfcGFyZW50VGVtcGxhdGVcbmZvcih2YXIgdF8xIGluIHBhcmVudFRlbXBsYXRlLmJsb2Nrcykge1xuY29udGV4dC5hZGRCbG9jayh0XzEsIHBhcmVudFRlbXBsYXRlLmJsb2Nrc1t0XzFdKTtcbn1cbm91dHB1dCArPSBcIlxcblxcblwiO1xuKHBhcmVudFRlbXBsYXRlID8gZnVuY3Rpb24oZSwgYywgZiwgciwgY2IpIHsgY2IoXCJcIik7IH0gOiBjb250ZXh0LmdldEJsb2NrKFwidGl0bGVcIikpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfNCx0XzMpIHtcbmlmKHRfNCkgeyBjYih0XzQpOyByZXR1cm47IH1cbm91dHB1dCArPSB0XzM7XG5pZihwYXJlbnRUZW1wbGF0ZSkge1xucGFyZW50VGVtcGxhdGUucm9vdFJlbmRlckZ1bmMoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpO1xufSBlbHNlIHtcbmNiKG51bGwsIG91dHB1dCk7XG59XG59KX0pO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfdGl0bGUoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcbiAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiaXNfb3Blbl9mb3JfY29vcGVyYXRpb25cIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICA8aDEgY2xhc3M9XFxcIndpdGgtaWNvblxcXCI+XFxuICAgICAgICA8c3Bhbj5cIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0aXRsZVwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCI8L3NwYW4+XFxuICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtcHV6emxlLXBpZWNlIGFwcGx5LWNvbG9yLW9yZ2FuaXphdGlvbnNcXFwiPjwvaT5cXG4gICAgPC9oMT5cXG4gICAgXCI7XG47XG59XG5lbHNlIHtcbm91dHB1dCArPSBcIlxcbiAgICA8aDE+XFxuICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0aXRsZVwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgPC9oMT5cXG4gICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cIjtcbmNiKG51bGwsIG91dHB1dCk7XG47XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxucmV0dXJuIHtcbmJfdGl0bGU6IGJfdGl0bGUsXG5yb290OiByb290XG59O1xuXG59KSgpO1xufSkoKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gc2hpbShudW5qdWNrcywgZW52LCBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkW1wiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy9ncmlkLXRpbGUtb3JnYW5pemF0aW9ucy5odG1sXCJdICwgZGVwZW5kZW5jaWVzKVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy9ncmlkLXRpbGUtb3JnYW5pemF0aW9ucy5odG1sXG4vLyBtb2R1bGUgaWQgPSAzNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgbnVuanVja3MgPSByZXF1aXJlKFwibnVuanVja3MvYnJvd3Nlci9udW5qdWNrcy1zbGltXCIpO1xudmFyIGVudjtcbmlmICghbnVuanVja3MuY3VycmVudEVudil7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnYgPSBuZXcgbnVuanVja3MuRW52aXJvbm1lbnQoW10sIHVuZGVmaW5lZCk7XG59IGVsc2Uge1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52O1xufVxudmFyIGNvbmZpZ3VyZSA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi8uLi9udW5qdWNrcy5jb25maWcuanNcIikoZW52KTtcbnZhciBkZXBlbmRlbmNpZXMgPSBudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzIHx8IChudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzID0ge30pO1xuZGVwZW5kZW5jaWVzW1wiaW5jbHVkZS9tYWNyb3MuaHRtbFwiXSA9IHJlcXVpcmUoIFwiaW5jbHVkZS9tYWNyb3MuaHRtbFwiICk7XG5cblxuXG5cbnZhciBzaGltID0gcmVxdWlyZShcIi9ob21lL3Nhc2NoYS9wci9jb3Npbm51cy1jb3JlL25vZGVfbW9kdWxlcy9udW5qdWNrcy1sb2FkZXIvcnVudGltZS1zaGltXCIpO1xuXG5cbihmdW5jdGlvbigpIHsobnVuanVja3MubnVuanVja3NQcmVjb21waWxlZCA9IG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgfHwge30pW1wiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy90aWxlLWxpc3QuaHRtbFwiXSA9IChmdW5jdGlvbigpIHtcbmZ1bmN0aW9uIHJvb3QoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbnZhciBwYXJlbnRUZW1wbGF0ZSA9IG51bGw7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJwYXNzVGhyb3VnaFwiKVtcInJ1blwiXShjb250ZXh0LHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiaTE4blwiKSksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cIjtcbmVudi5nZXRUZW1wbGF0ZShcImluY2x1ZGUvbWFjcm9zLmh0bWxcIiwgZmFsc2UsIFwiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy90aWxlLWxpc3QuaHRtbFwiLCBmYWxzZSwgZnVuY3Rpb24odF8yLHRfMSkge1xuaWYodF8yKSB7IGNiKHRfMik7IHJldHVybjsgfVxudF8xLmdldEV4cG9ydGVkKGZ1bmN0aW9uKHRfMyx0XzEpIHtcbmlmKHRfMykgeyBjYih0XzMpOyByZXR1cm47IH1cbmNvbnRleHQuc2V0VmFyaWFibGUoXCJtYWNyb3NcIiwgdF8xKTtcbm91dHB1dCArPSBcIlxcblxcbjxkaXYgaWQ9XFxcInRpbGUtbGlzdFxcXCIgY2xhc3M9XFxcInRpbGUtbGlzdCBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZnVsbHNjcmVlblwiKSkge1xub3V0cHV0ICs9IFwiIHRpbGUtbGlzdC1mdWxsc2NyZWVuIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzcGxpdHNjcmVlblwiKSkge1xub3V0cHV0ICs9IFwiIHRpbGUtbGlzdC1zcGxpdHNjcmVlbiBcIjtcbjtcbn1cbmVsc2Uge1xub3V0cHV0ICs9IFwiIHRpbGUtbGlzdC10aWxlLWZ1bGxzY3JlZW4gXCI7XG47XG59XG5vdXRwdXQgKz0gXCIgbW9iaWxlLXZpZXcgbW9iaWxlLXZpZXctbGlzdC12aXNpYmxlLWZsZXggbW9iaWxlLXZpZXctc2VhcmNoLXZpc2libGUtZmxleFxcXCI+XFxuICAgIDxkaXYgY2xhc3M9XFxcIm92ZXJsYXlcXFwiPjwvZGl2PlxcbiAgICBcIjtcbmlmKCFydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNwbGl0c2NyZWVuXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcInRpbGUtbGlzdC1oZWFkZXJcXFwiPlxcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJwdWxsLXJpZ2h0XFxcIj5cXG5cXHQgICAgICAgICAgICBcIjtcbmZyYW1lID0gZnJhbWUucHVzaCgpO1xudmFyIHRfNiA9IFtcInByb2plY3RzXCIsXCJncm91cHNcIixcImNvbmZlcmVuY2VzXCIsXCJpZGVhc1wiLFwib3JnYW5pemF0aW9uc1wiXTtcbmlmKHRfNikge3ZhciB0XzUgPSB0XzYubGVuZ3RoO1xuZm9yKHZhciB0XzQ9MDsgdF80IDwgdF82Lmxlbmd0aDsgdF80KyspIHtcbnZhciB0XzcgPSB0XzZbdF80XTtcbmZyYW1lLnNldChcInR5cGVcIiwgdF83KTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXhcIiwgdF80ICsgMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4MFwiLCB0XzQpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleFwiLCB0XzUgLSB0XzQpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleDBcIiwgdF81IC0gdF80IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmZpcnN0XCIsIHRfNCA9PT0gMCk7XG5mcmFtZS5zZXQoXCJsb29wLmxhc3RcIiwgdF80ID09PSB0XzUgLSAxKTtcbmZyYW1lLnNldChcImxvb3AubGVuZ3RoXCIsIHRfNSk7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmluT3BlcmF0b3IodF83LHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvbnRyb2xWaWV3XCIpKSxcImF2YWlsYWJsZUZpbHRlckxpc3RcIikpKSB7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgICAgICAgICAgICAgICAgIFwiO1xuaWYoIXJ1bnRpbWUuaW5PcGVyYXRvcih0XzcsW1wicHJvamVjdHNcIixcImdyb3Vwc1wiXSkgfHwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJDT1NJTk5VU19TSE9XX1BST0pFQ1RfQU5EX0dST1VQX0NSRUFURV9CVVRUT05TXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiQ09TSU5OVVNfVVNFUl9DQU5fQ1JFQVRFX0NPTkZFUkVOQ0VcIikgfHwgdF83ICE9IFwiY29uZmVyZW5jZXNcIikge1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0ICAgICAgICAgICAgPGEgaHJlZj1cXFwiXCI7XG5pZighcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb3Npbm51c19hY3RpdmVfdXNlclwiKSkge1xub3V0cHV0ICs9IFwiL3NpZ251cC8/YWNjX3JlcV9tc2c9MSZuZXh0PVwiO1xuO1xufVxub3V0cHV0ICs9IFwiL1wiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSh0XzcsIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiL2FkZC9cXFwiIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbiBidXR0b24tY29sb3ItXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHRfNywgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCItaW52ZXJ0ZWRcXFwiPlxcblxcdFxcdFxcdFxcdFxcdFxcdCAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbi1pbm5lclxcXCI+XFxuXFx0XFx0XFx0XFx0XFx0XFx0ICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSgobGluZW5vID0gMTQsIGNvbG5vID0gMzksIHJ1bnRpbWUuY2FsbFdyYXAocnVudGltZS5tZW1iZXJMb29rdXAoKHRfMSksXCJ0eXBlTGFiZWxcIiksIFwibWFjcm9zW1xcXCJ0eXBlTGFiZWxcXFwiXVwiLCBjb250ZXh0LCBbdF83LHJ1bnRpbWUubWFrZUtleXdvcmRBcmdzKHtcInVzZVN0eWxlc1wiOiAwLFwiY3JlYXRlXCI6IHRydWUsXCJDT1NJTk5VU19UUkFOU1wiOiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIkNPU0lOTlVTX1RSQU5TXCIpfSldKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XFx0ICAgICAgICAgICAgPC9zcGFuPlxcblxcdFxcdFxcdFxcdFxcdFxcdCAgICAgICAgPC9hPlxcblxcdFxcdFxcdFxcdFxcdCAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHQgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgICAgICAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgICAgICAgICBcIjtcbjtcbn1cbn1cbmZyYW1lID0gZnJhbWUucG9wKCk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgICAgXFxuXFx0ICAgICAgICA8aDEgY2xhc3M9XFxcIm5vLXNlbGVjdFxcXCI+XFxuICAgICAgICAgICAgICAgIFwiO1xuZnJhbWUgPSBmcmFtZS5wdXNoKCk7XG52YXIgdF8xMCA9IHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvbnRyb2xWaWV3XCIpKSxcImF2YWlsYWJsZUZpbHRlckxpc3RcIik7XG5pZih0XzEwKSB7dmFyIHRfOSA9IHRfMTAubGVuZ3RoO1xuZm9yKHZhciB0Xzg9MDsgdF84IDwgdF8xMC5sZW5ndGg7IHRfOCsrKSB7XG52YXIgdF8xMSA9IHRfMTBbdF84XTtcbmZyYW1lLnNldChcImZpbHRlcl90eXBlXCIsIHRfMTEpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleFwiLCB0XzggKyAxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXgwXCIsIHRfOCk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4XCIsIHRfOSAtIHRfOCk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4MFwiLCB0XzkgLSB0XzggLSAxKTtcbmZyYW1lLnNldChcImxvb3AuZmlyc3RcIiwgdF84ID09PSAwKTtcbmZyYW1lLnNldChcImxvb3AubGFzdFwiLCB0XzggPT09IHRfOSAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5sZW5ndGhcIiwgdF85KTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKChsaW5lbm8gPSAyNSwgY29sbm8gPSAzNywgcnVudGltZS5jYWxsV3JhcChydW50aW1lLm1lbWJlckxvb2t1cCgodF8xKSxcInR5cGVMYWJlbFwiKSwgXCJtYWNyb3NbXFxcInR5cGVMYWJlbFxcXCJdXCIsIGNvbnRleHQsIFt0XzExLHJ1bnRpbWUubWFrZUtleXdvcmRBcmdzKHtcIm1pbmVcIjogcnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29udHJvbFZpZXdcIikpLFwic2hvd01pbmVcIiksXCJhbGxcIjogdHJ1ZSxcIkNPU0lOTlVTX1RSQU5TXCI6IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiQ09TSU5OVVNfVFJBTlNcIil9KV0pKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG47XG59XG59XG5mcmFtZSA9IGZyYW1lLnBvcCgpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPC9oMT5cXG4gICAgICAgIDwvZGl2PlxcbiAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjb250cm9scyBcIjtcbmlmKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb250cm9sVmlld1wiKSksXCJzdGF0ZVwiKSksXCJmaWx0ZXJQYW5lbFZpc2libGVcIikpIHtcbm91dHB1dCArPSBcIm9wZW5cIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcXCI+PC9kaXY+XFxuXFxuICAgIFwiO1xuaWYoIXJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvbnRyb2xWaWV3XCIpKSxcIm1hdGNoaW5nXCIpIHx8IHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvbnRyb2xWaWV3XCIpKSxcIm1hdGNoaW5nXCIpICE9IFwidHJ1ZVwiKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgPGRpdiBjbGFzcz1cXFwidGlsZS1jb250ZW50cyBtb2JpbGUtdmlldyBtb2JpbGUtdmlldy1saXN0LXZpc2libGUtYmxvY2tcXFwiPlxcbiAgICAgICAgPGRpdiBpZD1cXFwidGlsZS1jb250YWluZXItcHJvdG9cXFwiIGNsYXNzPVxcXCJncmlkXFxcIiBzdHlsZT1cXFwiZGlzcGxheTogbm9uZTtcXFwiPlxcbiAgICAgICAgICAgIDwhLS0gd2lkdGggb2YgLmdyaWQtc2l6ZXIgdXNlZCBmb3IgY29sdW1uV2lkdGggLS0+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZ3JpZC1zaXplclxcXCI+PC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XFxcInBhZ2luYXRpb24tY29udHJvbHNcXFwiPjwvZGl2PlxcbiAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbjwvZGl2PlwiO1xuaWYocGFyZW50VGVtcGxhdGUpIHtcbnBhcmVudFRlbXBsYXRlLnJvb3RSZW5kZXJGdW5jKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKTtcbn0gZWxzZSB7XG5jYihudWxsLCBvdXRwdXQpO1xufVxufSl9KTtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5yZXR1cm4ge1xucm9vdDogcm9vdFxufTtcblxufSkoKTtcbn0pKCk7XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHNoaW0obnVuanVja3MsIGVudiwgbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZFtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1saXN0Lmh0bWxcIl0gLCBkZXBlbmRlbmNpZXMpXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtbGlzdC5odG1sXG4vLyBtb2R1bGUgaWQgPSAzNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbnZhciBCYXNlVmlldyA9IHJlcXVpcmUoJ3ZpZXdzL2Jhc2UvdmlldycpO1xudmFyIFJlc3VsdCA9IHJlcXVpcmUoJ21vZGVscy9yZXN1bHQnKTtcbnZhciB1dGlsID0gcmVxdWlyZSgnbGliL3V0aWwnKTtcblxudmFyIHRlbXBsYXRlcyA9IHtcbiAgICAncHJvamVjdHMnOiByZXF1aXJlKCd0aWxlcy90aWxlLWRldGFpbC1wcm9qZWN0cycpLFxuICAgICdncm91cHMnOiByZXF1aXJlKCd0aWxlcy90aWxlLWRldGFpbC1ncm91cHMnKSxcbiAgICAnY29uZmVyZW5jZXMnOiByZXF1aXJlKCd0aWxlcy90aWxlLWRldGFpbC1jb25mZXJlbmNlcycpLFxuICAgICdwZW9wbGUnOiByZXF1aXJlKCd0aWxlcy90aWxlLWRldGFpbC1wZW9wbGUnKSxcbiAgICAnZXZlbnRzJzogcmVxdWlyZSgndGlsZXMvdGlsZS1kZXRhaWwtZXZlbnRzJyksXG4gICAgJ2lkZWFzJzogcmVxdWlyZSgndGlsZXMvdGlsZS1kZXRhaWwtaWRlYXMnKSxcbiAgICAnb3JnYW5pemF0aW9ucyc6IHJlcXVpcmUoJ3RpbGVzL3RpbGUtZGV0YWlsLW9yZ2FuaXphdGlvbnMnKSxcbiAgICAnZXJyb3ItNDAzJzogcmVxdWlyZSgndGlsZXMvdGlsZS1kZXRhaWwtZXJyb3ItNDAzJyksXG4gICAgJ2Vycm9yJzogcmVxdWlyZSgndGlsZXMvdGlsZS1kZXRhaWwtZXJyb3InKSxcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gQmFzZVZpZXcuZXh0ZW5kKHtcbiAgICBcbiAgICAvLyByZWZlcmVuY2UgYmFjayB0byB0aGUgbWFpbiBBcHBcbiAgICBBcHA6IG51bGwsXG4gICAgXG4gICAgbW9kZWw6IFJlc3VsdCxcblxuICAgIHRlbXBsYXRlOiBudWxsLFxuICAgIFxuICAgIC8vIFRoZSBET00gZXZlbnRzIHNwZWNpZmljIHRvIGFuIGl0ZW0uXG4gICAgZXZlbnRzOiB7XG4gICAgICAgICdjbGljayAucmVzdWx0LWxpbmsnOiAnb25SZXN1bHRMaW5rQ2xpY2tlZCcsXG4gICAgICAgICdjbGljayAudGlsZS1jbG9zZS1idXR0b24nOiAnb25EZXNlbGVjdENsaWNrZWQnLFxuICAgICAgICAnY2xpY2sgLnRvcGljLWZpbHRlci1saW5rJzogJ29uVG9waWNMaW5rQ2xpY2tlZCcsXG4gICAgICAgICdjbGljayAudGV4dC10b3BpYy1maWx0ZXItbGluayc6ICdvblRleHRUb3BpY0xpbmtDbGlja2VkJyxcbiAgICAgICAgJ2NsaWNrIC5tYW5hZ2VkLXRhZy1maWx0ZXItbGluayc6ICdvbk1hbmFnZWRUYWdMaW5rQ2xpY2tlZCcsXG4gICAgICAgICdjbGljayAuYnV0dG9uLWxpa2UnOiAnb25MaWtlQnV0dG9uQ2xpY2tlZCcsXG4gICAgICAgICdjbGljayAuYnV0dG9uLWZvbGxvdyc6ICdvbkZvbGxvd0J1dHRvbkNsaWNrZWQnLFxuICAgICAgICAnY2xpY2sgLmJ1dHRvbi1zdGFyJzogJ29uU3RhckJ1dHRvbkNsaWNrZWQnLFxuICAgICAgICAnY2xpY2sgLmJ1dHRvbi1yZXBvcnQtb2JqZWN0JzogJ29uUmVwb3J0QnV0dG9uQ2xpY2tlZCcsXG4gICAgfSxcbiAgICBcbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbiAob3B0aW9ucywgYXBwKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgQmFzZVZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbChzZWxmLCBvcHRpb25zKTtcbiAgICAgICAgc2VsZi5BcHAgPSBhcHA7XG4gICAgICAgIFxuICAgICAgICBCYWNrYm9uZS5tZWRpYXRvci5zdWJzY3JpYmUoJ3Jlc3VsdDpkZXRhaWwtb3BlbmVkJywgc2VsZi5vbkRldGFpbE9wZW5lZCwgc2VsZik7XG4gICAgICAgIEJhY2tib25lLm1lZGlhdG9yLnN1YnNjcmliZSgncmVzdWx0OmRldGFpbC1jbG9zZWQnLCBzZWxmLm9uRGV0YWlsQ2xvc2VkLCBzZWxmKTtcbiAgICB9LFxuXG4gICAgLyoqIEV4dGVuZCB0aGUgdGVtcGxhdGUgZGF0YSBieSB0aGUgY29udHJvbFZpZXcncyBvcHRpb25zIGFuZCBzdGF0ZSAqL1xuICAgIGdldFRlbXBsYXRlRGF0YTogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBkYXRhID0gQmFzZVZpZXcucHJvdG90eXBlLmdldFRlbXBsYXRlRGF0YS5jYWxsKHNlbGYpO1xuICAgICAgICBkYXRhWydjb250cm9sVmlldyddID0gXy5leHRlbmQoXG4gICAgICAgICAgICB7fSxcbiAgICAgICAgICAgIHNlbGYuQXBwLmNvbnRyb2xWaWV3Lm9wdGlvbnMsXG4gICAgICAgICAgICBzZWxmLkFwcC5jb250cm9sVmlldy5zdGF0ZVxuICAgICAgICApO1xuICAgICAgICBkYXRhWydzdGFyTGFiZWwnXSA9IENPU0lOTlVTX1NUQVJSRURfU1RBUl9MQUJFTFxuICAgICAgICBkYXRhWydzdGFycmluZ0xhYmVsJ10gPSBDT1NJTk5VU19TVEFSUkVEX1NUQVJSSU5HX0xBQkVMXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH0sXG5cbiAgICAvKiogQWRqdXN0IHRoaXMgdmlldydzIHRlbXBsYXRlIGJhc2VkIG9uIHRoZSByZXN1bHQgdHlwZSBpdCBkaXNwbGF5cyAoYW5kIG90aGVyIHN0YXRlcykgKi9cbiAgICBmaXRUZW1wbGF0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIGlmIChzZWxmLm1vZGVsLmdldCgndHlwZScpID09ICdwZW9wbGUnIHx8IHNlbGYubW9kZWwuZ2V0KCd0eXBlJykgPT0gJ29yZ2FuaXphdGlvbnMnKSB7XG4gICAgICAgICAgICBzZWxmLnN0YXRlLmlzU21hbGwgPSB0cnVlO1xuICAgICAgICB9IFxuICAgICAgICBzZWxmLnN0YXRlLmlzWW91ID0gc2VsZi5tb2RlbC5nZXQoJ3R5cGUnKSA9PSAncGVvcGxlJyAmJiBjb3Npbm51c19hY3RpdmVfdXNlciAmJiBzZWxmLm1vZGVsLmdldCgnc2x1ZycpID09IGNvc2lubnVzX2FjdGl2ZV91c2VyLnVzZXJuYW1lO1xuICAgIH0sXG4gICAgXG4gICAgLy8gYSBuZXcgcmVzdWx0IGlzIGJlaW5nIHNlbGVjdGVkXG4gICAgb25EZXRhaWxPcGVuZWQ6IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB0aGlzLm1vZGVsID0gcmVzdWx0O1xuICAgICAgICBpZiAocmVzdWx0LmdldCgndHlwZScpIGluIHRlbXBsYXRlcykge1xuICAgICAgICAgICAgdGhpcy50ZW1wbGF0ZSA9IHRlbXBsYXRlc1tyZXN1bHQuZ2V0KCd0eXBlJyldO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy50ZW1wbGF0ZSA9IHRlbXBsYXRlc1snZXJyb3InXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubW9kZWwub24oe1xuICAgICAgICBcdCdjaGFuZ2U6bGlrZWQnOiBzZWxmLnRoaXNDb250ZXh0KHNlbGYucmVuZGVyKSxcbiAgICAgICAgICAgICdjaGFuZ2U6Zm9sbG93ZWQnOiBzZWxmLnRoaXNDb250ZXh0KHNlbGYucmVuZGVyKSxcbiAgICAgICAgICAgICdjaGFuZ2U6c3RhcnJlZCc6IHNlbGYudGhpc0NvbnRleHQoc2VsZi5yZW5kZXIpLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5maXRUZW1wbGF0ZSgpO1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICB0aGlzLkFwcC5jb250cm9sVmlldy50cmlnZ2VyTW9iaWxlRGV0YWlsVmlldygpO1xuICAgICAgICBCYWNrYm9uZS5tZWRpYXRvci5wdWJsaXNoKCd0aWxlLWRldGFpbDpvcGVuZWQnKTtcbiAgICB9LFxuICAgIFxuICAgIC8vIGEgcmVzdWx0IGlzIGJlaW5nIHVuc2VsZWN0ZWRcbiAgICBvbkRldGFpbENsb3NlZDogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLm1vZGVsID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgdGhpcy5BcHAuY29udHJvbFZpZXcudW50cmlnZ2VyTW9iaWxlRGV0YWlsVmlldygpO1xuICAgICAgICB0aGlzLkFwcC5jb250cm9sVmlldy5hZGRDdXJyZW50SGlzdG9yeVN0YXRlKCk7XG4gICAgICAgIEJhY2tib25lLm1lZGlhdG9yLnB1Ymxpc2goJ3RpbGUtZGV0YWlsOmNsb3NlZCcpO1xuICAgIH0sXG4gICAgXG4gICAgYWZ0ZXJSZW5kZXI6IGZ1bmN0aW9uICgpIHtcbiAgICBcdC8vIHJlbmRlciBtb21lbnQgZGF0ZXNcbiAgICBcdCQuY29zaW5udXMucmVuZGVyTW9tZW50RGF0YURhdGUoKTtcbiAgICAgICAgJC5jb3Npbm51cy5yZW5kZXJUaW1lem9uZUF3YXJlRGF0ZXMoKTtcbiAgICB9LFxuICAgIFxuICAgIC8qKiBDYWxsZWQgd2hlbiBhIHRvcGljIGxpbmsgaXMgY2xpY2tlZCB0byBmaWx0ZXIgZm9yIHRoYXQgdG9waWMgb25seSAqL1xuICAgIG9uVG9waWNMaW5rQ2xpY2tlZDogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgLy8gbWFrZSBzdXJlIHRvIGNsb3NlXG4gICAgICAgIHRoaXMuQXBwLmNvbnRyb2xWaWV3LmRpc3BsYXlEZXRhaWxSZXN1bHQobnVsbCk7XG4gICAgICAgIHRoaXMuQXBwLmNvbnRyb2xWaWV3Lm9uVG9waWNMaW5rQ2xpY2tlZChldmVudCk7XG4gICAgfSxcblxuICAgIC8qKiBDYWxsZWQgd2hlbiBhIHRleHQgdG9waWMgbGluayBpcyBjbGlja2VkIHRvIGZpbHRlciBmb3IgdGhhdCB0b3BpYyBvbmx5ICovXG4gICAgb25UZXh0VG9waWNMaW5rQ2xpY2tlZDogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgLy8gbWFrZSBzdXJlIHRvIGNsb3NlXG4gICAgICAgIHRoaXMuQXBwLmNvbnRyb2xWaWV3LmRpc3BsYXlEZXRhaWxSZXN1bHQobnVsbCk7XG4gICAgICAgIHRoaXMuQXBwLmNvbnRyb2xWaWV3Lm9uVGV4dFRvcGljTGlua0NsaWNrZWQoZXZlbnQpO1xuICAgIH0sXG4gICAgXG4gICAgLyoqIENhbGxlZCB3aGVuIGEgbWFuYWdlZCB0YWcgbGluayBpcyBjbGlja2VkIHRvIGZpbHRlciBmb3IgdGhhdCB0b3BpYyBvbmx5ICovXG4gICAgb25NYW5hZ2VkVGFnTGlua0NsaWNrZWQ6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIC8vIG1ha2Ugc3VyZSB0byBjbG9zZVxuICAgICAgICB0aGlzLkFwcC5jb250cm9sVmlldy5kaXNwbGF5RGV0YWlsUmVzdWx0KG51bGwpO1xuICAgICAgICB0aGlzLkFwcC5jb250cm9sVmlldy5vbk1hbmFnZWRUYWdMaW5rQ2xpY2tlZChldmVudCk7XG4gICAgfSxcbiAgICBcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiBhIHRpbGUgZGV0YWlsIGNsb3NlIGJ1dHRvbiBpcyBjbGlja2VkLlxuICAgICAqIFdlIG9ubHkgY2hhbmdlIHRoZSBSZXN1bHQgbW9kZWwncyAuc2VsZWN0ZWQgcHJvcGVydHkgYW5kXG4gICAgICogZG9uJ3QgZG8gYW55IHJlbmRlcmluZyBoZXJlICh0aGlzIGlzIG1lZGlhdGVkIHRocm91Z2ggc2lnbmFscyBmcm9tIHRoZSBjb250cm9sIHZpZXcpLlxuICAgICAqL1xuICAgIG9uRGVzZWxlY3RDbGlja2VkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHV0aWwubG9nKCd0aWxlLXZpZXcuanM6IGdvdCBhIGRlc2VsZWN0IGNsaWNrIGV2ZW50IScpO1xuICAgICAgICAvLyB0aGlzIHZvbHVudGFyeSBhY3Rpb24gYWRkcyBhIGhpc3Rvcnkgc3RhdGUhXG4gICAgICAgIHRoaXMuQXBwLmNvbnRyb2xWaWV3LmRpc3BsYXlEZXRhaWxSZXN1bHQobnVsbCwgdHJ1ZSk7XG4gICAgICAgIGlmIChBcHAuZGlzcGxheU9wdGlvbnMucm91dGVOYXZpZ2F0aW9uKSB7XG4gICAgICAgICAgICB1dGlsLmxvZygndGlsZS1kZXRhaWwtdmlldy5qczogKysrKysrKysrKysrKysrKysgc2luY2Ugd2UgYXJlIGZ1bGxzY3JlZW4sIHB1Ymxpc2hpbmcgZGV0YWlsLWNsb3NlIHJvdXRlciBVUkwgdXBkYXRlIScpXG4gICAgICAgICAgICBBcHAuY29udHJvbFZpZXcuYWRkQ3VycmVudEhpc3RvcnlTdGF0ZSgpO1xuICAgICAgICB9IFxuICAgIH0sXG4gICAgXG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiBhIGxpbmsgaXMgY2xpY2tlZCB0aGF0IGxlYWRzIHRvIG9wZW5pbmcgYSBkZXRhaWwgdmlldy5cbiAgICAgKiBXZSBvbmx5IGNoYW5nZSB0aGUgUmVzdWx0IG1vZGVsJ3MgLnNlbGVjdGVkIHByb3BlcnR5IGFuZFxuICAgICAqIGRvbid0IGRvIGFueSByZW5kZXJpbmcgaGVyZS5cbiAgICAgKi9cbiAgICBvblJlc3VsdExpbmtDbGlja2VkOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5BcHAuY29udHJvbFZpZXcub25SZXN1bHRMaW5rQ2xpY2tlZChldmVudCk7XG4gICAgfSxcbiAgICBcbiAgICBvbkxpa2VCdXR0b25DbGlja2VkOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBcdHRoaXMuQXBwLmNvbnRyb2xWaWV3LnRyaWdnZXJSZXN1bHRMaWtlT3JVbmxpa2UodGhpcy5tb2RlbCk7XG4gICAgfSxcbiAgICBcbiAgICBvbkZvbGxvd0J1dHRvbkNsaWNrZWQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIFx0dGhpcy5BcHAuY29udHJvbFZpZXcudHJpZ2dlclJlc3VsdEZvbGxvd09yVW5mb2xsb3codGhpcy5tb2RlbCk7XG4gICAgfSxcbiAgICBvblN0YXJCdXR0b25DbGlja2VkOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBcdHRoaXMuQXBwLmNvbnRyb2xWaWV3LnRyaWdnZXJSZXN1bHRTdGFyT3JVbnN0YXIodGhpcy5tb2RlbCk7XG4gICAgfSxcbiAgICBcbiAgICAvKiogcmVwb3J0IHRoZSBjdXJyZW50bHkgb3BlbiBkZXRhaWwgdmlldyBvYmplY3QgKi9cbiAgICBvblJlcG9ydEJ1dHRvbkNsaWNrZWQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIFx0JC5jb3Npbm51cy5GZWVkYmFjay5jb3Npbm51c19yZXBvcnRfb2JqZWN0KHRoaXMubW9kZWwuZ2V0KFwicmVwb3J0X21vZGVsXCIpLCB0aGlzLm1vZGVsLmdldChcInJlcG9ydF9pZFwiKSwgdGhpcy5tb2RlbC5nZXQoXCJ0aXRsZVwiKSk7XG4gICAgfVxuICAgIFxufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Nvc2lubnVzL2NsaWVudC92aWV3cy90aWxlLWRldGFpbC12aWV3LmpzXG4vLyBtb2R1bGUgaWQgPSAzN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgbnVuanVja3MgPSByZXF1aXJlKFwibnVuanVja3MvYnJvd3Nlci9udW5qdWNrcy1zbGltXCIpO1xudmFyIGVudjtcbmlmICghbnVuanVja3MuY3VycmVudEVudil7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnYgPSBuZXcgbnVuanVja3MuRW52aXJvbm1lbnQoW10sIHVuZGVmaW5lZCk7XG59IGVsc2Uge1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52O1xufVxudmFyIGNvbmZpZ3VyZSA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi8uLi9udW5qdWNrcy5jb25maWcuanNcIikoZW52KTtcbnZhciBkZXBlbmRlbmNpZXMgPSBudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzIHx8IChudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzID0ge30pO1xuZGVwZW5kZW5jaWVzW1widGlsZXMvdGlsZS1kZXRhaWwtYmFzZS1ncm91cFwiXSA9IHJlcXVpcmUoIFwidGlsZXMvdGlsZS1kZXRhaWwtYmFzZS1ncm91cFwiICk7XG5kZXBlbmRlbmNpZXNbXCJpbmNsdWRlL21hY3Jvcy5odG1sXCJdID0gcmVxdWlyZSggXCJpbmNsdWRlL21hY3Jvcy5odG1sXCIgKTtcblxuXG5cblxudmFyIHNoaW0gPSByZXF1aXJlKFwiL2hvbWUvc2FzY2hhL3ByL2Nvc2lubnVzLWNvcmUvbm9kZV9tb2R1bGVzL251bmp1Y2tzLWxvYWRlci9ydW50aW1lLXNoaW1cIik7XG5cblxuKGZ1bmN0aW9uKCkgeyhudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkID0gbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZCB8fCB7fSlbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtZGV0YWlsLXByb2plY3RzLmh0bWxcIl0gPSAoZnVuY3Rpb24oKSB7XG5mdW5jdGlvbiByb290KGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG52YXIgcGFyZW50VGVtcGxhdGUgPSBudWxsO1xuZW52LmdldFRlbXBsYXRlKFwidGlsZXMvdGlsZS1kZXRhaWwtYmFzZS1ncm91cFwiLCB0cnVlLCBcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtcHJvamVjdHMuaHRtbFwiLCBmYWxzZSwgZnVuY3Rpb24odF8yLF9wYXJlbnRUZW1wbGF0ZSkge1xuaWYodF8yKSB7IGNiKHRfMik7IHJldHVybjsgfVxucGFyZW50VGVtcGxhdGUgPSBfcGFyZW50VGVtcGxhdGVcbmZvcih2YXIgdF8xIGluIHBhcmVudFRlbXBsYXRlLmJsb2Nrcykge1xuY29udGV4dC5hZGRCbG9jayh0XzEsIHBhcmVudFRlbXBsYXRlLmJsb2Nrc1t0XzFdKTtcbn1cbm91dHB1dCArPSBcIlxcblwiO1xuZW52LmdldFRlbXBsYXRlKFwiaW5jbHVkZS9tYWNyb3MuaHRtbFwiLCBmYWxzZSwgXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtZGV0YWlsLXByb2plY3RzLmh0bWxcIiwgZmFsc2UsIGZ1bmN0aW9uKHRfNCx0XzMpIHtcbmlmKHRfNCkgeyBjYih0XzQpOyByZXR1cm47IH1cbnRfMy5nZXRFeHBvcnRlZChmdW5jdGlvbih0XzUsdF8zKSB7XG5pZih0XzUpIHsgY2IodF81KTsgcmV0dXJuOyB9XG5jb250ZXh0LnNldFZhcmlhYmxlKFwibWFjcm9zXCIsIHRfMyk7XG5vdXRwdXQgKz0gXCJcXG5cXG5cIjtcbihwYXJlbnRUZW1wbGF0ZSA/IGZ1bmN0aW9uKGUsIGMsIGYsIHIsIGNiKSB7IGNiKFwiXCIpOyB9IDogY29udGV4dC5nZXRCbG9jayhcImFkZGl0aW9uYWxfdG9wX2xpbmVcIikpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfNyx0XzYpIHtcbmlmKHRfNykgeyBjYih0XzcpOyByZXR1cm47IH1cbm91dHB1dCArPSB0XzY7XG5vdXRwdXQgKz0gXCJcXG5cXG5cIjtcbihwYXJlbnRUZW1wbGF0ZSA/IGZ1bmN0aW9uKGUsIGMsIGYsIHIsIGNiKSB7IGNiKFwiXCIpOyB9IDogY29udGV4dC5nZXRCbG9jayhcImFjdGlvbl9idXR0b25zXCIpKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzksdF84KSB7XG5pZih0XzkpIHsgY2IodF85KTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF84O1xub3V0cHV0ICs9IFwiXFxuXCI7XG5pZihwYXJlbnRUZW1wbGF0ZSkge1xucGFyZW50VGVtcGxhdGUucm9vdFJlbmRlckZ1bmMoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpO1xufSBlbHNlIHtcbmNiKG51bGwsIG91dHB1dCk7XG59XG59KX0pfSl9KX0pO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfYWRkaXRpb25hbF90b3BfbGluZShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xub3V0cHV0ICs9IFwiXFxuXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImJsb2NrXCIpKSxcInN1cGVyXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJpc19vcGVuX2Zvcl9jb29wZXJhdGlvblwiKSkge1xub3V0cHV0ICs9IFwiXFxuPGRpdiBjbGFzcz1cXFwiYWxlcnQgYXBwbHktYmctY29sb3ItcHJvamVjdHNcXFwiPlxcbiAgICA8aSBjbGFzcz1cXFwiZmEgZmEtcHV6emxlLXBpZWNlXFxcIj48L2k+XFxuICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgIDxwPlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIlRoaXMgcHJvamVjdCBpcyBvcGVuIGZvciBmdXJ0aGVyIHBhcnRuZXIgb3JnYW5pemF0aW9ucy5cIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCI8L3A+XFxuPC9kaXY+XFxuXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cIjtcbmNiKG51bGwsIG91dHB1dCk7XG47XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl9hY3Rpb25fYnV0dG9ucyhlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xuY29udGV4dC5nZXRTdXBlcihlbnYsIFwiYWN0aW9uX2J1dHRvbnNcIiwgYl9hY3Rpb25fYnV0dG9ucywgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfMTAsaG9sZV8xKSB7XG5pZih0XzEwKSB7IGNiKHRfMTApOyByZXR1cm47IH1cbmhvbGVfMSA9IHJ1bnRpbWUubWFya1NhZmUoaG9sZV8xKTtcbm91dHB1dCArPSBcIlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLXNlY3Rpb24gdGlsZS1zZWN0aW9uLWJ1dHRvbi1saXN0XFxcIj5cXG4gICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShob2xlXzEsIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICBcXG4gICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJpc19tZW1iZXJcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIDxhIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbiBidXR0b24tYWN0aW9uIGRpc2FibGVkXFxcIj5cXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uLWlubmVyXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxpIGNsYXNTPVxcXCJmYSBmYS1jaGVja1xcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIllvdSBhcmUgYSBNZW1iZXJcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgICAgIDwvYT5cXG4gICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgIDxhIGhyZWY9XFxcIlwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJhY3Rpb25fdXJsXzFcIikpIHtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJhY3Rpb25fdXJsXzFcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xuO1xufVxuZWxzZSB7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwidXJsXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbjtcbn1cbm91dHB1dCArPSBcIlxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbiBidXR0b24tYWN0aW9uXFxcIj5cXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uLWlubmVyXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJpc19pbnZpdGVkXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIllvdSBhcmUgaW52aXRlZCFcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImlzX3BlbmRpbmdcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiTWVtYmVyc2hpcCByZXF1ZXN0IHBlbmRpbmcuLi5cIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0ICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJKb2luIFByb2plY3RcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgICA8L2E+XFxuICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImFjdGlvbl91cmxfMlwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPGEgaHJlZj1cXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWN0aW9uX3VybF8yXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbiBidXR0b24tYWN0aW9uXFxcIj5cXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uLWlubmVyXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJDb250YWN0IFByb2plY3QgQWRtaW5zXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgICA8L2E+XFxuICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICA8L2Rpdj5cXG4gICAgXFxuICAgIDxkaXYgY2xhc3M9XFxcIm5vLWlucHV0XFxcIj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcIm5vdy1mb2xsb3dpbmctbWVzc2FnZSBtZXNzYWdlLXN1Y2Nlc3MgZXh0cmEtc3BhY2UtdG9wXFxcIiBzdHlsZT1cXFwiZGlzcGxheTogbm9uZTtcXFwiPlxcbiAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYXMgZmEtYmVsbFxcXCI+PC9pPlxcbiAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiWW91IHdpbGwgbm93IHJlY2VpdmUgbm90aWZpY2F0aW9ucyBmb3IgY29udGVudCBwb3N0ZWQgaW4gdGhpcyBwcm9qZWN0LlwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiSWYgeW91IGRvIG5vdCB3YW50IG5vdGlmaWNhdGlvbnMsIGNsaWNrIHRoZSB1bmZvbGxvdyBidXR0b24hXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgICBcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImxpa2UtYnV0dG9uLWVycm9yIG1lc3NhZ2UtZXJyb3IgZXh0cmEtc3BhY2UtdG9wXFxcIiBzdHlsZT1cXFwiZGlzcGxheTogbm9uZTtcXFwiPlxcbiAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiQ291bGQgbm90IHNhdmUgeW91ciBsaWtlIHNldHRpbmcgYmVjYXVzZSBvZiBhbiBlcnJvci5cIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9sbG93LWJ1dHRvbi1lcnJvciBtZXNzYWdlLWVycm9yIGV4dHJhLXNwYWNlLXRvcFxcXCIgc3R5bGU9XFxcImRpc3BsYXk6IG5vbmU7XFxcIj5cXG4gICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkNvdWxkIG5vdCBzYXZlIHlvdXIgZm9sbG93IHNldHRpbmcgYmVjYXVzZSBvZiBhbiBlcnJvci5cIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG5cIjtcbmNiKG51bGwsIG91dHB1dCk7XG59KTtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5yZXR1cm4ge1xuYl9hZGRpdGlvbmFsX3RvcF9saW5lOiBiX2FkZGl0aW9uYWxfdG9wX2xpbmUsXG5iX2FjdGlvbl9idXR0b25zOiBiX2FjdGlvbl9idXR0b25zLFxucm9vdDogcm9vdFxufTtcblxufSkoKTtcbn0pKCk7XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHNoaW0obnVuanVja3MsIGVudiwgbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZFtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtcHJvamVjdHMuaHRtbFwiXSAsIGRlcGVuZGVuY2llcylcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Nvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtcHJvamVjdHMuaHRtbFxuLy8gbW9kdWxlIGlkID0gMzhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIG51bmp1Y2tzID0gcmVxdWlyZShcIm51bmp1Y2tzL2Jyb3dzZXIvbnVuanVja3Mtc2xpbVwiKTtcbnZhciBlbnY7XG5pZiAoIW51bmp1Y2tzLmN1cnJlbnRFbnYpe1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52ID0gbmV3IG51bmp1Y2tzLkVudmlyb25tZW50KFtdLCB1bmRlZmluZWQpO1xufSBlbHNlIHtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudjtcbn1cbnZhciBjb25maWd1cmUgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vLi4vbnVuanVja3MuY29uZmlnLmpzXCIpKGVudik7XG52YXIgZGVwZW5kZW5jaWVzID0gbnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyB8fCAobnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyA9IHt9KTtcbmRlcGVuZGVuY2llc1tcInRpbGVzL3RpbGUtZGV0YWlsLWJhc2VcIl0gPSByZXF1aXJlKCBcInRpbGVzL3RpbGUtZGV0YWlsLWJhc2VcIiApO1xuZGVwZW5kZW5jaWVzW1wiaW5jbHVkZS9tYWNyb3MuaHRtbFwiXSA9IHJlcXVpcmUoIFwiaW5jbHVkZS9tYWNyb3MuaHRtbFwiICk7XG5cblxuXG5cbnZhciBzaGltID0gcmVxdWlyZShcIi9ob21lL3Nhc2NoYS9wci9jb3Npbm51cy1jb3JlL25vZGVfbW9kdWxlcy9udW5qdWNrcy1sb2FkZXIvcnVudGltZS1zaGltXCIpO1xuXG5cbihmdW5jdGlvbigpIHsobnVuanVja3MubnVuanVja3NQcmVjb21waWxlZCA9IG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgfHwge30pW1wiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy90aWxlLWRldGFpbC1iYXNlLWdyb3VwLmh0bWxcIl0gPSAoZnVuY3Rpb24oKSB7XG5mdW5jdGlvbiByb290KGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG52YXIgcGFyZW50VGVtcGxhdGUgPSBudWxsO1xuZW52LmdldFRlbXBsYXRlKFwidGlsZXMvdGlsZS1kZXRhaWwtYmFzZVwiLCB0cnVlLCBcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtYmFzZS1ncm91cC5odG1sXCIsIGZhbHNlLCBmdW5jdGlvbih0XzIsX3BhcmVudFRlbXBsYXRlKSB7XG5pZih0XzIpIHsgY2IodF8yKTsgcmV0dXJuOyB9XG5wYXJlbnRUZW1wbGF0ZSA9IF9wYXJlbnRUZW1wbGF0ZVxuZm9yKHZhciB0XzEgaW4gcGFyZW50VGVtcGxhdGUuYmxvY2tzKSB7XG5jb250ZXh0LmFkZEJsb2NrKHRfMSwgcGFyZW50VGVtcGxhdGUuYmxvY2tzW3RfMV0pO1xufVxub3V0cHV0ICs9IFwiXFxuXCI7XG5lbnYuZ2V0VGVtcGxhdGUoXCJpbmNsdWRlL21hY3Jvcy5odG1sXCIsIGZhbHNlLCBcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtYmFzZS1ncm91cC5odG1sXCIsIGZhbHNlLCBmdW5jdGlvbih0XzQsdF8zKSB7XG5pZih0XzQpIHsgY2IodF80KTsgcmV0dXJuOyB9XG50XzMuZ2V0RXhwb3J0ZWQoZnVuY3Rpb24odF81LHRfMykge1xuaWYodF81KSB7IGNiKHRfNSk7IHJldHVybjsgfVxuY29udGV4dC5zZXRWYXJpYWJsZShcIm1hY3Jvc1wiLCB0XzMpO1xub3V0cHV0ICs9IFwiXFxuXFxuXFxuXCI7XG4ocGFyZW50VGVtcGxhdGUgPyBmdW5jdGlvbihlLCBjLCBmLCByLCBjYikgeyBjYihcIlwiKTsgfSA6IGNvbnRleHQuZ2V0QmxvY2soXCJyZWxhdGVkX2NvbnRlbnRcIikpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfNyx0XzYpIHtcbmlmKHRfNykgeyBjYih0XzcpOyByZXR1cm47IH1cbm91dHB1dCArPSB0XzY7XG5vdXRwdXQgKz0gXCJcXG5cXG5cIjtcbihwYXJlbnRUZW1wbGF0ZSA/IGZ1bmN0aW9uKGUsIGMsIGYsIHIsIGNiKSB7IGNiKFwiXCIpOyB9IDogY29udGV4dC5nZXRCbG9jayhcImFjdGlvbl9idXR0b25zXCIpKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzksdF84KSB7XG5pZih0XzkpIHsgY2IodF85KTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF84O1xub3V0cHV0ICs9IFwiXFxuXFxuXFxuXCI7XG4ocGFyZW50VGVtcGxhdGUgPyBmdW5jdGlvbihlLCBjLCBmLCByLCBjYikgeyBjYihcIlwiKTsgfSA6IGNvbnRleHQuZ2V0QmxvY2soXCJjb250YWN0XCIpKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzExLHRfMTApIHtcbmlmKHRfMTEpIHsgY2IodF8xMSk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfMTA7XG5vdXRwdXQgKz0gXCJcXG5cIjtcbmlmKHBhcmVudFRlbXBsYXRlKSB7XG5wYXJlbnRUZW1wbGF0ZS5yb290UmVuZGVyRnVuYyhlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYik7XG59IGVsc2Uge1xuY2IobnVsbCwgb3V0cHV0KTtcbn1cbn0pfSl9KX0pfSl9KTtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX3JlbGF0ZWRfY29udGVudChlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xub3V0cHV0ICs9IFwiXFxuICAgIFxcbiAgICBcIjtcbmNvbnRleHQuZ2V0QmxvY2soXCJncm91cF9ldmVudHNcIikoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF8xMyx0XzEyKSB7XG5pZih0XzEzKSB7IGNiKHRfMTMpOyByZXR1cm47IH1cbm91dHB1dCArPSB0XzEyO1xub3V0cHV0ICs9IFwiXFxuXFxuICAgIFwiO1xuaWYoZW52LmdldEZpbHRlcihcImxlbmd0aFwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwib3JnYW5pemF0aW9uc1wiKSkgPiAwKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcInRpbGUtc2VjdGlvbiB0aWxlLXNlY3Rpb24tZGl2aWRlZFxcXCI+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwic3ViaGVhZGluZ1xcXCI+XFxuICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1idWlsZGluZ1xcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICBcIjtcbmlmKGVudi5nZXRGaWx0ZXIoXCJsZW5ndGhcIikuY2FsbChjb250ZXh0LCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm9yZ2FuaXphdGlvbnNcIikpID4gMSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIFxcdFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0ICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIk9yZ2FuaXphdGlvbnNcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbm91dHB1dCArPSBcIlxcblxcdCAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcblxcdCAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJPcmdhbml6YXRpb25cIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLXNlY3Rpb25cXFwiPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInJvd1xcXCI+XFxuICAgICAgICAgICAgICAgIFwiO1xuZnJhbWUgPSBmcmFtZS5wdXNoKCk7XG52YXIgdF8xNiA9IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwib3JnYW5pemF0aW9uc1wiKTtcbmlmKHRfMTYpIHt2YXIgdF8xNSA9IHRfMTYubGVuZ3RoO1xuZm9yKHZhciB0XzE0PTA7IHRfMTQgPCB0XzE2Lmxlbmd0aDsgdF8xNCsrKSB7XG52YXIgdF8xNyA9IHRfMTZbdF8xNF07XG5mcmFtZS5zZXQoXCJvcmdhbml6YXRpb25cIiwgdF8xNyk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfMTQgKyAxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXgwXCIsIHRfMTQpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleFwiLCB0XzE1IC0gdF8xNCk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4MFwiLCB0XzE1IC0gdF8xNCAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzE0ID09PSAwKTtcbmZyYW1lLnNldChcImxvb3AubGFzdFwiLCB0XzE0ID09PSB0XzE1IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzE1KTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTZcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSgobGluZW5vID0gNDAsIGNvbG5vID0gNDAsIHJ1bnRpbWUuY2FsbFdyYXAocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibWFjcm9zXCIpKSxcIml0ZW1DYXJkXCIpLCBcIm1hY3Jvc1tcXFwiaXRlbUNhcmRcXFwiXVwiLCBjb250ZXh0LCBbcnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTcpLFwicG9ydGFsXCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzE3KSxcInNsdWdcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTcpLFwidGl0bGVcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTcpLFwidHlwZVwiKSxydW50aW1lLm1lbWJlckxvb2t1cCgodF8xNyksXCJpY29uSW1hZ2VVcmxcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTcpLFwibG9jYXRpb25cIiksXCJmYS1tYXAtbWFya2VyXCJdKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgXCI7XG47XG59XG59XG5mcmFtZSA9IGZyYW1lLnBvcCgpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgXFxuXCI7XG5jYihudWxsLCBvdXRwdXQpO1xufSk7XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl9ncm91cF9ldmVudHMoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcblxcdCAgICBcIjtcbmlmKGVudi5nZXRGaWx0ZXIoXCJsZW5ndGhcIikuY2FsbChjb250ZXh0LCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImV2ZW50c1wiKSkgPiAwKSB7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgICAgIDxkaXYgY2xhc3M9XFxcInRpbGUtc2VjdGlvbiB0aWxlLXNlY3Rpb24tZGl2aWRlZFxcXCI+XFxuXFx0ICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwic3ViaGVhZGluZ1xcXCI+XFxuXFx0ICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1jYWxlbmRhclxcXCI+PC9pPlxcblxcdCAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcblxcdCAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJFdmVudHNcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCIgKFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RmlsdGVyKFwibGVuZ3RoXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJldmVudHNcIikpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIilcXG5cXHQgICAgICAgICAgICA8L2Rpdj5cXG5cXHQgICAgICAgIDwvZGl2PlxcblxcdCAgICAgICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uXFxcIj5cXG5cXHQgICAgICAgICAgICBcIjtcbmZyYW1lID0gZnJhbWUucHVzaCgpO1xudmFyIHRfMjAgPSBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImV2ZW50c1wiKTtcbmlmKHRfMjApIHt2YXIgdF8xOSA9IHRfMjAubGVuZ3RoO1xuZm9yKHZhciB0XzE4PTA7IHRfMTggPCB0XzIwLmxlbmd0aDsgdF8xOCsrKSB7XG52YXIgdF8yMSA9IHRfMjBbdF8xOF07XG5mcmFtZS5zZXQoXCJldmVudFwiLCB0XzIxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXhcIiwgdF8xOCArIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleDBcIiwgdF8xOCk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4XCIsIHRfMTkgLSB0XzE4KTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXgwXCIsIHRfMTkgLSB0XzE4IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmZpcnN0XCIsIHRfMTggPT09IDApO1xuZnJhbWUuc2V0KFwibG9vcC5sYXN0XCIsIHRfMTggPT09IHRfMTkgLSAxKTtcbmZyYW1lLnNldChcImxvb3AubGVuZ3RoXCIsIHRfMTkpO1xub3V0cHV0ICs9IFwiXFxuXFx0ICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSgobGluZW5vID0gMTcsIGNvbG5vID0gMzMsIHJ1bnRpbWUuY2FsbFdyYXAocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibWFjcm9zXCIpKSxcIml0ZW1DYXJkXCIpLCBcIm1hY3Jvc1tcXFwiaXRlbUNhcmRcXFwiXVwiLCBjb250ZXh0LCBbcnVudGltZS5tZW1iZXJMb29rdXAoKHRfMjEpLFwicG9ydGFsXCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzIxKSxcInNsdWdcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMjEpLFwidGl0bGVcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMjEpLFwidHlwZVwiKSxydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm51bGxcIiksZW52LmdldEZpbHRlcihcInNhZmVcIikuY2FsbChjb250ZXh0LCBydW50aW1lLm1lbWJlckxvb2t1cCgodF8yMSksXCJkYXRhU2xvdDFcIikpLFwiZmEtY2xvY2stb1wiLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzIxKSxcImFkZHJlc3NcIiksXCJmYS1tYXAtbWFya2VyXCIscnVudGltZS5tYWtlS2V5d29yZEFyZ3Moe1wiY29zaW5udXNfYWN0aXZlX3VzZXJcIjogcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb3Npbm51c19hY3RpdmVfdXNlclwiKSxcImdyb3VwX3NsdWdcIjogcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzbHVnXCIpfSldKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0ICAgICAgICAgICAgXCI7XG47XG59XG59XG5mcmFtZSA9IGZyYW1lLnBvcCgpO1xub3V0cHV0ICs9IFwiXFxuXFx0ICAgICAgICA8L2Rpdj5cXG5cXHQgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgXCI7XG5jYihudWxsLCBvdXRwdXQpO1xuO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfYWN0aW9uX2J1dHRvbnMoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcbiAgICBcIjtcbmlmKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb250cm9sVmlld1wiKSksXCJwb3J0YWxJbmZvXCIpKSxcImN1cnJlbnRcIikgPT0gcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJwb3J0YWxcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgPGEgY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uIGJ1dHRvbi1hY3Rpb25cXG4gICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvc2lubnVzX2FjdGl2ZV91c2VyXCIpKSB7XG5vdXRwdXQgKz0gXCJidXR0b24tZm9sbG93XFxcIiBcIjtcbjtcbn1cbmVsc2Uge1xub3V0cHV0ICs9IFwiXFxcIiBocmVmPVxcXCIvc2lnbnVwLz9hY2NfcmVxX21zZz0xJm5leHQ9L21hcC9cXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIlwiO1xuO1xufVxub3V0cHV0ICs9IFwiPlxcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbi1pbm5lclxcXCI+XFxuICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJmb2xsb3dlZFwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzUz1cXFwiZmFzIGZhLWJlbGxcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJGb2xsb3dpbmdcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc1M9XFxcImZhciBmYS1iZWxsXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiRm9sbG93XCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgPC9hPlxcblxcbiAgICAgICAgPGEgY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uIGJ1dHRvbi1hY3Rpb24gXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvc2lubnVzX2FjdGl2ZV91c2VyXCIpKSB7XG5vdXRwdXQgKz0gXCIgYnV0dG9uLXN0YXIgXCI7XG47XG59XG5lbHNlIHtcbm91dHB1dCArPSBcIlxcXCIgaHJlZj1cXFwiL3NpZ251cC8/YWNjX3JlcV9tc2c9MSZuZXh0PS9tYXAvXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCJcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcXCI+XFxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uLWlubmVyXFxcIj5cXG4gICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInN0YXJyZWRcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhcyBmYS1zdGFyXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzdGFycmluZ0xhYmVsXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmFyIGZhLXN0YXJcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInN0YXJMYWJlbFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICA8L2E+XFxuICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXCI7XG5jYihudWxsLCBvdXRwdXQpO1xuO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfY29udGFjdChlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xub3V0cHV0ICs9IFwiXFxuXFxuICAgIDxkaXYgY2xhc3M9XFxcInRpbGUtc2VjdGlvbiB0aWxlLXNlY3Rpb24tZGl2aWRlZFxcXCI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJyb3dcXFwiPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC14cy02XFxcIj5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwic3ViaGVhZGluZ1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiQ29udGFjdFwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgXCI7XG5pZighcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ5b3V0dWJlX3VybFwiKSAmJiAhcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0d2l0dGVyX3VzZXJuYW1lXCIpICYmICFydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImZsaWNrcl91cmxcIikgJiYgIXJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwid2Vic2l0ZV91cmxcIikgJiYgIXJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29udGFjdFwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cXFwicGFsZS1jb2xvclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGk+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIk5vIGluZm8uXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9pPlxcbiAgICAgICAgICAgICAgICAgICAgPC9wPlxcbiAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29udGFjdFwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRGaWx0ZXIoXCJzYWZlXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb250YWN0XCIpKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwid2Vic2l0ZV91cmxcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInRpbGUtc2VjdGlvbiB0aWxlLXNlY3Rpb24tY29tcGFjdFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XFxcIlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIndlYnNpdGVfdXJsXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiIGNsYXNzPVxcXCJjb21wYWN0LWxpbmtcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWdsb2JlXFxcIj48L2k+XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwid2Vic2l0ZV91cmxcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYT5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ5b3V0dWJlX3VybFwiKSB8fCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInR3aXR0ZXJfdXNlcm5hbWVcIikgfHwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJmbGlja3JfdXJsXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLXNlY3Rpb24gdGlsZS1zZWN0aW9uLWNvbXBhY3RcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ5b3V0dWJlX3VybFwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInRpbGUtc2VjdGlvbi1oZWFkZXJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwid2Vic2l0ZV91cmxcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCIgY2xhc3M9XFxcImNvbXBhY3QtbGlua1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLXlvdXR1YmVcXFwiPjwvaT5Zb3V0dWJlXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2E+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInR3aXR0ZXJfdXNlcm5hbWVcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLXNlY3Rpb24taGVhZGVyXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XFxcIlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIndlYnNpdGVfdXJsXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiIGNsYXNzPVxcXCJjb21wYWN0LWxpbmtcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS10d2l0dGVyXFxcIj48L2k+VHdpdHRlclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJmbGlja3JfdXJsXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uLWhlYWRlclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVxcXCJcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJmbGlja3JfdXJsXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiIGNsYXNzPVxcXCJjb21wYWN0LWxpbmtcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWZsaWNrclxcXCI+PC9pPkZsaWNrclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgXFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXhzLTZcXFwiPlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJzdWJoZWFkaW5nXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuaWYoZW52LmdldEZpbHRlcihcImxlbmd0aFwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWRtaW5zXCIpKSA+IDEpIHtcbm91dHB1dCArPSBcIiBcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkFkbWluaXN0cmF0b3JcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkFkbWluaXN0cmF0b3JzXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuaWYoZW52LmdldEZpbHRlcihcImxlbmd0aFwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWRtaW5zXCIpKSA+IDApIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuZnJhbWUgPSBmcmFtZS5wdXNoKCk7XG52YXIgdF8yNCA9IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWRtaW5zXCIpO1xuaWYodF8yNCkge3ZhciB0XzIzID0gdF8yNC5sZW5ndGg7XG5mb3IodmFyIHRfMjI9MDsgdF8yMiA8IHRfMjQubGVuZ3RoOyB0XzIyKyspIHtcbnZhciB0XzI1ID0gdF8yNFt0XzIyXTtcbmZyYW1lLnNldChcImFkbWluXCIsIHRfMjUpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleFwiLCB0XzIyICsgMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4MFwiLCB0XzIyKTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXhcIiwgdF8yMyAtIHRfMjIpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleDBcIiwgdF8yMyAtIHRfMjIgLSAxKTtcbmZyYW1lLnNldChcImxvb3AuZmlyc3RcIiwgdF8yMiA9PT0gMCk7XG5mcmFtZS5zZXQoXCJsb29wLmxhc3RcIiwgdF8yMiA9PT0gdF8yMyAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5sZW5ndGhcIiwgdF8yMyk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKChsaW5lbm8gPSAxNTIsIGNvbG5vID0gNDQsIHJ1bnRpbWUuY2FsbFdyYXAocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibWFjcm9zXCIpKSxcIml0ZW1DYXJkXCIpLCBcIm1hY3Jvc1tcXFwiaXRlbUNhcmRcXFwiXVwiLCBjb250ZXh0LCBbcnVudGltZS5tZW1iZXJMb29rdXAoKHRfMjUpLFwicG9ydGFsXCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzI1KSxcInNsdWdcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMjUpLFwidGl0bGVcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMjUpLFwidHlwZVwiKSxydW50aW1lLm1lbWJlckxvb2t1cCgodF8yNSksXCJpY29uSW1hZ2VVcmxcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMjUpLFwiYWRkcmVzc1wiKSxcImZhLW1hcC1tYXJrZXJcIixydW50aW1lLm1ha2VLZXl3b3JkQXJncyh7XCJjb3Npbm51c19hY3RpdmVfdXNlclwiOiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvc2lubnVzX2FjdGl2ZV91c2VyXCIpfSldKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG59XG5mcmFtZSA9IGZyYW1lLnBvcCgpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2k+XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiQWRtaW5pc3RyYXRvcnMgdW5rbm93blwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIjwvaT5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9kaXY+XFxuICAgIFxcbiAgICA8L2Rpdj5cXG4gICAgXFxuICAgIFxcblwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5yZXR1cm4ge1xuYl9yZWxhdGVkX2NvbnRlbnQ6IGJfcmVsYXRlZF9jb250ZW50LFxuYl9ncm91cF9ldmVudHM6IGJfZ3JvdXBfZXZlbnRzLFxuYl9hY3Rpb25fYnV0dG9uczogYl9hY3Rpb25fYnV0dG9ucyxcbmJfY29udGFjdDogYl9jb250YWN0LFxucm9vdDogcm9vdFxufTtcblxufSkoKTtcbn0pKCk7XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHNoaW0obnVuanVja3MsIGVudiwgbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZFtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtYmFzZS1ncm91cC5odG1sXCJdICwgZGVwZW5kZW5jaWVzKVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy90aWxlLWRldGFpbC1iYXNlLWdyb3VwLmh0bWxcbi8vIG1vZHVsZSBpZCA9IDM5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBudW5qdWNrcyA9IHJlcXVpcmUoXCJudW5qdWNrcy9icm93c2VyL251bmp1Y2tzLXNsaW1cIik7XG52YXIgZW52O1xuaWYgKCFudW5qdWNrcy5jdXJyZW50RW52KXtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudiA9IG5ldyBudW5qdWNrcy5FbnZpcm9ubWVudChbXSwgdW5kZWZpbmVkKTtcbn0gZWxzZSB7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnY7XG59XG52YXIgY29uZmlndXJlID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uLy4uL251bmp1Y2tzLmNvbmZpZy5qc1wiKShlbnYpO1xudmFyIGRlcGVuZGVuY2llcyA9IG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgfHwgKG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgPSB7fSk7XG5kZXBlbmRlbmNpZXNbXCJpbmNsdWRlL21hY3Jvcy5odG1sXCJdID0gcmVxdWlyZSggXCJpbmNsdWRlL21hY3Jvcy5odG1sXCIgKTtcblxuXG5cblxudmFyIHNoaW0gPSByZXF1aXJlKFwiL2hvbWUvc2FzY2hhL3ByL2Nvc2lubnVzLWNvcmUvbm9kZV9tb2R1bGVzL251bmp1Y2tzLWxvYWRlci9ydW50aW1lLXNoaW1cIik7XG5cblxuKGZ1bmN0aW9uKCkgeyhudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkID0gbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZCB8fCB7fSlbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtZGV0YWlsLWJhc2UuaHRtbFwiXSA9IChmdW5jdGlvbigpIHtcbmZ1bmN0aW9uIHJvb3QoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbnZhciBwYXJlbnRUZW1wbGF0ZSA9IG51bGw7XG5lbnYuZ2V0VGVtcGxhdGUoXCJpbmNsdWRlL21hY3Jvcy5odG1sXCIsIGZhbHNlLCBcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtYmFzZS5odG1sXCIsIGZhbHNlLCBmdW5jdGlvbih0XzIsdF8xKSB7XG5pZih0XzIpIHsgY2IodF8yKTsgcmV0dXJuOyB9XG50XzEuZ2V0RXhwb3J0ZWQoZnVuY3Rpb24odF8zLHRfMSkge1xuaWYodF8zKSB7IGNiKHRfMyk7IHJldHVybjsgfVxuY29udGV4dC5zZXRWYXJpYWJsZShcIm1hY3Jvc1wiLCB0XzEpO1xub3V0cHV0ICs9IFwiXFxuXFxuPGRpdiBjbGFzcz1cXFwidGlsZS1kZXRhaWwgdGlsZS1cIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0eXBlXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIiBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2VsZWN0ZWRcIikpIHtcbm91dHB1dCArPSBcInNlbGVjdGVkXCI7XG47XG59XG5vdXRwdXQgKz0gXCIgbW9iaWxlLXZpZXcgbW9iaWxlLXZpZXctZGV0YWlsLXZpc2libGUtYmxvY2tcXFwiIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJub01vZGVsXCIpKSB7XG5vdXRwdXQgKz0gXCJzdHlsZT1cXFwiZGlzcGxheTogbm9uZTtcXFwiXCI7XG47XG59XG5vdXRwdXQgKz0gXCI+XFxuICAgIDxkaXYgY2xhc3M9XFxcInRpbGUtY2xvc2UtYnV0dG9uXFxcIj5cXG4gICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1mdyBmYS1jbG9zZVxcXCI+PC9pPlxcbiAgICA8L2Rpdj5cXG4gICAgXFxuICAgIFwiO1xuKHBhcmVudFRlbXBsYXRlID8gZnVuY3Rpb24oZSwgYywgZiwgciwgY2IpIHsgY2IoXCJcIik7IH0gOiBjb250ZXh0LmdldEJsb2NrKFwiY29udGVudFwiKSkoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF81LHRfNCkge1xuaWYodF81KSB7IGNiKHRfNSk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfNDtcbm91dHB1dCArPSBcIlxcbiAgICBcXG4gICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgPGRpdiBjbGFzcz1cXFwic3BhY2VyIG1vYmlsZS1vbmx5XFxcIj4mbmJzcDs8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwic3BhY2VyIG1vYmlsZS1vbmx5XFxcIj4mbmJzcDs8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwic3BhY2VyIG1vYmlsZS1vbmx5XFxcIj4mbmJzcDs8L2Rpdj5cXG48L2Rpdj5cXG5cIjtcbmlmKHBhcmVudFRlbXBsYXRlKSB7XG5wYXJlbnRUZW1wbGF0ZS5yb290UmVuZGVyRnVuYyhlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYik7XG59IGVsc2Uge1xuY2IobnVsbCwgb3V0cHV0KTtcbn1cbn0pfSl9KTtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX2NvbnRlbnQoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcbiAgICBcXG4gICAgICAgIFwiO1xuY29udGV4dC5nZXRCbG9jayhcInR5cGVfYXJlYVwiKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzcsdF82KSB7XG5pZih0XzcpIHsgY2IodF83KTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF82O1xub3V0cHV0ICs9IFwiXFxuICAgICAgICBcXG4gICAgICAgIFwiO1xuY29udGV4dC5nZXRCbG9jayhcImhlYWRlcl9pbWFnZVwiKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzksdF84KSB7XG5pZih0XzkpIHsgY2IodF85KTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF84O1xub3V0cHV0ICs9IFwiXFxuICAgICAgICBcXG4gICAgICAgIFxcbiAgICAgICAgXCI7XG5jb250ZXh0LmdldEJsb2NrKFwidGl0bGVcIikoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF8xMSx0XzEwKSB7XG5pZih0XzExKSB7IGNiKHRfMTEpOyByZXR1cm47IH1cbm91dHB1dCArPSB0XzEwO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICBcXG4gICAgICAgIFwiO1xuY29udGV4dC5nZXRCbG9jayhcInRvcF9saW5lXCIpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfMTMsdF8xMikge1xuaWYodF8xMykgeyBjYih0XzEzKTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF8xMjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgXFxuICAgICAgICBcXG4gICAgICAgIFwiO1xuY29udGV4dC5nZXRCbG9jayhcImFkZGl0aW9uYWxfdG9wX2xpbmVcIikoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF8xNSx0XzE0KSB7XG5pZih0XzE1KSB7IGNiKHRfMTUpOyByZXR1cm47IH1cbm91dHB1dCArPSB0XzE0O1xub3V0cHV0ICs9IFwiXFxuICAgICAgICBcXG4gICAgICAgIFxcbiAgICAgICAgXCI7XG5jb250ZXh0LmdldEJsb2NrKFwidG9waWNfbGluZVwiKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzE3LHRfMTYpIHtcbmlmKHRfMTcpIHsgY2IodF8xNyk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfMTY7XG5vdXRwdXQgKz0gXCJcXG5cXG4gICAgICAgIFwiO1xuY29udGV4dC5nZXRCbG9jayhcInRleHRfdG9waWNfbGluZVwiKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzE5LHRfMTgpIHtcbmlmKHRfMTkpIHsgY2IodF8xOSk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfMTg7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIFxcbiAgICAgICAgXCI7XG5jb250ZXh0LmdldEJsb2NrKFwibWFuYWdlZF90YWdzXCIpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfMjEsdF8yMCkge1xuaWYodF8yMSkgeyBjYih0XzIxKTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF8yMDtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgXFxuICAgICAgICBcXG4gICAgICAgIFwiO1xuY29udGV4dC5nZXRCbG9jayhcImFjdGlvbl9idXR0b25zXCIpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfMjMsdF8yMikge1xuaWYodF8yMykgeyBjYih0XzIzKTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF8yMjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgXFxuICAgICAgICBcXG4gICAgICAgIFwiO1xuY29udGV4dC5nZXRCbG9jayhcImRlc2NyaXB0aW9uXCIpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfMjUsdF8yNCkge1xuaWYodF8yNSkgeyBjYih0XzI1KTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF8yNDtcbm91dHB1dCArPSBcIlxcblxcblxcbiAgICAgICAgXCI7XG5jb250ZXh0LmdldEJsb2NrKFwic2Rnc1wiKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzI3LHRfMjYpIHtcbmlmKHRfMjcpIHsgY2IodF8yNyk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfMjY7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIFxcbiAgICAgICAgXCI7XG5jb250ZXh0LmdldEJsb2NrKFwicmVsYXRlZF9jb250ZW50XCIpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfMjksdF8yOCkge1xuaWYodF8yOSkgeyBjYih0XzI5KTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF8yODtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgXFxuICAgICAgICBcXG4gICAgICAgIFwiO1xuY29udGV4dC5nZXRCbG9jayhcImNvbnRhY3RcIikoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF8zMSx0XzMwKSB7XG5pZih0XzMxKSB7IGNiKHRfMzEpOyByZXR1cm47IH1cbm91dHB1dCArPSB0XzMwO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICBcXG4gICAgICAgIFwiO1xuY29udGV4dC5nZXRCbG9jayhcInJlcG9ydF9vYmplY3RcIikoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF8zMyx0XzMyKSB7XG5pZih0XzMzKSB7IGNiKHRfMzMpOyByZXR1cm47IH1cbm91dHB1dCArPSB0XzMyO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICBcXG4gICAgICAgIFwiO1xuY29udGV4dC5nZXRCbG9jayhcImNyZWF0ZV9tb2RpZmllZF90aW1lc3RhbXBzXCIpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfMzUsdF8zNCkge1xuaWYodF8zNSkgeyBjYih0XzM1KTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF8zNDtcbm91dHB1dCArPSBcIlxcblxcbiAgICBcIjtcbmNiKG51bGwsIG91dHB1dCk7XG59KX0pfSl9KX0pfSl9KX0pfSl9KX0pfSl9KX0pfSk7XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl90eXBlX2FyZWEoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInRpbGUtc2VjdGlvbi1oZWFkZXIgb25lLWxpbmVcXFwiPlxcbiAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoKGxpbmVubyA9IDExLCBjb2xubyA9IDMzLCBydW50aW1lLmNhbGxXcmFwKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm1hY3Jvc1wiKSksXCJ0eXBlTGFiZWxcIiksIFwibWFjcm9zW1xcXCJ0eXBlTGFiZWxcXFwiXVwiLCBjb250ZXh0LCBbcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0eXBlXCIpLHJ1bnRpbWUubWFrZUtleXdvcmRBcmdzKHtcInNpbmd1bGFyXCI6IDEsXCJDT1NJTk5VU19UUkFOU1wiOiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIkNPU0lOTlVTX1RSQU5TXCIpfSldKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJwb3J0YWxcIikgPT0gcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJDT1NJTk5VU19FWENIQU5HRV9QT1JUQUxfSURcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICBcXHRcIjtcbm91dHB1dCArPSBcIlxcblxcdCAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJmcm9tXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiOiBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzb3VyY2VcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICBcIjtcbmlmKCFydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImlzU21hbGxcIikgJiYgcnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvbnRyb2xWaWV3XCIpKSxcInBvcnRhbEluZm9cIikpLFwiY3VycmVudFwiKSAhPSBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInBvcnRhbFwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiaW5saW5lLXNwYWNlclxcXCI+PC9zcGFuPlxcbiAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XFxcInBvcnRhbC1pbmxpbmsgdW5jb2xvcmVkLWxpbmtcXFwiIGhyZWY9XFxcIlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvbnRyb2xWaWV3XCIpKSxcInBvcnRhbEluZm9cIikpLHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicG9ydGFsXCIpKSksXCJkb21haW5cIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCIgdGl0bGU9XFxcIlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvbnRyb2xWaWV3XCIpKSxcInBvcnRhbEluZm9cIikpLHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicG9ydGFsXCIpKSksXCJuYW1lXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb250cm9sVmlld1wiKSksXCJwb3J0YWxJbmZvXCIpKSxydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInBvcnRhbFwiKSkpLFwibmFtZVwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIDwvYT4gXFxuICAgICAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICBcIjtcbmNiKG51bGwsIG91dHB1dCk7XG47XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl9oZWFkZXJfaW1hZ2UoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInRpbGUtc2VjdGlvbiBoZWFkZXItaW1hZ2VcXFwiPlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJkdWFsLXRpbGUtaW1hZ2UgXCI7XG5pZighcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJiYWNrZ3JvdW5kSW1hZ2VMYXJnZVVybFwiKSkge1xub3V0cHV0ICs9IFwiaW1hZ2UtcGxhY2Vob2xkZXItYmFja2dyb3VuZCBpbWFnZS1wbGFjZWhvbGRlci1iYWNrZ3JvdW5kLVwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInR5cGVcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xuO1xufVxub3V0cHV0ICs9IFwiXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJiYWNrZ3JvdW5kSW1hZ2VMYXJnZVVybFwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBjbGFzcz1cXFwidGlsZS1pbWFnZSB0aWxlLWltYWdlLWJhY2tncm91bmRcXFwiIHNyYz1cXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYmFja2dyb3VuZEltYWdlTGFyZ2VVcmxcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxcIiAvPiBcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICA8aW1nIGNsYXNzPVxcXCJmbG9hdGluZy10aWxlLWltYWdlXFxcIiBzcmM9XFxcIlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImljb25JbWFnZVVybFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiIC8+XFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgXCI7XG5jYihudWxsLCBvdXRwdXQpO1xuO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfdGl0bGUoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInRpbGUtc2VjdGlvbiB0aXRsZVxcXCI+XFxuICAgICAgICAgICAgICAgIDxhIGhyZWY9XFxcIlwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0eXBlXCIpID09IFwicGVvcGxlXCIpIHtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb250cm9sVmlld1wiKSksXCJwb3J0YWxJbmZvXCIpKSxydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInBvcnRhbFwiKSkpLFwiZG9tYWluXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbjtcbn1cbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ1cmxcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCIgY2xhc3M9XFxcInVuY29sb3JlZC1saW5rXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxoMT5cXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0aXRsZVwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiaXNZb3VcIikpIHtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdCAgICBcXHRcXHQ8aSBjbGFzcz1cXFwicGFsZS1jb2xvclxcXCI+XFxuXFx0XFx0XFx0XFx0ICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0ICAgICAgICAgICAgICAgIChcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJZb3VcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCIpXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0PC9pPlxcblxcdFxcdFxcdFxcdFxcdFxcdFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWV4dGVybmFsLWxpbmtcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgICAgIDwvaDE+XFxuICAgICAgICAgICAgICAgIDwvYT5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIFwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX3RvcF9saW5lKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWRkcmVzc1wiKSB8fCAocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJncm91cF9zbHVnXCIpICYmIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZ3JvdXBfbmFtZVwiKSAmJiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInBvcnRhbFwiKSkpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLXNlY3Rpb24gdG9wLWxpbmUgb25lLWxpbmUgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImlzU21hbGxcIikpIHtcbm91dHB1dCArPSBcIm5vLXNwYWNlXCI7XG47XG59XG5lbHNlIHtcbm91dHB1dCArPSBcImV4dHJhLXNwYWNlXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG5jb250ZXh0LmdldEJsb2NrKFwidG9wX2xpbmVfZ3JvdXBcIikoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF8zNyx0XzM2KSB7XG5pZih0XzM3KSB7IGNiKHRfMzcpOyByZXR1cm47IH1cbm91dHB1dCArPSB0XzM2O1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuY29udGV4dC5nZXRCbG9jayhcInRvcF9saW5lX2FkZHJlc3NcIikoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF8zOSx0XzM4KSB7XG5pZih0XzM5KSB7IGNiKHRfMzkpOyByZXR1cm47IH1cbm91dHB1dCArPSB0XzM4O1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIFwiO1xufSl9KTtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgXCI7XG5jYihudWxsLCBvdXRwdXQpO1xuO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfdG9wX2xpbmVfZ3JvdXAoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJncm91cF9zbHVnXCIpICYmIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZ3JvdXBfbmFtZVwiKSAmJiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInBvcnRhbFwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJwYWxlLWNvbG9yXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0eXBlXCIpID09IFwicHJvamVjdHNcIikge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKChsaW5lbm8gPSA2MywgY29sbm8gPSA1MywgcnVudGltZS5jYWxsV3JhcChydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJtYWNyb3NcIikpLFwidHlwZUxhYmVsXCIpLCBcIm1hY3Jvc1tcXFwidHlwZUxhYmVsXFxcIl1cIiwgY29udGV4dCwgW1wiZ3JvdXBzXCIscnVudGltZS5tYWtlS2V5d29yZEFyZ3Moe1wic2luZ3VsYXJcIjogMSxcInVzZVN0eWxlc1wiOiAwLFwiY29sb25cIjogMSxcInNob3dJY29uXCI6IDAsXCJDT1NJTk5VU19UUkFOU1wiOiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIkNPU0lOTlVTX1RSQU5TXCIpfSldKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKChsaW5lbm8gPSA2NCwgY29sbm8gPSA1NCwgcnVudGltZS5jYWxsV3JhcChydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJtYWNyb3NcIikpLFwicmVzdWx0TGlua1wiKSwgXCJtYWNyb3NbXFxcInJlc3VsdExpbmtcXFwiXVwiLCBjb250ZXh0LCBbcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJwb3J0YWxcIikscnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJncm91cF9zbHVnXCIpLHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZ3JvdXBfbmFtZVwiKSxcImdyb3Vwc1wiXSkpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSgobGluZW5vID0gNjYsIGNvbG5vID0gNTMsIHJ1bnRpbWUuY2FsbFdyYXAocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibWFjcm9zXCIpKSxcInR5cGVMYWJlbFwiKSwgXCJtYWNyb3NbXFxcInR5cGVMYWJlbFxcXCJdXCIsIGNvbnRleHQsIFtcInByb2plY3RzXCIscnVudGltZS5tYWtlS2V5d29yZEFyZ3Moe1wic2luZ3VsYXJcIjogMSxcInVzZVN0eWxlc1wiOiAwLFwiY29sb25cIjogMSxcInNob3dJY29uXCI6IDAsXCJDT1NJTk5VU19UUkFOU1wiOiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIkNPU0lOTlVTX1RSQU5TXCIpfSldKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKChsaW5lbm8gPSA2NywgY29sbm8gPSA1NCwgcnVudGltZS5jYWxsV3JhcChydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJtYWNyb3NcIikpLFwicmVzdWx0TGlua1wiKSwgXCJtYWNyb3NbXFxcInJlc3VsdExpbmtcXFwiXVwiLCBjb250ZXh0LCBbcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJwb3J0YWxcIikscnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJncm91cF9zbHVnXCIpLHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZ3JvdXBfbmFtZVwiKSxcInByb2plY3RzXCJdKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJpbmxpbmUtc3BhY2VyXFxcIj48L3NwYW4+XFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX3RvcF9saW5lX2FkZHJlc3MoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJhZGRyZXNzXCIpICYmIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwidHlwZVwiKSAhPSBcImV2ZW50c1wiKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImFkZHJlc3MgY2FwaXRhbGl6ZVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtbWFwLW1hcmtlclxcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWRkcmVzc1wiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbmNiKG51bGwsIG91dHB1dCk7XG47XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl9hZGRpdGlvbmFsX3RvcF9saW5lKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIFwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX3RvcGljX2xpbmUoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIFwiO1xuaWYoZW52LmdldEZpbHRlcihcImxlbmd0aFwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwidG9waWNzXCIpKSA+IDApIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLXNlY3Rpb24gdG9waWMtbGluZVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwicGFsZS1jb2xvclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJUb3BpY3NcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCI6XFxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+IFxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG5mcmFtZSA9IGZyYW1lLnB1c2goKTtcbnZhciB0XzQyID0gcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0b3BpY3NcIik7XG5pZih0XzQyKSB7dmFyIHRfNDEgPSB0XzQyLmxlbmd0aDtcbmZvcih2YXIgdF80MD0wOyB0XzQwIDwgdF80Mi5sZW5ndGg7IHRfNDArKykge1xudmFyIHRfNDMgPSB0XzQyW3RfNDBdO1xuZnJhbWUuc2V0KFwidG9waWNcIiwgdF80Myk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfNDAgKyAxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXgwXCIsIHRfNDApO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleFwiLCB0XzQxIC0gdF80MCk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4MFwiLCB0XzQxIC0gdF80MCAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzQwID09PSAwKTtcbmZyYW1lLnNldChcImxvb3AubGFzdFwiLCB0XzQwID09PSB0XzQxIC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzQxKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPVxcXCJ0b3BpYy1maWx0ZXItbGlua1xcXCIgZGF0YS10b3BpYy1pZD1cXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHRfNDMsIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxcIj5cIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvbnRyb2xWaWV3XCIpKSxcImFsbFRvcGljc1wiKSksdF80MyksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiPC9hPlwiO1xuaWYoIXJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImxvb3BcIikpLFwibGFzdFwiKSkge1xub3V0cHV0ICs9IFwiLFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbn1cbmZyYW1lID0gZnJhbWUucG9wKCk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIFwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX3RleHRfdG9waWNfbGluZShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgXCI7XG5pZihlbnYuZ2V0RmlsdGVyKFwibGVuZ3RoXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0ZXh0X3RvcGljc1wiKSkgPiAwKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uIHRvcGljLWxpbmVcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInBhbGUtY29sb3JcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiQ2F0ZWdvcmllc1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIjpcXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuZnJhbWUgPSBmcmFtZS5wdXNoKCk7XG52YXIgdF80NiA9IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwidGV4dF90b3BpY3NcIik7XG5pZih0XzQ2KSB7dmFyIHRfNDUgPSB0XzQ2Lmxlbmd0aDtcbmZvcih2YXIgdF80ND0wOyB0XzQ0IDwgdF80Ni5sZW5ndGg7IHRfNDQrKykge1xudmFyIHRfNDcgPSB0XzQ2W3RfNDRdO1xuZnJhbWUuc2V0KFwidGV4dF90b3BpY1wiLCB0XzQ3KTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXhcIiwgdF80NCArIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleDBcIiwgdF80NCk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4XCIsIHRfNDUgLSB0XzQ0KTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXgwXCIsIHRfNDUgLSB0XzQ0IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmZpcnN0XCIsIHRfNDQgPT09IDApO1xuZnJhbWUuc2V0KFwibG9vcC5sYXN0XCIsIHRfNDQgPT09IHRfNDUgLSAxKTtcbmZyYW1lLnNldChcImxvb3AubGVuZ3RoXCIsIHRfNDUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XFxcInRleHQtdG9waWMtZmlsdGVyLWxpbmtcXFwiIGRhdGEtdGV4dC10b3BpYy1pZD1cXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHRfNDcsIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxcIj5cIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvbnRyb2xWaWV3XCIpKSxcImFsbFRleHRUb3BpY3NcIikpLHRfNDcpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIjwvYT5cIjtcbmlmKCFydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJsb29wXCIpKSxcImxhc3RcIikpIHtcbm91dHB1dCArPSBcIixcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG59XG5mcmFtZSA9IGZyYW1lLnBvcCgpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICBcIjtcbmNiKG51bGwsIG91dHB1dCk7XG47XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl9tYW5hZ2VkX3RhZ3MoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIFwiO1xuaWYoZW52LmdldEZpbHRlcihcImxlbmd0aFwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibWFuYWdlZF90YWdzXCIpKSA+IDAgJiYgZW52LmdldEZpbHRlcihcImxlbmd0aFwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvbnRyb2xWaWV3XCIpKSxcImFsbE1hbmFnZWRUYWdzXCIpKSA+IDApIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLXNlY3Rpb24gdG9waWMtbGluZVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwicGFsZS1jb2xvclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb250cm9sVmlld1wiKSksXCJtYW5hZ2VkVGFnc0xhYmVsc1wiKSksXCJNQU5BR0VEX1RBR19NQVBfTEFCRUxcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiOlxcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPiBcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuZnJhbWUgPSBmcmFtZS5wdXNoKCk7XG52YXIgdF81MCA9IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibWFuYWdlZF90YWdzXCIpO1xuaWYodF81MCkge3ZhciB0XzQ5ID0gdF81MC5sZW5ndGg7XG5mb3IodmFyIHRfNDg9MDsgdF80OCA8IHRfNTAubGVuZ3RoOyB0XzQ4KyspIHtcbnZhciB0XzUxID0gdF81MFt0XzQ4XTtcbmZyYW1lLnNldChcIm1hbmFnZWRfdGFnX2lkXCIsIHRfNTEpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleFwiLCB0XzQ4ICsgMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4MFwiLCB0XzQ4KTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXhcIiwgdF80OSAtIHRfNDgpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleDBcIiwgdF80OSAtIHRfNDggLSAxKTtcbmZyYW1lLnNldChcImxvb3AuZmlyc3RcIiwgdF80OCA9PT0gMCk7XG5mcmFtZS5zZXQoXCJsb29wLmxhc3RcIiwgdF80OCA9PT0gdF80OSAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5sZW5ndGhcIiwgdF80OSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbnZhciB0XzUyO1xudF81MiA9IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibG9vcFwiKTtcbmZyYW1lLnNldChcIm91dGVyX2xvb3BcIiwgdF81MiwgdHJ1ZSk7XG5pZihmcmFtZS50b3BMZXZlbCkge1xuY29udGV4dC5zZXRWYXJpYWJsZShcIm91dGVyX2xvb3BcIiwgdF81Mik7XG59XG5pZihmcmFtZS50b3BMZXZlbCkge1xuY29udGV4dC5hZGRFeHBvcnQoXCJvdXRlcl9sb29wXCIsIHRfNTIpO1xufVxub3V0cHV0ICs9IFwiXFxuXFx0XFx0ICAgICAgICAgICAgICAgIFwiO1xuZnJhbWUgPSBmcmFtZS5wdXNoKCk7XG52YXIgdF81NSA9IHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvbnRyb2xWaWV3XCIpKSxcImFsbE1hbmFnZWRUYWdzXCIpO1xuaWYodF81NSkge3ZhciB0XzU0ID0gdF81NS5sZW5ndGg7XG5mb3IodmFyIHRfNTM9MDsgdF81MyA8IHRfNTUubGVuZ3RoOyB0XzUzKyspIHtcbnZhciB0XzU2ID0gdF81NVt0XzUzXTtcbmZyYW1lLnNldChcIm1hbmFnZWRfdGFnXCIsIHRfNTYpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleFwiLCB0XzUzICsgMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4MFwiLCB0XzUzKTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXhcIiwgdF81NCAtIHRfNTMpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleDBcIiwgdF81NCAtIHRfNTMgLSAxKTtcbmZyYW1lLnNldChcImxvb3AuZmlyc3RcIiwgdF81MyA9PT0gMCk7XG5mcmFtZS5zZXQoXCJsb29wLmxhc3RcIiwgdF81MyA9PT0gdF81NCAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5sZW5ndGhcIiwgdF81NCk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHQgICAgICAgICAgICAgICAgICAgIFwiO1xuaWYodF81MSA9PSBydW50aW1lLm1lbWJlckxvb2t1cCgodF81NiksXCJpZFwiKSkge1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0ICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XFxcIm1hbmFnZWQtdGFnLWZpbHRlci1saW5rXFxcIiBkYXRhLW1hbmFnZWQtdGFnLWlkPVxcXCJcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUodF81MSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiPlxcblxcdFxcdCAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzU2KSxcIm5hbWVcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiPC9hPlxcblxcdFxcdCAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLm1lbWJlckxvb2t1cCgodF81NiksXCJ1cmxcIikpIHtcbm91dHB1dCArPSBcIlxcblxcdFxcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSB0YXJnZXQ9XFxcIl9ibGFua1xcXCIgaHJlZj1cXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzU2KSxcInVybFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiPlxcblxcdFxcdFxcdFxcdCAgICAgICAgICAgICAgICAgICAgICAgICg8aSBjbGFzcz1cXFwiZmEgZmEtZXh0ZXJuYWwtbGlua1xcXCI+PC9pPlxcblxcdFxcdFxcdFxcdCAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0ICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwid2Vic2l0ZVwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIilcXG5cXHRcXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9hPlwiO1xuO1xufVxuaWYoIXJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm91dGVyX2xvb3BcIikpLFwibGFzdFwiKSkge1xub3V0cHV0ICs9IFwiLFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXFx0XFx0ICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblxcdFxcdCAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbn1cbmZyYW1lID0gZnJhbWUucG9wKCk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHQgICAgICAgICAgICBcIjtcbjtcbn1cbn1cbmZyYW1lID0gZnJhbWUucG9wKCk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIFwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX2FjdGlvbl9idXR0b25zKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIFwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX2Rlc2NyaXB0aW9uKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLXNlY3Rpb24gZGVzY3JpcHRpb24gZXh0cmEtc3BhY2UtdG9wXFxcIj5cXG4gICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImRlc2NyaXB0aW9uXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RmlsdGVyKFwic2FmZVwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZGVzY3JpcHRpb25cIikpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgPCEtLVxcbiAgICAgICAgICAgICAgICAgICAgPGJyLz5cXG4gICAgICAgICAgICAgICAgICAgICgoIFRPRE86IG1ha2UgbWUgY2xpY2stZXhwYW5kYWJsZSApKVxcbiAgICAgICAgICAgICAgICAgICAgLS0+XFxuICAgICAgICAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XFxcInBhbGUtY29sb3JcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJObyBkZXNjcmlwdGlvbiB5ZXQuXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9pPlxcbiAgICAgICAgICAgICAgICAgICAgPC9wPlxcbiAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICBcXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIFwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX3NkZ3MoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIFwiO1xuaWYoZW52LmdldEZpbHRlcihcImxlbmd0aFwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2Rnc1wiKSkgPiAwICYmIGVudi5nZXRGaWx0ZXIoXCJsZW5ndGhcIikuY2FsbChjb250ZXh0LCBydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb250cm9sVmlld1wiKSksXCJhbGxTREdTXCIpKSA+IDApIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIDxwPlxcbiAgICAgICAgICAgICAgICA8Yj5cXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiU3VzdGFpbmFibGUgRGV2ZWxvcG1lbnQgR29hbHNcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgPC9iPlxcbiAgICAgICAgICAgIDwvcD5cXG4gICAgICAgICAgICA8cD5cXG4gICAgXFxuICAgICAgICAgICAgXCI7XG5mcmFtZSA9IGZyYW1lLnB1c2goKTtcbnZhciB0XzU5ID0gcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzZGdzXCIpO1xuaWYodF81OSkge3ZhciB0XzU4ID0gdF81OS5sZW5ndGg7XG5mb3IodmFyIHRfNTc9MDsgdF81NyA8IHRfNTkubGVuZ3RoOyB0XzU3KyspIHtcbnZhciB0XzYwID0gdF81OVt0XzU3XTtcbmZyYW1lLnNldChcInNkZ19pZFwiLCB0XzYwKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXhcIiwgdF81NyArIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleDBcIiwgdF81Nyk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4XCIsIHRfNTggLSB0XzU3KTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXgwXCIsIHRfNTggLSB0XzU3IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmZpcnN0XCIsIHRfNTcgPT09IDApO1xuZnJhbWUuc2V0KFwibG9vcC5sYXN0XCIsIHRfNTcgPT09IHRfNTggLSAxKTtcbmZyYW1lLnNldChcImxvb3AubGVuZ3RoXCIsIHRfNTgpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xuZnJhbWUgPSBmcmFtZS5wdXNoKCk7XG52YXIgdF82MyA9IHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvbnRyb2xWaWV3XCIpKSxcImFsbFNER1NcIik7XG5pZih0XzYzKSB7dmFyIHRfNjIgPSB0XzYzLmxlbmd0aDtcbmZvcih2YXIgdF82MT0wOyB0XzYxIDwgdF82My5sZW5ndGg7IHRfNjErKykge1xudmFyIHRfNjQgPSB0XzYzW3RfNjFdO1xuZnJhbWUuc2V0KFwic2RnXCIsIHRfNjQpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleFwiLCB0XzYxICsgMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4MFwiLCB0XzYxKTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXhcIiwgdF82MiAtIHRfNjEpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleDBcIiwgdF82MiAtIHRfNjEgLSAxKTtcbmZyYW1lLnNldChcImxvb3AuZmlyc3RcIiwgdF82MSA9PT0gMCk7XG5mcmFtZS5zZXQoXCJsb29wLmxhc3RcIiwgdF82MSA9PT0gdF82MiAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5sZW5ndGhcIiwgdF82Mik7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuaWYodF82MCA9PSBydW50aW1lLm1lbWJlckxvb2t1cCgodF82NCksXCJpZFwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBjbGFzcz1cXFwic2RnLWljb25cXFwiIHNyYz1cXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzY0KSxcImljb25cIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xuO1xufVxufVxuZnJhbWUgPSBmcmFtZS5wb3AoKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIFwiO1xuO1xufVxufVxuZnJhbWUgPSBmcmFtZS5wb3AoKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIDwvcD5cXG4gICAgICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgXCI7XG5jYihudWxsLCBvdXRwdXQpO1xuO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfcmVsYXRlZF9jb250ZW50KGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIFwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX2NvbnRhY3QoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgXCI7XG5jYihudWxsLCBvdXRwdXQpO1xuO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfcmVwb3J0X29iamVjdChlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvc2lubnVzX2FjdGl2ZV91c2VyXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwic3BhY2VyXFxcIj4mbmJzcDs8L2Rpdj5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwic3BhY2VyXFxcIj4mbmJzcDs8L2Rpdj5cXG4gICAgICAgICAgICAgICAgPGEgY2xhc3M9XFxcInBhbGUtY29sb3IgYnV0dG9uLXJlcG9ydC1vYmplY3QgbWFwLXNlYXJjaC1yZXBvcnQtb2JqZWN0XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS13YXJuaW5nXFxcIj48L2k+XFxuXCI7XG5vdXRwdXQgKz0gXCJcXG5cIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJSZXBvcnQgb2ZmZW5zaXZlIGNvbnRlbnRcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgICAgICAgICBcXG4gICAgICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgXCI7XG5jYihudWxsLCBvdXRwdXQpO1xuO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfY3JlYXRlX21vZGlmaWVkX3RpbWVzdGFtcHMoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIDxwIGNsYXNzPVxcXCJtYXAtc2VhcmNoLWNyZWF0ZWQtdXBkYXRlZC10aW1lc3RhbXBzXFxcIj5cXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgPGk+XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiQ3JlYXRlZCBvbjogXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiPC9pPlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNyZWF0ZWRcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiIDxicj5cXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgPGk+XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiTGFzdCB1cGRhdGVkIG9uOiBcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCI8L2k+XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibGFzdF9tb2RpZmllZFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICA8L3A+XFxuICAgICAgICBcIjtcbmNiKG51bGwsIG91dHB1dCk7XG47XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxucmV0dXJuIHtcbmJfY29udGVudDogYl9jb250ZW50LFxuYl90eXBlX2FyZWE6IGJfdHlwZV9hcmVhLFxuYl9oZWFkZXJfaW1hZ2U6IGJfaGVhZGVyX2ltYWdlLFxuYl90aXRsZTogYl90aXRsZSxcbmJfdG9wX2xpbmU6IGJfdG9wX2xpbmUsXG5iX3RvcF9saW5lX2dyb3VwOiBiX3RvcF9saW5lX2dyb3VwLFxuYl90b3BfbGluZV9hZGRyZXNzOiBiX3RvcF9saW5lX2FkZHJlc3MsXG5iX2FkZGl0aW9uYWxfdG9wX2xpbmU6IGJfYWRkaXRpb25hbF90b3BfbGluZSxcbmJfdG9waWNfbGluZTogYl90b3BpY19saW5lLFxuYl90ZXh0X3RvcGljX2xpbmU6IGJfdGV4dF90b3BpY19saW5lLFxuYl9tYW5hZ2VkX3RhZ3M6IGJfbWFuYWdlZF90YWdzLFxuYl9hY3Rpb25fYnV0dG9uczogYl9hY3Rpb25fYnV0dG9ucyxcbmJfZGVzY3JpcHRpb246IGJfZGVzY3JpcHRpb24sXG5iX3NkZ3M6IGJfc2RncyxcbmJfcmVsYXRlZF9jb250ZW50OiBiX3JlbGF0ZWRfY29udGVudCxcbmJfY29udGFjdDogYl9jb250YWN0LFxuYl9yZXBvcnRfb2JqZWN0OiBiX3JlcG9ydF9vYmplY3QsXG5iX2NyZWF0ZV9tb2RpZmllZF90aW1lc3RhbXBzOiBiX2NyZWF0ZV9tb2RpZmllZF90aW1lc3RhbXBzLFxucm9vdDogcm9vdFxufTtcblxufSkoKTtcbn0pKCk7XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHNoaW0obnVuanVja3MsIGVudiwgbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZFtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtYmFzZS5odG1sXCJdICwgZGVwZW5kZW5jaWVzKVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy90aWxlLWRldGFpbC1iYXNlLmh0bWxcbi8vIG1vZHVsZSBpZCA9IDQwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBudW5qdWNrcyA9IHJlcXVpcmUoXCJudW5qdWNrcy9icm93c2VyL251bmp1Y2tzLXNsaW1cIik7XG52YXIgZW52O1xuaWYgKCFudW5qdWNrcy5jdXJyZW50RW52KXtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudiA9IG5ldyBudW5qdWNrcy5FbnZpcm9ubWVudChbXSwgdW5kZWZpbmVkKTtcbn0gZWxzZSB7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnY7XG59XG52YXIgY29uZmlndXJlID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uLy4uL251bmp1Y2tzLmNvbmZpZy5qc1wiKShlbnYpO1xudmFyIGRlcGVuZGVuY2llcyA9IG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgfHwgKG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgPSB7fSk7XG5kZXBlbmRlbmNpZXNbXCJ0aWxlcy90aWxlLWRldGFpbC1iYXNlLWdyb3VwXCJdID0gcmVxdWlyZSggXCJ0aWxlcy90aWxlLWRldGFpbC1iYXNlLWdyb3VwXCIgKTtcbmRlcGVuZGVuY2llc1tcImluY2x1ZGUvbWFjcm9zLmh0bWxcIl0gPSByZXF1aXJlKCBcImluY2x1ZGUvbWFjcm9zLmh0bWxcIiApO1xuXG5cblxuXG52YXIgc2hpbSA9IHJlcXVpcmUoXCIvaG9tZS9zYXNjaGEvcHIvY29zaW5udXMtY29yZS9ub2RlX21vZHVsZXMvbnVuanVja3MtbG9hZGVyL3J1bnRpbWUtc2hpbVwiKTtcblxuXG4oZnVuY3Rpb24oKSB7KG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgPSBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkIHx8IHt9KVtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtZ3JvdXBzLmh0bWxcIl0gPSAoZnVuY3Rpb24oKSB7XG5mdW5jdGlvbiByb290KGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG52YXIgcGFyZW50VGVtcGxhdGUgPSBudWxsO1xuZW52LmdldFRlbXBsYXRlKFwidGlsZXMvdGlsZS1kZXRhaWwtYmFzZS1ncm91cFwiLCB0cnVlLCBcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtZ3JvdXBzLmh0bWxcIiwgZmFsc2UsIGZ1bmN0aW9uKHRfMixfcGFyZW50VGVtcGxhdGUpIHtcbmlmKHRfMikgeyBjYih0XzIpOyByZXR1cm47IH1cbnBhcmVudFRlbXBsYXRlID0gX3BhcmVudFRlbXBsYXRlXG5mb3IodmFyIHRfMSBpbiBwYXJlbnRUZW1wbGF0ZS5ibG9ja3MpIHtcbmNvbnRleHQuYWRkQmxvY2sodF8xLCBwYXJlbnRUZW1wbGF0ZS5ibG9ja3NbdF8xXSk7XG59XG5vdXRwdXQgKz0gXCJcXG5cIjtcbmVudi5nZXRUZW1wbGF0ZShcImluY2x1ZGUvbWFjcm9zLmh0bWxcIiwgZmFsc2UsIFwiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy90aWxlLWRldGFpbC1ncm91cHMuaHRtbFwiLCBmYWxzZSwgZnVuY3Rpb24odF80LHRfMykge1xuaWYodF80KSB7IGNiKHRfNCk7IHJldHVybjsgfVxudF8zLmdldEV4cG9ydGVkKGZ1bmN0aW9uKHRfNSx0XzMpIHtcbmlmKHRfNSkgeyBjYih0XzUpOyByZXR1cm47IH1cbmNvbnRleHQuc2V0VmFyaWFibGUoXCJtYWNyb3NcIiwgdF8zKTtcbm91dHB1dCArPSBcIlxcblxcblwiO1xuKHBhcmVudFRlbXBsYXRlID8gZnVuY3Rpb24oZSwgYywgZiwgciwgY2IpIHsgY2IoXCJcIik7IH0gOiBjb250ZXh0LmdldEJsb2NrKFwiYWRkaXRpb25hbF90b3BfbGluZVwiKSkoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF83LHRfNikge1xuaWYodF83KSB7IGNiKHRfNyk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfNjtcbm91dHB1dCArPSBcIlxcblxcblwiO1xuKHBhcmVudFRlbXBsYXRlID8gZnVuY3Rpb24oZSwgYywgZiwgciwgY2IpIHsgY2IoXCJcIik7IH0gOiBjb250ZXh0LmdldEJsb2NrKFwiYWN0aW9uX2J1dHRvbnNcIikpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfOSx0XzgpIHtcbmlmKHRfOSkgeyBjYih0XzkpOyByZXR1cm47IH1cbm91dHB1dCArPSB0Xzg7XG5vdXRwdXQgKz0gXCJcXG5cXG5cXG5cIjtcbihwYXJlbnRUZW1wbGF0ZSA/IGZ1bmN0aW9uKGUsIGMsIGYsIHIsIGNiKSB7IGNiKFwiXCIpOyB9IDogY29udGV4dC5nZXRCbG9jayhcInJlbGF0ZWRfY29udGVudFwiKSkoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF8xMSx0XzEwKSB7XG5pZih0XzExKSB7IGNiKHRfMTEpOyByZXR1cm47IH1cbm91dHB1dCArPSB0XzEwO1xub3V0cHV0ICs9IFwiXFxuXCI7XG5pZihwYXJlbnRUZW1wbGF0ZSkge1xucGFyZW50VGVtcGxhdGUucm9vdFJlbmRlckZ1bmMoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpO1xufSBlbHNlIHtcbmNiKG51bGwsIG91dHB1dCk7XG59XG59KX0pfSl9KX0pfSk7XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl9hZGRpdGlvbmFsX3RvcF9saW5lKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5vdXRwdXQgKz0gXCJcXG5cIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYmxvY2tcIikpLFwic3VwZXJcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImlzX29wZW5fZm9yX2Nvb3BlcmF0aW9uXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG48ZGl2IGNsYXNzPVxcXCJhbGVydCBhcHBseS1iZy1jb2xvci1wcm9qZWN0c1xcXCI+XFxuICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1wdXp6bGUtcGllY2VcXFwiPjwvaT5cXG4gICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgPHA+XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiVGhpcyBncm91cCBpcyBvcGVuIGZvciBmdXJ0aGVyIHBhcnRuZXIgb3JnYW5pemF0aW9ucy5cIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCI8L3A+XFxuPC9kaXY+XFxuXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cIjtcbmNiKG51bGwsIG91dHB1dCk7XG47XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl9hY3Rpb25fYnV0dG9ucyhlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xuY29udGV4dC5nZXRTdXBlcihlbnYsIFwiYWN0aW9uX2J1dHRvbnNcIiwgYl9hY3Rpb25fYnV0dG9ucywgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfMTIsaG9sZV8zKSB7XG5pZih0XzEyKSB7IGNiKHRfMTIpOyByZXR1cm47IH1cbmhvbGVfMyA9IHJ1bnRpbWUubWFya1NhZmUoaG9sZV8zKTtcbm91dHB1dCArPSBcIlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLXNlY3Rpb24gdGlsZS1zZWN0aW9uLWJ1dHRvbi1saXN0XFxcIj5cXG4gICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShob2xlXzMsIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgIFxcbiAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImlzX21lbWJlclwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPGEgY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uIGJ1dHRvbi1hY3Rpb24gZGlzYWJsZWRcXFwiPlxcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwicm91bmRlZC1idXR0b24taW5uZXJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc1M9XFxcImZhIGZhLWNoZWNrXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiWW91IGFyZSBhIE1lbWJlclwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgPGEgaHJlZj1cXFwiXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImFjdGlvbl91cmxfMVwiKSkge1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImFjdGlvbl91cmxfMVwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG47XG59XG5lbHNlIHtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ1cmxcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xuO1xufVxub3V0cHV0ICs9IFwiXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCIgY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uIGJ1dHRvbi1hY3Rpb25cXFwiPlxcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwicm91bmRlZC1idXR0b24taW5uZXJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImlzX2ludml0ZWRcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiWW91IGFyZSBpbnZpdGVkIVwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiaXNfcGVuZGluZ1wiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJNZW1iZXJzaGlwIHJlcXVlc3QgcGVuZGluZy4uLlwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiSm9pbiBHcm91cFwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgICAgIDwvYT5cXG4gICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWN0aW9uX3VybF8yXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICA8YSBocmVmPVxcXCJcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJhY3Rpb25fdXJsXzJcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCIgY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uIGJ1dHRvbi1hY3Rpb25cXFwiPlxcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwicm91bmRlZC1idXR0b24taW5uZXJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkNvbnRhY3QgR3JvdXAgQWRtaW5zXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgICA8L2E+XFxuICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICA8L2Rpdj5cXG4gICAgXFxuICAgIDxkaXYgY2xhc3M9XFxcIm5vLWlucHV0XFxcIj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcIm5vdy1mb2xsb3dpbmctbWVzc2FnZSBtZXNzYWdlLXN1Y2Nlc3MgZXh0cmEtc3BhY2UtdG9wXFxcIiBzdHlsZT1cXFwiZGlzcGxheTogbm9uZTtcXFwiPlxcbiAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYXMgZmEtYmVsbFxcXCI+PC9pPlxcbiAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiWW91IHdpbGwgbm93IHJlY2VpdmUgbm90aWZpY2F0aW9ucyBmb3IgY29udGVudCBwb3N0ZWQgaW4gdGhpcyBncm91cC5cIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIklmIHlvdSBkbyBub3Qgd2FudCBub3RpZmljYXRpb25zLCBjbGljayB0aGUgdW5mb2xsb3cgYnV0dG9uIVwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICAgXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJsaWtlLWJ1dHRvbi1lcnJvciBtZXNzYWdlLWVycm9yIGV4dHJhLXNwYWNlLXRvcFxcXCIgc3R5bGU9XFxcImRpc3BsYXk6IG5vbmU7XFxcIj5cXG4gICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkNvdWxkIG5vdCBzYXZlIHlvdXIgbGlrZSBzZXR0aW5nIGJlY2F1c2Ugb2YgYW4gZXJyb3IuXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImZvbGxvdy1idXR0b24tZXJyb3IgbWVzc2FnZS1lcnJvciBleHRyYS1zcGFjZS10b3BcXFwiIHN0eWxlPVxcXCJkaXNwbGF5OiBub25lO1xcXCI+XFxuICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJDb3VsZCBub3Qgc2F2ZSB5b3VyIGZvbGxvdyBzZXR0aW5nIGJlY2F1c2Ugb2YgYW4gZXJyb3IuXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuXCI7XG5jYihudWxsLCBvdXRwdXQpO1xufSk7XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl9yZWxhdGVkX2NvbnRlbnQoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbmNvbnRleHQuZ2V0U3VwZXIoZW52LCBcInJlbGF0ZWRfY29udGVudFwiLCBiX3JlbGF0ZWRfY29udGVudCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfMTMsaG9sZV80KSB7XG5pZih0XzEzKSB7IGNiKHRfMTMpOyByZXR1cm47IH1cbmhvbGVfNCA9IHJ1bnRpbWUubWFya1NhZmUoaG9sZV80KTtcbm91dHB1dCArPSBcIlxcbiAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoaG9sZV80LCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcbiAgICBcIjtcbmlmKGVudi5nZXRGaWx0ZXIoXCJsZW5ndGhcIikuY2FsbChjb250ZXh0LCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInByb2plY3RzXCIpKSA+IDApIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uIHRpbGUtc2VjdGlvbi1kaXZpZGVkXFxcIj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJzdWJoZWFkaW5nXFxcIj5cXG4gICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWdyb3VwXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIlByb2plY3RzXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiIChcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEZpbHRlcihcImxlbmd0aFwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicHJvamVjdHNcIikpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIilcXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uXFxcIj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJyb3dcXFwiPlxcbiAgICAgICAgICAgICAgICBcIjtcbmZyYW1lID0gZnJhbWUucHVzaCgpO1xudmFyIHRfMTYgPSBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInByb2plY3RzXCIpO1xuaWYodF8xNikge3ZhciB0XzE1ID0gdF8xNi5sZW5ndGg7XG5mb3IodmFyIHRfMTQ9MDsgdF8xNCA8IHRfMTYubGVuZ3RoOyB0XzE0KyspIHtcbnZhciB0XzE3ID0gdF8xNlt0XzE0XTtcbmZyYW1lLnNldChcInByb2plY3RcIiwgdF8xNyk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfMTQgKyAxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXgwXCIsIHRfMTQpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleFwiLCB0XzE1IC0gdF8xNCk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4MFwiLCB0XzE1IC0gdF8xNCAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzE0ID09PSAwKTtcbmZyYW1lLnNldChcImxvb3AubGFzdFwiLCB0XzE0ID09PSB0XzE1IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzE1KTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTZcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSgobGluZW5vID0gODgsIGNvbG5vID0gNDAsIHJ1bnRpbWUuY2FsbFdyYXAocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibWFjcm9zXCIpKSxcIml0ZW1DYXJkXCIpLCBcIm1hY3Jvc1tcXFwiaXRlbUNhcmRcXFwiXVwiLCBjb250ZXh0LCBbcnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTcpLFwicG9ydGFsXCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzE3KSxcInNsdWdcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTcpLFwidGl0bGVcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTcpLFwidHlwZVwiKSxydW50aW1lLm1lbWJlckxvb2t1cCgodF8xNyksXCJpY29uSW1hZ2VVcmxcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTcpLFwiYWRkcmVzc1wiKSxcImZhLW1hcC1tYXJrZXJcIixydW50aW1lLm1lbWJlckxvb2t1cCgodF8xNyksXCJkYXRhU2xvdDFcIiksXCJmYS1ncm91cFwiLHJ1bnRpbWUubWFrZUtleXdvcmRBcmdzKHtcImNvc2lubnVzX2FjdGl2ZV91c2VyXCI6IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29zaW5udXNfYWN0aXZlX3VzZXJcIil9KV0pKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbn1cbmZyYW1lID0gZnJhbWUucG9wKCk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICBcXG5cIjtcbmNiKG51bGwsIG91dHB1dCk7XG59KTtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5yZXR1cm4ge1xuYl9hZGRpdGlvbmFsX3RvcF9saW5lOiBiX2FkZGl0aW9uYWxfdG9wX2xpbmUsXG5iX2FjdGlvbl9idXR0b25zOiBiX2FjdGlvbl9idXR0b25zLFxuYl9yZWxhdGVkX2NvbnRlbnQ6IGJfcmVsYXRlZF9jb250ZW50LFxucm9vdDogcm9vdFxufTtcblxufSkoKTtcbn0pKCk7XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHNoaW0obnVuanVja3MsIGVudiwgbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZFtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtZ3JvdXBzLmh0bWxcIl0gLCBkZXBlbmRlbmNpZXMpXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtZGV0YWlsLWdyb3Vwcy5odG1sXG4vLyBtb2R1bGUgaWQgPSA0MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgbnVuanVja3MgPSByZXF1aXJlKFwibnVuanVja3MvYnJvd3Nlci9udW5qdWNrcy1zbGltXCIpO1xudmFyIGVudjtcbmlmICghbnVuanVja3MuY3VycmVudEVudil7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnYgPSBuZXcgbnVuanVja3MuRW52aXJvbm1lbnQoW10sIHVuZGVmaW5lZCk7XG59IGVsc2Uge1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52O1xufVxudmFyIGNvbmZpZ3VyZSA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi8uLi9udW5qdWNrcy5jb25maWcuanNcIikoZW52KTtcbnZhciBkZXBlbmRlbmNpZXMgPSBudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzIHx8IChudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzID0ge30pO1xuZGVwZW5kZW5jaWVzW1widGlsZXMvdGlsZS1kZXRhaWwtYmFzZS1ncm91cFwiXSA9IHJlcXVpcmUoIFwidGlsZXMvdGlsZS1kZXRhaWwtYmFzZS1ncm91cFwiICk7XG5kZXBlbmRlbmNpZXNbXCJpbmNsdWRlL21hY3Jvcy5odG1sXCJdID0gcmVxdWlyZSggXCJpbmNsdWRlL21hY3Jvcy5odG1sXCIgKTtcblxuXG5cblxudmFyIHNoaW0gPSByZXF1aXJlKFwiL2hvbWUvc2FzY2hhL3ByL2Nvc2lubnVzLWNvcmUvbm9kZV9tb2R1bGVzL251bmp1Y2tzLWxvYWRlci9ydW50aW1lLXNoaW1cIik7XG5cblxuKGZ1bmN0aW9uKCkgeyhudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkID0gbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZCB8fCB7fSlbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtZGV0YWlsLWNvbmZlcmVuY2VzLmh0bWxcIl0gPSAoZnVuY3Rpb24oKSB7XG5mdW5jdGlvbiByb290KGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG52YXIgcGFyZW50VGVtcGxhdGUgPSBudWxsO1xuZW52LmdldFRlbXBsYXRlKFwidGlsZXMvdGlsZS1kZXRhaWwtYmFzZS1ncm91cFwiLCB0cnVlLCBcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtY29uZmVyZW5jZXMuaHRtbFwiLCBmYWxzZSwgZnVuY3Rpb24odF8yLF9wYXJlbnRUZW1wbGF0ZSkge1xuaWYodF8yKSB7IGNiKHRfMik7IHJldHVybjsgfVxucGFyZW50VGVtcGxhdGUgPSBfcGFyZW50VGVtcGxhdGVcbmZvcih2YXIgdF8xIGluIHBhcmVudFRlbXBsYXRlLmJsb2Nrcykge1xuY29udGV4dC5hZGRCbG9jayh0XzEsIHBhcmVudFRlbXBsYXRlLmJsb2Nrc1t0XzFdKTtcbn1cbm91dHB1dCArPSBcIlxcblwiO1xuZW52LmdldFRlbXBsYXRlKFwiaW5jbHVkZS9tYWNyb3MuaHRtbFwiLCBmYWxzZSwgXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtZGV0YWlsLWNvbmZlcmVuY2VzLmh0bWxcIiwgZmFsc2UsIGZ1bmN0aW9uKHRfNCx0XzMpIHtcbmlmKHRfNCkgeyBjYih0XzQpOyByZXR1cm47IH1cbnRfMy5nZXRFeHBvcnRlZChmdW5jdGlvbih0XzUsdF8zKSB7XG5pZih0XzUpIHsgY2IodF81KTsgcmV0dXJuOyB9XG5jb250ZXh0LnNldFZhcmlhYmxlKFwibWFjcm9zXCIsIHRfMyk7XG5vdXRwdXQgKz0gXCJcXG5cXG5cIjtcbihwYXJlbnRUZW1wbGF0ZSA/IGZ1bmN0aW9uKGUsIGMsIGYsIHIsIGNiKSB7IGNiKFwiXCIpOyB9IDogY29udGV4dC5nZXRCbG9jayhcImFkZGl0aW9uYWxfdG9wX2xpbmVcIikpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfNyx0XzYpIHtcbmlmKHRfNykgeyBjYih0XzcpOyByZXR1cm47IH1cbm91dHB1dCArPSB0XzY7XG5vdXRwdXQgKz0gXCJcXG5cXG5cIjtcbihwYXJlbnRUZW1wbGF0ZSA/IGZ1bmN0aW9uKGUsIGMsIGYsIHIsIGNiKSB7IGNiKFwiXCIpOyB9IDogY29udGV4dC5nZXRCbG9jayhcImdyb3VwX2V2ZW50c1wiKSkoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF85LHRfOCkge1xuaWYodF85KSB7IGNiKHRfOSk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfODtcbm91dHB1dCArPSBcIlxcblxcblwiO1xuKHBhcmVudFRlbXBsYXRlID8gZnVuY3Rpb24oZSwgYywgZiwgciwgY2IpIHsgY2IoXCJcIik7IH0gOiBjb250ZXh0LmdldEJsb2NrKFwiYWN0aW9uX2J1dHRvbnNcIikpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfMTEsdF8xMCkge1xuaWYodF8xMSkgeyBjYih0XzExKTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF8xMDtcbm91dHB1dCArPSBcIlxcblxcblwiO1xuKHBhcmVudFRlbXBsYXRlID8gZnVuY3Rpb24oZSwgYywgZiwgciwgY2IpIHsgY2IoXCJcIik7IH0gOiBjb250ZXh0LmdldEJsb2NrKFwiY3JlYXRlX21vZGlmaWVkX3RpbWVzdGFtcHNcIikpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfMTMsdF8xMikge1xuaWYodF8xMykgeyBjYih0XzEzKTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF8xMjtcbm91dHB1dCArPSBcIlxcblwiO1xuaWYocGFyZW50VGVtcGxhdGUpIHtcbnBhcmVudFRlbXBsYXRlLnJvb3RSZW5kZXJGdW5jKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKTtcbn0gZWxzZSB7XG5jYihudWxsLCBvdXRwdXQpO1xufVxufSl9KX0pfSl9KX0pfSk7XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl9hZGRpdGlvbmFsX3RvcF9saW5lKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uIHRpbGUtc2VjdGlvblxcXCI+XFxuICAgICAgICA8ZGl2PlxcbiAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1mdyBmYS1jbG9jay1vXFxcIj48L2k+XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRGaWx0ZXIoXCJzYWZlXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0aW1lX2h0bWxcIikpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLXNlY3Rpb24gdGlsZS1zZWN0aW9uXFxcIj5cXG4gICAgICAgIDxkaXY+XFxuICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLXVzZXJcXFwiPjwvaT5cXG5cXHQgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0ICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJQYXJ0aWNpcGFudHNcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCI6IFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInBhcnRpY2lwYW50X2NvdW50XCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdCAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInBhcnRpY2lwYW50c19saW1pdF9jb3VudFwiKSkge1xub3V0cHV0ICs9IFwiXFxuXFx0ICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgKFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIm1heC5cIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCIgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicGFydGljaXBhbnRzX2xpbWl0X2NvdW50XCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIikgXFxuXFx0ICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcblwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX2dyb3VwX2V2ZW50cyhlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xub3V0cHV0ICs9IFwiXFxuICAgIFwiO1xuaWYoZW52LmdldEZpbHRlcihcImxlbmd0aFwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZXZlbnRzXCIpKSA+IDApIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uIHRpbGUtc2VjdGlvbi1kaXZpZGVkXFxcIj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJzdWJoZWFkaW5nXFxcIj5cXG4gICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWNhbGVuZGFyXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIldvcmtzaG9wc1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIiAoXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRGaWx0ZXIoXCJsZW5ndGhcIikuY2FsbChjb250ZXh0LCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImV2ZW50c1wiKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiKVxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLXNlY3Rpb25cXFwiPlxcbiAgICAgICAgICAgIFwiO1xuZnJhbWUgPSBmcmFtZS5wdXNoKCk7XG52YXIgdF8xNiA9IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZXZlbnRzXCIpO1xuaWYodF8xNikge3ZhciB0XzE1ID0gdF8xNi5sZW5ndGg7XG5mb3IodmFyIHRfMTQ9MDsgdF8xNCA8IHRfMTYubGVuZ3RoOyB0XzE0KyspIHtcbnZhciB0XzE3ID0gdF8xNlt0XzE0XTtcbmZyYW1lLnNldChcImV2ZW50XCIsIHRfMTcpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleFwiLCB0XzE0ICsgMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4MFwiLCB0XzE0KTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXhcIiwgdF8xNSAtIHRfMTQpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleDBcIiwgdF8xNSAtIHRfMTQgLSAxKTtcbmZyYW1lLnNldChcImxvb3AuZmlyc3RcIiwgdF8xNCA9PT0gMCk7XG5mcmFtZS5zZXQoXCJsb29wLmxhc3RcIiwgdF8xNCA9PT0gdF8xNSAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5sZW5ndGhcIiwgdF8xNSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKChsaW5lbm8gPSAzMywgY29sbm8gPSAzMiwgcnVudGltZS5jYWxsV3JhcChydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJtYWNyb3NcIikpLFwiaXRlbUNhcmRcIiksIFwibWFjcm9zW1xcXCJpdGVtQ2FyZFxcXCJdXCIsIGNvbnRleHQsIFtydW50aW1lLm1lbWJlckxvb2t1cCgodF8xNyksXCJwb3J0YWxcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTcpLFwic2x1Z1wiKSxydW50aW1lLm1lbWJlckxvb2t1cCgodF8xNyksXCJ0aXRsZVwiKSxydW50aW1lLm1lbWJlckxvb2t1cCgodF8xNyksXCJ0eXBlXCIpLHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibnVsbFwiKSxlbnYuZ2V0RmlsdGVyKFwic2FmZVwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzE3KSxcImRhdGFTbG90MVwiKSksXCJmYS1jbG9jay1vXCIscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTcpLFwiYWRkcmVzc1wiKSxcImZhLW1hcC1tYXJrZXJcIixydW50aW1lLm1ha2VLZXl3b3JkQXJncyh7XCJjb3Npbm51c19hY3RpdmVfdXNlclwiOiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvc2lubnVzX2FjdGl2ZV91c2VyXCIpLFwiZ3JvdXBfc2x1Z1wiOiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNsdWdcIil9KV0pKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbjtcbn1cbn1cbmZyYW1lID0gZnJhbWUucG9wKCk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIDwvZGl2PlxcbiAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX2FjdGlvbl9idXR0b25zKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5jb250ZXh0LmdldFN1cGVyKGVudiwgXCJhY3Rpb25fYnV0dG9uc1wiLCBiX2FjdGlvbl9idXR0b25zLCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF8xOCxob2xlXzcpIHtcbmlmKHRfMTgpIHsgY2IodF8xOCk7IHJldHVybjsgfVxuaG9sZV83ID0gcnVudGltZS5tYXJrU2FmZShob2xlXzcpO1xub3V0cHV0ICs9IFwiXFxuICAgIDxkaXYgY2xhc3M9XFxcInRpbGUtc2VjdGlvbiB0aWxlLXNlY3Rpb24tYnV0dG9uLWxpc3RcXFwiPlxcbiAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGhvbGVfNywgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIFxcbiAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImlzX21lbWJlclwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPGEgY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uIGJ1dHRvbi1hY3Rpb24gZGlzYWJsZWRcXFwiPlxcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwicm91bmRlZC1idXR0b24taW5uZXJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc1M9XFxcImZhIGZhLWNoZWNrXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiWW91IGFyZSBwYXJ0aWNpcGF0aW5nXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgICA8L2E+XFxuICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICA8YSBocmVmPVxcXCJcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWN0aW9uX3VybF8xXCIpKSB7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWN0aW9uX3VybF8xXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbjtcbn1cbmVsc2Uge1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInVybFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG47XG59XG5vdXRwdXQgKz0gXCJcXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIiBjbGFzcz1cXFwicm91bmRlZC1idXR0b24gYnV0dG9uLWFjdGlvblxcXCI+XFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbi1pbm5lclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiaXNfaW52aXRlZFwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJZb3UgYXJlIGludml0ZWQhXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJpc19wZW5kaW5nXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIlBhcnRpY2lwYXRpb24gcmVxdWVzdCBwZW5kaW5nLi4uXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xub3V0cHV0ICs9IFwiXFxuXFx0ICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcblxcdCAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiUGFydGljaXBhdGVcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgICA8L2E+XFxuICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImFjdGlvbl91cmxfMlwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPGEgaHJlZj1cXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWN0aW9uX3VybF8yXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbiBidXR0b24tYWN0aW9uXFxcIj5cXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uLWlubmVyXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJDb250YWN0IENvbmZlcmVuY2UgQWRtaW5zXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgICA8L2E+XFxuICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICA8L2Rpdj5cXG4gICAgXFxuICAgIDxkaXYgY2xhc3M9XFxcIm5vLWlucHV0XFxcIj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcIm5vdy1mb2xsb3dpbmctbWVzc2FnZSBtZXNzYWdlLXN1Y2Nlc3MgZXh0cmEtc3BhY2UtdG9wXFxcIiBzdHlsZT1cXFwiZGlzcGxheTogbm9uZTtcXFwiPlxcbiAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYXMgZmEtYmVsbFxcXCI+PC9pPlxcbiAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiWW91IHdpbGwgbm93IHJlY2VpdmUgbm90aWZpY2F0aW9ucyBmb3IgY29udGVudCBwb3N0ZWQuXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJJZiB5b3UgZG8gbm90IHdhbnQgbm90aWZpY2F0aW9ucywgY2xpY2sgdGhlIHVuZm9sbG93IGJ1dHRvbiFcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgIFxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwibGlrZS1idXR0b24tZXJyb3IgbWVzc2FnZS1lcnJvciBleHRyYS1zcGFjZS10b3BcXFwiIHN0eWxlPVxcXCJkaXNwbGF5OiBub25lO1xcXCI+XFxuICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJDb3VsZCBub3Qgc2F2ZSB5b3VyIGxpa2Ugc2V0dGluZyBiZWNhdXNlIG9mIGFuIGVycm9yLlwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmb2xsb3ctYnV0dG9uLWVycm9yIG1lc3NhZ2UtZXJyb3IgZXh0cmEtc3BhY2UtdG9wXFxcIiBzdHlsZT1cXFwiZGlzcGxheTogbm9uZTtcXFwiPlxcbiAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiQ291bGQgbm90IHNhdmUgeW91ciBmb2xsb3cgc2V0dGluZyBiZWNhdXNlIG9mIGFuIGVycm9yLlwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcblwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbn0pO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfY3JlYXRlX21vZGlmaWVkX3RpbWVzdGFtcHMoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcbiAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjcmVhdGVkXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJsYXN0X21vZGlmaWVkXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5yZXR1cm4ge1xuYl9hZGRpdGlvbmFsX3RvcF9saW5lOiBiX2FkZGl0aW9uYWxfdG9wX2xpbmUsXG5iX2dyb3VwX2V2ZW50czogYl9ncm91cF9ldmVudHMsXG5iX2FjdGlvbl9idXR0b25zOiBiX2FjdGlvbl9idXR0b25zLFxuYl9jcmVhdGVfbW9kaWZpZWRfdGltZXN0YW1wczogYl9jcmVhdGVfbW9kaWZpZWRfdGltZXN0YW1wcyxcbnJvb3Q6IHJvb3Rcbn07XG5cbn0pKCk7XG59KSgpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBzaGltKG51bmp1Y2tzLCBlbnYsIG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWRbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtZGV0YWlsLWNvbmZlcmVuY2VzLmh0bWxcIl0gLCBkZXBlbmRlbmNpZXMpXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtZGV0YWlsLWNvbmZlcmVuY2VzLmh0bWxcbi8vIG1vZHVsZSBpZCA9IDQyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBudW5qdWNrcyA9IHJlcXVpcmUoXCJudW5qdWNrcy9icm93c2VyL251bmp1Y2tzLXNsaW1cIik7XG52YXIgZW52O1xuaWYgKCFudW5qdWNrcy5jdXJyZW50RW52KXtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudiA9IG5ldyBudW5qdWNrcy5FbnZpcm9ubWVudChbXSwgdW5kZWZpbmVkKTtcbn0gZWxzZSB7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnY7XG59XG52YXIgY29uZmlndXJlID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uLy4uL251bmp1Y2tzLmNvbmZpZy5qc1wiKShlbnYpO1xudmFyIGRlcGVuZGVuY2llcyA9IG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgfHwgKG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgPSB7fSk7XG5kZXBlbmRlbmNpZXNbXCJ0aWxlcy90aWxlLWRldGFpbC1iYXNlXCJdID0gcmVxdWlyZSggXCJ0aWxlcy90aWxlLWRldGFpbC1iYXNlXCIgKTtcbmRlcGVuZGVuY2llc1tcImluY2x1ZGUvbWFjcm9zLmh0bWxcIl0gPSByZXF1aXJlKCBcImluY2x1ZGUvbWFjcm9zLmh0bWxcIiApO1xuXG5cblxuXG52YXIgc2hpbSA9IHJlcXVpcmUoXCIvaG9tZS9zYXNjaGEvcHIvY29zaW5udXMtY29yZS9ub2RlX21vZHVsZXMvbnVuanVja3MtbG9hZGVyL3J1bnRpbWUtc2hpbVwiKTtcblxuXG4oZnVuY3Rpb24oKSB7KG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgPSBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkIHx8IHt9KVtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtcGVvcGxlLmh0bWxcIl0gPSAoZnVuY3Rpb24oKSB7XG5mdW5jdGlvbiByb290KGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG52YXIgcGFyZW50VGVtcGxhdGUgPSBudWxsO1xuZW52LmdldFRlbXBsYXRlKFwidGlsZXMvdGlsZS1kZXRhaWwtYmFzZVwiLCB0cnVlLCBcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtcGVvcGxlLmh0bWxcIiwgZmFsc2UsIGZ1bmN0aW9uKHRfMixfcGFyZW50VGVtcGxhdGUpIHtcbmlmKHRfMikgeyBjYih0XzIpOyByZXR1cm47IH1cbnBhcmVudFRlbXBsYXRlID0gX3BhcmVudFRlbXBsYXRlXG5mb3IodmFyIHRfMSBpbiBwYXJlbnRUZW1wbGF0ZS5ibG9ja3MpIHtcbmNvbnRleHQuYWRkQmxvY2sodF8xLCBwYXJlbnRUZW1wbGF0ZS5ibG9ja3NbdF8xXSk7XG59XG5vdXRwdXQgKz0gXCJcXG5cIjtcbmVudi5nZXRUZW1wbGF0ZShcImluY2x1ZGUvbWFjcm9zLmh0bWxcIiwgZmFsc2UsIFwiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy90aWxlLWRldGFpbC1wZW9wbGUuaHRtbFwiLCBmYWxzZSwgZnVuY3Rpb24odF80LHRfMykge1xuaWYodF80KSB7IGNiKHRfNCk7IHJldHVybjsgfVxudF8zLmdldEV4cG9ydGVkKGZ1bmN0aW9uKHRfNSx0XzMpIHtcbmlmKHRfNSkgeyBjYih0XzUpOyByZXR1cm47IH1cbmNvbnRleHQuc2V0VmFyaWFibGUoXCJtYWNyb3NcIiwgdF8zKTtcbm91dHB1dCArPSBcIlxcblxcblwiO1xuKHBhcmVudFRlbXBsYXRlID8gZnVuY3Rpb24oZSwgYywgZiwgciwgY2IpIHsgY2IoXCJcIik7IH0gOiBjb250ZXh0LmdldEJsb2NrKFwiaGVhZGVyX2ltYWdlXCIpKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzcsdF82KSB7XG5pZih0XzcpIHsgY2IodF83KTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF82O1xub3V0cHV0ICs9IFwiXFxuXFxuXCI7XG4ocGFyZW50VGVtcGxhdGUgPyBmdW5jdGlvbihlLCBjLCBmLCByLCBjYikgeyBjYihcIlwiKTsgfSA6IGNvbnRleHQuZ2V0QmxvY2soXCJ0b3BpY19saW5lXCIpKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzksdF84KSB7XG5pZih0XzkpIHsgY2IodF85KTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF84O1xub3V0cHV0ICs9IFwiXFxuXFxuXCI7XG4ocGFyZW50VGVtcGxhdGUgPyBmdW5jdGlvbihlLCBjLCBmLCByLCBjYikgeyBjYihcIlwiKTsgfSA6IGNvbnRleHQuZ2V0QmxvY2soXCJ0b3BfbGluZV9hZGRyZXNzXCIpKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzExLHRfMTApIHtcbmlmKHRfMTEpIHsgY2IodF8xMSk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfMTA7XG5vdXRwdXQgKz0gXCJcXG5cXG5cIjtcbihwYXJlbnRUZW1wbGF0ZSA/IGZ1bmN0aW9uKGUsIGMsIGYsIHIsIGNiKSB7IGNiKFwiXCIpOyB9IDogY29udGV4dC5nZXRCbG9jayhcImFjdGlvbl9idXR0b25zXCIpKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzEzLHRfMTIpIHtcbmlmKHRfMTMpIHsgY2IodF8xMyk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfMTI7XG5vdXRwdXQgKz0gXCJcXG5cXG5cXG5cIjtcbihwYXJlbnRUZW1wbGF0ZSA/IGZ1bmN0aW9uKGUsIGMsIGYsIHIsIGNiKSB7IGNiKFwiXCIpOyB9IDogY29udGV4dC5nZXRCbG9jayhcInJlbGF0ZWRfY29udGVudFwiKSkoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF8xNSx0XzE0KSB7XG5pZih0XzE1KSB7IGNiKHRfMTUpOyByZXR1cm47IH1cbm91dHB1dCArPSB0XzE0O1xub3V0cHV0ICs9IFwiXFxuXFxuXCI7XG4ocGFyZW50VGVtcGxhdGUgPyBmdW5jdGlvbihlLCBjLCBmLCByLCBjYikgeyBjYihcIlwiKTsgfSA6IGNvbnRleHQuZ2V0QmxvY2soXCJjcmVhdGVfbW9kaWZpZWRfdGltZXN0YW1wc1wiKSkoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF8xNyx0XzE2KSB7XG5pZih0XzE3KSB7IGNiKHRfMTcpOyByZXR1cm47IH1cbm91dHB1dCArPSB0XzE2O1xub3V0cHV0ICs9IFwiXFxuXCI7XG5pZihwYXJlbnRUZW1wbGF0ZSkge1xucGFyZW50VGVtcGxhdGUucm9vdFJlbmRlckZ1bmMoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpO1xufSBlbHNlIHtcbmNiKG51bGwsIG91dHB1dCk7XG59XG59KX0pfSl9KX0pfSl9KX0pfSk7XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl9oZWFkZXJfaW1hZ2UoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJzaW5nbGUtdGlsZS1pbWFnZVxcXCI+XFxuICAgICAgICA8aW1nIGNsYXNzPVxcXCJmcmFtZWQtdGlsZS1pbWFnZVxcXCIgc3JjPVxcXCJcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJpY29uSW1hZ2VVcmxcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxcIiAvPlxcbiAgICA8L2Rpdj5cXG5cIjtcbmNiKG51bGwsIG91dHB1dCk7XG47XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl90b3BpY19saW5lKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5jb250ZXh0LmdldFN1cGVyKGVudiwgXCJ0b3BpY19saW5lXCIsIGJfdG9waWNfbGluZSwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfMTgsaG9sZV8xMCkge1xuaWYodF8xOCkgeyBjYih0XzE4KTsgcmV0dXJuOyB9XG5ob2xlXzEwID0gcnVudGltZS5tYXJrU2FmZShob2xlXzEwKTtcbm91dHB1dCArPSBcIlxcblxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShob2xlXzEwLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcbiAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibWF5X2JlX2NvbnRhY3RlZFwiKSA9PSB0cnVlKSB7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHQ8ZGl2IGNsYXNzPVxcXCJ0b3AtbGluZSBleHRyYS1zcGFjZSBleHRyYS1zcGFjZS10b3BcXFwiPlxcbiAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1mdyBmYS1jb21tZW50aW5nLW9cXFwiPjwvaT5cXG4gICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIk9wZW4gdG8gYmUgY29udGFjdGVkIGFib3V0IHBvdGVudGlhbCBjb2xsYWJvcmF0aW9uIG9wcG9ydHVuaXRpZXNcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIDwvZGl2PlxcblxcdFwiO1xuO1xufVxuZWxzZSB7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm1heV9iZV9jb250YWN0ZWRcIikgPT0gZmFsc2UpIHtcbm91dHB1dCArPSBcIlxcblxcdFxcdDxkaXYgY2xhc3M9XFxcInRvcC1saW5lIGV4dHJhLXNwYWNlIGV4dHJhLXNwYWNlLXRvcFxcXCI+XFxuICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWZ3IGZhLWJhblxcXCI+PC9pPlxcbiAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiRG9lcyBOT1Qgd2lzaCB0byBiZSBjb250YWN0ZWQgZm9yIHBvdGVudGlhbCBjb2xsYWJvcmF0aW9uIVwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgPC9kaXY+XFxuXFx0XCI7XG47XG59XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cXG5cIjtcbmNiKG51bGwsIG91dHB1dCk7XG59KTtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX3RvcF9saW5lX2FkZHJlc3MoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbmNiKG51bGwsIG91dHB1dCk7XG47XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl9hY3Rpb25fYnV0dG9ucyhlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xuY29udGV4dC5nZXRTdXBlcihlbnYsIFwiYWN0aW9uX2J1dHRvbnNcIiwgYl9hY3Rpb25fYnV0dG9ucywgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfMTksaG9sZV8xMikge1xuaWYodF8xOSkgeyBjYih0XzE5KTsgcmV0dXJuOyB9XG5ob2xlXzEyID0gcnVudGltZS5tYXJrU2FmZShob2xlXzEyKTtcbm91dHB1dCArPSBcIlxcblxcdFwiO1xuaWYoIXJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiaXNfc2VsZlwiKSkge1xub3V0cHV0ICs9IFwiXFxuXFx0ICAgIDxkaXYgY2xhc3M9XFxcInRpbGUtc2VjdGlvbiB0aWxlLXNlY3Rpb24tYnV0dG9uLWxpc3RcXFwiPlxcbiAgICAgICAgICAgIDxhIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbiBidXR0b24tYWN0aW9uIGJ1dHRvbi1zdGFyXFxcIj5cXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uLWlubmVyXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzdGFycmVkXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmFzIGZhLXN0YXJcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzdGFycmluZ0xhYmVsXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYXIgZmEtc3RhclxcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInN0YXJMYWJlbFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgICA8L2E+XFxuXFx0ICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWN0aW9uX3VybF8xXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHQgICAgICAgIDxhIGhyZWY9XFxcIlwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJhY3Rpb25fdXJsXzFcIikpIHtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJhY3Rpb25fdXJsXzFcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xuO1xufVxuZWxzZSB7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwidXJsXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbjtcbn1cbm91dHB1dCArPSBcIlxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbiBidXR0b24tYWN0aW9uXFxcIj5cXG5cXHRcXHQgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwicm91bmRlZC1idXR0b24taW5uZXJcXFwiPlxcblxcdFxcdCAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdCAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJTZW5kIE1lc3NhZ2VcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHQgICAgICAgICAgICA8L3NwYW4+XFxuXFx0XFx0ICAgICAgICA8L2E+XFxuICAgICAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICA8YSBocmVmPVxcXCJcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb250cm9sVmlld1wiKSksXCJwb3J0YWxJbmZvXCIpKSxydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInBvcnRhbFwiKSkpLFwiZG9tYWluXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ1cmxcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCIgY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uIGJ1dHRvbi1hY3Rpb24gYnV0dG9uLXN0YXJcXFwiPlxcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwicm91bmRlZC1idXR0b24taW5uZXJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLXVzZXJcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0ICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiVG8gUHJvZmlsZVwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgICAgPC9hPlxcblxcdCAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGhvbGVfMTIsIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0ICAgIDwvZGl2PlxcbiAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbn0pO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfcmVsYXRlZF9jb250ZW50KGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5vdXRwdXQgKz0gXCJcXG5cXG4gICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImV4dHJhX2h0bWxcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEZpbHRlcihcInNhZmVcIikuY2FsbChjb250ZXh0LCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImV4dHJhX2h0bWxcIikpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblxcbiAgICBcIjtcbmlmKGVudi5nZXRGaWx0ZXIoXCJsZW5ndGhcIikuY2FsbChjb250ZXh0LCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImdyb3Vwc1wiKSkgPiAwKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImNsZWFyZml4XFxcIj48L2Rpdj5cXG4gICAgXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLXNlY3Rpb24gdGlsZS1zZWN0aW9uLWRpdmlkZWRcXFwiPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInN1YmhlYWRpbmdcXFwiPlxcbiAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtc2l0ZW1hcFxcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJHcm91cHNcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCIgKFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RmlsdGVyKFwibGVuZ3RoXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJncm91cHNcIikpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIilcXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uXFxcIj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJyb3dcXFwiPlxcbiAgICAgICAgICAgICAgICBcIjtcbmZyYW1lID0gZnJhbWUucHVzaCgpO1xudmFyIHRfMjIgPSBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImdyb3Vwc1wiKTtcbmlmKHRfMjIpIHt2YXIgdF8yMSA9IHRfMjIubGVuZ3RoO1xuZm9yKHZhciB0XzIwPTA7IHRfMjAgPCB0XzIyLmxlbmd0aDsgdF8yMCsrKSB7XG52YXIgdF8yMyA9IHRfMjJbdF8yMF07XG5mcmFtZS5zZXQoXCJncm91cFwiLCB0XzIzKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXhcIiwgdF8yMCArIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleDBcIiwgdF8yMCk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4XCIsIHRfMjEgLSB0XzIwKTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXgwXCIsIHRfMjEgLSB0XzIwIC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmZpcnN0XCIsIHRfMjAgPT09IDApO1xuZnJhbWUuc2V0KFwibG9vcC5sYXN0XCIsIHRfMjAgPT09IHRfMjEgLSAxKTtcbmZyYW1lLnNldChcImxvb3AubGVuZ3RoXCIsIHRfMjEpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tNlxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKChsaW5lbm8gPSA4NSwgY29sbm8gPSA0MCwgcnVudGltZS5jYWxsV3JhcChydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJtYWNyb3NcIikpLFwiaXRlbUNhcmRcIiksIFwibWFjcm9zW1xcXCJpdGVtQ2FyZFxcXCJdXCIsIGNvbnRleHQsIFtydW50aW1lLm1lbWJlckxvb2t1cCgodF8yMyksXCJwb3J0YWxcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMjMpLFwic2x1Z1wiKSxydW50aW1lLm1lbWJlckxvb2t1cCgodF8yMyksXCJ0aXRsZVwiKSxydW50aW1lLm1lbWJlckxvb2t1cCgodF8yMyksXCJ0eXBlXCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzIzKSxcImljb25JbWFnZVVybFwiKSxydW50aW1lLm1lbWJlckxvb2t1cCgodF8yMyksXCJhZGRyZXNzXCIpLFwiZmEtbWFwLW1hcmtlclwiLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzIzKSxcImRhdGFTbG90MVwiKSxcImZhLWdyb3VwXCIscnVudGltZS5tYWtlS2V5d29yZEFyZ3Moe1wiY29zaW5udXNfYWN0aXZlX3VzZXJcIjogcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb3Npbm51c19hY3RpdmVfdXNlclwiKX0pXSkpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgIFwiO1xuO1xufVxufVxuZnJhbWUgPSBmcmFtZS5wb3AoKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9kaXY+XFxuICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXFxuICAgIFwiO1xuaWYoZW52LmdldEZpbHRlcihcImxlbmd0aFwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicHJvamVjdHNcIikpID4gMCkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLXNlY3Rpb24gdGlsZS1zZWN0aW9uLWRpdmlkZWRcXFwiPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInN1YmhlYWRpbmdcXFwiPlxcbiAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtZ3JvdXBcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiUHJvamVjdHNcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCIgKFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RmlsdGVyKFwibGVuZ3RoXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJwcm9qZWN0c1wiKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiKVxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLXNlY3Rpb25cXFwiPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInJvd1xcXCI+XFxuICAgICAgICAgICAgICAgIFwiO1xuZnJhbWUgPSBmcmFtZS5wdXNoKCk7XG52YXIgdF8yNiA9IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicHJvamVjdHNcIik7XG5pZih0XzI2KSB7dmFyIHRfMjUgPSB0XzI2Lmxlbmd0aDtcbmZvcih2YXIgdF8yND0wOyB0XzI0IDwgdF8yNi5sZW5ndGg7IHRfMjQrKykge1xudmFyIHRfMjcgPSB0XzI2W3RfMjRdO1xuZnJhbWUuc2V0KFwicHJvamVjdFwiLCB0XzI3KTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXhcIiwgdF8yNCArIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleDBcIiwgdF8yNCk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4XCIsIHRfMjUgLSB0XzI0KTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXgwXCIsIHRfMjUgLSB0XzI0IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmZpcnN0XCIsIHRfMjQgPT09IDApO1xuZnJhbWUuc2V0KFwibG9vcC5sYXN0XCIsIHRfMjQgPT09IHRfMjUgLSAxKTtcbmZyYW1lLnNldChcImxvb3AubGVuZ3RoXCIsIHRfMjUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tNlxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKChsaW5lbm8gPSAxMDQsIGNvbG5vID0gNDAsIHJ1bnRpbWUuY2FsbFdyYXAocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibWFjcm9zXCIpKSxcIml0ZW1DYXJkXCIpLCBcIm1hY3Jvc1tcXFwiaXRlbUNhcmRcXFwiXVwiLCBjb250ZXh0LCBbcnVudGltZS5tZW1iZXJMb29rdXAoKHRfMjcpLFwicG9ydGFsXCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzI3KSxcInNsdWdcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMjcpLFwidGl0bGVcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMjcpLFwidHlwZVwiKSxydW50aW1lLm1lbWJlckxvb2t1cCgodF8yNyksXCJpY29uSW1hZ2VVcmxcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMjcpLFwiYWRkcmVzc1wiKSxcImZhLW1hcC1tYXJrZXJcIixydW50aW1lLm1lbWJlckxvb2t1cCgodF8yNyksXCJkYXRhU2xvdDFcIiksXCJmYS1ncm91cFwiLHJ1bnRpbWUubWFrZUtleXdvcmRBcmdzKHtcImNvc2lubnVzX2FjdGl2ZV91c2VyXCI6IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29zaW5udXNfYWN0aXZlX3VzZXJcIil9KV0pKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbn1cbmZyYW1lID0gZnJhbWUucG9wKCk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICBcXG5cIjtcbmNiKG51bGwsIG91dHB1dCk7XG47XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl9jcmVhdGVfbW9kaWZpZWRfdGltZXN0YW1wcyhlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xub3V0cHV0ICs9IFwiXFxuXCI7XG5jYihudWxsLCBvdXRwdXQpO1xuO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbnJldHVybiB7XG5iX2hlYWRlcl9pbWFnZTogYl9oZWFkZXJfaW1hZ2UsXG5iX3RvcGljX2xpbmU6IGJfdG9waWNfbGluZSxcbmJfdG9wX2xpbmVfYWRkcmVzczogYl90b3BfbGluZV9hZGRyZXNzLFxuYl9hY3Rpb25fYnV0dG9uczogYl9hY3Rpb25fYnV0dG9ucyxcbmJfcmVsYXRlZF9jb250ZW50OiBiX3JlbGF0ZWRfY29udGVudCxcbmJfY3JlYXRlX21vZGlmaWVkX3RpbWVzdGFtcHM6IGJfY3JlYXRlX21vZGlmaWVkX3RpbWVzdGFtcHMsXG5yb290OiByb290XG59O1xuXG59KSgpO1xufSkoKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gc2hpbShudW5qdWNrcywgZW52LCBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkW1wiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy90aWxlLWRldGFpbC1wZW9wbGUuaHRtbFwiXSAsIGRlcGVuZGVuY2llcylcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Nvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtcGVvcGxlLmh0bWxcbi8vIG1vZHVsZSBpZCA9IDQzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBudW5qdWNrcyA9IHJlcXVpcmUoXCJudW5qdWNrcy9icm93c2VyL251bmp1Y2tzLXNsaW1cIik7XG52YXIgZW52O1xuaWYgKCFudW5qdWNrcy5jdXJyZW50RW52KXtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudiA9IG5ldyBudW5qdWNrcy5FbnZpcm9ubWVudChbXSwgdW5kZWZpbmVkKTtcbn0gZWxzZSB7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnY7XG59XG52YXIgY29uZmlndXJlID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uLy4uL251bmp1Y2tzLmNvbmZpZy5qc1wiKShlbnYpO1xudmFyIGRlcGVuZGVuY2llcyA9IG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgfHwgKG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgPSB7fSk7XG5kZXBlbmRlbmNpZXNbXCJ0aWxlcy90aWxlLWRldGFpbC1iYXNlXCJdID0gcmVxdWlyZSggXCJ0aWxlcy90aWxlLWRldGFpbC1iYXNlXCIgKTtcbmRlcGVuZGVuY2llc1tcImluY2x1ZGUvbWFjcm9zLmh0bWxcIl0gPSByZXF1aXJlKCBcImluY2x1ZGUvbWFjcm9zLmh0bWxcIiApO1xuXG5cblxuXG52YXIgc2hpbSA9IHJlcXVpcmUoXCIvaG9tZS9zYXNjaGEvcHIvY29zaW5udXMtY29yZS9ub2RlX21vZHVsZXMvbnVuanVja3MtbG9hZGVyL3J1bnRpbWUtc2hpbVwiKTtcblxuXG4oZnVuY3Rpb24oKSB7KG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgPSBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkIHx8IHt9KVtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtZXZlbnRzLmh0bWxcIl0gPSAoZnVuY3Rpb24oKSB7XG5mdW5jdGlvbiByb290KGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG52YXIgcGFyZW50VGVtcGxhdGUgPSBudWxsO1xuZW52LmdldFRlbXBsYXRlKFwidGlsZXMvdGlsZS1kZXRhaWwtYmFzZVwiLCB0cnVlLCBcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtZXZlbnRzLmh0bWxcIiwgZmFsc2UsIGZ1bmN0aW9uKHRfMixfcGFyZW50VGVtcGxhdGUpIHtcbmlmKHRfMikgeyBjYih0XzIpOyByZXR1cm47IH1cbnBhcmVudFRlbXBsYXRlID0gX3BhcmVudFRlbXBsYXRlXG5mb3IodmFyIHRfMSBpbiBwYXJlbnRUZW1wbGF0ZS5ibG9ja3MpIHtcbmNvbnRleHQuYWRkQmxvY2sodF8xLCBwYXJlbnRUZW1wbGF0ZS5ibG9ja3NbdF8xXSk7XG59XG5vdXRwdXQgKz0gXCJcXG5cIjtcbmVudi5nZXRUZW1wbGF0ZShcImluY2x1ZGUvbWFjcm9zLmh0bWxcIiwgZmFsc2UsIFwiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy90aWxlLWRldGFpbC1ldmVudHMuaHRtbFwiLCBmYWxzZSwgZnVuY3Rpb24odF80LHRfMykge1xuaWYodF80KSB7IGNiKHRfNCk7IHJldHVybjsgfVxudF8zLmdldEV4cG9ydGVkKGZ1bmN0aW9uKHRfNSx0XzMpIHtcbmlmKHRfNSkgeyBjYih0XzUpOyByZXR1cm47IH1cbmNvbnRleHQuc2V0VmFyaWFibGUoXCJtYWNyb3NcIiwgdF8zKTtcbm91dHB1dCArPSBcIlxcblxcblwiO1xuKHBhcmVudFRlbXBsYXRlID8gZnVuY3Rpb24oZSwgYywgZiwgciwgY2IpIHsgY2IoXCJcIik7IH0gOiBjb250ZXh0LmdldEJsb2NrKFwiaGVhZGVyX2ltYWdlXCIpKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzcsdF82KSB7XG5pZih0XzcpIHsgY2IodF83KTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF82O1xub3V0cHV0ICs9IFwiXFxuXFxuICAgICAgICBcXG5cIjtcbihwYXJlbnRUZW1wbGF0ZSA/IGZ1bmN0aW9uKGUsIGMsIGYsIHIsIGNiKSB7IGNiKFwiXCIpOyB9IDogY29udGV4dC5nZXRCbG9jayhcImFkZGl0aW9uYWxfdG9wX2xpbmVcIikpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfOSx0XzgpIHtcbmlmKHRfOSkgeyBjYih0XzkpOyByZXR1cm47IH1cbm91dHB1dCArPSB0Xzg7XG5vdXRwdXQgKz0gXCJcXG5cXG5cIjtcbihwYXJlbnRUZW1wbGF0ZSA/IGZ1bmN0aW9uKGUsIGMsIGYsIHIsIGNiKSB7IGNiKFwiXCIpOyB9IDogY29udGV4dC5nZXRCbG9jayhcImFjdGlvbl9idXR0b25zXCIpKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzExLHRfMTApIHtcbmlmKHRfMTEpIHsgY2IodF8xMSk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfMTA7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIFxcblxcblwiO1xuKHBhcmVudFRlbXBsYXRlID8gZnVuY3Rpb24oZSwgYywgZiwgciwgY2IpIHsgY2IoXCJcIik7IH0gOiBjb250ZXh0LmdldEJsb2NrKFwicmVsYXRlZF9jb250ZW50XCIpKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzEzLHRfMTIpIHtcbmlmKHRfMTMpIHsgY2IodF8xMyk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfMTI7XG5vdXRwdXQgKz0gXCJcXG5cXG5cIjtcbihwYXJlbnRUZW1wbGF0ZSA/IGZ1bmN0aW9uKGUsIGMsIGYsIHIsIGNiKSB7IGNiKFwiXCIpOyB9IDogY29udGV4dC5nZXRCbG9jayhcImNyZWF0ZV9tb2RpZmllZF90aW1lc3RhbXBzXCIpKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzE1LHRfMTQpIHtcbmlmKHRfMTUpIHsgY2IodF8xNSk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfMTQ7XG5vdXRwdXQgKz0gXCJcXG5cIjtcbmlmKHBhcmVudFRlbXBsYXRlKSB7XG5wYXJlbnRUZW1wbGF0ZS5yb290UmVuZGVyRnVuYyhlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYik7XG59IGVsc2Uge1xuY2IobnVsbCwgb3V0cHV0KTtcbn1cbn0pfSl9KX0pfSl9KX0pfSk7XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl9oZWFkZXJfaW1hZ2UoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcbiAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYmFja2dyb3VuZEltYWdlTGFyZ2VVcmxcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uIGhlYWRlci1pbWFnZVxcXCI+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZHVhbC10aWxlLWltYWdlXFxcIj5cXG4gICAgICAgICAgICAgICAgPGltZyBjbGFzcz1cXFwidGlsZS1pbWFnZSB0aWxlLWltYWdlLWJhY2tncm91bmRcXFwiIHNyYz1cXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYmFja2dyb3VuZEltYWdlTGFyZ2VVcmxcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxcIiAvPiBcXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX2FkZGl0aW9uYWxfdG9wX2xpbmUoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLXNlY3Rpb24gdGlsZS1zZWN0aW9uXFxcIj5cXG4gICAgICAgIDxkaXY+XFxuICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWZ3IGZhLWNsb2NrLW9cXFwiPjwvaT5cIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEZpbHRlcihcInNhZmVcIikuY2FsbChjb250ZXh0LCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInRpbWVfaHRtbFwiKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJhZGRyZXNzXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjYXBpdGFsaXplXFxcIj5cXG4gICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWZ3IGZhLW1hcC1tYXJrZXJcXFwiPjwvaT5cIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJhZGRyZXNzXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgPC9kaXY+XFxuXCI7XG5jYihudWxsLCBvdXRwdXQpO1xuO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfYWN0aW9uX2J1dHRvbnMoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbmNvbnRleHQuZ2V0U3VwZXIoZW52LCBcImFjdGlvbl9idXR0b25zXCIsIGJfYWN0aW9uX2J1dHRvbnMsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzE2LGhvbGVfMTcpIHtcbmlmKHRfMTYpIHsgY2IodF8xNik7IHJldHVybjsgfVxuaG9sZV8xNyA9IHJ1bnRpbWUubWFya1NhZmUoaG9sZV8xNyk7XG5vdXRwdXQgKz0gXCJcXG4gICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uIHRpbGUtc2VjdGlvbi1idXR0b24tbGlzdFxcXCI+XFxuICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJwb3J0YWxcIikgPT0gcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJDT1NJTk5VU19FWENIQU5HRV9QT1JUQUxfSURcIikgJiYgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ1cmxcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgPGEgY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uIGJ1dHRvbi1hY3Rpb25cXFwiIGhyZWY9XFxcIlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInVybFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIj5cXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwicm91bmRlZC1idXR0b24taW5uZXJcXFwiPlxcbiAgICAgICAgICAgICAgICA8aSBjbGFzUz1cXFwiZmEgZmEtZXh0ZXJuYWwtbGlua1xcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJFdmVudFwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIiBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJvblwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIiBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzb3VyY2VcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgPC9hPlxcbiAgICBcIjtcbjtcbn1cbmVsc2Uge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICBcIjtcbmlmKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb250cm9sVmlld1wiKSksXCJwb3J0YWxJbmZvXCIpKSxcImN1cnJlbnRcIikgPT0gcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJwb3J0YWxcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIDxhIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbiBidXR0b24tYWN0aW9uIFxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvc2lubnVzX2FjdGl2ZV91c2VyXCIpKSB7XG5vdXRwdXQgKz0gXCJidXR0b24tbGlrZVxcXCIgXCI7XG47XG59XG5lbHNlIHtcbm91dHB1dCArPSBcIlxcXCIgaHJlZj1cXFwiL3NpZ251cC8/YWNjX3JlcV9tc2c9MSZuZXh0PS9tYXAvXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCJcIjtcbjtcbn1cbm91dHB1dCArPSBcIj5cXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uLWlubmVyXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJsaWtlZFwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc1M9XFxcImZhcyBmYS1oZWFydFxcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiTGlrZWRcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzUz1cXFwiZmFyIGZhLWhlYXJ0XFxcIj48L2k+XFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJMaWtlXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgICAgIDxhIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbiBidXR0b24tYWN0aW9uIGJ1dHRvbi1zdGFyXFxcIj5cXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uLWlubmVyXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzdGFycmVkXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmFzIGZhLXN0YXJcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzdGFycmluZ0xhYmVsXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYXIgZmEtc3RhclxcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInN0YXJMYWJlbFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgICA8L2E+XFxuICAgICAgICAgICAgPGEgY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uIGJ1dHRvbi1hY3Rpb25cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb3Npbm51c19hY3RpdmVfdXNlclwiKSkge1xub3V0cHV0ICs9IFwiYnV0dG9uLWZvbGxvd1xcXCIgXCI7XG47XG59XG5lbHNlIHtcbm91dHB1dCArPSBcIlxcXCIgaHJlZj1cXFwiL3NpZ251cC8/YWNjX3JlcV9tc2c9MSZuZXh0PS9tYXAvXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCJcIjtcbjtcbn1cbm91dHB1dCArPSBcIj5cXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uLWlubmVyXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJmb2xsb3dlZFwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc1M9XFxcImZhcyBmYS1iZWxsXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJGb2xsb3dpbmdcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzUz1cXFwiZmFyIGZhLWJlbGxcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkZvbGxvd1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgICAgIDwvYT5cXG4gICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXFxuICAgICAgICA8YSBjbGFzcz1cXFwicm91bmRlZC1idXR0b24gYnV0dG9uLWFjdGlvblxcXCIgaHJlZj1cXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwidXJsXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiPlxcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbi1pbm5lclxcXCI+XFxuICAgICAgICAgICAgICAgIDxpIGNsYXNTPVxcXCJmYSBmYS1leHRlcm5hbC1saW5rXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIlZpc2l0IEV2ZW50IFBhZ2VcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICA8L2E+XFxuICAgICAgICBcXG4gICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShob2xlXzE3LCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICA8L2Rpdj5cXG4gICAgXFxuICAgIDxkaXYgY2xhc3M9XFxcIm5vLWlucHV0XFxcIj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcIm5vdy1mb2xsb3dpbmctbWVzc2FnZSBtZXNzYWdlLXN1Y2Nlc3MgZXh0cmEtc3BhY2UtdG9wXFxcIiBzdHlsZT1cXFwiZGlzcGxheTogbm9uZTtcXFwiPlxcbiAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYXMgZmEtYmVsbFxcXCI+PC9pPlxcbiAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiWW91IHdpbGwgbm93IHJlY2VpdmUgbm90aWZpY2F0aW9ucyBmb3IgY29tbWVudHMgb3Igd2hlbiB0aGlzIGV2ZW50IGlzIHVwZGF0ZWQgb3IgaXRzIGRldGFpbHMgY2hhbmdlLlwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiSWYgeW91IGRvIG5vdCB3YW50IG5vdGlmaWNhdGlvbnMsIGNsaWNrIHRoZSB1bmZvbGxvdyBidXR0b24hXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgICBcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImxpa2UtYnV0dG9uLWVycm9yIG1lc3NhZ2UtZXJyb3IgZXh0cmEtc3BhY2UtdG9wXFxcIiBzdHlsZT1cXFwiZGlzcGxheTogbm9uZTtcXFwiPlxcbiAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiQ291bGQgbm90IHNhdmUgeW91ciBsaWtlIHNldHRpbmcgYmVjYXVzZSBvZiBhbiBlcnJvci5cIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9sbG93LWJ1dHRvbi1lcnJvciBtZXNzYWdlLWVycm9yIGV4dHJhLXNwYWNlLXRvcFxcXCIgc3R5bGU9XFxcImRpc3BsYXk6IG5vbmU7XFxcIj5cXG4gICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkNvdWxkIG5vdCBzYXZlIHlvdXIgZm9sbG93IHNldHRpbmcgYmVjYXVzZSBvZiBhbiBlcnJvci5cIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG5cIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbn0pO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfcmVsYXRlZF9jb250ZW50KGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5vdXRwdXQgKz0gXCJcXG5cXG4gICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInBhcnRpY2lwYW50X2NvdW50XCIpID4gMCkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLXNlY3Rpb24gdGlsZS1zZWN0aW9uLWRpdmlkZWRcXFwiPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInN1YmhlYWRpbmdcXFwiPlxcbiAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtdXNlclxcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJQYXJ0aWNpcGFudHNcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCIgKFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInBhcnRpY2lwYW50X2NvdW50XCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIilcXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uXFxcIj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJyb3dcXFwiPlxcbiAgICAgICAgICAgICAgICBcIjtcbmZyYW1lID0gZnJhbWUucHVzaCgpO1xudmFyIHRfMTkgPSBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInBhcnRpY2lwYW50c1wiKTtcbmlmKHRfMTkpIHt2YXIgdF8xOCA9IHRfMTkubGVuZ3RoO1xuZm9yKHZhciB0XzE3PTA7IHRfMTcgPCB0XzE5Lmxlbmd0aDsgdF8xNysrKSB7XG52YXIgdF8yMCA9IHRfMTlbdF8xN107XG5mcmFtZS5zZXQoXCJwYXJ0aWNpcGFudFwiLCB0XzIwKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXhcIiwgdF8xNyArIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleDBcIiwgdF8xNyk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4XCIsIHRfMTggLSB0XzE3KTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXgwXCIsIHRfMTggLSB0XzE3IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmZpcnN0XCIsIHRfMTcgPT09IDApO1xuZnJhbWUuc2V0KFwibG9vcC5sYXN0XCIsIHRfMTcgPT09IHRfMTggLSAxKTtcbmZyYW1lLnNldChcImxvb3AubGVuZ3RoXCIsIHRfMTgpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tNlxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKChsaW5lbm8gPSAxMjcsIGNvbG5vID0gNDAsIHJ1bnRpbWUuY2FsbFdyYXAocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibWFjcm9zXCIpKSxcIml0ZW1DYXJkXCIpLCBcIm1hY3Jvc1tcXFwiaXRlbUNhcmRcXFwiXVwiLCBjb250ZXh0LCBbcnVudGltZS5tZW1iZXJMb29rdXAoKHRfMjApLFwicG9ydGFsXCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzIwKSxcInNsdWdcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMjApLFwidGl0bGVcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMjApLFwidHlwZVwiKSxydW50aW1lLm1lbWJlckxvb2t1cCgodF8yMCksXCJpY29uSW1hZ2VVcmxcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMjApLFwiYWRkcmVzc1wiKSxcImZhLW1hcC1tYXJrZXJcIixydW50aW1lLm1ha2VLZXl3b3JkQXJncyh7XCJjb3Npbm51c19hY3RpdmVfdXNlclwiOiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvc2lubnVzX2FjdGl2ZV91c2VyXCIpfSldKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgXCI7XG47XG59XG59XG5mcmFtZSA9IGZyYW1lLnBvcCgpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInBhcnRpY2lwYW50X2NvdW50XCIpIC0gZW52LmdldEZpbHRlcihcImxlbmd0aFwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicGFydGljaXBhbnRzXCIpKSA+IDApIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGk+XFxuICAgICAgICAgICAgICAgICAgICAgICAgK1wiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInBhcnRpY2lwYW50X2NvdW50XCIpIC0gZW52LmdldEZpbHRlcihcImxlbmd0aFwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicGFydGljaXBhbnRzXCIpKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCIgXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInBhcnRpY2lwYW50X2NvdW50XCIpIC0gZW52LmdldEZpbHRlcihcImxlbmd0aFwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicGFydGljaXBhbnRzXCIpKSA+IDEpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJIaWRkZW4gVXNlcnNcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkhpZGRlbiBVc2VyXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIDwvaT5cXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIDwvZGl2PlxcbiAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICBcXG5cIjtcbmNiKG51bGwsIG91dHB1dCk7XG47XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl9jcmVhdGVfbW9kaWZpZWRfdGltZXN0YW1wcyhlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xub3V0cHV0ICs9IFwiXFxuXCI7XG5jYihudWxsLCBvdXRwdXQpO1xuO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbnJldHVybiB7XG5iX2hlYWRlcl9pbWFnZTogYl9oZWFkZXJfaW1hZ2UsXG5iX2FkZGl0aW9uYWxfdG9wX2xpbmU6IGJfYWRkaXRpb25hbF90b3BfbGluZSxcbmJfYWN0aW9uX2J1dHRvbnM6IGJfYWN0aW9uX2J1dHRvbnMsXG5iX3JlbGF0ZWRfY29udGVudDogYl9yZWxhdGVkX2NvbnRlbnQsXG5iX2NyZWF0ZV9tb2RpZmllZF90aW1lc3RhbXBzOiBiX2NyZWF0ZV9tb2RpZmllZF90aW1lc3RhbXBzLFxucm9vdDogcm9vdFxufTtcblxufSkoKTtcbn0pKCk7XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHNoaW0obnVuanVja3MsIGVudiwgbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZFtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtZXZlbnRzLmh0bWxcIl0gLCBkZXBlbmRlbmNpZXMpXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtZGV0YWlsLWV2ZW50cy5odG1sXG4vLyBtb2R1bGUgaWQgPSA0NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgbnVuanVja3MgPSByZXF1aXJlKFwibnVuanVja3MvYnJvd3Nlci9udW5qdWNrcy1zbGltXCIpO1xudmFyIGVudjtcbmlmICghbnVuanVja3MuY3VycmVudEVudil7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnYgPSBuZXcgbnVuanVja3MuRW52aXJvbm1lbnQoW10sIHVuZGVmaW5lZCk7XG59IGVsc2Uge1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52O1xufVxudmFyIGNvbmZpZ3VyZSA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi8uLi9udW5qdWNrcy5jb25maWcuanNcIikoZW52KTtcbnZhciBkZXBlbmRlbmNpZXMgPSBudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzIHx8IChudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzID0ge30pO1xuZGVwZW5kZW5jaWVzW1widGlsZXMvdGlsZS1kZXRhaWwtYmFzZVwiXSA9IHJlcXVpcmUoIFwidGlsZXMvdGlsZS1kZXRhaWwtYmFzZVwiICk7XG5kZXBlbmRlbmNpZXNbXCJpbmNsdWRlL21hY3Jvcy5odG1sXCJdID0gcmVxdWlyZSggXCJpbmNsdWRlL21hY3Jvcy5odG1sXCIgKTtcblxuXG5cblxudmFyIHNoaW0gPSByZXF1aXJlKFwiL2hvbWUvc2FzY2hhL3ByL2Nvc2lubnVzLWNvcmUvbm9kZV9tb2R1bGVzL251bmp1Y2tzLWxvYWRlci9ydW50aW1lLXNoaW1cIik7XG5cblxuKGZ1bmN0aW9uKCkgeyhudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkID0gbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZCB8fCB7fSlbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtZGV0YWlsLWlkZWFzLmh0bWxcIl0gPSAoZnVuY3Rpb24oKSB7XG5mdW5jdGlvbiByb290KGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG52YXIgcGFyZW50VGVtcGxhdGUgPSBudWxsO1xuZW52LmdldFRlbXBsYXRlKFwidGlsZXMvdGlsZS1kZXRhaWwtYmFzZVwiLCB0cnVlLCBcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtaWRlYXMuaHRtbFwiLCBmYWxzZSwgZnVuY3Rpb24odF8yLF9wYXJlbnRUZW1wbGF0ZSkge1xuaWYodF8yKSB7IGNiKHRfMik7IHJldHVybjsgfVxucGFyZW50VGVtcGxhdGUgPSBfcGFyZW50VGVtcGxhdGVcbmZvcih2YXIgdF8xIGluIHBhcmVudFRlbXBsYXRlLmJsb2Nrcykge1xuY29udGV4dC5hZGRCbG9jayh0XzEsIHBhcmVudFRlbXBsYXRlLmJsb2Nrc1t0XzFdKTtcbn1cbm91dHB1dCArPSBcIlxcblwiO1xuZW52LmdldFRlbXBsYXRlKFwiaW5jbHVkZS9tYWNyb3MuaHRtbFwiLCBmYWxzZSwgXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtZGV0YWlsLWlkZWFzLmh0bWxcIiwgZmFsc2UsIGZ1bmN0aW9uKHRfNCx0XzMpIHtcbmlmKHRfNCkgeyBjYih0XzQpOyByZXR1cm47IH1cbnRfMy5nZXRFeHBvcnRlZChmdW5jdGlvbih0XzUsdF8zKSB7XG5pZih0XzUpIHsgY2IodF81KTsgcmV0dXJuOyB9XG5jb250ZXh0LnNldFZhcmlhYmxlKFwibWFjcm9zXCIsIHRfMyk7XG5vdXRwdXQgKz0gXCJcXG5cXG5cIjtcbihwYXJlbnRUZW1wbGF0ZSA/IGZ1bmN0aW9uKGUsIGMsIGYsIHIsIGNiKSB7IGNiKFwiXCIpOyB9IDogY29udGV4dC5nZXRCbG9jayhcImhlYWRlcl9pbWFnZVwiKSkoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF83LHRfNikge1xuaWYodF83KSB7IGNiKHRfNyk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfNjtcbm91dHB1dCArPSBcIlxcblxcblwiO1xuKHBhcmVudFRlbXBsYXRlID8gZnVuY3Rpb24oZSwgYywgZiwgciwgY2IpIHsgY2IoXCJcIik7IH0gOiBjb250ZXh0LmdldEJsb2NrKFwidGl0bGVcIikpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfOSx0XzgpIHtcbmlmKHRfOSkgeyBjYih0XzkpOyByZXR1cm47IH1cbm91dHB1dCArPSB0Xzg7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIFxcblwiO1xuKHBhcmVudFRlbXBsYXRlID8gZnVuY3Rpb24oZSwgYywgZiwgciwgY2IpIHsgY2IoXCJcIik7IH0gOiBjb250ZXh0LmdldEJsb2NrKFwidG9wX2xpbmVcIikpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfMTEsdF8xMCkge1xuaWYodF8xMSkgeyBjYih0XzExKTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF8xMDtcbm91dHB1dCArPSBcIlxcblxcblwiO1xuKHBhcmVudFRlbXBsYXRlID8gZnVuY3Rpb24oZSwgYywgZiwgciwgY2IpIHsgY2IoXCJcIik7IH0gOiBjb250ZXh0LmdldEJsb2NrKFwiYWN0aW9uX2J1dHRvbnNcIikpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfMTMsdF8xMikge1xuaWYodF8xMykgeyBjYih0XzEzKTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF8xMjtcbm91dHB1dCArPSBcIlxcblxcblxcblwiO1xuKHBhcmVudFRlbXBsYXRlID8gZnVuY3Rpb24oZSwgYywgZiwgciwgY2IpIHsgY2IoXCJcIik7IH0gOiBjb250ZXh0LmdldEJsb2NrKFwicmVsYXRlZF9jb250ZW50XCIpKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzE1LHRfMTQpIHtcbmlmKHRfMTUpIHsgY2IodF8xNSk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfMTQ7XG5vdXRwdXQgKz0gXCJcXG5cXG5cIjtcbmlmKHBhcmVudFRlbXBsYXRlKSB7XG5wYXJlbnRUZW1wbGF0ZS5yb290UmVuZGVyRnVuYyhlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYik7XG59IGVsc2Uge1xuY2IobnVsbCwgb3V0cHV0KTtcbn1cbn0pfSl9KX0pfSl9KX0pfSk7XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl9oZWFkZXJfaW1hZ2UoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcbiAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYmFja2dyb3VuZEltYWdlTGFyZ2VVcmxcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uIGhlYWRlci1pbWFnZVxcXCI+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZHVhbC10aWxlLWltYWdlXFxcIj5cXG4gICAgICAgICAgICAgICAgPGltZyBjbGFzcz1cXFwidGlsZS1pbWFnZSB0aWxlLWltYWdlLWJhY2tncm91bmRcXFwiIHNyYz1cXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYmFja2dyb3VuZEltYWdlTGFyZ2VVcmxcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxcIiAvPiBcXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX3RpdGxlKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uIHRpdGxlXFxcIj5cXG4gICAgICAgIDxoMT5cXG4gICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0aXRsZVwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIDwvaDE+XFxuICAgIDwvZGl2PlxcblwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX3RvcF9saW5lKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uIHRvcC1saW5lIG9uZS1saW5lIGV4dHJhLXNwYWNlXFxcIj5cXG4gICAgICAgIDxzcGFuIGNsYXNzPVxcXCJtdWx0aS1zcGFuXFxcIj5cXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwicGFsZS1jb2xvclxcXCI+XFxuICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkF1dGhvclwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIjpcXG4gICAgICAgICAgICA8L3NwYW4+IFxcbiAgICAgICAgICAgIFwiO1xuaWYoIXJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29zaW5udXNfYWN0aXZlX3VzZXJcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICA8YSBocmVmPVxcXCIvc2lnbnVwLz9hY2NfcmVxX21zZz0xJm5leHQ9L21hcC9cXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIj5cIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjcmVhdG9yX25hbWVcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiPC9hPlxcbiAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKChsaW5lbm8gPSAzMSwgY29sbm8gPSAzNCwgcnVudGltZS5jYWxsV3JhcChydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJtYWNyb3NcIikpLFwicmVzdWx0TGlua1wiKSwgXCJtYWNyb3NbXFxcInJlc3VsdExpbmtcXFwiXVwiLCBjb250ZXh0LCBbcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJwb3J0YWxcIikscnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjcmVhdG9yX3NsdWdcIikscnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjcmVhdG9yX25hbWVcIiksXCJwZW9wbGVcIl0pKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImFkZHJlc3NcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJtdWx0aS1zcGFuIGhhbGYtbGluZSBjYXBpdGFsaXplXFxcIiB0aXRsZT1cXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWRkcmVzc1wiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiPlxcbiAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtZncgZmEtbWFwLW1hcmtlclxcXCI+PC9pPlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImFkZHJlc3NcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJwYXJ0aWNpcGFudF9jb3VudFwiKSA+IDApIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJtdWx0aS1zcGFuIGNhcGl0YWxpemVcXFwiPlxcbiAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtZncgZmEtaGVhcnQgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImxpa2VkXCIpKSB7XG5vdXRwdXQgKz0gXCJhcHBseS1jb2xvci1saWtlZFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInBhcnRpY2lwYW50X2NvdW50XCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgIDwvZGl2PlxcblwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX2FjdGlvbl9idXR0b25zKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5jb250ZXh0LmdldFN1cGVyKGVudiwgXCJhY3Rpb25fYnV0dG9uc1wiLCBiX2FjdGlvbl9idXR0b25zLCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF8xNixob2xlXzIzKSB7XG5pZih0XzE2KSB7IGNiKHRfMTYpOyByZXR1cm47IH1cbmhvbGVfMjMgPSBydW50aW1lLm1hcmtTYWZlKGhvbGVfMjMpO1xub3V0cHV0ICs9IFwiXFxuICAgIDxkaXYgY2xhc3M9XFxcInRpbGUtc2VjdGlvbiB0aWxlLXNlY3Rpb24tYnV0dG9uLWxpc3RcXFwiPlxcbiAgICAgICAgXCI7XG5pZihydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29udHJvbFZpZXdcIikpLFwicG9ydGFsSW5mb1wiKSksXCJjdXJyZW50XCIpID09IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicG9ydGFsXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICA8YSBjbGFzcz1cXFwicm91bmRlZC1idXR0b24gYnV0dG9uLWFjdGlvbiBcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb3Npbm51c19hY3RpdmVfdXNlclwiKSkge1xub3V0cHV0ICs9IFwiYnV0dG9uLWxpa2VcXFwiIFwiO1xuO1xufVxuZWxzZSB7XG5vdXRwdXQgKz0gXCJcXFwiIGhyZWY9XFxcIi9zaWdudXAvP2FjY19yZXFfbXNnPTEmbmV4dD0vbWFwL1xcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiXCI7XG47XG59XG5vdXRwdXQgKz0gXCI+XFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbi1pbm5lclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibGlrZWRcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNTPVxcXCJmYXMgZmEtaGVhcnRcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkxpa2VkXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc1M9XFxcImZhciBmYS1oZWFydFxcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiTGlrZVwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgICAgIDwvYT5cXG4gICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibGlrZWRcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICA8YSBjbGFzcz1cXFwicm91bmRlZC1idXR0b24gYnV0dG9uLWFjdGlvbiBidXR0b24tc3RhclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwicm91bmRlZC1idXR0b24taW5uZXJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzdGFycmVkXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhcyBmYS1zdGFyXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInN0YXJyaW5nTGFiZWxcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmFyIGZhLXN0YXJcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic3RhckxhYmVsXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgICAgICAgIDwvYT5cXG4gICAgICAgICAgICAgICAgPGEgY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uIGJ1dHRvbi1hY3Rpb24gYnV0dG9uLWZvbGxvd1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwicm91bmRlZC1idXR0b24taW5uZXJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJmb2xsb3dlZFwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNTPVxcXCJmYXMgZmEtYmVsbFxcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJGb2xsb3dpbmdcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNTPVxcXCJmYXIgZmEtYmVsbFxcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJGb2xsb3dcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgICAgICAgICA8L2E+XFxuICAgICAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICA8YSBocmVmPVxcXCJcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWN0aW9uX3VybF8xXCIpKSB7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWN0aW9uX3VybF8xXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbjtcbn1cbmVsc2Uge1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInVybFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG47XG59XG5vdXRwdXQgKz0gXCJcXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIiBjbGFzcz1cXFwicm91bmRlZC1idXR0b24gYnV0dG9uLWFjdGlvblxcXCI+XFxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uLWlubmVyXFxcIj5cXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiQ3JlYXRlIFByb2plY3QgZnJvbSBJZGVhXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgPC9hPlxcbiAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIkNPU0lOTlVTX1NIT1dfU1VQRVJVU0VSX0NPTlRST0xTXCIpIHx8IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29zaW5udXNfYWN0aXZlX3VzZXJcIikgJiYgcnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29zaW5udXNfYWN0aXZlX3VzZXJcIikpLFwidXNlcm5hbWVcIikgPT0gcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjcmVhdG9yX3NsdWdcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIDxhIGhyZWY9XFxcIi9pZGVhcy9cIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzbHVnXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIi9lZGl0L1xcXCIgY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uIGJ1dHRvbi1hY3Rpb25cXFwiPlxcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwicm91bmRlZC1idXR0b24taW5uZXJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkVkaXQgeW91ciBJZGVhXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgICA8L2E+XFxuICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgXFxuICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoaG9sZV8yMywgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgPC9kaXY+XFxuICAgIFxcbiAgICA8ZGl2IGNsYXNzPVxcXCJuby1pbnB1dFxcXCI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJub3ctZm9sbG93aW5nLW1lc3NhZ2UgbWVzc2FnZS1zdWNjZXNzIGV4dHJhLXNwYWNlLXRvcFxcXCIgc3R5bGU9XFxcImRpc3BsYXk6IG5vbmU7XFxcIj5cXG4gICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmFzIGZhLWJlbGxcXFwiPjwvaT5cXG4gICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIllvdSB3aWxsIHJlY2VpdmUgYSBub3RpZmljYXRpb24gd2hlbiBhIHByb2plY3QgaXMgY3JlYXRlZCBmcm9tIHlvdXIgbGlrZWQgaWRlYS5cIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIklmIHlvdSBkbyBub3Qgd2FudCBub3RpZmljYXRpb25zLCBjbGljayB0aGUgdW5mb2xsb3cgYnV0dG9uIVwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICAgXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJsaWtlLWJ1dHRvbi1lcnJvciBtZXNzYWdlLWVycm9yIGV4dHJhLXNwYWNlLXRvcFxcXCIgc3R5bGU9XFxcImRpc3BsYXk6IG5vbmU7XFxcIj5cXG4gICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkNvdWxkIG5vdCBzYXZlIHlvdXIgbGlrZSBzZXR0aW5nIGJlY2F1c2Ugb2YgYW4gZXJyb3IuXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImZvbGxvdy1idXR0b24tZXJyb3IgbWVzc2FnZS1lcnJvciBleHRyYS1zcGFjZS10b3BcXFwiIHN0eWxlPVxcXCJkaXNwbGF5OiBub25lO1xcXCI+XFxuICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJDb3VsZCBub3Qgc2F2ZSB5b3VyIGZvbGxvdyBzZXR0aW5nIGJlY2F1c2Ugb2YgYW4gZXJyb3IuXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcInN0YXItYnV0dG9uLWVycm9yIG1lc3NhZ2UtZXJyb3IgZXh0cmEtc3BhY2UtdG9wXFxcIiBzdHlsZT1cXFwiZGlzcGxheTogbm9uZTtcXFwiPlxcbiAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiQ291bGQgbm90IHNhdmUgeW91ciBmb2xsb3cgc2V0dGluZyBiZWNhdXNlIG9mIGFuIGVycm9yLlwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcblwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbn0pO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfcmVsYXRlZF9jb250ZW50KGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5jb250ZXh0LmdldFN1cGVyKGVudiwgXCJyZWxhdGVkX2NvbnRlbnRcIiwgYl9yZWxhdGVkX2NvbnRlbnQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzE3LGhvbGVfMjQpIHtcbmlmKHRfMTcpIHsgY2IodF8xNyk7IHJldHVybjsgfVxuaG9sZV8yNCA9IHJ1bnRpbWUubWFya1NhZmUoaG9sZV8yNCk7XG5vdXRwdXQgKz0gXCJcXG4gICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGhvbGVfMjQsIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFxuICAgIFwiO1xuaWYoZW52LmdldEZpbHRlcihcImxlbmd0aFwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicHJvamVjdHNcIikpID4gMCkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLXNlY3Rpb24gdGlsZS1zZWN0aW9uLWRpdmlkZWRcXFwiPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInN1YmhlYWRpbmdcXFwiPlxcbiAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtZ3JvdXBcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiUHJvamVjdHMgLSBDcmVhdGVkIGZyb20gdGhpcyBJZGVhXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiIChcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEZpbHRlcihcImxlbmd0aFwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicHJvamVjdHNcIikpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIilcXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uXFxcIj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJyb3dcXFwiPlxcbiAgICAgICAgICAgICAgICBcIjtcbmZyYW1lID0gZnJhbWUucHVzaCgpO1xudmFyIHRfMjAgPSBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInByb2plY3RzXCIpO1xuaWYodF8yMCkge3ZhciB0XzE5ID0gdF8yMC5sZW5ndGg7XG5mb3IodmFyIHRfMTg9MDsgdF8xOCA8IHRfMjAubGVuZ3RoOyB0XzE4KyspIHtcbnZhciB0XzIxID0gdF8yMFt0XzE4XTtcbmZyYW1lLnNldChcInByb2plY3RcIiwgdF8yMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfMTggKyAxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXgwXCIsIHRfMTgpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleFwiLCB0XzE5IC0gdF8xOCk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4MFwiLCB0XzE5IC0gdF8xOCAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzE4ID09PSAwKTtcbmZyYW1lLnNldChcImxvb3AubGFzdFwiLCB0XzE4ID09PSB0XzE5IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzE5KTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTZcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSgobGluZW5vID0gMTUwLCBjb2xubyA9IDQwLCBydW50aW1lLmNhbGxXcmFwKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm1hY3Jvc1wiKSksXCJpdGVtQ2FyZFwiKSwgXCJtYWNyb3NbXFxcIml0ZW1DYXJkXFxcIl1cIiwgY29udGV4dCwgW3J1bnRpbWUubWVtYmVyTG9va3VwKCh0XzIxKSxcInBvcnRhbFwiKSxydW50aW1lLm1lbWJlckxvb2t1cCgodF8yMSksXCJzbHVnXCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzIxKSxcInRpdGxlXCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzIxKSxcInR5cGVcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMjEpLFwiaWNvbkltYWdlVXJsXCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzIxKSxcImFkZHJlc3NcIiksXCJmYS1tYXAtbWFya2VyXCIscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMjEpLFwiZGF0YVNsb3QxXCIpLFwiZmEtZ3JvdXBcIixydW50aW1lLm1ha2VLZXl3b3JkQXJncyh7XCJjb3Npbm51c19hY3RpdmVfdXNlclwiOiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvc2lubnVzX2FjdGl2ZV91c2VyXCIpfSldKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgXCI7XG47XG59XG59XG5mcmFtZSA9IGZyYW1lLnBvcCgpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgXFxuXCI7XG5jYihudWxsLCBvdXRwdXQpO1xufSk7XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxucmV0dXJuIHtcbmJfaGVhZGVyX2ltYWdlOiBiX2hlYWRlcl9pbWFnZSxcbmJfdGl0bGU6IGJfdGl0bGUsXG5iX3RvcF9saW5lOiBiX3RvcF9saW5lLFxuYl9hY3Rpb25fYnV0dG9uczogYl9hY3Rpb25fYnV0dG9ucyxcbmJfcmVsYXRlZF9jb250ZW50OiBiX3JlbGF0ZWRfY29udGVudCxcbnJvb3Q6IHJvb3Rcbn07XG5cbn0pKCk7XG59KSgpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBzaGltKG51bmp1Y2tzLCBlbnYsIG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWRbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtZGV0YWlsLWlkZWFzLmh0bWxcIl0gLCBkZXBlbmRlbmNpZXMpXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtZGV0YWlsLWlkZWFzLmh0bWxcbi8vIG1vZHVsZSBpZCA9IDQ1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBudW5qdWNrcyA9IHJlcXVpcmUoXCJudW5qdWNrcy9icm93c2VyL251bmp1Y2tzLXNsaW1cIik7XG52YXIgZW52O1xuaWYgKCFudW5qdWNrcy5jdXJyZW50RW52KXtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudiA9IG5ldyBudW5qdWNrcy5FbnZpcm9ubWVudChbXSwgdW5kZWZpbmVkKTtcbn0gZWxzZSB7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnY7XG59XG52YXIgY29uZmlndXJlID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uLy4uL251bmp1Y2tzLmNvbmZpZy5qc1wiKShlbnYpO1xudmFyIGRlcGVuZGVuY2llcyA9IG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgfHwgKG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgPSB7fSk7XG5kZXBlbmRlbmNpZXNbXCJ0aWxlcy90aWxlLWRldGFpbC1iYXNlLWdyb3VwXCJdID0gcmVxdWlyZSggXCJ0aWxlcy90aWxlLWRldGFpbC1iYXNlLWdyb3VwXCIgKTtcbmRlcGVuZGVuY2llc1tcImluY2x1ZGUvbWFjcm9zLmh0bWxcIl0gPSByZXF1aXJlKCBcImluY2x1ZGUvbWFjcm9zLmh0bWxcIiApO1xuXG5cblxuXG52YXIgc2hpbSA9IHJlcXVpcmUoXCIvaG9tZS9zYXNjaGEvcHIvY29zaW5udXMtY29yZS9ub2RlX21vZHVsZXMvbnVuanVja3MtbG9hZGVyL3J1bnRpbWUtc2hpbVwiKTtcblxuXG4oZnVuY3Rpb24oKSB7KG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgPSBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkIHx8IHt9KVtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtb3JnYW5pemF0aW9ucy5odG1sXCJdID0gKGZ1bmN0aW9uKCkge1xuZnVuY3Rpb24gcm9vdChlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xudmFyIHBhcmVudFRlbXBsYXRlID0gbnVsbDtcbmVudi5nZXRUZW1wbGF0ZShcInRpbGVzL3RpbGUtZGV0YWlsLWJhc2UtZ3JvdXBcIiwgdHJ1ZSwgXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtZGV0YWlsLW9yZ2FuaXphdGlvbnMuaHRtbFwiLCBmYWxzZSwgZnVuY3Rpb24odF8yLF9wYXJlbnRUZW1wbGF0ZSkge1xuaWYodF8yKSB7IGNiKHRfMik7IHJldHVybjsgfVxucGFyZW50VGVtcGxhdGUgPSBfcGFyZW50VGVtcGxhdGVcbmZvcih2YXIgdF8xIGluIHBhcmVudFRlbXBsYXRlLmJsb2Nrcykge1xuY29udGV4dC5hZGRCbG9jayh0XzEsIHBhcmVudFRlbXBsYXRlLmJsb2Nrc1t0XzFdKTtcbn1cbm91dHB1dCArPSBcIlxcblwiO1xuZW52LmdldFRlbXBsYXRlKFwiaW5jbHVkZS9tYWNyb3MuaHRtbFwiLCBmYWxzZSwgXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtZGV0YWlsLW9yZ2FuaXphdGlvbnMuaHRtbFwiLCBmYWxzZSwgZnVuY3Rpb24odF80LHRfMykge1xuaWYodF80KSB7IGNiKHRfNCk7IHJldHVybjsgfVxudF8zLmdldEV4cG9ydGVkKGZ1bmN0aW9uKHRfNSx0XzMpIHtcbmlmKHRfNSkgeyBjYih0XzUpOyByZXR1cm47IH1cbmNvbnRleHQuc2V0VmFyaWFibGUoXCJtYWNyb3NcIiwgdF8zKTtcbm91dHB1dCArPSBcIlxcblxcblxcblwiO1xuKHBhcmVudFRlbXBsYXRlID8gZnVuY3Rpb24oZSwgYywgZiwgciwgY2IpIHsgY2IoXCJcIik7IH0gOiBjb250ZXh0LmdldEJsb2NrKFwidGl0bGVcIikpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfNyx0XzYpIHtcbmlmKHRfNykgeyBjYih0XzcpOyByZXR1cm47IH1cbm91dHB1dCArPSB0XzY7XG5vdXRwdXQgKz0gXCJcXG5cXG5cIjtcbihwYXJlbnRUZW1wbGF0ZSA/IGZ1bmN0aW9uKGUsIGMsIGYsIHIsIGNiKSB7IGNiKFwiXCIpOyB9IDogY29udGV4dC5nZXRCbG9jayhcInRvcF9saW5lX2dyb3VwXCIpKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzksdF84KSB7XG5pZih0XzkpIHsgY2IodF85KTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF84O1xub3V0cHV0ICs9IFwiXFxuXFxuXCI7XG4ocGFyZW50VGVtcGxhdGUgPyBmdW5jdGlvbihlLCBjLCBmLCByLCBjYikgeyBjYihcIlwiKTsgfSA6IGNvbnRleHQuZ2V0QmxvY2soXCJhZGRpdGlvbmFsX3RvcF9saW5lXCIpKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzExLHRfMTApIHtcbmlmKHRfMTEpIHsgY2IodF8xMSk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfMTA7XG5vdXRwdXQgKz0gXCJcXG5cXG5cIjtcbihwYXJlbnRUZW1wbGF0ZSA/IGZ1bmN0aW9uKGUsIGMsIGYsIHIsIGNiKSB7IGNiKFwiXCIpOyB9IDogY29udGV4dC5nZXRCbG9jayhcImFjdGlvbl9idXR0b25zXCIpKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzEzLHRfMTIpIHtcbmlmKHRfMTMpIHsgY2IodF8xMyk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfMTI7XG5vdXRwdXQgKz0gXCJcXG5cXG5cIjtcbihwYXJlbnRUZW1wbGF0ZSA/IGZ1bmN0aW9uKGUsIGMsIGYsIHIsIGNiKSB7IGNiKFwiXCIpOyB9IDogY29udGV4dC5nZXRCbG9jayhcImNvbnRhY3RcIikpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfMTUsdF8xNCkge1xuaWYodF8xNSkgeyBjYih0XzE1KTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF8xNDtcbmlmKHBhcmVudFRlbXBsYXRlKSB7XG5wYXJlbnRUZW1wbGF0ZS5yb290UmVuZGVyRnVuYyhlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYik7XG59IGVsc2Uge1xuY2IobnVsbCwgb3V0cHV0KTtcbn1cbn0pfSl9KX0pfSl9KX0pfSk7XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl90aXRsZShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xub3V0cHV0ICs9IFwiXFxuICAgIDxkaXYgY2xhc3M9XFxcInRpbGUtc2VjdGlvbiB0aXRsZVxcXCI+XFxuICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiaXNfc3VwZXJ1c2VyXCIpIHx8IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiaXNfbWVtYmVyXCIpICYmIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZWRpdF91cmxcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgPGEgaHJlZj1cXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZWRpdF91cmxcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCIgY2xhc3M9XFxcInVuY29sb3JlZC1saW5rXFxcIj5cXG4gICAgICAgICAgICA8aDE+XFxuICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInRpdGxlXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtcGVuY2lsXFxcIj48L2k+XFxuICAgICAgICAgICAgPC9oMT5cXG4gICAgICAgIDwvYT5cXG4gICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIDxoMT5cXG4gICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0aXRsZVwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIDwvaDE+XFxuICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICA8L2Rpdj5cXG5cIjtcbmNiKG51bGwsIG91dHB1dCk7XG47XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl90b3BfbGluZV9ncm91cChlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xub3V0cHV0ICs9IFwiXFxuICAgIDxkaXYgY2xhc3M9XFxcInRpbGUtc2VjdGlvbiB0b3BpYy1saW5lIG9uZS1saW5lXFxcIj5cXG4gICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm9yZ2FuaXphdGlvbl90eXBlXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICA8L2Rpdj5cXG5cIjtcbmNiKG51bGwsIG91dHB1dCk7XG47XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl9hZGRpdGlvbmFsX3RvcF9saW5lKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5vdXRwdXQgKz0gXCJcXG5cIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYmxvY2tcIikpLFwic3VwZXJcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImlzX29wZW5fZm9yX2Nvb3BlcmF0aW9uXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG48ZGl2IGNsYXNzPVxcXCJhbGVydCBhcHBseS1iZy1jb2xvci1vcmdhbml6YXRpb25zXFxcIj5cXG4gICAgPGkgY2xhc3M9XFxcImZhIGZhLXB1enpsZS1waWVjZVxcXCI+PC9pPlxcbiAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICA8cD5cIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJUaGlzIG9yZ2FuaXphdGlvbiBpcyBvcGVuIGZvciBmdXJ0aGVyIHBhcnRuZXIgb3JnYW5pemF0aW9ucy5cIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCI8L3A+XFxuPC9kaXY+XFxuXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cIjtcbmNiKG51bGwsIG91dHB1dCk7XG47XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl9hY3Rpb25fYnV0dG9ucyhlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xub3V0cHV0ICs9IFwiXFxuXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInBvcnRhbFwiKSA9PSBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIkNPU0lOTlVTX0VYQ0hBTkdFX1BPUlRBTF9JRFwiKSAmJiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInVybFwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgIDxkaXYgY2xhc3M9XFxcInRpbGUtc2VjdGlvbiB0aWxlLXNlY3Rpb24tYnV0dG9uLWxpc3RcXFwiPlxcbiAgICAgICAgPGEgY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uIGJ1dHRvbi1hY3Rpb25cXFwiIGhyZWY9XFxcIlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInVybFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIj5cXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwicm91bmRlZC1idXR0b24taW5uZXJcXFwiPlxcbiAgICAgICAgICAgICAgICA8aSBjbGFzUz1cXFwiZmEgZmEtZXh0ZXJuYWwtbGlua1xcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJPcmdhbml6YXRpb25cIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCIgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwib25cIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCIgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic291cmNlXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgIDwvYT5cXG4gICAgPC9kaXY+XFxuXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cIjtcbmNiKG51bGwsIG91dHB1dCk7XG47XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl9jb250YWN0KGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5vdXRwdXQgKz0gXCJcXG5cIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicG9ydGFsXCIpICE9IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiQ09TSU5OVVNfRVhDSEFOR0VfUE9SVEFMX0lEXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uIHRpbGUtc2VjdGlvbi1kaXZpZGVkXFxcIj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcInJvd1xcXCI+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXhzLTZcXFwiPlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJzdWJoZWFkaW5nXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJDb250YWN0XCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwid2Vic2l0ZV91cmxcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uIG9uZS1saW5lIG5vLXNwYWNlXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVxcXCJcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ3ZWJzaXRlX3VybFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIiBjbGFzcz1cXFwiY29tcGFjdC1saW5rXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWdsb2JlXFxcIj48L2k+XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwid2Vic2l0ZV91cmxcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xuZnJhbWUgPSBmcmFtZS5wdXNoKCk7XG52YXIgdF8xOCA9IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic29jaWFsX21lZGlhXCIpO1xuaWYodF8xOCkge3ZhciB0XzE3ID0gdF8xOC5sZW5ndGg7XG5mb3IodmFyIHRfMTY9MDsgdF8xNiA8IHRfMTgubGVuZ3RoOyB0XzE2KyspIHtcbnZhciB0XzE5ID0gdF8xOFt0XzE2XTtcbmZyYW1lLnNldChcInNtXCIsIHRfMTkpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleFwiLCB0XzE2ICsgMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4MFwiLCB0XzE2KTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXhcIiwgdF8xNyAtIHRfMTYpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleDBcIiwgdF8xNyAtIHRfMTYgLSAxKTtcbmZyYW1lLnNldChcImxvb3AuZmlyc3RcIiwgdF8xNiA9PT0gMCk7XG5mcmFtZS5zZXQoXCJsb29wLmxhc3RcIiwgdF8xNiA9PT0gdF8xNyAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5sZW5ndGhcIiwgdF8xNyk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInRpbGUtc2VjdGlvbiBvbmUtbGluZSBuby1zcGFjZVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzE5KSxcInVybFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIiBjbGFzcz1cXFwiY29tcGFjdC1saW5rXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLVwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLm1lbWJlckxvb2t1cCgodF8xOSksXCJpY29uXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCI+PC9pPlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLm1lbWJlckxvb2t1cCgodF8xOSksXCJ1cmxcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgIFwiO1xuO1xufVxufVxuZnJhbWUgPSBmcmFtZS5wb3AoKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZW1haWxcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uIG9uZS1saW5lIG5vLXNwYWNlXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVxcXCJtYWlsdG86XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZW1haWxcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCIgY2xhc3M9XFxcImNvbXBhY3QtbGlua1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1lbnZlbG9wZVxcXCI+PC9pPlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImVtYWlsXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYT5cXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicGhvbmVfbnVtYmVyXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInRpbGUtc2VjdGlvbiBvbmUtbGluZSBuby1zcGFjZVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cXFwidGVsOlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInBob25lX251bWJlclwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIiBjbGFzcz1cXFwiY29tcGFjdC1saW5rXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLXBob25lXFxcIj48L2k+XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicGhvbmVfbnVtYmVyXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYT5cXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC14cy02XFxcIj5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwic3ViaGVhZGluZ1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICBcIjtcbmlmKGVudi5nZXRGaWx0ZXIoXCJsZW5ndGhcIikuY2FsbChjb250ZXh0LCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImFkbWluc1wiKSkgPiAxKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkFkbWluaXN0cmF0b3JcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkFkbWluaXN0cmF0b3JzXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuaWYoZW52LmdldEZpbHRlcihcImxlbmd0aFwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWRtaW5zXCIpKSA+IDApIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuZnJhbWUgPSBmcmFtZS5wdXNoKCk7XG52YXIgdF8yMiA9IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWRtaW5zXCIpO1xuaWYodF8yMikge3ZhciB0XzIxID0gdF8yMi5sZW5ndGg7XG5mb3IodmFyIHRfMjA9MDsgdF8yMCA8IHRfMjIubGVuZ3RoOyB0XzIwKyspIHtcbnZhciB0XzIzID0gdF8yMlt0XzIwXTtcbmZyYW1lLnNldChcImFkbWluXCIsIHRfMjMpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleFwiLCB0XzIwICsgMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4MFwiLCB0XzIwKTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXhcIiwgdF8yMSAtIHRfMjApO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleDBcIiwgdF8yMSAtIHRfMjAgLSAxKTtcbmZyYW1lLnNldChcImxvb3AuZmlyc3RcIiwgdF8yMCA9PT0gMCk7XG5mcmFtZS5zZXQoXCJsb29wLmxhc3RcIiwgdF8yMCA9PT0gdF8yMSAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5sZW5ndGhcIiwgdF8yMSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKChsaW5lbm8gPSAxMDMsIGNvbG5vID0gNDQsIHJ1bnRpbWUuY2FsbFdyYXAocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibWFjcm9zXCIpKSxcIml0ZW1DYXJkXCIpLCBcIm1hY3Jvc1tcXFwiaXRlbUNhcmRcXFwiXVwiLCBjb250ZXh0LCBbcnVudGltZS5tZW1iZXJMb29rdXAoKHRfMjMpLFwicG9ydGFsXCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzIzKSxcInNsdWdcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMjMpLFwidGl0bGVcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMjMpLFwidHlwZVwiKSxydW50aW1lLm1lbWJlckxvb2t1cCgodF8yMyksXCJpY29uSW1hZ2VVcmxcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMjMpLFwiYWRkcmVzc1wiKSxcImZhLW1hcC1tYXJrZXJcIixydW50aW1lLm1ha2VLZXl3b3JkQXJncyh7XCJjb3Npbm51c19hY3RpdmVfdXNlclwiOiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvc2lubnVzX2FjdGl2ZV91c2VyXCIpfSldKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG59XG5mcmFtZSA9IGZyYW1lLnBvcCgpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2k+XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiQWRtaW5pc3RyYXRvcnMgdW5rbm93blwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIjwvaT5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLXNlY3Rpb24gdGlsZS1zZWN0aW9uLWJ1dHRvbi1saXN0XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJpc19tZW1iZXJcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbiBidXR0b24tYWN0aW9uIGRpc2FibGVkXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uLWlubmVyXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNTPVxcXCJmYSBmYS1jaGVja1xcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIllvdSBhcmUgYSBBZG1pblwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiaXNfaW52aXRlZFwiKSB8fCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImlzX3BlbmRpbmdcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWNjZXB0X3VybFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIiBjbGFzcz1cXFwicm91bmRlZC1idXR0b24gYnV0dG9uLWFjdGlvblxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbi1pbm5lclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiaXNfaW52aXRlZFwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJZb3UgYXJlIGludml0ZWQhXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJpc19wZW5kaW5nXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIk93bmVyc2hpcCByZXF1ZXN0IHBlbmRpbmcuLi5cIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2E+XFxuICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcblxcbiAgICA8L2Rpdj5cXG5cXG4gICAgXCI7XG5pZihlbnYuZ2V0RmlsdGVyKFwibGVuZ3RoXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJncm91cHNcIikpID4gMCkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLXNlY3Rpb24gdGlsZS1zZWN0aW9uLWRpdmlkZWRcXFwiPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInN1YmhlYWRpbmdcXFwiPlxcbiAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtZ3JvdXBcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgXCI7XG5pZihlbnYuZ2V0RmlsdGVyKFwibGVuZ3RoXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJvcmdhbml6YXRpb25zXCIpKSA+IDEpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICBcXHRcIjtcbm91dHB1dCArPSBcIlxcblxcdCAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJQcm9qZWN0cyBhbmQgZ3JvdXBzXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiUHJvamVjdC9ncm91cFwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdCAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcInRpbGUtc2VjdGlvblxcXCI+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwicm93XFxcIj5cXG4gICAgICAgICAgICAgICAgXCI7XG5mcmFtZSA9IGZyYW1lLnB1c2goKTtcbnZhciB0XzI2ID0gcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJncm91cHNcIik7XG5pZih0XzI2KSB7dmFyIHRfMjUgPSB0XzI2Lmxlbmd0aDtcbmZvcih2YXIgdF8yND0wOyB0XzI0IDwgdF8yNi5sZW5ndGg7IHRfMjQrKykge1xudmFyIHRfMjcgPSB0XzI2W3RfMjRdO1xuZnJhbWUuc2V0KFwiZ3JvdXBcIiwgdF8yNyk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfMjQgKyAxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXgwXCIsIHRfMjQpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleFwiLCB0XzI1IC0gdF8yNCk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4MFwiLCB0XzI1IC0gdF8yNCAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzI0ID09PSAwKTtcbmZyYW1lLnNldChcImxvb3AubGFzdFwiLCB0XzI0ID09PSB0XzI1IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzI1KTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTZcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSgobGluZW5vID0gMTU1LCBjb2xubyA9IDQwLCBydW50aW1lLmNhbGxXcmFwKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm1hY3Jvc1wiKSksXCJpdGVtQ2FyZFwiKSwgXCJtYWNyb3NbXFxcIml0ZW1DYXJkXFxcIl1cIiwgY29udGV4dCwgW3J1bnRpbWUubWVtYmVyTG9va3VwKCh0XzI3KSxcInBvcnRhbFwiKSxydW50aW1lLm1lbWJlckxvb2t1cCgodF8yNyksXCJzbHVnXCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzI3KSxcInRpdGxlXCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzI3KSxcInR5cGVcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMjcpLFwiaWNvbkltYWdlVXJsXCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzI3KSxcImxvY2F0aW9uXCIpLFwiZmEtbWFwLW1hcmtlclwiXSkpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgIFwiO1xuO1xufVxufVxuZnJhbWUgPSBmcmFtZS5wb3AoKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9kaXY+XFxuICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cIjtcbmNiKG51bGwsIG91dHB1dCk7XG47XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxucmV0dXJuIHtcbmJfdGl0bGU6IGJfdGl0bGUsXG5iX3RvcF9saW5lX2dyb3VwOiBiX3RvcF9saW5lX2dyb3VwLFxuYl9hZGRpdGlvbmFsX3RvcF9saW5lOiBiX2FkZGl0aW9uYWxfdG9wX2xpbmUsXG5iX2FjdGlvbl9idXR0b25zOiBiX2FjdGlvbl9idXR0b25zLFxuYl9jb250YWN0OiBiX2NvbnRhY3QsXG5yb290OiByb290XG59O1xuXG59KSgpO1xufSkoKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gc2hpbShudW5qdWNrcywgZW52LCBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkW1wiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy90aWxlLWRldGFpbC1vcmdhbml6YXRpb25zLmh0bWxcIl0gLCBkZXBlbmRlbmNpZXMpXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtZGV0YWlsLW9yZ2FuaXphdGlvbnMuaHRtbFxuLy8gbW9kdWxlIGlkID0gNDZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIG51bmp1Y2tzID0gcmVxdWlyZShcIm51bmp1Y2tzL2Jyb3dzZXIvbnVuanVja3Mtc2xpbVwiKTtcbnZhciBlbnY7XG5pZiAoIW51bmp1Y2tzLmN1cnJlbnRFbnYpe1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52ID0gbmV3IG51bmp1Y2tzLkVudmlyb25tZW50KFtdLCB1bmRlZmluZWQpO1xufSBlbHNlIHtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudjtcbn1cbnZhciBjb25maWd1cmUgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vLi4vbnVuanVja3MuY29uZmlnLmpzXCIpKGVudik7XG52YXIgZGVwZW5kZW5jaWVzID0gbnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyB8fCAobnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyA9IHt9KTtcbmRlcGVuZGVuY2llc1tcInRpbGVzL3RpbGUtZGV0YWlsLWJhc2VcIl0gPSByZXF1aXJlKCBcInRpbGVzL3RpbGUtZGV0YWlsLWJhc2VcIiApO1xuZGVwZW5kZW5jaWVzW1wiaW5jbHVkZS9tYWNyb3MuaHRtbFwiXSA9IHJlcXVpcmUoIFwiaW5jbHVkZS9tYWNyb3MuaHRtbFwiICk7XG5cblxuXG5cbnZhciBzaGltID0gcmVxdWlyZShcIi9ob21lL3Nhc2NoYS9wci9jb3Npbm51cy1jb3JlL25vZGVfbW9kdWxlcy9udW5qdWNrcy1sb2FkZXIvcnVudGltZS1zaGltXCIpO1xuXG5cbihmdW5jdGlvbigpIHsobnVuanVja3MubnVuanVja3NQcmVjb21waWxlZCA9IG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgfHwge30pW1wiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy90aWxlLWRldGFpbC1lcnJvci00MDMuaHRtbFwiXSA9IChmdW5jdGlvbigpIHtcbmZ1bmN0aW9uIHJvb3QoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbnZhciBwYXJlbnRUZW1wbGF0ZSA9IG51bGw7XG5lbnYuZ2V0VGVtcGxhdGUoXCJ0aWxlcy90aWxlLWRldGFpbC1iYXNlXCIsIHRydWUsIFwiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy90aWxlLWRldGFpbC1lcnJvci00MDMuaHRtbFwiLCBmYWxzZSwgZnVuY3Rpb24odF8yLF9wYXJlbnRUZW1wbGF0ZSkge1xuaWYodF8yKSB7IGNiKHRfMik7IHJldHVybjsgfVxucGFyZW50VGVtcGxhdGUgPSBfcGFyZW50VGVtcGxhdGVcbmZvcih2YXIgdF8xIGluIHBhcmVudFRlbXBsYXRlLmJsb2Nrcykge1xuY29udGV4dC5hZGRCbG9jayh0XzEsIHBhcmVudFRlbXBsYXRlLmJsb2Nrc1t0XzFdKTtcbn1cbm91dHB1dCArPSBcIlxcblwiO1xuZW52LmdldFRlbXBsYXRlKFwiaW5jbHVkZS9tYWNyb3MuaHRtbFwiLCBmYWxzZSwgXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtZGV0YWlsLWVycm9yLTQwMy5odG1sXCIsIGZhbHNlLCBmdW5jdGlvbih0XzQsdF8zKSB7XG5pZih0XzQpIHsgY2IodF80KTsgcmV0dXJuOyB9XG50XzMuZ2V0RXhwb3J0ZWQoZnVuY3Rpb24odF81LHRfMykge1xuaWYodF81KSB7IGNiKHRfNSk7IHJldHVybjsgfVxuY29udGV4dC5zZXRWYXJpYWJsZShcIm1hY3Jvc1wiLCB0XzMpO1xub3V0cHV0ICs9IFwiXFxuXFxuXCI7XG4ocGFyZW50VGVtcGxhdGUgPyBmdW5jdGlvbihlLCBjLCBmLCByLCBjYikgeyBjYihcIlwiKTsgfSA6IGNvbnRleHQuZ2V0QmxvY2soXCJjb250ZW50XCIpKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzcsdF82KSB7XG5pZih0XzcpIHsgY2IodF83KTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF82O1xub3V0cHV0ICs9IFwiXFxuXCI7XG5pZihwYXJlbnRUZW1wbGF0ZSkge1xucGFyZW50VGVtcGxhdGUucm9vdFJlbmRlckZ1bmMoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpO1xufSBlbHNlIHtcbmNiKG51bGwsIG91dHB1dCk7XG59XG59KX0pfSl9KTtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX2NvbnRlbnQoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcbiAgICA8aDEgY2xhc3M9XFxcImVycm9yLXRpdGxlXFxcIj5cXG4gICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJQcm90ZWN0ZWQgQ29udGVudFwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICA8L2gxPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJlcnJvci10ZXh0XFxcIj5cXG4gICAgICAgIDxwPlxcbiAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiU29ycnksIGJ1dCB5b3UgY2Fubm90IHZpZXcgZGV0YWlscyBmb3IgdGhpcyBjb250ZW50LlwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgPC9wPlxcbiAgICAgICAgPHA+XFxuICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvc2lubnVzX2FjdGl2ZV91c2VyXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiVGhpcyBjYW4gaGFwcGVuIHdoZW4gaXRzIHZpc2liaWxpdHkgc2V0dGluZ3MgaGF2ZSBjaGFuZ2VkIHJlY2VudGx5LlwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgPGEgaHJlZj1cXFwiL3NpZ251cC8/YWNjX3JlcV9tc2c9MSZuZXh0PS9tYXAvXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiUGxlYXNlIHJlZ2lzdGVyIG9yIGxvZyBpbiB0byBjb250aW51ZSFcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICA8L3A+XFxuICAgIDwvZGl2PlxcblwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5yZXR1cm4ge1xuYl9jb250ZW50OiBiX2NvbnRlbnQsXG5yb290OiByb290XG59O1xuXG59KSgpO1xufSkoKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gc2hpbShudW5qdWNrcywgZW52LCBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkW1wiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy90aWxlLWRldGFpbC1lcnJvci00MDMuaHRtbFwiXSAsIGRlcGVuZGVuY2llcylcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Nvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtZXJyb3ItNDAzLmh0bWxcbi8vIG1vZHVsZSBpZCA9IDQ3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBudW5qdWNrcyA9IHJlcXVpcmUoXCJudW5qdWNrcy9icm93c2VyL251bmp1Y2tzLXNsaW1cIik7XG52YXIgZW52O1xuaWYgKCFudW5qdWNrcy5jdXJyZW50RW52KXtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudiA9IG5ldyBudW5qdWNrcy5FbnZpcm9ubWVudChbXSwgdW5kZWZpbmVkKTtcbn0gZWxzZSB7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnY7XG59XG52YXIgY29uZmlndXJlID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uLy4uL251bmp1Y2tzLmNvbmZpZy5qc1wiKShlbnYpO1xudmFyIGRlcGVuZGVuY2llcyA9IG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgfHwgKG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgPSB7fSk7XG5kZXBlbmRlbmNpZXNbXCJ0aWxlcy90aWxlLWRldGFpbC1iYXNlXCJdID0gcmVxdWlyZSggXCJ0aWxlcy90aWxlLWRldGFpbC1iYXNlXCIgKTtcbmRlcGVuZGVuY2llc1tcImluY2x1ZGUvbWFjcm9zLmh0bWxcIl0gPSByZXF1aXJlKCBcImluY2x1ZGUvbWFjcm9zLmh0bWxcIiApO1xuXG5cblxuXG52YXIgc2hpbSA9IHJlcXVpcmUoXCIvaG9tZS9zYXNjaGEvcHIvY29zaW5udXMtY29yZS9ub2RlX21vZHVsZXMvbnVuanVja3MtbG9hZGVyL3J1bnRpbWUtc2hpbVwiKTtcblxuXG4oZnVuY3Rpb24oKSB7KG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgPSBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkIHx8IHt9KVtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtZXJyb3IuaHRtbFwiXSA9IChmdW5jdGlvbigpIHtcbmZ1bmN0aW9uIHJvb3QoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbnZhciBwYXJlbnRUZW1wbGF0ZSA9IG51bGw7XG5lbnYuZ2V0VGVtcGxhdGUoXCJ0aWxlcy90aWxlLWRldGFpbC1iYXNlXCIsIHRydWUsIFwiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy90aWxlLWRldGFpbC1lcnJvci5odG1sXCIsIGZhbHNlLCBmdW5jdGlvbih0XzIsX3BhcmVudFRlbXBsYXRlKSB7XG5pZih0XzIpIHsgY2IodF8yKTsgcmV0dXJuOyB9XG5wYXJlbnRUZW1wbGF0ZSA9IF9wYXJlbnRUZW1wbGF0ZVxuZm9yKHZhciB0XzEgaW4gcGFyZW50VGVtcGxhdGUuYmxvY2tzKSB7XG5jb250ZXh0LmFkZEJsb2NrKHRfMSwgcGFyZW50VGVtcGxhdGUuYmxvY2tzW3RfMV0pO1xufVxub3V0cHV0ICs9IFwiXFxuXCI7XG5lbnYuZ2V0VGVtcGxhdGUoXCJpbmNsdWRlL21hY3Jvcy5odG1sXCIsIGZhbHNlLCBcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtZXJyb3IuaHRtbFwiLCBmYWxzZSwgZnVuY3Rpb24odF80LHRfMykge1xuaWYodF80KSB7IGNiKHRfNCk7IHJldHVybjsgfVxudF8zLmdldEV4cG9ydGVkKGZ1bmN0aW9uKHRfNSx0XzMpIHtcbmlmKHRfNSkgeyBjYih0XzUpOyByZXR1cm47IH1cbmNvbnRleHQuc2V0VmFyaWFibGUoXCJtYWNyb3NcIiwgdF8zKTtcbm91dHB1dCArPSBcIlxcblxcblwiO1xuKHBhcmVudFRlbXBsYXRlID8gZnVuY3Rpb24oZSwgYywgZiwgciwgY2IpIHsgY2IoXCJcIik7IH0gOiBjb250ZXh0LmdldEJsb2NrKFwiY29udGVudFwiKSkoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF83LHRfNikge1xuaWYodF83KSB7IGNiKHRfNyk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfNjtcbm91dHB1dCArPSBcIlxcblwiO1xuaWYocGFyZW50VGVtcGxhdGUpIHtcbnBhcmVudFRlbXBsYXRlLnJvb3RSZW5kZXJGdW5jKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKTtcbn0gZWxzZSB7XG5jYihudWxsLCBvdXRwdXQpO1xufVxufSl9KX0pfSk7XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl9jb250ZW50KGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgPGgxIGNsYXNzPVxcXCJlcnJvci10aXRsZVxcXCI+XFxuICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiRXJyb3IhXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgIDwvaDE+XFxuICAgIDxkaXYgY2xhc3M9XFxcImVycm9yLXRleHRcXFwiPlxcbiAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIlNvcnJ5LCBidXQgdGhlIHJlcXVlc3RlZCBjb250ZW50IGNvdWxkIG5vdCBiZSByZXRyaWV2ZWQgZnJvbSB0aGUgc2VydmVyLlwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICA8L2Rpdj5cXG5cIjtcbmNiKG51bGwsIG91dHB1dCk7XG47XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxucmV0dXJuIHtcbmJfY29udGVudDogYl9jb250ZW50LFxucm9vdDogcm9vdFxufTtcblxufSkoKTtcbn0pKCk7XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHNoaW0obnVuanVja3MsIGVudiwgbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZFtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtZXJyb3IuaHRtbFwiXSAsIGRlcGVuZGVuY2llcylcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Nvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtZXJyb3IuaHRtbFxuLy8gbW9kdWxlIGlkID0gNDhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgQmFzZVZpZXcgPSByZXF1aXJlKCd2aWV3cy9iYXNlL3ZpZXcnKTtcbnZhciB1dGlsID0gcmVxdWlyZSgnbGliL3V0aWwnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBCYXNlVmlldy5leHRlbmQoe1xuXG4gICAgYXBwOiBudWxsLFxuXG4gICAgdGVtcGxhdGU6IHJlcXVpcmUoJ25hdmJhci9xdWlja3NlYXJjaCcpLFxuXG4gICAgZmV0Y2hVUkw6ICcvc2VhcmNoL2FwaS9xdWlja3NlYXJjaC8nLFxuXG4gICAgLy8gdGhlIHBhcmVudCBlbCwgY29udGFpbmluZyB0aGUgc2VhcmNoIHRleHRib3ggYW5kIGJ1dHRvblxuICAgICRzZWFyY2hCYXJFbDogbnVsbCxcblxuICAgIC8vIHdpbGwgYmUgc2V0IHRvIHNlbGYub3B0aW9ucyBkdXJpbmcgaW5pdGlhbGl6YXRpb25cbiAgICBkZWZhdWx0czoge1xuICAgICAgICBxdWVyeTogbnVsbCxcbiAgICAgICAgc2VhcmNoTWV0aG9kczoge1xuICAgICAgICAgICAgJ2RlZmF1bHQnOiAnL3NlYXJjaC8/cT17e3F9fScsXG4gICAgICAgICAgICAnbWFwJzogJy9tYXAvP3E9e3txfX0nLFxuICAgICAgICAgICAgJ2dyb3Vwcyc6ICcvc2VhcmNoLz9ncm91cHM9bWluZSZxPXt7cX19JyxcbiAgICAgICAgICAgICdjbG91ZGZpbGVzJzogJy9zZWFyY2gvY2xvdWRmaWxlcy8/cT17e3F9fSdcbiAgICAgICAgfSxcbiAgICAgICAgdG9waWNzU2VhcmNoTWV0aG9kczoge1xuICAgICAgICAgICAgLy8gPHRpdGxlPjogPHVybD4sXG4gICAgICAgIH0sXG4gICAgICAgIC8vIHRoaXMgd2lsbCBiZSBhZGRlZCB0byB0aGUgc3RhdGUudG9waWNzU2VhcmNoTWV0aG9kcyBmb3IgbWF0Y2hpbmcgdG9waWNzXG4gICAgICAgIHRvcGljc1VybDogJy9tYXAvP3RvcGljcz17e3R9fScsXG4gICAgICAgIHNkZ1NlYXJjaE1ldGhvZHM6IHt9LFxuICAgICAgICBzZGdzVXJsOiAnL21hcC8/c2Rncz17e3R9fScsXG5cbiAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgICAgIGxvYWRpbmc6IGZhbHNlLCAvLyBpZiB0cnVlLCBhIHJlcXVlc3QgaXMgY3VycmVudGx5IGxvYWRpbmdcbiAgICAgICAgICAgIGN1cnJlbnRSZXF1ZXN0OiBudWxsLCAvLyB0aGUgWE1MSHR0cFJlcXVlc3QgdGhhdCBpcyBjdXJyZW50bHkgbG9hZGluZ1xuICAgICAgICAgICAgaGFkRXJyb3JzOiBmYWxzZSxcblxuICAgICAgICAgICAgcXVpY2tzZWFyY2hSZXN1bHRzOiBbXSxcblxuICAgICAgICAgICAgZmlyZVF1aWNrc2VhcmNoVGltZW91dDogbnVsbFxuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8vIFRoZSBET00gZXZlbnRzIHNwZWNpZmljIHRvIGFuIGl0ZW0uXG4gICAgZXZlbnRzOiB7XG4gICAgfSxcblxuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIChvcHRpb25zLCBhcHApIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBzZWxmLmFwcCA9IGFwcDtcbiAgICAgICAgQmFzZVZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbChzZWxmLCBvcHRpb25zKTtcblxuICAgICAgICBzZWxmLiRzZWFyY2hCYXJFbCA9ICQoJyNuYXYtcXVpY2tzZWFyY2gnKTtcbiAgICAgICAgLy8gZXZlbnRzIHRoYXQgaGF2ZSB0byBiZSBkZWZpbmVkIGhlcmUgYmVjYXVzZSB0aGV5IGhhcHBlbiBpbiB0aGUgc2VhcmNoQmFyRWw6XG4gICAgICAgIHNlbGYuJHNlYXJjaEJhckVsLm9uKCdmb2N1cycsICcubmF2LXNlYXJjaC1ib3gnLCBzZWxmLnRoaXNDb250ZXh0KHNlbGYub25TZWFyY2hCb3hGb2N1c0luKSk7XG4gICAgICAgIHNlbGYuJHNlYXJjaEJhckVsLm9uKCdrZXlkb3duJywgJy5uYXYtc2VhcmNoLWJveCcsIHNlbGYudGhpc0NvbnRleHQoc2VsZi5vblNlYXJjaEJveEtleURvd24pKTtcbiAgICAgICAgc2VsZi4kc2VhcmNoQmFyRWwub24oJ2lucHV0JywgJy5uYXYtc2VhcmNoLWJveCcsIHNlbGYudGhpc0NvbnRleHQoc2VsZi5vblNlYXJjaEJveFR5cGVkKSk7XG4gICAgICAgIHNlbGYuJHNlYXJjaEJhckVsLm9uKCdjbGljaycsICcubmF2LWJ1dHRvbi1zZWFyY2gnLCBzZWxmLnRoaXNDb250ZXh0KHNlbGYub25TZWFyY2hJY29uQ2xpY2tlZCkpO1xuICAgICAgICBzZWxmLiRzZWFyY2hCYXJFbC5vbignY2xpY2snLCAnLnF1aWNrc2VhcmNoLWZpbHRlcmJ1dHRvbicsIHNlbGYudGhpc0NvbnRleHQoc2VsZi5vblF1aWNrU2VhcmNoRmlsdGVyQnV0dG9uQ2xpY2tlZCkpO1xuXG5cbiAgICAgICAgLy8gVE9ETzogYWRkIGEgY29sbGVjdGlvbiBmb3IgcXVpY2tzZWFyY2ggREIgcmVzdWx0cyFcbiAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIC8vIHJlc3VsdCBldmVudHNcbiAgICAgICAgc2VsZi5jb2xsZWN0aW9uLm9uKHtcbiAgICAgICAgICAgICdhZGQnOiBzZWxmLnRoaXNDb250ZXh0KHNlbGYudGlsZUFkZCksXG4gICAgICAgICAgICAnY2hhbmdlJzogc2VsZi50aGlzQ29udGV4dChzZWxmLnRpbGVVcGRhdGUpLFxuICAgICAgICAgICAgJ3JlbW92ZSc6IHNlbGYudGhpc0NvbnRleHQoc2VsZi50aWxlUmVtb3ZlKSxcbiAgICAgICAgICAgICd1cGRhdGUnOiBzZWxmLnRoaXNDb250ZXh0KHNlbGYudGlsZXNVcGRhdGUpLFxuICAgICAgICAgICAgJ3Jlc2V0Jzogc2VsZi50aGlzQ29udGV4dChzZWxmLnRpbGVzUmVzZXQpLFxuICAgICAgICB9KTtcblxuICAgIH0sXG5cbiAgICByZW5kZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBCYXNlVmlldy5wcm90b3R5cGUucmVuZGVyLmNhbGwoc2VsZik7XG5cbiAgICAgICAgdXRpbC5sb2coJyoqKiBSZW5kZXJlZCBxdWlja3NlYXJjaCEgKioqJylcbiAgICAgICAgdGhpcy4kc2VhcmNoQmFyRWwuZmluZCgnLmRyb3Bkb3duLXVuZGVyZHJvcCcpLmhlaWdodCh0aGlzLiRlbC5vdXRlckhlaWdodCgpKTtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKiBFeHRlbmQgdGhlIHRlbXBsYXRlIGRhdGEgYnkgdGhlIGNvbnRyb2xWaWV3J3Mgb3B0aW9ucyBhbmQgc3RhdGUgKi9cbiAgICBnZXRUZW1wbGF0ZURhdGE6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB2YXIgZGF0YSA9IEJhc2VWaWV3LnByb3RvdHlwZS5nZXRUZW1wbGF0ZURhdGEuY2FsbChzZWxmKTtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSxcblxuICAgIC8qKiBTZWFyY2hib3ggZm9jdXNlZCAqL1xuICAgIG9uU2VhcmNoQm94Rm9jdXNJbjogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuJHNlYXJjaEJhckVsLmZpbmQoJy5uYXYtc2VhcmNoLWJveCcpLmF0dHIoJ3BsYWNlaG9sZGVyJywgdGhpcy5vcHRpb25zLnBsYWNlaG9sZGVyKTtcbiAgICAgICAgdGhpcy5zaG93RHJvcGRvd24oKTtcbiAgICB9LFxuXG4gICAgLyoqIFNlYXJjaGJveCBrZXkgZG93bnMsIGZvciBzcGVjaWFsIGtleXMgKi9cbiAgICBvblNlYXJjaEJveEtleURvd246IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSAxMykge1xuICAgICAgICAgICAgdGhpcy5maXJlU2VhcmNoKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnQua2V5Q29kZSA9PSAyNykge1xuICAgICAgICAgICAgdGhpcy4kc2VhcmNoQmFyRWwucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpLmZpbmQoJy5uYXYtc2VhcmNoLWJveCcpLmJsdXIoKTtcbiAgICAgICAgICAgICQoJy52Mi1uYXZiYXInKS5yZW1vdmVDbGFzcygnc2VhcmNoLW9wZW4nKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBvblF1aWNrU2VhcmNoRmlsdGVyQnV0dG9uQ2xpY2tlZDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHZhciB0eXBlID0gZXZlbnQuY3VycmVudFRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcmVzdWx0LWZpbHRlci10eXBlJyk7XG4gICAgICAgIHZhciBxdWVyeSA9IHRoaXMuZ2V0Q3VycmVudFF1ZXJ5KCk7XG5cbiAgICAgICAgdmFyIGRhdGEgPSB7XG4gICAgICAgICAgICAncSc6IHF1ZXJ5ID8gcXVlcnkgOiAnJyxcbiAgICAgICAgICAgICdwZW9wbGUnOiB0eXBlID09PSAncGVvcGxlJyxcbiAgICAgICAgICAgICdldmVudHMnOiB0eXBlID09PSAnZXZlbnRzJyxcbiAgICAgICAgICAgICdwcm9qZWN0cyc6IHR5cGUgPT09ICdwcm9qZWN0cycsXG4gICAgICAgICAgICAnZ3JvdXBzJzogdHlwZSA9PT0gJ2dyb3VwcycsXG4gICAgICAgICAgICAnaWRlYXMnOiB0eXBlID09PSAnaWRlYXMnLFxuICAgICAgICAgICAgJ2NvbmZlcmVuY2VzJzogdHlwZSA9PT0gJ2NvbmZlcmVuY2VzJyxcbiAgICAgICAgICAgICdvcmdhbml6YXRpb25zJzogdHlwZSA9PT0gJ29yZ2FuaXphdGlvbnMnXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHBhcmFtcyA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGQgaW4gZGF0YSkge1xuICAgICAgICAgICAgcGFyYW1zLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGQpICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGRhdGFbZF0pKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdXJsID0gJy9tYXAvPycgKyBwYXJhbXMuam9pbignJicpO1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHVybDtcbiAgICB9LFxuXG4gICAgLyoqIFNlYXJjaGJveCB0ZXh0IGlucHV0ICovXG4gICAgb25TZWFyY2hCb3hUeXBlZDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgaWYgKCFldmVudC5zaGlmdEtleSAmJiAhZXZlbnQuY3RybEtleSkge1xuICAgICAgICAgICAgaWYgKHNlbGYuc3RhdGUuZmlyZVF1aWNrc2VhcmNoVGltZW91dCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIHByZXZlbnQgdGhlIHF1aWNrc2VhcmNoIHJlcXVlc3QgZnJvbSBiZWluZyBzdGFydGVkXG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHNlbGYuc3RhdGUuZmlyZVF1aWNrc2VhcmNoVGltZW91dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVNlYXJjaFN1Z2dlc3Rpb25zKCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqIHJlcmVuZGVycyB0aGUgbGlzdCBvZiBjbGlja2FibGUgc2VhcmNoIHN1Z2dlc3Rpb25zLCBlLmcuIGFmdGVyIG5ldyBpbnB1dCB3YXMgbWFkZSAqL1xuICAgIHVwZGF0ZVNlYXJjaFN1Z2dlc3Rpb25zOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIHF1ZXJ5ID0gc2VsZi5nZXRDdXJyZW50UXVlcnkoKTtcblxuICAgICAgICAvLyBhcHBseSB0aGUgY3VycmVudCBxdWVyeSB0byB0aGUgdXJscyBpbiBzZWFyY2hNZXRob2RzXG4gICAgICAgIHZhciBzZWFyY2hNZXRob2RzID0gXyhzZWxmLm9wdGlvbnMuc2VhcmNoTWV0aG9kcykuY2xvbmUoKTtcbiAgICAgICAgZm9yICh2YXIgbWV0aG9kIGluIHNlYXJjaE1ldGhvZHMpIHtcbiAgICAgICAgICAgIHNlYXJjaE1ldGhvZHNbbWV0aG9kXSA9IHNlYXJjaE1ldGhvZHNbbWV0aG9kXS5yZXBsYWNlKCd7e3F9fScsIGVuY29kZVVSSUNvbXBvbmVudChxdWVyeSkpO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYuc3RhdGUuc2VhcmNoTWV0aG9kcyA9IHNlYXJjaE1ldGhvZHM7XG4gICAgICAgIC8vIG1hdGNoIHRvcGljcyB0byB0aGUgY3VycmVudCBxdWVyeSBhbmQgZ2VuZXJhdGUgdG9waWMgc2VhcmNoIHN1Z2dlc3Rpb25zXG4gICAgICAgIHZhciB0b3BpY3NTZWFyY2hNZXRob2RzID0ge307XG4gICAgICAgIGZvciAodmFyIHRvcGljSWQgaW4gc2VsZi5vcHRpb25zLnRvcGljc0pzb24pIHtcbiAgICAgICAgICAgIHZhciB0b3BpYyA9IHNlbGYub3B0aW9ucy50b3BpY3NKc29uW3RvcGljSWRdO1xuICAgICAgICAgICAgaWYgKHRvcGljICYmIHRvcGljLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihxdWVyeS50b0xvd2VyQ2FzZSgpKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgLy8gaGlnaGxpZ2h0IHRoZSB0b3BpYyBvY2N1cmVuY2VcbiAgICAgICAgICAgICAgICB2YXIgdGl0bGUgPSB1dGlsLmlSZXBsYWNlKHRvcGljLCBxdWVyeSwgJzxiPiQxPC9iPicpO1xuICAgICAgICAgICAgICAgIHZhciB1cmwgPSBzZWxmLm9wdGlvbnMudG9waWNzVXJsLnJlcGxhY2UoJ3t7dH19JywgdG9waWNJZCk7XG4gICAgICAgICAgICAgICAgdG9waWNzU2VhcmNoTWV0aG9kc1t0aXRsZV0gPSB1cmw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2VsZi5vcHRpb25zLnNkZ3NKc29uLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciBzZGdTZWFyY2hNZXRob2RzID0ge307XG4gICAgICAgICAgICBmb3IgKHZhciBzZGdJZCBpbiBzZWxmLm9wdGlvbnMuc2Rnc0pzb24pIHtcbiAgICAgICAgICAgICAgICB2YXIgc2RnID0gc2VsZi5vcHRpb25zLnNkZ3NKc29uW3NkZ0lkXTtcbiAgICAgICAgICAgICAgICBpZiAoc2RnICYmIHNkZy5uYW1lLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihxdWVyeS50b0xvd2VyQ2FzZSgpKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0aXRsZSA9IHV0aWwuaVJlcGxhY2Uoc2RnLm5hbWUsIHF1ZXJ5LCAnPGI+JDE8L2I+JylcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IHNlbGYub3B0aW9ucy5zZGdzVXJsLnJlcGxhY2UoJ3t7dH19Jywgc2RnLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgc2RnU2VhcmNoTWV0aG9kc1t0aXRsZV0gPSB1cmw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cblxuICAgICAgICBzZWxmLnN0YXRlLnRvcGljc1NlYXJjaE1ldGhvZHMgPSB0b3BpY3NTZWFyY2hNZXRob2RzXG4gICAgICAgIHNlbGYuc3RhdGUuc2RnU2VhcmNoTWV0aG9kcyA9IHNkZ1NlYXJjaE1ldGhvZHNcblxuICAgICAgICBzZWxmLnN0YXRlLnF1ZXJ5ID0gcXVlcnkgfHwgbnVsbDtcbiAgICAgICAgc2VsZi5zdGF0ZS5xdWlja3NlYXJjaFJlc3VsdHMgPSBbXTtcbiAgICAgICAgc2VsZi5yZW5kZXIoKTtcblxuICAgICAgICBpZiAoc2VsZi5zdGF0ZS5xdWVyeSAmJiBzZWxmLnN0YXRlLnF1ZXJ5Lmxlbmd0aCA+IDIpIHtcbiAgICAgICAgICAgIC8vIHdhaXQgYSBzaG9ydCB0aW1lIGJlZm9yZSBpc3N1aW5nIGEgSFRUUCByZXF1ZXN0LCBcbiAgICAgICAgICAgIC8vIGluIGNhc2UgdGhlIHVzZXIgdHlwZXMgbW9yZSBzdHVmZiBpbiB0aGUgbWVhbnRpbWU7XG4gICAgICAgICAgICAvLyBpbiB0aGF0IGNhc2UsIHRoZSB0aW1lb3V0IHdpbGwgYmUgY2xlYXJlZC9jYW5jZWxsZWQuXG4gICAgICAgICAgICBzZWxmLnN0YXRlLmZpcmVRdWlja3NlYXJjaFRpbWVvdXQgPSBzZXRUaW1lb3V0KHNlbGYubG9hZFF1aWNrUmVzdWx0cywgMSwgc2VsZiwgc2VsZi5zdGF0ZS5xdWVyeSk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqIEdldCB0aGUgdGV4dCBmcm9tIHRoZSBzZWFyY2ggYm94ICovXG4gICAgZ2V0Q3VycmVudFF1ZXJ5OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRzZWFyY2hCYXJFbC5maW5kKCcubmF2LXNlYXJjaC1ib3gnKS52YWwoKS50cmltKCk7XG4gICAgfSxcblxuICAgIC8qKiBGaXJlIG9mZiBhIHNlYXJjaC4gSWYgbm8gYXJndW1lbnRzIGdpdmVuLCBmaXJlcyB0aGUgZGVmYXVsdCBzZWFyY2hcbiAgICAgKiBcdHdpdGggdGhlIGN1cnJlbnRseSBlbnRlcmVkIHRleHQgKi9cbiAgICBmaXJlU2VhcmNoOiBmdW5jdGlvbiAodHlwZSwgcXVlcnkpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBpZiAoIXR5cGUpIHtcbiAgICAgICAgICAgIHR5cGUgPSAnZGVmYXVsdCc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFxdWVyeSkge1xuICAgICAgICAgICAgcXVlcnkgPSBzZWxmLmdldEN1cnJlbnRRdWVyeSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChxdWVyeSAmJiBxdWVyeS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgdXJsID0gc2VsZi5vcHRpb25zLnNlYXJjaE1ldGhvZHNbdHlwZV0ucmVwbGFjZSgne3txfX0nLCBlbmNvZGVVUklDb21wb25lbnQocXVlcnkpKTtcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IHVybDtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKiogU2hvd3MgdGhlIHF1aWNrc2VhcmNoIHJlc3VsdCBsaXN0ICovXG4gICAgc2hvd0Ryb3Bkb3duOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHV0aWwubG9nKCcqKiogU2hvd2luZyBxdWlja3NlYXJjaCByZXN1bHRzICoqKicpXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy50aGlzQ29udGV4dCh0aGlzLmNoZWNrUXVpY2tTZWFyY2hGb2N1c091dCkpO1xuICAgICAgICB0aGlzLiRzZWFyY2hCYXJFbC5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICQoJy52Mi1uYXZiYXInKS5hZGRDbGFzcygnc2VhcmNoLW9wZW4nKTtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9LFxuXG4gICAgLyoqIEhpZGVzIHRoZSBxdWlja3NlYXJjaCByZXN1bHQgbGlzdCAqL1xuICAgIGhpZGVEcm9wZG93bjogZnVuY3Rpb24gKCkge1xuICAgICAgICB1dGlsLmxvZygnKioqIEhpZGluZyBxdWlja3NlYXJjaCByZXN1bHRzICoqKicpXG4gICAgICAgIHRoaXMuJGVsLmhpZGUoKTtcbiAgICB9LFxuXG4gICAgLyoqIFdoaWxlIHdlIGFyZSBmb2N1c2VkLCBjaGVjayBmb3IgY2xpY2tzIG91dHNpZGUgdG8gdHJpZ2dlciBjbG9zaW5nIHRoZSBtZW51ICovXG4gICAgY2hlY2tRdWlja1NlYXJjaEZvY3VzT3V0OiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgaWYgKCh0aGlzLiRzZWFyY2hCYXJFbC5oYXNDbGFzcygnYWN0aXZlJykgJiYgIXRoaXMuJHNlYXJjaEJhckVsWzBdLmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpXG4gICAgICAgICAgICB8fCAkKGV2ZW50LnRhcmdldCkuaGFzQ2xhc3MoJ25hdi1zZWFyY2gtYmFja2Ryb3AnKSkge1xuICAgICAgICAgICAgdGhpcy4kc2VhcmNoQmFyRWwucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgJCgnLnYyLW5hdmJhcicpLnJlbW92ZUNsYXNzKCdzZWFyY2gtb3BlbicpO1xuICAgICAgICAgICAgdGhpcy4kc2VhcmNoQmFyRWwuZmluZCgnLm5hdi1zZWFyY2gtYm94JykuYXR0cigncGxhY2Vob2xkZXInLCAnJyk7XG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMudGhpc0NvbnRleHQodGhpcy5jaGVja1F1aWNrU2VhcmNoRm9jdXNPdXQpKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBvblNlYXJjaEljb25DbGlja2VkOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuJHNlYXJjaEJhckVsLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xuICAgICAgICAgICAgdGhpcy5maXJlU2VhcmNoKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLiRzZWFyY2hCYXJFbC5maW5kKCcubmF2LXNlYXJjaC1ib3gnKS5hdHRyKCdwbGFjZWhvbGRlcicsIHRoaXMub3B0aW9ucy5wbGFjZWhvbGRlcik7XG4gICAgICAgICAgICB0aGlzLiRzZWFyY2hCYXJFbC5maW5kKCcubmF2LXNlYXJjaC1ib3gnKS5mb2N1cygpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKiBRdWlja3NlYXJjaCByZXN1bHRzIGRhdGEgZmV0Y2ggbG9naWMgKi9cblxuICAgIC8qKiBMb2FkcyBhIG5ldyBzZXQgb2YgcXVpY2tzZWFyY2ggcmVzdWx0cyBmb3IgdGhlIGdpdmVuIHF1ZXJ5LlxuICAgICAqICBDYWxsaW5nIHRoaXMgd2lsbCBjYW5jZWwgdGhlIGN1cnJlbnRseSBydW5uaW5nIHJlcXVlc3QsIGlmIGV4aXN0aW5nLiAqL1xuICAgIGxvYWRRdWlja1Jlc3VsdHM6IGZ1bmN0aW9uIChzZWxmLCBxdWVyeSkge1xuICAgICAgICBpZiAoc2VsZi5zdGF0ZS5sb2FkaW5nKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5zdGF0ZS5jdXJyZW50UmVxdWVzdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHNlbGYuc3RhdGUuY3VycmVudFJlcXVlc3QuYWJvcnQoKTtcbiAgICAgICAgICAgICAgICBzZWxmLnN0YXRlLmN1cnJlbnRSZXF1ZXN0ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlbGYuc3RhdGUubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsZi5zdGF0ZS5sb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgLy9zZWxmLnNob3dMb2FkaW5nUGxhY2Vob2xkZXIoKTtcbiAgICAgICAgLy9zZWxmLmhpZGVFcnJvck1lc3NhZ2UoKTtcbiAgICAgICAgLy8gdXNpbmcgdGhpcyBpbnN0ZWFkIG9mIC5maW5hbGx5KCkgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IGluIGJyb3dzZXJzXG5cbiAgICAgICAgdmFyIGZpbmFsbHlfY29tcGF0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2VsZi5zdGF0ZS5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAvL3NlbGYuaGlkZUxvYWRpbmdQbGFjZWhvbGRlcigpO1xuICAgICAgICB9O1xuICAgICAgICBzZWxmLmxvYWREYXRhKHF1ZXJ5KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICB1dGlsLmxvZygnIyBxdWlja3NlYXJjaCByZWNlaXZlZCBkYXRhIGFuZCBpcyBub3cgaGFuZGxpbmcgaXQnKTtcbiAgICAgICAgICAgIHNlbGYuaGFuZGxlRGF0YShkYXRhKTtcbiAgICAgICAgICAgIGZpbmFsbHlfY29tcGF0KCk7XG4gICAgICAgIH0pLyoqLmNhdGNoKGZ1bmN0aW9uKG1lc3NhZ2Upe1xuXHRcdFx0c2VsZi5oYW5kbGVFcnJvcihtZXNzYWdlKTtcblx0XHRcdGZpbmFsbHlfY29tcGF0KCk7XG5cdFx0fSkqLztcbiAgICB9LFxuXG5cbiAgICAvKiogTG9hZHMgYSBzZXQgb2YgZGF0YSBmcm9tIHRoZSBzZXJ2ZXIuIFJldHVybnMgYSBwcm9taXNlXG4gICAgICogIHdob3NlIHJlc29sdmUgZnVuY3Rpb24gZ2V0cyBwYXNzZWQgdGhlIGRhdGEgKi9cbiAgICBsb2FkRGF0YTogZnVuY3Rpb24gKHF1ZXJ5KSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIC8vIGJ1aWxkIFVSTFxuICAgICAgICAgICAgdmFyIHVybCA9IHNlbGYuZmV0Y2hVUkwgKyAnPycgKyAkLnBhcmFtKHsgJ3EnOiBxdWVyeSB9KTtcbiAgICAgICAgICAgIHNlbGYuc3RhdGUuY3VycmVudFJlcXVlc3QgPSAkLmFqYXgodXJsLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlLCB0ZXh0U3RhdHVzLCB4aHIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlWydkYXRhJ10pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHhoci5zdGF0dXNUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIHRleHRTdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHRleHRTdGF0dXMpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zdGF0ZS5jdXJyZW50UmVxdWVzdCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBoYW5kbGVEYXRhOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHV0aWwubG9nKCcjICMgRmV0Y2hlZCBkYXRhIGZvciBxdWlja3NlYXJjaCcpO1xuXG4gICAgICAgIC8vIGRpc3BsYXkgaXRlbXMgaWYgYW55XG4gICAgICAgIGlmIChkYXRhWydjb3VudCddID4gMCkge1xuICAgICAgICAgICAgc2VsZi5zdGF0ZS5xdWlja3NlYXJjaFJlc3VsdHMgPSBkYXRhWydpdGVtcyddO1xuICAgICAgICAgICAgJC5lYWNoKHNlbGYuc3RhdGUucXVpY2tzZWFyY2hSZXN1bHRzLCBmdW5jdGlvbiAoaXRlbUlkeCwgaXRlbSkge1xuICAgICAgICAgICAgICAgIC8vIHdlIGV4cGVjdCBlc2NhcGVkIHRleHQgaGVyZSEgXG4gICAgICAgICAgICAgICAgLy8gb3RoZXJ3aXNlLCB3ZSBjb3VsZCBtYWtlIGl0IHNhZmUgdXNpbmc6IHZhciB0ZXh0ID0gJCgnPGRpdj4nKS50ZXh0KGl0ZW1bJ3RleHQnXSkuaHRtbCgpO1xuICAgICAgICAgICAgICAgIHZhciB0ZXh0ID0gaXRlbVsndGV4dCddO1xuICAgICAgICAgICAgICAgICQuZWFjaChzZWxmLnN0YXRlLnF1ZXJ5LnNwbGl0KCcgJyksIGZ1bmN0aW9uIChxdWVyeVRlcm1JZHgsIHF1ZXJ5VGVybSkge1xuXG4gICAgICAgICAgICAgICAgICAgIHRleHQgPSB1dGlsLmlSZXBsYWNlKHRleHQsIHF1ZXJ5VGVybSwgJzxiPiQxPC9iPicpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGl0ZW1bJ3RleHQnXSA9IHRleHQ7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiAoaXRlbS5zdWJ0ZXh0KSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3VidGV4dCA9IGl0ZW0uc3VidGV4dDtcbiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKHNlbGYuc3RhdGUucXVlcnkuc3BsaXQoJyAnKSwgZnVuY3Rpb24gKHF1ZXJ5VGVybUlkeCwgcXVlcnlUZXJtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJ0ZXh0ID0gdXRpbC5pUmVwbGFjZShzdWJ0ZXh0LCBxdWVyeVRlcm0sICc8Yj4kMTwvYj4nKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uc3VidGV4dCA9IHN1YnRleHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzZWxmLnJlbmRlcigpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIGhhbmRsZUVycm9yOiBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHV0aWwubG9nKCcjIEVycm9yIGR1cmluZyBxdWlja3NlYXJjaCByZXF1ZXN0IScpO1xuICAgICAgICAvL3NlbGYuc2hvd0Vycm9yTWVzc2FnZSgpO1xuICAgIH0sXG5cbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy9jbGllbnQvdmlld3MvbmF2YmFyL3F1aWNrc2VhcmNoLXZpZXcuanNcbi8vIG1vZHVsZSBpZCA9IDQ5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBudW5qdWNrcyA9IHJlcXVpcmUoXCJudW5qdWNrcy9icm93c2VyL251bmp1Y2tzLXNsaW1cIik7XG52YXIgZW52O1xuaWYgKCFudW5qdWNrcy5jdXJyZW50RW52KXtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudiA9IG5ldyBudW5qdWNrcy5FbnZpcm9ubWVudChbXSwgdW5kZWZpbmVkKTtcbn0gZWxzZSB7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnY7XG59XG52YXIgY29uZmlndXJlID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uLy4uL251bmp1Y2tzLmNvbmZpZy5qc1wiKShlbnYpO1xudmFyIGRlcGVuZGVuY2llcyA9IG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgfHwgKG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgPSB7fSk7XG5kZXBlbmRlbmNpZXNbXCJpbmNsdWRlL21hY3Jvcy5odG1sXCJdID0gcmVxdWlyZSggXCJpbmNsdWRlL21hY3Jvcy5odG1sXCIgKTtcblxuXG5cblxudmFyIHNoaW0gPSByZXF1aXJlKFwiL2hvbWUvc2FzY2hhL3ByL2Nvc2lubnVzLWNvcmUvbm9kZV9tb2R1bGVzL251bmp1Y2tzLWxvYWRlci9ydW50aW1lLXNoaW1cIik7XG5cblxuKGZ1bmN0aW9uKCkgeyhudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkID0gbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZCB8fCB7fSlbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL25hdmJhci9xdWlja3NlYXJjaC5odG1sXCJdID0gKGZ1bmN0aW9uKCkge1xuZnVuY3Rpb24gcm9vdChlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xudmFyIHBhcmVudFRlbXBsYXRlID0gbnVsbDtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInBhc3NUaHJvdWdoXCIpW1wicnVuXCJdKGNvbnRleHQscnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJpMThuXCIpKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblwiO1xuZW52LmdldFRlbXBsYXRlKFwiaW5jbHVkZS9tYWNyb3MuaHRtbFwiLCBmYWxzZSwgXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL25hdmJhci9xdWlja3NlYXJjaC5odG1sXCIsIGZhbHNlLCBmdW5jdGlvbih0XzIsdF8xKSB7XG5pZih0XzIpIHsgY2IodF8yKTsgcmV0dXJuOyB9XG50XzEuZ2V0RXhwb3J0ZWQoZnVuY3Rpb24odF8zLHRfMSkge1xuaWYodF8zKSB7IGNiKHRfMyk7IHJldHVybjsgfVxuY29udGV4dC5zZXRWYXJpYWJsZShcIm1hY3Jvc1wiLCB0XzEpO1xub3V0cHV0ICs9IFwiXFxuXFxuPHVsIGNsYXNzPVxcXCJpdGVtLWxpc3RcXFwiPlxcblxcblxcdDxsaT5cXG5cXHQgICAgPGRpdiBjbGFzcz1cXFwibmF2LXF1aWNrc2VhcmNoLWJ1dHRvbnNcXFwiPlxcblxcdFxcdFxcdDxkaXYgY2xhc3M9XFxcImJ0bi1uby1pbnRlcmFjdCBuYXYtcXVpY2tzZWFyY2gtYnV0dG9uLWxhYmVsXFxcIj5cXG5cXHRcXHRcXHRcXHRcIjtcbnZhciB0XzQ7XG50XzQgPSAoZnVuY3Rpb24oKSB7XG52YXIgb3V0cHV0ID0gXCJcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiRmluZCBvbiBtYXA6XCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XCI7XG47XG5yZXR1cm4gb3V0cHV0O1xufSkoKVxuO1xuZnJhbWUuc2V0KFwiZmlsdGVyX2Fubm90YXRpb25zX3ByZWZpeFwiLCB0XzQsIHRydWUpO1xuaWYoZnJhbWUudG9wTGV2ZWwpIHtcbmNvbnRleHQuc2V0VmFyaWFibGUoXCJmaWx0ZXJfYW5ub3RhdGlvbnNfcHJlZml4XCIsIHRfNCk7XG59XG5pZihmcmFtZS50b3BMZXZlbCkge1xuY29udGV4dC5hZGRFeHBvcnQoXCJmaWx0ZXJfYW5ub3RhdGlvbnNfcHJlZml4XCIsIHRfNCk7XG59XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHQgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZmlsdGVyX2Fubm90YXRpb25zX3ByZWZpeFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHQgICAgPC9kaXY+XFxuXFx0XFx0ICAgIDxkaXY+XFxuXFx0XFx0XFx0XFx0PGEgY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uIGJ1dHRvbi1jb2xvci1wZW9wbGUgcmVzdWx0LWZpbHRlci1idXR0b24gcXVpY2tzZWFyY2gtZmlsdGVyYnV0dG9uXFxcIiBkYXRhLXJlc3VsdC1maWx0ZXItdHlwZT1cXFwicGVvcGxlXFxcIj5cXG5cXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoKGxpbmVubyA9IDE2LCBjb2xubyA9IDIyLCBydW50aW1lLmNhbGxXcmFwKHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzEpLFwidHlwZUxhYmVsXCIpLCBcIm1hY3Jvc1tcXFwidHlwZUxhYmVsXFxcIl1cIiwgY29udGV4dCwgW1wicGVvcGxlXCIsXCJyb3VuZGVkLWJ1dHRvbi1pbm5lclwiLHJ1bnRpbWUubWFrZUtleXdvcmRBcmdzKHtcInVzZVN0eWxlc1wiOiBmYWxzZSxcIkNPU0lOTlVTX1RSQU5TXCI6IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiQ09TSU5OVVNfVFJBTlNcIil9KV0pKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHQ8L2E+XFxuXFx0XFx0XFx0XFx0PGEgY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uIGJ1dHRvbi1jb2xvci1wcm9qZWN0cyByZXN1bHQtZmlsdGVyLWJ1dHRvbiBxdWlja3NlYXJjaC1maWx0ZXJidXR0b25cXFwiIGRhdGEtcmVzdWx0LWZpbHRlci10eXBlPVxcXCJwcm9qZWN0c1xcXCI+XFxuXFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKChsaW5lbm8gPSAxOSwgY29sbm8gPSAyMiwgcnVudGltZS5jYWxsV3JhcChydW50aW1lLm1lbWJlckxvb2t1cCgodF8xKSxcInR5cGVMYWJlbFwiKSwgXCJtYWNyb3NbXFxcInR5cGVMYWJlbFxcXCJdXCIsIGNvbnRleHQsIFtcInByb2plY3RzXCIsXCJyb3VuZGVkLWJ1dHRvbi1pbm5lclwiLHJ1bnRpbWUubWFrZUtleXdvcmRBcmdzKHtcInVzZVN0eWxlc1wiOiBmYWxzZSxcIkNPU0lOTlVTX1RSQU5TXCI6IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiQ09TSU5OVVNfVFJBTlNcIil9KV0pKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHQ8L2E+XFxuXFx0XFx0XFx0XFx0PGEgY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uIGJ1dHRvbi1jb2xvci1ncm91cHMgcmVzdWx0LWZpbHRlci1idXR0b24gcXVpY2tzZWFyY2gtZmlsdGVyYnV0dG9uXFxcIiBkYXRhLXJlc3VsdC1maWx0ZXItdHlwZT1cXFwiZ3JvdXBzXFxcIj5cXG5cXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoKGxpbmVubyA9IDIyLCBjb2xubyA9IDIyLCBydW50aW1lLmNhbGxXcmFwKHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzEpLFwidHlwZUxhYmVsXCIpLCBcIm1hY3Jvc1tcXFwidHlwZUxhYmVsXFxcIl1cIiwgY29udGV4dCwgW1wiZ3JvdXBzXCIsXCJyb3VuZGVkLWJ1dHRvbi1pbm5lclwiLHJ1bnRpbWUubWFrZUtleXdvcmRBcmdzKHtcInVzZVN0eWxlc1wiOiBmYWxzZSxcIkNPU0lOTlVTX1RSQU5TXCI6IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiQ09TSU5OVVNfVFJBTlNcIil9KV0pKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHQ8L2E+XFxuXFx0XFx0XFx0XFx0PGEgY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uIGJ1dHRvbi1jb2xvci1ldmVudHMgcmVzdWx0LWZpbHRlci1idXR0b24gcXVpY2tzZWFyY2gtZmlsdGVyYnV0dG9uXFxcIiBkYXRhLXJlc3VsdC1maWx0ZXItdHlwZT1cXFwiZXZlbnRzXFxcIj5cXG5cXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoKGxpbmVubyA9IDI1LCBjb2xubyA9IDIyLCBydW50aW1lLmNhbGxXcmFwKHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzEpLFwidHlwZUxhYmVsXCIpLCBcIm1hY3Jvc1tcXFwidHlwZUxhYmVsXFxcIl1cIiwgY29udGV4dCwgW1wiZXZlbnRzXCIsXCJyb3VuZGVkLWJ1dHRvbi1pbm5lclwiLHJ1bnRpbWUubWFrZUtleXdvcmRBcmdzKHtcInVzZVN0eWxlc1wiOiBmYWxzZSxcIkNPU0lOTlVTX1RSQU5TXCI6IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiQ09TSU5OVVNfVFJBTlNcIil9KV0pKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHQ8L2E+XFxuXFx0XFx0XFx0XFx0XCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIkNPU0lOTlVTX0NPTkZFUkVOQ0VTX0VOQUJMRURcIikpIHtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdDxhIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbiBidXR0b24tY29sb3ItY29uZmVyZW5jZXMgcmVzdWx0LWZpbHRlci1idXR0b24gcXVpY2tzZWFyY2gtZmlsdGVyYnV0dG9uXFxcIiBkYXRhLXJlc3VsdC1maWx0ZXItdHlwZT1cXFwiY29uZmVyZW5jZXNcXFwiPlxcblxcdFxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSgobGluZW5vID0gMjksIGNvbG5vID0gMjMsIHJ1bnRpbWUuY2FsbFdyYXAocnVudGltZS5tZW1iZXJMb29rdXAoKHRfMSksXCJ0eXBlTGFiZWxcIiksIFwibWFjcm9zW1xcXCJ0eXBlTGFiZWxcXFwiXVwiLCBjb250ZXh0LCBbXCJjb25mZXJlbmNlc1wiLFwicm91bmRlZC1idXR0b24taW5uZXJcIixydW50aW1lLm1ha2VLZXl3b3JkQXJncyh7XCJ1c2VTdHlsZXNcIjogZmFsc2UsXCJDT1NJTk5VU19UUkFOU1wiOiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIkNPU0lOTlVTX1RSQU5TXCIpfSldKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0PC9hPlxcblxcdFxcdFxcdFxcdFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIkNPU0lOTlVTX0lERUFTX0VOQUJMRURcIikpIHtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdDxhIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbiBidXR0b24tY29sb3ItaWRlYXMgcmVzdWx0LWZpbHRlci1idXR0b24gcXVpY2tzZWFyY2gtZmlsdGVyYnV0dG9uXFxcIiBkYXRhLXJlc3VsdC1maWx0ZXItdHlwZT1cXFwiaWRlYXNcXFwiPlxcblxcdFxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSgobGluZW5vID0gMzQsIGNvbG5vID0gMjMsIHJ1bnRpbWUuY2FsbFdyYXAocnVudGltZS5tZW1iZXJMb29rdXAoKHRfMSksXCJ0eXBlTGFiZWxcIiksIFwibWFjcm9zW1xcXCJ0eXBlTGFiZWxcXFwiXVwiLCBjb250ZXh0LCBbXCJpZGVhc1wiLFwicm91bmRlZC1idXR0b24taW5uZXJcIixydW50aW1lLm1ha2VLZXl3b3JkQXJncyh7XCJ1c2VTdHlsZXNcIjogZmFsc2UsXCJDT1NJTk5VU19UUkFOU1wiOiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIkNPU0lOTlVTX1RSQU5TXCIpfSldKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0PC9hPlxcblxcdFxcdFxcdFxcdFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJDT1NJTk5VU19PUkdBTklaQVRJT05TX0VOQUJMRURcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uIGJ1dHRvbi1jb2xvci1vcmdhbml6YXRpb25zIHJlc3VsdC1maWx0ZXItYnV0dG9uIHF1aWNrc2VhcmNoLWZpbHRlcmJ1dHRvblxcXCIgZGF0YS1yZXN1bHQtZmlsdGVyLXR5cGU9XFxcIm9yZ2FuaXphdGlvbnNcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSgobGluZW5vID0gMzksIGNvbG5vID0gNDEsIHJ1bnRpbWUuY2FsbFdyYXAocnVudGltZS5tZW1iZXJMb29rdXAoKHRfMSksXCJ0eXBlTGFiZWxcIiksIFwibWFjcm9zW1xcXCJ0eXBlTGFiZWxcXFwiXVwiLCBjb250ZXh0LCBbXCJvcmdhbml6YXRpb25zXCIsXCJyb3VuZGVkLWJ1dHRvbi1pbm5lclwiLHJ1bnRpbWUubWFrZUtleXdvcmRBcmdzKHtcInVzZVN0eWxlc1wiOiBmYWxzZSxcIkNPU0lOTlVTX1RSQU5TXCI6IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiQ09TSU5OVVNfVFJBTlNcIil9KV0pKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIDwvYT5cXG4gICAgICAgICAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHQ8L2Rpdj5cXG5cXHRcXHQ8L2Rpdj5cXG5cXHQ8L2xpPlxcblxcblxcdFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJxdWVyeVwiKSAmJiBlbnYuZ2V0RmlsdGVyKFwibGVuZ3RoXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJxdWVyeVwiKSkgPiAyKSB7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcIjtcbnZhciB0XzU7XG50XzUgPSAoZnVuY3Rpb24oKSB7XG52YXIgb3V0cHV0ID0gXCJcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiRW50aXJlIE5ldHdvcmtcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcIjtcbjtcbnJldHVybiBvdXRwdXQ7XG59KSgpXG47XG5mcmFtZS5zZXQoXCJkZWZhdWx0X2Fubm90YXRpb25cIiwgdF81LCB0cnVlKTtcbmlmKGZyYW1lLnRvcExldmVsKSB7XG5jb250ZXh0LnNldFZhcmlhYmxlKFwiZGVmYXVsdF9hbm5vdGF0aW9uXCIsIHRfNSk7XG59XG5pZihmcmFtZS50b3BMZXZlbCkge1xuY29udGV4dC5hZGRFeHBvcnQoXCJkZWZhdWx0X2Fubm90YXRpb25cIiwgdF81KTtcbn1cbm91dHB1dCArPSBcIlxcblxcdFxcdFwiO1xudmFyIHRfNjtcbnRfNiA9IChmdW5jdGlvbigpIHtcbnZhciBvdXRwdXQgPSBcIlwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJPbiB0aGUgTWFwXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XCI7XG47XG5yZXR1cm4gb3V0cHV0O1xufSkoKVxuO1xuZnJhbWUuc2V0KFwibWFwX2Fubm90YXRpb25cIiwgdF82LCB0cnVlKTtcbmlmKGZyYW1lLnRvcExldmVsKSB7XG5jb250ZXh0LnNldFZhcmlhYmxlKFwibWFwX2Fubm90YXRpb25cIiwgdF82KTtcbn1cbmlmKGZyYW1lLnRvcExldmVsKSB7XG5jb250ZXh0LmFkZEV4cG9ydChcIm1hcF9hbm5vdGF0aW9uXCIsIHRfNik7XG59XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcIjtcbnZhciB0Xzc7XG50XzcgPSAoZnVuY3Rpb24oKSB7XG52YXIgb3V0cHV0ID0gXCJcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiSW4gbXkgR3JvdXBzIGFuZCBQcm9qZWN0c1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFwiO1xuO1xucmV0dXJuIG91dHB1dDtcbn0pKClcbjtcbmZyYW1lLnNldChcImdyb3Vwc19hbm5vdGF0aW9uXCIsIHRfNywgdHJ1ZSk7XG5pZihmcmFtZS50b3BMZXZlbCkge1xuY29udGV4dC5zZXRWYXJpYWJsZShcImdyb3Vwc19hbm5vdGF0aW9uXCIsIHRfNyk7XG59XG5pZihmcmFtZS50b3BMZXZlbCkge1xuY29udGV4dC5hZGRFeHBvcnQoXCJncm91cHNfYW5ub3RhdGlvblwiLCB0XzcpO1xufVxub3V0cHV0ICs9IFwiXFxuXFx0XFx0XCI7XG52YXIgdF84O1xudF84ID0gKGZ1bmN0aW9uKCkge1xudmFyIG91dHB1dCA9IFwiXCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkluIG15IENsb3VkIEZpbGVzXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XCI7XG47XG5yZXR1cm4gb3V0cHV0O1xufSkoKVxuO1xuZnJhbWUuc2V0KFwiY2xvdWRmaWxlc19hbm5vdGF0aW9uXCIsIHRfOCwgdHJ1ZSk7XG5pZihmcmFtZS50b3BMZXZlbCkge1xuY29udGV4dC5zZXRWYXJpYWJsZShcImNsb3VkZmlsZXNfYW5ub3RhdGlvblwiLCB0XzgpO1xufVxuaWYoZnJhbWUudG9wTGV2ZWwpIHtcbmNvbnRleHQuYWRkRXhwb3J0KFwiY2xvdWRmaWxlc19hbm5vdGF0aW9uXCIsIHRfOCk7XG59XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXG5cXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoKGxpbmVubyA9IDY0LCBjb2xubyA9IDE4LCBydW50aW1lLmNhbGxXcmFwKHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzEpLFwibGlzdEl0ZW1cIiksIFwibWFjcm9zW1xcXCJsaXN0SXRlbVxcXCJdXCIsIGNvbnRleHQsIFtydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInF1ZXJ5XCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNlYXJjaE1ldGhvZHNcIikpLFwiZGVmYXVsdFwiKSxcImZhLXNlYXJjaFwiLHJ1bnRpbWUubWFrZUtleXdvcmRBcmdzKHtcImFubm90YXRpb25cIjogcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJkZWZhdWx0X2Fubm90YXRpb25cIiksXCJpbmNsdWRlVW5kZXJkcm9wXCI6IHRydWV9KV0pKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoKGxpbmVubyA9IDY1LCBjb2xubyA9IDE4LCBydW50aW1lLmNhbGxXcmFwKHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzEpLFwibGlzdEl0ZW1cIiksIFwibWFjcm9zW1xcXCJsaXN0SXRlbVxcXCJdXCIsIGNvbnRleHQsIFtydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInF1ZXJ5XCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNlYXJjaE1ldGhvZHNcIikpLFwibWFwXCIpLFwiZmEtc2VhcmNoXCIscnVudGltZS5tYWtlS2V5d29yZEFyZ3Moe1wiYW5ub3RhdGlvblwiOiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm1hcF9hbm5vdGF0aW9uXCIpLFwiaW5jbHVkZVVuZGVyZHJvcFwiOiB0cnVlfSldKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKChsaW5lbm8gPSA2NiwgY29sbm8gPSAxOCwgcnVudGltZS5jYWxsV3JhcChydW50aW1lLm1lbWJlckxvb2t1cCgodF8xKSxcImxpc3RJdGVtXCIpLCBcIm1hY3Jvc1tcXFwibGlzdEl0ZW1cXFwiXVwiLCBjb250ZXh0LCBbcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJxdWVyeVwiKSxydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzZWFyY2hNZXRob2RzXCIpKSxcImdyb3Vwc1wiKSxcImZhLXNlYXJjaFwiLHJ1bnRpbWUubWFrZUtleXdvcmRBcmdzKHtcImFubm90YXRpb25cIjogcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJncm91cHNfYW5ub3RhdGlvblwiKSxcImluY2x1ZGVVbmRlcmRyb3BcIjogdHJ1ZX0pXSkpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcblxcdFxcdFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjbG91ZEVuYWJsZWRcIikpIHtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSgobGluZW5vID0gNjksIGNvbG5vID0gMTksIHJ1bnRpbWUuY2FsbFdyYXAocnVudGltZS5tZW1iZXJMb29rdXAoKHRfMSksXCJsaXN0SXRlbVwiKSwgXCJtYWNyb3NbXFxcImxpc3RJdGVtXFxcIl1cIiwgY29udGV4dCwgW3J1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicXVlcnlcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2VhcmNoTWV0aG9kc1wiKSksXCJjbG91ZGZpbGVzXCIpLFwiZmEtc2VhcmNoXCIscnVudGltZS5tYWtlS2V5d29yZEFyZ3Moe1wiYW5ub3RhdGlvblwiOiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNsb3VkZmlsZXNfYW5ub3RhdGlvblwiKSxcImluY2x1ZGVVbmRlcmRyb3BcIjogdHJ1ZX0pXSkpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFxuXFx0XFx0XCI7XG5mcmFtZSA9IGZyYW1lLnB1c2goKTtcbnZhciB0XzExID0gcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0b3BpY3NTZWFyY2hNZXRob2RzXCIpO1xuaWYodF8xMSkge3ZhciB0Xzk7XG5pZihydW50aW1lLmlzQXJyYXkodF8xMSkpIHtcbnZhciB0XzEwID0gdF8xMS5sZW5ndGg7XG5mb3IodF85PTA7IHRfOSA8IHRfMTEubGVuZ3RoOyB0XzkrKykge1xudmFyIHRfMTIgPSB0XzExW3RfOV1bMF1cbmZyYW1lLnNldChcInRvcGljX3RpdGxlXCIsIHRfMTFbdF85XVswXSk7XG52YXIgdF8xMyA9IHRfMTFbdF85XVsxXVxuZnJhbWUuc2V0KFwidG9waWNfdXJsXCIsIHRfMTFbdF85XVsxXSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfOSArIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleDBcIiwgdF85KTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXhcIiwgdF8xMCAtIHRfOSk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4MFwiLCB0XzEwIC0gdF85IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmZpcnN0XCIsIHRfOSA9PT0gMCk7XG5mcmFtZS5zZXQoXCJsb29wLmxhc3RcIiwgdF85ID09PSB0XzEwIC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzEwKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFwiO1xudmFyIHRfMTQ7XG50XzE0ID0gKGZ1bmN0aW9uKCkge1xudmFyIG91dHB1dCA9IFwiXCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIlRvcGljXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiOiBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEZpbHRlcihcInNhZmVcIikuY2FsbChjb250ZXh0LCB0XzEyKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcIjtcbjtcbnJldHVybiBvdXRwdXQ7XG59KSgpXG47XG5mcmFtZS5zZXQoXCJ0b3BpY19sYWJlbFwiLCB0XzE0LCB0cnVlKTtcbmlmKGZyYW1lLnRvcExldmVsKSB7XG5jb250ZXh0LnNldFZhcmlhYmxlKFwidG9waWNfbGFiZWxcIiwgdF8xNCk7XG59XG5pZihmcmFtZS50b3BMZXZlbCkge1xuY29udGV4dC5hZGRFeHBvcnQoXCJ0b3BpY19sYWJlbFwiLCB0XzE0KTtcbn1cbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSgobGluZW5vID0gNzcsIGNvbG5vID0gMTksIHJ1bnRpbWUuY2FsbFdyYXAocnVudGltZS5tZW1iZXJMb29rdXAoKHRfMSksXCJsaXN0SXRlbVwiKSwgXCJtYWNyb3NbXFxcImxpc3RJdGVtXFxcIl1cIiwgY29udGV4dCwgW2Vudi5nZXRGaWx0ZXIoXCJzYWZlXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0b3BpY19sYWJlbFwiKSksdF8xMyxcImZhLWZpbHRlclwiLHJ1bnRpbWUubWFrZUtleXdvcmRBcmdzKHtcImluY2x1ZGVVbmRlcmRyb3BcIjogdHJ1ZX0pXSkpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFwiO1xuO1xufVxufSBlbHNlIHtcbnRfOSA9IC0xO1xudmFyIHRfMTAgPSBydW50aW1lLmtleXModF8xMSkubGVuZ3RoO1xuZm9yKHZhciB0XzE1IGluIHRfMTEpIHtcbnRfOSsrO1xudmFyIHRfMTYgPSB0XzExW3RfMTVdO1xuZnJhbWUuc2V0KFwidG9waWNfdGl0bGVcIiwgdF8xNSk7XG5mcmFtZS5zZXQoXCJ0b3BpY191cmxcIiwgdF8xNik7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfOSArIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleDBcIiwgdF85KTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXhcIiwgdF8xMCAtIHRfOSk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4MFwiLCB0XzEwIC0gdF85IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmZpcnN0XCIsIHRfOSA9PT0gMCk7XG5mcmFtZS5zZXQoXCJsb29wLmxhc3RcIiwgdF85ID09PSB0XzEwIC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzEwKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFwiO1xudmFyIHRfMTc7XG50XzE3ID0gKGZ1bmN0aW9uKCkge1xudmFyIG91dHB1dCA9IFwiXCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIlRvcGljXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiOiBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEZpbHRlcihcInNhZmVcIikuY2FsbChjb250ZXh0LCB0XzE1KSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcIjtcbjtcbnJldHVybiBvdXRwdXQ7XG59KSgpXG47XG5mcmFtZS5zZXQoXCJ0b3BpY19sYWJlbFwiLCB0XzE3LCB0cnVlKTtcbmlmKGZyYW1lLnRvcExldmVsKSB7XG5jb250ZXh0LnNldFZhcmlhYmxlKFwidG9waWNfbGFiZWxcIiwgdF8xNyk7XG59XG5pZihmcmFtZS50b3BMZXZlbCkge1xuY29udGV4dC5hZGRFeHBvcnQoXCJ0b3BpY19sYWJlbFwiLCB0XzE3KTtcbn1cbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSgobGluZW5vID0gNzcsIGNvbG5vID0gMTksIHJ1bnRpbWUuY2FsbFdyYXAocnVudGltZS5tZW1iZXJMb29rdXAoKHRfMSksXCJsaXN0SXRlbVwiKSwgXCJtYWNyb3NbXFxcImxpc3RJdGVtXFxcIl1cIiwgY29udGV4dCwgW2Vudi5nZXRGaWx0ZXIoXCJzYWZlXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0b3BpY19sYWJlbFwiKSksdF8xNixcImZhLWZpbHRlclwiLHJ1bnRpbWUubWFrZUtleXdvcmRBcmdzKHtcImluY2x1ZGVVbmRlcmRyb3BcIjogdHJ1ZX0pXSkpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFwiO1xuO1xufVxufVxufVxuZnJhbWUgPSBmcmFtZS5wb3AoKTtcbm91dHB1dCArPSBcIiBcXG5cXG5cXHRcXHRcIjtcbmZyYW1lID0gZnJhbWUucHVzaCgpO1xudmFyIHRfMjAgPSBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNkZ1NlYXJjaE1ldGhvZHNcIik7XG5pZih0XzIwKSB7dmFyIHRfMTg7XG5pZihydW50aW1lLmlzQXJyYXkodF8yMCkpIHtcbnZhciB0XzE5ID0gdF8yMC5sZW5ndGg7XG5mb3IodF8xOD0wOyB0XzE4IDwgdF8yMC5sZW5ndGg7IHRfMTgrKykge1xudmFyIHRfMjEgPSB0XzIwW3RfMThdWzBdXG5mcmFtZS5zZXQoXCJzZGdfdGl0bGVcIiwgdF8yMFt0XzE4XVswXSk7XG52YXIgdF8yMiA9IHRfMjBbdF8xOF1bMV1cbmZyYW1lLnNldChcInNkZ191cmxcIiwgdF8yMFt0XzE4XVsxXSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfMTggKyAxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXgwXCIsIHRfMTgpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleFwiLCB0XzE5IC0gdF8xOCk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4MFwiLCB0XzE5IC0gdF8xOCAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzE4ID09PSAwKTtcbmZyYW1lLnNldChcImxvb3AubGFzdFwiLCB0XzE4ID09PSB0XzE5IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzE5KTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFwiO1xudmFyIHRfMjM7XG50XzIzID0gKGZ1bmN0aW9uKCkge1xudmFyIG91dHB1dCA9IFwiXCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIlNER1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIjogXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRGaWx0ZXIoXCJzYWZlXCIpLmNhbGwoY29udGV4dCwgdF8yMSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XCI7XG47XG5yZXR1cm4gb3V0cHV0O1xufSkoKVxuO1xuZnJhbWUuc2V0KFwic2RnX2xhYmVsXCIsIHRfMjMsIHRydWUpO1xuaWYoZnJhbWUudG9wTGV2ZWwpIHtcbmNvbnRleHQuc2V0VmFyaWFibGUoXCJzZGdfbGFiZWxcIiwgdF8yMyk7XG59XG5pZihmcmFtZS50b3BMZXZlbCkge1xuY29udGV4dC5hZGRFeHBvcnQoXCJzZGdfbGFiZWxcIiwgdF8yMyk7XG59XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoKGxpbmVubyA9IDg1LCBjb2xubyA9IDE5LCBydW50aW1lLmNhbGxXcmFwKHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzEpLFwibGlzdEl0ZW1cIiksIFwibWFjcm9zW1xcXCJsaXN0SXRlbVxcXCJdXCIsIGNvbnRleHQsIFtlbnYuZ2V0RmlsdGVyKFwic2FmZVwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2RnX2xhYmVsXCIpKSx0XzIyLFwiZmEtZmlsdGVyXCIscnVudGltZS5tYWtlS2V5d29yZEFyZ3Moe1wiaW5jbHVkZVVuZGVyZHJvcFwiOiB0cnVlfSldKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XCI7XG47XG59XG59IGVsc2Uge1xudF8xOCA9IC0xO1xudmFyIHRfMTkgPSBydW50aW1lLmtleXModF8yMCkubGVuZ3RoO1xuZm9yKHZhciB0XzI0IGluIHRfMjApIHtcbnRfMTgrKztcbnZhciB0XzI1ID0gdF8yMFt0XzI0XTtcbmZyYW1lLnNldChcInNkZ190aXRsZVwiLCB0XzI0KTtcbmZyYW1lLnNldChcInNkZ191cmxcIiwgdF8yNSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfMTggKyAxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXgwXCIsIHRfMTgpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleFwiLCB0XzE5IC0gdF8xOCk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4MFwiLCB0XzE5IC0gdF8xOCAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzE4ID09PSAwKTtcbmZyYW1lLnNldChcImxvb3AubGFzdFwiLCB0XzE4ID09PSB0XzE5IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzE5KTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFwiO1xudmFyIHRfMjY7XG50XzI2ID0gKGZ1bmN0aW9uKCkge1xudmFyIG91dHB1dCA9IFwiXCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIlNER1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIjogXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRGaWx0ZXIoXCJzYWZlXCIpLmNhbGwoY29udGV4dCwgdF8yNCksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XCI7XG47XG5yZXR1cm4gb3V0cHV0O1xufSkoKVxuO1xuZnJhbWUuc2V0KFwic2RnX2xhYmVsXCIsIHRfMjYsIHRydWUpO1xuaWYoZnJhbWUudG9wTGV2ZWwpIHtcbmNvbnRleHQuc2V0VmFyaWFibGUoXCJzZGdfbGFiZWxcIiwgdF8yNik7XG59XG5pZihmcmFtZS50b3BMZXZlbCkge1xuY29udGV4dC5hZGRFeHBvcnQoXCJzZGdfbGFiZWxcIiwgdF8yNik7XG59XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoKGxpbmVubyA9IDg1LCBjb2xubyA9IDE5LCBydW50aW1lLmNhbGxXcmFwKHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzEpLFwibGlzdEl0ZW1cIiksIFwibWFjcm9zW1xcXCJsaXN0SXRlbVxcXCJdXCIsIGNvbnRleHQsIFtlbnYuZ2V0RmlsdGVyKFwic2FmZVwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2RnX2xhYmVsXCIpKSx0XzI1LFwiZmEtZmlsdGVyXCIscnVudGltZS5tYWtlS2V5d29yZEFyZ3Moe1wiaW5jbHVkZVVuZGVyZHJvcFwiOiB0cnVlfSldKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XCI7XG47XG59XG59XG59XG5mcmFtZSA9IGZyYW1lLnBvcCgpO1xub3V0cHV0ICs9IFwiIFxcblxcdFxcdFxcblxcdFxcdFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XCI7XG5mcmFtZSA9IGZyYW1lLnB1c2goKTtcbnZhciB0XzI5ID0gcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJxdWlja3NlYXJjaFJlc3VsdHNcIik7XG5pZih0XzI5KSB7dmFyIHRfMjggPSB0XzI5Lmxlbmd0aDtcbmZvcih2YXIgdF8yNz0wOyB0XzI3IDwgdF8yOS5sZW5ndGg7IHRfMjcrKykge1xudmFyIHRfMzAgPSB0XzI5W3RfMjddO1xuZnJhbWUuc2V0KFwiaXRlbVwiLCB0XzMwKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXhcIiwgdF8yNyArIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleDBcIiwgdF8yNyk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4XCIsIHRfMjggLSB0XzI3KTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXgwXCIsIHRfMjggLSB0XzI3IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmZpcnN0XCIsIHRfMjcgPT09IDApO1xuZnJhbWUuc2V0KFwibG9vcC5sYXN0XCIsIHRfMjcgPT09IHRfMjggLSAxKTtcbmZyYW1lLnNldChcImxvb3AubGVuZ3RoXCIsIHRfMjgpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcIjtcbmlmKHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzMwKSxcImljb25cIikgPT0gXCJmYS1jbG91ZFwiKSB7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoKGxpbmVubyA9IDkyLCBjb2xubyA9IDIwLCBydW50aW1lLmNhbGxXcmFwKHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzEpLFwibGlzdEl0ZW1cIiksIFwibWFjcm9zW1xcXCJsaXN0SXRlbVxcXCJdXCIsIGNvbnRleHQsIFtydW50aW1lLm1lbWJlckxvb2t1cCgodF8zMCksXCJ0ZXh0XCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzMwKSxcInVybFwiKSxydW50aW1lLm1lbWJlckxvb2t1cCgodF8zMCksXCJpY29uXCIpLHJ1bnRpbWUubWFrZUtleXdvcmRBcmdzKHtcInN1YnRleHRcIjogcnVudGltZS5tZW1iZXJMb29rdXAoKHRfMzApLFwic3VidGV4dFwiKSxcImFubm90YXRpb25cIjogcnVudGltZS5tZW1iZXJMb29rdXAoKHRfMzApLFwiZ3JvdXBcIiksXCJhbm5vdGF0aW9uSWNvblwiOiBydW50aW1lLm1lbWJlckxvb2t1cCgodF8zMCksXCJncm91cF9pY29uXCIpLFwiaW5jbHVkZVVuZGVyZHJvcFwiOiB0cnVlfSldKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XCI7XG47XG59XG5lbHNlIHtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSgobGluZW5vID0gOTQsIGNvbG5vID0gMjAsIHJ1bnRpbWUuY2FsbFdyYXAocnVudGltZS5tZW1iZXJMb29rdXAoKHRfMSksXCJsaXN0SXRlbVwiKSwgXCJtYWNyb3NbXFxcImxpc3RJdGVtXFxcIl1cIiwgY29udGV4dCwgW3J1bnRpbWUubWVtYmVyTG9va3VwKCh0XzMwKSxcInRleHRcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMzApLFwidXJsXCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzMwKSxcImljb25cIikscnVudGltZS5tYWtlS2V5d29yZEFyZ3Moe1wiYW5ub3RhdGlvblwiOiBydW50aW1lLm1lbWJlckxvb2t1cCgodF8zMCksXCJncm91cFwiKSxcImFubm90YXRpb25JY29uXCI6IHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzMwKSxcImdyb3VwX2ljb25cIiksXCJpbmNsdWRlVW5kZXJkcm9wXCI6IHRydWV9KV0pKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblxcdFxcdFwiO1xuO1xufVxufVxuZnJhbWUgPSBmcmFtZS5wb3AoKTtcbm91dHB1dCArPSBcIlxcblxcdFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuPC91bD5cXG5cIjtcbmlmKHBhcmVudFRlbXBsYXRlKSB7XG5wYXJlbnRUZW1wbGF0ZS5yb290UmVuZGVyRnVuYyhlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYik7XG59IGVsc2Uge1xuY2IobnVsbCwgb3V0cHV0KTtcbn1cbn0pfSk7XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxucmV0dXJuIHtcbnJvb3Q6IHJvb3Rcbn07XG5cbn0pKCk7XG59KSgpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBzaGltKG51bmp1Y2tzLCBlbnYsIG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWRbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL25hdmJhci9xdWlja3NlYXJjaC5odG1sXCJdICwgZGVwZW5kZW5jaWVzKVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC9uYXZiYXIvcXVpY2tzZWFyY2guaHRtbFxuLy8gbW9kdWxlIGlkID0gNTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgQmFzZVZpZXcgPSByZXF1aXJlKCd2aWV3cy9iYXNlL3ZpZXcnKTtcbnZhciB1dGlsID0gcmVxdWlyZSgnbGliL3V0aWwnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBCYXNlVmlldy5leHRlbmQoe1xuICAgIFxuICAgIC8vIHJlZmVyZW5jZSBiYWNrIHRvIHRoZSBtYWluIEFwcFxuICAgIGFwcDogbnVsbCxcbiAgICBcbiAgICB0ZW1wbGF0ZTogcmVxdWlyZSgnbmF2YmFyL21haW4tbWVudScpLFxuICAgIFxuICAgIC8vIFRoZSBET00gZXZlbnRzIHNwZWNpZmljIHRvIGFuIGl0ZW0uXG4gICAgZXZlbnRzOiB7XG4gICAgfSxcbiAgICBcbiAgICBkZWZhdWx0czoge1xuXG4gICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgICBcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbiAob3B0aW9ucywgYXBwKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgc2VsZi5hcHAgPSBhcHA7XG4gICAgICAgIEJhc2VWaWV3LnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwoc2VsZiwgb3B0aW9ucyk7XG4gICAgICAgIC8vIGRlY29kZSB0aGUgYGNvbnRleHREYXRhSlNPTmAgdGhhdCBnb3QgcGFzc2VkIGJ5IHRoZSBhcHAuanMgaW5pdCBjYWxsIGFzIEhUTUwgZW5jb2RlZCBzdHJpbmdzIFxuICAgICAgICBmb3IgKHZhciBkYXRha2V5IGluIHNlbGYub3B0aW9ucy5jb250ZXh0RGF0YUpTT04pIHtcbiAgICAgICAgXHRzZWxmLm9wdGlvbnNbZGF0YWtleV0gPSBKU09OLnBhcnNlKCQoXCI8dGV4dGFyZWEvPlwiKS5odG1sKHNlbGYub3B0aW9ucy5jb250ZXh0RGF0YUpTT05bZGF0YWtleV0pLnRleHQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgZGF0YWtleSBpbiBzZWxmLm9wdGlvbnMuY29udGV4dERhdGEpIHtcbiAgICAgICAgXHRzZWxmLm9wdGlvbnNbZGF0YWtleV0gPSBzZWxmLm9wdGlvbnMuY29udGV4dERhdGFbZGF0YWtleV07XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgfSxcblxuICAgIHJlbmRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIEJhc2VWaWV3LnByb3RvdHlwZS5yZW5kZXIuY2FsbChzZWxmKTtcbiAgICAgICAgdXRpbC5sb2coJyoqKiBSZW5kZXJlZCBuYXZiYXIgbWFpbiBtZW51ISAqKionKVxuICAgICAgICAkLmNvc2lubnVzLnJlbmRlck1vbWVudERhdGFEYXRlKCk7XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG4gICAgXG4gICAgLyoqIEV4dGVuZCB0aGUgdGVtcGxhdGUgZGF0YSBieSB0aGUgY29udHJvbFZpZXcncyBvcHRpb25zIGFuZCBzdGF0ZSAqL1xuICAgIGdldFRlbXBsYXRlRGF0YTogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBkYXRhID0gQmFzZVZpZXcucHJvdG90eXBlLmdldFRlbXBsYXRlRGF0YS5jYWxsKHNlbGYpO1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9LFxuICAgIFxuICAgIFxufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Nvc2lubnVzL2NsaWVudC92aWV3cy9uYXZiYXIvbWFpbi1tZW51LXZpZXcuanNcbi8vIG1vZHVsZSBpZCA9IDUxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBudW5qdWNrcyA9IHJlcXVpcmUoXCJudW5qdWNrcy9icm93c2VyL251bmp1Y2tzLXNsaW1cIik7XG52YXIgZW52O1xuaWYgKCFudW5qdWNrcy5jdXJyZW50RW52KXtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudiA9IG5ldyBudW5qdWNrcy5FbnZpcm9ubWVudChbXSwgdW5kZWZpbmVkKTtcbn0gZWxzZSB7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnY7XG59XG52YXIgY29uZmlndXJlID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uLy4uL251bmp1Y2tzLmNvbmZpZy5qc1wiKShlbnYpO1xudmFyIGRlcGVuZGVuY2llcyA9IG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgfHwgKG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgPSB7fSk7XG5kZXBlbmRlbmNpZXNbXCJpbmNsdWRlL21hY3Jvcy5odG1sXCJdID0gcmVxdWlyZSggXCJpbmNsdWRlL21hY3Jvcy5odG1sXCIgKTtcblxuXG5cblxudmFyIHNoaW0gPSByZXF1aXJlKFwiL2hvbWUvc2FzY2hhL3ByL2Nvc2lubnVzLWNvcmUvbm9kZV9tb2R1bGVzL251bmp1Y2tzLWxvYWRlci9ydW50aW1lLXNoaW1cIik7XG5cblxuKGZ1bmN0aW9uKCkgeyhudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkID0gbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZCB8fCB7fSlbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL25hdmJhci9tYWluLW1lbnUuaHRtbFwiXSA9IChmdW5jdGlvbigpIHtcbmZ1bmN0aW9uIHJvb3QoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbnZhciBwYXJlbnRUZW1wbGF0ZSA9IG51bGw7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJwYXNzVGhyb3VnaFwiKVtcInJ1blwiXShjb250ZXh0LHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiaTE4blwiKSksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cIjtcbmVudi5nZXRUZW1wbGF0ZShcImluY2x1ZGUvbWFjcm9zLmh0bWxcIiwgZmFsc2UsIFwiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC9uYXZiYXIvbWFpbi1tZW51Lmh0bWxcIiwgZmFsc2UsIGZ1bmN0aW9uKHRfMix0XzEpIHtcbmlmKHRfMikgeyBjYih0XzIpOyByZXR1cm47IH1cbnRfMS5nZXRFeHBvcnRlZChmdW5jdGlvbih0XzMsdF8xKSB7XG5pZih0XzMpIHsgY2IodF8zKTsgcmV0dXJuOyB9XG5jb250ZXh0LnNldFZhcmlhYmxlKFwibWFjcm9zXCIsIHRfMSk7XG5vdXRwdXQgKz0gXCJcXG5cXG48ZGl2IGNsYXNzPVxcXCJtYWluLW1lbnVcXFwiPlxcblxcdDxkaXYgY2xhc3M9XFxcIm5hdi1jb2x1bW5cXFwiPlxcblxcdFxcdFxcblxcdFxcdFwiO1xuaWYoZW52LmdldEZpbHRlcihcImxlbmd0aFwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZ3JvdXBzX2ludml0ZWRcIikpID4gMCkge1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0PGgyIGNsYXNzPVxcXCJoZWFkbGluZSBoZWFkbGluZS1jb25kZW5zZWRcXFwiPlxcblxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiSW52aXRhdGlvbnNcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCIgKFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RmlsdGVyKFwibGVuZ3RoXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJncm91cHNfaW52aXRlZFwiKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiKVxcblxcdFxcdFxcdDwvaDI+XFxuXFx0XFx0XFxuXFx0XFx0XFx0PHVsIGNsYXNzPVxcXCJpdGVtLWxpc3RcXFwiPlxcblxcdFxcdFxcdFxcdFwiO1xuZnJhbWUgPSBmcmFtZS5wdXNoKCk7XG52YXIgdF82ID0gcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJncm91cHNfaW52aXRlZFwiKTtcbmlmKHRfNikge3ZhciB0XzUgPSB0XzYubGVuZ3RoO1xuZm9yKHZhciB0XzQ9MDsgdF80IDwgdF82Lmxlbmd0aDsgdF80KyspIHtcbnZhciB0XzcgPSB0XzZbdF80XTtcbmZyYW1lLnNldChcIml0ZW1cIiwgdF83KTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXhcIiwgdF80ICsgMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4MFwiLCB0XzQpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleFwiLCB0XzUgLSB0XzQpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleDBcIiwgdF81IC0gdF80IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmZpcnN0XCIsIHRfNCA9PT0gMCk7XG5mcmFtZS5zZXQoXCJsb29wLmxhc3RcIiwgdF80ID09PSB0XzUgLSAxKTtcbmZyYW1lLnNldChcImxvb3AubGVuZ3RoXCIsIHRfNSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoKGxpbmVubyA9IDE0LCBjb2xubyA9IDIxLCBydW50aW1lLmNhbGxXcmFwKHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzEpLFwibGlzdEl0ZW1cIiksIFwibWFjcm9zW1xcXCJsaXN0SXRlbVxcXCJdXCIsIGNvbnRleHQsIFtydW50aW1lLm1lbWJlckxvb2t1cCgodF83KSxcInRleHRcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfNyksXCJ1cmxcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfNyksXCJpY29uXCIpLHJ1bnRpbWUubWFrZUtleXdvcmRBcmdzKHtcImlzX2VtcGhhc2l6ZWRcIjogcnVudGltZS5tZW1iZXJMb29rdXAoKHRfNyksXCJpc19lbXBoYXNpemVkXCIpfSldKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XCI7XG47XG59XG59XG5mcmFtZSA9IGZyYW1lLnBvcCgpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0PC91bD5cXG5cXHRcXHRcXHRcXG5cXHRcXHRcXHQ8aHI+XFxuXFx0XFx0XCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXG5cXHRcXHRcIjtcbmlmKGVudi5nZXRGaWx0ZXIoXCJsZW5ndGhcIikuY2FsbChjb250ZXh0LCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImdyb3VwX3JlcXVlc3RzXCIpKSA+IDApIHtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdDxoMiBjbGFzcz1cXFwiaGVhZGxpbmUgaGVhZGxpbmUtY29uZGVuc2VkXFxcIj5cXG5cXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIk1lbWJlcnNoaXAgUmVxdWVzdHNcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCIgKFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImdyb3VwX3JlcXVlc3RzX2NvdW50XCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIilcXG5cXHRcXHRcXHQ8L2gyPlxcblxcdFxcdFxcblxcdFxcdFxcdDx1bCBjbGFzcz1cXFwiaXRlbS1saXN0XFxcIj5cXG5cXHRcXHRcXHRcXHRcIjtcbmZyYW1lID0gZnJhbWUucHVzaCgpO1xudmFyIHRfMTAgPSBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImdyb3VwX3JlcXVlc3RzXCIpO1xuaWYodF8xMCkge3ZhciB0XzkgPSB0XzEwLmxlbmd0aDtcbmZvcih2YXIgdF84PTA7IHRfOCA8IHRfMTAubGVuZ3RoOyB0XzgrKykge1xudmFyIHRfMTEgPSB0XzEwW3RfOF07XG5mcmFtZS5zZXQoXCJpdGVtXCIsIHRfMTEpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleFwiLCB0XzggKyAxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXgwXCIsIHRfOCk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4XCIsIHRfOSAtIHRfOCk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4MFwiLCB0XzkgLSB0XzggLSAxKTtcbmZyYW1lLnNldChcImxvb3AuZmlyc3RcIiwgdF84ID09PSAwKTtcbmZyYW1lLnNldChcImxvb3AubGFzdFwiLCB0XzggPT09IHRfOSAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5sZW5ndGhcIiwgdF85KTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSgobGluZW5vID0gMjksIGNvbG5vID0gMjEsIHJ1bnRpbWUuY2FsbFdyYXAocnVudGltZS5tZW1iZXJMb29rdXAoKHRfMSksXCJsaXN0SXRlbVwiKSwgXCJtYWNyb3NbXFxcImxpc3RJdGVtXFxcIl1cIiwgY29udGV4dCwgW3J1bnRpbWUubWVtYmVyTG9va3VwKCh0XzExKSxcInRleHRcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTEpLFwidXJsXCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzExKSxcImljb25cIikscnVudGltZS5tYWtlS2V5d29yZEFyZ3Moe1wiaXNfZW1waGFzaXplZFwiOiBydW50aW1lLm1lbWJlckxvb2t1cCgodF8xMSksXCJpc19lbXBoYXNpemVkXCIpfSldKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XCI7XG47XG59XG59XG5mcmFtZSA9IGZyYW1lLnBvcCgpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0PC91bD5cXG5cXHRcXHRcXHRcXG5cXHRcXHRcXHQ8aHI+XFxuXFx0XFx0XCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cXG5cXHRcXHRcIjtcbmlmKGVudi5nZXRGaWx0ZXIoXCJsZW5ndGhcIikuY2FsbChjb250ZXh0LCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvbmZlcmVuY2VfcmVxdWVzdHNcIikpID4gMCkge1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0PGgyIGNsYXNzPVxcXCJoZWFkbGluZSBoZWFkbGluZS1jb25kZW5zZWRcXFwiPlxcblxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiQ29uZmVyZW5jZSBBcHBsaWNhdGlvbnNcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCIgKFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvbmZlcmVuY2VfcmVxdWVzdHNfY291bnRcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiKVxcblxcdFxcdFxcdDwvaDI+XFxuXFx0XFx0XFxuXFx0XFx0XFx0PHVsIGNsYXNzPVxcXCJpdGVtLWxpc3RcXFwiPlxcblxcdFxcdFxcdFxcdFwiO1xuZnJhbWUgPSBmcmFtZS5wdXNoKCk7XG52YXIgdF8xNCA9IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29uZmVyZW5jZV9yZXF1ZXN0c1wiKTtcbmlmKHRfMTQpIHt2YXIgdF8xMyA9IHRfMTQubGVuZ3RoO1xuZm9yKHZhciB0XzEyPTA7IHRfMTIgPCB0XzE0Lmxlbmd0aDsgdF8xMisrKSB7XG52YXIgdF8xNSA9IHRfMTRbdF8xMl07XG5mcmFtZS5zZXQoXCJpdGVtXCIsIHRfMTUpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleFwiLCB0XzEyICsgMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4MFwiLCB0XzEyKTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXhcIiwgdF8xMyAtIHRfMTIpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleDBcIiwgdF8xMyAtIHRfMTIgLSAxKTtcbmZyYW1lLnNldChcImxvb3AuZmlyc3RcIiwgdF8xMiA9PT0gMCk7XG5mcmFtZS5zZXQoXCJsb29wLmxhc3RcIiwgdF8xMiA9PT0gdF8xMyAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5sZW5ndGhcIiwgdF8xMyk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoKGxpbmVubyA9IDQ0LCBjb2xubyA9IDIxLCBydW50aW1lLmNhbGxXcmFwKHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzEpLFwibGlzdEl0ZW1cIiksIFwibWFjcm9zW1xcXCJsaXN0SXRlbVxcXCJdXCIsIGNvbnRleHQsIFtydW50aW1lLm1lbWJlckxvb2t1cCgodF8xNSksXCJ0ZXh0XCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzE1KSxcInVybFwiKSxydW50aW1lLm1lbWJlckxvb2t1cCgodF8xNSksXCJpY29uXCIpLHJ1bnRpbWUubWFrZUtleXdvcmRBcmdzKHtcImlzX2VtcGhhc2l6ZWRcIjogcnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTUpLFwiaXNfZW1waGFzaXplZFwiKX0pXSkpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFwiO1xuO1xufVxufVxuZnJhbWUgPSBmcmFtZS5wb3AoKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdDwvdWw+XFxuXFx0XFx0XFx0XFxuXFx0XFx0XFx0PGhyPlxcblxcdFxcdFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFxuXFx0XFx0PGgyIGNsYXNzPVxcXCJoZWFkbGluZSBoZWFkbGluZS1jb25kZW5zZWRcXFwiPlxcblxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiTXkgR3JvdXBzIGFuZCBQcm9qZWN0c1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdDwvaDI+XFxuXFx0XFx0XFxuXFx0XFx0PHVsIGNsYXNzPVxcXCJpdGVtLWxpc3RcXFwiPlxcblxcdFxcdFxcdFwiO1xuaWYoZW52LmdldEZpbHRlcihcImxlbmd0aFwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZ3JvdXBfY2x1c3RlcnNcIikpID4gMCkge1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XCI7XG5mcmFtZSA9IGZyYW1lLnB1c2goKTtcbnZhciB0XzE4ID0gcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJncm91cF9jbHVzdGVyc1wiKTtcbmlmKHRfMTgpIHt2YXIgdF8xNyA9IHRfMTgubGVuZ3RoO1xuZm9yKHZhciB0XzE2PTA7IHRfMTYgPCB0XzE4Lmxlbmd0aDsgdF8xNisrKSB7XG52YXIgdF8xOSA9IHRfMThbdF8xNl07XG5mcmFtZS5zZXQoXCJjbHVzdGVyXCIsIHRfMTkpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleFwiLCB0XzE2ICsgMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4MFwiLCB0XzE2KTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXhcIiwgdF8xNyAtIHRfMTYpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleDBcIiwgdF8xNyAtIHRfMTYgLSAxKTtcbmZyYW1lLnNldChcImxvb3AuZmlyc3RcIiwgdF8xNiA9PT0gMCk7XG5mcmFtZS5zZXQoXCJsb29wLmxhc3RcIiwgdF8xNiA9PT0gdF8xNyAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5sZW5ndGhcIiwgdF8xNyk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcIjtcbmZyYW1lID0gZnJhbWUucHVzaCgpO1xudmFyIHRfMjIgPSB0XzE5O1xuaWYodF8yMikge3ZhciB0XzIxID0gdF8yMi5sZW5ndGg7XG5mb3IodmFyIHRfMjA9MDsgdF8yMCA8IHRfMjIubGVuZ3RoOyB0XzIwKyspIHtcbnZhciB0XzIzID0gdF8yMlt0XzIwXTtcbmZyYW1lLnNldChcIml0ZW1cIiwgdF8yMyk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfMjAgKyAxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXgwXCIsIHRfMjApO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleFwiLCB0XzIxIC0gdF8yMCk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4MFwiLCB0XzIxIC0gdF8yMCAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzIwID09PSAwKTtcbmZyYW1lLnNldChcImxvb3AubGFzdFwiLCB0XzIwID09PSB0XzIxIC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzIxKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFxcdFwiO1xuaWYocnVudGltZS5tZW1iZXJMb29rdXAoKHRfMjMpLFwiaGFzbW9yZWxpbmtcIikpIHtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdDxsaT5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQ8YSBjbGFzcz1cXFwibGlzdC1pdGVtIGxpc3QtaXRlbS1saW5rXFxcIiBocmVmPVxcXCIjXFxcIiByb2xlPVxcXCJidXR0b25cXFwiIHRpdGxlZGJ5PVxcXCIuaXRlbS10ZXh0XFxcIj4gXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0PGRpdiBpZD1cXFwibW9yZS1saW5rMVxcXCIgY2xhc3M9XFxcIml0ZW0tdGV4dFxcXCI+XFxuXFx0XFx0XFx0XFx0XFx0XFx0ICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiU2hvdyBtb3JlIFByb2plY3RzIG9mIHRoaXMgR3JvdXBcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQ8L2Rpdj5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQ8YT5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHQ8L2xpPlxcblxcdFxcdFxcdFxcdFxcdFxcdFwiO1xuO1xufVxuZWxzZSB7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoKGxpbmVubyA9IDcwLCBjb2xubyA9IDIzLCBydW50aW1lLmNhbGxXcmFwKHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzEpLFwibGlzdEl0ZW1cIiksIFwibWFjcm9zW1xcXCJsaXN0SXRlbVxcXCJdXCIsIGNvbnRleHQsIFtydW50aW1lLm1lbWJlckxvb2t1cCgodF8yMyksXCJ0ZXh0XCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzIzKSxcInVybFwiKSxydW50aW1lLm1lbWJlckxvb2t1cCgodF8yMyksXCJpY29uXCIpLHJ1bnRpbWUubWFrZUtleXdvcmRBcmdzKHtcImlzX2VtcGhhc2l6ZWRcIjogcnVudGltZS5tZW1iZXJMb29rdXAoKHRfMjMpLFwiaXNfZW1waGFzaXplZFwiKX0pXSkpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFxcdFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XCI7XG47XG59XG59XG5mcmFtZSA9IGZyYW1lLnBvcCgpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFxuXFx0XFx0XFx0XFx0XFx0XCI7XG5pZighcnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibG9vcFwiKSksXCJsYXN0XCIpKSB7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHQ8bGk+XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0PGhyPlxcblxcdFxcdFxcdFxcdFxcdFxcdDwvbGk+XFxuXFx0XFx0XFx0XFx0XFx0XCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcIjtcbjtcbn1cbn1cbmZyYW1lID0gZnJhbWUucG9wKCk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcIjtcbjtcbn1cbmVsc2Uge1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0PGxpPlxcblxcdFxcdFxcdFxcdFxcdDxzcGFuIGNsYXNzPVxcXCJsaXN0LWl0ZW0gbGlzdC1pdGVtLWxpbmsgbm8tc2VsZWN0XFxcIiBocmVmPVxcXCIjXFxcIiByb2xlPVxcXCJidXR0b25cXFwiIHRpdGxlZGJ5PVxcXCIuaXRlbS10ZXh0XFxcIj4gXFxuXFx0XFx0XFx0ICAgIFxcdFxcdDxkaXYgY2xhc3M9XFxcIml0ZW0tdGV4dFxcXCI+XFxuXFx0XFx0XFx0ICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiWW91IGFyZSBub3QgaW4gYW55IGdyb3VwcyBvciBwcm9qZWN0cyB5ZXRcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHQgICAgXFx0XFx0PC9kaXY+XFxuXFx0XFx0XFx0XFx0XFx0PC9zcGFuPlxcblxcdFxcdFxcdFxcdDwvbGk+XFxuXFx0XFx0XFx0XCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHQ8L3VsPlxcblxcdFxcdFxcblxcdFxcdDxocj5cXG5cXHRcXHRcXG5cXHRcXHQ8ZGl2IGNsYXNzPVxcXCJtYWluLW1lbnUtbGlua3NcXFwiPlxcblxcdFxcdCAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiQ09TSU5OVVNfU0hPV19QUk9KRUNUX0FORF9HUk9VUF9DUkVBVEVfQlVUVE9OU1wiKSkge1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0PGRpdj48YSBocmVmPVxcXCJcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJncm91cF9hZGRfdXJsXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCI+XFxuXFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJDcmVhdGUgbmV3IEdyb3VwXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0PC9hPjwvZGl2PlxcblxcdFxcdFxcdFxcdDxkaXY+PGEgaHJlZj1cXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicHJvamVjdF9hZGRfdXJsXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCI+XFxuXFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJDcmVhdGUgbmV3IFByb2plY3RcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCIgXFxuXFx0XFx0XFx0XFx0PC9hPjwvZGl2PlxcblxcdFxcdFxcdFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0PGRpdj48YSBocmVmPVxcXCIvZ3JvdXBzL1xcXCI+XFxuXFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJCcm93c2UgYWxsIEdyb3Vwc1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIiBcXG5cXHRcXHRcXHQ8L2E+PC9kaXY+XFxuXFx0XFx0XFx0PGRpdj48YSBocmVmPVxcXCIvcHJvamVjdHMvXFxcIj5cXG5cXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkJyb3dzZSBhbGwgUHJvamVjdHNcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCIgXFxuXFx0XFx0XFx0PC9hPjwvZGl2PlxcblxcdFxcdFxcdFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJDT1NJTk5VU19NQVRDSElOR19FTkFCTEVEXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHQ8ZGl2PjxhIGhyZWY9XFxcIi9tYXAvP21hdGNoaW5nPXRydWVcXFwiPlxcblxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiRmluZCBwYXJ0bmVyc1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdDwvYT48L2Rpdj5cXG5cXHRcXHRcXHRcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblxcdFxcdDwvZGl2PlxcblxcdDwvZGl2PlxcblxcdFxcblxcdFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJDT1NJTk5VU19DT05GRVJFTkNFU19FTkFCTEVEXCIpIHx8IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiQ09TSU5OVVNfSURFQVNfRU5BQkxFRFwiKSB8fCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIkNPU0lOTlVTX09SR0FOSVpBVElPTlNfRU5BQkxFRFwiKSkge1xub3V0cHV0ICs9IFwiXFxuXFx0PGRpdiBjbGFzcz1cXFwibmF2LWNvbHVtblxcXCI+XFxuXFx0ICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJDT1NJTk5VU19DT05GRVJFTkNFU19FTkFCTEVEXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgICAgIDxoMiBjbGFzcz1cXFwiaGVhZGxpbmUgaGVhZGxpbmUtY29uZGVuc2VkXFxcIj5cXG5cXHRcXHRcXHQgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIkNPU0lOTlVTX1RSQU5TXCIpKSxcIkNPU0lOTlVTX1RSQU5TX01ZX0NPTkZFUkVOQ0VTXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdCAgICAgICAgPC9oMj5cXG5cXHQgICAgICAgIFxcblxcdCAgICAgICAgPHVsIGNsYXNzPVxcXCJpdGVtLWxpc3RcXFwiPlxcblxcdCAgICAgICAgICAgIFwiO1xuaWYoZW52LmdldEZpbHRlcihcImxlbmd0aFwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibXlfY29uZmVyZW5jZXNcIikpKSB7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgICAgICAgICAgICAgXCI7XG5mcmFtZSA9IGZyYW1lLnB1c2goKTtcbnZhciB0XzI2ID0gcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJteV9jb25mZXJlbmNlc1wiKTtcbmlmKHRfMjYpIHt2YXIgdF8yNSA9IHRfMjYubGVuZ3RoO1xuZm9yKHZhciB0XzI0PTA7IHRfMjQgPCB0XzI2Lmxlbmd0aDsgdF8yNCsrKSB7XG52YXIgdF8yNyA9IHRfMjZbdF8yNF07XG5mcmFtZS5zZXQoXCJpdGVtXCIsIHRfMjcpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleFwiLCB0XzI0ICsgMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4MFwiLCB0XzI0KTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXhcIiwgdF8yNSAtIHRfMjQpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleDBcIiwgdF8yNSAtIHRfMjQgLSAxKTtcbmZyYW1lLnNldChcImxvb3AuZmlyc3RcIiwgdF8yNCA9PT0gMCk7XG5mcmFtZS5zZXQoXCJsb29wLmxhc3RcIiwgdF8yNCA9PT0gdF8yNSAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5sZW5ndGhcIiwgdF8yNSk7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSgobGluZW5vID0gMTMyLCBjb2xubyA9IDM3LCBydW50aW1lLmNhbGxXcmFwKHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzEpLFwibGlzdEl0ZW1cIiksIFwibWFjcm9zW1xcXCJsaXN0SXRlbVxcXCJdXCIsIGNvbnRleHQsIFtydW50aW1lLm1lbWJlckxvb2t1cCgodF8yNyksXCJ0ZXh0XCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzI3KSxcInVybFwiKSxydW50aW1lLm1lbWJlckxvb2t1cCgodF8yNyksXCJpY29uXCIpLHJ1bnRpbWUubWFrZUtleXdvcmRBcmdzKHtcImlzX2VtcGhhc2l6ZWRcIjogcnVudGltZS5tZW1iZXJMb29rdXAoKHRfMjcpLFwiaXNfZW1waGFzaXplZFwiKX0pXSkpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdCAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbn1cbmZyYW1lID0gZnJhbWUucG9wKCk7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xub3V0cHV0ICs9IFwiXFxuXFx0ICAgICAgICAgICAgICAgIDxsaT5cXG5cXHQgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJsaXN0LWl0ZW0gbGlzdC1pdGVtLWxpbmsgbm8tc2VsZWN0XFxcIiBocmVmPVxcXCIjXFxcIiByb2xlPVxcXCJidXR0b25cXFwiIHRpdGxlZGJ5PVxcXCIuaXRlbS10ZXh0XFxcIj5cXG5cXHQgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJpdGVtLXRleHRcXFwiPlxcblxcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiQ09TSU5OVVNfVFJBTlNcIikpLFwiQ09TSU5OVVNfVFJBTlNfTVlfQ09ORkVSRU5DRVNfRU1QVFlcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0ICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuXFx0ICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XFxuXFx0ICAgICAgICAgICAgICAgIDwvbGk+ICAgIFxcblxcdFxcdCAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgICAgIDwvdWw+XFxuXFx0ICAgICAgICAgICAgXFxuXFx0ICAgICAgICA8aHI+XFxuXFx0ICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiQ09TSU5OVVNfVVNFUl9DQU5fQ1JFQVRFX0NPTkZFUkVOQ0VcIikpIHtcbm91dHB1dCArPSBcIlxcblxcdCAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwibWFpbi1tZW51LWxpbmtzXFxcIj5cXG5cXHRcXHQgICAgICAgICAgIDxkaXY+PGEgaHJlZj1cXFwiL2NvbmZlcmVuY2VzL2FkZC9cXFwiPlxcblxcdCAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIkNPU0lOTlVTX1RSQU5TXCIpKSxcIkNPU0lOTlVTX1RSQU5TX0NSRUFURV9DT05GRVJFTkNFXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIiBcXG5cXHQgICAgICAgICAgICAgICAgPC9hPjwvZGl2PlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcIm1haW4tbWVudS1saW5rc1xcXCI+XFxuICAgICAgICAgICAgICAgIDxkaXY+PGEgaHJlZj1cXFwiL2NvbmZlcmVuY2VzL1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiQ09TSU5OVVNfVFJBTlNcIikpLFwiQ09TSU5OVVNfVFJBTlNfQlJPV1NFX0FMTF9DT05GRVJFTkNFU1wiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgPC9hPjwvZGl2PlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJDT1NJTk5VU19PUkdBTklaQVRJT05TX0VOQUJMRURcIikgfHwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJDT1NJTk5VU19JREVBU19FTkFCTEVEXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICA8aHI+XFxuICAgICAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXFx0XFxuXFx0XFx0XCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIkNPU0lOTlVTX09SR0FOSVpBVElPTlNfRU5BQkxFRFwiKSkge1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0PGgyIGNsYXNzPVxcXCJoZWFkbGluZSBoZWFkbGluZS1jb25kZW5zZWRcXFwiPlxcblxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiTXkgT3JnYW5pemF0aW9uc1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdDwvaDI+XFxuXFx0XFx0ICAgIDx1bCBjbGFzcz1cXFwiaXRlbS1saXN0XFxcIj5cXG5cXHRcXHRcXHRcIjtcbmlmKGVudi5nZXRGaWx0ZXIoXCJsZW5ndGhcIikuY2FsbChjb250ZXh0LCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm15X29yZ2FuaXphdGlvbnNcIikpKSB7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcIjtcbmZyYW1lID0gZnJhbWUucHVzaCgpO1xudmFyIHRfMzAgPSBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm15X29yZ2FuaXphdGlvbnNcIik7XG5pZih0XzMwKSB7dmFyIHRfMjkgPSB0XzMwLmxlbmd0aDtcbmZvcih2YXIgdF8yOD0wOyB0XzI4IDwgdF8zMC5sZW5ndGg7IHRfMjgrKykge1xudmFyIHRfMzEgPSB0XzMwW3RfMjhdO1xuZnJhbWUuc2V0KFwiaXRlbVwiLCB0XzMxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXhcIiwgdF8yOCArIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleDBcIiwgdF8yOCk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4XCIsIHRfMjkgLSB0XzI4KTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXgwXCIsIHRfMjkgLSB0XzI4IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmZpcnN0XCIsIHRfMjggPT09IDApO1xuZnJhbWUuc2V0KFwibG9vcC5sYXN0XCIsIHRfMjggPT09IHRfMjkgLSAxKTtcbmZyYW1lLnNldChcImxvb3AubGVuZ3RoXCIsIHRfMjkpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKChsaW5lbm8gPSAxNzIsIGNvbG5vID0gMjEsIHJ1bnRpbWUuY2FsbFdyYXAocnVudGltZS5tZW1iZXJMb29rdXAoKHRfMSksXCJsaXN0SXRlbVwiKSwgXCJtYWNyb3NbXFxcImxpc3RJdGVtXFxcIl1cIiwgY29udGV4dCwgW3J1bnRpbWUubWVtYmVyTG9va3VwKCh0XzMxKSxcInRleHRcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMzEpLFwidXJsXCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzMxKSxcImljb25cIikscnVudGltZS5tYWtlS2V5d29yZEFyZ3Moe1wiaXNfZW1waGFzaXplZFwiOiBydW50aW1lLm1lbWJlckxvb2t1cCgodF8zMSksXCJpc19lbXBoYXNpemVkXCIpfSldKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XCI7XG47XG59XG59XG5mcmFtZSA9IGZyYW1lLnBvcCgpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XCI7XG47XG59XG5lbHNlIHtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdDxsaT5cXG5cXHRcXHRcXHRcXHRcXHQ8c3BhbiBjbGFzcz1cXFwibGlzdC1pdGVtIGxpc3QtaXRlbS1saW5rIG5vLXNlbGVjdFxcXCIgaHJlZj1cXFwiI1xcXCIgcm9sZT1cXFwiYnV0dG9uXFxcIiB0aXRsZWRieT1cXFwiLml0ZW0tdGV4dFxcXCI+XFxuXFx0XFx0XFx0XFx0XFx0XFx0PGRpdiBjbGFzcz1cXFwiaXRlbS10ZXh0XFxcIj5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIllvdSBoYXZlIG5vdCBjcmVhdGVkIGFueSBvcmdhbml6YXRpb25zIHlldC5cIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHQ8L2Rpdj5cXG5cXHRcXHRcXHRcXHRcXHQ8L3NwYW4+XFxuXFx0XFx0XFx0XFx0PC9saT5cXG5cXHRcXHRcXHRcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdDwvdWw+XFxuXFx0XFx0XFx0PGhyPlxcblxcdFxcdFxcdFxcblxcdFxcdFxcdDxkaXYgY2xhc3M9XFxcIm1haW4tbWVudS1saW5rc1xcXCI+XFxuXFx0XFx0XFx0XFx0PGRpdj48YSBocmVmPVxcXCJcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJvcmdhbml6YXRpb25fYWRkX3VybFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiPlxcblxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiQ3JlYXRlIG5ldyBPcmdhbml6YXRpb25cIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCIgXFxuXFx0XFx0XFx0XFx0PC9hPjwvZGl2PlxcblxcdFxcdFxcdFxcdDxkaXY+PGEgaHJlZj1cXFwiL29yZ2FuaXphdGlvbnMvXFxcIj5cXG5cXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkJyb3dzZSBhbGwgT3JnYW5pemF0aW9uc1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIiBcXG5cXHRcXHRcXHRcXHQ8L2E+PC9kaXY+XFxuXFx0XFx0XFx0XFx0PGRpdiBzdHlsZT1cXFwiZGlzcGxheTpub25lO1xcXCI+PGEgaHJlZj1cXFwiL21hcC8/cGVvcGxlPWZhbHNlJmV2ZW50cz1mYWxzZSZwcm9qZWN0cz1mYWxzZSZncm91cHM9ZmFsc2UmaWRlYXM9ZmFsc2Umb3JnYW5pemF0aW9ucz10cnVlXFxcIj5cXG5cXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIlNlYXJjaCBmb3IgT3JnYW5pemF0aW9uc1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIiBcXG5cXHRcXHRcXHRcXHQ8L2E+PC9kaXY+XFxuXFx0XFx0XFx0PC9kaXY+XFxuXFx0XFx0XFx0XFxuXFx0XFx0XFx0XCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIkNPU0lOTlVTX0lERUFTX0VOQUJMRURcIikpIHtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdDxocj5cXG5cXHRcXHRcXHRcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblxcdFxcdFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFxuXFx0XFx0XCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIkNPU0lOTlVTX0lERUFTX0VOQUJMRURcIikpIHtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdDxoMiBjbGFzcz1cXFwiaGVhZGxpbmUgaGVhZGxpbmUtY29uZGVuc2VkXFxcIj5cXG5cXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIklkZWFzIEkgYW0gZm9sbG93aW5nXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0PC9oMj5cXG5cXHRcXHRcXHRcXG5cXHRcXHRcXHQ8dWwgY2xhc3M9XFxcIml0ZW0tbGlzdFxcXCI+XFxuXFx0XFx0XFx0XFx0XCI7XG5pZihlbnYuZ2V0RmlsdGVyKFwibGVuZ3RoXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJmb2xsb3dlZF9pZGVhc1wiKSkgPiAwKSB7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcIjtcbmZyYW1lID0gZnJhbWUucHVzaCgpO1xudmFyIHRfMzQgPSBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImZvbGxvd2VkX2lkZWFzXCIpO1xuaWYodF8zNCkge3ZhciB0XzMzID0gdF8zNC5sZW5ndGg7XG5mb3IodmFyIHRfMzI9MDsgdF8zMiA8IHRfMzQubGVuZ3RoOyB0XzMyKyspIHtcbnZhciB0XzM1ID0gdF8zNFt0XzMyXTtcbmZyYW1lLnNldChcIml0ZW1cIiwgdF8zNSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfMzIgKyAxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXgwXCIsIHRfMzIpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleFwiLCB0XzMzIC0gdF8zMik7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4MFwiLCB0XzMzIC0gdF8zMiAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzMyID09PSAwKTtcbmZyYW1lLnNldChcImxvb3AubGFzdFwiLCB0XzMyID09PSB0XzMzIC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzMzKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSgobGluZW5vID0gMjE2LCBjb2xubyA9IDIyLCBydW50aW1lLmNhbGxXcmFwKHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzEpLFwibGlzdEl0ZW1cIiksIFwibWFjcm9zW1xcXCJsaXN0SXRlbVxcXCJdXCIsIGNvbnRleHQsIFtydW50aW1lLm1lbWJlckxvb2t1cCgodF8zNSksXCJ0ZXh0XCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzM1KSxcInVybFwiKSxydW50aW1lLm1lbWJlckxvb2t1cCgodF8zNSksXCJpY29uXCIpLHJ1bnRpbWUubWFrZUtleXdvcmRBcmdzKHtcImlzX2VtcGhhc2l6ZWRcIjogcnVudGltZS5tZW1iZXJMb29rdXAoKHRfMzUpLFwiaXNfZW1waGFzaXplZFwiKX0pXSkpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFwiO1xuO1xufVxufVxuZnJhbWUgPSBmcmFtZS5wb3AoKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFwiO1xuO1xufVxuZWxzZSB7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHQ8bGk+XFxuXFx0XFx0XFx0XFx0XFx0XFx0PHNwYW4gY2xhc3M9XFxcImxpc3QtaXRlbSBsaXN0LWl0ZW0tbGluayBuby1zZWxlY3RcXFwiIGhyZWY9XFxcIiNcXFwiIHJvbGU9XFxcImJ1dHRvblxcXCIgdGl0bGVkYnk9XFxcIi5pdGVtLXRleHRcXFwiPiBcXG5cXHRcXHRcXHRcXHQgICAgXFx0XFx0PGRpdiBjbGFzcz1cXFwiaXRlbS10ZXh0XFxcIj5cXG5cXHRcXHRcXHRcXHQgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJZb3UgYXJlIG5vdCBmb2xsb3dpbmcgYW55IGlkZWFzIHlldC5cIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHQgICAgXFx0XFx0PC9kaXY+XFxuXFx0XFx0XFx0XFx0XFx0XFx0PC9zcGFuPlxcblxcdFxcdFxcdFxcdFxcdDwvbGk+XFxuXFx0XFx0XFx0XFx0XCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHQ8L3VsPlxcblxcdFxcdFxcdFxcblxcdFxcdFxcdDxocj5cXG5cXHRcXHRcXHRcXG5cXHRcXHRcXHRcIjtcbmlmKGVudi5nZXRGaWx0ZXIoXCJsZW5ndGhcIikuY2FsbChjb250ZXh0LCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm15X2lkZWFzXCIpKSkge1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0PGgyIGNsYXNzPVxcXCJoZWFkbGluZSBoZWFkbGluZS1jb25kZW5zZWRcXFwiPlxcblxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiTXkgSWRlYXNcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHQ8L2gyPlxcblxcdFxcdFxcdFxcdDx1bCBjbGFzcz1cXFwiaXRlbS1saXN0XFxcIj5cXG5cXHRcXHRcXHRcXHRcXHRcIjtcbmZyYW1lID0gZnJhbWUucHVzaCgpO1xudmFyIHRfMzggPSBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm15X2lkZWFzXCIpO1xuaWYodF8zOCkge3ZhciB0XzM3ID0gdF8zOC5sZW5ndGg7XG5mb3IodmFyIHRfMzY9MDsgdF8zNiA8IHRfMzgubGVuZ3RoOyB0XzM2KyspIHtcbnZhciB0XzM5ID0gdF8zOFt0XzM2XTtcbmZyYW1lLnNldChcIml0ZW1cIiwgdF8zOSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfMzYgKyAxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXgwXCIsIHRfMzYpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleFwiLCB0XzM3IC0gdF8zNik7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4MFwiLCB0XzM3IC0gdF8zNiAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzM2ID09PSAwKTtcbmZyYW1lLnNldChcImxvb3AubGFzdFwiLCB0XzM2ID09PSB0XzM3IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzM3KTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSgobGluZW5vID0gMjM5LCBjb2xubyA9IDIyLCBydW50aW1lLmNhbGxXcmFwKHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzEpLFwibGlzdEl0ZW1cIiksIFwibWFjcm9zW1xcXCJsaXN0SXRlbVxcXCJdXCIsIGNvbnRleHQsIFtydW50aW1lLm1lbWJlckxvb2t1cCgodF8zOSksXCJ0ZXh0XCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzM5KSxcInVybFwiKSxydW50aW1lLm1lbWJlckxvb2t1cCgodF8zOSksXCJpY29uXCIpLHJ1bnRpbWUubWFrZUtleXdvcmRBcmdzKHtcImlzX2VtcGhhc2l6ZWRcIjogcnVudGltZS5tZW1iZXJMb29rdXAoKHRfMzkpLFwiaXNfZW1waGFzaXplZFwiKX0pXSkpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFwiO1xuO1xufVxufVxuZnJhbWUgPSBmcmFtZS5wb3AoKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdDwvdWw+XFxuXFx0XFx0XFx0XFx0PGhyPlxcblxcdFxcdFxcdFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFxuXFx0XFx0XFx0PGRpdiBjbGFzcz1cXFwibWFpbi1tZW51LWxpbmtzXFxcIj5cXG5cXHRcXHRcXHRcXHQ8ZGl2PjxhIGhyZWY9XFxcIlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImlkZWFfYWRkX3VybFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiPlxcblxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiUG9zdCBuZXcgSWRlYVwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIiBcXG5cXHRcXHRcXHRcXHQ8L2E+PC9kaXY+XFxuXFx0XFx0XFx0XFx0PGRpdj48YSBocmVmPVxcXCIvaWRlYXMvXFxcIj5cXG5cXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkJyb3dzZSBhbGwgSWRlYXNcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCIgXFxuXFx0XFx0XFx0XFx0PC9hPjwvZGl2PlxcblxcdFxcdFxcdFxcdDxkaXYgc3R5bGU9XFxcImRpc3BsYXk6bm9uZTtcXFwiPjxhIGhyZWY9XFxcIi9tYXAvP3Blb3BsZT1mYWxzZSZldmVudHM9ZmFsc2UmcHJvamVjdHM9ZmFsc2UmZ3JvdXBzPWZhbHNlJmNvbmZlcmVuY2VzPWZhbHNlJmlkZWFzPXRydWUmb3JnYW5pemF0aW9ucz1mYWxzZVxcXCI+XFxuXFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJTZWFyY2ggZm9yIElkZWFzXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiIFxcblxcdFxcdFxcdFxcdDwvYT48L2Rpdj5cXG5cXHRcXHRcXHQ8L2Rpdj5cXG5cXHRcXHRcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblxcdFxcdFxcblxcdDwvZGl2PlxcblxcdFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXFx0XFxuXFx0PGRpdiBjbGFzcz1cXFwibmF2LWNvbHVtblxcXCI+XFxuXFx0XFx0PGgyIGNsYXNzPVxcXCJoZWFkbGluZSBoZWFkbGluZS1jb25kZW5zZWRcXFwiPlxcblxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiTXkgRXZlbnRzXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0PC9oMj5cXG5cXHRcXHRcXG5cXHRcXHQ8dWwgY2xhc3M9XFxcIml0ZW0tbGlzdFxcXCI+XFxuXFx0XFx0XFx0XCI7XG5pZihlbnYuZ2V0RmlsdGVyKFwibGVuZ3RoXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJhdHRlbmRpbmdfZXZlbnRzXCIpKSA+IDApIHtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFwiO1xuZnJhbWUgPSBmcmFtZS5wdXNoKCk7XG52YXIgdF80MiA9IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYXR0ZW5kaW5nX2V2ZW50c1wiKTtcbmlmKHRfNDIpIHt2YXIgdF80MSA9IHRfNDIubGVuZ3RoO1xuZm9yKHZhciB0XzQwPTA7IHRfNDAgPCB0XzQyLmxlbmd0aDsgdF80MCsrKSB7XG52YXIgdF80MyA9IHRfNDJbdF80MF07XG5mcmFtZS5zZXQoXCJpdGVtXCIsIHRfNDMpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleFwiLCB0XzQwICsgMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4MFwiLCB0XzQwKTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXhcIiwgdF80MSAtIHRfNDApO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleDBcIiwgdF80MSAtIHRfNDAgLSAxKTtcbmZyYW1lLnNldChcImxvb3AuZmlyc3RcIiwgdF80MCA9PT0gMCk7XG5mcmFtZS5zZXQoXCJsb29wLmxhc3RcIiwgdF80MCA9PT0gdF80MSAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5sZW5ndGhcIiwgdF80MSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoKGxpbmVubyA9IDI3MywgY29sbm8gPSAyMSwgcnVudGltZS5jYWxsV3JhcChydW50aW1lLm1lbWJlckxvb2t1cCgodF8xKSxcImxpc3RJdGVtXCIpLCBcIm1hY3Jvc1tcXFwibGlzdEl0ZW1cXFwiXVwiLCBjb250ZXh0LCBbcnVudGltZS5tZW1iZXJMb29rdXAoKHRfNDMpLFwidGV4dFwiKSxydW50aW1lLm1lbWJlckxvb2t1cCgodF80MyksXCJ1cmxcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfNDMpLFwiaWNvblwiKSxydW50aW1lLm1ha2VLZXl3b3JkQXJncyh7XCJzdWJ0ZXh0XCI6IHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzQzKSxcInN1YnRleHRcIiksXCJpc19lbXBoYXNpemVkXCI6IHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzQzKSxcImlzX2VtcGhhc2l6ZWRcIil9KV0pKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcIjtcbjtcbn1cbn1cbmZyYW1lID0gZnJhbWUucG9wKCk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcIjtcbjtcbn1cbmVsc2Uge1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0PGxpPlxcblxcdFxcdFxcdFxcdFxcdDxzcGFuIGNsYXNzPVxcXCJsaXN0LWl0ZW0gbGlzdC1pdGVtLWxpbmsgbm8tc2VsZWN0XFxcIiBocmVmPVxcXCIjXFxcIiByb2xlPVxcXCJidXR0b25cXFwiIHRpdGxlZGJ5PVxcXCIuaXRlbS10ZXh0XFxcIj4gXFxuXFx0XFx0XFx0ICAgIFxcdFxcdDxkaXYgY2xhc3M9XFxcIml0ZW0tdGV4dFxcXCI+XFxuXFx0XFx0XFx0ICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiWW91IGhhdmUgbm90IFJTVlBlZCB0byBhbnkgRXZlbnRzLlwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdCAgICBcXHRcXHQ8L2Rpdj5cXG5cXHRcXHRcXHRcXHRcXHQ8L3NwYW4+XFxuXFx0XFx0XFx0XFx0PC9saT5cXG5cXHRcXHRcXHRcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblxcdFxcdDwvdWw+XFxuXFx0XFx0XFxuXFx0XFx0XCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImV2ZW50X2FkZF91cmxcIikgfHwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJldmVudF9jYWxlbmRhcl91cmxcIikpIHtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdDxocj5cXG5cXHRcXHRcXHRcXG5cXHRcXHRcXHQ8ZGl2IGNsYXNzPVxcXCJtYWluLW1lbnUtbGlua3NcXFwiPlxcblxcdFxcdFxcdCAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZXZlbnRfYWRkX3VybFwiKSkge1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0PGRpdj48YSBocmVmPVxcXCJcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJldmVudF9hZGRfdXJsXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCI+XFxuXFx0XFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJBZGQgRXZlbnRcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCIgXFxuXFx0XFx0XFx0XFx0XFx0PC9hPjwvZGl2PlxcblxcdCAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImV2ZW50X2NhbGVuZGFyX3VybFwiKSkge1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0PGRpdj48YSBocmVmPVxcXCJcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJldmVudF9jYWxlbmRhcl91cmxcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxcIj5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkdvIHRvIENhbGVuZGFyXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiIFxcblxcdFxcdFxcdFxcdFxcdDwvYT48L2Rpdj5cXG5cXHQgICAgICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdDwvZGl2PlxcblxcdFxcdFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFxuXFx0PC9kaXY+XFxuPC9kaXY+XCI7XG5pZihwYXJlbnRUZW1wbGF0ZSkge1xucGFyZW50VGVtcGxhdGUucm9vdFJlbmRlckZ1bmMoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpO1xufSBlbHNlIHtcbmNiKG51bGwsIG91dHB1dCk7XG59XG59KX0pO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbnJldHVybiB7XG5yb290OiByb290XG59O1xuXG59KSgpO1xufSkoKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gc2hpbShudW5qdWNrcywgZW52LCBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkW1wiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC9uYXZiYXIvbWFpbi1tZW51Lmh0bWxcIl0gLCBkZXBlbmRlbmNpZXMpXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL25hdmJhci9tYWluLW1lbnUuaHRtbFxuLy8gbW9kdWxlIGlkID0gNTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRGVsZWdhdGVkV2lkZ2V0VmlldyA9IHJlcXVpcmUoJ3ZpZXdzL2Jhc2UvZGVsZWdhdGVkLXdpZGdldC12aWV3Jyk7XG52YXIgdXRpbCA9IHJlcXVpcmUoJ2xpYi91dGlsJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gRGVsZWdhdGVkV2lkZ2V0Vmlldy5leHRlbmQoe1xuXG5cdGFwcDogbnVsbCxcbiAgICB0ZW1wbGF0ZTogcmVxdWlyZSgnbmF2YmFyL25vdGlmaWNhdGlvbi13aWRnZXQnKSxcbiAgICBcbiAgICBmZXRjaFVSTDogJy9wcm9maWxlL2FwaS9hbGVydHMvZ2V0LycsIC8vIG92ZXJyaWRkZW4gZm9yIHN1YnZpZXdcbiAgICBcbiAgICAvLyB0aGUgbm90aWZpY2F0aW9uLXNob3cgYnV0dG9uIGluIHRoZSBuYXZiYXJcbiAgICAkbm90aWZpY2F0aW9uQnV0dG9uRWw6IG51bGwsXG4gICAgXG4gICAgLy8gdGhlIG1lc3NhZ2VzLXNob3cgYnV0dG9uIGluIHRoZSBuYXZiYXJcbiAgICAkbWVzc2FnZXNCdXR0b25FbDogbnVsbCxcbiAgICBcbiAgICAvLyB0aGUgc2V0VGltZW91dCBvYmplY3Rcblx0cG9sbEludGVydmFsT2JqOiBudWxsLFxuXHRcbiAgICAvLyB3aWxsIGJlIHNldCB0byBzZWxmLm9wdGlvbnMgZHVyaW5nIGluaXRpYWxpemF0aW9uXG4gICAgZGVmYXVsdHM6IHtcbiAgICBcdFxuICAgIFx0dHlwZTogbnVsbCwgLy8gdGhlIHR5cGUgb2YgdGhlIGNvbnRlbnQgdGhlIHdpZGdldCBkaXNwbGF5c1xuICAgIFx0bG9hZE1vcmVFbmFibGVkOiB0cnVlLCAvLyB3aWRnZXQgdGVtcGxhdGUgb3B0aW9uc1xuICAgIFx0XG4gICAgXHRwb2xsSW50ZXJ2YWw6IDYwMDAwLCAvLyBwb2xsaW5nIGludGVydmFsIGluIG1zXG4gICAgXHRcbiAgICBcdC8vIGZvciByZXN1bWVkIGNvbm5lY3Rpb25zLCBhZnRlciBob3cgbWludXRlcyBvZiAqbm90IGhhdmluZyBwb2xsZWQqLFxuICAgIFx0Ly8gd2lsbCB0aGUgZW50aXJlIHdpZGdldCBiZSByZWxvYWRlZCBpbnN0ZWFkIG9mIHBvbGxpbmcgbmV3IGRhdGEgXG4gICAgXHRwb2xsUmVzZXRNaW51dGVzOiA2MCwgLy8gcmVzZXQgaW50ZXJ2YWwgaW4gbWludXRlc1xuICAgICAgICBcbiAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgICAgIG5ld2VzdFRpbWVzdGFtcDogbnVsbCxcbiAgICAgICAgICAgIHVuc2VlbkNvdW50OiAwLFxuICAgICAgICAgICAgaGFzVW5yZW5kZXJlZEl0ZW1zOiB0cnVlLFxuICAgICAgICAgICAgbGFzdFBvbGxEYXRlOiBudWxsLFxuICAgICAgICAgICAgb3JpZ2luYWxQYWdlVGl0bGU6IG51bGwsXG4gICAgICAgIH1cbiAgICB9LFxuICAgIFxuICAgIC8vIFRoZSBET00gZXZlbnRzIHNwZWNpZmljIHRvIGFuIGl0ZW0uXG4gICAgZXZlbnRzOiB7XG4gICAgXHQnY2xpY2sgLnNob3ctbW9yZSc6ICdvblNob3dNb3JlQ2xpY2tlZCcsXG4gICAgfSxcbiAgICBcbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbiAob3B0aW9ucywgYXBwKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgc2VsZi5hcHAgPSBhcHA7XG4gICAgICAgIERlbGVnYXRlZFdpZGdldFZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbChzZWxmLCBvcHRpb25zKTtcbiAgICAgICAgc2VsZi5vcHRpb25zLnR5cGUgPSBvcHRpb25zLnR5cGU7IC8vIHdvdWxkIGhhdmUgaGFwcGVuZWQgaW4gaW5pdGlhbGl6ZSBhbHJlYWR5IGJ1dCBsZXQncyBiZSBleHBsaWNpdFxuICAgICAgICBcbiAgICAgICAgc2VsZi4kbm90aWZpY2F0aW9uQnV0dG9uRWwgPSAkKCcjbmF2YmFyLW5vdGlmaWNhdGlvbnMtYnV0dG9uJyk7XG4gICAgICAgIHNlbGYuJG1lc3NhZ2VzQnV0dG9uRWwgPSAkKCcjbmF2YmFyLW1lc3NhZ2VzLWJ1dHRvbicpO1xuICAgICAgICBcbiAgICAgICAgLy8gZXZlbnRzIHRoYXQgaGF2ZSB0byBiZSBkZWZpbmVkIGhlcmUgYmVjYXVzZSB0aGV5IGhhcHBlbiBpbiB0aGUgbm90aWZpY2F0aW9uIGJ1dHRvbjpcbiAgICAgICAgc2VsZi4kbm90aWZpY2F0aW9uQnV0dG9uRWwub24oJ2NsaWNrJywgc2VsZi50aGlzQ29udGV4dChzZWxmLm9uTm90aWZpY2F0aW9uQnV0dG9uQ2xpY2tlZCkpO1xuICAgICAgICBcbiAgICAgICAgc2VsZi5zdGF0ZS5vcmlnaW5hbFBhZ2VUaXRsZSA9IGRvY3VtZW50LnRpdGxlO1xuICAgIH0sXG4gICAgXG4gICAgLyoqIE92ZXJyaWRpbmcgYmFzZSBmdW5jdGlvbiBmb3IgdW5pcXVlIHdpZGdldCBJRC4gKi9cbiAgICBnZXRXaWRnZXRJZDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAnbm90aWZpY2F0aW9uLXdpZGdldCc7XG4gICAgfSxcbiAgICBcbiAgICAvKiogT3ZlcnJpZGluZyBwYXJhbXMgZm9yIHJlcXVlc3QgKi9cbiAgICBnZXRQYXJhbXNGb3JGZXRjaFJlcXVlc3Q6IGZ1bmN0aW9uKGxvYWRPcHRpb25zKSB7XG4gICAgXHR2YXIgc2VsZiA9IHRoaXM7XG4gICAgXHRpZiAodHlwZW9mIGxvYWRPcHRpb25zICE9PSBcInVuZGVmaW5lZFwiICYmIGxvYWRPcHRpb25zLmlzUG9sbCA9PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybFN1ZmZpeDogc2VsZi5zdGF0ZS5uZXdlc3RUaW1lc3RhbXAsXG4gICAgICAgICAgICAgICAgdXJsUGFyYW1zOiBudWxsXG4gICAgICAgICAgICB9O1xuICAgIFx0fVxuICAgIFx0dmFyIHVybFBhcmFtcyA9IG51bGw7XG4gICAgICAgIGlmIChzZWxmLm9wdGlvbnMubG9hZE1vcmVFbmFibGVkICYmIHNlbGYuc3RhdGUub2Zmc2V0VGltZXN0YW1wKSB7XG4gICAgICAgICAgICB1cmxQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgJ29mZnNldF90aW1lc3RhbXAnOiBzZWxmLnN0YXRlLm9mZnNldFRpbWVzdGFtcCxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdXJsU3VmZml4OiBudWxsLFxuICAgICAgICAgICAgdXJsUGFyYW1zOiB1cmxQYXJhbXMsXG4gICAgICAgIH1cbiAgICB9LFxuICAgIFxuICAgIC8qKiBIYW5kbGVzIGRhdGEgdGhhdCBoYXMgYmVlbiBsb2FkZWQuXG4gICAgICAgIFdlIGFyZSAqbm90KiBjYWxsaW5nIHN1cGVyKCkgaGVyZSEgKi9cbiAgICBoYW5kbGVEYXRhOiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB2YXIgZGF0YSA9IHJlc3BvbnNlWydkYXRhJ107XG4gICAgICAgIFxuICAgICAgICBpZiAoZGF0YS5wb2xsZWRfdGltZXN0YW1wKSB7XG4gICAgICAgICAgICAvLyB3YXMgYSBwb2xsIHF1ZXJ5LiBwcmVwZW5kIG5ldyBpdGVtcyBiZWZvcmUgZXhpc3RpbmcgaXRlbXNcbiAgICAgICAgICAgIGlmIChkYXRhWydpdGVtcyddLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBzZWxmLmFkZE5ld2VySXRlbXMoZGF0YVsnaXRlbXMnXSk7XG4gICAgICAgICAgICAgICAgc2VsZi5zdGF0ZS5oYXNVbnJlbmRlcmVkSXRlbXMgPSB0cnVlOyAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChzZWxmLnN0YXRlLm9mZnNldFRpbWVzdGFtcCkge1xuICAgICAgICAgICAgLy8gd2FzIGEgbG9hZC1tb3JlIHF1ZXJ5LiBhcHBlbmQgbmV3IGl0ZW1zIHRvIGV4aXN0aW5nIGl0ZW1zXG4gICAgICAgICAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShzZWxmLndpZGdldERhdGFbJ2l0ZW1zJ10sIGRhdGFbJ2l0ZW1zJ10pO1xuICAgICAgICAgICAgLy8gYWx3YXlzIHNldCB0cnVlLCBzbyB3ZSByZS1yZW5kZXIgYWx3YXlzIChtYWtlIHRoZSBsb2FkLW1vcmUgYnV0dG9uIGRpc2FwcGVhciBvbiAwIG5ldyBpdGVtcykgXG4gICAgICAgICAgICBzZWxmLnN0YXRlLmhhc1VucmVuZGVyZWRJdGVtcyA9IHRydWU7IFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gZmlyc3QgZGF0YSBsb2FkIHF1ZXJ5LCBzZXQgZGF0YSBhbmQgaW5pdCBwb2xsaW5nXG4gICAgICAgICAgICBzZWxmLndpZGdldERhdGEgPSBkYXRhO1xuICAgICAgICAgICAgc2VsZi5zdGF0ZS5oYXNVbnJlbmRlcmVkSXRlbXMgPSB0cnVlO1xuICAgICAgICAgICAgc2VsZi5pbml0UG9sbCgpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoIWRhdGEucG9sbGVkX3RpbWVzdGFtcCAmJiBzZWxmLm9wdGlvbnMubG9hZE1vcmVFbmFibGVkKSB7XG4gICAgICAgICAgICBpZiAoJ2hhc19tb3JlJyBpbiBkYXRhKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5zdGF0ZS5oYXNNb3JlID0gZGF0YVsnaGFzX21vcmUnXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgnb2Zmc2V0X3RpbWVzdGFtcCcgaW4gZGF0YSAmJiBkYXRhWydvZmZzZXRfdGltZXN0YW1wJ10pIHtcbiAgICAgICAgICAgICAgICBzZWxmLnN0YXRlLm9mZnNldFRpbWVzdGFtcCA9IGRhdGFbJ29mZnNldF90aW1lc3RhbXAnXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gaWYgZ2l2ZW4sIHNldCB0aGUgdGltZXN0YW1wIG9mIHRoZSBuZXdlc3QgaXRlbSwgZnJvbSB3aGljaCBvbiB3ZSB3aWxsIHBvbGxcbiAgICAgICAgaWYgKGRhdGFbJ25ld2VzdF90aW1lc3RhbXAnXSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhWyduZXdlc3RfdGltZXN0YW1wJ10pIHtcbiAgICAgICAgICAgIHNlbGYuc3RhdGUubmV3ZXN0VGltZXN0YW1wID0gZGF0YVsnbmV3ZXN0X3RpbWVzdGFtcCddO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb3VudGVyTnVtYmVycyA9IGZhbHNlO1xuICAgICAgICBpZiAoZGF0YVsndW5zZWVuX2NvdW50J10gIT09IFwidW5kZWZpbmVkXCIgJiYgZGF0YVsndW5zZWVuX2NvdW50J10gPj0gMCkge1xuICAgICAgICAgICAgc2VsZi5zdGF0ZS51bnNlZW5Db3VudCA9IGRhdGFbJ3Vuc2Vlbl9jb3VudCddO1xuICAgICAgICAgICAgY291bnRlck51bWJlcnMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhWyd1bnJlYWRfbWVzc2FnZXNfY291bnQnXSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhWyd1bnJlYWRfbWVzc2FnZXNfY291bnQnXSA+PSAwKSB7XG4gICAgICAgICAgICBzZWxmLnN0YXRlLnVucmVhZE1lc3NhZ2VzQ291bnQgPSBkYXRhWyd1bnJlYWRfbWVzc2FnZXNfY291bnQnXTtcbiAgICAgICAgICAgIGNvdW50ZXJOdW1iZXJzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY291bnRlck51bWJlcnMgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgc2VsZi5hZnRlclJlbmRlcigpO1xuICAgICAgICAgICAgc2VsZi51cGRhdGVQYWdlVGl0bGUoKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgXG4gICAgLyoqIFByZXBlbmRzIHRoZSBnaXZlbiBpdGVtcyB0byB0aGUgZXhpc3RpbmcgaXRlbXMsIGVnLiBhZnRlciBhIHBvbGwgZXZlbnQuXG4gICAgICAgIFRoaXMgd2lsbCByZW1vdmUgYW55IGV4aXN0aW5nIGl0ZW1zIHdpdGggdGhlIHNhbWUgaWQgYXMgYW55IG9mIHRoZSBuZXcgaXRlbXNcbiAgICAgICAgKGluIHRoaXMgY2FzZSB0aGV5IHdlcmUgcmVmcmVzaGVkIG9uIHRoZSBzZXJ2ZXIpICovXG4gICAgYWRkTmV3ZXJJdGVtczogZnVuY3Rpb24gKGl0ZW1zKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIG9sZEl0ZW1zID0gc2VsZi53aWRnZXREYXRhWydpdGVtcyddO1xuICAgICAgICAvLyByZW1vdmUgc2FtZS1pZCBvbGQgaXRlbXNcbiAgICAgICAgZm9yICh2YXIgaT1vbGRJdGVtcy5sZW5ndGgtMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIHZhciBvbGRJdGVtSWQgPSBvbGRJdGVtc1tpXS5pZDtcbiAgICAgICAgICAgIHZhciBjb250YWluZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGZvciAodmFyIGo9MDsgaiA8IGl0ZW1zLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW1zW2pdLmlkID09IG9sZEl0ZW1JZCkge1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29udGFpbmVkKSB7XG4gICAgICAgICAgICAgICAgb2xkSXRlbXMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgfSAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGl0ZW1zLCBvbGRJdGVtcylcbiAgICAgICAgc2VsZi53aWRnZXREYXRhWydpdGVtcyddID0gaXRlbXM7XG4gICAgfSxcbiAgICBcbiAgICAvKiogSW5pdGlhbGl6ZSBwb2xsaW5nICovXG4gICAgaW5pdFBvbGw6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBpZiAoc2VsZi5wb2xsSW50ZXJ2YWxPYmogPT0gbnVsbCkge1xuICAgICAgICAgICAgc2VsZi5wb2xsSW50ZXJ2YWxPYmogPSBzZXRUaW1lb3V0KHNlbGYudGhpc0NvbnRleHQoc2VsZi5wb2xsRnVuY3Rpb24pLCBzZWxmLm9wdGlvbnMucG9sbEludGVydmFsKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgXG4gICAgLyoqIFRhcmdldCBpbnRlcnZhbCBmdW5jdGlvbiBmb3IgZWFjaCBwb2xsICovXG4gICAgcG9sbEZ1bmN0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIHJlbG9hZCA9IGZhbHNlO1xuICAgICAgICAvLyBmaW5kIG91dCBpZiB0aGlzIHdpbmRvdyBoYXMgYmVlbiBhIGxvbmcgdGltZSBzaW5jZSBsYXN0IHBvbGwsXG4gICAgICAgIC8vIGFuZCBpZiBzbywgcmVsb2FkIHRoZSB3aWRnZXQgaW5zdGVhZCBvZiBwb2xsaW5nXG4gICAgICAgIGlmIChzZWxmLnN0YXRlLmxhc3RQb2xsRGF0ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIGRpZmYgPSBNYXRoLmFicyhzZWxmLnN0YXRlLmxhc3RQb2xsRGF0ZSAtIG5ldyBEYXRlKCkpO1xuICAgICAgICAgICAgdmFyIG1pbnV0ZXMgPSBNYXRoLmZsb29yKChkaWZmLzEwMDApLzYwKTtcbiAgICAgICAgICAgIHJlbG9hZCA9IG1pbnV0ZXMgPj0gc2VsZi5vcHRpb25zLnBvbGxSZXNldE1pbnV0ZXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlbG9hZCkge1xuICAgICAgICAgICAgc2VsZi5yZWxvYWRXaWRnZXQoKTsgIFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gcmV0cmlldmUgbmV3IGl0ZW1zLiBpZiBhbnksIHNlbGYuaGFuZGxlRGF0YSgpIHdpbGwgaGFuZGxlIHRoZSBwb2xsIGRpZmZlcmVudGx5XG4gICAgICAgICAgICBzZWxmLmxvYWQoe1xuICAgICAgICAgICAgICAgICdpc1BvbGwnOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNlbGYuc3RhdGUubGFzdFBvbGxEYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgIC8vIHJlbmV3IHBvbGxcbiAgICAgICAgICAgIHNlbGYucG9sbEludGVydmFsT2JqID0gc2V0VGltZW91dChzZWxmLnRoaXNDb250ZXh0KHNlbGYucG9sbEZ1bmN0aW9uKSwgc2VsZi5vcHRpb25zLnBvbGxJbnRlcnZhbCk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIFxuICAgIC8qKiBTdG9wcyBwb2xsaW5nICovXG4gICAgc3RvcFBvbGw6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBjbGVhclRpbWVvdXQoc2VsZi5wb2xsSW50ZXJ2YWxPYmopO1xuICAgICAgICBzZWxmLnBvbGxJbnRlcnZhbE9iaiA9IG51bGw7XG4gICAgfSxcbiAgICBcbiAgICAvKiogUmVsb2FkcyB0aGUgZW50aXJlIHdpZGdldCBhbmV3LCB3aXRoIGZyZXNoIGRhdGEgKi9cbiAgICByZWxvYWRXaWRnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBzZWxmLnN0b3BQb2xsKCk7XG4gICAgICAgIHNlbGYuc3RhdGUub2Zmc2V0VGltZXN0YW1wID0gbnVsbDsgIFxuICAgICAgICBzZWxmLnN0YXRlLm5ld2VzdFRpbWVzdGFtcCA9IG51bGw7XG4gICAgICAgIHNlbGYuc3RhdGUudW5zZWVuQ291bnQgPSAwO1xuICAgICAgICBzZWxmLnN0YXRlLnVucmVhZE1lc3NhZ2VzQ291bnQgPSAwO1xuICAgICAgICBzZWxmLnN0YXRlLmxhc3RQb2xsRGF0ZSA9IG51bGw7XG4gICAgICAgIHNlbGYubG9hZCgpO1xuICAgIH0sXG4gICAgXG4gICAgcmVuZGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgXG4gICAgICAgIC8vIG9ubHkgcmVuZGVyIGl0ZW1zIGlmIHdlIGhhdmUgdW5yZW5kZXJlZCBpdGVtcyAoaWUuIG5vdCBvbiBhIHBvbGwgd2l0aCAwIG5ldyBpdGVtcylcbiAgICAgICAgaWYgKHNlbGYuc3RhdGUuaGFzVW5yZW5kZXJlZEl0ZW1zKSB7XG4gICAgICAgICAgICBzZWxmLnN0YXRlLmhhc1VucmVuZGVyZWRJdGVtcyA9IGZhbHNlO1xuICAgICAgICAgICAgRGVsZWdhdGVkV2lkZ2V0Vmlldy5wcm90b3R5cGUucmVuZGVyLmNhbGwoc2VsZik7XG4gICAgICAgICAgICB1dGlsLmxvZygnIyAjIyBSZW5kZXJlZCBub3RpZmljYXRpb24gd2lkZ2V0ICcgKyBzZWxmLndpZGdldElkKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBwaWdneWJhY2tpbmcgb24gdGhpcyBwb2xsLCB3ZSByZWZyZXNoIHRoZSBtb21lbnQgZGF0ZXMgb24gdGhlIGVudGlyZSBwYWdlIVxuICAgICAgICAkLmNvc2lubnVzLnJlbmRlck1vbWVudERhdGFEYXRlKCk7XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG4gICAgXG4gICAgYWZ0ZXJSZW5kZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAvLyB1cGRhdGUgb3V0LW9mLWZyYW1lIGVsZW1lbnRzXG4gICAgICAgIGlmIChzZWxmLnN0YXRlLnVuc2VlbkNvdW50ICYmIHNlbGYuc3RhdGUudW5zZWVuQ291bnQgPiAwKSB7XG4gICAgICAgICAgICBzZWxmLiRub3RpZmljYXRpb25CdXR0b25FbC5maW5kKCcubWVzc2FnZS1jb3VudGVyJykudGV4dChzZWxmLnN0YXRlLnVuc2VlbkNvdW50KS5zaG93KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZWxmLiRub3RpZmljYXRpb25CdXR0b25FbC5maW5kKCcubWVzc2FnZS1jb3VudGVyJykuaGlkZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZWxmLnN0YXRlLnVucmVhZE1lc3NhZ2VzQ291bnQgJiYgc2VsZi5zdGF0ZS51bnJlYWRNZXNzYWdlc0NvdW50ID4gMCkge1xuICAgICAgICAgICAgc2VsZi4kbWVzc2FnZXNCdXR0b25FbC5maW5kKCcubWVzc2FnZS1jb3VudGVyJykudGV4dChzZWxmLnN0YXRlLnVucmVhZE1lc3NhZ2VzQ291bnQpLnNob3coKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlbGYuJG1lc3NhZ2VzQnV0dG9uRWwuZmluZCgnLm1lc3NhZ2UtY291bnRlcicpLmhpZGUoKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgXG4gICAgLyoqIEV4dGVuZCB0aGUgdGVtcGxhdGUgZGF0YSBieSB0aGUgY29udHJvbFZpZXcncyBvcHRpb25zIGFuZCBzdGF0ZSAqL1xuICAgIGdldFRlbXBsYXRlRGF0YTogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBkYXRhID0gRGVsZWdhdGVkV2lkZ2V0Vmlldy5wcm90b3R5cGUuZ2V0VGVtcGxhdGVEYXRhLmNhbGwoc2VsZik7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH0sXG4gICAgXG4gICAgLyoqIEZpcmVkIHdoZW4gdGhlIG5hdmJhciBub3RpZmljYXRpb24gYnV0dG9uIGlzIGNsaWNrZWQgKi9cbiAgICBvbk5vdGlmaWNhdGlvbkJ1dHRvbkNsaWNrZWQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLiRub3RpZmljYXRpb25CdXR0b25FbC5oYXNDbGFzcygnY29sbGFwc2VkJykpIHtcbiAgICAgICAgICAgIC8vIGZpcmVkIG9ubHkgd2hlbiB0aGUgbWVudSBpcyBvcGVuZWRcbiAgICAgICAgICAgIGlmIChzZWxmLnN0YXRlLm5ld2VzdFRpbWVzdGFtcCkge1xuICAgICAgICAgICAgICAgIHNlbGYubWFya1NlZW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBcbiAgICB9LFxuICAgIFxuICAgIC8qKiBQb3N0cyB0byB0aGUgc2VydmVyLCBzZXRzIGFsbCBhbGVydHMgb2xkZXIgdGhhbiB0aGUgbmV3ZXN0IGRpc3BsYXllZCBhcyBzZWVuIG9uIHRoZSBzZXJ2ZXIgKi9cbiAgICBtYXJrU2VlbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIHVybCA9ICcvcHJvZmlsZS9hcGkvYWxlcnRzL21hcmtzZWVuLycgKyBzZWxmLnN0YXRlLm5ld2VzdFRpbWVzdGFtcCArICcvJztcbiAgICAgICAgJC5hamF4KHVybCwge1xuICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgdGltZW91dDogMTUwMDAsXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UsIHRleHRTdGF0dXMsIHhocikge1xuICAgICAgICAgICAgICAgIHNlbGYubWFya1NlZW5Mb2NhbCgpO1xuICAgICAgICAgICAgICAgIHV0aWwubG9nKCdTdWNjZXNzZnVsbHkgbWFya2VkIGFzIHNlZW4hJyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIHRleHRTdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAvLyBtYXJraW5nIHNlZW4gZXZlbiBpZiBpdCB3YXNuJ3QgcGVyc2lzdGVkIChldmVuIG1vcmUgYW5ub3lpbmcgaWYgbm90KVxuICAgICAgICAgICAgICAgIHNlbGYubWFya1NlZW5Mb2NhbCgpOyBcbiAgICAgICAgICAgICAgICB1dGlsLmxvZygnRXJyb3IgZHVyaW5nIG1hcmtpbmcgYXMgc2VlbiEnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKiBSZW1vdmVzIHRoZSBub3RpZmljYXRpb24gYnV0dG9uIHVuc2VlbiBudW1iZXIgYmFkZ2UsIGluIGxvY2FsIGZyb250ZW5kIG9ubHkuICovICAgIFxuICAgIG1hcmtTZWVuTG9jYWw6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7ICBcbiAgICAgICAgc2VsZi5zdGF0ZS51bnNlZW5Db3VudCA9IDA7XG4gICAgICAgIHNlbGYuYWZ0ZXJSZW5kZXIoKTtcbiAgICAgICAgc2VsZi51cGRhdGVQYWdlVGl0bGUoKTtcbiAgICB9LFxuICAgIFxuICAgIC8qKiBVcGRhdGVzIHRoZSBwYWdlIHRpdGxlIGJ5IHByZWZpeGluZyBhICgzKSB1bnJlYWQgY291bnRlciB0byBpdCAqL1xuICAgIHVwZGF0ZVBhZ2VUaXRsZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIHVuc2VlblByZWZpeCA9ICcnO1xuICAgICAgICB2YXIgdG90YWxDb3VudCA9IHNlbGYuc3RhdGUudW5zZWVuQ291bnQgKyBzZWxmLnN0YXRlLnVucmVhZE1lc3NhZ2VzQ291bnQ7XG4gICAgICAgIFxuICAgICAgICBpZiAodG90YWxDb3VudCA+IDApIHtcbiAgICAgICAgICAgIHVuc2VlblByZWZpeCA9ICcoJyArIHRvdGFsQ291bnQgKyAnKSAnO1xuICAgICAgICB9XG4gICAgICAgIGRvY3VtZW50LnRpdGxlID0gdW5zZWVuUHJlZml4ICsgc2VsZi5zdGF0ZS5vcmlnaW5hbFBhZ2VUaXRsZTsgIFxuICAgIH0sXG5cbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy9jbGllbnQvdmlld3MvbmF2YmFyL25vdGlmaWNhdGlvbi13aWRnZXQtdmlldy5qc1xuLy8gbW9kdWxlIGlkID0gNTNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgQmFzZVZpZXcgPSByZXF1aXJlKCd2aWV3cy9iYXNlL3ZpZXcnKTtcbnZhciB1dGlsID0gcmVxdWlyZSgnbGliL3V0aWwnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBCYXNlVmlldy5leHRlbmQoe1xuICAgIFxuICAgIC8vIHJlZmVyZW5jZSBiYWNrIHRvIHRoZSBtYWluIEFwcFxuICAgIEFwcDogbnVsbCxcbiAgICBcbiAgICBmZXRjaFVSTDogbnVsbCwgLy8gdG8gYmUgb3ZlcnJpZGRlbiBpbiBzdWJjbGFzc1xuXG4gICAgd2lkZ2V0SWQ6IG51bGwsIC8vIHNldCBhdCBpbml0aWFsaXphdGlvblxuICAgIHdpZGdldERhdGE6IHt9LFxuICAgIFxuICAgIC8vIHdpbGwgYmUgc2V0IHRvIHNlbGYub3B0aW9ucyBkdXJpbmcgaW5pdGlhbGl6YXRpb25cbiAgICBkZWZhdWx0czoge1xuICAgIFx0XG4gICAgXHRpc01vdmFibGU6IGZhbHNlLCAvLyB3aWRnZXQgdGVtcGxhdGUgb3B0aW9uc1xuICAgIFx0aXNIaWRhYmxlOiBmYWxzZSwgLy8gd2lkZ2V0IHRlbXBsYXRlIG9wdGlvbnNcbiAgICBcdGxvYWRNb3JlRW5hYmxlZDogZmFsc2UsIC8vIHdpZGdldCB0ZW1wbGF0ZSBvcHRpb25zXG4gICAgXHRcbiAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgXHRzb3J0SW5kZXg6IDAsXG4gICAgICAgIFx0aGFzTW9yZTogZmFsc2UsXG4gICAgXHRcdG9mZnNldFRpbWVzdGFtcDogbnVsbCxcbiAgICAgICAgfVxuICAgIH0sXG4gICAgXG4gICAgLy8gWW91IHdpbGwgbmVlZCB0byBhZGQgdGhlc2UgZXZlbnRzIHRvIGV4dGVuZGluZyB3aWRnZXQgdmlld3MgYXMgd2VsbCFcbiAgICBldmVudHM6IHtcbiAgICBcdCdjbGljayAuc2hvdy1tb3JlJzogJ29uU2hvd01vcmVDbGlja2VkJyxcbiAgICB9LFxuXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gKG9wdGlvbnMsIGFwcCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHNlbGYuYXBwID0gYXBwO1xuICAgICAgICBCYXNlVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHNlbGYsIG9wdGlvbnMpO1xuICAgICAgICBzZWxmLndpZGdldElkID0gc2VsZi5nZXRXaWRnZXRJZCgpO1xuICAgIH0sXG4gICAgXG4gICAgLyoqIFxuICAgICAqIFNldCB0aGUgdW5pcXVlIHdpZGdldCBJRCBmb3IgdGhpcyB3aWRnZXQuXG4gICAgICogU3R1YiB0byBiZSBvdmVycmlkZGVuLiBcbiAgICAgKiAgKi9cbiAgICBnZXRXaWRnZXRJZDogZnVuY3Rpb24oKSB7XG4gICAgXHRhbGVydCgnSW1wcm9wZXJseUltcGxlbWVudGVkOiB0aGlzIHZpZXcgbXVzdCBpbXBsZW1lbnQgdGhlIGZ1bmN0aW9uIFwic2V0V2lkZ2V0SWRcIiEnKTtcbiAgICB9LFxuICAgIFxuICAgIC8qKiBcbiAgICAgKiAgR2V0IGFsbCBwYXJhbXMgcmVxdWlyZWQgZm9yIHRoZSBmZXRjaCBvZiB3aWRnZXQgZGF0YSB0byB0aGUgVVJMIGBzZWxmLmZldGNoVVJMYFxuICAgICAqICBTdHViIHRvIGJlIG92ZXJyaWRkZW4uXG4gICAgICogICovXG4gICAgZ2V0UGFyYW1zRm9yRmV0Y2hSZXF1ZXN0OiBmdW5jdGlvbigpIHtcbiAgICBcdHZhciBzZWxmID0gdGhpcztcbiAgICBcdHZhciB1cmxQYXJhbXMgPSB7fTtcbiAgICBcdGlmIChzZWxmLm9wdGlvbnMubG9hZE1vcmVFbmFibGVkICYmIHNlbGYuc3RhdGUub2Zmc2V0VGltZXN0YW1wKSB7XG4gICAgXHRcdHVybFBhcmFtcyA9IHtcblx0XHRcdFx0J29mZnNldF90aW1lc3RhbXAnOiBzZWxmLnN0YXRlLm9mZnNldFRpbWVzdGFtcCxcblx0XHRcdFx0J3BhZ2Vfc2l6ZSc6IDUsXG4gICAgXHRcdH1cbiAgICBcdH1cbiAgICBcdHJldHVybiB7XG4gICAgXHRcdHVybFN1ZmZpeDogbnVsbCxcbiAgICBcdFx0dXJsUGFyYW1zOiB1cmxQYXJhbXMsXG4gICAgXHR9XG4gICAgfSxcbiAgICAgICBcbiAgICAvKipcbiAgICAgKiBMb2FkcyB0aGUgY29udGVudHMgZm9yIHRoaXMgd2lkZ2V0IGZyb20gYHNlbGYuZmV0Y2hVcmxgLCBzZXRzIHRoZW0gYXMgZGF0YSBmb3IgdGhpcyB2aWV3IGFuZFxuICAgICAqIHJlbmRlcnMgdGhlIHdpZGdldC5cbiAgICAgKiBcbiAgICAgKiBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCByZXNvbHZlcyBhZnRlciB0aGUgY2hhaW4gY29tcGxldGVzIG9yIGFuIGVycm9yIG9jY3VyZWQgXG4gICAgICogKHRoZSB3aWRnZXQgc2hvd3MgYW4gZXJyb3IgbWVzc2FnZSB0aGVuKS4gTmV2ZXIgcmVqZWN0cy5cbiAgICAgKi9cbiAgICBsb2FkOiBmdW5jdGlvbihsb2FkT3B0aW9ucykge1xuICAgIFx0dmFyIHNlbGYgPSB0aGlzO1xuICAgIFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIFx0XHRzZWxmLmxvYWREYXRhKGxvYWRPcHRpb25zKVxuXHQgICAgXHRcdC50aGVuKHNlbGYudGhpc0NvbnRleHQoc2VsZi5yZW5kZXIpKVxuXHQgICAgXHRcdC50aGVuKGZ1bmN0aW9uKCl7XG5cdCAgICBcdFx0XHR1dGlsLmxvZygnIyAjIyMgbG9hZGVkIGFuZCByZXNvbHZpbmcgd2lkZ2V0ICcgKyBzZWxmLndpZGdldElkKTtcblx0ICAgIFx0XHRcdHJlc29sdmUoKTtcblx0ICAgIFx0XHR9KTtcbiAgICBcdH0pO1xuICAgIH0sXG4gICAgXG4gICAgbG9hZERhdGE6IGZ1bmN0aW9uKGxvYWRPcHRpb25zKSB7XG4gICAgXHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXHRcdFx0c2VsZi5zdGF0ZVsnaGFkRXJyb3JzJ10gPSBmYWxzZTtcblx0XHRcdHNlbGYuc3RhdGVbJ2Vycm9yUmVzcG9uc2VUZXh0J10gPSBudWxsO1xuXHRcdFx0XG5cdFx0XHQvLyBidWlsZCBVUkxcblx0XHRcdHZhciBwYXJhbXMgPSBzZWxmLmdldFBhcmFtc0ZvckZldGNoUmVxdWVzdChsb2FkT3B0aW9ucyk7XG5cdFx0XHR2YXIgdXJsID0gc2VsZi5mZXRjaFVSTCArIChwYXJhbXMudXJsU3VmZml4ID8gcGFyYW1zLnVybFN1ZmZpeCArICcvJyA6ICcnKTtcblx0XHRcdGlmIChwYXJhbXMudXJsUGFyYW1zKSB7XG5cdFx0XHRcdHVybCArPSAnPycgKyAkLnBhcmFtKHBhcmFtcy51cmxQYXJhbXMpO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHQkLmFqYXgodXJsLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlLCB0ZXh0U3RhdHVzLCB4aHIpIHtcbiAgICAgICAgICAgICAgICAgICAgdXRpbC5sb2coJyMgIyBGZXRjaGVkIGRhdGEgZm9yIHdpZGdldCAnICsgc2VsZi53aWRnZXRJZCk7XG4gICAgXHRcdFx0XG4gICAgICAgICAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzID09IDIwMCkge1xuICAgICAgICAgICAgICAgICAgICBcdHNlbGYuaGFuZGxlRGF0YShyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIFx0c2VsZi5zdGF0ZVsnaGFkRXJyb3JzJ10gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHhociwgdGV4dFN0YXR1cykge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnN0YXRlWydoYWRFcnJvcnMnXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc3RhdGVbJ2Vycm9yUmVzcG9uc2VUZXh0J10gPSB4aHIucmVzcG9uc2VUZXh0O1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICh4aHIsIHRleHRTdGF0dXMpIHtcbiAgICAgICAgICAgICAgICBcdHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICBcdH0pO1xuICAgIH0sXG4gICAgXG4gICAgLyoqIEhhbmRsZXMgZGF0YSB0aGF0IGhhcyBiZWVuIGxvYWRlZCAqL1xuICAgIGhhbmRsZURhdGE6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgIFx0dmFyIHNlbGYgPSB0aGlzO1xuICAgIFx0dmFyIGRhdGEgPSByZXNwb25zZVsnZGF0YSddO1xuICAgIFx0XG4gICAgXHRpZiAoc2VsZi5zdGF0ZS5vZmZzZXRUaW1lc3RhbXApIHtcbiAgICBcdFx0Ly8gYXBwZW5kIGl0ZW0gZGF0YVxuICAgIFx0XHRBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShzZWxmLndpZGdldERhdGFbJ2l0ZW1zJ10sIGRhdGFbJ2l0ZW1zJ10pXG4gICAgXHR9IGVsc2Uge1xuICAgIFx0XHQvLyBmaXJzdCBkYXRhIGxvYWRcbiAgICBcdFx0c2VsZi53aWRnZXREYXRhID0gZGF0YTtcbiAgICBcdH1cbiAgICBcdFxuICAgIFx0aWYgKHNlbGYub3B0aW9ucy5sb2FkTW9yZUVuYWJsZWQpIHtcbiAgICBcdFx0aWYgKCdoYXNfbW9yZScgaW4gZGF0YSkge1xuICAgIFx0XHRcdHNlbGYuc3RhdGUuaGFzTW9yZSA9IGRhdGFbJ2hhc19tb3JlJ107XG4gICAgXHRcdH1cbiAgICBcdFx0aWYgKCdvZmZzZXRfdGltZXN0YW1wJyBpbiBkYXRhKSB7XG4gICAgXHRcdFx0c2VsZi5zdGF0ZS5vZmZzZXRUaW1lc3RhbXAgPSBkYXRhWydvZmZzZXRfdGltZXN0YW1wJ107XG4gICAgXHRcdH1cbiAgICBcdH1cbiAgICB9LFxuICAgIFxuICAgIC8qKiBMb2FkIG1vcmUgaXRlbXMgKi9cbiAgICBvblNob3dNb3JlQ2xpY2tlZDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgXHR0aGlzLmxvYWQoKS50aGVuKGZ1bmN0aW9uKCl7XG4gICAgXHRcdCQuY29zaW5udXMucmVuZGVyTW9tZW50RGF0YURhdGUoKTtcbiAgICBcdH0pO1xuICAgIH0sXG4gICAgXG4gICAgLyoqXG4gICAgICogIERlZmF1bHQgaW1wbGVtZW50YXRpb24gdG8gcmV0cmlldmUgZGF0YSB0byBiZSByZW5kZXJlZC5cbiAgICAgKiAgSWYgYSBtb2RlbCBpcyBzZXQsIHJldHVybiBpdHMgYXR0cmlidXRlcyBhcyBKU09OLCBvdGhlcndpc2VcbiAgICAgKiAgYW4gZW1wdHkgb2JqZWN0IHdpdGggYW55IG9wdGlvbnMgYW5kIHN0YXRlIGF0dHJpYnV0ZXMgb24gdGhlIFxuICAgICAqICB2aWV3IG1peGVkIGluLlxuICAgICAqL1xuICAgIGdldFRlbXBsYXRlRGF0YTogZnVuY3Rpb24gKCkge1xuICAgIFx0dmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB2YXIgZGF0YSA9IEJhc2VWaWV3LnByb3RvdHlwZS5nZXRUZW1wbGF0ZURhdGEoc2VsZik7XG4gICAgICAgIHZhciBkYXRhID0gXy5leHRlbmQoXG4gICAgICAgIFx0ZGF0YSxcbiAgICAgICAgXHRzZWxmLnN0YXRlLFxuICAgICAgICBcdHNlbGYub3B0aW9ucyxcbiAgICAgICAgICAgIHNlbGYud2lkZ2V0RGF0YVxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9LFxuICAgIFxufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Nvc2lubnVzL2NsaWVudC92aWV3cy9iYXNlL2RlbGVnYXRlZC13aWRnZXQtdmlldy5qc1xuLy8gbW9kdWxlIGlkID0gNTRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIG51bmp1Y2tzID0gcmVxdWlyZShcIm51bmp1Y2tzL2Jyb3dzZXIvbnVuanVja3Mtc2xpbVwiKTtcbnZhciBlbnY7XG5pZiAoIW51bmp1Y2tzLmN1cnJlbnRFbnYpe1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52ID0gbmV3IG51bmp1Y2tzLkVudmlyb25tZW50KFtdLCB1bmRlZmluZWQpO1xufSBlbHNlIHtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudjtcbn1cbnZhciBjb25maWd1cmUgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vLi4vbnVuanVja3MuY29uZmlnLmpzXCIpKGVudik7XG52YXIgZGVwZW5kZW5jaWVzID0gbnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyB8fCAobnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyA9IHt9KTtcbmRlcGVuZGVuY2llc1tcImluY2x1ZGUvbWFjcm9zLmh0bWxcIl0gPSByZXF1aXJlKCBcImluY2x1ZGUvbWFjcm9zLmh0bWxcIiApO1xuZGVwZW5kZW5jaWVzW1wiaW5jbHVkZS9ub3RpZmljYXRpb24taXRlbS5odG1sXCJdID0gcmVxdWlyZSggXCJpbmNsdWRlL25vdGlmaWNhdGlvbi1pdGVtLmh0bWxcIiApO1xuXG5cblxuXG52YXIgc2hpbSA9IHJlcXVpcmUoXCIvaG9tZS9zYXNjaGEvcHIvY29zaW5udXMtY29yZS9ub2RlX21vZHVsZXMvbnVuanVja3MtbG9hZGVyL3J1bnRpbWUtc2hpbVwiKTtcblxuXG4oZnVuY3Rpb24oKSB7KG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgPSBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkIHx8IHt9KVtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvbmF2YmFyL25vdGlmaWNhdGlvbi13aWRnZXQuaHRtbFwiXSA9IChmdW5jdGlvbigpIHtcbmZ1bmN0aW9uIHJvb3QoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbnZhciBwYXJlbnRUZW1wbGF0ZSA9IG51bGw7XG5lbnYuZ2V0VGVtcGxhdGUoXCJpbmNsdWRlL21hY3Jvcy5odG1sXCIsIGZhbHNlLCBcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvbmF2YmFyL25vdGlmaWNhdGlvbi13aWRnZXQuaHRtbFwiLCBmYWxzZSwgZnVuY3Rpb24odF8yLHRfMSkge1xuaWYodF8yKSB7IGNiKHRfMik7IHJldHVybjsgfVxudF8xLmdldEV4cG9ydGVkKGZ1bmN0aW9uKHRfMyx0XzEpIHtcbmlmKHRfMykgeyBjYih0XzMpOyByZXR1cm47IH1cbmNvbnRleHQuc2V0VmFyaWFibGUoXCJtYWNyb3NcIiwgdF8xKTtcbm91dHB1dCArPSBcIlxcblwiO1xuZW52LmdldFRlbXBsYXRlKFwiaW5jbHVkZS9ub3RpZmljYXRpb24taXRlbS5odG1sXCIsIGZhbHNlLCBcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvbmF2YmFyL25vdGlmaWNhdGlvbi13aWRnZXQuaHRtbFwiLCBmYWxzZSwgZnVuY3Rpb24odF81LHRfNCkge1xuaWYodF81KSB7IGNiKHRfNSk7IHJldHVybjsgfVxudF80LmdldEV4cG9ydGVkKGZ1bmN0aW9uKHRfNix0XzQpIHtcbmlmKHRfNikgeyBjYih0XzYpOyByZXR1cm47IH1cbmNvbnRleHQuc2V0VmFyaWFibGUoXCJub3RpZmljYXRpb25fbWFjcm9zXCIsIHRfNCk7XG5vdXRwdXQgKz0gXCJcXG5cXG48ZGl2IGNsYXNzPVxcXCJuYXYtY29sdW1uIG5hdi1jb2x1bW4tZnVsbHdpZHRoXFxcIj5cXG4gICAgXFxuXFx0XCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImhhZEVycm9yc1wiKSkge1xub3V0cHV0ICs9IFwiXFxuXFx0ICAgIDx1bCBjbGFzcz1cXFwiaXRlbS1saXN0XFxcIj5cXG5cXHQgICAgICAgIDxsaT5cXG5cXHQgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwibGlzdC1pdGVtIGxpc3QtaXRlbS1saW5rIGxpc3QtaXRlbS1jZW50ZXIgbm8tc2VsZWN0XFxcIiBocmVmPVxcXCIjXFxcIiByb2xlPVxcXCJidXR0b25cXFwiIHRpdGxlZGJ5PVxcXCIuaXRlbS10ZXh0XFxcIj4gXFxuXFx0ICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcIml0ZW0tdGV4dFxcXCI+XFxuXFx0ICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcblxcdCAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiVGhlcmUgd2FzIGFuIGVycm9yIGxvYWRpbmcgdGhlIHdpZGdldFwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdCAgICAgICAgICAgICAgICA8L2Rpdj5cXG5cXHQgICAgICAgICAgICA8L3NwYW4+XFxuXFx0ICAgICAgICA8L2xpPlxcblxcdCAgICA8L3VsPlxcblxcdFwiO1xuO1xufVxuZWxzZSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIDxoMiBjbGFzcz1cXFwiaGVhZGxpbmUgaGVhZGxpbmUtY29uZGVuc2VkXFxcIj5cXG4gICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIk5vdGlmaWNhdGlvbnNcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIDwvaDI+XFxuICAgICAgICBcXG4gICAgICAgIDx1bCBjbGFzcz1cXFwiaXRlbS1saXN0IGl0ZW0tbGlzdC1kaXZpZGVkIGJvcmRlcmVkXFxcIj5cXG4gICAgICAgICAgICBcIjtcbmlmKGVudi5nZXRGaWx0ZXIoXCJsZW5ndGhcIikuY2FsbChjb250ZXh0LCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIml0ZW1zXCIpKSA+IDApIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbmZyYW1lID0gZnJhbWUucHVzaCgpO1xudmFyIHRfOSA9IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiaXRlbXNcIik7XG5pZih0XzkpIHt2YXIgdF84ID0gdF85Lmxlbmd0aDtcbmZvcih2YXIgdF83PTA7IHRfNyA8IHRfOS5sZW5ndGg7IHRfNysrKSB7XG52YXIgdF8xMCA9IHRfOVt0XzddO1xuZnJhbWUuc2V0KFwiaXRlbVwiLCB0XzEwKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXhcIiwgdF83ICsgMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4MFwiLCB0XzcpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleFwiLCB0XzggLSB0XzcpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleDBcIiwgdF84IC0gdF83IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmZpcnN0XCIsIHRfNyA9PT0gMCk7XG5mcmFtZS5zZXQoXCJsb29wLmxhc3RcIiwgdF83ID09PSB0XzggLSAxKTtcbmZyYW1lLnNldChcImxvb3AubGVuZ3RoXCIsIHRfOCk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSgobGluZW5vID0gMjUsIGNvbG5vID0gNTcsIHJ1bnRpbWUuY2FsbFdyYXAocnVudGltZS5tZW1iZXJMb29rdXAoKHRfNCksXCJub3RpZmljYXRpb25JdGVtXCIpLCBcIm5vdGlmaWNhdGlvbl9tYWNyb3NbXFxcIm5vdGlmaWNhdGlvbkl0ZW1cXFwiXVwiLCBjb250ZXh0LCBbcnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTApLFwidGV4dFwiKSxydW50aW1lLm1lbWJlckxvb2t1cCgodF8xMCksXCJ1cmxcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTApLFwidXNlcl9pY29uX29yX2ltYWdlX3VybFwiKSxydW50aW1lLm1ha2VLZXl3b3JkQXJncyh7XCJzdWJ0ZXh0XCI6IHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzEwKSxcImdyb3VwXCIpLFwic3VidGV4dEljb25cIjogcnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTApLFwiZ3JvdXBfaWNvblwiKSxcImFjdGlvblRpbWVcIjogcnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTApLFwiYWN0aW9uX2RhdGV0aW1lXCIpLFwiYW5ub3RhdGlvbkljb25cIjogcnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTApLFwiaXRlbV9pY29uX29yX2ltYWdlX3VybFwiKSxcImlzX2VtcGhhc2l6ZWRcIjogcnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTApLFwiaXNfZW1waGFzaXplZFwiKSxcInN1Ykl0ZW1zXCI6IHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzEwKSxcInN1Yl9pdGVtc1wiKSxcIml0ZW1JZFwiOiBydW50aW1lLm1lbWJlckxvb2t1cCgodF8xMCksXCJpZFwiKSxcIm1ha2VTYWZlXCI6IHRydWV9KV0pKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG47XG59XG59XG5mcmFtZSA9IGZyYW1lLnBvcCgpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJsb2FkTW9yZUVuYWJsZWRcIikgJiYgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJoYXNNb3JlXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIDxsaT5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz1cXFwibGlzdC1pdGVtIGxpc3QtaXRlbS1saW5rIHNob3ctbW9yZVxcXCIgcm9sZT1cXFwiYnV0dG9uXFxcIiB0aXRsZWRieT1cXFwiLml0ZW0tdGV4dFxcXCI+IFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJpdGVtLWljb24gaXRlbS1pY29uLW9mZnNldFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmFzIGZhLWZ3XFxcIj48L2k+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJpdGVtLXRleHRcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIlNob3cgbW9yZVwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2E+XFxuICAgICAgICAgICAgICAgICAgICA8L2xpPlxcbiAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgPGxpPlxcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImxpc3QtaXRlbSBsaXN0LWl0ZW0tbGluayBuby1zZWxlY3RcXFwiIGhyZWY9XFxcIiNcXFwiIHJvbGU9XFxcImJ1dHRvblxcXCIgdGl0bGVkYnk9XFxcIi5pdGVtLXRleHRcXFwiPiBcXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJpdGVtLXRleHRcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJObyBjdXJyZW50IG5vdGlmaWNhdGlvbnNcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgPC9saT5cXG4gICAgICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgPC91bD5cXG4gICAgICAgIFxcblxcdFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXFx0XFxuPC9kaXY+XFxuXCI7XG5pZihwYXJlbnRUZW1wbGF0ZSkge1xucGFyZW50VGVtcGxhdGUucm9vdFJlbmRlckZ1bmMoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpO1xufSBlbHNlIHtcbmNiKG51bGwsIG91dHB1dCk7XG59XG59KX0pfSl9KTtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5yZXR1cm4ge1xucm9vdDogcm9vdFxufTtcblxufSkoKTtcbn0pKCk7XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHNoaW0obnVuanVja3MsIGVudiwgbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZFtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvbmF2YmFyL25vdGlmaWNhdGlvbi13aWRnZXQuaHRtbFwiXSAsIGRlcGVuZGVuY2llcylcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Nvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvbmF2YmFyL25vdGlmaWNhdGlvbi13aWRnZXQuaHRtbFxuLy8gbW9kdWxlIGlkID0gNTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIG51bmp1Y2tzID0gcmVxdWlyZShcIm51bmp1Y2tzL2Jyb3dzZXIvbnVuanVja3Mtc2xpbVwiKTtcbnZhciBlbnY7XG5pZiAoIW51bmp1Y2tzLmN1cnJlbnRFbnYpe1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52ID0gbmV3IG51bmp1Y2tzLkVudmlyb25tZW50KFtdLCB1bmRlZmluZWQpO1xufSBlbHNlIHtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudjtcbn1cbnZhciBjb25maWd1cmUgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vLi4vbnVuanVja3MuY29uZmlnLmpzXCIpKGVudik7XG52YXIgZGVwZW5kZW5jaWVzID0gbnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyB8fCAobnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyA9IHt9KTtcbmRlcGVuZGVuY2llc1tcImluY2x1ZGUvbWFjcm9zLmh0bWxcIl0gPSByZXF1aXJlKCBcImluY2x1ZGUvbWFjcm9zLmh0bWxcIiApO1xuXG5cblxuXG52YXIgc2hpbSA9IHJlcXVpcmUoXCIvaG9tZS9zYXNjaGEvcHIvY29zaW5udXMtY29yZS9ub2RlX21vZHVsZXMvbnVuanVja3MtbG9hZGVyL3J1bnRpbWUtc2hpbVwiKTtcblxuXG4oZnVuY3Rpb24oKSB7KG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgPSBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkIHx8IHt9KVtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvaW5jbHVkZS9ub3RpZmljYXRpb24taXRlbS5odG1sXCJdID0gKGZ1bmN0aW9uKCkge1xuZnVuY3Rpb24gcm9vdChlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xudmFyIHBhcmVudFRlbXBsYXRlID0gbnVsbDtcbmVudi5nZXRUZW1wbGF0ZShcImluY2x1ZGUvbWFjcm9zLmh0bWxcIiwgZmFsc2UsIFwiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC9pbmNsdWRlL25vdGlmaWNhdGlvbi1pdGVtLmh0bWxcIiwgZmFsc2UsIGZ1bmN0aW9uKHRfMix0XzEpIHtcbmlmKHRfMikgeyBjYih0XzIpOyByZXR1cm47IH1cbnRfMS5nZXRFeHBvcnRlZChmdW5jdGlvbih0XzMsdF8xKSB7XG5pZih0XzMpIHsgY2IodF8zKTsgcmV0dXJuOyB9XG5jb250ZXh0LnNldFZhcmlhYmxlKFwibWFjcm9zXCIsIHRfMSk7XG5vdXRwdXQgKz0gXCJcXG5cXG5cIjtcbnZhciBtYWNyb190XzQgPSBydW50aW1lLm1ha2VNYWNybyhcbltcInRleHRcIiwgXCJ1cmxcIiwgXCJpY29uXCJdLCBcbltcInN1YnRleHRcIiwgXCJzdWJ0ZXh0SWNvblwiLCBcImFjdGlvblRpbWVcIiwgXCJhbm5vdGF0aW9uSWNvblwiLCBcImlzX2VtcGhhc2l6ZWRcIiwgXCJzdWJJdGVtc1wiLCBcIml0ZW1JZFwiLCBcImluYWN0aXZlXCIsIFwibWFrZVNhZmVcIl0sIFxuZnVuY3Rpb24gKGxfdGV4dCwgbF91cmwsIGxfaWNvbiwga3dhcmdzKSB7XG5mcmFtZSA9IGZyYW1lLnB1c2godHJ1ZSk7XG5rd2FyZ3MgPSBrd2FyZ3MgfHwge307XG5pZiAoa3dhcmdzLmhhc093blByb3BlcnR5KFwiY2FsbGVyXCIpKSB7XG5mcmFtZS5zZXQoXCJjYWxsZXJcIiwga3dhcmdzLmNhbGxlcik7IH1cbmZyYW1lLnNldChcInRleHRcIiwgbF90ZXh0KTtcbmZyYW1lLnNldChcInVybFwiLCBsX3VybCk7XG5mcmFtZS5zZXQoXCJpY29uXCIsIGxfaWNvbik7XG5mcmFtZS5zZXQoXCJzdWJ0ZXh0XCIsIGt3YXJncy5oYXNPd25Qcm9wZXJ0eShcInN1YnRleHRcIikgPyBrd2FyZ3NbXCJzdWJ0ZXh0XCJdIDogcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJudWxsXCIpKTtcbmZyYW1lLnNldChcInN1YnRleHRJY29uXCIsIGt3YXJncy5oYXNPd25Qcm9wZXJ0eShcInN1YnRleHRJY29uXCIpID8ga3dhcmdzW1wic3VidGV4dEljb25cIl0gOiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm51bGxcIikpO1xuZnJhbWUuc2V0KFwiYWN0aW9uVGltZVwiLCBrd2FyZ3MuaGFzT3duUHJvcGVydHkoXCJhY3Rpb25UaW1lXCIpID8ga3dhcmdzW1wiYWN0aW9uVGltZVwiXSA6IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibnVsbFwiKSk7XG5mcmFtZS5zZXQoXCJhbm5vdGF0aW9uSWNvblwiLCBrd2FyZ3MuaGFzT3duUHJvcGVydHkoXCJhbm5vdGF0aW9uSWNvblwiKSA/IGt3YXJnc1tcImFubm90YXRpb25JY29uXCJdIDogcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJudWxsXCIpKTtcbmZyYW1lLnNldChcImlzX2VtcGhhc2l6ZWRcIiwga3dhcmdzLmhhc093blByb3BlcnR5KFwiaXNfZW1waGFzaXplZFwiKSA/IGt3YXJnc1tcImlzX2VtcGhhc2l6ZWRcIl0gOiBmYWxzZSk7XG5mcmFtZS5zZXQoXCJzdWJJdGVtc1wiLCBrd2FyZ3MuaGFzT3duUHJvcGVydHkoXCJzdWJJdGVtc1wiKSA/IGt3YXJnc1tcInN1Ykl0ZW1zXCJdIDogW10pO1xuZnJhbWUuc2V0KFwiaXRlbUlkXCIsIGt3YXJncy5oYXNPd25Qcm9wZXJ0eShcIml0ZW1JZFwiKSA/IGt3YXJnc1tcIml0ZW1JZFwiXSA6IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibnVsbFwiKSk7XG5mcmFtZS5zZXQoXCJpbmFjdGl2ZVwiLCBrd2FyZ3MuaGFzT3duUHJvcGVydHkoXCJpbmFjdGl2ZVwiKSA/IGt3YXJnc1tcImluYWN0aXZlXCJdIDogZmFsc2UpO1xuZnJhbWUuc2V0KFwibWFrZVNhZmVcIiwga3dhcmdzLmhhc093blByb3BlcnR5KFwibWFrZVNhZmVcIikgPyBrd2FyZ3NbXCJtYWtlU2FmZVwiXSA6IHRydWUpO1xudmFyIHRfNSA9IFwiXCI7dF81ICs9IFwiXFxuXFxuICAgIDxsaSBjbGFzcz1cXFwibGlzdC1pdGVtLWdyb3VwXFxcIj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcIm1haW4taXRlbVxcXCI+XFxuICAgICAgICAgICAgPGEgY2xhc3M9XFxcImxpc3QtaXRlbSBsaXN0LWl0ZW0tZXh0ZW5kZWQgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImlzX2VtcGhhc2l6ZWRcIikpIHtcbnRfNSArPSBcImxpc3QtaXRlbS1lbXBoYXNpemVkIFwiO1xuO1xufVxuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJpbmFjdGl2ZVwiKSkge1xudF81ICs9IFwiaW5hY3RpdmUgbm8tc2VsZWN0XCI7XG47XG59XG50XzUgKz0gXCJcXFwiIGhyZWY9XFxcIlwiO1xudF81ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShsX3VybCwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG50XzUgKz0gXCJcXFwiIHJvbGU9XFxcImJ1dHRvblxcXCIgdGl0bGVkYnk9XFxcIi5pdGVtLXRleHQtcHJpbWFyeVxcXCI+IFxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJpdGVtLWljb24gaXRlbS1pY29uLW9mZnNldCBpdGVtLWljb24tdmVydGljYWwtY2VudGVyXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuaWYobF9pY29uICYmIHJ1bnRpbWUuaW5PcGVyYXRvcihcIi9cIixsX2ljb24pKSB7XG50XzUgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cXFwiXCI7XG50XzUgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGxfaWNvbiwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG50XzUgKz0gXCJcXFwiPjwvaW1nPlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbnRfNSArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYXMgZmEtZncgXCI7XG50XzUgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGxfaWNvbiwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG50XzUgKz0gXCJcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxudF81ICs9IFwiXFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJpdGVtLXRleHQgaXRlbS10ZXh0LWR1YWxcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiaXRlbS10ZXh0LXByaW1hcnlcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJtYWtlU2FmZVwiKSkge1xudF81ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xudF81ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RmlsdGVyKFwic2FmZVwiKS5jYWxsKGNvbnRleHQsIGxfdGV4dCksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xudF81ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbnRfNSArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbnRfNSArPSBydW50aW1lLnN1cHByZXNzVmFsdWUobF90ZXh0LCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbnRfNSArPSBcIiBcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbnRfNSArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic3VidGV4dFwiKSB8fCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImFjdGlvblRpbWVcIikpIHtcbnRfNSArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcIml0ZW0tdGV4dC10ZXJ0aWFyeVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJhY3Rpb25UaW1lXCIpKSB7XG50XzUgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYXMgZmEtZncgZmEtY2xvY2tcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJtb21lbnQtZGF0YS1kYXRlXFxcIiBkYXRhLWRhdGU9XFxcIlwiO1xudF81ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImFjdGlvblRpbWVcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xudF81ICs9IFwiXFxcIj48L3NwYW4+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiaXRlbS10ZXh0LWlubGluZS1zcGFjZXJcXFwiPjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG50XzUgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInN1YnRleHRcIikpIHtcbnRfNSArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInN1YnRleHRJY29uXCIpKSB7XG50XzUgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmFzIGZhLWZ3IFwiO1xudF81ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInN1YnRleHRJY29uXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbnRfNSArPSBcIlxcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG50XzUgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xudF81ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInN1YnRleHRcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xudF81ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxudF81ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbnRfNSArPSBcIlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImFubm90YXRpb25JY29uXCIpKSB7XG50XzUgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInJpZ2h0LXNpZGUtYW5ub3RhdGlvbiBpdGVtLWljb24gaXRlbS1pY29uLXZlcnRpY2FsLWNlbnRlciBpdGVtLWljb24tZml4ZWQtd2lkdGhcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJhbm5vdGF0aW9uSWNvblwiKSAmJiBydW50aW1lLmluT3BlcmF0b3IoXCIvXCIscnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJhbm5vdGF0aW9uSWNvblwiKSkpIHtcbnRfNSArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cXFwiXCI7XG50XzUgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYW5ub3RhdGlvbkljb25cIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xudF81ICs9IFwiXFxcIj48L2ltZz5cXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xudF81ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYXMgZmEtZncgXCI7XG50XzUgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYW5ub3RhdGlvbkljb25cIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xudF81ICs9IFwiXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG50XzUgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbnRfNSArPSBcIlxcbiAgICAgICAgICAgIDwvYT5cXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICBcIjtcbmlmKGVudi5nZXRGaWx0ZXIoXCJsZW5ndGhcIikuY2FsbChjb250ZXh0LCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInN1Ykl0ZW1zXCIpKSA+IDApIHtcbnRfNSArPSBcIlxcbiAgICAgICAgICAgICAgICA8YSBjbGFzcz1cXFwibGlzdC1pdGVtLWdyb3VwLWRyb3Bkb3duLWxpbmsgY29sbGFwc2VkXFxcIiBkYXRhLXRvZ2dsZT1cXFwiY29sbGFwc2VcXFwiIGhyZWY9XFxcIiNub3RpZmljYXRpb24tY29sbGFwc2UtXCI7XG50XzUgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiaXRlbUlkXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbnRfNSArPSBcIlxcXCIgXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZT1cXFwiYnV0dG9uXFxcIiBhcmlhLWV4cGFuZGVkPVxcXCJmYWxzZVxcXCIgYXJpYS1jb250cm9scz1cXFwibm90aWZpY2F0aW9uLWNvbGxhcHNlLVwiO1xudF81ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIml0ZW1JZFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG50XzUgKz0gXCJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhcyBmYS1mdyBmYS1jYXJldC1yaWdodCBzaG93LWNvbGxhcHNlZFxcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhcyBmYS1mdyBmYS1jYXJldC1kb3duIHNob3ctdW5jb2xsYXBzZWRcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgICAgIFwiO1xuO1xufVxudF81ICs9IFwiXFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIFxcbiAgICAgICAgXCI7XG5pZihlbnYuZ2V0RmlsdGVyKFwibGVuZ3RoXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzdWJJdGVtc1wiKSkgPiAwKSB7XG50XzUgKz0gXCJcXG5cXHQgICAgICAgIDxkaXYgY2xhc3M9XFxcInN1Yi1pdGVtLWNvbnRhaW5lciBjb2xsYXBzZVxcXCIgaWQ9XFxcIm5vdGlmaWNhdGlvbi1jb2xsYXBzZS1cIjtcbnRfNSArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJpdGVtSWRcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xudF81ICs9IFwiXFxcIj5cXG5cXHQgICAgICAgICAgICA8dWwgY2xhc3M9XFxcIml0ZW0tbGlzdCBpdGVtLWxpc3QtZGl2aWRlZFxcXCI+XFxuXFx0ICAgICAgICAgICAgICAgIFwiO1xuZnJhbWUgPSBmcmFtZS5wdXNoKCk7XG52YXIgdF84ID0gcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzdWJJdGVtc1wiKTtcbmlmKHRfOCkge3ZhciB0XzcgPSB0XzgubGVuZ3RoO1xuZm9yKHZhciB0XzY9MDsgdF82IDwgdF84Lmxlbmd0aDsgdF82KyspIHtcbnZhciB0XzkgPSB0XzhbdF82XTtcbmZyYW1lLnNldChcInN1Ykl0ZW1cIiwgdF85KTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXhcIiwgdF82ICsgMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4MFwiLCB0XzYpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleFwiLCB0XzcgLSB0XzYpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleDBcIiwgdF83IC0gdF82IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmZpcnN0XCIsIHRfNiA9PT0gMCk7XG5mcmFtZS5zZXQoXCJsb29wLmxhc3RcIiwgdF82ID09PSB0XzcgLSAxKTtcbmZyYW1lLnNldChcImxvb3AubGVuZ3RoXCIsIHRfNyk7XG50XzUgKz0gXCJcXG5cXHQgICAgICAgICAgICAgICAgICAgIFwiO1xudF81ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSgobGluZW5vID0gNjIsIGNvbG5vID0gMzcsIHJ1bnRpbWUuY2FsbFdyYXAocnVudGltZS5tZW1iZXJMb29rdXAoKHRfMSksXCJsaXN0SXRlbVwiKSwgXCJtYWNyb3NbXFxcImxpc3RJdGVtXFxcIl1cIiwgY29udGV4dCwgW3J1bnRpbWUubWVtYmVyTG9va3VwKCh0XzkpLFwidGl0bGVcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfOSksXCJ1cmxcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfOSksXCJpY29uX29yX2ltYWdlX3VybFwiKSxydW50aW1lLm1ha2VLZXl3b3JkQXJncyh7XCJwYWRkZWRcIjogdHJ1ZX0pXSkpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbnRfNSArPSBcIlxcblxcdCAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbn1cbmZyYW1lID0gZnJhbWUucG9wKCk7XG50XzUgKz0gXCJcXG5cXHQgICAgICAgICAgICA8L3VsPlxcblxcdCAgICAgICAgPC9kaXY+XFxuICAgICAgICBcIjtcbjtcbn1cbnRfNSArPSBcIlxcbiAgICA8L2xpPlxcblwiO1xuO1xuZnJhbWUgPSBmcmFtZS5wb3AoKTtcbnJldHVybiBuZXcgcnVudGltZS5TYWZlU3RyaW5nKHRfNSk7XG59KTtcbmNvbnRleHQuYWRkRXhwb3J0KFwibm90aWZpY2F0aW9uSXRlbVwiKTtcbmNvbnRleHQuc2V0VmFyaWFibGUoXCJub3RpZmljYXRpb25JdGVtXCIsIG1hY3JvX3RfNCk7XG5vdXRwdXQgKz0gXCJcXG5cIjtcbmlmKHBhcmVudFRlbXBsYXRlKSB7XG5wYXJlbnRUZW1wbGF0ZS5yb290UmVuZGVyRnVuYyhlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYik7XG59IGVsc2Uge1xuY2IobnVsbCwgb3V0cHV0KTtcbn1cbn0pfSk7XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxucmV0dXJuIHtcbnJvb3Q6IHJvb3Rcbn07XG5cbn0pKCk7XG59KSgpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBzaGltKG51bmp1Y2tzLCBlbnYsIG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWRbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL2luY2x1ZGUvbm90aWZpY2F0aW9uLWl0ZW0uaHRtbFwiXSAsIGRlcGVuZGVuY2llcylcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Nvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvaW5jbHVkZS9ub3RpZmljYXRpb24taXRlbS5odG1sXG4vLyBtb2R1bGUgaWQgPSA1NlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbnZhciBCYXNlVmlldyA9IHJlcXVpcmUoJ3ZpZXdzL2Jhc2UvdmlldycpO1xuXG52YXIgVGltZWxpbmVWaWV3ID0gcmVxdWlyZSgndmlld3MvdXNlcmRhc2hib2FyZC90aW1lbGluZS12aWV3Jyk7XG52YXIgR3JvdXBXaWRnZXRWaWV3ID0gcmVxdWlyZSgndmlld3MvdXNlcmRhc2hib2FyZC9ncm91cC13aWRnZXQtdmlldycpO1xudmFyIElkZWFzV2lkZ2V0VmlldyA9IHJlcXVpcmUoJ3ZpZXdzL3VzZXJkYXNoYm9hcmQvaWRlYXMtd2lkZ2V0LXZpZXcnKTtcbnZhciBTdGFycmVkVXNlcnNXaWRnZXRWaWV3ID0gcmVxdWlyZSgndmlld3MvdXNlcmRhc2hib2FyZC9zdGFycmVkLXVzZXJzLXdpZGdldC12aWV3Jyk7XG52YXIgU3RhcnJlZE9iamVjdHNXaWRnZXRWaWV3ID0gcmVxdWlyZSgndmlld3MvdXNlcmRhc2hib2FyZC9zdGFycmVkLW9iamVjdHMtd2lkZ2V0LXZpZXcnKTtcbnZhciBGb2xsb3dlZE9iamVjdHNXaWRnZXRWaWV3ID0gcmVxdWlyZSgndmlld3MvdXNlcmRhc2hib2FyZC9mb2xsb3dlZC1vYmplY3RzLXdpZGdldC12aWV3Jyk7XG52YXIgVHlwZWRDb250ZW50V2lkZ2V0VmlldyA9IHJlcXVpcmUoJ3ZpZXdzL3VzZXJkYXNoYm9hcmQvdHlwZWQtY29udGVudC13aWRnZXQtdmlldycpO1xudmFyIFVpUHJlZnNWaWV3ID0gcmVxdWlyZSgndmlld3MvdXNlcmRhc2hib2FyZC91aS1wcmVmcy12aWV3Jyk7XG5cbnZhciB1dGlsID0gcmVxdWlyZSgnbGliL3V0aWwnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBCYXNlVmlldy5leHRlbmQoe1xuXG5cdGFwcDogbnVsbCxcbiAgICB0ZW1wbGF0ZTogbnVsbCxcbiAgICBlbDogbnVsbCwgLy8gd2lsbCBiZSBzZXQgdG8gZGFzaGJvYXJkIHJvb3QgbWFudWFsbHlcbiAgICAkZWw6IG51bGwsIC8vIHdpbGwgYmUgc2V0IHRvIGRhc2hib2FyZCByb290IG1hbnVhbGx5XG4gICAgbGVmdEJhcjogJy5kYXNoYm9hcmQtbGVmdC1iYXItY29udGVudCcsXG4gICAgJGxlZnRCYXI6IG51bGwsIFxuICAgIHJpZ2h0QmFyOiAnLmRhc2hib2FyZC1yaWdodC1iYXItY29udGVudCcsXG4gICAgJHJpZ2h0QmFyOiBudWxsLFxuICAgIHRpbWVsaW5lOiAnLnRpbWVsaW5lLXJvb3QnLFxuICAgICR0aW1lbGluZTogbnVsbCxcbiAgICBcbiAgICB0aW1lbGluZVZpZXc6IG51bGwsXG4gICAgXG4gICAgZ3JvdXBXaWRnZXRWaWV3OiBudWxsLFxuXHRpZGVhc1dpZGdldFZpZXc6IG51bGwsXG5cdHN0YXJyZWRVc2Vyc1dpZGdldFZpZXc6IG51bGwsXG5cdHN0YXJyZWRPYmplY3RzV2lkZ2V0VmlldzogbnVsbCxcblx0Zm9sbG93ZWRPYmplY3RzV2lkZ2V0VmlldzogbnVsbCxcbiAgICB1aVByZWZzVmlldzogbnVsbCxcbiAgICBcbiAgICB0eXBlZENvbnRlbnRXaWRnZXRUeXBlczogWydwYWRzJywgJ2ZpbGVzJ11cblx0XHQuY29uY2F0KChDT1NJTk5VU19ST0NLRVRfRU5BQkxFRCB8fCAhQ09TSU5OVVNfTUVTU0FHRVNfRU5BQkxFRCkgPyBbXSA6IFsnbWVzc2FnZXMnXSlcbiAgICAgICAgLmNvbmNhdChDT1NJTk5VU19DTE9VRF9EQVNIQk9BUkRfV0lER0VUX0VOQUJMRUQgPyBbJ2Nsb3VkX2ZpbGVzJ10gOiBbXSlcblx0ICAgIC5jb25jYXQoWydldmVudHMnLCAndG9kb3MnLCAncG9sbHMnXSlcblx0XHQuY29uY2F0KENPU0lOTlVTX1YyX0RBU0hCT0FSRF9TSE9XX01BUktFVFBMQUNFID8gWydvZmZlcnMnXSA6IFtdKSxcbiAgICB0eXBlZENvbnRlbnRXaWRnZXRzOiB7fSxcbiAgICBcbiAgICB1aVByZWZLZXlSaWdodEJhcldpZGdldDogJ2Rhc2hib2FyZF93aWRnZXRzX3NvcnRfa2V5X18nLFxuICAgIFxuICAgIC8vIHdpbGwgYmUgc2V0IHRvIHNlbGYub3B0aW9ucyBkdXJpbmcgaW5pdGlhbGl6YXRpb25cbiAgICBkZWZhdWx0czoge1xuICAgICAgICBcbiAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgfSxcbiAgICBcbiAgICAvLyBUaGUgRE9NIGV2ZW50cyBzcGVjaWZpYyB0byBhbiBpdGVtLlxuICAgIGV2ZW50czoge1xuICAgIFx0Ly8nZm9jdXMgLm5hdi1zZWFyY2gtYm94JzogJ29uU2VhcmNoQm94Rm9jdXNJbicsXG4gICAgfSxcbiAgICBcbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbiAob3B0aW9ucywgYXBwKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgc2VsZi5hcHAgPSBhcHA7XG4gICAgICAgIEJhc2VWaWV3LnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwoc2VsZiwgb3B0aW9ucyk7XG4gICAgICAgIFxuICAgICAgICBzZWxmLnVpUHJlZnNWaWV3ID0gbmV3IFVpUHJlZnNWaWV3KHNlbGYub3B0aW9ucy51aVByZWZzKTtcbiAgICAgICAgXG4gICAgICAgIHNlbGYuZWwgPSAnLnYyLWRhc2hib2FyZCc7XG4gICAgICAgIHNlbGYuJGVsID0gJChzZWxmLmVsKTtcbiAgICAgICAgc2VsZi4kZWwucmVtb3ZlQ2xhc3MoJ2xvYWRpbmcnKTtcbiAgICAgICAgXG4gICAgICAgIHNlbGYuJGxlZnRCYXIgPSBzZWxmLiRlbC5maW5kKHNlbGYubGVmdEJhcik7XG4gICAgICAgIHNlbGYuJHJpZ2h0QmFyID0gc2VsZi4kZWwuZmluZChzZWxmLnJpZ2h0QmFyKTtcbiAgICAgICAgc2VsZi4kdGltZWxpbmUgPSBzZWxmLiRlbC5maW5kKHNlbGYudGltZWxpbmUpO1xuICAgICAgICBcbiAgICAgICAgc2VsZi5sb2FkTGVmdEJhcigpO1xuICAgICAgICBzZWxmLmxvYWRSaWdodEJhcigpO1xuICAgICAgICBzZWxmLmxvYWRUaW1lbGluZSgpO1xuICAgIH0sXG4gICAgXG4gICAgLyoqIExvYWRzIGFsbCB3aWRnZXRzIG9uIHRoZSBsZWZ0IGJhciBhbmQgb25seSB0aGVuIGRpc3BsYXlzIGl0ICovXG4gICAgbG9hZExlZnRCYXI6IGZ1bmN0aW9uICgpIHtcbiAgICBcdHZhciBzZWxmID0gdGhpcztcbiAgICBcdHNlbGYuZ3JvdXBXaWRnZXRWaWV3ID0gbmV3IEdyb3VwV2lkZ2V0Vmlldyh7XG4gICAgXHRcdGVsOiBzZWxmLiRlbC5maW5kKCcuZ3JvdXAtd2lkZ2V0LXJvb3QnKSxcbiAgICBcdH0sIHNlbGYuYXBwKTtcbiAgICBcdFxuICAgIFx0dmFyIGxlZnRCYXJQcm9taXNlcyA9IFtcbiAgICBcdFx0c2VsZi5ncm91cFdpZGdldFZpZXcubG9hZCgpLFxuICAgIFx0XTtcbiAgICBcdGlmIChDT1NJTk5VU19JREVBU19FTkFCTEVEKSB7XG4gICAgXHQgICAgc2VsZi5pZGVhc1dpZGdldFZpZXcgPSBuZXcgSWRlYXNXaWRnZXRWaWV3KHtcbiAgICAgICAgICAgICAgICBlbDogc2VsZi4kZWwuZmluZCgnLmlkZWFzLXdpZGdldC1yb290JyksXG4gICAgICAgICAgICB9LCBzZWxmLmFwcCk7XG4gICAgXHRcdGxlZnRCYXJQcm9taXNlcy5wdXNoKHNlbGYuaWRlYXNXaWRnZXRWaWV3LmxvYWQoKSk7XG5cdFx0fVxuXHRcdHNlbGYuc3RhcnJlZFVzZXJzV2lkZ2V0VmlldyA9IG5ldyBTdGFycmVkVXNlcnNXaWRnZXRWaWV3KHtcblx0XHRcdGVsOiBzZWxmLiRlbC5maW5kKCcuc3RhcnJlZC11c2Vycy13aWRnZXQtcm9vdCcpLFxuXHRcdH0sIHNlbGYuYXBwKTtcblx0XHRsZWZ0QmFyUHJvbWlzZXMucHVzaChzZWxmLnN0YXJyZWRVc2Vyc1dpZGdldFZpZXcubG9hZCgpKTtcblxuICAgIFx0c2VsZi5zdGFycmVkT2JqZWN0c1dpZGdldFZpZXcgPSBuZXcgU3RhcnJlZE9iamVjdHNXaWRnZXRWaWV3KHtcblx0XHRcdGVsOiBzZWxmLiRlbC5maW5kKCcuc3RhcnJlZC1vYmplY3RzLXdpZGdldC1yb290JyksXG5cdFx0fSwgc2VsZi5hcHApO1xuXHRcdGxlZnRCYXJQcm9taXNlcy5wdXNoKHNlbGYuc3RhcnJlZE9iamVjdHNXaWRnZXRWaWV3LmxvYWQoKSk7XG5cblx0XHRzZWxmLmZvbGxvd2VkT2JqZWN0c1dpZGdldFZpZXcgPSBuZXcgRm9sbG93ZWRPYmplY3RzV2lkZ2V0Vmlldyh7XG5cdFx0XHRlbDogc2VsZi4kZWwuZmluZCgnLmZvbGxvd2VkLW9iamVjdHMtd2lkZ2V0LXJvb3QnKSxcblx0XHR9LCBzZWxmLmFwcCk7XG5cdFx0bGVmdEJhclByb21pc2VzLnB1c2goc2VsZi5mb2xsb3dlZE9iamVjdHNXaWRnZXRWaWV3LmxvYWQoKSk7XG5cblx0XHRQcm9taXNlLmFsbChsZWZ0QmFyUHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24oKXtcbiAgICBcdFx0c2VsZi4kbGVmdEJhci5zaG93KCk7XG4gICAgXHRcdC8vIHRoZSB1c2VyZGFzaGJvYXJkIG1hcCB3aWRnZXQgKGFzIGFuIGlmcmFtZSkgY2F1c2VzIHByb2JsZW1zIHdpdGggdGhlIG1hcCBhcHAgaXQgc2hvd3NcbiAgICBcdFx0Ly8gaWYgaXQgaXMgbG9hZGVkIHdoaWxlIGhpZGRlblxuICAgIFx0XHR2YXIgaWZyYW1lID0gJCgnI3VzZXJkYXNoYm9hcmQtbWFwLWlmcmFtZScpO1xuICAgIFx0XHRpZiAoaWZyYW1lLmxlbmd0aCA+IDApIHtcbiAgICAgICAgXHRcdGlmcmFtZS5hdHRyKCdzcmMnLCBpZnJhbWUuYXR0cignc3JjX2RlbGF5ZWQnKSk7XG4gICAgXHRcdH1cbiAgICBcdH0pO1xuICAgIH0sXG4gICAgXG4gICAgLyoqIExvYWRzIGFsbCB3aWRnZXRzIG9uIHRoZSByaWdodCBiYXIgYW5kIG9ubHkgdGhlbiBkaXNwbGF5cyBpdCAqL1xuICAgIGxvYWRSaWdodEJhcjogZnVuY3Rpb24gKCkge1xuICAgIFx0dmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgXHR2YXIgcmlnaHRCYXJQcm9taXNlcyA9IFtdO1xuICAgIFx0Ly8gZm9yIGVhY2ggY29udGVudCB0eXBlLCBpbml0aWFsaXplIHRoZSB3aWRnZXQgb24gdGhhdCB0eXBlIGFuZCBsb2FkIGl0cyBjb250ZW50c1xuICAgIFx0JC5lYWNoKHNlbGYudHlwZWRDb250ZW50V2lkZ2V0VHlwZXMsIGZ1bmN0aW9uKGksIHR5cGUpe1xuICAgIFx0XHRzZWxmLnR5cGVkQ29udGVudFdpZGdldHNbdHlwZV0gPSBuZXcgVHlwZWRDb250ZW50V2lkZ2V0Vmlldyh7XG4gICAgICAgIFx0XHRlbFBhcmVudDogc2VsZi4kZWwuZmluZCgnLnR5cGVkLXdpZGdldHMtcm9vdCcpLFxuICAgICAgICBcdFx0dHlwZTogdHlwZSxcbiAgICAgICAgXHRcdHNvcnRJbmRleDogc2VsZi51aVByZWZzVmlldy5nZXRVaVByZWYoc2VsZi51aVByZWZLZXlSaWdodEJhcldpZGdldCArIHR5cGUpLFxuICAgICAgICBcdH0sIHNlbGYuYXBwKTtcbiAgICBcdFx0cmlnaHRCYXJQcm9taXNlcy5wdXNoKHNlbGYudHlwZWRDb250ZW50V2lkZ2V0c1t0eXBlXS5sb2FkKCkpO1xuICAgIFx0fSk7XG4gICAgXHRQcm9taXNlLmFsbChyaWdodEJhclByb21pc2VzKS50aGVuKGZ1bmN0aW9uKCl7XG4gICAgICAgIFx0JC5jb3Npbm51cy5yZW5kZXJNb21lbnREYXRhRGF0ZSgpO1xuICAgICAgICBcdHNlbGYuc29ydFJpZ2h0QmFyV2lkZ2V0cygpO1xuICAgICAgICBcdHNlbGYubWFuYWdlV2lkZ2V0Q29uZGl0aW9ucygpO1xuICAgIFx0XHRzZWxmLiRyaWdodEJhci5zaG93KCk7XG4gICAgXHRcdHV0aWwubG9nKCcjICMjIyMgc2hvd2luZyByaWdodCBiYXIuJylcbiAgICBcdH0pO1xuICAgIH0sXG4gICAgXG4gICAgc29ydFJpZ2h0QmFyV2lkZ2V0czogZnVuY3Rpb24gKCkge1xuICAgIFx0dGhpcy4kcmlnaHRCYXIuZmluZCgnZGl2LndpZGdldC1jb250ZW50Jykuc29ydEVsZW1lbnRzKGZ1bmN0aW9uKGEsIGIpe1xuICAgIFx0XHRyZXR1cm4gJChhKS5hdHRyKCdkYXRhLXNvcnQtaW5kZXgnKSA+ICQoYikuYXR0cignZGF0YS1zb3J0LWluZGV4JykgPyAxIDogLTE7XG4gICAgXHR9KTtcbiAgICB9LFxuICAgIFxuICAgIC8qKiBBZnRlciBlbXB0eSB3aWRnZXRzIGhhdmUgcmVtb3ZlZCB0aGVtc2VsdmVzLCB3aWxsIGRpc3BsYXkgdGhlIFwibmV3IHVzZXJzXCJcbiAgICAgKiAgaW5mbyBib3ggaWYgdG9vIG9yIG5vbmUgZmV3IGFyZSBzaG93biAqL1xuICAgIG1hbmFnZVdpZGdldENvbmRpdGlvbnM6IGZ1bmN0aW9uICgpIHtcbiAgICBcdC8vIHNob3cgd2lkZ2V0IGluZm8gYm94IGlmIHVpIHByZWYgaXMgc2V0XG4gICAgXHRpZiAodGhpcy51aVByZWZzVmlldy5nZXRVaVByZWYoJ3RpbWVsaW5lX19oaWRlX3dlbGNvbWVfd2lkZ2V0X2JveCcpKSB7XG4gICAgXHRcdHRoaXMuJHJpZ2h0QmFyLmZpbmQoJy53ZWxjb21lX3dpZGdldF9ib3gnKS5yZW1vdmUoKTtcbiAgICBcdH0gZWxzZSB7XG4gICAgXHRcdHRoaXMuJHJpZ2h0QmFyLmZpbmQoJy53ZWxjb21lX3dpZGdldF9ib3gnKS5zaG93KCk7XG4gICAgXHR9XG4gICAgfSxcbiAgICBcbiAgICBsb2FkVGltZWxpbmU6IGZ1bmN0aW9uICgpIHtcbiAgICBcdHZhciBzZWxmID0gdGhpcztcbiAgICBcdFxuICAgIFx0Ly8gc2hvdyB3ZWxjb21lIHNjcmVlbiBpZiB1aSBwcmVmIGlzIHNldFxuICAgIFx0dmFyICR3ZWxjb21lRnJhbWUgPSBzZWxmLiRlbC5maW5kKCcuZGFzaGJvYXJkLXdlbGNvbWUtZnJhbWUnKTtcbiAgICBcdGlmIChzZWxmLnVpUHJlZnNWaWV3LmdldFVpUHJlZigndGltZWxpbmVfX2hpZGVfd2VsY29tZV9zY3JlZW4nKSB8fCAkd2VsY29tZUZyYW1lLmxlbmd0aCA9PSAwKSB7XG4gICAgXHQgICAgaWYgKCR3ZWxjb21lRnJhbWUubGVuZ3RoID4gMCkge1xuICAgICAgICBcdFx0JHdlbGNvbWVGcmFtZS5yZW1vdmUoKTtcbiAgICBcdCAgICB9XG4gICAgXHRcdFxuICAgIFx0XHQvLyBpZiB3ZSBhcmUgbm90IHNob3dpbmcgdGhlIHdlbGNvbWUgc2NyZWVuLCBzaG93IHRoZSBkYXNoYm9hcmQgYW5ub3VuY2VtZW50LCBpZiBvbmUgZXhpc3RzXG4gICAgXHRcdHZhciAkYW5ub3VuY2VtZW50RnJhbWUgPSBzZWxmLiRlbC5maW5kKCcuZGFzaGJvYXJkLWFubm91bmNlbWVudC1mcmFtZScpO1xuICAgIFx0XHRpZiAoJGFubm91bmNlbWVudEZyYW1lLmxlbmd0aCA+IDApIHtcbiAgICBcdFx0ICAgICRhbm5vdW5jZW1lbnRGcmFtZS5zaG93KCk7XG4gICAgXHRcdH1cbiAgICBcdH0gZWxzZSB7XG4gICAgXHRcdCR3ZWxjb21lRnJhbWUuc2hvdygpO1xuICAgIFx0fVxuICAgIFx0XG4gICAgXHRzZWxmLnRpbWVsaW5lVmlldyA9IG5ldyBUaW1lbGluZVZpZXcoe1xuICAgIFx0XHRlbDogc2VsZi4kZWwuZmluZCgnLnRpbWVsaW5lLXJvb3QnKSxcbiAgICBcdFx0Zm9yY2VPbmx5TWluZTogc2VsZi5vcHRpb25zLmZvcmNlT25seU1pbmUsXG4gICAgXHR9LCBzZWxmLmFwcCwgc2VsZi51aVByZWZzVmlldyk7XG4gICAgXHRzZWxmLnRpbWVsaW5lVmlldy5sb2FkKCk7XG4gICAgfSxcbiAgICBcbiAgICBcbiAgICAvKiogV2hpbGUgd2UgYXJlIGZvY3VzZWQsIGNoZWNrIGZvciBjbGlja3Mgb3V0c2lkZSB0byB0cmlnZ2VyIGNsb3NpbmcgdGhlIG1lbnUgKi9cbiAgICBjaGVja1F1aWNrU2VhcmNoRm9jdXNPdXQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIFx0aWYgKHRoaXMuJGVsLmhhc0NsYXNzKCdhY3RpdmUnKSAmJiAhdGhpcy5lbC5jb250YWlucyhldmVudC50YXJnZXQpKSB7XG4gICAgXHRcdHRoaXMuJGVsLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICBcdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnRoaXNDb250ZXh0KHRoaXMuY2hlY2tRdWlja1NlYXJjaEZvY3VzT3V0KSk7XG4gICAgXHR9XG4gICAgfSxcbiAgICBcbiAgICAvKiogTW92ZXMgYSB3aWRnZXQgdXAgb3IgZG93biBieSBzd2FwcGluZyBpdCB3aXRoIGl0cyBzaWJsaW5nLlxuICAgICAqICBQYXJhbXM6XG4gICAgICogIFx0LSB0eXBlOiB0aGUgY29udGVudCB0eXBlIG9mIHRoZSBzb3VyY2Ugd2lkZ2V0IChpLmUuICdldmVudHMnKVxuICAgICAqICBcdC0gZGlyZWN0aW9uVXA6IHRydWUgZm9yIHVwLCBmYWxzZSBmb3IgZG93blxuICAgICAqL1xuICAgIG1vdmVSaWdodFNpZGVXaWRnZXQ6IGZ1bmN0aW9uICh0eXBlLCBkaXJlY3Rpb25VcCkge1xuICAgIFx0dmFyIHNlbGYgPSB0aGlzO1xuICAgIFx0XG4gICAgXHQvLyBmaW5kIGJvdGggd2lkZ2V0c1xuICAgIFx0dmFyIHdpZGdldCA9IHNlbGYuJHJpZ2h0QmFyLmZpbmQoJy53aWRnZXQtY29udGVudFtkYXRhLWNvbnRlbnQtdHlwZT1cIicgKyB0eXBlICsgJ1wiXScpO1xuICAgIFx0aWYgKHdpZGdldC5sZW5ndGggPT0gMCkge1xuICAgIFx0XHRyZXR1cm47XG4gICAgXHR9XG4gICAgXHR2YXIgb3RoZXJfd2lkZ2V0ID0gZGlyZWN0aW9uVXAgPyB3aWRnZXQucHJldignLndpZGdldC1jb250ZW50JykgOiB3aWRnZXQubmV4dCgnLndpZGdldC1jb250ZW50Jyk7XG4gICAgXHRpZiAob3RoZXJfd2lkZ2V0Lmxlbmd0aCA9PSAwKSB7XG4gICAgXHRcdHJldHVybjtcbiAgICBcdH1cbiAgICBcdFxuICAgIFx0Ly8gc3dhcCB0aGVpciBzb3J0IGluZGV4XG4gICAgXHR2YXIgaWR4ID0gd2lkZ2V0LmF0dHIoJ2RhdGEtc29ydC1pbmRleCcpO1xuICAgIFx0dmFyIG90aGVyX2lkeCA9IG90aGVyX3dpZGdldC5hdHRyKCdkYXRhLXNvcnQtaW5kZXgnKTtcbiAgICBcdHdpZGdldC5hdHRyKCdkYXRhLXNvcnQtaW5kZXgnLCBvdGhlcl9pZHgpO1xuICAgIFx0b3RoZXJfd2lkZ2V0LmF0dHIoJ2RhdGEtc29ydC1pbmRleCcsIGlkeCk7XG4gICAgXHRcbiAgICBcdC8vIHNvcnQgdGhlIHdpZGdldHNcbiAgICBcdHNlbGYuc29ydFJpZ2h0QmFyV2lkZ2V0cygpO1xuICAgIFx0XG4gICAgXHQvLyBzYXZlIHRoZSB1aVByZWZzXG4gICAgXHR2YXIgdWlQcmVmcyA9IHt9O1xuICAgIFx0dWlQcmVmc1tzZWxmLnVpUHJlZktleVJpZ2h0QmFyV2lkZ2V0ICsgd2lkZ2V0LmF0dHIoJ2RhdGEtY29udGVudC10eXBlJyldID0gb3RoZXJfaWR4O1xuICAgIFx0dWlQcmVmc1tzZWxmLnVpUHJlZktleVJpZ2h0QmFyV2lkZ2V0ICsgb3RoZXJfd2lkZ2V0LmF0dHIoJ2RhdGEtY29udGVudC10eXBlJyldID0gaWR4O1xuICAgIFx0c2VsZi51aVByZWZzVmlldy5zYXZlVWlQcmVmcyh1aVByZWZzKTtcbiAgICB9LFxuXG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29zaW5udXMvY2xpZW50L3ZpZXdzL3VzZXJkYXNoYm9hcmQvdXNlcmRhc2hib2FyZC12aWV3LmpzXG4vLyBtb2R1bGUgaWQgPSA1N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbnZhciBCYXNlVmlldyA9IHJlcXVpcmUoJ3ZpZXdzL2Jhc2UvdmlldycpO1xudmFyIHV0aWwgPSByZXF1aXJlKCdsaWIvdXRpbCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEJhc2VWaWV3LmV4dGVuZCh7XG5cblx0YXBwOiBudWxsLFxuICAgIHRlbXBsYXRlOiByZXF1aXJlKCd1c2VyZGFzaGJvYXJkL3RpbWVsaW5lJyksXG4gICAgXG4gICAgZmV0Y2hVUkw6ICcvZGFzaGJvYXJkL2FwaS90aW1lbGluZS8nLFxuICAgIFxuICAgIHVpUHJlZnNWaWV3OiBudWxsLCAvLyBzZXQgZHVyaW5nIGluaXRpYWxpemF0aW9uXG4gICAgXG4gICAgLy8gd2lsbCBiZSBzZXQgdG8gc2VsZi5vcHRpb25zIGR1cmluZyBpbml0aWFsaXphdGlvblxuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIFxuICAgIFx0Zm9yY2VPbmx5TWluZTogZmFsc2UsIC8vIG92ZXJ3cml0dGVuIGZyb20gcGFzc2VkIG9wdGlvbnMgZnJvbSBoaWdoZXIgdmlld3NcbiAgICBcdC8vIHRoZSBmb2xsb3dpbmcgYXJlICpjb21iaW5hYmxlKiBBTkQgZmlsdGVycywgbm90IGV4Y2x1c2l2ZSwgXG4gICAgXHQvLyBsaWtlIHRoZSBoaXN0b3JpY2FsIG5hbWUgXCJvbmx5XCIgc3VnZ2VzdHMhXG4gICAgXHRvbmx5TWluZTogdHJ1ZSwgLy8gY29tYmluYWJsZSBjb250ZW50IGZpbHRlci4gaW5pdGVkIGZyb20gdWlQcmVmc1xuICAgICAgICBvbmx5Rm9ydW06IHRydWUsIC8vIGNvbWJpbmFibGUgY29udGVudCBmaWx0ZXIuIGluaXRlZCBmcm9tIHVpUHJlZnNcbiAgICAgICAgb25seVB1YmxpYzogZmFsc2UsIC8vIGNvbWJpbmFibGUgY29udGVudCBmaWx0ZXIuIGluaXRlZCBmcm9tIHVpUHJlZnNcbiAgICBcdFxuICAgICAgICBzdGF0ZToge1xuICAgICAgICBcdGxvYWRpbmc6IGZhbHNlLCAvLyBpZiB0cnVlLCBhIHJlcXVlc3QgaXMgY3VycmVudGx5IGxvYWRpbmdcbiAgICAgICAgICAgIGN1cnJlbnRSZXF1ZXN0OiBudWxsLCAvLyB0aGUgWE1MSHR0cFJlcXVlc3QgdGhhdCBpcyBjdXJyZW50bHkgbG9hZGluZ1xuICAgICAgICAgICAgaGFkRXJyb3JzOiBmYWxzZSxcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gbG9hZCBwYXJhbXMuIGFsc28gaW5pdGlhbGl6ZWQgaW4gYGluaXRpYWxpemVQYXJhbXNgXG4gICAgXHRcdGl0ZW1zTG9hZGVkOiAwLFxuICAgIFx0XHRvZmZzZXRUaW1lc3RhbXA6IG51bGwsXG4gICAgXHRcdGhhc01vcmU6IHRydWUsXG4gICAgICAgIH1cbiAgICB9LFxuICAgIFxuICAgIC8vIFRoZSBET00gZXZlbnRzIHNwZWNpZmljIHRvIGFuIGl0ZW0uXG4gICAgZXZlbnRzOiB7XG4gICAgXHQvLydmb2N1cyAubmF2LXNlYXJjaC1ib3gnOiAnb25TZWFyY2hCb3hGb2N1c0luJyxcbiAgICBcdC8vIHRvZG86IG9ubHlNaW5lIGJ1dHRvblxuICAgIFx0J2NoYW5nZSAudG9nZ2xlLW9ubHktbWluZSc6ICd0b2dnbGVPbmx5TWluZUNsaWNrZWQnLFxuICAgICAgICAnY2hhbmdlIC50b2dnbGUtb25seS1mb3J1bSc6ICd0b2dnbGVPbmx5Rm9ydW1DbGlja2VkJyxcbiAgICAgICAgJ2NoYW5nZSAudG9nZ2xlLW9ubHktcHVibGljJzogJ3RvZ2dsZU9ubHlQdWJsaWNDbGlja2VkJyxcbiAgICBcdCdjbGljayAucmV0cnktbG9hZCc6ICdyZXRyeUxvYWRBZnRlckVycm9ycycsXG4gICAgXHQnY2xpY2sgLnNob3ctYWxsLWNvbW1lbnRzJzogJ3Nob3dBbGxDb21tZW50c0Zvckl0ZW0nLFxuICAgIFx0J2NsaWNrIC5jb21tZW50LWZvcm0gOm5vdCh0ZXh0YXJlYSknOiAnZGVsZWdhdGVUZXh0SW5wdXRDbGljaycsXG4gICAgXHQna2V5cHJlc3MgLmNvbW1lbnQtZm9ybSB0ZXh0YXJlYSc6ICdjb21tZW50VGV4dGJveEtleVByZXNzZWQnLFxuICAgIH0sXG5cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbiAob3B0aW9ucywgYXBwLCB1aVByZWZzVmlldykge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHNlbGYuYXBwID0gYXBwO1xuICAgICAgICBCYXNlVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHNlbGYsIG9wdGlvbnMpO1xuICAgICAgICBcbiAgICAgICAgc2VsZi51aVByZWZzVmlldyA9IHVpUHJlZnNWaWV3O1xuICAgICAgICBzZWxmLm9wdGlvbnMub25seU1pbmUgPSBzZWxmLnVpUHJlZnNWaWV3LmdldFVpUHJlZigndGltZWxpbmVfX29ubHlfbWluZScpO1xuICAgICAgICBzZWxmLm9wdGlvbnMub25seUZvcnVtID0gc2VsZi51aVByZWZzVmlldy5nZXRVaVByZWYoJ3RpbWVsaW5lX19vbmx5X2ZvcnVtJyk7XG4gICAgICAgIHNlbGYub3B0aW9ucy5vbmx5UHVibGljID0gc2VsZi51aVByZWZzVmlldy5nZXRVaVByZWYoJ3RpbWVsaW5lX19vbmx5X3B1YmxpYycpO1xuICAgICAgICBzZWxmLmluaXRpYWxpemVQYXJhbXMoKTtcbiAgICAgICAgc2VsZi5yZW5kZXIoKTtcbiAgICB9LFxuICAgIFxuICAgIGluaXRpYWxpemVQYXJhbXM6IGZ1bmN0aW9uICgpIHtcbiAgICBcdHZhciBzZWxmID0gdGhpcztcbiAgICBcdHNlbGYuc3RhdGUuaXRlbXNMb2FkZWQgPSAwO1xuICAgIFx0c2VsZi5zdGF0ZS5vZmZzZXRUaW1lc3RhbXAgPSBudWxsO1xuICAgIFx0c2VsZi5zdGF0ZS5oYXNNb3JlID0gdHJ1ZTtcbiAgICB9LFxuICAgIFxuICAgIGdldFBhcmFtc0ZvckZldGNoUmVxdWVzdDogZnVuY3Rpb24oKSB7XG4gICAgXHR2YXIgc2VsZiA9IHRoaXM7XG4gICAgXHR2YXIgdXJsUGFyYW1zID0ge1xuXHRcdFx0J29ubHlfbWluZSc6IHNlbGYub3B0aW9ucy5mb3JjZU9ubHlNaW5lIHx8IHNlbGYub3B0aW9ucy5vbmx5TWluZSxcbiAgICAgICAgICAgICdvbmx5X2ZvcnVtJzogc2VsZi5vcHRpb25zLm9ubHlGb3J1bSxcbiAgICAgICAgICAgICdvbmx5X3B1YmxpYyc6IHNlbGYub3B0aW9ucy5vbmx5UHVibGljLFxuICAgICAgICAgICAgXG4gICAgXHR9O1xuICAgIFx0aWYgKHNlbGYuc3RhdGUub2Zmc2V0VGltZXN0YW1wKSB7XG4gICAgXHRcdHVybFBhcmFtc1snb2Zmc2V0X3RpbWVzdGFtcCddID0gc2VsZi5zdGF0ZS5vZmZzZXRUaW1lc3RhbXA7XG4gICAgXHR9XG4gICAgXHRyZXR1cm4ge3VybFN1ZmZpeDogbnVsbCwgdXJsUGFyYW1zOiB1cmxQYXJhbXN9XG4gICAgfSxcblxuICAgIHJlbmRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIEJhc2VWaWV3LnByb3RvdHlwZS5yZW5kZXIuY2FsbChzZWxmKTtcbiAgICAgICAgdXRpbC5sb2coJyoqKiBSZW5kZXJlZCB0aW1lbGluZSEgKioqJylcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcbiAgICBcbiAgICAvKiogUmVzZXRzIGFsbCB0aW1lbGluZS1pdGVtcyBhbmQgbG9hZHMgZnJvbSB3aXRoIGZyZXNoIHBhcmFtcyAqL1xuICAgIHJlc2V0QW5kTG9hZDogZnVuY3Rpb24gKCkge1xuICAgIFx0dmFyIHNlbGYgPSB0aGlzO1xuICAgIFx0aWYgKHNlbGYuc3RhdGUuY3VycmVudFJlcXVlc3QpIHtcbiAgICBcdFx0c2VsZi5zdGF0ZS5jdXJyZW50UmVxdWVzdC5hYm9ydCgpO1xuICAgIFx0XHRzZWxmLnN0YXRlLmN1cnJlbnRSZXF1ZXN0ID0gbnVsbDtcbiAgICBcdH1cbiAgICBcdHNlbGYuc3RhdGUubG9hZGluZyA9IGZhbHNlO1xuICAgIFx0c2VsZi5zdGF0ZS5oYWRFcnJvcnMgPSBmYWxzZTtcbiAgICBcdHNlbGYuaW5pdGlhbGl6ZVBhcmFtcygpO1xuICAgIFx0c2VsZi5yZW5kZXIoKTtcbiAgICBcdHNlbGYubG9hZCgpO1xuICAgIH0sXG4gICAgXG4gICAgLyoqIENhbGxlZCBmcm9tIHRoZSBcIlJldHJ5XCIgYnV0dG9uIHNob3duIHdpdGggYW4gZXJyb3IgbWVzc2FnZSAqL1xuICAgIHJldHJ5TG9hZEFmdGVyRXJyb3JzOiBmdW5jdGlvbiAoKSB7XG4gICAgXHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0c2VsZi5zdGF0ZS5oYWRFcnJvcnMgPSBmYWxzZTtcblx0XHRzZWxmLmxvYWQoKTtcbiAgICB9LFxuICAgIFxuICAgIC8qKiBDYWxsZWQgZnJvbSBhIFwic2hvdyBhbGwgY29tbWVudHNcIiBsaW5rIGZyb20gYW4gaXRlbSAqL1xuICAgIHNob3dBbGxDb21tZW50c0Zvckl0ZW06IGZ1bmN0aW9uIChldmVudCkge1xuICAgIFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdHZhciAkdGFyZ2V0ID0gJChldmVudC50YXJnZXQpO1xuXHRcdCR0YXJnZXQucGFyZW50cygnLnRpbWVsaW5lLWl0ZW0tY29tbWVudHMnKS5maW5kKCcuc2hvd24td2hlbi1tb3JlJykuaGlkZSgpO1xuXHRcdCR0YXJnZXQucGFyZW50cygnLnRpbWVsaW5lLWl0ZW0tY29tbWVudHMnKS5maW5kKCcuY29tbWVudC1oaWRkZW4nKS5mYWRlSW4oKTtcbiAgICB9LFxuICAgIFxuICAgIC8qKiBNYWtlcyB0aGUgaS5mYSBpY29uIGNsaWNrYWJsZSBhcyBpZiBpdCB3ZXJlIHRoZSB0ZXh0YXJlYSAqL1xuICAgIGRlbGVnYXRlVGV4dElucHV0Q2xpY2s6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIFx0JChldmVudC50YXJnZXQpLnBhcmVudHMoJy5jb21tZW50LWZvcm0nKS5maW5kKCd0ZXh0YXJlYScpLmZvY3VzKCk7XG4gICAgfSxcbiAgICBcbiAgICAvKiogUHJlc3NpbmcgZW50ZXIgKHVubGVzcyB3aXRoIHNoaWZ0IG9yIGN0cmwpIHNlbmRzIHRoZSBmb3JtICovXG4gICAgY29tbWVudFRleHRib3hLZXlQcmVzc2VkOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBcdGlmIChldmVudC5rZXlDb2RlID09IDEzICYmICFldmVudC5zaGlmdEtleSAmJiAhZXZlbnQuY3RybEtleSkge1xuICAgIFx0ICAgIHZhciAkZm9ybSA9ICQoZXZlbnQudGFyZ2V0KS5wYXJlbnRzKCdmb3JtJyk7XG4gICAgXHQgICAgaWYgKCEkZm9ybS5oYXNDbGFzcygnZGlzYWJsZWQnKSkge1xuICAgIFx0ICAgIFx0JGZvcm0uc3VibWl0KCk7XG4gICAgXHQgICAgfVxuICAgIFx0ICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgXHR9XG4gICAgfSxcbiAgICBcbiAgICAvKiogQ2FsbCB0byBsb2FkIGEgbmV3IHBhZ2Ugb2YgaXRlbXMgZnJvbSB0aGUgY3VycmVudCBvZmZzZXQsXG4gICAgICogIHdpbGwgb25seSBmaXJlIGEgcmVxdWVzdCBpZiBubyBvdGhlciByZXF1ZXN0IGlzIGN1cnJlbnRseSBydW5uaW5nICovXG4gICAgbG9hZDogZnVuY3Rpb24gKCkge1xuICAgIFx0dmFyIHNlbGYgPSB0aGlzO1xuICAgIFx0aWYgKCFzZWxmLnN0YXRlLmxvYWRpbmcgJiYgIXNlbGYuc3RhdGUuaGFkRXJyb3JzICYmIHNlbGYuc3RhdGUuaGFzTW9yZSkge1xuXHQgICAgXHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICBcdFx0c2VsZi5zdGF0ZS5sb2FkaW5nID0gdHJ1ZTtcblx0ICAgIFx0XHRzZWxmLnNob3dMb2FkaW5nUGxhY2Vob2xkZXIoKTtcblx0ICAgIFx0XHRzZWxmLmhpZGVFcnJvck1lc3NhZ2UoKTtcblx0ICAgIFx0XHQvLyB1c2luZyB0aGlzIGluc3RlYWQgb2YgLmZpbmFsbHkoKSBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgaW4gYnJvd3NlcnNcblx0ICAgIFx0XHR2YXIgZmluYWxseV9jb21wYXQgPSBmdW5jdGlvbigpIHtcblx0ICAgIFx0XHRcdHNlbGYuc3RhdGUubG9hZGluZyA9IGZhbHNlO1xuXHQgICAgXHRcdFx0c2VsZi5oaWRlTG9hZGluZ1BsYWNlaG9sZGVyKCk7XG5cdCAgICBcdFx0XHRyZXNvbHZlKCk7XG5cdCAgICBcdFx0fTtcblx0ICAgIFx0XHRzZWxmLmxvYWREYXRhKCkudGhlbihmdW5jdGlvbihkYXRhKXtcblx0ICAgIFx0XHRcdHV0aWwubG9nKCcjIHRpbWVsaW5lIHJlY2VpdmVkIGRhdGEgYW5kIHdpbGwgaGFuZGxlIHRoZW0nKTtcblx0ICAgIFx0XHRcdHNlbGYuZW5hYmxlSW5maW5pdGVTY3JvbGwoKTtcblx0ICAgIFx0XHRcdHNlbGYuaGFuZGxlRGF0YShkYXRhKTtcblx0ICAgIFx0XHRcdGZpbmFsbHlfY29tcGF0KCk7XG5cdCAgICBcdFx0fSkuY2F0Y2goZnVuY3Rpb24obWVzc2FnZSl7XG5cdCAgICBcdFx0XHRzZWxmLmhhbmRsZUVycm9yKG1lc3NhZ2UpO1xuXHQgICAgXHRcdFx0ZmluYWxseV9jb21wYXQoKTtcblx0ICAgIFx0XHR9KTtcblx0ICAgIFx0fSk7XG4gICAgXHR9XG4gICAgfSxcbiAgICBcbiAgICAvKiogTG9hZHMgYSBzZXQgb2YgZGF0YSBmcm9tIHRoZSBzZXJ2ZXIuIFJldHVybnMgYSBwcm9taXNlXG4gICAgICogIHdob3NlIHJlc29sdmUgZnVuY3Rpb24gZ2V0cyBwYXNzZWQgdGhlIGRhdGEgKi9cbiAgICBsb2FkRGF0YTogZnVuY3Rpb24oKSB7XG4gICAgXHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXHRcdFx0Ly8gYnVpbGQgVVJMXG5cdFx0XHR2YXIgcGFyYW1zID0gc2VsZi5nZXRQYXJhbXNGb3JGZXRjaFJlcXVlc3QoKTtcblx0XHRcdHZhciB1cmwgPSBzZWxmLmZldGNoVVJMICsgKHBhcmFtcy51cmxTdWZmaXggPyBwYXJhbXMudXJsU3VmZml4ICsgJy8nIDogJycpO1xuXHRcdFx0aWYgKHBhcmFtcy51cmxQYXJhbXMpIHtcblx0XHRcdFx0dXJsICs9ICc/JyArICQucGFyYW0ocGFyYW1zLnVybFBhcmFtcyk7XG5cdFx0XHR9XG5cdFx0XHRzZWxmLnN0YXRlLmN1cnJlbnRSZXF1ZXN0ID0gJC5hamF4KHVybCwge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSwgdGV4dFN0YXR1cywgeGhyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzID09IDIwMCkge1xuICAgICAgICAgICAgICAgICAgICBcdHJlc29sdmUocmVzcG9uc2VbJ2RhdGEnXSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIFx0cmVqZWN0KHhoci5zdGF0dXNUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIHRleHRTdGF0dXMpIHtcbiAgICAgICAgICAgICAgICBcdHJlamVjdCh0ZXh0U3RhdHVzKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBcdHNlbGYuc3RhdGUuY3VycmVudFJlcXVlc3QgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIFx0fSk7XG4gICAgfSxcbiAgICBcbiAgICBoYW5kbGVEYXRhOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgIFx0dmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB1dGlsLmxvZygnIyAjIEZldGNoZWQgZGF0YSBmb3IgdGltZWxpbmUnKTtcbiAgICAgICAgdXRpbC5sb2coZGF0YSlcbiAgICAgICAgXG4gICAgICAgIC8vIGRpc3BsYXkgaXRlbXMgaWYgYW55XG4gICAgICAgIGlmIChkYXRhWydjb3VudCddID4gMCkge1xuICAgICAgICBcdHNlbGYucmVuZGVyTG9hZGVkSXRlbXMoZGF0YVsnaXRlbXMnXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGFbJ2hhc19tb3JlJ10gPT0gdHJ1ZSkge1xuICAgICAgICBcdC8vIHNldCBoYXNNb3JlIGFuZCBvZmZzZXRcbiAgICAgICAgXHRzZWxmLnN0YXRlLmhhc01vcmUgPSB0cnVlO1xuICAgICAgICBcdHNlbGYuc3RhdGUub2Zmc2V0VGltZXN0YW1wID0gZGF0YVsnbGFzdF90aW1lc3RhbXAnXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgXHQvLyBzaG93IGZpbmFsIGRvdCBhbmQgZGlzYWJsZSBpbmZpbml0ZXNjcm9sbCBpZiBubyBoYXNNb3JlXG4gICAgICAgIFx0c2VsZi5zdGF0ZS5oYXNNb3JlID0gZmFsc2U7XG4gICAgICAgIFx0c2VsZi5zaG93RmluYWxEb3QoKTtcbiAgICAgICAgXHRzZWxmLmRpc2FibGVJbmZpbml0ZVNjcm9sbCgpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBcbiAgICByZW5kZXJMb2FkZWRJdGVtczogZnVuY3Rpb24gKGl0ZW1zKSB7XG4gICAgXHR2YXIgc2VsZiA9IHRoaXM7XG4gICAgXHR2YXIgdGltZWxpbmUgPSBzZWxmLiRlbC5maW5kKCcudGltZWxpbmUnKTtcbiAgICBcdCQuZWFjaChpdGVtcywgZnVuY3Rpb24oaSwgaXRlbSl7XG4gICAgXHRcdHRpbWVsaW5lLmFwcGVuZChpdGVtKTtcbiAgICBcdH0pO1xuXG4gICAgXHQkLmNvc2lubnVzLnJlbmRlck1vbWVudERhdGFEYXRlKCk7XG5cdFx0JC5jb3Npbm51cy50cnVuY2F0ZWRUZXh0ZmllbGQoKTtcblx0XHRzZWxmLnJlbW92ZUVtcHR5RGl2cygpO1xuICAgIH0sXG4gICAgXG4gICAgaGFuZGxlRXJyb3I6IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgXHR2YXIgc2VsZiA9IHRoaXM7XG4gICAgXHR1dGlsLmxvZygnIyAjIEZldGNoZWQgZGF0YSBmb3IgdGltZWxpbmUnKTtcbiAgICBcdHNlbGYuZGlzYWJsZUluZmluaXRlU2Nyb2xsKCk7XG4gICAgXHRzZWxmLnNob3dFcnJvck1lc3NhZ2UoKTtcbiAgICB9LFxuICAgIFxuICAgIHNob3dFcnJvck1lc3NhZ2U6IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgXHR0aGlzLiRlbC5maW5kKCcudGltZWxpbmUtZXJyb3ItbWVzc2FnZScpLnNob3coKTtcbiAgICB9LFxuICAgIFxuICAgIGhpZGVFcnJvck1lc3NhZ2U6IGZ1bmN0aW9uICgpIHtcbiAgICBcdHRoaXMuJGVsLmZpbmQoJy50aW1lbGluZS1lcnJvci1tZXNzYWdlJykuaGlkZSgpO1xuICAgIH0sXG4gICAgXG4gICAgc2hvd0xvYWRpbmdQbGFjZWhvbGRlcjogZnVuY3Rpb24gKCkge1xuICAgIFx0dmFyIHRvcEhlaWdodCA9IHRoaXMuJGVsLmhlaWdodCgpO1xuICAgIFx0dGhpcy4kZWwuZmluZCgnLnRpbWVsaW5lLXBsYWNlaG9sZGVyLWZyYW1lJykuY3NzKHsndG9wJzogdG9wSGVpZ2h0fSkuc2hvdygpO1xuICAgIH0sXG4gICAgXG4gICAgaGlkZUxvYWRpbmdQbGFjZWhvbGRlcjogZnVuY3Rpb24gKCkge1xuICAgIFx0dGhpcy4kZWwuZmluZCgnLnRpbWVsaW5lLXBsYWNlaG9sZGVyLWZyYW1lJykuaGlkZSgpO1xuICAgIH0sXG4gICAgXG4gICAgc2hvd0ZpbmFsRG90OiBmdW5jdGlvbiAoKSB7XG4gICAgXHR0aGlzLiRlbC5maW5kKCcudGltZWxpbmUtZmluYWwtZG90Jykuc2hvdygpO1xuICAgIH0sXG4gICAgXG4gICAgZW5hYmxlSW5maW5pdGVTY3JvbGw6IGZ1bmN0aW9uICgpIHtcbiAgICBcdHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgJCh3aW5kb3cpLm9mZignc2Nyb2xsJykub24oJ3Njcm9sbCcsIHNlbGYudGhpc0NvbnRleHQodGhpcy5vblNjcm9sbCkpO1xuICAgIH0sXG4gICAgXG4gICAgZGlzYWJsZUluZmluaXRlU2Nyb2xsOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICQod2luZG93KS5vZmYoJ3Njcm9sbCcpO1xuICAgIH0sXG4gICAgXG4gICAgdG9nZ2xlT25seU1pbmVDbGlja2VkOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBpZiAoc2VsZi5vcHRpb25zLmZvcmNlT25seU1pbmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLm9wdGlvbnMub25seU1pbmUgPSBldmVudC50YXJnZXQuY2hlY2tlZDtcbiAgICAgICAgLy8gc2F2ZSB1aSBwcmVmXG4gICAgICAgIHNlbGYudWlQcmVmc1ZpZXcuc2F2ZVVpUHJlZnMoeyd0aW1lbGluZV9fb25seV9taW5lJzogc2VsZi5vcHRpb25zLm9ubHlNaW5lfSk7XG4gICAgICAgIHNlbGYucmVzZXRBbmRMb2FkKCk7XG4gICAgfSxcbiAgICBcbiAgICB0b2dnbGVPbmx5Rm9ydW1DbGlja2VkOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBpZiAoc2VsZi5vcHRpb25zLmZvcmNlT25seU1pbmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLm9wdGlvbnMub25seUZvcnVtID0gZXZlbnQudGFyZ2V0LmNoZWNrZWQ7XG4gICAgICAgIC8vIHNhdmUgdWkgcHJlZlxuICAgICAgICBzZWxmLnVpUHJlZnNWaWV3LnNhdmVVaVByZWZzKHsndGltZWxpbmVfX29ubHlfZm9ydW0nOiBzZWxmLm9wdGlvbnMub25seUZvcnVtfSk7XG4gICAgICAgIHNlbGYucmVzZXRBbmRMb2FkKCk7XG4gICAgfSxcbiAgICBcbiAgICB0b2dnbGVPbmx5UHVibGljQ2xpY2tlZDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgaWYgKHNlbGYub3B0aW9ucy5mb3JjZU9ubHlNaW5lKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5vcHRpb25zLm9ubHlQdWJsaWMgPSBldmVudC50YXJnZXQuY2hlY2tlZDtcbiAgICAgICAgLy8gc2F2ZSB1aSBwcmVmXG4gICAgICAgIHNlbGYudWlQcmVmc1ZpZXcuc2F2ZVVpUHJlZnMoeyd0aW1lbGluZV9fb25seV9wdWJsaWMnOiBzZWxmLm9wdGlvbnMub25seVB1YmxpY30pO1xuICAgICAgICBzZWxmLnJlc2V0QW5kTG9hZCgpO1xuICAgIH0sXG4gICAgXG4gICAgXG4gICAgXG4gICAgcmVtb3ZlRW1wdHlEaXZzOiBmdW5jdGlvbiAoKSB7XG4gICAgXHR2YXIgc2VsZiA9IHRoaXM7XG4gICAgXHRzZWxmLiRlbC5maW5kKCcucmVtb3ZlLWlmLXByZXYtZW1wdHknKS5lYWNoKGZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgJGl0ZW0gPSAkKHRoaXMpO1xuXHRcdFx0aWYgKCRpdGVtLnByZXYoKS50ZXh0KCkucmVwbGFjZSgvXFxzL2csICcnKS5sZW5ndGggPT0gMCkge1xuXHRcdFx0XHQkaXRlbS5yZW1vdmUoKTtcblx0XHRcdH1cblx0XHR9KTtcbiAgICBcdHNlbGYuJGVsLmZpbmQoJy5yZW1vdmUtaWYtbmV4dC1lbXB0eScpLmVhY2goZnVuY3Rpb24oKXtcblx0XHRcdHZhciAkaXRlbSA9ICQodGhpcyk7XG5cdFx0XHRpZiAoJGl0ZW0ubmV4dCgpLnRleHQoKS5yZXBsYWNlKC9cXHMvZywgJycpLmxlbmd0aCA9PSAwKSB7XG5cdFx0XHRcdCRpdGVtLnJlbW92ZSgpO1xuXHRcdFx0fVxuXHRcdH0pO1xuICAgIFx0c2VsZi4kZWwuZmluZCgnLnJlbW92ZS1pZi1lbXB0eScpLmVhY2goZnVuY3Rpb24oKXtcblx0XHRcdHZhciAkaXRlbSA9ICQodGhpcyk7XG5cdFx0XHRpZiAoJGl0ZW0udGV4dCgpLnJlcGxhY2UoL1xccy9nLCAnJykubGVuZ3RoID09IDApIHtcblx0XHRcdFx0JGl0ZW0ucmVtb3ZlKCk7XG5cdFx0XHR9XG5cdFx0fSk7XG4gICAgfSxcbiAgICBcbiAgICAvKiogSGFuZGxlcyBldmVudHMgZm9yIGluZmluaXRlIHNjcm9sbCAqL1xuICAgIG9uU2Nyb2xsOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBcdHZhciBzZWxmID0gdGhpcztcbiAgICBcdC8vIG9ubHkgY2hlY2sgc2Nyb2xsaW5nIGlmIHRoZSB0aW1lbGluZSBpcyB2aXNpYmxlXG4gICAgXHRpZiAoc2VsZi4kZWwuaXMoJzp2aXNpYmxlJykpIHtcbiAgICBcdFx0dmFyICR3aW5kb3cgPSAkKHdpbmRvdyk7XG4gICAgXHRcdGlmICgkd2luZG93LmhlaWdodCgpICsgJHdpbmRvdy5zY3JvbGxUb3AoKSA+PSAkKGRvY3VtZW50KS5oZWlnaHQoKSAtIDI1MCkge1xuICAgIFx0XHRcdHNlbGYubG9hZCgpOyAgLy8gbG9hZCgpIGhhbmRsZXMgc3RhdGUgY2hlY2tzIGl0c2VsZiBzbyBpdCdzIHNhZmUgdG8gY2FsbCBtdWx0aXBsZSB0aW1lcy5cbiAgICBcdFx0fVxuICAgIFx0fVxuICAgIH0sXG5cbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy9jbGllbnQvdmlld3MvdXNlcmRhc2hib2FyZC90aW1lbGluZS12aWV3LmpzXG4vLyBtb2R1bGUgaWQgPSA1OFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgbnVuanVja3MgPSByZXF1aXJlKFwibnVuanVja3MvYnJvd3Nlci9udW5qdWNrcy1zbGltXCIpO1xudmFyIGVudjtcbmlmICghbnVuanVja3MuY3VycmVudEVudil7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnYgPSBuZXcgbnVuanVja3MuRW52aXJvbm1lbnQoW10sIHVuZGVmaW5lZCk7XG59IGVsc2Uge1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52O1xufVxudmFyIGNvbmZpZ3VyZSA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi8uLi9udW5qdWNrcy5jb25maWcuanNcIikoZW52KTtcbnZhciBkZXBlbmRlbmNpZXMgPSBudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzIHx8IChudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzID0ge30pO1xuZGVwZW5kZW5jaWVzW1widXNlcmRhc2hib2FyZC90aW1lbGluZS1pdGVtLXBsYWNlaG9sZGVyXCJdID0gcmVxdWlyZSggXCJ1c2VyZGFzaGJvYXJkL3RpbWVsaW5lLWl0ZW0tcGxhY2Vob2xkZXJcIiApO1xuXG5cblxuXG52YXIgc2hpbSA9IHJlcXVpcmUoXCIvaG9tZS9zYXNjaGEvcHIvY29zaW5udXMtY29yZS9ub2RlX21vZHVsZXMvbnVuanVja3MtbG9hZGVyL3J1bnRpbWUtc2hpbVwiKTtcblxuXG4oZnVuY3Rpb24oKSB7KG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgPSBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkIHx8IHt9KVtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdXNlcmRhc2hib2FyZC90aW1lbGluZS5odG1sXCJdID0gKGZ1bmN0aW9uKCkge1xuZnVuY3Rpb24gcm9vdChlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xudmFyIHBhcmVudFRlbXBsYXRlID0gbnVsbDtcbmlmKCFydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImZvcmNlT25seU1pbmVcIikpIHtcbm91dHB1dCArPSBcIlxcblxcdDxkaXYgY2xhc3M9XFxcInRpbWVsaW5lLWNvbnRyb2xzXFxcIj5cXG5cXHRcXG5cXHQgICAgPGgyIGNsYXNzPVxcXCJoZWFkbGluZSBpbmxheWVkLWhlYWRsaW5lXFxcIj5cXG5cXHQgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0ICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJGaWx0ZXJcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgPC9oMj5cXG5cXHQgICAgXFxuICAgICAgICA8dGFibGUgY2xhc3M9XFxcIm9ub2Zmc3dpdGNoLWZyYW1lXFxcIj5cXG4gICAgICAgICAgICA8dHI+XFxuICAgICAgICAgICAgICAgIDx0ZD5cXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcIm9ub2Zmc3dpdGNoXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIG5hbWU9XFxcIm9ub2Zmc3dpdGNoLW9ubHktZm9ydW1cXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cXFwib25vZmZzd2l0Y2gtY2hlY2tib3ggdG9nZ2xlLW9ubHktZm9ydW1cXFwiIGlkPVxcXCJjaGVjay1vbmx5LWZvcnVtXFxcIiBcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJvbmx5Rm9ydW1cIikpIHtcbm91dHB1dCArPSBcImNoZWNrZWRcIjtcbjtcbn1cbm91dHB1dCArPSBcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XFxcIm9ub2Zmc3dpdGNoLWxhYmVsXFxcIiBmb3I9XFxcImNoZWNrLW9ubHktZm9ydW1cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwib25vZmZzd2l0Y2gtaW5uZXJcXFwiPjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcIm9ub2Zmc3dpdGNoLXN3aXRjaFxcXCI+PC9zcGFuPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgPC90ZD5cXG4gICAgICAgICAgICAgICAgPHRkIGNsYXNzPVxcXCJvbm9mZnN3aXRjaC10ZXh0LWxhYmVsIHRleHQtYm9sZCB0ZXh0LXNtYWxsXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJDb250ZW50IGZyb20gdGhlIEZvcnVtXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIDwvdGQ+XFxuICAgICAgICAgICAgPC90cj5cXG4gICAgICAgIDwvdGFibGU+XFxuXFx0XFxuXFx0XFx0PHRhYmxlIGNsYXNzPVxcXCJvbm9mZnN3aXRjaC1mcmFtZVxcXCI+XFxuICAgICAgICAgICAgPHRyPlxcbiAgICAgICAgICAgICAgICA8dGQ+XFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJvbm9mZnN3aXRjaFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiBuYW1lPVxcXCJvbm9mZnN3aXRjaC1vbmx5LW1pbmVcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cXFwib25vZmZzd2l0Y2gtY2hlY2tib3ggdG9nZ2xlLW9ubHktbWluZVxcXCIgaWQ9XFxcImNoZWNrLW9ubHktbWluZVxcXCIgXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwib25seU1pbmVcIikpIHtcbm91dHB1dCArPSBcImNoZWNrZWRcIjtcbjtcbn1cbm91dHB1dCArPSBcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XFxcIm9ub2Zmc3dpdGNoLWxhYmVsXFxcIiBmb3I9XFxcImNoZWNrLW9ubHktbWluZVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJvbm9mZnN3aXRjaC1pbm5lclxcXCI+PC9zcGFuPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwib25vZmZzd2l0Y2gtc3dpdGNoXFxcIj48L3NwYW4+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICA8L3RkPlxcbiAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcIm9ub2Zmc3dpdGNoLXRleHQtbGFiZWwgdGV4dC1ib2xkIHRleHQtc21hbGxcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkNvbnRlbnQgZnJvbSBteSBHcm91cHMgYW5kIFByb2plY3RzXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIDwvdGQ+XFxuICAgICAgICAgICAgPC90cj5cXG4gICAgICAgIDwvdGFibGU+XFxuICAgICAgICBcXG4gICAgICAgIDx0YWJsZSBjbGFzcz1cXFwib25vZmZzd2l0Y2gtZnJhbWVcXFwiPlxcbiAgICAgICAgICAgIDx0cj5cXG4gICAgICAgICAgICAgICAgPHRkPlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwib25vZmZzd2l0Y2hcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJjaGVja2JveFxcXCIgbmFtZT1cXFwib25vZmZzd2l0Y2gtb25seS1wdWJsaWNcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cXFwib25vZmZzd2l0Y2gtY2hlY2tib3ggdG9nZ2xlLW9ubHktcHVibGljXFxcIiBpZD1cXFwiY2hlY2stb25seS1wdWJsaWNcXFwiIFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm9ubHlQdWJsaWNcIikpIHtcbm91dHB1dCArPSBcImNoZWNrZWRcIjtcbjtcbn1cbm91dHB1dCArPSBcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XFxcIm9ub2Zmc3dpdGNoLWxhYmVsXFxcIiBmb3I9XFxcImNoZWNrLW9ubHktcHVibGljXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcIm9ub2Zmc3dpdGNoLWlubmVyXFxcIj48L3NwYW4+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJvbm9mZnN3aXRjaC1zd2l0Y2hcXFwiPjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgIDwvdGQ+XFxuICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFwib25vZmZzd2l0Y2gtdGV4dC1sYWJlbCB0ZXh0LWJvbGQgdGV4dC1zbWFsbFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiQ09TSU5OVVNfVVNFUl9FWFRFUk5BTF9VU0VSU19GT1JCSURERU5cIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiUGxhdGZvcm0gY29udGVudFwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiUHVibGljIGNvbnRlbnRcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIDwvdGQ+XFxuICAgICAgICAgICAgPC90cj5cXG4gICAgICAgIDwvdGFibGU+XFxuXFx0PC9kaXY+XFxuXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cXG48ZGl2IGNsYXNzPVxcXCJ0aW1lbGluZVxcXCI+XFxuXFx0XCI7XG5vdXRwdXQgKz0gXCJcXG5cXHQ8ZGl2IGRhdGEtdGFyZ2V0PVxcXCJhamF4LWZvcm0tcmVzdWx0LWFuY2hvclxcXCIgZGF0YS1hamF4LWZvcm0taWQ9XFxcIm5vdGUtY3JlYXRlLWZvcm1cXFwiPjwvZGl2PlxcbjwvZGl2PlxcblxcblxcbjxkaXYgY2xhc3M9XFxcInRpbWVsaW5lLWVycm9yLW1lc3NhZ2VcXFwiIHN0eWxlPVxcXCJkaXNwbGF5OiBub25lO1xcXCI+XFxuXFx0PGRpdj5cXG5cXHRcXHRcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiV2UgY291bGQgbm90IGxvYWQgbW9yZSBkYXRhIGF0IHRoaXMgdGltZS5cIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHQ8YSBocmVmPVxcXCIjXFxcIiBjbGFzcz1cXFwicmV0cnktbG9hZFxcXCI+XFxuXFx0ICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcblxcdCAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiUmV0cnlcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgPC9hPlxcbiAgICA8L2Rpdj5cXG48L2Rpdj5cXG5cXG48ZGl2IGNsYXNzPVxcXCJ0aW1lbGluZS1maW5hbC1kb3RcXFwiIHN0eWxlPVxcXCJkaXNwbGF5OiBub25lO1xcXCI+XFxuXFx0PGRpdj5cXG5cXHRcXHQ8aSBjbGFzcz1cXFwiZmFzIGZhLWZ3IGZhLWNpcmNsZVxcXCI+PC9pPlxcblxcdDwvZGl2PlxcbjwvZGl2PlxcblxcbjxkaXYgY2xhc3M9XFxcInRpbWVsaW5lLXBsYWNlaG9sZGVyLWZyYW1lXFxcIiBzdHlsZT1cXFwiZGlzcGxheTogbm9uZTtcXFwiPlxcblxcdFwiO1xuZW52LmdldFRlbXBsYXRlKFwidXNlcmRhc2hib2FyZC90aW1lbGluZS1pdGVtLXBsYWNlaG9sZGVyXCIsIGZhbHNlLCBcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdXNlcmRhc2hib2FyZC90aW1lbGluZS5odG1sXCIsIG51bGwsIGZ1bmN0aW9uKHRfMyx0XzEpIHtcbmlmKHRfMykgeyBjYih0XzMpOyByZXR1cm47IH1cbnRfMS5yZW5kZXIoY29udGV4dC5nZXRWYXJpYWJsZXMoKSwgZnJhbWUsIGZ1bmN0aW9uKHRfNCx0XzIpIHtcbmlmKHRfNCkgeyBjYih0XzQpOyByZXR1cm47IH1cbm91dHB1dCArPSB0XzJcbm91dHB1dCArPSBcIlxcblxcdFwiO1xuZW52LmdldFRlbXBsYXRlKFwidXNlcmRhc2hib2FyZC90aW1lbGluZS1pdGVtLXBsYWNlaG9sZGVyXCIsIGZhbHNlLCBcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdXNlcmRhc2hib2FyZC90aW1lbGluZS5odG1sXCIsIG51bGwsIGZ1bmN0aW9uKHRfNyx0XzUpIHtcbmlmKHRfNykgeyBjYih0XzcpOyByZXR1cm47IH1cbnRfNS5yZW5kZXIoY29udGV4dC5nZXRWYXJpYWJsZXMoKSwgZnJhbWUsIGZ1bmN0aW9uKHRfOCx0XzYpIHtcbmlmKHRfOCkgeyBjYih0XzgpOyByZXR1cm47IH1cbm91dHB1dCArPSB0XzZcbm91dHB1dCArPSBcIlxcblxcdFwiO1xuZW52LmdldFRlbXBsYXRlKFwidXNlcmRhc2hib2FyZC90aW1lbGluZS1pdGVtLXBsYWNlaG9sZGVyXCIsIGZhbHNlLCBcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdXNlcmRhc2hib2FyZC90aW1lbGluZS5odG1sXCIsIG51bGwsIGZ1bmN0aW9uKHRfMTEsdF85KSB7XG5pZih0XzExKSB7IGNiKHRfMTEpOyByZXR1cm47IH1cbnRfOS5yZW5kZXIoY29udGV4dC5nZXRWYXJpYWJsZXMoKSwgZnJhbWUsIGZ1bmN0aW9uKHRfMTIsdF8xMCkge1xuaWYodF8xMikgeyBjYih0XzEyKTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF8xMFxub3V0cHV0ICs9IFwiXFxuPC9kaXY+XFxuXCI7XG5pZihwYXJlbnRUZW1wbGF0ZSkge1xucGFyZW50VGVtcGxhdGUucm9vdFJlbmRlckZ1bmMoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpO1xufSBlbHNlIHtcbmNiKG51bGwsIG91dHB1dCk7XG59XG59KX0pfSl9KX0pfSk7XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxucmV0dXJuIHtcbnJvb3Q6IHJvb3Rcbn07XG5cbn0pKCk7XG59KSgpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBzaGltKG51bmp1Y2tzLCBlbnYsIG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWRbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3VzZXJkYXNoYm9hcmQvdGltZWxpbmUuaHRtbFwiXSAsIGRlcGVuZGVuY2llcylcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Nvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdXNlcmRhc2hib2FyZC90aW1lbGluZS5odG1sXG4vLyBtb2R1bGUgaWQgPSA1OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgbnVuanVja3MgPSByZXF1aXJlKFwibnVuanVja3MvYnJvd3Nlci9udW5qdWNrcy1zbGltXCIpO1xudmFyIGVudjtcbmlmICghbnVuanVja3MuY3VycmVudEVudil7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnYgPSBuZXcgbnVuanVja3MuRW52aXJvbm1lbnQoW10sIHVuZGVmaW5lZCk7XG59IGVsc2Uge1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52O1xufVxudmFyIGNvbmZpZ3VyZSA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi8uLi9udW5qdWNrcy5jb25maWcuanNcIikoZW52KTtcbnZhciBkZXBlbmRlbmNpZXMgPSBudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzIHx8IChudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzID0ge30pO1xuXG5cblxuXG52YXIgc2hpbSA9IHJlcXVpcmUoXCIvaG9tZS9zYXNjaGEvcHIvY29zaW5udXMtY29yZS9ub2RlX21vZHVsZXMvbnVuanVja3MtbG9hZGVyL3J1bnRpbWUtc2hpbVwiKTtcblxuXG4oZnVuY3Rpb24oKSB7KG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgPSBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkIHx8IHt9KVtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdXNlcmRhc2hib2FyZC90aW1lbGluZS1pdGVtLXBsYWNlaG9sZGVyLmh0bWxcIl0gPSAoZnVuY3Rpb24oKSB7XG5mdW5jdGlvbiByb290KGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG52YXIgcGFyZW50VGVtcGxhdGUgPSBudWxsO1xub3V0cHV0ICs9IFwiPGRpdiBjbGFzcz1cXFwidGltZWxpbmUtaXRlbSBwbGFjZWhvbGRlclxcXCI+XFxuXFx0XFxuXFx0PGRpdiBjbGFzcz1cXFwidGltZWxpbmUtaXRlbS1yb3cgaGVhZGVyXFxcIj5cXG5cXHRcXHQ8ZGl2IGNsYXNzPVxcXCJoZWFkZXItYXZhdGFyXFxcIj5cXG5cXHRcXHRcXHQ8ZGl2IGNsYXNzPVxcXCJhbmltYXRlZC1iYWNrZ3JvdW5kIGltYWdlXFxcIj48L2Rpdj5cXG5cXHRcXHQ8L2Rpdj5cXG5cXHRcXHQ8ZGl2IGNsYXNzPVxcXCJoZWFkZXItaW5mb1xcXCI+XFxuXFx0XFx0XFx0PGRpdiBjbGFzcz1cXFwiaXRlbS1pbmZvXFxcIj5cXG5cXHRcXHRcXHRcXHQ8ZGl2IGNsYXNzPVxcXCJhbmltYXRlZC1iYWNrZ3JvdW5kIHJlZ3VsYXItbGluZSB3MVxcXCI+PC9kaXY+XFxuXFx0XFx0XFx0PC9kaXY+XFxuXFx0XFx0XFx0PGRpdiBjbGFzcz1cXFwiaXRlbS1kYXRlIHBhbGUtY29sb3JcXFwiPlxcblxcdFxcdFxcdFxcdDxkaXYgY2xhc3M9XFxcImFuaW1hdGVkLWJhY2tncm91bmQgdGhpbi1saW5lIHcyXFxcIj48L2Rpdj5cXG5cXHRcXHRcXHQ8L2Rpdj5cXG5cXHRcXHQ8L2Rpdj5cXG5cXHQ8L2Rpdj5cXG5cXHRcXG5cXHQ8ZGl2IGNsYXNzPVxcXCJ0aW1lbGluZS1pdGVtLXJvdyBib2R5XFxcIj5cXG5cXHRcXHQ8ZGl2IGNsYXNzPVxcXCJhbmltYXRlZC1iYWNrZ3JvdW5kIHJlZ3VsYXItbGluZSB3M1xcXCI+PC9kaXY+XFxuXFx0XFx0PGRpdiBjbGFzcz1cXFwiYW5pbWF0ZWQtYmFja2dyb3VuZCByZWd1bGFyLWxpbmUgdzRcXFwiPjwvZGl2PlxcblxcdFxcdDxkaXYgY2xhc3M9XFxcImFuaW1hdGVkLWJhY2tncm91bmQgcmVndWxhci1saW5lIHc1XFxcIj48L2Rpdj5cXG5cXHRcXHQ8ZGl2IGNsYXNzPVxcXCJwbGFjZWhvbGRlci1zcGFjZXJcXFwiPjwvZGl2PlxcblxcdDwvZGl2PlxcblxcdFxcbjwvZGl2PlwiO1xuaWYocGFyZW50VGVtcGxhdGUpIHtcbnBhcmVudFRlbXBsYXRlLnJvb3RSZW5kZXJGdW5jKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKTtcbn0gZWxzZSB7XG5jYihudWxsLCBvdXRwdXQpO1xufVxuO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbnJldHVybiB7XG5yb290OiByb290XG59O1xuXG59KSgpO1xufSkoKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gc2hpbShudW5qdWNrcywgZW52LCBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkW1wiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC91c2VyZGFzaGJvYXJkL3RpbWVsaW5lLWl0ZW0tcGxhY2Vob2xkZXIuaHRtbFwiXSAsIGRlcGVuZGVuY2llcylcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Nvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdXNlcmRhc2hib2FyZC90aW1lbGluZS1pdGVtLXBsYWNlaG9sZGVyLmh0bWxcbi8vIG1vZHVsZSBpZCA9IDYwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxudmFyIERlbGVnYXRlZFdpZGdldFZpZXcgPSByZXF1aXJlKCd2aWV3cy9iYXNlL2RlbGVnYXRlZC13aWRnZXQtdmlldycpO1xudmFyIHV0aWwgPSByZXF1aXJlKCdsaWIvdXRpbCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IERlbGVnYXRlZFdpZGdldFZpZXcuZXh0ZW5kKHtcblxuXHRhcHA6IG51bGwsXG4gICAgdGVtcGxhdGU6IHJlcXVpcmUoJ3VzZXJkYXNoYm9hcmQvZ3JvdXAtd2lkZ2V0JyksXG4gICAgXG4gICAgZmV0Y2hVUkw6ICcvZGFzaGJvYXJkL2FwaS91c2VyX2dyb3Vwcy8nLCAvLyBvdmVycmlkZGVuIGZvciBzdWJ2aWV3XG4gICAgXG4gICAgLy8gd2lsbCBiZSBzZXQgdG8gc2VsZi5vcHRpb25zIGR1cmluZyBpbml0aWFsaXphdGlvblxuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIFxuICAgICAgICBzdGF0ZToge1xuICAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICB9LFxuICAgIFxuICAgIC8vIFRoZSBET00gZXZlbnRzIHNwZWNpZmljIHRvIGFuIGl0ZW0uXG4gICAgZXZlbnRzOiB7XG4gICAgXHQvLydmb2N1cyAubmF2LXNlYXJjaC1ib3gnOiAnb25TZWFyY2hCb3hGb2N1c0luJyxcbiAgICB9LFxuXG4gICAgLyoqIE92ZXJyaWRpbmcgYmFzZSBmdW5jdGlvbiBmb3IgdW5pcXVlIHdpZGdldCBJRC4gKi9cbiAgICBnZXRXaWRnZXRJZDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAnZ3JvdXAtd2lkZ2V0JztcbiAgICB9LFxuICAgIFxuICAgIC8qKiBPdmVycmlkaW5nIHBhcmFtcyBmb3IgcmVxdWVzdCAqL1xuICAgIGdldFBhcmFtc0ZvckZldGNoUmVxdWVzdDogZnVuY3Rpb24oKSB7XG4gICAgXHRyZXR1cm4ge3VybFN1ZmZpeDogbnVsbCwgdXJsUGFyYW1zOiB7fX1cbiAgICB9LFxuICAgIFxuXG4gICAgcmVuZGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgRGVsZWdhdGVkV2lkZ2V0Vmlldy5wcm90b3R5cGUucmVuZGVyLmNhbGwoc2VsZik7XG4gICAgICAgIFxuICAgICAgICB1dGlsLmxvZygnKioqIFJlbmRlcmVkIGdyb3VwLXdpZGdldCEgKioqJylcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcbiAgICBcbiAgICAvKiogRXh0ZW5kIHRoZSB0ZW1wbGF0ZSBkYXRhIGJ5IHRoZSBjb250cm9sVmlldydzIG9wdGlvbnMgYW5kIHN0YXRlICovXG4gICAgZ2V0VGVtcGxhdGVEYXRhOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIGRhdGEgPSBEZWxlZ2F0ZWRXaWRnZXRWaWV3LnByb3RvdHlwZS5nZXRUZW1wbGF0ZURhdGEuY2FsbChzZWxmKTtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSxcbiAgICBcbiAgICBcbiAgICBcblxufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Nvc2lubnVzL2NsaWVudC92aWV3cy91c2VyZGFzaGJvYXJkL2dyb3VwLXdpZGdldC12aWV3LmpzXG4vLyBtb2R1bGUgaWQgPSA2MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgbnVuanVja3MgPSByZXF1aXJlKFwibnVuanVja3MvYnJvd3Nlci9udW5qdWNrcy1zbGltXCIpO1xudmFyIGVudjtcbmlmICghbnVuanVja3MuY3VycmVudEVudil7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnYgPSBuZXcgbnVuanVja3MuRW52aXJvbm1lbnQoW10sIHVuZGVmaW5lZCk7XG59IGVsc2Uge1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52O1xufVxudmFyIGNvbmZpZ3VyZSA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi8uLi9udW5qdWNrcy5jb25maWcuanNcIikoZW52KTtcbnZhciBkZXBlbmRlbmNpZXMgPSBudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzIHx8IChudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzID0ge30pO1xuZGVwZW5kZW5jaWVzW1widXNlcmRhc2hib2FyZC9iYXNlLXdpZGdldFwiXSA9IHJlcXVpcmUoIFwidXNlcmRhc2hib2FyZC9iYXNlLXdpZGdldFwiICk7XG5kZXBlbmRlbmNpZXNbXCJpbmNsdWRlL21hY3Jvcy5odG1sXCJdID0gcmVxdWlyZSggXCJpbmNsdWRlL21hY3Jvcy5odG1sXCIgKTtcblxuXG5cblxudmFyIHNoaW0gPSByZXF1aXJlKFwiL2hvbWUvc2FzY2hhL3ByL2Nvc2lubnVzLWNvcmUvbm9kZV9tb2R1bGVzL251bmp1Y2tzLWxvYWRlci9ydW50aW1lLXNoaW1cIik7XG5cblxuKGZ1bmN0aW9uKCkgeyhudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkID0gbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZCB8fCB7fSlbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3VzZXJkYXNoYm9hcmQvZ3JvdXAtd2lkZ2V0Lmh0bWxcIl0gPSAoZnVuY3Rpb24oKSB7XG5mdW5jdGlvbiByb290KGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG52YXIgcGFyZW50VGVtcGxhdGUgPSBudWxsO1xuZW52LmdldFRlbXBsYXRlKFwidXNlcmRhc2hib2FyZC9iYXNlLXdpZGdldFwiLCB0cnVlLCBcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdXNlcmRhc2hib2FyZC9ncm91cC13aWRnZXQuaHRtbFwiLCBmYWxzZSwgZnVuY3Rpb24odF8yLF9wYXJlbnRUZW1wbGF0ZSkge1xuaWYodF8yKSB7IGNiKHRfMik7IHJldHVybjsgfVxucGFyZW50VGVtcGxhdGUgPSBfcGFyZW50VGVtcGxhdGVcbmZvcih2YXIgdF8xIGluIHBhcmVudFRlbXBsYXRlLmJsb2Nrcykge1xuY29udGV4dC5hZGRCbG9jayh0XzEsIHBhcmVudFRlbXBsYXRlLmJsb2Nrc1t0XzFdKTtcbn1cbm91dHB1dCArPSBcIlxcblwiO1xuZW52LmdldFRlbXBsYXRlKFwiaW5jbHVkZS9tYWNyb3MuaHRtbFwiLCBmYWxzZSwgXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3VzZXJkYXNoYm9hcmQvZ3JvdXAtd2lkZ2V0Lmh0bWxcIiwgZmFsc2UsIGZ1bmN0aW9uKHRfNCx0XzMpIHtcbmlmKHRfNCkgeyBjYih0XzQpOyByZXR1cm47IH1cbnRfMy5nZXRFeHBvcnRlZChmdW5jdGlvbih0XzUsdF8zKSB7XG5pZih0XzUpIHsgY2IodF81KTsgcmV0dXJuOyB9XG5jb250ZXh0LnNldFZhcmlhYmxlKFwibWFjcm9zXCIsIHRfMyk7XG5vdXRwdXQgKz0gXCJcXG5cXG5cIjtcbihwYXJlbnRUZW1wbGF0ZSA/IGZ1bmN0aW9uKGUsIGMsIGYsIHIsIGNiKSB7IGNiKFwiXCIpOyB9IDogY29udGV4dC5nZXRCbG9jayhcInRpdGxlXCIpKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzcsdF82KSB7XG5pZih0XzcpIHsgY2IodF83KTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF82O1xub3V0cHV0ICs9IFwiXFxuXFxuXCI7XG4ocGFyZW50VGVtcGxhdGUgPyBmdW5jdGlvbihlLCBjLCBmLCByLCBjYikgeyBjYihcIlwiKTsgfSA6IGNvbnRleHQuZ2V0QmxvY2soXCJjb250ZW50XCIpKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzksdF84KSB7XG5pZih0XzkpIHsgY2IodF85KTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF84O1xuaWYocGFyZW50VGVtcGxhdGUpIHtcbnBhcmVudFRlbXBsYXRlLnJvb3RSZW5kZXJGdW5jKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKTtcbn0gZWxzZSB7XG5jYihudWxsLCBvdXRwdXQpO1xufVxufSl9KX0pfSl9KTtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX3RpdGxlKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgXCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJHcm91cHMgYW5kIFByb2plY3RzXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXCI7XG5jYihudWxsLCBvdXRwdXQpO1xuO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfY29udGVudChlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xub3V0cHV0ICs9IFwiXFxuXFx0XFxuXFx0XCI7XG5pZihlbnYuZ2V0RmlsdGVyKFwibGVuZ3RoXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJncm91cF9jbHVzdGVyc1wiKSkgPiAwKSB7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHQ8dWwgY2xhc3M9XFxcIml0ZW0tbGlzdFxcXCI+XFxuXFx0XFx0XFx0XCI7XG5mcmFtZSA9IGZyYW1lLnB1c2goKTtcbnZhciB0XzEyID0gcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJncm91cF9jbHVzdGVyc1wiKTtcbmlmKHRfMTIpIHt2YXIgdF8xMSA9IHRfMTIubGVuZ3RoO1xuZm9yKHZhciB0XzEwPTA7IHRfMTAgPCB0XzEyLmxlbmd0aDsgdF8xMCsrKSB7XG52YXIgdF8xMyA9IHRfMTJbdF8xMF07XG5mcmFtZS5zZXQoXCJjbHVzdGVyXCIsIHRfMTMpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleFwiLCB0XzEwICsgMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4MFwiLCB0XzEwKTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXhcIiwgdF8xMSAtIHRfMTApO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleDBcIiwgdF8xMSAtIHRfMTAgLSAxKTtcbmZyYW1lLnNldChcImxvb3AuZmlyc3RcIiwgdF8xMCA9PT0gMCk7XG5mcmFtZS5zZXQoXCJsb29wLmxhc3RcIiwgdF8xMCA9PT0gdF8xMSAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5sZW5ndGhcIiwgdF8xMSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcIjtcbmZyYW1lID0gZnJhbWUucHVzaCgpO1xudmFyIHRfMTYgPSB0XzEzO1xuaWYodF8xNikge3ZhciB0XzE1ID0gdF8xNi5sZW5ndGg7XG5mb3IodmFyIHRfMTQ9MDsgdF8xNCA8IHRfMTYubGVuZ3RoOyB0XzE0KyspIHtcbnZhciB0XzE3ID0gdF8xNlt0XzE0XTtcbmZyYW1lLnNldChcIml0ZW1cIiwgdF8xNyk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfMTQgKyAxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXgwXCIsIHRfMTQpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleFwiLCB0XzE1IC0gdF8xNCk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4MFwiLCB0XzE1IC0gdF8xNCAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzE0ID09PSAwKTtcbmZyYW1lLnNldChcImxvb3AubGFzdFwiLCB0XzE0ID09PSB0XzE1IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzE1KTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFwiO1xuaWYocnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTcpLFwiaGFzbW9yZWxpbmtcIikpIHtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFxcdDxsaT5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHQ8YSBjbGFzcz1cXFwibGlzdC1pdGVtIGxpc3QtaXRlbS1saW5rXFxcIiBocmVmPVxcXCIjXFxcIiByb2xlPVxcXCJidXR0b25cXFwiIHRpdGxlZGJ5PVxcXCIuaXRlbS10ZXh0XFxcIj4gXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0PGRpdiBpZD1cXFwibW9yZS1saW5rMVxcXCIgY2xhc3M9XFxcIml0ZW0tdGV4dFxcXCI+XFxuXFx0XFx0XFx0XFx0XFx0ICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiU2hvdyBtb3JlIFByb2plY3RzIG9mIHRoaXMgR3JvdXBcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQ8L2Rpdj5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHQ8YT5cXG5cXHRcXHRcXHRcXHRcXHRcXHQ8L2xpPlxcblxcdFxcdFxcdFxcdFxcdFwiO1xuO1xufVxuZWxzZSB7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoKGxpbmVubyA9IDI0LCBjb2xubyA9IDIyLCBydW50aW1lLmNhbGxXcmFwKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm1hY3Jvc1wiKSksXCJsaXN0SXRlbVwiKSwgXCJtYWNyb3NbXFxcImxpc3RJdGVtXFxcIl1cIiwgY29udGV4dCwgW3J1bnRpbWUubWVtYmVyTG9va3VwKCh0XzE3KSxcInRleHRcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTcpLFwidXJsXCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzE3KSxcImljb25cIikscnVudGltZS5tYWtlS2V5d29yZEFyZ3Moe1wiaXNfZW1waGFzaXplZFwiOiBydW50aW1lLm1lbWJlckxvb2t1cCgodF8xNyksXCJpc19lbXBoYXNpemVkXCIpfSldKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcIjtcbjtcbn1cbn1cbmZyYW1lID0gZnJhbWUucG9wKCk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXG5cXHRcXHRcXHRcXHRcIjtcbmlmKCFydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJsb29wXCIpKSxcImxhc3RcIikpIHtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdDxsaT5cXG5cXHRcXHRcXHRcXHRcXHRcXHQ8aHI+XFxuXFx0XFx0XFx0XFx0XFx0PC9saT5cXG5cXHRcXHRcXHRcXHRcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFwiO1xuO1xufVxufVxuZnJhbWUgPSBmcmFtZS5wb3AoKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdDwvdWw+XFxuXFx0XCI7XG47XG59XG5lbHNlIHtcbm91dHB1dCArPSBcIlxcblxcdFxcdDxkaXYgY2xhc3M9XFxcIndpZGdldC1pbmZvLWJveCBuby1zZWxlY3RcXFwiPlxcbiAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiSGVyZSB5b3UgY2FuIGZpbmQgYW4gb3ZlcnZpZXcgb2YgeW91ciBHcm91cHMgYW5kIFByb2plY3RzIG9uY2UgeW91IGJlY29tZSBhY3RpdmUgaW4gb25lIG9yIG1vcmUgb2YgdGhlbS5cIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHQ8YnIvPlxcblxcdFxcdFxcdDxici8+XFxuICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJZb3UgY2FuIGNyZWF0ZSBHcm91cHMgb3IgUHJvamVjdHMgdmlhIHRoZSAnKycgYnV0dG9uIGluIHRoZSBoZWFkZXIuXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0PC9kaXY+XFxuXFx0XCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cXHRcXG5cIjtcbmNiKG51bGwsIG91dHB1dCk7XG47XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxucmV0dXJuIHtcbmJfdGl0bGU6IGJfdGl0bGUsXG5iX2NvbnRlbnQ6IGJfY29udGVudCxcbnJvb3Q6IHJvb3Rcbn07XG5cbn0pKCk7XG59KSgpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBzaGltKG51bmp1Y2tzLCBlbnYsIG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWRbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3VzZXJkYXNoYm9hcmQvZ3JvdXAtd2lkZ2V0Lmh0bWxcIl0gLCBkZXBlbmRlbmNpZXMpXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3VzZXJkYXNoYm9hcmQvZ3JvdXAtd2lkZ2V0Lmh0bWxcbi8vIG1vZHVsZSBpZCA9IDYyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBudW5qdWNrcyA9IHJlcXVpcmUoXCJudW5qdWNrcy9icm93c2VyL251bmp1Y2tzLXNsaW1cIik7XG52YXIgZW52O1xuaWYgKCFudW5qdWNrcy5jdXJyZW50RW52KXtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudiA9IG5ldyBudW5qdWNrcy5FbnZpcm9ubWVudChbXSwgdW5kZWZpbmVkKTtcbn0gZWxzZSB7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnY7XG59XG52YXIgY29uZmlndXJlID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uLy4uL251bmp1Y2tzLmNvbmZpZy5qc1wiKShlbnYpO1xudmFyIGRlcGVuZGVuY2llcyA9IG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgfHwgKG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgPSB7fSk7XG5kZXBlbmRlbmNpZXNbXCJpbmNsdWRlL21hY3Jvcy5odG1sXCJdID0gcmVxdWlyZSggXCJpbmNsdWRlL21hY3Jvcy5odG1sXCIgKTtcblxuXG5cblxudmFyIHNoaW0gPSByZXF1aXJlKFwiL2hvbWUvc2FzY2hhL3ByL2Nvc2lubnVzLWNvcmUvbm9kZV9tb2R1bGVzL251bmp1Y2tzLWxvYWRlci9ydW50aW1lLXNoaW1cIik7XG5cblxuKGZ1bmN0aW9uKCkgeyhudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkID0gbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZCB8fCB7fSlbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3VzZXJkYXNoYm9hcmQvYmFzZS13aWRnZXQuaHRtbFwiXSA9IChmdW5jdGlvbigpIHtcbmZ1bmN0aW9uIHJvb3QoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbnZhciBwYXJlbnRUZW1wbGF0ZSA9IG51bGw7XG5lbnYuZ2V0VGVtcGxhdGUoXCJpbmNsdWRlL21hY3Jvcy5odG1sXCIsIGZhbHNlLCBcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdXNlcmRhc2hib2FyZC9iYXNlLXdpZGdldC5odG1sXCIsIGZhbHNlLCBmdW5jdGlvbih0XzIsdF8xKSB7XG5pZih0XzIpIHsgY2IodF8yKTsgcmV0dXJuOyB9XG50XzEuZ2V0RXhwb3J0ZWQoZnVuY3Rpb24odF8zLHRfMSkge1xuaWYodF8zKSB7IGNiKHRfMyk7IHJldHVybjsgfVxuY29udGV4dC5zZXRWYXJpYWJsZShcIm1hY3Jvc1wiLCB0XzEpO1xub3V0cHV0ICs9IFwiXFxuXFxuPGRpdiBjbGFzcz1cXFwid2lkZ2V0LWNvbnRlbnRcXFwiIFwiO1xuKHBhcmVudFRlbXBsYXRlID8gZnVuY3Rpb24oZSwgYywgZiwgciwgY2IpIHsgY2IoXCJcIik7IH0gOiBjb250ZXh0LmdldEJsb2NrKFwiYXR0cnNcIikpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfNSx0XzQpIHtcbmlmKHRfNSkgeyBjYih0XzUpOyByZXR1cm47IH1cbm91dHB1dCArPSB0XzQ7XG5vdXRwdXQgKz0gXCI+XFxuXFx0XCI7XG4ocGFyZW50VGVtcGxhdGUgPyBmdW5jdGlvbihlLCBjLCBmLCByLCBjYikgeyBjYihcIlwiKTsgfSA6IGNvbnRleHQuZ2V0QmxvY2soXCJ3aWRnZXRfZHJvcGRvd25cIikpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfNyx0XzYpIHtcbmlmKHRfNykgeyBjYih0XzcpOyByZXR1cm47IH1cbm91dHB1dCArPSB0XzY7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXG5cXHQ8aDIgY2xhc3M9XFxcImhlYWRsaW5lXFxcIj5cXG5cXHRcXHRcIjtcbihwYXJlbnRUZW1wbGF0ZSA/IGZ1bmN0aW9uKGUsIGMsIGYsIHIsIGNiKSB7IGNiKFwiXCIpOyB9IDogY29udGV4dC5nZXRCbG9jayhcInRpdGxlXCIpKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzksdF84KSB7XG5pZih0XzkpIHsgY2IodF85KTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF84O1xub3V0cHV0ICs9IFwiXFxuXFx0PC9oMj5cXG5cXHRcXG5cXHRcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiaGFkRXJyb3JzXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHQ8dWwgY2xhc3M9XFxcIml0ZW0tbGlzdFxcXCI+XFxuXFx0XFx0XFx0PGxpPlxcblxcdFxcdFxcdFxcdDxzcGFuIGNsYXNzPVxcXCJsaXN0LWl0ZW0gbGlzdC1pdGVtLWxpbmsgbGlzdC1pdGVtLWNlbnRlciBuby1zZWxlY3RcXFwiIGhyZWY9XFxcIiNcXFwiIHJvbGU9XFxcImJ1dHRvblxcXCIgdGl0bGVkYnk9XFxcIi5pdGVtLXRleHRcXFwiPiBcXG5cXHRcXHQgICAgXFx0XFx0PGRpdiBjbGFzcz1cXFwiaXRlbS10ZXh0XFxcIj5cXG5cXHRcXHQgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJUaGVyZSB3YXMgYW4gZXJyb3IgbG9hZGluZyB0aGUgd2lkZ2V0XCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0ICAgIFxcdFxcdDwvZGl2PlxcblxcdFxcdFxcdFxcdDwvc3Bhbj5cXG5cXHRcXHRcXHQ8L2xpPlxcblxcdFxcdDwvdWw+XFxuXFx0XCI7XG47XG59XG5lbHNlIHtcbm91dHB1dCArPSBcIlxcblxcdFxcblxcdFxcdFwiO1xuKHBhcmVudFRlbXBsYXRlID8gZnVuY3Rpb24oZSwgYywgZiwgciwgY2IpIHsgY2IoXCJcIik7IH0gOiBjb250ZXh0LmdldEJsb2NrKFwiY29udGVudFwiKSkoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF8xMSx0XzEwKSB7XG5pZih0XzExKSB7IGNiKHRfMTEpOyByZXR1cm47IH1cbm91dHB1dCArPSB0XzEwO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFxuXFx0XCI7XG59KTtcbn1cbm91dHB1dCArPSBcIlxcbjwvZGl2PlxcblwiO1xuaWYocGFyZW50VGVtcGxhdGUpIHtcbnBhcmVudFRlbXBsYXRlLnJvb3RSZW5kZXJGdW5jKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKTtcbn0gZWxzZSB7XG5jYihudWxsLCBvdXRwdXQpO1xufVxufSl9KX0pfSl9KTtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX2F0dHJzKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5jYihudWxsLCBvdXRwdXQpO1xuO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfd2lkZ2V0X2Ryb3Bkb3duKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiaXNNb3ZhYmxlXCIpIHx8IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiaXNIaWRhYmxlXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHQ8ZGl2IGNsYXNzPVxcXCJ3aWRnZXQtZHJvcGRvd24gdjItZHJvcGRvd24gZHJvcGRvd25cXFwiPlxcblxcdFxcdCAgICBcXHQ8YSBocmVmPVxcXCIjXFxcIiBjbGFzcz1cXFwiZHJvcGRvd24tdG9nZ2xlXFxcIiBkYXRhLXRvZ2dsZT1cXFwiZHJvcGRvd25cXFwiPlxcblxcdFxcdCAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYXMgZmEtZWxsaXBzaXMtaFxcXCI+PC9pPlxcblxcdFxcdCAgICAgICAgPC9hPlxcblxcdFxcdCAgICAgICAgPHVsIGNsYXNzPVxcXCJkcm9wZG93bi1tZW51XFxcIj5cXG5cXHRcXHRcXHRcXHRcXHQ8bGk+XFxuXFx0XFx0XFx0XFx0XFx0XFx0PGEgY2xhc3M9XFxcInNvcnQtdXBcXFwiPlxcblxcdFxcdCAgICAgICAgICAgICAgICBcXHRcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIk1vdmUgdXBcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHQ8L2E+XFxuXFx0XFx0XFx0XFx0XFx0PC9saT5cXG5cXHRcXHRcXHRcXHRcXHQ8bGk+XFxuXFx0XFx0XFx0XFx0XFx0XFx0PGEgY2xhc3M9XFxcInNvcnQtZG93blxcXCI+XFxuXFx0XFx0ICAgICAgICAgICAgICAgIFxcdFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiTW92ZSBkb3duXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XFx0PC9hPlxcblxcdFxcdFxcdFxcdFxcdDwvbGk+XFxuXFx0XFx0ICAgICAgICA8L3VsPlxcblxcdFxcdFxcdDwvZGl2PlxcblxcdFxcdFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXFx0XCI7XG5jYihudWxsLCBvdXRwdXQpO1xuO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfdGl0bGUoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbmNiKG51bGwsIG91dHB1dCk7XG47XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl9jb250ZW50KGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcIjtcbmlmKGVudi5nZXRGaWx0ZXIoXCJsZW5ndGhcIikuY2FsbChjb250ZXh0LCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIml0ZW1zXCIpKSA+IDApIHtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdDx1bCBjbGFzcz1cXFwiaXRlbS1saXN0XFxcIj5cXG5cXHRcXHRcXHRcXHRcXHRcIjtcbmZyYW1lID0gZnJhbWUucHVzaCgpO1xudmFyIHRfMTQgPSBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIml0ZW1zXCIpO1xuaWYodF8xNCkge3ZhciB0XzEzID0gdF8xNC5sZW5ndGg7XG5mb3IodmFyIHRfMTI9MDsgdF8xMiA8IHRfMTQubGVuZ3RoOyB0XzEyKyspIHtcbnZhciB0XzE1ID0gdF8xNFt0XzEyXTtcbmZyYW1lLnNldChcIml0ZW1cIiwgdF8xNSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfMTIgKyAxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXgwXCIsIHRfMTIpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleFwiLCB0XzEzIC0gdF8xMik7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4MFwiLCB0XzEzIC0gdF8xMiAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzEyID09PSAwKTtcbmZyYW1lLnNldChcImxvb3AubGFzdFwiLCB0XzEyID09PSB0XzEzIC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzEzKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSgobGluZW5vID0gNDgsIGNvbG5vID0gMjIsIHJ1bnRpbWUuY2FsbFdyYXAocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibWFjcm9zXCIpKSxcImxpc3RJdGVtXCIpLCBcIm1hY3Jvc1tcXFwibGlzdEl0ZW1cXFwiXVwiLCBjb250ZXh0LCBbcnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTUpLFwidGV4dFwiKSxydW50aW1lLm1lbWJlckxvb2t1cCgodF8xNSksXCJ1cmxcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTUpLFwiaWNvblwiKSxydW50aW1lLm1lbWJlckxvb2t1cCgodF8xNSksXCJzdWJ0ZXh0XCIpLHJ1bnRpbWUubWFrZUtleXdvcmRBcmdzKHtcImlzX2VtcGhhc2l6ZWRcIjogcnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTUpLFwiaXNfZW1waGFzaXplZFwiKX0pXSkpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFwiO1xuO1xufVxufVxuZnJhbWUgPSBmcmFtZS5wb3AoKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJsb2FkTW9yZUVuYWJsZWRcIikgJiYgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJoYXNNb3JlXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHQ8bGk+XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0PGEgY2xhc3M9XFxcImxpc3QtaXRlbSBsaXN0LWl0ZW0tbGluayBzaG93LW1vcmVcXFwiIHJvbGU9XFxcImJ1dHRvblxcXCIgdGl0bGVkYnk9XFxcIi5pdGVtLXRleHRcXFwiPiBcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQ8ZGl2IGNsYXNzPVxcXCJpdGVtLWljb24gaXRlbS1pY29uLW9mZnNldFxcXCI+XFxuXFx0XFx0XFx0XFx0XFx0ICAgIFxcdFxcdFxcdDxpIGNsYXNzPVxcXCJmYXMgZmEtZndcXFwiPjwvaT5cXG5cXHRcXHRcXHRcXHRcXHQgICAgXFx0XFx0PC9kaXY+XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0PGRpdiBjbGFzcz1cXFwiaXRlbS10ZXh0XFxcIj5cXG5cXHRcXHRcXHRcXHRcXHQgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJTaG93IG1vcmVcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQ8L2Rpdj5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHQ8L2E+XFxuXFx0XFx0XFx0XFx0XFx0XFx0PC9saT5cXG5cXHRcXHRcXHRcXHRcXHRcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdDwvdWw+XFxuXFx0XFx0XFx0XCI7XG47XG59XG5lbHNlIHtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFwiO1xuY29udGV4dC5nZXRCbG9jayhcImVtcHR5X2NvbnRlbnRcIikoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF8xNyx0XzE2KSB7XG5pZih0XzE3KSB7IGNiKHRfMTcpOyByZXR1cm47IH1cbm91dHB1dCArPSB0XzE2O1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XCI7XG59KTtcbn1cbm91dHB1dCArPSBcIlxcblxcdFxcdFwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX2VtcHR5X2NvbnRlbnQoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdDxsaT5cXG5cXHRcXHRcXHRcXHRcXHRcXHQ8c3BhbiBjbGFzcz1cXFwibGlzdC1pdGVtIGxpc3QtaXRlbS1saW5rIGxpc3QtaXRlbS1jZW50ZXIgbm8tc2VsZWN0XFxcIiBocmVmPVxcXCIjXFxcIiByb2xlPVxcXCJidXR0b25cXFwiIHRpdGxlZGJ5PVxcXCIuaXRlbS10ZXh0XFxcIj4gXFxuXFx0XFx0XFx0XFx0ICAgIFxcdFxcdDxkaXYgY2xhc3M9XFxcIml0ZW0tdGV4dFxcXCI+XFxuXFx0XFx0XFx0XFx0ICAgICAgICAgICAgICAgIFwiO1xuY29udGV4dC5nZXRCbG9jayhcImVtcHR5X21lc3NhZ2VcIikoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF8xOSx0XzE4KSB7XG5pZih0XzE5KSB7IGNiKHRfMTkpOyByZXR1cm47IH1cbm91dHB1dCArPSB0XzE4O1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0ICAgIFxcdFxcdDwvZGl2PlxcblxcdFxcdFxcdFxcdFxcdFxcdDwvc3Bhbj5cXG5cXHRcXHRcXHRcXHRcXHQ8L2xpPlxcblxcdFxcdFxcdFxcdFwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbn0pO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfZW1wdHlfbWVzc2FnZShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0ICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiVGhlcmUgYXJlIG5vIGl0ZW1zIHlldFwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5yZXR1cm4ge1xuYl9hdHRyczogYl9hdHRycyxcbmJfd2lkZ2V0X2Ryb3Bkb3duOiBiX3dpZGdldF9kcm9wZG93bixcbmJfdGl0bGU6IGJfdGl0bGUsXG5iX2NvbnRlbnQ6IGJfY29udGVudCxcbmJfZW1wdHlfY29udGVudDogYl9lbXB0eV9jb250ZW50LFxuYl9lbXB0eV9tZXNzYWdlOiBiX2VtcHR5X21lc3NhZ2UsXG5yb290OiByb290XG59O1xuXG59KSgpO1xufSkoKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gc2hpbShudW5qdWNrcywgZW52LCBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkW1wiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC91c2VyZGFzaGJvYXJkL2Jhc2Utd2lkZ2V0Lmh0bWxcIl0gLCBkZXBlbmRlbmNpZXMpXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3VzZXJkYXNoYm9hcmQvYmFzZS13aWRnZXQuaHRtbFxuLy8gbW9kdWxlIGlkID0gNjNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRGVsZWdhdGVkV2lkZ2V0VmlldyA9IHJlcXVpcmUoJ3ZpZXdzL2Jhc2UvZGVsZWdhdGVkLXdpZGdldC12aWV3Jyk7XG52YXIgdXRpbCA9IHJlcXVpcmUoJ2xpYi91dGlsJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gRGVsZWdhdGVkV2lkZ2V0Vmlldy5leHRlbmQoe1xuXG5cdGFwcDogbnVsbCxcbiAgICB0ZW1wbGF0ZTogcmVxdWlyZSgndXNlcmRhc2hib2FyZC9pZGVhcy13aWRnZXQnKSxcbiAgICBcbiAgICBmZXRjaFVSTDogJy9kYXNoYm9hcmQvYXBpL3VzZXJfbGlrZWRfaWRlYXMvJywgLy8gb3ZlcnJpZGRlbiBmb3Igc3Vidmlld1xuICAgIFxuICAgIC8vIHdpbGwgYmUgc2V0IHRvIHNlbGYub3B0aW9ucyBkdXJpbmcgaW5pdGlhbGl6YXRpb25cbiAgICBkZWZhdWx0czoge1xuICAgICAgICBcbiAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgfSxcbiAgICBcbiAgICAvLyBUaGUgRE9NIGV2ZW50cyBzcGVjaWZpYyB0byBhbiBpdGVtLlxuICAgIGV2ZW50czoge1xuICAgIFx0Ly8nZm9jdXMgLm5hdi1zZWFyY2gtYm94JzogJ29uU2VhcmNoQm94Rm9jdXNJbicsXG4gICAgfSxcblxuICAgIC8qKiBPdmVycmlkaW5nIGJhc2UgZnVuY3Rpb24gZm9yIHVuaXF1ZSB3aWRnZXQgSUQuICovXG4gICAgZ2V0V2lkZ2V0SWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gJ2lkZWFzLXdpZGdldCc7XG4gICAgfSxcbiAgICBcbiAgICAvKiogT3ZlcnJpZGluZyBwYXJhbXMgZm9yIHJlcXVlc3QgKi9cbiAgICBnZXRQYXJhbXNGb3JGZXRjaFJlcXVlc3Q6IGZ1bmN0aW9uKCkge1xuICAgIFx0cmV0dXJuIHt1cmxTdWZmaXg6IG51bGwsIHVybFBhcmFtczoge319XG4gICAgfSxcbiAgICBcblxuICAgIHJlbmRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIERlbGVnYXRlZFdpZGdldFZpZXcucHJvdG90eXBlLnJlbmRlci5jYWxsKHNlbGYpO1xuICAgICAgICBcbiAgICAgICAgdXRpbC5sb2coJyoqKiBSZW5kZXJlZCBpZGVhcy13aWRnZXQhICoqKicpXG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG4gICAgXG4gICAgLyoqIEV4dGVuZCB0aGUgdGVtcGxhdGUgZGF0YSBieSB0aGUgY29udHJvbFZpZXcncyBvcHRpb25zIGFuZCBzdGF0ZSAqL1xuICAgIGdldFRlbXBsYXRlRGF0YTogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBkYXRhID0gRGVsZWdhdGVkV2lkZ2V0Vmlldy5wcm90b3R5cGUuZ2V0VGVtcGxhdGVEYXRhLmNhbGwoc2VsZik7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH0sXG4gICAgXG4gICAgXG4gICAgXG5cbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy9jbGllbnQvdmlld3MvdXNlcmRhc2hib2FyZC9pZGVhcy13aWRnZXQtdmlldy5qc1xuLy8gbW9kdWxlIGlkID0gNjRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIG51bmp1Y2tzID0gcmVxdWlyZShcIm51bmp1Y2tzL2Jyb3dzZXIvbnVuanVja3Mtc2xpbVwiKTtcbnZhciBlbnY7XG5pZiAoIW51bmp1Y2tzLmN1cnJlbnRFbnYpe1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52ID0gbmV3IG51bmp1Y2tzLkVudmlyb25tZW50KFtdLCB1bmRlZmluZWQpO1xufSBlbHNlIHtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudjtcbn1cbnZhciBjb25maWd1cmUgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vLi4vbnVuanVja3MuY29uZmlnLmpzXCIpKGVudik7XG52YXIgZGVwZW5kZW5jaWVzID0gbnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyB8fCAobnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyA9IHt9KTtcbmRlcGVuZGVuY2llc1tcInVzZXJkYXNoYm9hcmQvYmFzZS13aWRnZXRcIl0gPSByZXF1aXJlKCBcInVzZXJkYXNoYm9hcmQvYmFzZS13aWRnZXRcIiApO1xuZGVwZW5kZW5jaWVzW1wiaW5jbHVkZS9tYWNyb3MuaHRtbFwiXSA9IHJlcXVpcmUoIFwiaW5jbHVkZS9tYWNyb3MuaHRtbFwiICk7XG5cblxuXG5cbnZhciBzaGltID0gcmVxdWlyZShcIi9ob21lL3Nhc2NoYS9wci9jb3Npbm51cy1jb3JlL25vZGVfbW9kdWxlcy9udW5qdWNrcy1sb2FkZXIvcnVudGltZS1zaGltXCIpO1xuXG5cbihmdW5jdGlvbigpIHsobnVuanVja3MubnVuanVja3NQcmVjb21waWxlZCA9IG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgfHwge30pW1wiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC91c2VyZGFzaGJvYXJkL2lkZWFzLXdpZGdldC5odG1sXCJdID0gKGZ1bmN0aW9uKCkge1xuZnVuY3Rpb24gcm9vdChlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xudmFyIHBhcmVudFRlbXBsYXRlID0gbnVsbDtcbmVudi5nZXRUZW1wbGF0ZShcInVzZXJkYXNoYm9hcmQvYmFzZS13aWRnZXRcIiwgdHJ1ZSwgXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3VzZXJkYXNoYm9hcmQvaWRlYXMtd2lkZ2V0Lmh0bWxcIiwgZmFsc2UsIGZ1bmN0aW9uKHRfMixfcGFyZW50VGVtcGxhdGUpIHtcbmlmKHRfMikgeyBjYih0XzIpOyByZXR1cm47IH1cbnBhcmVudFRlbXBsYXRlID0gX3BhcmVudFRlbXBsYXRlXG5mb3IodmFyIHRfMSBpbiBwYXJlbnRUZW1wbGF0ZS5ibG9ja3MpIHtcbmNvbnRleHQuYWRkQmxvY2sodF8xLCBwYXJlbnRUZW1wbGF0ZS5ibG9ja3NbdF8xXSk7XG59XG5vdXRwdXQgKz0gXCJcXG5cIjtcbmVudi5nZXRUZW1wbGF0ZShcImluY2x1ZGUvbWFjcm9zLmh0bWxcIiwgZmFsc2UsIFwiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC91c2VyZGFzaGJvYXJkL2lkZWFzLXdpZGdldC5odG1sXCIsIGZhbHNlLCBmdW5jdGlvbih0XzQsdF8zKSB7XG5pZih0XzQpIHsgY2IodF80KTsgcmV0dXJuOyB9XG50XzMuZ2V0RXhwb3J0ZWQoZnVuY3Rpb24odF81LHRfMykge1xuaWYodF81KSB7IGNiKHRfNSk7IHJldHVybjsgfVxuY29udGV4dC5zZXRWYXJpYWJsZShcIm1hY3Jvc1wiLCB0XzMpO1xub3V0cHV0ICs9IFwiXFxuXFxuXCI7XG4ocGFyZW50VGVtcGxhdGUgPyBmdW5jdGlvbihlLCBjLCBmLCByLCBjYikgeyBjYihcIlwiKTsgfSA6IGNvbnRleHQuZ2V0QmxvY2soXCJ0aXRsZVwiKSkoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF83LHRfNikge1xuaWYodF83KSB7IGNiKHRfNyk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfNjtcbm91dHB1dCArPSBcIlxcblxcblwiO1xuKHBhcmVudFRlbXBsYXRlID8gZnVuY3Rpb24oZSwgYywgZiwgciwgY2IpIHsgY2IoXCJcIik7IH0gOiBjb250ZXh0LmdldEJsb2NrKFwiZW1wdHlfY29udGVudFwiKSkoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF85LHRfOCkge1xuaWYodF85KSB7IGNiKHRfOSk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfODtcbmlmKHBhcmVudFRlbXBsYXRlKSB7XG5wYXJlbnRUZW1wbGF0ZS5yb290UmVuZGVyRnVuYyhlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYik7XG59IGVsc2Uge1xuY2IobnVsbCwgb3V0cHV0KTtcbn1cbn0pfSl9KX0pfSk7XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl90aXRsZShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xub3V0cHV0ICs9IFwiXFxuICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiSWRlYXMgSSBsaWtlXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXCI7XG5jYihudWxsLCBvdXRwdXQpO1xuO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfZW1wdHlfY29udGVudChlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xub3V0cHV0ICs9IFwiXFxuXFx0PGRpdiBjbGFzcz1cXFwid2lkZ2V0LWluZm8tYm94IG5vLXNlbGVjdFxcXCI+XFxuICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkhlcmUgeW91IGNhbiBmaW5kIGFuIG92ZXJ2aWV3IG9mIElkZWFzIHlvdSBoYXZlIGxpa2VkLlwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdDxici8+XFxuXFx0XFx0PGJyLz5cXG4gICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiWW91IGNhbiBjcmVhdGUgeW91ciBvd24gSWRlYXMgdmlhIHRoZSAnKycgYnV0dG9uIGluIHRoZSBoZWFkZXIgb3IgeW91IGNhbiBkaXNjb3ZlciBleGlzdGluZyBJZGVhcyBoZXJlXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiOlxcblxcdFxcdDxhIGhyZWY9XFxcIi9tYXAvP3Blb3BsZT1mYWxzZSZldmVudHM9ZmFsc2UmcHJvamVjdHM9ZmFsc2UmZ3JvdXBzPWZhbHNlJmNvbmZlcmVuY2VzPWZhbHNlJmlkZWFzPXRydWUmb3JnYW5pemF0aW9ucz1mYWxzZVxcXCI+XFxuXFx0XFx0ICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiRGlzY292ZXJcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHQ8L2E+XFxuXFx0PC9kaXY+XFxuXCI7XG5jYihudWxsLCBvdXRwdXQpO1xuO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbnJldHVybiB7XG5iX3RpdGxlOiBiX3RpdGxlLFxuYl9lbXB0eV9jb250ZW50OiBiX2VtcHR5X2NvbnRlbnQsXG5yb290OiByb290XG59O1xuXG59KSgpO1xufSkoKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gc2hpbShudW5qdWNrcywgZW52LCBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkW1wiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC91c2VyZGFzaGJvYXJkL2lkZWFzLXdpZGdldC5odG1sXCJdICwgZGVwZW5kZW5jaWVzKVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC91c2VyZGFzaGJvYXJkL2lkZWFzLXdpZGdldC5odG1sXG4vLyBtb2R1bGUgaWQgPSA2NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbnZhciBEZWxlZ2F0ZWRXaWRnZXRWaWV3ID0gcmVxdWlyZSgndmlld3MvYmFzZS9kZWxlZ2F0ZWQtd2lkZ2V0LXZpZXcnKTtcbnZhciB1dGlsID0gcmVxdWlyZSgnbGliL3V0aWwnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBEZWxlZ2F0ZWRXaWRnZXRWaWV3LmV4dGVuZCh7XG5cblx0YXBwOiBudWxsLFxuICAgIHRlbXBsYXRlOiByZXF1aXJlKCd1c2VyZGFzaGJvYXJkL3N0YXJyZWQtdXNlcnMtd2lkZ2V0JyksXG4gICAgXG4gICAgZmV0Y2hVUkw6ICcvZGFzaGJvYXJkL2FwaS91c2VyX3N0YXJyZWRfdXNlcnMvJywgLy8gb3ZlcnJpZGRlbiBmb3Igc3Vidmlld1xuICAgIFxuICAgIC8vIHdpbGwgYmUgc2V0IHRvIHNlbGYub3B0aW9ucyBkdXJpbmcgaW5pdGlhbGl6YXRpb25cbiAgICBkZWZhdWx0czoge1xuICAgICAgICBcbiAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgfSxcbiAgICBcbiAgICAvLyBUaGUgRE9NIGV2ZW50cyBzcGVjaWZpYyB0byBhbiBpdGVtLlxuICAgIGV2ZW50czoge1xuICAgIFx0Ly8nZm9jdXMgLm5hdi1zZWFyY2gtYm94JzogJ29uU2VhcmNoQm94Rm9jdXNJbicsXG4gICAgfSxcblxuICAgIC8qKiBPdmVycmlkaW5nIGJhc2UgZnVuY3Rpb24gZm9yIHVuaXF1ZSB3aWRnZXQgSUQuICovXG4gICAgZ2V0V2lkZ2V0SWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gJ3N0YXJyZWQtdXNlcnMtd2lkZ2V0JztcbiAgICB9LFxuICAgIFxuICAgIC8qKiBPdmVycmlkaW5nIHBhcmFtcyBmb3IgcmVxdWVzdCAqL1xuICAgIGdldFBhcmFtc0ZvckZldGNoUmVxdWVzdDogZnVuY3Rpb24oKSB7XG4gICAgXHRyZXR1cm4ge3VybFN1ZmZpeDogbnVsbCwgdXJsUGFyYW1zOiB7fX1cbiAgICB9LFxuICAgIFxuXG4gICAgcmVuZGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgRGVsZWdhdGVkV2lkZ2V0Vmlldy5wcm90b3R5cGUucmVuZGVyLmNhbGwoc2VsZik7XG4gICAgICAgIFxuICAgICAgICB1dGlsLmxvZygnKioqIFJlbmRlcmVkIGlkZWFzLXdpZGdldCEgKioqJylcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcbiAgICBcbiAgICAvKiogRXh0ZW5kIHRoZSB0ZW1wbGF0ZSBkYXRhIGJ5IHRoZSBjb250cm9sVmlldydzIG9wdGlvbnMgYW5kIHN0YXRlICovXG4gICAgZ2V0VGVtcGxhdGVEYXRhOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIGRhdGEgPSBEZWxlZ2F0ZWRXaWRnZXRWaWV3LnByb3RvdHlwZS5nZXRUZW1wbGF0ZURhdGEuY2FsbChzZWxmKTtcbiAgICAgICAgZGF0YS50aXRsZSA9IENPU0lOTlVTX1NUQVJSRURfVVNFUlNfTElTVFxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9LFxuICAgIFxuICAgIFxuICAgIFxuXG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29zaW5udXMvY2xpZW50L3ZpZXdzL3VzZXJkYXNoYm9hcmQvc3RhcnJlZC11c2Vycy13aWRnZXQtdmlldy5qc1xuLy8gbW9kdWxlIGlkID0gNjZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIG51bmp1Y2tzID0gcmVxdWlyZShcIm51bmp1Y2tzL2Jyb3dzZXIvbnVuanVja3Mtc2xpbVwiKTtcbnZhciBlbnY7XG5pZiAoIW51bmp1Y2tzLmN1cnJlbnRFbnYpe1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52ID0gbmV3IG51bmp1Y2tzLkVudmlyb25tZW50KFtdLCB1bmRlZmluZWQpO1xufSBlbHNlIHtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudjtcbn1cbnZhciBjb25maWd1cmUgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vLi4vbnVuanVja3MuY29uZmlnLmpzXCIpKGVudik7XG52YXIgZGVwZW5kZW5jaWVzID0gbnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyB8fCAobnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyA9IHt9KTtcbmRlcGVuZGVuY2llc1tcInVzZXJkYXNoYm9hcmQvYmFzZS13aWRnZXRcIl0gPSByZXF1aXJlKCBcInVzZXJkYXNoYm9hcmQvYmFzZS13aWRnZXRcIiApO1xuZGVwZW5kZW5jaWVzW1wiaW5jbHVkZS9tYWNyb3MuaHRtbFwiXSA9IHJlcXVpcmUoIFwiaW5jbHVkZS9tYWNyb3MuaHRtbFwiICk7XG5cblxuXG5cbnZhciBzaGltID0gcmVxdWlyZShcIi9ob21lL3Nhc2NoYS9wci9jb3Npbm51cy1jb3JlL25vZGVfbW9kdWxlcy9udW5qdWNrcy1sb2FkZXIvcnVudGltZS1zaGltXCIpO1xuXG5cbihmdW5jdGlvbigpIHsobnVuanVja3MubnVuanVja3NQcmVjb21waWxlZCA9IG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgfHwge30pW1wiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC91c2VyZGFzaGJvYXJkL3N0YXJyZWQtdXNlcnMtd2lkZ2V0Lmh0bWxcIl0gPSAoZnVuY3Rpb24oKSB7XG5mdW5jdGlvbiByb290KGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG52YXIgcGFyZW50VGVtcGxhdGUgPSBudWxsO1xuZW52LmdldFRlbXBsYXRlKFwidXNlcmRhc2hib2FyZC9iYXNlLXdpZGdldFwiLCB0cnVlLCBcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdXNlcmRhc2hib2FyZC9zdGFycmVkLXVzZXJzLXdpZGdldC5odG1sXCIsIGZhbHNlLCBmdW5jdGlvbih0XzIsX3BhcmVudFRlbXBsYXRlKSB7XG5pZih0XzIpIHsgY2IodF8yKTsgcmV0dXJuOyB9XG5wYXJlbnRUZW1wbGF0ZSA9IF9wYXJlbnRUZW1wbGF0ZVxuZm9yKHZhciB0XzEgaW4gcGFyZW50VGVtcGxhdGUuYmxvY2tzKSB7XG5jb250ZXh0LmFkZEJsb2NrKHRfMSwgcGFyZW50VGVtcGxhdGUuYmxvY2tzW3RfMV0pO1xufVxub3V0cHV0ICs9IFwiXFxuXCI7XG5lbnYuZ2V0VGVtcGxhdGUoXCJpbmNsdWRlL21hY3Jvcy5odG1sXCIsIGZhbHNlLCBcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdXNlcmRhc2hib2FyZC9zdGFycmVkLXVzZXJzLXdpZGdldC5odG1sXCIsIGZhbHNlLCBmdW5jdGlvbih0XzQsdF8zKSB7XG5pZih0XzQpIHsgY2IodF80KTsgcmV0dXJuOyB9XG50XzMuZ2V0RXhwb3J0ZWQoZnVuY3Rpb24odF81LHRfMykge1xuaWYodF81KSB7IGNiKHRfNSk7IHJldHVybjsgfVxuY29udGV4dC5zZXRWYXJpYWJsZShcIm1hY3Jvc1wiLCB0XzMpO1xub3V0cHV0ICs9IFwiXFxuXFxuXCI7XG4ocGFyZW50VGVtcGxhdGUgPyBmdW5jdGlvbihlLCBjLCBmLCByLCBjYikgeyBjYihcIlwiKTsgfSA6IGNvbnRleHQuZ2V0QmxvY2soXCJ0aXRsZVwiKSkoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF83LHRfNikge1xuaWYodF83KSB7IGNiKHRfNyk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfNjtcbm91dHB1dCArPSBcIlxcblxcblwiO1xuKHBhcmVudFRlbXBsYXRlID8gZnVuY3Rpb24oZSwgYywgZiwgciwgY2IpIHsgY2IoXCJcIik7IH0gOiBjb250ZXh0LmdldEJsb2NrKFwiY29udGVudFwiKSkoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF85LHRfOCkge1xuaWYodF85KSB7IGNiKHRfOSk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfODtcbmlmKHBhcmVudFRlbXBsYXRlKSB7XG5wYXJlbnRUZW1wbGF0ZS5yb290UmVuZGVyRnVuYyhlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYik7XG59IGVsc2Uge1xuY2IobnVsbCwgb3V0cHV0KTtcbn1cbn0pfSl9KX0pfSk7XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl90aXRsZShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xub3V0cHV0ICs9IFwiXFxuICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInRpdGxlXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX2NvbnRlbnQoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcbiAgICBcIjtcbmlmKGVudi5nZXRGaWx0ZXIoXCJsZW5ndGhcIikuY2FsbChjb250ZXh0LCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIml0ZW1zXCIpKSA+IDApIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgPHVsIGNsYXNzPVxcXCJpdGVtLWxpc3RcXFwiPlxcbiAgICAgICAgICAgIFwiO1xuZnJhbWUgPSBmcmFtZS5wdXNoKCk7XG52YXIgdF8xMiA9IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiaXRlbXNcIik7XG5pZih0XzEyKSB7dmFyIHRfMTEgPSB0XzEyLmxlbmd0aDtcbmZvcih2YXIgdF8xMD0wOyB0XzEwIDwgdF8xMi5sZW5ndGg7IHRfMTArKykge1xudmFyIHRfMTMgPSB0XzEyW3RfMTBdO1xuZnJhbWUuc2V0KFwiaXRlbVwiLCB0XzEzKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXhcIiwgdF8xMCArIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleDBcIiwgdF8xMCk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4XCIsIHRfMTEgLSB0XzEwKTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXgwXCIsIHRfMTEgLSB0XzEwIC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmZpcnN0XCIsIHRfMTAgPT09IDApO1xuZnJhbWUuc2V0KFwibG9vcC5sYXN0XCIsIHRfMTAgPT09IHRfMTEgLSAxKTtcbmZyYW1lLnNldChcImxvb3AubGVuZ3RoXCIsIHRfMTEpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKChsaW5lbm8gPSAxMSwgY29sbm8gPSAzNSwgcnVudGltZS5jYWxsV3JhcChydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJtYWNyb3NcIikpLFwic3RhcnJlZGxpc3RJdGVtXCIpLCBcIm1hY3Jvc1tcXFwic3RhcnJlZGxpc3RJdGVtXFxcIl1cIiwgY29udGV4dCwgW3RfMTNdKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgXCI7XG47XG59XG59XG5mcmFtZSA9IGZyYW1lLnBvcCgpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICA8L3VsPlxcbiAgICBcIjtcbjtcbn1cbmVsc2Uge1xub3V0cHV0ICs9IFwiXFxuICAgIDxkaXYgY2xhc3M9XFxcIndpZGdldC1pbmZvLWJveCBuby1zZWxlY3RcXFwiPlxcbiAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJOb3RoaW5nIGhlcmUgeWV0LlwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdDwvZGl2PlxcbiAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5yZXR1cm4ge1xuYl90aXRsZTogYl90aXRsZSxcbmJfY29udGVudDogYl9jb250ZW50LFxucm9vdDogcm9vdFxufTtcblxufSkoKTtcbn0pKCk7XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHNoaW0obnVuanVja3MsIGVudiwgbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZFtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdXNlcmRhc2hib2FyZC9zdGFycmVkLXVzZXJzLXdpZGdldC5odG1sXCJdICwgZGVwZW5kZW5jaWVzKVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC91c2VyZGFzaGJvYXJkL3N0YXJyZWQtdXNlcnMtd2lkZ2V0Lmh0bWxcbi8vIG1vZHVsZSBpZCA9IDY3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxudmFyIERlbGVnYXRlZFdpZGdldFZpZXcgPSByZXF1aXJlKCd2aWV3cy9iYXNlL2RlbGVnYXRlZC13aWRnZXQtdmlldycpO1xudmFyIHV0aWwgPSByZXF1aXJlKCdsaWIvdXRpbCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IERlbGVnYXRlZFdpZGdldFZpZXcuZXh0ZW5kKHtcblxuXHRhcHA6IG51bGwsXG4gICAgdGVtcGxhdGU6IHJlcXVpcmUoJ3VzZXJkYXNoYm9hcmQvc3RhcnJlZC1vYmplY3RzLXdpZGdldCcpLFxuICAgIFxuICAgIGZldGNoVVJMOiAnL2Rhc2hib2FyZC9hcGkvdXNlcl9zdGFycmVkX29iamVjdHMvJywgLy8gb3ZlcnJpZGRlbiBmb3Igc3Vidmlld1xuICAgIFxuICAgIC8vIHdpbGwgYmUgc2V0IHRvIHNlbGYub3B0aW9ucyBkdXJpbmcgaW5pdGlhbGl6YXRpb25cbiAgICBkZWZhdWx0czoge1xuICAgICAgICBcbiAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgfSxcbiAgICBcbiAgICAvLyBUaGUgRE9NIGV2ZW50cyBzcGVjaWZpYyB0byBhbiBpdGVtLlxuICAgIGV2ZW50czoge1xuICAgIFx0Ly8nZm9jdXMgLm5hdi1zZWFyY2gtYm94JzogJ29uU2VhcmNoQm94Rm9jdXNJbicsXG4gICAgfSxcblxuICAgIC8qKiBPdmVycmlkaW5nIGJhc2UgZnVuY3Rpb24gZm9yIHVuaXF1ZSB3aWRnZXQgSUQuICovXG4gICAgZ2V0V2lkZ2V0SWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gJ3N0YXJyZWQtb2JqZWN0cy13aWRnZXQnO1xuICAgIH0sXG4gICAgXG4gICAgLyoqIE92ZXJyaWRpbmcgcGFyYW1zIGZvciByZXF1ZXN0ICovXG4gICAgZ2V0UGFyYW1zRm9yRmV0Y2hSZXF1ZXN0OiBmdW5jdGlvbigpIHtcbiAgICBcdHJldHVybiB7dXJsU3VmZml4OiBudWxsLCB1cmxQYXJhbXM6IHt9fVxuICAgIH0sXG4gICAgXG5cbiAgICByZW5kZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBEZWxlZ2F0ZWRXaWRnZXRWaWV3LnByb3RvdHlwZS5yZW5kZXIuY2FsbChzZWxmKTtcbiAgICAgICAgXG4gICAgICAgIHV0aWwubG9nKCcqKiogUmVuZGVyZWQgaWRlYXMtd2lkZ2V0ISAqKionKVxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuICAgIFxuICAgIC8qKiBFeHRlbmQgdGhlIHRlbXBsYXRlIGRhdGEgYnkgdGhlIGNvbnRyb2xWaWV3J3Mgb3B0aW9ucyBhbmQgc3RhdGUgKi9cbiAgICBnZXRUZW1wbGF0ZURhdGE6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB2YXIgZGF0YSA9IERlbGVnYXRlZFdpZGdldFZpZXcucHJvdG90eXBlLmdldFRlbXBsYXRlRGF0YS5jYWxsKHNlbGYpO1xuICAgICAgICBkYXRhLnRpdGxlID0gQ09TSU5OVVNfU1RBUlJFRF9PQkpFQ1RTX0xJU1RcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSxcbiAgICBcbiAgICBcbiAgICBcblxufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Nvc2lubnVzL2NsaWVudC92aWV3cy91c2VyZGFzaGJvYXJkL3N0YXJyZWQtb2JqZWN0cy13aWRnZXQtdmlldy5qc1xuLy8gbW9kdWxlIGlkID0gNjhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIG51bmp1Y2tzID0gcmVxdWlyZShcIm51bmp1Y2tzL2Jyb3dzZXIvbnVuanVja3Mtc2xpbVwiKTtcbnZhciBlbnY7XG5pZiAoIW51bmp1Y2tzLmN1cnJlbnRFbnYpe1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52ID0gbmV3IG51bmp1Y2tzLkVudmlyb25tZW50KFtdLCB1bmRlZmluZWQpO1xufSBlbHNlIHtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudjtcbn1cbnZhciBjb25maWd1cmUgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vLi4vbnVuanVja3MuY29uZmlnLmpzXCIpKGVudik7XG52YXIgZGVwZW5kZW5jaWVzID0gbnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyB8fCAobnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyA9IHt9KTtcbmRlcGVuZGVuY2llc1tcInVzZXJkYXNoYm9hcmQvYmFzZS13aWRnZXRcIl0gPSByZXF1aXJlKCBcInVzZXJkYXNoYm9hcmQvYmFzZS13aWRnZXRcIiApO1xuZGVwZW5kZW5jaWVzW1wiaW5jbHVkZS9tYWNyb3MuaHRtbFwiXSA9IHJlcXVpcmUoIFwiaW5jbHVkZS9tYWNyb3MuaHRtbFwiICk7XG5cblxuXG5cbnZhciBzaGltID0gcmVxdWlyZShcIi9ob21lL3Nhc2NoYS9wci9jb3Npbm51cy1jb3JlL25vZGVfbW9kdWxlcy9udW5qdWNrcy1sb2FkZXIvcnVudGltZS1zaGltXCIpO1xuXG5cbihmdW5jdGlvbigpIHsobnVuanVja3MubnVuanVja3NQcmVjb21waWxlZCA9IG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgfHwge30pW1wiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC91c2VyZGFzaGJvYXJkL3N0YXJyZWQtb2JqZWN0cy13aWRnZXQuaHRtbFwiXSA9IChmdW5jdGlvbigpIHtcbmZ1bmN0aW9uIHJvb3QoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbnZhciBwYXJlbnRUZW1wbGF0ZSA9IG51bGw7XG5lbnYuZ2V0VGVtcGxhdGUoXCJ1c2VyZGFzaGJvYXJkL2Jhc2Utd2lkZ2V0XCIsIHRydWUsIFwiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC91c2VyZGFzaGJvYXJkL3N0YXJyZWQtb2JqZWN0cy13aWRnZXQuaHRtbFwiLCBmYWxzZSwgZnVuY3Rpb24odF8yLF9wYXJlbnRUZW1wbGF0ZSkge1xuaWYodF8yKSB7IGNiKHRfMik7IHJldHVybjsgfVxucGFyZW50VGVtcGxhdGUgPSBfcGFyZW50VGVtcGxhdGVcbmZvcih2YXIgdF8xIGluIHBhcmVudFRlbXBsYXRlLmJsb2Nrcykge1xuY29udGV4dC5hZGRCbG9jayh0XzEsIHBhcmVudFRlbXBsYXRlLmJsb2Nrc1t0XzFdKTtcbn1cbm91dHB1dCArPSBcIlxcblwiO1xuZW52LmdldFRlbXBsYXRlKFwiaW5jbHVkZS9tYWNyb3MuaHRtbFwiLCBmYWxzZSwgXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3VzZXJkYXNoYm9hcmQvc3RhcnJlZC1vYmplY3RzLXdpZGdldC5odG1sXCIsIGZhbHNlLCBmdW5jdGlvbih0XzQsdF8zKSB7XG5pZih0XzQpIHsgY2IodF80KTsgcmV0dXJuOyB9XG50XzMuZ2V0RXhwb3J0ZWQoZnVuY3Rpb24odF81LHRfMykge1xuaWYodF81KSB7IGNiKHRfNSk7IHJldHVybjsgfVxuY29udGV4dC5zZXRWYXJpYWJsZShcIm1hY3Jvc1wiLCB0XzMpO1xub3V0cHV0ICs9IFwiXFxuXFxuXCI7XG4ocGFyZW50VGVtcGxhdGUgPyBmdW5jdGlvbihlLCBjLCBmLCByLCBjYikgeyBjYihcIlwiKTsgfSA6IGNvbnRleHQuZ2V0QmxvY2soXCJ0aXRsZVwiKSkoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF83LHRfNikge1xuaWYodF83KSB7IGNiKHRfNyk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfNjtcbm91dHB1dCArPSBcIlxcblxcblwiO1xuKHBhcmVudFRlbXBsYXRlID8gZnVuY3Rpb24oZSwgYywgZiwgciwgY2IpIHsgY2IoXCJcIik7IH0gOiBjb250ZXh0LmdldEJsb2NrKFwiY29udGVudFwiKSkoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF85LHRfOCkge1xuaWYodF85KSB7IGNiKHRfOSk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfODtcbmlmKHBhcmVudFRlbXBsYXRlKSB7XG5wYXJlbnRUZW1wbGF0ZS5yb290UmVuZGVyRnVuYyhlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYik7XG59IGVsc2Uge1xuY2IobnVsbCwgb3V0cHV0KTtcbn1cbn0pfSl9KX0pfSk7XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl90aXRsZShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xub3V0cHV0ICs9IFwiXFxuICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInRpdGxlXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX2NvbnRlbnQoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcbiAgICBcIjtcbmlmKGVudi5nZXRGaWx0ZXIoXCJsZW5ndGhcIikuY2FsbChjb250ZXh0LCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIml0ZW1zXCIpKSA+IDApIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgPHVsIGNsYXNzPVxcXCJpdGVtLWxpc3RcXFwiPlxcbiAgICAgICAgICAgIFwiO1xuZnJhbWUgPSBmcmFtZS5wdXNoKCk7XG52YXIgdF8xMiA9IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiaXRlbXNcIik7XG5pZih0XzEyKSB7dmFyIHRfMTEgPSB0XzEyLmxlbmd0aDtcbmZvcih2YXIgdF8xMD0wOyB0XzEwIDwgdF8xMi5sZW5ndGg7IHRfMTArKykge1xudmFyIHRfMTMgPSB0XzEyW3RfMTBdO1xuZnJhbWUuc2V0KFwiaXRlbVwiLCB0XzEzKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXhcIiwgdF8xMCArIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleDBcIiwgdF8xMCk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4XCIsIHRfMTEgLSB0XzEwKTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXgwXCIsIHRfMTEgLSB0XzEwIC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmZpcnN0XCIsIHRfMTAgPT09IDApO1xuZnJhbWUuc2V0KFwibG9vcC5sYXN0XCIsIHRfMTAgPT09IHRfMTEgLSAxKTtcbmZyYW1lLnNldChcImxvb3AubGVuZ3RoXCIsIHRfMTEpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKChsaW5lbm8gPSAxMSwgY29sbm8gPSAzNSwgcnVudGltZS5jYWxsV3JhcChydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJtYWNyb3NcIikpLFwic3RhcnJlZGxpc3RJdGVtXCIpLCBcIm1hY3Jvc1tcXFwic3RhcnJlZGxpc3RJdGVtXFxcIl1cIiwgY29udGV4dCwgW3RfMTNdKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgXCI7XG47XG59XG59XG5mcmFtZSA9IGZyYW1lLnBvcCgpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICA8L3VsPlxcbiAgICBcIjtcbjtcbn1cbmVsc2Uge1xub3V0cHV0ICs9IFwiXFxuICAgIDxkaXYgY2xhc3M9XFxcIndpZGdldC1pbmZvLWJveCBuby1zZWxlY3RcXFwiPlxcbiAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJOb3RoaW5nIGhlcmUgeWV0LlwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdDwvZGl2PlxcbiAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5yZXR1cm4ge1xuYl90aXRsZTogYl90aXRsZSxcbmJfY29udGVudDogYl9jb250ZW50LFxucm9vdDogcm9vdFxufTtcblxufSkoKTtcbn0pKCk7XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHNoaW0obnVuanVja3MsIGVudiwgbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZFtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdXNlcmRhc2hib2FyZC9zdGFycmVkLW9iamVjdHMtd2lkZ2V0Lmh0bWxcIl0gLCBkZXBlbmRlbmNpZXMpXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3VzZXJkYXNoYm9hcmQvc3RhcnJlZC1vYmplY3RzLXdpZGdldC5odG1sXG4vLyBtb2R1bGUgaWQgPSA2OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbnZhciBEZWxlZ2F0ZWRXaWRnZXRWaWV3ID0gcmVxdWlyZSgndmlld3MvYmFzZS9kZWxlZ2F0ZWQtd2lkZ2V0LXZpZXcnKTtcbnZhciB1dGlsID0gcmVxdWlyZSgnbGliL3V0aWwnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBEZWxlZ2F0ZWRXaWRnZXRWaWV3LmV4dGVuZCh7XG5cblx0YXBwOiBudWxsLFxuICAgIHRlbXBsYXRlOiByZXF1aXJlKCd1c2VyZGFzaGJvYXJkL2ZvbGxvd2VkLW9iamVjdHMtd2lkZ2V0JyksXG4gICAgXG4gICAgZmV0Y2hVUkw6ICcvZGFzaGJvYXJkL2FwaS91c2VyX2ZvbGxvd2VkX29iamVjdHMvJywgLy8gb3ZlcnJpZGRlbiBmb3Igc3Vidmlld1xuICAgIFxuICAgIC8vIHdpbGwgYmUgc2V0IHRvIHNlbGYub3B0aW9ucyBkdXJpbmcgaW5pdGlhbGl6YXRpb25cbiAgICBkZWZhdWx0czoge1xuICAgICAgICBcbiAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgfSxcbiAgICBcbiAgICAvLyBUaGUgRE9NIGV2ZW50cyBzcGVjaWZpYyB0byBhbiBpdGVtLlxuICAgIGV2ZW50czoge1xuICAgIFx0Ly8nZm9jdXMgLm5hdi1zZWFyY2gtYm94JzogJ29uU2VhcmNoQm94Rm9jdXNJbicsXG4gICAgfSxcblxuICAgIC8qKiBPdmVycmlkaW5nIGJhc2UgZnVuY3Rpb24gZm9yIHVuaXF1ZSB3aWRnZXQgSUQuICovXG4gICAgZ2V0V2lkZ2V0SWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gJ2ZvbGxvd2VkLW9iamVjdHMtd2lkZ2V0JztcbiAgICB9LFxuICAgIFxuICAgIC8qKiBPdmVycmlkaW5nIHBhcmFtcyBmb3IgcmVxdWVzdCAqL1xuICAgIGdldFBhcmFtc0ZvckZldGNoUmVxdWVzdDogZnVuY3Rpb24oKSB7XG4gICAgXHRyZXR1cm4ge3VybFN1ZmZpeDogbnVsbCwgdXJsUGFyYW1zOiB7fX1cbiAgICB9LFxuICAgIFxuXG4gICAgcmVuZGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgRGVsZWdhdGVkV2lkZ2V0Vmlldy5wcm90b3R5cGUucmVuZGVyLmNhbGwoc2VsZik7XG4gICAgICAgIFxuICAgICAgICB1dGlsLmxvZygnKioqIFJlbmRlcmVkIGlkZWFzLXdpZGdldCEgKioqJylcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcbiAgICBcbiAgICAvKiogRXh0ZW5kIHRoZSB0ZW1wbGF0ZSBkYXRhIGJ5IHRoZSBjb250cm9sVmlldydzIG9wdGlvbnMgYW5kIHN0YXRlICovXG4gICAgZ2V0VGVtcGxhdGVEYXRhOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIGRhdGEgPSBEZWxlZ2F0ZWRXaWRnZXRWaWV3LnByb3RvdHlwZS5nZXRUZW1wbGF0ZURhdGEuY2FsbChzZWxmKTtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSxcbiAgICBcbiAgICBcbiAgICBcblxufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Nvc2lubnVzL2NsaWVudC92aWV3cy91c2VyZGFzaGJvYXJkL2ZvbGxvd2VkLW9iamVjdHMtd2lkZ2V0LXZpZXcuanNcbi8vIG1vZHVsZSBpZCA9IDcwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBudW5qdWNrcyA9IHJlcXVpcmUoXCJudW5qdWNrcy9icm93c2VyL251bmp1Y2tzLXNsaW1cIik7XG52YXIgZW52O1xuaWYgKCFudW5qdWNrcy5jdXJyZW50RW52KXtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudiA9IG5ldyBudW5qdWNrcy5FbnZpcm9ubWVudChbXSwgdW5kZWZpbmVkKTtcbn0gZWxzZSB7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnY7XG59XG52YXIgY29uZmlndXJlID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uLy4uL251bmp1Y2tzLmNvbmZpZy5qc1wiKShlbnYpO1xudmFyIGRlcGVuZGVuY2llcyA9IG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgfHwgKG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgPSB7fSk7XG5kZXBlbmRlbmNpZXNbXCJ1c2VyZGFzaGJvYXJkL2Jhc2Utd2lkZ2V0XCJdID0gcmVxdWlyZSggXCJ1c2VyZGFzaGJvYXJkL2Jhc2Utd2lkZ2V0XCIgKTtcbmRlcGVuZGVuY2llc1tcImluY2x1ZGUvbWFjcm9zLmh0bWxcIl0gPSByZXF1aXJlKCBcImluY2x1ZGUvbWFjcm9zLmh0bWxcIiApO1xuXG5cblxuXG52YXIgc2hpbSA9IHJlcXVpcmUoXCIvaG9tZS9zYXNjaGEvcHIvY29zaW5udXMtY29yZS9ub2RlX21vZHVsZXMvbnVuanVja3MtbG9hZGVyL3J1bnRpbWUtc2hpbVwiKTtcblxuXG4oZnVuY3Rpb24oKSB7KG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgPSBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkIHx8IHt9KVtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdXNlcmRhc2hib2FyZC9mb2xsb3dlZC1vYmplY3RzLXdpZGdldC5odG1sXCJdID0gKGZ1bmN0aW9uKCkge1xuZnVuY3Rpb24gcm9vdChlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xudmFyIHBhcmVudFRlbXBsYXRlID0gbnVsbDtcbmVudi5nZXRUZW1wbGF0ZShcInVzZXJkYXNoYm9hcmQvYmFzZS13aWRnZXRcIiwgdHJ1ZSwgXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3VzZXJkYXNoYm9hcmQvZm9sbG93ZWQtb2JqZWN0cy13aWRnZXQuaHRtbFwiLCBmYWxzZSwgZnVuY3Rpb24odF8yLF9wYXJlbnRUZW1wbGF0ZSkge1xuaWYodF8yKSB7IGNiKHRfMik7IHJldHVybjsgfVxucGFyZW50VGVtcGxhdGUgPSBfcGFyZW50VGVtcGxhdGVcbmZvcih2YXIgdF8xIGluIHBhcmVudFRlbXBsYXRlLmJsb2Nrcykge1xuY29udGV4dC5hZGRCbG9jayh0XzEsIHBhcmVudFRlbXBsYXRlLmJsb2Nrc1t0XzFdKTtcbn1cbm91dHB1dCArPSBcIlxcblwiO1xuZW52LmdldFRlbXBsYXRlKFwiaW5jbHVkZS9tYWNyb3MuaHRtbFwiLCBmYWxzZSwgXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3VzZXJkYXNoYm9hcmQvZm9sbG93ZWQtb2JqZWN0cy13aWRnZXQuaHRtbFwiLCBmYWxzZSwgZnVuY3Rpb24odF80LHRfMykge1xuaWYodF80KSB7IGNiKHRfNCk7IHJldHVybjsgfVxudF8zLmdldEV4cG9ydGVkKGZ1bmN0aW9uKHRfNSx0XzMpIHtcbmlmKHRfNSkgeyBjYih0XzUpOyByZXR1cm47IH1cbmNvbnRleHQuc2V0VmFyaWFibGUoXCJtYWNyb3NcIiwgdF8zKTtcbm91dHB1dCArPSBcIlxcblxcblwiO1xuKHBhcmVudFRlbXBsYXRlID8gZnVuY3Rpb24oZSwgYywgZiwgciwgY2IpIHsgY2IoXCJcIik7IH0gOiBjb250ZXh0LmdldEJsb2NrKFwidGl0bGVcIikpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfNyx0XzYpIHtcbmlmKHRfNykgeyBjYih0XzcpOyByZXR1cm47IH1cbm91dHB1dCArPSB0XzY7XG5vdXRwdXQgKz0gXCJcXG5cXG5cIjtcbihwYXJlbnRUZW1wbGF0ZSA/IGZ1bmN0aW9uKGUsIGMsIGYsIHIsIGNiKSB7IGNiKFwiXCIpOyB9IDogY29udGV4dC5nZXRCbG9jayhcImNvbnRlbnRcIikpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfOSx0XzgpIHtcbmlmKHRfOSkgeyBjYih0XzkpOyByZXR1cm47IH1cbm91dHB1dCArPSB0Xzg7XG5pZihwYXJlbnRUZW1wbGF0ZSkge1xucGFyZW50VGVtcGxhdGUucm9vdFJlbmRlckZ1bmMoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpO1xufSBlbHNlIHtcbmNiKG51bGwsIG91dHB1dCk7XG59XG59KX0pfSl9KX0pO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfdGl0bGUoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcbiAgICBcIjtcbm91dHB1dCArPSBcIlxcblxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkl0ZW1zIHlvdSBmb2xsb3dcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cIjtcbmNiKG51bGwsIG91dHB1dCk7XG47XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl9jb250ZW50KGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgXCI7XG5pZihlbnYuZ2V0RmlsdGVyKFwibGVuZ3RoXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJpdGVtc1wiKSkgPiAwKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIDx1bCBjbGFzcz1cXFwiaXRlbS1saXN0XFxcIj5cXG4gICAgICAgICAgICBcIjtcbmZyYW1lID0gZnJhbWUucHVzaCgpO1xudmFyIHRfMTIgPSBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIml0ZW1zXCIpO1xuaWYodF8xMikge3ZhciB0XzExID0gdF8xMi5sZW5ndGg7XG5mb3IodmFyIHRfMTA9MDsgdF8xMCA8IHRfMTIubGVuZ3RoOyB0XzEwKyspIHtcbnZhciB0XzEzID0gdF8xMlt0XzEwXTtcbmZyYW1lLnNldChcIml0ZW1cIiwgdF8xMyk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfMTAgKyAxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXgwXCIsIHRfMTApO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleFwiLCB0XzExIC0gdF8xMCk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4MFwiLCB0XzExIC0gdF8xMCAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzEwID09PSAwKTtcbmZyYW1lLnNldChcImxvb3AubGFzdFwiLCB0XzEwID09PSB0XzExIC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzExKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSgobGluZW5vID0gMTIsIGNvbG5vID0gMzYsIHJ1bnRpbWUuY2FsbFdyYXAocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibWFjcm9zXCIpKSxcImZvbGxvd2VkbGlzdEl0ZW1cIiksIFwibWFjcm9zW1xcXCJmb2xsb3dlZGxpc3RJdGVtXFxcIl1cIiwgY29udGV4dCwgW3RfMTNdKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgXCI7XG47XG59XG59XG5mcmFtZSA9IGZyYW1lLnBvcCgpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0PC91bD5cXG5cXHRcIjtcbjtcbn1cbmVsc2Uge1xub3V0cHV0ICs9IFwiXFxuXFx0PGRpdiBjbGFzcz1cXFwid2lkZ2V0LWluZm8tYm94IG5vLXNlbGVjdFxcXCI+XFxuICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIk5vdGhpbmcgaGVyZSB5ZXQuXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0PC9kaXY+XFxuICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXCI7XG5jYihudWxsLCBvdXRwdXQpO1xuO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbnJldHVybiB7XG5iX3RpdGxlOiBiX3RpdGxlLFxuYl9jb250ZW50OiBiX2NvbnRlbnQsXG5yb290OiByb290XG59O1xuXG59KSgpO1xufSkoKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gc2hpbShudW5qdWNrcywgZW52LCBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkW1wiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC91c2VyZGFzaGJvYXJkL2ZvbGxvd2VkLW9iamVjdHMtd2lkZ2V0Lmh0bWxcIl0gLCBkZXBlbmRlbmNpZXMpXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3VzZXJkYXNoYm9hcmQvZm9sbG93ZWQtb2JqZWN0cy13aWRnZXQuaHRtbFxuLy8gbW9kdWxlIGlkID0gNzFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRGVsZWdhdGVkV2lkZ2V0VmlldyA9IHJlcXVpcmUoJ3ZpZXdzL2Jhc2UvZGVsZWdhdGVkLXdpZGdldC12aWV3Jyk7XG52YXIgdXRpbCA9IHJlcXVpcmUoJ2xpYi91dGlsJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gRGVsZWdhdGVkV2lkZ2V0Vmlldy5leHRlbmQoe1xuXG5cdGFwcDogbnVsbCxcbiAgICB0ZW1wbGF0ZTogcmVxdWlyZSgndXNlcmRhc2hib2FyZC90eXBlZC1jb250ZW50LXdpZGdldCcpLFxuICAgIFxuICAgIGZldGNoVVJMOiAnL2Rhc2hib2FyZC9hcGkvdXNlcl90eXBlZF9jb250ZW50L3JlY2VudC8nLCAvLyBvdmVycmlkZGVuIGZvciBzdWJ2aWV3XG4gICAgXG4gICAgLy8gd2lsbCBiZSBzZXQgdG8gc2VsZi5vcHRpb25zIGR1cmluZyBpbml0aWFsaXphdGlvblxuICAgIGRlZmF1bHRzOiB7XG4gICAgXHRcbiAgICBcdHR5cGU6IG51bGwsIC8vIHRoZSB0eXBlIG9mIHRoZSBjb250ZW50IHRoZSB3aWRnZXQgZGlzcGxheXNcbiAgICBcdGlzTW92YWJsZTogdHJ1ZSwgLy8gd2lkZ2V0IHRlbXBsYXRlIG9wdGlvbnNcbiAgICBcdGlzSGlkYWJsZTogZmFsc2UsIC8vIHdpZGdldCB0ZW1wbGF0ZSBvcHRpb25zXG4gICAgXHRsb2FkTW9yZUVuYWJsZWQ6IHRydWUsIC8vIHdpZGdldCB0ZW1wbGF0ZSBvcHRpb25zXG4gICAgICAgIFxuICAgICAgICBzdGF0ZToge1xuICAgICAgICBcdHNvcnRJbmRleDogMCxcbiAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgfSxcbiAgICBcbiAgICAvLyBUaGUgRE9NIGV2ZW50cyBzcGVjaWZpYyB0byBhbiBpdGVtLlxuICAgIGV2ZW50czoge1xuICAgIFx0J2NsaWNrIC5zb3J0LXVwJzogJ29uTW92ZVVwQ2xpY2tlZCcsXG4gICAgXHQnY2xpY2sgLnNvcnQtZG93bic6ICdvbk1vdmVEb3duQ2xpY2tlZCcsXG4gICAgXHQnY2xpY2sgLnNob3ctbW9yZSc6ICdvblNob3dNb3JlQ2xpY2tlZCcsXG4gICAgfSxcbiAgICBcbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbiAob3B0aW9ucywgYXBwKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgc2VsZi5hcHAgPSBhcHA7XG4gICAgICAgIERlbGVnYXRlZFdpZGdldFZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbChzZWxmLCBvcHRpb25zKTtcbiAgICAgICAgc2VsZi5vcHRpb25zLnR5cGUgPSBvcHRpb25zLnR5cGU7IC8vIHdvdWxkIGhhdmUgaGFwcGVuZWQgaW4gaW5pdGlhbGl6ZSBhbHJlYWR5IGJ1dCBsZXQncyBiZSBleHBsaWNpdFxuICAgICAgICBzZWxmLnN0YXRlLnNvcnRJbmRleCA9IG9wdGlvbnMuc29ydEluZGV4O1xuICAgIH0sXG4gICAgXG4gICAgLyoqIE92ZXJyaWRpbmcgYmFzZSBmdW5jdGlvbiBmb3IgdW5pcXVlIHdpZGdldCBJRC4gKi9cbiAgICBnZXRXaWRnZXRJZDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnR5cGUgKyAnLWNvbnRlbnQtd2lkZ2V0JztcbiAgICB9LFxuICAgIFxuICAgIC8qKiBPdmVycmlkaW5nIHBhcmFtcyBmb3IgcmVxdWVzdCAqL1xuICAgIGdldFBhcmFtc0ZvckZldGNoUmVxdWVzdDogZnVuY3Rpb24oKSB7XG4gICAgXHR2YXIgc2VsZiA9IHRoaXM7XG4gICAgXHR2YXIgc3VwZXJQYXJhbXMgPSBEZWxlZ2F0ZWRXaWRnZXRWaWV3LnByb3RvdHlwZS5nZXRQYXJhbXNGb3JGZXRjaFJlcXVlc3QuY2FsbChzZWxmKTtcbiAgICBcdHJldHVybiB7dXJsU3VmZml4OiB0aGlzLm9wdGlvbnMudHlwZSwgdXJsUGFyYW1zOiBzdXBlclBhcmFtc1sndXJsUGFyYW1zJ119XG4gICAgfSxcbiAgICBcbiAgICBvbk1vdmVVcENsaWNrZWQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIFx0dmFyIHNlbGYgPSB0aGlzO1xuICAgIFx0QXBwLnVzZXJEYXNoYm9hcmRWaWV3Lm1vdmVSaWdodFNpZGVXaWRnZXQoc2VsZi5vcHRpb25zLnR5cGUsIHRydWUpO1xuICAgIH0sXG4gICAgXG4gICAgb25Nb3ZlRG93bkNsaWNrZWQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIFx0dmFyIHNlbGYgPSB0aGlzO1xuICAgIFx0QXBwLnVzZXJEYXNoYm9hcmRWaWV3Lm1vdmVSaWdodFNpZGVXaWRnZXQoc2VsZi5vcHRpb25zLnR5cGUsIGZhbHNlKTtcbiAgICB9LFxuXG4gICAgcmVuZGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgRGVsZWdhdGVkV2lkZ2V0Vmlldy5wcm90b3R5cGUucmVuZGVyLmNhbGwoc2VsZik7XG4gICAgICAgIFxuICAgICAgICB1dGlsLmxvZygnIyAjIyBSZW5kZXJlZCB3aWRnZXQgJyArIHNlbGYud2lkZ2V0SWQpO1xuICAgIFx0XG4gICAgICAgIC8vIHJlbW92ZSB3aWRnZXQgaWYgZW1wdHlcbiAgICAgICAgaWYgKHNlbGYud2lkZ2V0RGF0YSAmJiBzZWxmLndpZGdldERhdGEuaXRlbXMgJiYgc2VsZi53aWRnZXREYXRhLml0ZW1zLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgIFx0c2VsZi4kZWwucmVtb3ZlKClcbiAgICAgICAgfVxuICAgICAgICAvLyByZW1vdmUgd2lkZ2V0IGlmIHVua25vd24gY29udGVudCB0eXBlIChhcHAgdHlwZSBtaWdodCBiZSBkaXNhYmxlZClcbiAgICAgICAgaWYgKHNlbGYuc3RhdGVbJ2Vycm9yUmVzcG9uc2VUZXh0J10gJiYgc2VsZi5zdGF0ZVsnZXJyb3JSZXNwb25zZVRleHQnXS5zdGFydHNXaXRoKCdVbmtub3duIGNvbnRlbnQgdHlwZSBzdXBwbGllZCcpKSB7XG4gICAgICAgICAgICBzZWxmLiRlbC5yZW1vdmUoKVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcbiAgICBcbiAgICAvKiogRXh0ZW5kIHRoZSB0ZW1wbGF0ZSBkYXRhIGJ5IHRoZSBjb250cm9sVmlldydzIG9wdGlvbnMgYW5kIHN0YXRlICovXG4gICAgZ2V0VGVtcGxhdGVEYXRhOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIGRhdGEgPSBEZWxlZ2F0ZWRXaWRnZXRWaWV3LnByb3RvdHlwZS5nZXRUZW1wbGF0ZURhdGEuY2FsbChzZWxmKTtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSxcbiAgICBcbiAgICBcbiAgICBcblxufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Nvc2lubnVzL2NsaWVudC92aWV3cy91c2VyZGFzaGJvYXJkL3R5cGVkLWNvbnRlbnQtd2lkZ2V0LXZpZXcuanNcbi8vIG1vZHVsZSBpZCA9IDcyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBudW5qdWNrcyA9IHJlcXVpcmUoXCJudW5qdWNrcy9icm93c2VyL251bmp1Y2tzLXNsaW1cIik7XG52YXIgZW52O1xuaWYgKCFudW5qdWNrcy5jdXJyZW50RW52KXtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudiA9IG5ldyBudW5qdWNrcy5FbnZpcm9ubWVudChbXSwgdW5kZWZpbmVkKTtcbn0gZWxzZSB7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnY7XG59XG52YXIgY29uZmlndXJlID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uLy4uL251bmp1Y2tzLmNvbmZpZy5qc1wiKShlbnYpO1xudmFyIGRlcGVuZGVuY2llcyA9IG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgfHwgKG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgPSB7fSk7XG5kZXBlbmRlbmNpZXNbXCJ1c2VyZGFzaGJvYXJkL2Jhc2Utd2lkZ2V0XCJdID0gcmVxdWlyZSggXCJ1c2VyZGFzaGJvYXJkL2Jhc2Utd2lkZ2V0XCIgKTtcbmRlcGVuZGVuY2llc1tcImluY2x1ZGUvbWFjcm9zLmh0bWxcIl0gPSByZXF1aXJlKCBcImluY2x1ZGUvbWFjcm9zLmh0bWxcIiApO1xuXG5cblxuXG52YXIgc2hpbSA9IHJlcXVpcmUoXCIvaG9tZS9zYXNjaGEvcHIvY29zaW5udXMtY29yZS9ub2RlX21vZHVsZXMvbnVuanVja3MtbG9hZGVyL3J1bnRpbWUtc2hpbVwiKTtcblxuXG4oZnVuY3Rpb24oKSB7KG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgPSBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkIHx8IHt9KVtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdXNlcmRhc2hib2FyZC90eXBlZC1jb250ZW50LXdpZGdldC5odG1sXCJdID0gKGZ1bmN0aW9uKCkge1xuZnVuY3Rpb24gcm9vdChlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xudmFyIHBhcmVudFRlbXBsYXRlID0gbnVsbDtcbmVudi5nZXRUZW1wbGF0ZShcInVzZXJkYXNoYm9hcmQvYmFzZS13aWRnZXRcIiwgdHJ1ZSwgXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3VzZXJkYXNoYm9hcmQvdHlwZWQtY29udGVudC13aWRnZXQuaHRtbFwiLCBmYWxzZSwgZnVuY3Rpb24odF8yLF9wYXJlbnRUZW1wbGF0ZSkge1xuaWYodF8yKSB7IGNiKHRfMik7IHJldHVybjsgfVxucGFyZW50VGVtcGxhdGUgPSBfcGFyZW50VGVtcGxhdGVcbmZvcih2YXIgdF8xIGluIHBhcmVudFRlbXBsYXRlLmJsb2Nrcykge1xuY29udGV4dC5hZGRCbG9jayh0XzEsIHBhcmVudFRlbXBsYXRlLmJsb2Nrc1t0XzFdKTtcbn1cbm91dHB1dCArPSBcIlxcblwiO1xuZW52LmdldFRlbXBsYXRlKFwiaW5jbHVkZS9tYWNyb3MuaHRtbFwiLCBmYWxzZSwgXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3VzZXJkYXNoYm9hcmQvdHlwZWQtY29udGVudC13aWRnZXQuaHRtbFwiLCBmYWxzZSwgZnVuY3Rpb24odF80LHRfMykge1xuaWYodF80KSB7IGNiKHRfNCk7IHJldHVybjsgfVxudF8zLmdldEV4cG9ydGVkKGZ1bmN0aW9uKHRfNSx0XzMpIHtcbmlmKHRfNSkgeyBjYih0XzUpOyByZXR1cm47IH1cbmNvbnRleHQuc2V0VmFyaWFibGUoXCJtYWNyb3NcIiwgdF8zKTtcbm91dHB1dCArPSBcIlxcblxcblwiO1xuKHBhcmVudFRlbXBsYXRlID8gZnVuY3Rpb24oZSwgYywgZiwgciwgY2IpIHsgY2IoXCJcIik7IH0gOiBjb250ZXh0LmdldEJsb2NrKFwiYXR0cnNcIikpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfNyx0XzYpIHtcbmlmKHRfNykgeyBjYih0XzcpOyByZXR1cm47IH1cbm91dHB1dCArPSB0XzY7XG5vdXRwdXQgKz0gXCJcXG5cXG5cIjtcbihwYXJlbnRUZW1wbGF0ZSA/IGZ1bmN0aW9uKGUsIGMsIGYsIHIsIGNiKSB7IGNiKFwiXCIpOyB9IDogY29udGV4dC5nZXRCbG9jayhcInRpdGxlXCIpKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzksdF84KSB7XG5pZih0XzkpIHsgY2IodF85KTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF84O1xub3V0cHV0ICs9IFwiXFxuXFxuXFxuXCI7XG5pZihwYXJlbnRUZW1wbGF0ZSkge1xucGFyZW50VGVtcGxhdGUucm9vdFJlbmRlckZ1bmMoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpO1xufSBlbHNlIHtcbmNiKG51bGwsIG91dHB1dCk7XG59XG59KX0pfSl9KX0pO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfYXR0cnMoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcImRhdGEtc29ydC1pbmRleD1cXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic29ydEluZGV4XCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCIgZGF0YS1jb250ZW50LXR5cGU9XFxcIlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInR5cGVcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxcIlwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX3RpdGxlKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwid2lkZ2V0X3RpdGxlXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5yZXR1cm4ge1xuYl9hdHRyczogYl9hdHRycyxcbmJfdGl0bGU6IGJfdGl0bGUsXG5yb290OiByb290XG59O1xuXG59KSgpO1xufSkoKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gc2hpbShudW5qdWNrcywgZW52LCBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkW1wiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC91c2VyZGFzaGJvYXJkL3R5cGVkLWNvbnRlbnQtd2lkZ2V0Lmh0bWxcIl0gLCBkZXBlbmRlbmNpZXMpXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3VzZXJkYXNoYm9hcmQvdHlwZWQtY29udGVudC13aWRnZXQuaHRtbFxuLy8gbW9kdWxlIGlkID0gNzNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbCA9IHJlcXVpcmUoJ2xpYi91dGlsLmpzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gQmFja2JvbmUuVmlldy5leHRlbmQoe1xuICAgIFxuXHR1aVByZWZzOiBudWxsLFxuXHRmZXRjaFVybDogJy9kYXNoYm9hcmQvYXBpL3NhdmVfdWlfcHJlZnMvJyxcblx0XG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gKHVpUHJlZnMpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBCYWNrYm9uZS5WaWV3LnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwoc2VsZik7XG4gICAgICAgICQoJ2JvZHknKS5vbignY2xpY2snLCAnW2RhdGEtdGFyZ2V0PVwidWktcHJlZlwiXScsIHNlbGYub25VaVByZWZMaW5rQ2xpY2tlZC5iaW5kKHRoaXMpKTtcbiAgICAgICAgc2VsZi51aVByZWZzID0gdWlQcmVmcztcbiAgICB9LFxuICAgIFxuICAgIC8qKiBSZXR1cm5zIGEgdWlQcmVmIGZvciB0aGUgZ2l2ZW4gdWlfcHJlZiBrZXksIGUuZy4gJ3RpbWVsaW5lX19vbmx5X21pbmUnICovXG4gICAgZ2V0VWlQcmVmOiBmdW5jdGlvbih1aVByZWYpIHtcbiAgICBcdGlmICh1aVByZWYgaW4gdGhpcy51aVByZWZzKSB7XG4gICAgXHRcdHJldHVybiB0aGlzLnVpUHJlZnNbdWlQcmVmXTtcbiAgICBcdH1cbiAgICBcdHJldHVybiBudWxsO1xuICAgIH0sXG4gICAgXG4gICAgLyoqIEFwcGxpZXMgdGhlIGdpdmVuIHVpUHJlZnMgaW50byB0aGUgY3VycmVudCBzdGF0ZSBhbmRcbiAgICAgKiBcdHNlbmRzIGEgcmVxdWVzdCB0byBwZXJzaXN0IHRoZW0gaW4gdGhlIERCIGZvciB0aGlzIHVzZXIuXG4gICAgICogXHRUaGUgQVBJIG9ubHkgcGVyc2lzdHMgd2VsbC1mb3JtZWQsIGV4aXN0aW5nIHVpIHByZWZzLCBzb1xuICAgICAqICB3ZSBkb24ndCBuZWVkIHRvIHdvcnJ5IGFib3V0IHZhbGlkYXRpbmcgdGhlbS4gKi9cbiAgICBzYXZlVWlQcmVmczogZnVuY3Rpb24odWlQcmVmRGljdCkge1xuICAgIFx0dmFyIHVybCA9IHRoaXMuZmV0Y2hVcmw7XG4gICAgXHQkLmV4dGVuZCh0cnVlLCBzZWxmLnVpUHJlZnMsIHVpUHJlZkRpY3QpO1xuICAgIFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXHRcdFx0JC5hamF4KHVybCwge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICB0aW1lb3V0OiAxNTAwMCxcbiAgICAgICAgICAgICAgICBkYXRhOiB1aVByZWZEaWN0LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSwgdGV4dFN0YXR1cywgeGhyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzID09IDIwMCkge1xuICAgICAgICAgICAgICAgIFx0XHRyZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIFx0cmVqZWN0KHhoci5zdGF0dXNUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIHRleHRTdGF0dXMpIHtcbiAgICAgICAgICAgICAgICBcdHJlamVjdCh4aHIuc3RhdHVzVGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgXHR9KTtcbiAgICBcdFxuICAgIH0sXG4gICAgXG4gICAgLyoqIEEgbGlzdGVuZXIgZm9yIGNsaWNrcyBvbiBsaW5rcyB0aGF0IGNhdXNlIHVpIHByZWYgY2hhbmdlcy4gXG4gICAgICogXHRSZXF1aXJlZCBhdHRyaWJ1dGVzIG9uIHRoZSBsaW5rIGFyZTpcbiAgICAgKiBcdFx0LSBgZGF0YS10YXJnZXQ9XCJ1aS1wcmVmXCJgOiBhcyBpZGVudGlmaWVyXG4gICAgICogXHRcdC0gYGRhdGEtdWktcHJlZmA6IHNldCB0byB0aGUgbmFtZSBvZiB0aGUgdWkgcHJlZlxuICAgICAqIFx0XHQtIGBkYXRhLXVpLXByZWYtdmFsdWVgOiBzZXQgdG8gdGhlIHZhbHVlIHRoZSB1aSBwcmVmIHNob3VsZCB0YWtlXG4gICAgICogXHRcdC0gYGRhdGEtaGlkZS1hZnRlcmA6IChvcHRpb25hbCkgYSBzZWxlY3RvciBmb3IgYW4gZWxlbWVudCB0aGF0IHNob3VsZCBiZSBoaWRkZW4gXG4gICAgICogXHRcdFx0XHRhZnRlciB0aGUgdWkgcHJlZiB3YXMgc2F2ZWRcbiAgICAgKiAgKi9cbiAgICBvblVpUHJlZkxpbmtDbGlja2VkOiBmdW5jdGlvbihldmVudCkge1xuICAgIFx0dmFyIHNlbGYgPSB0aGlzO1xuICAgIFx0dmFyIHByZWZzID0ge307XG4gICAgXHR2YXIgJGxpbmsgPSAkKGV2ZW50LnRhcmdldCk7XG4gICAgXHRcbiAgICBcdGlmICghJGxpbmsuaXMoJ1tkYXRhLXRhcmdldD1cInVpLXByZWZcIl0nKSkge1xuICAgIFx0ICAgICRsaW5rID0gJGxpbmsucGFyZW50cygnW2RhdGEtdGFyZ2V0PVwidWktcHJlZlwiXScpO1xuICAgIFx0fVxuICAgIFx0aWYgKCRsaW5rLmlzKCdbZGF0YS10YXJnZXQ9XCJ1aS1wcmVmXCJdJykpIHtcbiAgICAgICAgXHRwcmVmc1skbGluay5hdHRyKCdkYXRhLXVpLXByZWYnKV0gPSAkbGluay5hdHRyKCdkYXRhLXVpLXByZWYtdmFsdWUnKTtcbiAgICAgICAgXHR0aGlzLnNhdmVVaVByZWZzKHByZWZzKTtcbiAgICAgICAgXHRcbiAgICAgICAgXHQvLyBpZiBhbiBlbGVtZW50IGlzIGdpdmVuIGluIGBkYXRhLWhpZGUtYWZ0ZXJgLCBoaWRlIHRoYXQgZWxlbWVudFxuICAgICAgICBcdHZhciBoaWRlQWZ0ZXIgPSAkbGluay5hdHRyKCdkYXRhLWhpZGUtYWZ0ZXInKTtcbiAgICAgICAgXHRpZiAoaGlkZUFmdGVyKSB7XG4gICAgICAgIFx0XHQkKGhpZGVBZnRlcikuZmFkZU91dCgpO1xuICAgICAgICBcdH1cbiAgICBcdH1cbiAgICB9LFxuICAgIFxufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Nvc2lubnVzL2NsaWVudC92aWV3cy91c2VyZGFzaGJvYXJkL3VpLXByZWZzLXZpZXcuanNcbi8vIG1vZHVsZSBpZCA9IDc0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=