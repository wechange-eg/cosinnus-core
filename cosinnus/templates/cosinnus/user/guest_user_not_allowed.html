{% extends "cosinnus/base.html" %}
{% load i18n cosinnus_tags cosinnus_map_tags static thumbnail %}

{% block page_title %}{% trans "Restricted Guest Access" %} {{ block.super }}{% endblock page_title %}

{% block main_page %}

    {% include 'cosinnus/messages.html' %}

    <div class="col-lg-2 col-md-2">
    </div>
    <div class="col-lg-8 col-md-8">
        <div class="row">
            <div class="content-box">

                <h2>{% trans "Access restricted for guest accounts" %}</h2>
                <p class="textfield transparent">
                    {% with guest_group=request.user.cosinnus_profile.guest_access_object.group %}
                        {% trans "You are currently using the site with a guest account provided to you via a link." %}
                        {{ guest_group.trans.GUEST_BROWSE_ONLY }}:
                        <a class="transparent" href="{{ guest_group.get_absolute_url }}">{{ guest_group.name }}</a>
                    {% endwith %}
                </p>
                <p class="textfield transparent">
                    {% trans "As a guest, many features on this site are not available to you, like creating content, uploading files, or messaging other users." %}
                    {% trans "You also cannot customize your user profile." %}
                </p>

                <hr class="invisible"/>

                <h2>{% trans "Sign up now to create a full account!" %}</h2>
                <p class="textfield transparent">
                    {% trans "If you sign up to become a member, you can collaborate with others, customize your profile, and use all of the site's features." %}
                </p>
                <p class="textfield transparent">
                    {% trans "Note that after signup, you will have to apply or be invited to become a full member of any projects, groups, or conferences. Your guest account's memberships will not carry over." %}
                </p>
            </div>

            <button href="javascript:window.history.back();" class="btn btn-emphasized btn-autosize pull-left no-margin">
                <ul class="media-list">
                    <li class="media">
                        <span class="pull-left">
                            <i class="fa fa-arrow-left"></i>
                        </span>
                        <div class="media-body">
                            {% trans "Back" %}
                        </div>
                    </li>
                </ul>
            </button>

            <button href="{% url "logout" %}?next={% url "cosinnus:user-add" %}?next={{ request.user.cosinnus_profile.guest_access_object.group.get_absolute_url }}" class="btn btn-emphasized btn-autosize">
                <ul class="media-list">
                    <li class="media">
                        <span class="pull-left">
                            <i class="fa fa-user-plus"></i>
                        </span>
                        <div class="media-body">
                            {% trans "Leave guest access and create an account" %}
                        </div>
                    </li>
                </ul>
            </button>
        </div>
    </div>

{% endblock main_page %}

