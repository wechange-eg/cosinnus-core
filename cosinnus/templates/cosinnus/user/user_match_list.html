{% extends "cosinnus/base.html" %}
{% load i18n cosinnus_tags widget_tweaks static thumbnail %}

{% block page_title %}{% trans 'Find a Match' %}{% endblock %}

{% block main_page %}
    {% include 'cosinnus/extra_body_header.html' %}
    <div class="container user-match">
        <div class="row">
            
            <div class="col-xs-12 ultra-space">
                <div class="textfield transparent">
                    <p>
                        {% comment %} Sending this through |textfield allows markdown formatting {% endcomment %}
                        {% trans "The **matching feature** offers you the opportunity to exchange with like-minded users of the platform. Based on the profile information you entered, we make suggestions who could be interesting exchange partners for you. If you are interested in the exchange with users and they are too, then you will be matched and a Rocket.Chat channel will open automatically an exchange. If you express interest in another user, this user is notified and gets the ability to do the same with you." as trans_header %}
                        {{ trans_header|textfield }}
                    </p>
                </div>
            </div>
            <div class="clearfix"></div>

            {% if selected_user_profile %}
                <div class="col-sm-4 large-space">
                    {% include "cosinnus/user/user_match_card.html" with user_profile=selected_user_profile user_already_liked=selected_user_liked user_already_disliked=selected_user_disliked user_already_matched=selected_user_matched %}
                </div>

            {% elif scored_user_profiles %}

                {% for scored_user_profile in scored_user_profiles %}
                    <div class="col-sm-4 large-space">
                        {% include "cosinnus/user/user_match_card.html" with user_profile=scored_user_profile %}
                    </div>
                {% endfor %}

            {% else %} {# no selected user and no selected user profiles #}

                <div class="col-xs-12">
                    <hr class="invisible"/>
                    <div class="textfield transparent">
                        <p>
                            {% comment %} Sending this through |textfield allows markdown formatting {% endcomment %}
                            {% trans "Sorry, but currently, there are no more profiles to show you. Please come back later!" as trans_footer %}
                            {{ trans_footer|textfield }}
                        </p>
                    </div>
                </div>

            {% endif %}

        </div>
    </div>
{% endblock main_page %}
