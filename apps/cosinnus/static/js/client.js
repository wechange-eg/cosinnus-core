/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	// Main application class
	
	var Router = __webpack_require__(1);
	var mediator = __webpack_require__(13);
	var util = __webpack_require__(5);
	
	var ControlView = __webpack_require__(14);
	var MapView = __webpack_require__(2);
	var TileListView = __webpack_require__(28);
	var TileDetailView = __webpack_require__(34);
	var NavbarQuickSearchView = __webpack_require__(46);
	var NavbarMainMenuView = __webpack_require__(48);
	var NavbarNotificationWidgetView = __webpack_require__(50);
	var UserDashboardView = __webpack_require__(54);
	
	
	var App = function App () {
	    var self = this;
	    
	    // emulate a view's anchorpoint
	    self.el = null;
	    self.$el = null;
	    
	    // contains all views that can display Results
	    self.contentViews = [];
	    self.controlView = null;
	    self.tileListView = null;
	    self.mapView = null;
	    self.tileDetailView = null;
	    
	    // other views
	    self.navbarQuickSearchView = null;
	    self.navbarMainMenuView = null;
	    self.navbarNotificationWidget = null;
	    self.userDashboardView = null;
	
	    self.router = null;
	    self.mediator = null;
	    
	    // should have them all here
	    self.defaultSettings = {
	        // we can't actually define them here, as these get set in controlView.defaults!
	    	// see controlView.defaults for all their default values
			/*
	         * filterGroup: <int> if given, filters all content by the given group id
	         * filterManagedTag: <int> if given, filters all content by the given managed tag id
			 * availableFilters: <dict> the shown result filters by type
			 * activeFilters: <dict> the active (selected) current result filters by type
			 * basePageUrl: <str> the eg "/map/" url fragment as base of this page, used to build history URLs 
			 * 		(independent of search endpoint URLs)
			 */
	    };
	    
	    self.defaultDisplayOptions = {
	        showMap: true,
	        showTiles: true,
	        showControls: true,
	        fullscreen: true,
	        routeNavigation: true,
	        forcePaginationControlsEnabled: false
	    };
	    self.displayOptions = {}
	    self.defaultEl = '#app-fullscreen';
	    self.defaultBasePageUrl = '/map/';
	    
	    self.passedOptions = null;
	    
	    // the most recent complete settings the app was initialized with
	    self.settings = null;
	    
	    
	    /** Main entry point */
	    self.start = function () {
	        self.mediator = Backbone.mediator = mediator;
	        self.mediator.settings = window.settings || {};
	        
	        var triggerResizeEvent = function (){
	            Backbone.mediator.publish('resize:window');
	        }
	        var resizeTimer;
	        // A global resize event with a delay so it won't fire constantly
	        $(window).on('resize', function () {
	            clearTimeout(resizeTimer);
	            resizeTimer = setTimeout(triggerResizeEvent, 500);
	        });
	        
	        // init-module calls. inside a listener to the 'init:client' event,
	        // one of these need to be called from the template to initialize the required modules
	        Backbone.mediator.subscribe('init:module-full-routed', self.initModuleFullRouted, self);
	        Backbone.mediator.subscribe('init:module-embed', self.initAppFromOptions, self);
	        Backbone.mediator.subscribe('init:module-navbar-quicksearch', self.initNavbarQuicksearchFromOptions, self);
	        Backbone.mediator.subscribe('init:module-navbar-main-menu', self.initNavbarMainMenuFromOptions, self);
	        Backbone.mediator.subscribe('init:module-navbar-notification-widget', self.initNavbarNotificationWidgetFromOptions, self);
	        Backbone.mediator.subscribe('init:module-user-dashboard', self.initUserDashboardFromOptions, self);
	        
	        // - the 'init:client' signal is the marker for all pages using this client.js to now
	        //      publish the "init:<module>" event for whichever module configuration they wish to load (see above)
	        util.log('app.js: finish start() and publishing "init:client"')
	        Backbone.mediator.publish('init:client');
	        // we trigger both on the mediator and on html, in case scripts loaded earlier than this have already subsribed on 'html'
	        $('html').trigger('init:client');
	        
	        return self;
	    };
	    
	    /** Module configuration for a fullscreen App with full control of the page, that uses routing and history.
	     *  This module uses the full set of default options and gets passed no options */
	    self.initModuleFullRouted = function (options) {
	    	self.passedOptions = options;
	    	
	    	self.router = new Router();
	    	
	        // (The first routing will autoinitialize views and model in self.navigate_map())
	        Backbone.mediator.subscribe('navigate:map', self.navigate_map, self);
	        Backbone.mediator.subscribe('navigate:router', self.router.on_navigate, self);
	        
	        // Start routing... this will automatically call `self.navigate_map()` once
	        util.log('app.js: init routing')
	        var root = options.basePageUrl || self.defaultBasePageUrl;
	        Backbone.history.start({
	            pushState: true,
	            root: root
	        });
	    };
	    
	    /** Called on navigate, from router.js */
	    self.navigate_map = function (event) {
	    	// this will be called the on the first navigate to the URL, so we use
	    	// it to init the app
	        if (self.controlView == null) {
	            self.initAppFromOptions(self.passedOptions);
	        } else {
	            Backbone.mediator.publish('app:stale-results', {reason: 'map-navigate'});
	        }
	    };
	    
	
	    /** Inits the app with many or no passed options.
	     *  Default settings will be used for any options not passed.
	     * 
	     *  Many options can be configured for hiding the tile-list, disabling the visual control-view
	     *  or enabling only specific Result model types. */
	    self.initAppFromOptions = function (options) {
	        // add passed options into params extended over the default options
	    	var el = options.el ? options.el : self.defaultEl;
	        var displayOptions = $.extend(true, {}, self.defaultDisplayOptions, options.display || {});
	        var settings = $.extend(true, {}, self.defaultSettings, options.settings || {});
	        var basePageUrl = options.basePageUrl || self.defaultBasePageUrl;
	        
	        self.init_app(el, basePageUrl, settings, displayOptions);
	    };
	    
	    /** Main initialization function, this eventually gets called no matter which modules we load. */
	    self.init_app = function (el, basePageUrl, settings, displayOptions) {
	        util.log('app.js: init_app called with event, params')
	        
	        self.el = el;
	        self.$el = $(self.el);
	        
	        self.settings = settings;
	        self.displayOptions = displayOptions;
	        
	        var topicsJson = typeof COSINNUS_MAP_TOPICS_JSON !== 'undefined' ? COSINNUS_MAP_TOPICS_JSON : {};
	        var textTopicsJson = typeof COSINNUS_MAP_TEXT_TOPICS_JSON !== 'undefined' ? COSINNUS_MAP_TEXT_TOPICS_JSON : {};
	        var sdgsJson = typeof COSINNUS_MAP_SDGS_JSON !== 'undefined' ? COSINNUS_MAP_SDGS_JSON : {};
	        var allManagedTags = typeof COSINNUS_MANAGED_TAGS_JSON !== 'undefined' ? COSINNUS_MANAGED_TAGS_JSON : {};
	        var showManagedTagsOnTypesSelected = typeof COSINNUS_MANAGED_TAGS_SHOW_FILTER_ON_MAP_WHEN_CONTENT_TYPE_SELECTED !== 'undefined' ? COSINNUS_MANAGED_TAGS_SHOW_FILTER_ON_MAP_WHEN_CONTENT_TYPE_SELECTED : [];
	        var showTextTopicsOnTypesSelected = typeof COSINNUS_TEXT_TOPICS_SHOW_FILTER_ON_MAP_WHEN_CONTENT_TYPE_SELECTED !== 'undefined' ? COSINNUS_TEXT_TOPICS_SHOW_FILTER_ON_MAP_WHEN_CONTENT_TYPE_SELECTED : [];
	        var managedTagsLabels = typeof COSINNUS_MANAGED_TAGS_LABELS_JSON !== 'undefined' ? COSINNUS_MANAGED_TAGS_LABELS_JSON : {};
	        var portalInfo = typeof COSINNUS_PORTAL_INFOS !== 'undefined' ? COSINNUS_PORTAL_INFOS : {};
	        self.controlView = new ControlView({
	                el: null, // will only be set if attached to tile-view
	                availableFilters: self.settings.availableFilters,
	                activeFilters: self.settings.activeFilters,
	                allTopics: topicsJson,
	                allTextTopics: textTopicsJson,
	                allSDGS: sdgsJson,
	                allManagedTags: allManagedTags,
	                managedTagsLabels: managedTagsLabels,
	                showManagedTagsOnTypesSelected: showManagedTagsOnTypesSelected,
	                showTextTopicsOnTypesSelected: showTextTopicsOnTypesSelected,
	                portalInfo: portalInfo,
	                controlsEnabled: self.displayOptions.showControls,
	                scrollControlsEnabled: self.displayOptions.showControls && self.displayOptions.showMap,
	                paginationControlsEnabled: self.displayOptions.forcePaginationControlsEnabled || self.displayOptions.showTiles,
	                paginationControlsUseInfiniteScroll: !self.displayOptions.showMap && self.displayOptions.showTiles,
	                filterGroup: self.settings.filterGroup,
	                filterManagedTag: self.settings.filterManagedTag,
	                basePageURL: basePageUrl,
	                showMine: self.settings.showMine,
	                fullscreen: self.displayOptions.fullscreen,
	                splitscreen: self.displayOptions.showMap && self.displayOptions.showTiles,
	                searchResultLimit: self.settings.searchResultLimit || 20,
	                hideTopics: self.settings.hideTopics || false,
	            }, 
	            self, 
	            null
	        ); // collection=null here, gets instantiated in the control view
	        self.contentViews.push(self.controlView);
	        
	        util.log('app.js: TODO: really do this if check for controlsEnabled?')
	        util.log(self.displayOptions)
	        
	        self.loadMapView();
	        self.loadTileView();
	        
	        self.tileDetailView = new TileDetailView({
		            model: null,
		            elParent: self.el,
		            fullscreen: self.displayOptions.fullscreen,
		            splitscreen: self.displayOptions.showMap && self.displayOptions.showTiles
		        }, 
		        self
	        ).render();
	        
	        Backbone.mediator.publish('app:ready');
	    };
	    
	    /**
	     * Loads the map view based on display options
	     */
	    self.loadMapView = function() {
	    	if (self.mapView == null) {
	    		// load map from scratch
	    		if (self.displayOptions.showMap) {
	    			var options = {
	    				elParent: self.el,
	    				fullscreen: self.displayOptions.fullscreen,
	    				splitscreen: self.displayOptions.showMap && self.displayOptions.showTiles,
	                    controlsEnabled: self.displayOptions.showControls,
	                    mobileSafeInteractions: self.settings && self.settings.mobileSafeInteractions,
	    			};
	    			if (self.settings.map && self.settings.map.location) {
	    				options['location'] = self.settings.map.location;
	    			}
	    			if (self.settings.map && self.settings.map.zoom) {
	    				options['zoom'] = self.settings.map.zoom;
	    			}
	    			
	    			self.mapView = new MapView(
	    				options, 
		    			self,
		    			self.controlView.collection
	    			).render();
	    			self.contentViews.push(self.mapView);
	    		}
	        } else {
	        	if (self.displayOptions.showMap) {
	        		// update settings to show/hide view
	        		self.mapView.options.fullscreen = self.displayOptions.fullscreen;
	        		self.mapView.options.splitscreen = self.displayOptions.showMap && self.displayOptions.showTiles;
	        		self.mapView.reload();
	        	} else {
	        		// hide map and activate non-in-map-searching
	        		self.mapView.hide();
	        	}
	        }
	    };
	    
	    /**
	     * Loads the tile view based on display options
	     */
	    self.loadTileView = function() {
	    	if (self.tileListView == null) {
	    		if (self.displayOptions.showTiles) {
	    			// load tiles from scratch
	    			self.tileListView = new TileListView({
		    				elParent: self.el,
		    				fullscreen: self.displayOptions.fullscreen,
		    				splitscreen: self.displayOptions.showMap && self.displayOptions.showTiles
		    			}, 
		    			self,
		    			self.controlView.collection
	    			).render();
	    			self.contentViews.push(self.tileListView);
	    			
	    			// render control-view controls inside tile-list-view
	    			if (self.displayOptions.showControls) {
	    				util.log('app.js: actually rendering controls')
	    				self.controlView.setElement(self.tileListView.$el.find('.controls'));
	    				self.controlView.render();
	    			}
	    		}
	        } else {
	        	if (self.displayOptions.showTiles) {
	        		// update settings to show/hide view
	        		self.tileListView.options.fullscreen = self.displayOptions.fullscreen;
	        		self.tileListView.options.splitscreen = self.displayOptions.showMap && self.displayOptions.showTiles;
	        		self.tileListView.reload();
	        	} else {
	        		// hide tiles (animate!) but keep search params! 
	        		self.tileListView.hide();
	        	}
	        }
	    };
	    
	
	    self.initNavbarQuicksearchFromOptions = function (options) {
	        // add passed options into params extended over the default options
	    	var el = options.el ? options.el : '#nav-quicksearch';
	        var topicsJson = typeof COSINNUS_MAP_TOPICS_JSON !== 'undefined' ? COSINNUS_MAP_TOPICS_JSON : {};
	        var textTopicsJson = typeof COSINNUS_MAP_TEXT_TOPICS_JSON !== 'undefined' ? COSINNUS_MAP_TEXT_TOPICS_JSON : {};
	        var sdgsJson = typeof COSINNUS_MAP_SDGS_JSON !== 'undefined' ? COSINNUS_MAP_SDGS_JSON : {};
	        var portalInfo = typeof COSINNUS_PORTAL_INFOS !== 'undefined' ? COSINNUS_PORTAL_INFOS : {};
	        var cloudEnabled = COSINNUS_CLOUD_ENABLED || false;
	
	        if (self.navbarQuickSearchView == null) {
	        	self.navbarQuickSearchView = new NavbarQuickSearchView({
	        		model: null,
	        		el: el,
	        		topicsJson: topicsJson,
	                textTopicsJson: textTopicsJson,
	                sdgsJson: sdgsJson,
	                portalInfo: portalInfo,
	                cloudEnabled: cloudEnabled,
	                placeholder: options.placeholder
	        	},
	        	self
	        	).render();
	        	Backbone.mediator.publish('navbar-quicksearch:ready');
	        }
	    };
	    
	    
	    self.initNavbarMainMenuFromOptions = function (options) {
	        // add passed options into params extended over the default options
	        var el = options.el ? options.el : '#nav-main-menu';
	        var topicsJson = typeof COSINNUS_MAP_TOPICS_JSON !== 'undefined' ? COSINNUS_MAP_TOPICS_JSON : {};
	        var textTopicsJson = typeof COSINNUS_MAP_TEXT_TOPICS_JSON !== 'undefined' ? COSINNUS_MAP_TEXT_TOPICS_JSON : {};
	        var sdgsJson = typeof COSINNUS_MAP_SDGS_JSON !== 'undefined' ? COSINNUS_MAP_SDGS_JSON : {};
	        var portalInfo = typeof COSINNUS_PORTAL_INFOS !== 'undefined' ? COSINNUS_PORTAL_INFOS : {};
	        var contextData = options.contextData ? options.contextData : {};
	        var contextDataJSON = options.contextDataJSON ? options.contextDataJSON : {};
	        
	        if (self.navbarMainMenuView == null) {
	            self.navbarMainMenuView = new NavbarMainMenuView({
	                model: null,
	                el: el,
	                contextData: contextData,
	                contextDataJSON: contextDataJSON,
	                topicsJson: topicsJson,
	                textTopicsJson: textTopicsJson,
	                sdgsJson: sdgsJson,
	                portalInfo: portalInfo,
	            }, 
	            self
	            ).render();
	            Backbone.mediator.publish('navbar-main-manu:ready');
	        }
	    };
	    
	    self.initNavbarNotificationWidgetFromOptions = function (options) {
	        // add passed options into params extended over the default options
	        var el = options.el ? options.el : '#nav-notification-items';
	        
	        if (self.navbarNotificationWidgetView == null) {
	            //        elParent: self.$el.find('.typed-widgets-root'),
	            self.navbarNotificationWidgetView = new NavbarNotificationWidgetView({
	                el: el,
	            }, self.app);
	            self.navbarNotificationWidgetView.load().then(function(){
	                Backbone.mediator.publish('navbar-notification-widget:ready');
	                util.log('# #### loaded notification widget.')
	            });
	        }
	    };
	
	    self.initUserDashboardFromOptions = function (options) {
	        // add passed options into params extended over the default options
	        var topicsJson = typeof COSINNUS_MAP_TOPICS_JSON !== 'undefined' ? COSINNUS_MAP_TOPICS_JSON : {};
	        var textTopicsJson = typeof COSINNUS_MAP_TEXT_TOPICS_JSON !== 'undefined' ? COSINNUS_MAP_TEXT_TOPICS_JSON : {};
	        var sdgsJson = typeof COSINNUS_MAP_SDGS_JSON !== 'undefined' ? COSINNUS_MAP_SDGS_JSON : {};
	        var portalInfo = typeof COSINNUS_PORTAL_INFOS !== 'undefined' ? COSINNUS_PORTAL_INFOS : {};
	        
	        if (self.userDashboardView == null) {
	        	self.userDashboardView = new UserDashboardView({
	        		model: null,
	        		el: null,
	        		topicsJson: topicsJson,
	                textTopicsJson: textTopicsJson,
	                sdgsJson: sdgsJson,
	        		portalInfo: portalInfo,
	        		uiPrefs: options.ui_prefs,
	        		forceOnlyMine: options.force_only_mine,
	        	}, 
	        	self
	        	).render();
	        	Backbone.mediator.publish('user-dashboard:ready');
	        }
	    };
	    
	    
	    
	};
	
	module.exports = App;
	
	$(function () {
	    window.App = new App().start();
	});


/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict'
	
	var MapView = __webpack_require__(2);
	var util = __webpack_require__(5);
	
	module.exports = Backbone.Router.extend({
	    
	    routes: {
	        '': 'route_app_map_tiles'
	    },
	    
	    first_route_event: true,
	
	    route_app_map_tiles: function () {
	        // If the base app view hasn't been instantiated, create and render it.
	        util.log('router.js: routed ')
	        Backbone.mediator.publish('navigate:map');
	    },
	    
	    /** Triggered by the mediator event 'navigate:router' */
	    on_navigate: function(url) {
	        util.log('router.js: got a navigate event!')
	        util.log(url)
	        
	        if (url) {
	        	// since a '/' leading slash would be dropped by the router and we always
	        	// operate on the root url of this router, we have to format the URL like so './...'
	        	url = '.' + url;
	            Backbone.Router.prototype.navigate.call(this, url, { 
	                trigger: false,
	                replace: App.router.first_route_event
	            });
	            
	            if (App.router.first_route_event) {
	                util.log('router.js: THIS IS THE FIRST NAVIGATE EVENT. Replacing history state instead of adding a new one!')
	                App.router.first_route_event = false;
	            }
	        }
	    },
	    
	    /**
	     * Direct convenience function to update the URL without any fetches or routing
	     */
	    replaceUrl: function(url) {
	        util.log('router.js: Replacing the current history URL without navigation or routing.')
	        Backbone.Router.prototype.navigate.call(this, url, { 
	            trigger: false,
	            replace: true
	        });
	    }
	    
	    
	});


/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var ContentControlView = __webpack_require__(3);
	var MapLayerButtonsView = __webpack_require__(6);
	var popupTemplate = __webpack_require__(11);
	var util = __webpack_require__(5);
	
	module.exports = ContentControlView.extend({
	
	    template: __webpack_require__(12),
	    
	    // The DOM events specific to an item.
	    events: {
	        'click .map-expand-button': 'onExpandButtonClicked',
	    },
	    
	    // English / International version of the OpenStreetMap tileset based on CartoDB
	    layers: {
	        street: {
	            url: (util.protocol() === 'http:' ?
	                'http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}@2x.png' :
	                'https://cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png'),
	            options: {
	                attribution: '<a href="https://carto.com" target="_blank">CartoDB</a> | <a href="https://www.openstreetmap.org" target="_blank">&copy; OpenStreetMap contributors</a>'
	            }
	        },
	    },
	
	    // German version of the OpenStreetMap tileset
	    layersModernTileset: {
	        street: {
	            url: (util.protocol() === 'https:' ?
	                'http://{s}.tile.openstreetmap.de/tiles/osmde/{z}/{x}/{y}.png' :
	                'https://{s}.tile.openstreetmap.de/tiles/osmde/{z}/{x}/{y}.png'),
	            options: {
	                attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
	            }
	        },
	    },
	    
	    // path to a geojson file in static folder containing regions that should be outlined on the map
	    // You can configure a geojson region here: http://opendatalab.de/projects/geojson-utilities/ 
	    geoRegionUrl: util.ifundef(COSINNUS_MAP_OPTIONS.geojson_region, null), 
	
	    
	    // the map Layer Buttons (Sattelite, Street, Terrain)
	    mapLayerButtonsView: null,
	    
	    // handle on the current popup
	    popup: null,
	    
	    // leaflet instance
	    leaflet: null,
	    
	    // Marker storage dict of {<resultModel.id>: <L.marker>, ...}
	    // id corresponds to self.collection.get(<id>)
	    // updated through the handlers of self.collection's signals
	    markers: {},
	    
	    // if not null, this is an active, draggable marker
	    draggableMarker: null,
	    
	    // will be set to self.options during initialization
	    defaults: {
	        // is the window in full-screen mode (instead of inside a widget or similar)
	        fullscreen: true,
	        
	        // is this view shown together with the map view as a 50% split screen?
	        splitscreen: false,
	        
	        // will a popup be shown when a map marker is clicked?
	        enablePopup: false,
	        
	        // will clicking on a marker cause its result to be selected?
	        enableDetailSelection: true,
	        
	        // shall we cluster close markers together
	        clusteringEnabled: false,
	        clusterZoomThreshold: 5,
	        maxClusterRadius: 15,
	        
	        // should drag and zoom options that disrupt page UX on mobile be disabled
	        mobileSafeInteractions: false,
	        
	        // if a marker popup is open, but the search results change and the marker would be removed,
	        // should we still keep it and the popup?
	        keepOpenMarkersAfterResultChange: false, 
	        
	        // added percentage to visible map area
	        // the resulting area is actually sent as coords to the search API 
	        latLngBuffer: 0.01,
	        
	        // the amount of decimals to round all coordinates to
	        latLngRoundToDecimals: 5,
	        
	        // image size and display size multiplier for the marker images
	        resultMarkerSizes: {
	            width:          14 * 0.8,
	            height:         14 * 0.8,
	            widthLarge:     28 * 0.8,
	            heightLarge:    37 * 0.8,
	            widthStacked:   23 * 0.8,
	            heightStacked:  23 * 0.8,
	            widthBase:      28 * 0.8,
	            heightBase:     37 * 0.8,
	        },
	        
	        // calculated dynamically depending on zoom, in `handleViewportChange()`
	        resultMarkerClusterDistance: {
	            x: 0,
	            y: 0,
	            perZoom: 0, // hardcoded function of px per zoom level, if you want to offset in px for current zoom
	        },
	        
	        MARKER_NUMBER_OF_LARGE_MARKERS: 8, // this many of the most relevant results become large markers
	        
	        MARKER_CLUSTER_RADIUS_LIMIT: 0.85, // cluster radius multiplier: modifier for how aggressively the clusters should pull in markers
	        MARKER_STACK_PX_OFFSET_PER_CLUSTER_LEVEL: 7, // offset in px for clustered stack-makers per level
	        MARKER_STACK_PX_OFFSET_BASE: 8, // additional offset in px of first clustered stack-marker (level 1) from the base marker
	
	        // if location is set to a location pair at initialization,
	        // the `COSINNUS_MAP_OPTIONS.default_coordinates` will be ignored and the
	        // set `location` is used with the zoom setting instead!
	        location: [], // [52.5233, 13.4138],
	        zoom: 7,
	        
	        // the current layer option as string
	        layer: 'street',
	        
	        state: {
	            // the curren Leaflet layer object
	            currentLayer: null,
	
	            // are we currently seeing clustered markers?
	            currentlyClustering: false,
	            // the current open spider cluster handle, or null if no spider open
	            currentSpiderfied: null,
	            
	            // fallback default coordinates when navigated without loc params
	            north: util.ifundef(COSINNUS_MAP_OPTIONS.default_coordinates.ne_lat, 55.78), 
	            east: util.ifundef(COSINNUS_MAP_OPTIONS.default_coordinates.ne_lon, 23.02),
	            south: util.ifundef(COSINNUS_MAP_OPTIONS.default_coordinates.sw_lat, 49.00),
	            west: util.ifundef(COSINNUS_MAP_OPTIONS.default_coordinates.sw_lon, 3.80),
	        }
	    },
	    
	    initialize: function (options, app, collection) {
	        var self = this;
	        // this calls self.applyUrlSearchParameters()
	        ContentControlView.prototype.initialize.call(self, options, app, collection);
	        
	        self.state.currentlyClustering = self.options.clusteringEnabled;
	        self.state.mobileSafeInteractions = self.options.mobileSafeInteractions;
	        
	        Backbone.mediator.subscribe('change:bounds', self.fitBounds, self);
	        Backbone.mediator.subscribe('resize:window', function () {
	            self.leaflet.invalidateSize();
	            self.handleViewportChange();
	        }, self);
	        Backbone.mediator.subscribe('change:layer', self.setLayer, self);
	        
	        // result events
	        self.collection.on({
	           'add' : self.thisContext(self.markerAdd),
	           'change:hovered': self.thisContext(self.markerChangeHovered),
	           'change:selected': self.thisContext(self.markerChangeSelected),
	           'change': self.thisContext(self.markerUpdate),
	           'remove': self.thisContext(self.markerRemove),
	           'reset': self.thisContext(self.markersReset),
	        });
	    },
	
	    render: function () {
	        var self = this;
	        ContentControlView.prototype.render.call(self);
	        self.renderMap();
	        return self;
	    },
	    
	    afterRender: function () {
	        var self = this;
	        if (self.mapLayerButtonsView == null) {
	        	self.mapLayerButtonsView = new MapLayerButtonsView({
	        		el: self.$el.find('.map-layers-buttons'),
	        		layer: self.options.layer,
	        		mapView: self
	        	}).render();
	        } else {
	        	self.mapLayerButtonsView.render();
	        }
	    },
	    
	    // extended from content-control-view.js
	    applyUrlSearchParameters: function (urlParams) {
	        util.log('map-view.js: url params on init: ')
	        util.log(urlParams)
	        _.extend(this.state, {
	            north: util.ifundef(urlParams.ne_lat, this.state.north),
	            east: util.ifundef(urlParams.ne_lon, this.state.east),
	            south: util.ifundef(urlParams.sw_lat, this.state.south),
	            west: util.ifundef(urlParams.sw_lon, this.state.west),
	        });
	        this.fitBounds();
	        this.updateBounds();
	    },
	    
	    // extended from content-control-view.js
	    contributeToSearchParameters: function(forAPI) {
	        var padded = forAPI;
	        var searchParams = {
	            ne_lat: padded ? this.state.paddedNorth : this.state.north,
	            ne_lon: padded ? this.state.paddedEast : this.state.east,
	            sw_lat: padded ? this.state.paddedSouth : this.state.south,
	            sw_lon: padded ? this.state.paddedWest : this.state.west,
	        };
	        return searchParams
	    },
	    
	    
	    // ResultCollection Event handlers
	    // --------------
	    
	    /**
	     * 
	     * @param result: Result model
	     * @param isLargeMarker: (optional) bool. make this marker icon large?
	     * @param clusterLevel: (optional) int. if supplied, the result is considered in a cluster, at this rank. 0 means base cluster-marker
	     * @param clusterCoords: (optional) {lat: int, lon: int} if result is in a cluster, the coords (rank will be added as offset)
	     */
	    markerAdd: function(result, isLargeMarker, clusterLevel, clusterCoords) {
	        var self = this;
	        
	        if (!result.get('lat') || !result.get('lon')) {
	            // if the result has no location, the map cannot handle it. 
	            util.log('Cancelled adding a marker for a result with no location.')
	            return;
	        }
	        
	        // adding a marker that is already there? impossibru! but best be sure.
	        if (result.id in this.markers) {
	            this.markerRemove(result);
	        }
	        
	        // for clustered markers, every marker but the base marker becomes a stacked marker.
	        var markerIcon = this.getMarkerIconForType(result.get('type'), isLargeMarker, clusterLevel > 0, clusterLevel == 0);
	        var coords = clusterCoords ? clusterCoords : [result.get('lat'), result.get('lon')];
	        var isPointedMarker = isLargeMarker || typeof clusterLevel !== 'undefined' || clusterLevel == 0;
	        var clusterOffset = 0;
	        
	        // add clusterLevel as offset
	        if (typeof clusterLevel !== 'undefined' && clusterLevel > 0) {
	            clusterOffset = this.options.MARKER_STACK_PX_OFFSET_BASE + (this.options.MARKER_STACK_PX_OFFSET_PER_CLUSTER_LEVEL * clusterLevel);
	        }
	        //util.log('adding marker at coords ' + JSON.stringify(coords))
	        
	        var marker = L.marker(coords, {
	            icon: L.divIcon({
	                iconSize: [markerIcon.iconWidth, markerIcon.iconHeight],
	                iconAnchor: [markerIcon.iconWidth / 2, (markerIcon.iconHeight / (isPointedMarker ? 1 : 2)) + clusterOffset],
	                className: markerIcon.className + (result.get('selected') ? ' marker-selected' : ''),
	//                popupAnchor: [1, -27],
	            }),
	            zIndexOffset: clusterLevel ? (1000 + (100*clusterLevel)) : null,
	            riseOnHover: false
	        });
	
	        
	        // bind click/hover events 
	        if (this.options.enablePopup) {
	            marker.bindPopup(popupTemplate.render({
	                imageURL: result.get('imageUrl'),
	                title: result.get('title'),
	                url: result.get('url'),
	                address: result.get('address'),
	                description: result.get('description')
	            }));
	        } 
	        if (this.options.enableDetailSelection) {
	            marker.on('click', function(){
	                self.App.controlView.onResultLinkClicked(null, result.id);
	            });
	        }
	        marker.on('mouseover', function(){
	            self.App.controlView.setHoveredResult(result);
	        });
	        marker.on('mouseout', function(){
	            self.App.controlView.setHoveredResult(null);
	        });
	        
	        
	        if (!this.options.keepOpenMarkersAfterResultChange || (this.markerNotPopup(marker) && this.markerNotSpiderfied(marker))) {
	            if (this.state.currentlyClustering) {
	                this.clusteredMarkers.addLayer(marker);
	            } else {
	                marker.addTo(this.leaflet);
	            }
	            this.markers[result.id] = marker;
	        }
	    },
	    
	    markerChangeHovered: function(result) {
	        if (result.id in this.markers) {
	            var marker = this.markers[result.id];
	            $(marker._icon).toggleClass('marker-hovered', result.get('hovered'));
	        }
	    },
	    
	
	    markerChangeSelected: function(result) {
	        if (result.id in this.markers) {
	            var marker = this.markers[result.id];
	            $(marker._icon).toggleClass('marker-selected', result.get('selected'));
	        }
	    },
	    
	    /**
	     * On marker update. This happens extremely infrequently, as on new searches the whole
	     * result collections gets exchanged (which triggers `markersReset()`)
	     */
	    markerUpdate: function(result, what) {
	        // don't use this trigger when only hovered/selected state was changed! - they have their own handlers
	        var attrs = result.changedAttributes();
	        if (attrs && ('selected' in attrs || 'hovered' in attrs)) {
	            return;
	        }
	        util.log('map-view.js: TODO: actually *update* the marker and dont just remove/add it!')
	        if (!result.selected) {
	            this.markerRemove(result);
	            this.markerAdd(result);
	        } else {
	            util.log('map-view.js: TODO:: was ordered to remove a marker that is currently selected. NOT DOING ANYTHING RN!')
	        }
	    },
	    
	    /** Remove a leaflet marker from the map. 
	     *  Acts as handler for model Result removal from self.collection */
	    markerRemove: function(result) {
	        if (result.id in this.markers) {
	            var marker = this.markers[result.id];
	            
	            if (this.state.currentlyClustering) {
	                this.clusteredMarkers.removeLayer(marker);
	            } else {
	                this.leaflet.removeLayer(marker);
	            }
	            delete this.markers[result.id];
	            //util.log('Removed marker at ' + result.get('lat') + ', ' + result.get('lon'));
	        }
	    },
	    
	    /** Handler for when the entire collection changes */
	    markersReset: function(resultCollection, options) {
	        var self = this;
	        _.each(options.previousModels, function(result){
	            self.markerRemove(result);
	        });
	        
	        /**
	         * Cluster results by maximum radius
	         * [
	         *        { // cluster
	         *            loc: {lat: 0, lon: 0},
	         *         items: [ <result>, ...]
	         *        },
	         *        ...
	         * ]
	         */
	        
	        var clusters = [];
	        //_.each(resultCollection.models, function(result){
	        for (var i=0; i < resultCollection.models.length; i++) {
	            var result = resultCollection.models[i];
	            if (!result.get('lat') || !result.get('lon')) {
	                // results without locations are ignored
	                continue;
	            }
	            
	            //_.each(resultCollection.models, function(cluster){
	            for (var j=0; j < clusters.length; j++) {
	                var cluster = clusters[j];
	                // calculate distance from this result to each cluster
	                var distx = Math.abs(cluster['loc']['lon'] - result.get('lon'));
	                var disty = Math.abs(cluster['loc']['lat'] - result.get('lat'));
	                if (distx < self.options.resultMarkerClusterDistance['x'] && disty < self.options.resultMarkerClusterDistance['y']) {
	                    // result lies within radius of cluster
	                    cluster['items'].push(result);
	                    result = null;
	                    break;
	                } 
	            };
	            // result didn't lie within radius of cluster, make a new one
	            if (result != null) {
	                clusters.push({
	                    loc: {
	                        lat: result.get('lat'),
	                        lon: result.get('lon')
	                    },
	                    items: [result]
	                });
	            }
	        };
	        
	        // remove all single-result clusters and add their results into a single list
	        var singleResults = [];
	        for (var k=clusters.length-1; k >= 0; k--) {
	            var cluster = clusters[k];
	            if (cluster['items'].length == 1) {
	                singleResults.push(cluster['items'][0]);
	                clusters.splice(k, 1);
	            } else {
	                // sort the items inside a cluster, most important last (highest in stack)
	                cluster['items'].sort(function(a, b) {
	                    return a.get('relevance') - b.get('relevance');
	                });
	            }
	        }
	        
	        // all cluster bases are large markers
	        var remainingLargeMarkers = self.options.MARKER_NUMBER_OF_LARGE_MARKERS;
	        for (var i=0; i < clusters.length; i++) {
	            var cluster = clusters[i];
	            // for each cluster, add all results in a stacking offset
	            for (var j=cluster['items'].length-1; j >= 0; j--) {
	                var item = cluster['items'][j];
	                self.markerAdd(item, false, j, cluster['loc']);
	            }
	            remainingLargeMarkers -= 1;
	        }
	        
	        // sort (by relevance) and add the results that aren't in a cluster
	        singleResults.sort(function(a, b) {
	            return b.get('relevance') - a.get('relevance');
	        });
	        _.each(singleResults, function(result){
	            if (remainingLargeMarkers > 0) {
	                self.markerAdd(result, true);
	                remainingLargeMarkers -= 1;
	            } else {
	                self.markerAdd(result);
	            }
	        });
	    },
	    
	    /** Activates the Map-Marker-Place mode where a draggable marker is shown
	     * in the center of the map and all other markers are hidden. */
	    activateDraggableMarker: function (resultType) {
	    	var self = this;
	    	// hide all other markers
	    	$('.leaflet-marker-pane').addClass('marker-place-mode');
	    	var width = this.options.resultMarkerSizes['widthLarge'];
	    	var height = this.options.resultMarkerSizes['heightLarge']
	    	
	    	this.draggableMarker = L.marker(this.leaflet.getCenter(), {
	            icon: L.divIcon({
	                iconSize: [width, this.options.resultMarkerSizes['heightLarge']],
	                iconAnchor: [width / 2, height],
	                className: 'draggable-placemark placemark l icon ' + resultType,
	            }),
	            riseOnHover: false,
	            draggable: true,
	            keyboard: false
	        });
	    	this.draggableMarker.on("dragend", function(e) {
	    	    var marker = e.target;
	    	    self.leaflet.panTo(marker.getLatLng());
	    	});
	    	this.draggableMarker.addTo(this.leaflet);
	    },
	    
	    /** Deactivates the Map-Marker-Place mode. */
	    deactivateDraggableMarker: function () {
	    	this.leaflet.removeLayer(this.draggableMarker);
	    	this.draggableMarker = null;
	    	// show other markers again
	    	$('.leaflet-marker-pane').removeClass('marker-place-mode');
	    },
	    
	    /** If the Map-Marker-Place mode is active, return the LatLng object of
	     *  the draggable marker, else return null. */
	    getDraggableMarkerLatLng: function () {
	    	if (this.draggableMarker) {
	    		return this.draggableMarker.getLatLng();
	    	} else {
	    		return null;
	    	}
	    },
	    
	
	    /**
	     * Called when the expand button is clicked for expanding or contracting
	     * the map (splitscreen vs maximized).
	     */
	    onExpandButtonClicked: function (event) {
	    	this.App.controlView.switchDisplayState(true, !this.options.splitscreen);
	    },
	    
	    
	    /** Shows and reloads the map with current settings */
	    reload: function () {
	    	util.log('*** Reloading Map View ***')
	        this.$el.toggleClass('map-splitscreen', this.options.splitscreen);
	    	this.$el.show();
	        Backbone.mediator.publish('resize:window');
	    },
	    
	    /** Hides the map */
	    hide: function () {
	    	util.log('*** Hiding Map View ***')
	    	this.$el.hide();
	    },
	
	    // Private
	    // -------
	
	    renderMap: function () {
	        var self = this;
	        
	        util.log('++++++ map-view.js renderMap called! This should only happen once at init! +++++++++++++++++++')
	        
	        var options = {};
	        if (self.state.mobileSafeInteractions) {
	            options = {
	                scrollWheelZoom: false,
	                // dragging: false, // this only disables the actual dragging, but not the handlers, so scrolling on mobile is still not possible even with this set to false
	            };
	        }
	        this.leaflet = L.map('map-container', options);
	        this.setLayer(this.options.layer);
	        
	        if (self.geoRegionUrl) {
	            $.ajax({
	                dataType: "json",
	                url: self.geoRegionUrl,
	                success: function(data) {
	                    // style see https://leafletjs.com/reference-1.3.0.html#path-option
	                    var district_boundary = new L.geoJson(null, {
	                        style: function (feature) {
	                            return util.ifundef(COSINNUS_MAP_OPTIONS.geojson_style, {
	                                width: 1,
	                                weight: 0.5,
	                                fillOpacity: 0.035,
	                            });
	                        }
	                    });
	                    district_boundary.addTo(self.leaflet);
	                    $(data.features).each(function(key, data) {
	                        district_boundary.addData(data);
	                    });
	                }
	            }).error(function() {});
	            
	        }
	        
	        
	        if (this.options.clusteringEnabled) {
	            // Setup the cluster layer
	            this.clusteredMarkers = L.markerClusterGroup({
	                maxClusterRadius: this.options.maxClusterRadius
	            });
	            this.clusteredMarkers.on('spiderfied', this.handleSpiderfied, this);
	            this.leaflet.addLayer(this.clusteredMarkers);
	            this.setClusterState();
	        }
	        
	        // if an initial location was defined, set that location and zoom as initial viewport
	        // otherwise, use fitBounds to adjust the viewport to the one 
	        // defined in `state` with `COSINNUS_MAP_OPTIONS.default_coordinates.ne_lat`
	        if (this.options.location && this.options.location.length == 2) {
	        	this.leaflet.setView(this.options.location, this.options.zoom);
	        } else {
	        	this.fitBounds();
	        }
	        this.updateClusterDistances();
	
	        this.leaflet.on('zoomend', this.handleViewportChange, this);
	        this.leaflet.on('dragend', this.handleViewportChange, this);
	        this.leaflet.on('popupopen', this.handlePopup, this);
	        this.leaflet.on('popupclose', this.handlePopup, this);
	        
	        // disable drag dropping inside map controls
	        var div = this.$el.find('.map-controls')[0];
	        if (div) {
	            if (!L.Browser.touch) {
	                L.DomEvent.disableClickPropagation(div);
	                L.DomEvent.on(div, 'mousewheel', L.DomEvent.stopPropagation);
	            } else {
	                L.DomEvent.on(div, 'click', L.DomEvent.stopPropagation);
	            }
	        }
	        
	        this.updateBounds();
	    },
	
	    setLayer: function (layer) {
	        this.state.currentLayer && this.leaflet.removeLayer(this.state.currentLayer);
	        if (COSINNUS_MAP_USE_MODERN_TILESET == true){
	            var options = _(this.layersModernTileset[layer].options).extend({
	                maxZoom: 15,
	                minZoom:3
	            });
	            this.state.currentLayer = L.tileLayer(this.layersModernTileset[layer].url, options)
	                .addTo(this.leaflet);
	        } else {
	            var options = _(this.layers[layer].options).extend({
	                maxZoom: 15,
	                minZoom:3
	            });
	            this.state.currentLayer = L.tileLayer(this.layers[layer].url, options)
	                .addTo(this.leaflet);
	        }
	    },
	
	    updateBounds: function () {
	        var bounds = this.leaflet.getBounds()
	        var paddedBounds = bounds.pad(this.options.latLngBuffer);
	        _.extend(this.state, {
	            south: L.Util.formatNum(bounds.getSouth(), this.options.latLngRoundToDecimals),
	            paddedSouth: L.Util.formatNum(paddedBounds.getSouth(), this.options.latLngRoundToDecimals),
	            west: L.Util.formatNum(bounds.getWest(), this.options.latLngRoundToDecimals),
	            paddedWest: L.Util.formatNum(paddedBounds.getWest(), this.options.latLngRoundToDecimals),
	            north: L.Util.formatNum(bounds.getNorth(), this.options.latLngRoundToDecimals),
	            paddedNorth: L.Util.formatNum(paddedBounds.getNorth(), this.options.latLngRoundToDecimals),
	            east: L.Util.formatNum(bounds.getEast(), this.options.latLngRoundToDecimals),
	            paddedEast: L.Util.formatNum(paddedBounds.getEast(), this.options.latLngRoundToDecimals)
	        });
	        this.state.zoom = this.leaflet._zoom;
	    },
	
	    setClusterState: function () {
	        if (this.options.clusteringEnabled) {
	            // Set clustering state: cluster only when zoomed in enough.
	            var zoom = this.leaflet.getZoom();
	            this.state.currentlyClustering = zoom > this.options.clusterZoomThreshold;
	        }
	    },
	    
	    /** Gets a dict of {iconUrl: <str>, iconWidth: <int>, iconHeight: <int>}
	     *  for a given type corresponding to model Result.type. */
	    getMarkerIconForType: function(resultType, isLargeMarker, isStackedMarker, isBaseMarker) {
	        var markerIcon;
	        var suffix = '';
	        var className = 'placemark';
	        
	        if (isBaseMarker) {
	            suffix = 'Base';
	            className += ' l';
	        } else if (isStackedMarker) {
	            suffix = 'Stacked';
	            className += ' m';
	        } else if (isLargeMarker) {
	            suffix = 'Large';
	            className += ' l icon';
	        } else {
	            className += ' s';
	        }
	        // type of the marker
	        className += ' ' + resultType;
	        
	        markerIcon = {
	            iconWidth: this.options.resultMarkerSizes['width' + suffix],
	            iconHeight: this.options.resultMarkerSizes['height' + suffix],
	            className: className
	        };
	        return markerIcon;
	    },
	
	    markerNotPopup: function (marker) {
	        var p = this.popup;
	        return !p || !_(p.getLatLng()).isEqual(marker.getLatLng());
	    },
	
	    markerNotSpiderfied: function (marker) {
	        var s = this.state.currentSpiderfied;
	        var ret = !s || !_(s.getAllChildMarkers()).find(function (m) {
	            return _(m.getLatLng()).isEqual(marker.getLatLng());
	        });
	        return ret;
	    },
	
	    // Event Handlers
	    // --------------
	
	    // Render the search results as markers on the map.
	    // TODO: remove! deprecated and unused.
	    /*
	    updateMarkers: function () {
	        var self = this,
	            results = self.model.get('results');
	
	        // Remove previous markers from map based on current clustering state.
	        if (self.markers) {
	            _(self.markers).each(function (marker) {
	
	                if (!self.options.keepOpenMarkersAfterResultChange || (self.markerNotPopup(marker) && self.markerNotSpiderfied(marker))) {
	                    self.removeMarker(marker);
	                }
	            });
	        }
	
	        self.setClusterState();
	        self.markers = [];
	
	        // Ensure popup and spiderfied markers are in the markers array;
	        // even when they aren't included in the latest results.
	        if (self.options.keepOpenMarkersAfterResultChange) {
	            if (self.popup) {
	                self.markers.push(self.popup._source);
	            } else if (self.state.currentSpiderfied) {
	                _(self.state.currentSpiderfied.getAllChildMarkers()).each(function (m) {
	                    self.markers.push(m);
	                });
	            }
	        }
	
	        // Add the individual markers.
	        _(this.model.activeFilterList()).each(function (resultType) {
	            _(results[resultType]).each(function (result) {
	                self.addMarker(result, resultType);
	            });
	        });
	    },
	    */
	
	    handleViewportChange: function () {
	        this.setClusterState();
	        this.updateBounds();
	        this.updateClusterDistances();
	        Backbone.mediator.publish('app:stale-results', {reason: 'viewport-changed'});
	    },
	    
	    /** Recalculate clustering distances based on current map area and zoom */
	    updateClusterDistances: function () {
	        var ns = Math.abs(this.state.south - this.state.north) / this.$el.height();
	        var we = Math.abs(this.state.east - this.state.west) / this.$el.width();
	        this.options.resultMarkerClusterDistance['x'] = we * this.options.resultMarkerSizes['widthLarge'] * this.options.MARKER_CLUSTER_RADIUS_LIMIT;
	        this.options.resultMarkerClusterDistance['y'] = ns * this.options.resultMarkerSizes['heightLarge'] * this.options.MARKER_CLUSTER_RADIUS_LIMIT;
	        this.options.resultMarkerClusterDistance['perZoom'] = 1 / (Math.pow(2, this.leaflet.getZoom()));
	    },
	
	    // Handle change bounds (from URL).
	    fitBounds: function () {
	        if (this.leaflet) {
	            util.log('map-view.js: fitBounds called')
	            this.leaflet.fitBounds(L.latLngBounds(
	                    L.latLng(this.state.south, this.state.west),
	                    L.latLng(this.state.north, this.state.east)
	            ));
	        } else {
	            util.log('map-view.js: fitBounds fizzled')
	        }
	    },
	
	    handlePopup: function (event) {
	        if (event.type === 'popupopen') {
	            this.popup = event.popup;
	        } else {
	            var popLatLng = this.popup.getLatLng();
	            var marker = event.popup._source;
	            // Remove the popup's marker if it's now off screen.
	            /*
	            if (!this.leaflet.getBounds().pad(this.options.latLngBuffer).contains(popLatLng)) {
	                this.removeMarker(marker);
	            }
	            */
	            this.popup = null;
	        }
	    },
	
	    handleSpiderfied: function (event) {
	        this.state.currentSpiderfied = event.cluster;
	    }
	});


/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var BaseView = __webpack_require__(4);
	var util = __webpack_require__(5);
	
	module.exports = BaseView.extend({
	    
	    // reference back to the main App
	    App: null,
	    
	    // the resultCollection data source this view operates on.
	    // often the same collection other views use as well
	    collection: null,
	
	    initialize: function (options, app, collection) {
	        var self = this;
	        BaseView.prototype.initialize.call(self, options);
	        self.App = app;
	        self.collection = collection;
	    },
	    
	    /** Called at the end of initialization.
	     * 
	     *  Purpose is to initialize the combined parameters from URL and initial App options
	     *  into self.state = {}, so that they are ready to be built into a search API URL 
	     *  using params from each ContentControlView's `contributeToSearchParameters()` 
	     *  
	     *  */
	    applyUrlSearchParameters: function(urlParams) {
	        // stub, extend this in the inheriting view
	    },
	    
	    /** Add all relevant search parameters to the search API query for your view.
	     *  Anything happening in your view that affects the search should be involved here.
	     *  
	     *  @param forAPI: if true, contains all search parameters.
	     *         if false, contains only these that should be visible in the browser URL 
	     *  @return: dict of params 
	     */
	    contributeToSearchParameters: function(forAPI) {
	        // stub, extend this in the inheriting view
	        return {}
	    },
	    
	    /** Called during search */
	    disableInput: function() {
	        // stub, extend this in the inheriting view
	    },
	    
	    /** Called when searches end */
	    enableInput: function() {
	        // stub, extend this in the inheriting view
	    },
	    
	    // private
	
	    parseUrl: function (url) {
	        if (url.indexOf('?') >= 0) {
	            var json = JSON.parse('{"' + decodeURI(url.replace(/\%2C/g, ',').replace(/\+/g,' ').replace(/[^?]*\?/, '').replace(/&/g, "\",\"").replace(/=/g,"\":\"")) + '"}')
	        } else {
	            var json = {};
	        }
	        _(_(json).keys()).each(function (key) {
	            if (json[key] !== '') {
	                try {
	                    json[key] = JSON.parse(json[key]);
	                } catch (err) {}
	            }
	        });
	        if (typeof json['topics'] === "number" || (typeof json['topics'] === "string" && json['topics'].length > 0)) {
	            json['topics'] = json['topics'].toString().split(',').map(Number);
	        }
	        if (typeof json['text_topics'] === "number" || (typeof json['text_topics'] === "string" && json['text_topics'].length > 0)) {
	            json['text_topics'] = json['text_topics'].toString().split(',').map(Number);
	        }
	        if (typeof json['sdgs'] === "number" || (typeof json['sdgs'] === "string" && json['sdgs'].length > 0)) {
	            json['sdgs'] = json['sdgs'].toString().split(',').map(Number);
	        }
	        if (typeof json['managed_tags'] === "number" || (typeof json['managed_tags'] === "string" && json['managed_tags'].length > 0)) {
	            json['managed_tags'] = json['managed_tags'].toString().split(',').map(Number);
	        }
	        return json;
	    },
	});


/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var util = __webpack_require__(5);
	
	module.exports = Backbone.View.extend({
	    
	    /**
	     * Sets these values on the view:
	     *  - self.options: 
	     *      - purpose: the general behavioural settings for the view. only differ from default
	     *          if passed through as View.init(options). don't change during runtime
	     *      - value: extended self.defaults with the parameter options
	     *  - self.state:
	     *      - purpose: current state variables of the view. defaults can be set in 
	     *          self.defaults.state, or passed through View.init(options.state).
	     *          constantly change with the view's current state
	     *      - value: self.options.state if exists or {}
	     */
	    initialize: function (options) {
	        this.options = $.extend(true, {}, this.defaults, options);
	        this.state = this.options && this.options.state || {};
	    },
	    
	    /**
	     * If self.options.elParent is set,
	     *         the given el is ignored at first and elParent is considered the 
	     *         parent element, so
	     *         instead of creating this template by filling a giving element,
	     *         the complete rendered template will appended to the given $el,
	     *         and then become this views actual $el!
	     */
	    render: function () {
	        var self = this;
	        // Collect the data to be rendered; can be overridden in child view.
	        var data = this.getTemplateData();
	        // Use nunjucks to render the template (specified in child view).
	        if (this.template && this.template.render &&
	            typeof this.template.render === 'function') {
	            var rendered = this.template.render(data);
	            
	            if (self.options.elParent) {
	                // if this element is not in place yet, append it to the parent
	                // otherwise replace it
	                rendered = $(rendered);
	                if (self.$el.parent().length == 0) {
	                    $(self.options.elParent).append(rendered);
	                } else {
	                    self.$el.replaceWith(rendered);
	                }
	                this.setElement(rendered);
	            } else {
	                this.$el.html(rendered);
	            }
	
	            $.cosinnus.titledby(this.$el);
	        }
	        // After a repaint (to allow further rendering in #afterRender),
	        // call the after render method if it exists.
	        setTimeout(function () {
	            self.afterRender && self.afterRender();
	        }, 0);
	        return this;
	    },
	
	    /**
	     *  Default implementation to retrieve data to be rendered.
	     *  If a model is set, return its attributes as JSON, otherwise
	     *  an empty object with any options and state attributes on the 
	     *  view mixed in.
	     */
	    getTemplateData: function () {
	        var modelData = this.model && this.model.toJSON() || {'noModel': true};
	        var data = _.extend(
	            modelData,
	            this.options,
	            this.state,
	            {
	                'cosinnus_active_user': cosinnus_active_user,
	                'COSINNUS_IDEAS_ENABLED': COSINNUS_IDEAS_ENABLED,
	                'COSINNUS_ORGANIZATIONS_ENABLED': COSINNUS_ORGANIZATIONS_ENABLED,
	                'COSINNUS_CONFERENCES_ENABLED': COSINNUS_CONFERENCES_ENABLED,
	                'COSINNUS_EXCHANGE_ENABLED': COSINNUS_EXCHANGE_ENABLED,
	                'COSINNUS_EXCHANGE_PORTAL_ID': COSINNUS_EXCHANGE_PORTAL_ID,
	                'COSINNUS_SHOW_PROJECT_AND_GROUP_CREATE_BUTTONS': COSINNUS_SHOW_PROJECT_AND_GROUP_CREATE_BUTTONS,
	                'COSINNUS_SHOW_SUPERUSER_CONTROLS': COSINNUS_SHOW_SUPERUSER_CONTROLS,
	                'COSINNUS_USER_CAN_CREATE_CONFERENCE': COSINNUS_USER_CAN_CREATE_CONFERENCE,
	                'COSINNUS_USER_EXTERNAL_USERS_FORBIDDEN': COSINNUS_USER_EXTERNAL_USERS_FORBIDDEN,
	                'COSINNUS_TRANS': {
	                    'COSINNUS_TRANS_MY_CONFERENCES': COSINNUS_TRANS_MY_CONFERENCES,
	                    'COSINNUS_TRANS_MY_CONFERENCES_EMPTY': COSINNUS_TRANS_MY_CONFERENCES_EMPTY,
	                    'COSINNUS_TRANS_CONFERENCE': COSINNUS_TRANS_CONFERENCE,
	                    'COSINNUS_TRANS_CONFERENCES': COSINNUS_TRANS_CONFERENCES,
	                    'COSINNUS_TRANS_ALL_CONFERENCES': COSINNUS_TRANS_ALL_CONFERENCES,
	                    'COSINNUS_TRANS_BROWSE_ALL_CONFERENCES': COSINNUS_TRANS_BROWSE_ALL_CONFERENCES,
	                    'COSINNUS_TRANS_CREATE_CONFERENCE': COSINNUS_TRANS_CREATE_CONFERENCE,
	                }
	            }
	        );
	        return data;
	    },
	    
	    /** Wrap you signal handlers in this function inside views to retain
	     *  the view as `this` as context.
	     *  Example: 
	     *      collection.on({
	     *         'add' : self.thisContext(self.myCall)
	     *      });
	     *  ==>  myCall(...) will have `this` set to `self`
	    */
	    thisContext: function(func) {
	        var self = this;
	        return function(){
	            func.apply(self, arguments);
	        };
	    }
	});


/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	module.exports = {
	    protocol: function () {
	        return window.location.protocol;
	    },
	    
	    isIgnorableKey: function (event) {
	        var keycodes = [
	            9,  // tab
	            13, // enter
	            16, // shift
	            17, // ctrl
	            18, // alt
	            19, // pause/break
	            20, // capslock
	            27, // escape
	            33, // pageup
	            34, // pagedown
	            35, // end
	            36, // home
	            37, // leftarrow
	            38, // uparrow
	            39, // rightarrow
	            40, // downarrow
	            45, // insert
	            46 // delete
	        ];
	        return _(keycodes).contains(event.keyCode);
	    },
	    
	    /** Returns a if it is defined, else b */
	    ifundef: function(a, b) {
	        return typeof a == "undefined" ? b : a;
	    },
	    
	    log: function(obj) {
	        // determine test/prod environment
	        if (true) {
	            if (typeof obj == "string" && new Error().stack) {
	                console.log(obj + '    || from:  ' + new Error().stack.replace(/(?:\r\n|\r|\n)/g, '').split(' at ')[2]);
	            } else {
	                console.log(obj);
	            }
	        }
	    },
	    
	    /** Returns a statusData dict of important state data of a text input,
	     *  to be restored later using `restoreInputStatus()` */
	    saveInputStatus: function ($input) {
	        var elem = $input[0];
	        return {
	            hadFocus: $input.is(":focus"),
	            val: elem.value,
	            start: elem.selectionStart,
	            end: elem.selectionEnd
	        }
	    },
	    
	    /** Restores a text input's state saved with `saveInputStatus` */
	    restoreInputStatus: function ($input, statusData) {
	        var elem = $input[0];
	        elem.value = statusData['val'];
	        elem.setSelectionRange(statusData['start'], statusData['end']);
	        if (statusData['hadFocus']) {
	            $input.focus();
	        }
	    },
	    
	    /** Parses a combined Result id from the backend into its parts.
	     * 	Example: "1.events.forum*tolles-event" or "1.groups.forum".
	     * 	Returns: A dict of parts:
	     *  {
	     * 		portal: int,
	     * 		type: str,
	     * 		slug: str,
	     *  }*/
	    parseDirectItemId: function (directItemIdStr) {
	    	var data = directItemIdStr.split('.');
	        data = {
	            portal: data[0],
	            type: data[1],
	            slug: data[2],
	        };
	        return data;
	    },
	    
	    /** Create a combined Result id for the backend from its parts */
	    makeDirectItemId: function (portal, type, slug) {
	    	return portal + '.' + type + '.' + slug;
	    },
	    
	    getAPIDataForDirectItemId: function (directItemId) {
	    	var data = this.parseDirectItemId(directItemId);
	        var apiData = {};
	    	if (data.type == 'ideas') {
	    		apiData = {
	    			ct: 'cosinnus.CosinnusIdea',
	    			slug: data.slug,
	    		};
	    	} else if (data.type == 'organizations') {
	    		apiData = {
					ct: 'cosinnus.CosinnusOrganization',
					slug: data.slug,
	    		};
	    	} else if (data.type == 'events') {
	    		apiData = {
					ct: 'cosinnus_event.Event',
					slug: data.slug,
	    		};
	    	} else if (data.type == 'projects') {
	    		apiData = {
					ct: 'cosinnus.CosinnusProject',
					slug: data.slug,
	    		};
	    	} else if (data.type == 'groups') {
	            apiData = {
	                ct: 'cosinnus.CosinnusSociety',
	                slug: data.slug,
	            };
	        } else if (data.type == 'conferences') {
	            apiData = {
	                ct: 'cosinnus.CosinnusConference',
	                slug: data.slug,
	            };
	        } else if (data.type == 'people') {
	    		apiData = {
	                slug: data.slug,
	                ct: 'people'
	    		};
	    	} else {
	    		return null;
	    	}
	    	return apiData;
	    },
	    
	    /** Case insensitive string replace */
	    iReplace: function (strSouce, strReplace, strWith) {
	        var esc = strReplace.replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&');
	        var reg = new RegExp('(' + esc + ')', 'ig');
	        return strSouce.replace(reg, strWith);
	    },
	};


/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var BaseView = __webpack_require__(4);
	var util = __webpack_require__(5);
	
	module.exports = BaseView.extend({
	    
	    template: __webpack_require__(7),
	    
	    mapView: null,
	    
	    // will be set to self.options during initialization
	    defaults: {
	        // will be set to self.state during initialization
	        state: {
	            layer: null
	        }
	    },
	    
	    initialize: function (options) {
	        var self = this;
	        BaseView.prototype.initialize.call(self, options);
	        
	        self.state.layer = options.layer;
	        self.mapView = options.mapView;
	    },
	
	    events: {
	        'click .layer-button': 'switchLayerClicked',
	    },
	
	    // Event Handlers
	    // --------------
	
	    // Switch layers if clicked layer isn't the active layer.
	    switchLayerClicked: function (event) {
	        var layer = $(event.currentTarget).data('layer');
	        if (this.mapView.options.layer !== layer) {
	            this.mapView.options.layer = layer;
	            this.state.layer = layer;
	            this.render();
	            Backbone.mediator.publish('change:layer', layer);
	        }
	    },
	    
	});


/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/map/map-layer-buttons.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	output += runtime.suppressValue(env.getExtension("passThrough")["run"](context,runtime.contextOrFrameLookup(context, frame, "i18n")), true && env.opts.autoescape);
	output += "\n";
	if(false) {
	output += " ";
	output += "\n<div>\n    <div data-layer=\"street\"\n        class=\"rounded-button rounded-button-small button-action layer-button ";
	if(runtime.contextOrFrameLookup(context, frame, "layer") == "street") {
	output += " selected ";
	;
	}
	output += "\">\n        <span class=\"rounded-button-inner\">\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Street"), true && env.opts.autoescape);
	output += "\n        </span>\n    </div>\n</div>\n";
	;
	}
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/map/map-layer-buttons.html"] , dependencies)

/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

	/*! Browser bundle of nunjucks 2.5.2 (slim, only works with precompiled templates) */
	(function webpackUniversalModuleDefinition(root, factory) {
		if(true)
			module.exports = factory();
		else if(typeof define === 'function' && define.amd)
			define([], factory);
		else if(typeof exports === 'object')
			exports["nunjucks"] = factory();
		else
			root["nunjucks"] = factory();
	})(this, function() {
	return /******/ (function(modules) { // webpackBootstrap
	/******/ 	// The module cache
	/******/ 	var installedModules = {};
	
	/******/ 	// The require function
	/******/ 	function __webpack_require__(moduleId) {
	
	/******/ 		// Check if module is in cache
	/******/ 		if(installedModules[moduleId])
	/******/ 			return installedModules[moduleId].exports;
	
	/******/ 		// Create a new module (and put it into the cache)
	/******/ 		var module = installedModules[moduleId] = {
	/******/ 			exports: {},
	/******/ 			id: moduleId,
	/******/ 			loaded: false
	/******/ 		};
	
	/******/ 		// Execute the module function
	/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
	
	/******/ 		// Flag the module as loaded
	/******/ 		module.loaded = true;
	
	/******/ 		// Return the exports of the module
	/******/ 		return module.exports;
	/******/ 	}
	
	
	/******/ 	// expose the modules object (__webpack_modules__)
	/******/ 	__webpack_require__.m = modules;
	
	/******/ 	// expose the module cache
	/******/ 	__webpack_require__.c = installedModules;
	
	/******/ 	// __webpack_public_path__
	/******/ 	__webpack_require__.p = "";
	
	/******/ 	// Load entry module and return exports
	/******/ 	return __webpack_require__(0);
	/******/ })
	/************************************************************************/
	/******/ ([
	/* 0 */
	/***/ function(module, exports, __webpack_require__) {
	
		'use strict';
	
		var lib = __webpack_require__(1);
		var env = __webpack_require__(2);
		var Loader = __webpack_require__(11);
		var loaders = __webpack_require__(3);
		var precompile = __webpack_require__(3);
	
		module.exports = {};
		module.exports.Environment = env.Environment;
		module.exports.Template = env.Template;
	
		module.exports.Loader = Loader;
		module.exports.FileSystemLoader = loaders.FileSystemLoader;
		module.exports.PrecompiledLoader = loaders.PrecompiledLoader;
		module.exports.WebLoader = loaders.WebLoader;
	
		module.exports.compiler = __webpack_require__(3);
		module.exports.parser = __webpack_require__(3);
		module.exports.lexer = __webpack_require__(3);
		module.exports.runtime = __webpack_require__(8);
		module.exports.lib = lib;
		module.exports.nodes = __webpack_require__(3);
	
		module.exports.installJinjaCompat = __webpack_require__(12);
	
		// A single instance of an environment, since this is so commonly used
	
		var e;
		module.exports.configure = function(templatesPath, opts) {
		    opts = opts || {};
		    if(lib.isObject(templatesPath)) {
		        opts = templatesPath;
		        templatesPath = null;
		    }
	
		    var TemplateLoader;
		    if(loaders.FileSystemLoader) {
		        TemplateLoader = new loaders.FileSystemLoader(templatesPath, {
		            watch: opts.watch,
		            noCache: opts.noCache
		        });
		    }
		    else if(loaders.WebLoader) {
		        TemplateLoader = new loaders.WebLoader(templatesPath, {
		            useCache: opts.web && opts.web.useCache,
		            async: opts.web && opts.web.async
		        });
		    }
	
		    e = new env.Environment(TemplateLoader, opts);
	
		    if(opts && opts.express) {
		        e.express(opts.express);
		    }
	
		    return e;
		};
	
		module.exports.compile = function(src, env, path, eagerCompile) {
		    if(!e) {
		        module.exports.configure();
		    }
		    return new module.exports.Template(src, env, path, eagerCompile);
		};
	
		module.exports.render = function(name, ctx, cb) {
		    if(!e) {
		        module.exports.configure();
		    }
	
		    return e.render(name, ctx, cb);
		};
	
		module.exports.renderString = function(src, ctx, cb) {
		    if(!e) {
		        module.exports.configure();
		    }
	
		    return e.renderString(src, ctx, cb);
		};
	
		if(precompile) {
		    module.exports.precompile = precompile.precompile;
		    module.exports.precompileString = precompile.precompileString;
		}
	
	
	/***/ },
	/* 1 */
	/***/ function(module, exports) {
	
		'use strict';
	
		var ArrayProto = Array.prototype;
		var ObjProto = Object.prototype;
	
		var escapeMap = {
		    '&': '&amp;',
		    '"': '&quot;',
		    '\'': '&#39;',
		    '<': '&lt;',
		    '>': '&gt;'
		};
	
		var escapeRegex = /[&"'<>]/g;
	
		var lookupEscape = function(ch) {
		    return escapeMap[ch];
		};
	
		var exports = module.exports = {};
	
		exports.prettifyError = function(path, withInternals, err) {
		    // jshint -W022
		    // http://jslinterrors.com/do-not-assign-to-the-exception-parameter
		    if (!err.Update) {
		        // not one of ours, cast it
		        err = new exports.TemplateError(err);
		    }
		    err.Update(path);
	
		    // Unless they marked the dev flag, show them a trace from here
		    if (!withInternals) {
		        var old = err;
		        err = new Error(old.message);
		        err.name = old.name;
		    }
	
		    return err;
		};
	
		exports.TemplateError = function(message, lineno, colno) {
		    var err = this;
	
		    if (message instanceof Error) { // for casting regular js errors
		        err = message;
		        message = message.name + ': ' + message.message;
	
		        try {
		            if(err.name = '') {}
		        }
		        catch(e) {
		            // If we can't set the name of the error object in this
		            // environment, don't use it
		            err = this;
		        }
		    } else {
		        if(Error.captureStackTrace) {
		            Error.captureStackTrace(err);
		        }
		    }
	
		    err.name = 'Template render error';
		    err.message = message;
		    err.lineno = lineno;
		    err.colno = colno;
		    err.firstUpdate = true;
	
		    err.Update = function(path) {
		        var message = '(' + (path || 'unknown path') + ')';
	
		        // only show lineno + colno next to path of template
		        // where error occurred
		        if (this.firstUpdate) {
		            if(this.lineno && this.colno) {
		                message += ' [Line ' + this.lineno + ', Column ' + this.colno + ']';
		            }
		            else if(this.lineno) {
		                message += ' [Line ' + this.lineno + ']';
		            }
		        }
	
		        message += '\n ';
		        if (this.firstUpdate) {
		            message += ' ';
		        }
	
		        this.message = message + (this.message || '');
		        this.firstUpdate = false;
		        return this;
		    };
	
		    return err;
		};
	
		exports.TemplateError.prototype = Error.prototype;
	
		exports.escape = function(val) {
		  return val.replace(escapeRegex, lookupEscape);
		};
	
		exports.isFunction = function(obj) {
		    return ObjProto.toString.call(obj) === '[object Function]';
		};
	
		exports.isArray = Array.isArray || function(obj) {
		    return ObjProto.toString.call(obj) === '[object Array]';
		};
	
		exports.isString = function(obj) {
		    return ObjProto.toString.call(obj) === '[object String]';
		};
	
		exports.isObject = function(obj) {
		    return ObjProto.toString.call(obj) === '[object Object]';
		};
	
		exports.groupBy = function(obj, val) {
		    var result = {};
		    var iterator = exports.isFunction(val) ? val : function(obj) { return obj[val]; };
		    for(var i=0; i<obj.length; i++) {
		        var value = obj[i];
		        var key = iterator(value, i);
		        (result[key] || (result[key] = [])).push(value);
		    }
		    return result;
		};
	
		exports.toArray = function(obj) {
		    return Array.prototype.slice.call(obj);
		};
	
		exports.without = function(array) {
		    var result = [];
		    if (!array) {
		        return result;
		    }
		    var index = -1,
		    length = array.length,
		    contains = exports.toArray(arguments).slice(1);
	
		    while(++index < length) {
		        if(exports.indexOf(contains, array[index]) === -1) {
		            result.push(array[index]);
		        }
		    }
		    return result;
		};
	
		exports.extend = function(obj, obj2) {
		    for(var k in obj2) {
		        obj[k] = obj2[k];
		    }
		    return obj;
		};
	
		exports.repeat = function(char_, n) {
		    var str = '';
		    for(var i=0; i<n; i++) {
		        str += char_;
		    }
		    return str;
		};
	
		exports.each = function(obj, func, context) {
		    if(obj == null) {
		        return;
		    }
	
		    if(ArrayProto.each && obj.each === ArrayProto.each) {
		        obj.forEach(func, context);
		    }
		    else if(obj.length === +obj.length) {
		        for(var i=0, l=obj.length; i<l; i++) {
		            func.call(context, obj[i], i, obj);
		        }
		    }
		};
	
		exports.map = function(obj, func) {
		    var results = [];
		    if(obj == null) {
		        return results;
		    }
	
		    if(ArrayProto.map && obj.map === ArrayProto.map) {
		        return obj.map(func);
		    }
	
		    for(var i=0; i<obj.length; i++) {
		        results[results.length] = func(obj[i], i);
		    }
	
		    if(obj.length === +obj.length) {
		        results.length = obj.length;
		    }
	
		    return results;
		};
	
		exports.asyncIter = function(arr, iter, cb) {
		    var i = -1;
	
		    function next() {
		        i++;
	
		        if(i < arr.length) {
		            iter(arr[i], i, next, cb);
		        }
		        else {
		            cb();
		        }
		    }
	
		    next();
		};
	
		exports.asyncFor = function(obj, iter, cb) {
		    var keys = exports.keys(obj);
		    var len = keys.length;
		    var i = -1;
	
		    function next() {
		        i++;
		        var k = keys[i];
	
		        if(i < len) {
		            iter(k, obj[k], i, len, next);
		        }
		        else {
		            cb();
		        }
		    }
	
		    next();
		};
	
		// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf#Polyfill
		exports.indexOf = Array.prototype.indexOf ?
		    function (arr, searchElement, fromIndex) {
		        return Array.prototype.indexOf.call(arr, searchElement, fromIndex);
		    } :
		    function (arr, searchElement, fromIndex) {
		        var length = this.length >>> 0; // Hack to convert object.length to a UInt32
	
		        fromIndex = +fromIndex || 0;
	
		        if(Math.abs(fromIndex) === Infinity) {
		            fromIndex = 0;
		        }
	
		        if(fromIndex < 0) {
		            fromIndex += length;
		            if (fromIndex < 0) {
		                fromIndex = 0;
		            }
		        }
	
		        for(;fromIndex < length; fromIndex++) {
		            if (arr[fromIndex] === searchElement) {
		                return fromIndex;
		            }
		        }
	
		        return -1;
		    };
	
		if(!Array.prototype.map) {
		    Array.prototype.map = function() {
		        throw new Error('map is unimplemented for this js engine');
		    };
		}
	
		exports.keys = function(obj) {
		    if(Object.prototype.keys) {
		        return obj.keys();
		    }
		    else {
		        var keys = [];
		        for(var k in obj) {
		            if(obj.hasOwnProperty(k)) {
		                keys.push(k);
		            }
		        }
		        return keys;
		    }
		};
	
		exports.inOperator = function (key, val) {
		    if (exports.isArray(val)) {
		        return exports.indexOf(val, key) !== -1;
		    } else if (exports.isObject(val)) {
		        return key in val;
		    } else if (exports.isString(val)) {
		        return val.indexOf(key) !== -1;
		    } else {
		        throw new Error('Cannot use "in" operator to search for "'
		            + key + '" in unexpected types.');
		    }
		};
	
	
	/***/ },
	/* 2 */
	/***/ function(module, exports, __webpack_require__) {
	
		'use strict';
	
		var path = __webpack_require__(3);
		var asap = __webpack_require__(4);
		var lib = __webpack_require__(1);
		var Obj = __webpack_require__(6);
		var compiler = __webpack_require__(3);
		var builtin_filters = __webpack_require__(7);
		var builtin_loaders = __webpack_require__(3);
		var runtime = __webpack_require__(8);
		var globals = __webpack_require__(9);
		var Frame = runtime.Frame;
		var Template;
	
		// Unconditionally load in this loader, even if no other ones are
		// included (possible in the slim browser build)
		builtin_loaders.PrecompiledLoader = __webpack_require__(10);
	
		// If the user is using the async API, *always* call it
		// asynchronously even if the template was synchronous.
		function callbackAsap(cb, err, res) {
		    asap(function() { cb(err, res); });
		}
	
		var Environment = Obj.extend({
		    init: function(loaders, opts) {
		        // The dev flag determines the trace that'll be shown on errors.
		        // If set to true, returns the full trace from the error point,
		        // otherwise will return trace starting from Template.render
		        // (the full trace from within nunjucks may confuse developers using
		        //  the library)
		        // defaults to false
		        opts = this.opts = opts || {};
		        this.opts.dev = !!opts.dev;
	
		        // The autoescape flag sets global autoescaping. If true,
		        // every string variable will be escaped by default.
		        // If false, strings can be manually escaped using the `escape` filter.
		        // defaults to true
		        this.opts.autoescape = opts.autoescape != null ? opts.autoescape : true;
	
		        // If true, this will make the system throw errors if trying
		        // to output a null or undefined value
		        this.opts.throwOnUndefined = !!opts.throwOnUndefined;
		        this.opts.trimBlocks = !!opts.trimBlocks;
		        this.opts.lstripBlocks = !!opts.lstripBlocks;
	
		        this.loaders = [];
	
		        if(!loaders) {
		            // The filesystem loader is only available server-side
		            if(builtin_loaders.FileSystemLoader) {
		                this.loaders = [new builtin_loaders.FileSystemLoader('views')];
		            }
		            else if(builtin_loaders.WebLoader) {
		                this.loaders = [new builtin_loaders.WebLoader('/views')];
		            }
		        }
		        else {
		            this.loaders = lib.isArray(loaders) ? loaders : [loaders];
		        }
	
		        // It's easy to use precompiled templates: just include them
		        // before you configure nunjucks and this will automatically
		        // pick it up and use it
		        if((true) && window.nunjucksPrecompiled) {
		            this.loaders.unshift(
		                new builtin_loaders.PrecompiledLoader(window.nunjucksPrecompiled)
		            );
		        }
	
		        this.initCache();
	
		        this.globals = globals();
		        this.filters = {};
		        this.asyncFilters = [];
		        this.extensions = {};
		        this.extensionsList = [];
	
		        for(var name in builtin_filters) {
		            this.addFilter(name, builtin_filters[name]);
		        }
		    },
	
		    initCache: function() {
		        // Caching and cache busting
		        lib.each(this.loaders, function(loader) {
		            loader.cache = {};
	
		            if(typeof loader.on === 'function') {
		                loader.on('update', function(template) {
		                    loader.cache[template] = null;
		                });
		            }
		        });
		    },
	
		    addExtension: function(name, extension) {
		        extension._name = name;
		        this.extensions[name] = extension;
		        this.extensionsList.push(extension);
		        return this;
		    },
	
		    removeExtension: function(name) {
		        var extension = this.getExtension(name);
		        if (!extension) return;
	
		        this.extensionsList = lib.without(this.extensionsList, extension);
		        delete this.extensions[name];
		    },
	
		    getExtension: function(name) {
		        return this.extensions[name];
		    },
	
		    hasExtension: function(name) {
		        return !!this.extensions[name];
		    },
	
		    addGlobal: function(name, value) {
		        this.globals[name] = value;
		        return this;
		    },
	
		    getGlobal: function(name) {
		        if(typeof this.globals[name] === 'undefined') {
		            throw new Error('global not found: ' + name);
		        }
		        return this.globals[name];
		    },
	
		    addFilter: function(name, func, async) {
		        var wrapped = func;
	
		        if(async) {
		            this.asyncFilters.push(name);
		        }
		        this.filters[name] = wrapped;
		        return this;
		    },
	
		    getFilter: function(name) {
		        if(!this.filters[name]) {
		            throw new Error('filter not found: ' + name);
		        }
		        return this.filters[name];
		    },
	
		    resolveTemplate: function(loader, parentName, filename) {
		        var isRelative = (loader.isRelative && parentName)? loader.isRelative(filename) : false;
		        return (isRelative && loader.resolve)? loader.resolve(parentName, filename) : filename;
		    },
	
		    getTemplate: function(name, eagerCompile, parentName, ignoreMissing, cb) {
		        var that = this;
		        var tmpl = null;
		        if(name && name.raw) {
		            // this fixes autoescape for templates referenced in symbols
		            name = name.raw;
		        }
	
		        if(lib.isFunction(parentName)) {
		            cb = parentName;
		            parentName = null;
		            eagerCompile = eagerCompile || false;
		        }
	
		        if(lib.isFunction(eagerCompile)) {
		            cb = eagerCompile;
		            eagerCompile = false;
		        }
	
		        if (name instanceof Template) {
		             tmpl = name;
		        }
		        else if(typeof name !== 'string') {
		            throw new Error('template names must be a string: ' + name);
		        }
		        else {
		            for (var i = 0; i < this.loaders.length; i++) {
		                var _name = this.resolveTemplate(this.loaders[i], parentName, name);
		                tmpl = this.loaders[i].cache[_name];
		                if (tmpl) break;
		            }
		        }
	
		        if(tmpl) {
		            if(eagerCompile) {
		                tmpl.compile();
		            }
	
		            if(cb) {
		                cb(null, tmpl);
		            }
		            else {
		                return tmpl;
		            }
		        } else {
		            var syncResult;
		            var _this = this;
	
		            var createTemplate = function(err, info) {
		                if(!info && !err) {
		                    if(!ignoreMissing) {
		                        err = new Error('template not found: ' + name);
		                    }
		                }
	
		                if (err) {
		                    if(cb) {
		                        cb(err);
		                    }
		                    else {
		                        throw err;
		                    }
		                }
		                else {
		                    var tmpl;
		                    if(info) {
		                        tmpl = new Template(info.src, _this,
		                                            info.path, eagerCompile);
	
		                        if(!info.noCache) {
		                            info.loader.cache[name] = tmpl;
		                        }
		                    }
		                    else {
		                        tmpl = new Template('', _this,
		                                            '', eagerCompile);
		                    }
	
		                    if(cb) {
		                        cb(null, tmpl);
		                    }
		                    else {
		                        syncResult = tmpl;
		                    }
		                }
		            };
	
		            lib.asyncIter(this.loaders, function(loader, i, next, done) {
		                function handle(err, src) {
		                    if(err) {
		                        done(err);
		                    }
		                    else if(src) {
		                        src.loader = loader;
		                        done(null, src);
		                    }
		                    else {
		                        next();
		                    }
		                }
	
		                // Resolve name relative to parentName
		                name = that.resolveTemplate(loader, parentName, name);
	
		                if(loader.async) {
		                    loader.getSource(name, handle);
		                }
		                else {
		                    handle(null, loader.getSource(name));
		                }
		            }, createTemplate);
	
		            return syncResult;
		        }
		    },
	
		    express: function(app) {
		        var env = this;
	
		        function NunjucksView(name, opts) {
		            this.name          = name;
		            this.path          = name;
		            this.defaultEngine = opts.defaultEngine;
		            this.ext           = path.extname(name);
		            if (!this.ext && !this.defaultEngine) throw new Error('No default engine was specified and no extension was provided.');
		            if (!this.ext) this.name += (this.ext = ('.' !== this.defaultEngine[0] ? '.' : '') + this.defaultEngine);
		        }
	
		        NunjucksView.prototype.render = function(opts, cb) {
		          env.render(this.name, opts, cb);
		        };
	
		        app.set('view', NunjucksView);
		        app.set('nunjucksEnv', this);
		        return this;
		    },
	
		    render: function(name, ctx, cb) {
		        if(lib.isFunction(ctx)) {
		            cb = ctx;
		            ctx = null;
		        }
	
		        // We support a synchronous API to make it easier to migrate
		        // existing code to async. This works because if you don't do
		        // anything async work, the whole thing is actually run
		        // synchronously.
		        var syncResult = null;
	
		        this.getTemplate(name, function(err, tmpl) {
		            if(err && cb) {
		                callbackAsap(cb, err);
		            }
		            else if(err) {
		                throw err;
		            }
		            else {
		                syncResult = tmpl.render(ctx, cb);
		            }
		        });
	
		        return syncResult;
		    },
	
		    renderString: function(src, ctx, opts, cb) {
		        if(lib.isFunction(opts)) {
		            cb = opts;
		            opts = {};
		        }
		        opts = opts || {};
	
		        var tmpl = new Template(src, this, opts.path);
		        return tmpl.render(ctx, cb);
		    }
		});
	
		var Context = Obj.extend({
		    init: function(ctx, blocks, env) {
		        // Has to be tied to an environment so we can tap into its globals.
		        this.env = env || new Environment();
	
		        // Make a duplicate of ctx
		        this.ctx = {};
		        for(var k in ctx) {
		            if(ctx.hasOwnProperty(k)) {
		                this.ctx[k] = ctx[k];
		            }
		        }
	
		        this.blocks = {};
		        this.exported = [];
	
		        for(var name in blocks) {
		            this.addBlock(name, blocks[name]);
		        }
		    },
	
		    lookup: function(name) {
		        // This is one of the most called functions, so optimize for
		        // the typical case where the name isn't in the globals
		        if(name in this.env.globals && !(name in this.ctx)) {
		            return this.env.globals[name];
		        }
		        else {
		            return this.ctx[name];
		        }
		    },
	
		    setVariable: function(name, val) {
		        this.ctx[name] = val;
		    },
	
		    getVariables: function() {
		        return this.ctx;
		    },
	
		    addBlock: function(name, block) {
		        this.blocks[name] = this.blocks[name] || [];
		        this.blocks[name].push(block);
		        return this;
		    },
	
		    getBlock: function(name) {
		        if(!this.blocks[name]) {
		            throw new Error('unknown block "' + name + '"');
		        }
	
		        return this.blocks[name][0];
		    },
	
		    getSuper: function(env, name, block, frame, runtime, cb) {
		        var idx = lib.indexOf(this.blocks[name] || [], block);
		        var blk = this.blocks[name][idx + 1];
		        var context = this;
	
		        if(idx === -1 || !blk) {
		            throw new Error('no super block available for "' + name + '"');
		        }
	
		        blk(env, context, frame, runtime, cb);
		    },
	
		    addExport: function(name) {
		        this.exported.push(name);
		    },
	
		    getExported: function() {
		        var exported = {};
		        for(var i=0; i<this.exported.length; i++) {
		            var name = this.exported[i];
		            exported[name] = this.ctx[name];
		        }
		        return exported;
		    }
		});
	
		Template = Obj.extend({
		    init: function (src, env, path, eagerCompile) {
		        this.env = env || new Environment();
	
		        if(lib.isObject(src)) {
		            switch(src.type) {
		            case 'code': this.tmplProps = src.obj; break;
		            case 'string': this.tmplStr = src.obj; break;
		            }
		        }
		        else if(lib.isString(src)) {
		            this.tmplStr = src;
		        }
		        else {
		            throw new Error('src must be a string or an object describing ' +
		                            'the source');
		        }
	
		        this.path = path;
	
		        if(eagerCompile) {
		            var _this = this;
		            try {
		                _this._compile();
		            }
		            catch(err) {
		                throw lib.prettifyError(this.path, this.env.opts.dev, err);
		            }
		        }
		        else {
		            this.compiled = false;
		        }
		    },
	
		    render: function(ctx, parentFrame, cb) {
		        if (typeof ctx === 'function') {
		            cb = ctx;
		            ctx = {};
		        }
		        else if (typeof parentFrame === 'function') {
		            cb = parentFrame;
		            parentFrame = null;
		        }
	
		        var forceAsync = true;
		        if(parentFrame) {
		            // If there is a frame, we are being called from internal
		            // code of another template, and the internal system
		            // depends on the sync/async nature of the parent template
		            // to be inherited, so force an async callback
		            forceAsync = false;
		        }
	
		        var _this = this;
		        // Catch compile errors for async rendering
		        try {
		            _this.compile();
		        } catch (_err) {
		            var err = lib.prettifyError(this.path, this.env.opts.dev, _err);
		            if (cb) return callbackAsap(cb, err);
		            else throw err;
		        }
	
		        var context = new Context(ctx || {}, _this.blocks, _this.env);
		        var frame = parentFrame ? parentFrame.push(true) : new Frame();
		        frame.topLevel = true;
		        var syncResult = null;
	
		        _this.rootRenderFunc(
		            _this.env,
		            context,
		            frame || new Frame(),
		            runtime,
		            function(err, res) {
		                if(err) {
		                    err = lib.prettifyError(_this.path, _this.env.opts.dev, err);
		                }
	
		                if(cb) {
		                    if(forceAsync) {
		                        callbackAsap(cb, err, res);
		                    }
		                    else {
		                        cb(err, res);
		                    }
		                }
		                else {
		                    if(err) { throw err; }
		                    syncResult = res;
		                }
		            }
		        );
	
		        return syncResult;
		    },
	
	
		    getExported: function(ctx, parentFrame, cb) {
		        if (typeof ctx === 'function') {
		            cb = ctx;
		            ctx = {};
		        }
	
		        if (typeof parentFrame === 'function') {
		            cb = parentFrame;
		            parentFrame = null;
		        }
	
		        // Catch compile errors for async rendering
		        try {
		            this.compile();
		        } catch (e) {
		            if (cb) return cb(e);
		            else throw e;
		        }
	
		        var frame = parentFrame ? parentFrame.push() : new Frame();
		        frame.topLevel = true;
	
		        // Run the rootRenderFunc to populate the context with exported vars
		        var context = new Context(ctx || {}, this.blocks, this.env);
		        this.rootRenderFunc(this.env,
		                            context,
		                            frame,
		                            runtime,
		                            function(err) {
		        		        if ( err ) {
		        			    cb(err, null);
		        		        } else {
		        			    cb(null, context.getExported());
		        		        }
		                            });
		    },
	
		    compile: function() {
		        if(!this.compiled) {
		            this._compile();
		        }
		    },
	
		    _compile: function() {
		        var props;
	
		        if(this.tmplProps) {
		            props = this.tmplProps;
		        }
		        else {
		            var source = compiler.compile(this.tmplStr,
		                                          this.env.asyncFilters,
		                                          this.env.extensionsList,
		                                          this.path,
		                                          this.env.opts);
	
		            /* jslint evil: true */
		            var func = new Function(source);
		            props = func();
		        }
	
		        this.blocks = this._getBlocks(props);
		        this.rootRenderFunc = props.root;
		        this.compiled = true;
		    },
	
		    _getBlocks: function(props) {
		        var blocks = {};
	
		        for(var k in props) {
		            if(k.slice(0, 2) === 'b_') {
		                blocks[k.slice(2)] = props[k];
		            }
		        }
	
		        return blocks;
		    }
		});
	
		module.exports = {
		    Environment: Environment,
		    Template: Template
		};
	
	
	/***/ },
	/* 3 */
	/***/ function(module, exports) {
	
		
	
	/***/ },
	/* 4 */
	/***/ function(module, exports, __webpack_require__) {
	
		"use strict";
	
		// rawAsap provides everything we need except exception management.
		var rawAsap = __webpack_require__(5);
		// RawTasks are recycled to reduce GC churn.
		var freeTasks = [];
		// We queue errors to ensure they are thrown in right order (FIFO).
		// Array-as-queue is good enough here, since we are just dealing with exceptions.
		var pendingErrors = [];
		var requestErrorThrow = rawAsap.makeRequestCallFromTimer(throwFirstError);
	
		function throwFirstError() {
		    if (pendingErrors.length) {
		        throw pendingErrors.shift();
		    }
		}
	
		/**
		 * Calls a task as soon as possible after returning, in its own event, with priority
		 * over other events like animation, reflow, and repaint. An error thrown from an
		 * event will not interrupt, nor even substantially slow down the processing of
		 * other events, but will be rather postponed to a lower priority event.
		 * @param {{call}} task A callable object, typically a function that takes no
		 * arguments.
		 */
		module.exports = asap;
		function asap(task) {
		    var rawTask;
		    if (freeTasks.length) {
		        rawTask = freeTasks.pop();
		    } else {
		        rawTask = new RawTask();
		    }
		    rawTask.task = task;
		    rawAsap(rawTask);
		}
	
		// We wrap tasks with recyclable task objects.  A task object implements
		// `call`, just like a function.
		function RawTask() {
		    this.task = null;
		}
	
		// The sole purpose of wrapping the task is to catch the exception and recycle
		// the task object after its single use.
		RawTask.prototype.call = function () {
		    try {
		        this.task.call();
		    } catch (error) {
		        if (asap.onerror) {
		            // This hook exists purely for testing purposes.
		            // Its name will be periodically randomized to break any code that
		            // depends on its existence.
		            asap.onerror(error);
		        } else {
		            // In a web browser, exceptions are not fatal. However, to avoid
		            // slowing down the queue of pending tasks, we rethrow the error in a
		            // lower priority turn.
		            pendingErrors.push(error);
		            requestErrorThrow();
		        }
		    } finally {
		        this.task = null;
		        freeTasks[freeTasks.length] = this;
		    }
		};
	
	
	/***/ },
	/* 5 */
	/***/ function(module, exports) {
	
		/* WEBPACK VAR INJECTION */(function(global) {"use strict";
	
		// Use the fastest means possible to execute a task in its own turn, with
		// priority over other events including IO, animation, reflow, and redraw
		// events in browsers.
		//
		// An exception thrown by a task will permanently interrupt the processing of
		// subsequent tasks. The higher level `asap` function ensures that if an
		// exception is thrown by a task, that the task queue will continue flushing as
		// soon as possible, but if you use `rawAsap` directly, you are responsible to
		// either ensure that no exceptions are thrown from your task, or to manually
		// call `rawAsap.requestFlush` if an exception is thrown.
		module.exports = rawAsap;
		function rawAsap(task) {
		    if (!queue.length) {
		        requestFlush();
		        flushing = true;
		    }
		    // Equivalent to push, but avoids a function call.
		    queue[queue.length] = task;
		}
	
		var queue = [];
		// Once a flush has been requested, no further calls to `requestFlush` are
		// necessary until the next `flush` completes.
		var flushing = false;
		// `requestFlush` is an implementation-specific method that attempts to kick
		// off a `flush` event as quickly as possible. `flush` will attempt to exhaust
		// the event queue before yielding to the browser's own event loop.
		var requestFlush;
		// The position of the next task to execute in the task queue. This is
		// preserved between calls to `flush` so that it can be resumed if
		// a task throws an exception.
		var index = 0;
		// If a task schedules additional tasks recursively, the task queue can grow
		// unbounded. To prevent memory exhaustion, the task queue will periodically
		// truncate already-completed tasks.
		var capacity = 1024;
	
		// The flush function processes all tasks that have been scheduled with
		// `rawAsap` unless and until one of those tasks throws an exception.
		// If a task throws an exception, `flush` ensures that its state will remain
		// consistent and will resume where it left off when called again.
		// However, `flush` does not make any arrangements to be called again if an
		// exception is thrown.
		function flush() {
		    while (index < queue.length) {
		        var currentIndex = index;
		        // Advance the index before calling the task. This ensures that we will
		        // begin flushing on the next task the task throws an error.
		        index = index + 1;
		        queue[currentIndex].call();
		        // Prevent leaking memory for long chains of recursive calls to `asap`.
		        // If we call `asap` within tasks scheduled by `asap`, the queue will
		        // grow, but to avoid an O(n) walk for every task we execute, we don't
		        // shift tasks off the queue after they have been executed.
		        // Instead, we periodically shift 1024 tasks off the queue.
		        if (index > capacity) {
		            // Manually shift all values starting at the index back to the
		            // beginning of the queue.
		            for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {
		                queue[scan] = queue[scan + index];
		            }
		            queue.length -= index;
		            index = 0;
		        }
		    }
		    queue.length = 0;
		    index = 0;
		    flushing = false;
		}
	
		// `requestFlush` is implemented using a strategy based on data collected from
		// every available SauceLabs Selenium web driver worker at time of writing.
		// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593
	
		// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that
		// have WebKitMutationObserver but not un-prefixed MutationObserver.
		// Must use `global` instead of `window` to work in both frames and web
		// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.
		var BrowserMutationObserver = global.MutationObserver || global.WebKitMutationObserver;
	
		// MutationObservers are desirable because they have high priority and work
		// reliably everywhere they are implemented.
		// They are implemented in all modern browsers.
		//
		// - Android 4-4.3
		// - Chrome 26-34
		// - Firefox 14-29
		// - Internet Explorer 11
		// - iPad Safari 6-7.1
		// - iPhone Safari 7-7.1
		// - Safari 6-7
		if (typeof BrowserMutationObserver === "function") {
		    requestFlush = makeRequestCallFromMutationObserver(flush);
	
		// MessageChannels are desirable because they give direct access to the HTML
		// task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera
		// 11-12, and in web workers in many engines.
		// Although message channels yield to any queued rendering and IO tasks, they
		// would be better than imposing the 4ms delay of timers.
		// However, they do not work reliably in Internet Explorer or Safari.
	
		// Internet Explorer 10 is the only browser that has setImmediate but does
		// not have MutationObservers.
		// Although setImmediate yields to the browser's renderer, it would be
		// preferrable to falling back to setTimeout since it does not have
		// the minimum 4ms penalty.
		// Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and
		// Desktop to a lesser extent) that renders both setImmediate and
		// MessageChannel useless for the purposes of ASAP.
		// https://github.com/kriskowal/q/issues/396
	
		// Timers are implemented universally.
		// We fall back to timers in workers in most engines, and in foreground
		// contexts in the following browsers.
		// However, note that even this simple case requires nuances to operate in a
		// broad spectrum of browsers.
		//
		// - Firefox 3-13
		// - Internet Explorer 6-9
		// - iPad Safari 4.3
		// - Lynx 2.8.7
		} else {
		    requestFlush = makeRequestCallFromTimer(flush);
		}
	
		// `requestFlush` requests that the high priority event queue be flushed as
		// soon as possible.
		// This is useful to prevent an error thrown in a task from stalling the event
		// queue if the exception handled by Node.jss
		// `process.on("uncaughtException")` or by a domain.
		rawAsap.requestFlush = requestFlush;
	
		// To request a high priority event, we induce a mutation observer by toggling
		// the text of a text node between "1" and "-1".
		function makeRequestCallFromMutationObserver(callback) {
		    var toggle = 1;
		    var observer = new BrowserMutationObserver(callback);
		    var node = document.createTextNode("");
		    observer.observe(node, {characterData: true});
		    return function requestCall() {
		        toggle = -toggle;
		        node.data = toggle;
		    };
		}
	
		// The message channel technique was discovered by Malte Ubl and was the
		// original foundation for this library.
		// http://www.nonblocking.io/2011/06/windownexttick.html
	
		// Safari 6.0.5 (at least) intermittently fails to create message ports on a
		// page's first load. Thankfully, this version of Safari supports
		// MutationObservers, so we don't need to fall back in that case.
	
		// function makeRequestCallFromMessageChannel(callback) {
		//     var channel = new MessageChannel();
		//     channel.port1.onmessage = callback;
		//     return function requestCall() {
		//         channel.port2.postMessage(0);
		//     };
		// }
	
		// For reasons explained above, we are also unable to use `setImmediate`
		// under any circumstances.
		// Even if we were, there is another bug in Internet Explorer 10.
		// It is not sufficient to assign `setImmediate` to `requestFlush` because
		// `setImmediate` must be called *by name* and therefore must be wrapped in a
		// closure.
		// Never forget.
	
		// function makeRequestCallFromSetImmediate(callback) {
		//     return function requestCall() {
		//         setImmediate(callback);
		//     };
		// }
	
		// Safari 6.0 has a problem where timers will get lost while the user is
		// scrolling. This problem does not impact ASAP because Safari 6.0 supports
		// mutation observers, so that implementation is used instead.
		// However, if we ever elect to use timers in Safari, the prevalent work-around
		// is to add a scroll event listener that calls for a flush.
	
		// `setTimeout` does not call the passed callback if the delay is less than
		// approximately 7 in web workers in Firefox 8 through 18, and sometimes not
		// even then.
	
		function makeRequestCallFromTimer(callback) {
		    return function requestCall() {
		        // We dispatch a timeout with a specified delay of 0 for engines that
		        // can reliably accommodate that request. This will usually be snapped
		        // to a 4 milisecond delay, but once we're flushing, there's no delay
		        // between events.
		        var timeoutHandle = setTimeout(handleTimer, 0);
		        // However, since this timer gets frequently dropped in Firefox
		        // workers, we enlist an interval handle that will try to fire
		        // an event 20 times per second until it succeeds.
		        var intervalHandle = setInterval(handleTimer, 50);
	
		        function handleTimer() {
		            // Whichever timer succeeds will cancel both timers and
		            // execute the callback.
		            clearTimeout(timeoutHandle);
		            clearInterval(intervalHandle);
		            callback();
		        }
		    };
		}
	
		// This is for `asap.js` only.
		// Its name will be periodically randomized to break any code that depends on
		// its existence.
		rawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer;
	
		// ASAP was originally a nextTick shim included in Q. This was factored out
		// into this ASAP package. It was later adapted to RSVP which made further
		// amendments. These decisions, particularly to marginalize MessageChannel and
		// to capture the MutationObserver implementation in a closure, were integrated
		// back into ASAP proper.
		// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js
	
		/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))
	
	/***/ },
	/* 6 */
	/***/ function(module, exports) {
	
		'use strict';
	
		// A simple class system, more documentation to come
	
		function extend(cls, name, props) {
		    // This does that same thing as Object.create, but with support for IE8
		    var F = function() {};
		    F.prototype = cls.prototype;
		    var prototype = new F();
	
		    // jshint undef: false
		    var fnTest = /xyz/.test(function(){ xyz; }) ? /\bparent\b/ : /.*/;
		    props = props || {};
	
		    for(var k in props) {
		        var src = props[k];
		        var parent = prototype[k];
	
		        if(typeof parent === 'function' &&
		           typeof src === 'function' &&
		           fnTest.test(src)) {
		            /*jshint -W083 */
		            prototype[k] = (function (src, parent) {
		                return function() {
		                    // Save the current parent method
		                    var tmp = this.parent;
	
		                    // Set parent to the previous method, call, and restore
		                    this.parent = parent;
		                    var res = src.apply(this, arguments);
		                    this.parent = tmp;
	
		                    return res;
		                };
		            })(src, parent);
		        }
		        else {
		            prototype[k] = src;
		        }
		    }
	
		    prototype.typename = name;
	
		    var new_cls = function() {
		        if(prototype.init) {
		            prototype.init.apply(this, arguments);
		        }
		    };
	
		    new_cls.prototype = prototype;
		    new_cls.prototype.constructor = new_cls;
	
		    new_cls.extend = function(name, props) {
		        if(typeof name === 'object') {
		            props = name;
		            name = 'anonymous';
		        }
		        return extend(new_cls, name, props);
		    };
	
		    return new_cls;
		}
	
		module.exports = extend(Object, 'Object', {});
	
	
	/***/ },
	/* 7 */
	/***/ function(module, exports, __webpack_require__) {
	
		'use strict';
	
		var lib = __webpack_require__(1);
		var r = __webpack_require__(8);
	
		function normalize(value, defaultValue) {
		    if(value === null || value === undefined || value === false) {
		        return defaultValue;
		    }
		    return value;
		}
	
		var filters = {
		    abs: function(n) {
		        return Math.abs(n);
		    },
	
		    batch: function(arr, linecount, fill_with) {
		        var i;
		        var res = [];
		        var tmp = [];
	
		        for(i = 0; i < arr.length; i++) {
		            if(i % linecount === 0 && tmp.length) {
		                res.push(tmp);
		                tmp = [];
		            }
	
		            tmp.push(arr[i]);
		        }
	
		        if(tmp.length) {
		            if(fill_with) {
		                for(i = tmp.length; i < linecount; i++) {
		                    tmp.push(fill_with);
		                }
		            }
	
		            res.push(tmp);
		        }
	
		        return res;
		    },
	
		    capitalize: function(str) {
		        str = normalize(str, '');
		        var ret = str.toLowerCase();
		        return r.copySafeness(str, ret.charAt(0).toUpperCase() + ret.slice(1));
		    },
	
		    center: function(str, width) {
		        str = normalize(str, '');
		        width = width || 80;
	
		        if(str.length >= width) {
		            return str;
		        }
	
		        var spaces = width - str.length;
		        var pre = lib.repeat(' ', spaces/2 - spaces % 2);
		        var post = lib.repeat(' ', spaces/2);
		        return r.copySafeness(str, pre + str + post);
		    },
	
		    'default': function(val, def, bool) {
		        if(bool) {
		            return val ? val : def;
		        }
		        else {
		            return (val !== undefined) ? val : def;
		        }
		    },
	
		    dictsort: function(val, case_sensitive, by) {
		        if (!lib.isObject(val)) {
		            throw new lib.TemplateError('dictsort filter: val must be an object');
		        }
	
		        var array = [];
		        for (var k in val) {
		            // deliberately include properties from the object's prototype
		            array.push([k,val[k]]);
		        }
	
		        var si;
		        if (by === undefined || by === 'key') {
		            si = 0;
		        } else if (by === 'value') {
		            si = 1;
		        } else {
		            throw new lib.TemplateError(
		                'dictsort filter: You can only sort by either key or value');
		        }
	
		        array.sort(function(t1, t2) {
		            var a = t1[si];
		            var b = t2[si];
	
		            if (!case_sensitive) {
		                if (lib.isString(a)) {
		                    a = a.toUpperCase();
		                }
		                if (lib.isString(b)) {
		                    b = b.toUpperCase();
		                }
		            }
	
		            return a > b ? 1 : (a === b ? 0 : -1);
		        });
	
		        return array;
		    },
	
		    dump: function(obj) {
		        return JSON.stringify(obj);
		    },
	
		    escape: function(str) {
		        if(str instanceof r.SafeString) {
		            return str;
		        }
		        str = (str === null || str === undefined) ? '' : str;
		        return r.markSafe(lib.escape(str.toString()));
		    },
	
		    safe: function(str) {
		        if (str instanceof r.SafeString) {
		            return str;
		        }
		        str = (str === null || str === undefined) ? '' : str;
		        return r.markSafe(str.toString());
		    },
	
		    first: function(arr) {
		        return arr[0];
		    },
	
		    groupby: function(arr, attr) {
		        return lib.groupBy(arr, attr);
		    },
	
		    indent: function(str, width, indentfirst) {
		        str = normalize(str, '');
	
		        if (str === '') return '';
	
		        width = width || 4;
		        var res = '';
		        var lines = str.split('\n');
		        var sp = lib.repeat(' ', width);
	
		        for(var i=0; i<lines.length; i++) {
		            if(i === 0 && !indentfirst) {
		                res += lines[i] + '\n';
		            }
		            else {
		                res += sp + lines[i] + '\n';
		            }
		        }
	
		        return r.copySafeness(str, res);
		    },
	
		    join: function(arr, del, attr) {
		        del = del || '';
	
		        if(attr) {
		            arr = lib.map(arr, function(v) {
		                return v[attr];
		            });
		        }
	
		        return arr.join(del);
		    },
	
		    last: function(arr) {
		        return arr[arr.length-1];
		    },
	
		    length: function(val) {
		        var value = normalize(val, '');
	
		        if(value !== undefined) {
		            if(
		                (typeof Map === 'function' && value instanceof Map) ||
		                (typeof Set === 'function' && value instanceof Set)
		            ) {
		                // ECMAScript 2015 Maps and Sets
		                return value.size;
		            }
		            if(lib.isObject(value) && !(value instanceof r.SafeString)) {
		                // Objects (besides SafeStrings), non-primative Arrays
		                return Object.keys(value).length;
		            }
		            return value.length;
		        }
		        return 0;
		    },
	
		    list: function(val) {
		        if(lib.isString(val)) {
		            return val.split('');
		        }
		        else if(lib.isObject(val)) {
		            var keys = [];
	
		            if(Object.keys) {
		                keys = Object.keys(val);
		            }
		            else {
		                for(var k in val) {
		                    keys.push(k);
		                }
		            }
	
		            return lib.map(keys, function(k) {
		                return { key: k,
		                         value: val[k] };
		            });
		        }
		        else if(lib.isArray(val)) {
		          return val;
		        }
		        else {
		            throw new lib.TemplateError('list filter: type not iterable');
		        }
		    },
	
		    lower: function(str) {
		        str = normalize(str, '');
		        return str.toLowerCase();
		    },
	
		    random: function(arr) {
		        return arr[Math.floor(Math.random() * arr.length)];
		    },
	
		    rejectattr: function(arr, attr) {
		      return arr.filter(function (item) {
		        return !item[attr];
		      });
		    },
	
		    selectattr: function(arr, attr) {
		      return arr.filter(function (item) {
		        return !!item[attr];
		      });
		    },
	
		    replace: function(str, old, new_, maxCount) {
		        var originalStr = str;
	
		        if (old instanceof RegExp) {
		            return str.replace(old, new_);
		        }
	
		        if(typeof maxCount === 'undefined'){
		            maxCount = -1;
		        }
	
		        var res = '';  // Output
	
		        // Cast Numbers in the search term to string
		        if(typeof old === 'number'){
		            old = old + '';
		        }
		        else if(typeof old !== 'string') {
		            // If it is something other than number or string,
		            // return the original string
		            return str;
		        }
	
		        // Cast numbers in the replacement to string
		        if(typeof str === 'number'){
		            str = str + '';
		        }
	
		        // If by now, we don't have a string, throw it back
		        if(typeof str !== 'string' && !(str instanceof r.SafeString)){
		            return str;
		        }
	
		        // ShortCircuits
		        if(old === ''){
		            // Mimic the python behaviour: empty string is replaced
		            // by replacement e.g. "abc"|replace("", ".") -> .a.b.c.
		            res = new_ + str.split('').join(new_) + new_;
		            return r.copySafeness(str, res);
		        }
	
		        var nextIndex = str.indexOf(old);
		        // if # of replacements to perform is 0, or the string to does
		        // not contain the old value, return the string
		        if(maxCount === 0 || nextIndex === -1){
		            return str;
		        }
	
		        var pos = 0;
		        var count = 0; // # of replacements made
	
		        while(nextIndex  > -1 && (maxCount === -1 || count < maxCount)){
		            // Grab the next chunk of src string and add it with the
		            // replacement, to the result
		            res += str.substring(pos, nextIndex) + new_;
		            // Increment our pointer in the src string
		            pos = nextIndex + old.length;
		            count++;
		            // See if there are any more replacements to be made
		            nextIndex = str.indexOf(old, pos);
		        }
	
		        // We've either reached the end, or done the max # of
		        // replacements, tack on any remaining string
		        if(pos < str.length) {
		            res += str.substring(pos);
		        }
	
		        return r.copySafeness(originalStr, res);
		    },
	
		    reverse: function(val) {
		        var arr;
		        if(lib.isString(val)) {
		            arr = filters.list(val);
		        }
		        else {
		            // Copy it
		            arr = lib.map(val, function(v) { return v; });
		        }
	
		        arr.reverse();
	
		        if(lib.isString(val)) {
		            return r.copySafeness(val, arr.join(''));
		        }
		        return arr;
		    },
	
		    round: function(val, precision, method) {
		        precision = precision || 0;
		        var factor = Math.pow(10, precision);
		        var rounder;
	
		        if(method === 'ceil') {
		            rounder = Math.ceil;
		        }
		        else if(method === 'floor') {
		            rounder = Math.floor;
		        }
		        else {
		            rounder = Math.round;
		        }
	
		        return rounder(val * factor) / factor;
		    },
	
		    slice: function(arr, slices, fillWith) {
		        var sliceLength = Math.floor(arr.length / slices);
		        var extra = arr.length % slices;
		        var offset = 0;
		        var res = [];
	
		        for(var i=0; i<slices; i++) {
		            var start = offset + i * sliceLength;
		            if(i < extra) {
		                offset++;
		            }
		            var end = offset + (i + 1) * sliceLength;
	
		            var slice = arr.slice(start, end);
		            if(fillWith && i >= extra) {
		                slice.push(fillWith);
		            }
		            res.push(slice);
		        }
	
		        return res;
		    },
	
		    sum: function(arr, attr, start) {
		        var sum = 0;
	
		        if(typeof start === 'number'){
		            sum += start;
		        }
	
		        if(attr) {
		            arr = lib.map(arr, function(v) {
		                return v[attr];
		            });
		        }
	
		        for(var i = 0; i < arr.length; i++) {
		            sum += arr[i];
		        }
	
		        return sum;
		    },
	
		    sort: r.makeMacro(['value', 'reverse', 'case_sensitive', 'attribute'], [], function(arr, reverse, caseSens, attr) {
		         // Copy it
		        arr = lib.map(arr, function(v) { return v; });
	
		        arr.sort(function(a, b) {
		            var x, y;
	
		            if(attr) {
		                x = a[attr];
		                y = b[attr];
		            }
		            else {
		                x = a;
		                y = b;
		            }
	
		            if(!caseSens && lib.isString(x) && lib.isString(y)) {
		                x = x.toLowerCase();
		                y = y.toLowerCase();
		            }
	
		            if(x < y) {
		                return reverse ? 1 : -1;
		            }
		            else if(x > y) {
		                return reverse ? -1: 1;
		            }
		            else {
		                return 0;
		            }
		        });
	
		        return arr;
		    }),
	
		    string: function(obj) {
		        return r.copySafeness(obj, obj);
		    },
	
		    striptags: function(input, preserve_linebreaks) {
		        input = normalize(input, '');
		        preserve_linebreaks = preserve_linebreaks || false;
		        var tags = /<\/?([a-z][a-z0-9]*)\b[^>]*>|<!--[\s\S]*?-->/gi;
		        var trimmedInput = filters.trim(input.replace(tags, ''));
		        var res = '';
		        if (preserve_linebreaks) {
		            res = trimmedInput
		                .replace(/^ +| +$/gm, '')     // remove leading and trailing spaces
		                .replace(/ +/g, ' ')          // squash adjacent spaces
		                .replace(/(\r\n)/g, '\n')     // normalize linebreaks (CRLF -> LF)
		                .replace(/\n\n\n+/g, '\n\n'); // squash abnormal adjacent linebreaks
		        } else {
		            res = trimmedInput.replace(/\s+/gi, ' ');
		        }
		        return r.copySafeness(input, res);
		    },
	
		    title: function(str) {
		        str = normalize(str, '');
		        var words = str.split(' ');
		        for(var i = 0; i < words.length; i++) {
		            words[i] = filters.capitalize(words[i]);
		        }
		        return r.copySafeness(str, words.join(' '));
		    },
	
		    trim: function(str) {
		        return r.copySafeness(str, str.replace(/^\s*|\s*$/g, ''));
		    },
	
		    truncate: function(input, length, killwords, end) {
		        var orig = input;
		        input = normalize(input, '');
		        length = length || 255;
	
		        if (input.length <= length)
		            return input;
	
		        if (killwords) {
		            input = input.substring(0, length);
		        } else {
		            var idx = input.lastIndexOf(' ', length);
		            if(idx === -1) {
		                idx = length;
		            }
	
		            input = input.substring(0, idx);
		        }
	
		        input += (end !== undefined && end !== null) ? end : '...';
		        return r.copySafeness(orig, input);
		    },
	
		    upper: function(str) {
		        str = normalize(str, '');
		        return str.toUpperCase();
		    },
	
		    urlencode: function(obj) {
		        var enc = encodeURIComponent;
		        if (lib.isString(obj)) {
		            return enc(obj);
		        } else {
		            var parts;
		            if (lib.isArray(obj)) {
		                parts = obj.map(function(item) {
		                    return enc(item[0]) + '=' + enc(item[1]);
		                });
		            } else {
		                parts = [];
		                for (var k in obj) {
		                    if (obj.hasOwnProperty(k)) {
		                        parts.push(enc(k) + '=' + enc(obj[k]));
		                    }
		                }
		            }
		            return parts.join('&');
		        }
		    },
	
		    urlize: function(str, length, nofollow) {
		        if (isNaN(length)) length = Infinity;
	
		        var noFollowAttr = (nofollow === true ? ' rel="nofollow"' : '');
	
		        // For the jinja regexp, see
		        // https://github.com/mitsuhiko/jinja2/blob/f15b814dcba6aa12bc74d1f7d0c881d55f7126be/jinja2/utils.py#L20-L23
		        var puncRE = /^(?:\(|<|&lt;)?(.*?)(?:\.|,|\)|\n|&gt;)?$/;
		        // from http://blog.gerv.net/2011/05/html5_email_address_regexp/
		        var emailRE = /^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i;
		        var httpHttpsRE = /^https?:\/\/.*$/;
		        var wwwRE = /^www\./;
		        var tldRE = /\.(?:org|net|com)(?:\:|\/|$)/;
	
		        var words = str.split(/(\s+)/).filter(function(word) {
		          // If the word has no length, bail. This can happen for str with
		          // trailing whitespace.
		          return word && word.length;
		        }).map(function(word) {
		          var matches = word.match(puncRE);
		          var possibleUrl = matches && matches[1] || word;
	
		          // url that starts with http or https
		          if (httpHttpsRE.test(possibleUrl))
		            return '<a href="' + possibleUrl + '"' + noFollowAttr + '>' + possibleUrl.substr(0, length) + '</a>';
	
		          // url that starts with www.
		          if (wwwRE.test(possibleUrl))
		            return '<a href="http://' + possibleUrl + '"' + noFollowAttr + '>' + possibleUrl.substr(0, length) + '</a>';
	
		          // an email address of the form username@domain.tld
		          if (emailRE.test(possibleUrl))
		            return '<a href="mailto:' + possibleUrl + '">' + possibleUrl + '</a>';
	
		          // url that ends in .com, .org or .net that is not an email address
		          if (tldRE.test(possibleUrl))
		            return '<a href="http://' + possibleUrl + '"' + noFollowAttr + '>' + possibleUrl.substr(0, length) + '</a>';
	
		          return word;
	
		        });
	
		        return words.join('');
		    },
	
		    wordcount: function(str) {
		        str = normalize(str, '');
		        var words = (str) ? str.match(/\w+/g) : null;
		        return (words) ? words.length : null;
		    },
	
		    'float': function(val, def) {
		        var res = parseFloat(val);
		        return isNaN(res) ? def : res;
		    },
	
		    'int': function(val, def) {
		        var res = parseInt(val, 10);
		        return isNaN(res) ? def : res;
		    }
		};
	
		// Aliases
		filters.d = filters['default'];
		filters.e = filters.escape;
	
		module.exports = filters;
	
	
	/***/ },
	/* 8 */
	/***/ function(module, exports, __webpack_require__) {
	
		'use strict';
	
		var lib = __webpack_require__(1);
		var Obj = __webpack_require__(6);
	
		// Frames keep track of scoping both at compile-time and run-time so
		// we know how to access variables. Block tags can introduce special
		// variables, for example.
		var Frame = Obj.extend({
		    init: function(parent, isolateWrites) {
		        this.variables = {};
		        this.parent = parent;
		        this.topLevel = false;
		        // if this is true, writes (set) should never propagate upwards past
		        // this frame to its parent (though reads may).
		        this.isolateWrites = isolateWrites;
		    },
	
		    set: function(name, val, resolveUp) {
		        // Allow variables with dots by automatically creating the
		        // nested structure
		        var parts = name.split('.');
		        var obj = this.variables;
		        var frame = this;
	
		        if(resolveUp) {
		            if((frame = this.resolve(parts[0], true))) {
		                frame.set(name, val);
		                return;
		            }
		        }
	
		        for(var i=0; i<parts.length - 1; i++) {
		            var id = parts[i];
	
		            if(!obj[id]) {
		                obj[id] = {};
		            }
		            obj = obj[id];
		        }
	
		        obj[parts[parts.length - 1]] = val;
		    },
	
		    get: function(name) {
		        var val = this.variables[name];
		        if(val !== undefined && val !== null) {
		            return val;
		        }
		        return null;
		    },
	
		    lookup: function(name) {
		        var p = this.parent;
		        var val = this.variables[name];
		        if(val !== undefined && val !== null) {
		            return val;
		        }
		        return p && p.lookup(name);
		    },
	
		    resolve: function(name, forWrite) {
		        var p = (forWrite && this.isolateWrites) ? undefined : this.parent;
		        var val = this.variables[name];
		        if(val !== undefined && val !== null) {
		            return this;
		        }
		        return p && p.resolve(name);
		    },
	
		    push: function(isolateWrites) {
		        return new Frame(this, isolateWrites);
		    },
	
		    pop: function() {
		        return this.parent;
		    }
		});
	
		function makeMacro(argNames, kwargNames, func) {
		    return function() {
		        var argCount = numArgs(arguments);
		        var args;
		        var kwargs = getKeywordArgs(arguments);
		        var i;
	
		        if(argCount > argNames.length) {
		            args = Array.prototype.slice.call(arguments, 0, argNames.length);
	
		            // Positional arguments that should be passed in as
		            // keyword arguments (essentially default values)
		            var vals = Array.prototype.slice.call(arguments, args.length, argCount);
		            for(i = 0; i < vals.length; i++) {
		                if(i < kwargNames.length) {
		                    kwargs[kwargNames[i]] = vals[i];
		                }
		            }
	
		            args.push(kwargs);
		        }
		        else if(argCount < argNames.length) {
		            args = Array.prototype.slice.call(arguments, 0, argCount);
	
		            for(i = argCount; i < argNames.length; i++) {
		                var arg = argNames[i];
	
		                // Keyword arguments that should be passed as
		                // positional arguments, i.e. the caller explicitly
		                // used the name of a positional arg
		                args.push(kwargs[arg]);
		                delete kwargs[arg];
		            }
	
		            args.push(kwargs);
		        }
		        else {
		            args = arguments;
		        }
	
		        return func.apply(this, args);
		    };
		}
	
		function makeKeywordArgs(obj) {
		    obj.__keywords = true;
		    return obj;
		}
	
		function getKeywordArgs(args) {
		    var len = args.length;
		    if(len) {
		        var lastArg = args[len - 1];
		        if(lastArg && lastArg.hasOwnProperty('__keywords')) {
		            return lastArg;
		        }
		    }
		    return {};
		}
	
		function numArgs(args) {
		    var len = args.length;
		    if(len === 0) {
		        return 0;
		    }
	
		    var lastArg = args[len - 1];
		    if(lastArg && lastArg.hasOwnProperty('__keywords')) {
		        return len - 1;
		    }
		    else {
		        return len;
		    }
		}
	
		// A SafeString object indicates that the string should not be
		// autoescaped. This happens magically because autoescaping only
		// occurs on primitive string objects.
		function SafeString(val) {
		    if(typeof val !== 'string') {
		        return val;
		    }
	
		    this.val = val;
		    this.length = val.length;
		}
	
		SafeString.prototype = Object.create(String.prototype, {
		    length: { writable: true, configurable: true, value: 0 }
		});
		SafeString.prototype.valueOf = function() {
		    return this.val;
		};
		SafeString.prototype.toString = function() {
		    return this.val;
		};
	
		function copySafeness(dest, target) {
		    if(dest instanceof SafeString) {
		        return new SafeString(target);
		    }
		    return target.toString();
		}
	
		function markSafe(val) {
		    var type = typeof val;
	
		    if(type === 'string') {
		        return new SafeString(val);
		    }
		    else if(type !== 'function') {
		        return val;
		    }
		    else {
		        return function() {
		            var ret = val.apply(this, arguments);
	
		            if(typeof ret === 'string') {
		                return new SafeString(ret);
		            }
	
		            return ret;
		        };
		    }
		}
	
		function suppressValue(val, autoescape) {
		    val = (val !== undefined && val !== null) ? val : '';
	
		    if(autoescape && !(val instanceof SafeString)) {
		        val = lib.escape(val.toString());
		    }
	
		    return val;
		}
	
		function ensureDefined(val, lineno, colno) {
		    if(val === null || val === undefined) {
		        throw new lib.TemplateError(
		            'attempted to output null or undefined value',
		            lineno + 1,
		            colno + 1
		        );
		    }
		    return val;
		}
	
		function memberLookup(obj, val) {
		    obj = obj || {};
	
		    if(typeof obj[val] === 'function') {
		        return function() {
		            return obj[val].apply(obj, arguments);
		        };
		    }
	
		    return obj[val];
		}
	
		function callWrap(obj, name, context, args) {
		    if(!obj) {
		        throw new Error('Unable to call `' + name + '`, which is undefined or falsey');
		    }
		    else if(typeof obj !== 'function') {
		        throw new Error('Unable to call `' + name + '`, which is not a function');
		    }
	
		    // jshint validthis: true
		    return obj.apply(context, args);
		}
	
		function contextOrFrameLookup(context, frame, name) {
		    var val = frame.lookup(name);
		    return (val !== undefined && val !== null) ?
		        val :
		        context.lookup(name);
		}
	
		function handleError(error, lineno, colno) {
		    if(error.lineno) {
		        return error;
		    }
		    else {
		        return new lib.TemplateError(error, lineno, colno);
		    }
		}
	
		function asyncEach(arr, dimen, iter, cb) {
		    if(lib.isArray(arr)) {
		        var len = arr.length;
	
		        lib.asyncIter(arr, function(item, i, next) {
		            switch(dimen) {
		            case 1: iter(item, i, len, next); break;
		            case 2: iter(item[0], item[1], i, len, next); break;
		            case 3: iter(item[0], item[1], item[2], i, len, next); break;
		            default:
		                item.push(i, next);
		                iter.apply(this, item);
		            }
		        }, cb);
		    }
		    else {
		        lib.asyncFor(arr, function(key, val, i, len, next) {
		            iter(key, val, i, len, next);
		        }, cb);
		    }
		}
	
		function asyncAll(arr, dimen, func, cb) {
		    var finished = 0;
		    var len, i;
		    var outputArr;
	
		    function done(i, output) {
		        finished++;
		        outputArr[i] = output;
	
		        if(finished === len) {
		            cb(null, outputArr.join(''));
		        }
		    }
	
		    if(lib.isArray(arr)) {
		        len = arr.length;
		        outputArr = new Array(len);
	
		        if(len === 0) {
		            cb(null, '');
		        }
		        else {
		            for(i = 0; i < arr.length; i++) {
		                var item = arr[i];
	
		                switch(dimen) {
		                case 1: func(item, i, len, done); break;
		                case 2: func(item[0], item[1], i, len, done); break;
		                case 3: func(item[0], item[1], item[2], i, len, done); break;
		                default:
		                    item.push(i, done);
		                    // jshint validthis: true
		                    func.apply(this, item);
		                }
		            }
		        }
		    }
		    else {
		        var keys = lib.keys(arr);
		        len = keys.length;
		        outputArr = new Array(len);
	
		        if(len === 0) {
		            cb(null, '');
		        }
		        else {
		            for(i = 0; i < keys.length; i++) {
		                var k = keys[i];
		                func(k, arr[k], i, len, done);
		            }
		        }
		    }
		}
	
		module.exports = {
		    Frame: Frame,
		    makeMacro: makeMacro,
		    makeKeywordArgs: makeKeywordArgs,
		    numArgs: numArgs,
		    suppressValue: suppressValue,
		    ensureDefined: ensureDefined,
		    memberLookup: memberLookup,
		    contextOrFrameLookup: contextOrFrameLookup,
		    callWrap: callWrap,
		    handleError: handleError,
		    isArray: lib.isArray,
		    keys: lib.keys,
		    SafeString: SafeString,
		    copySafeness: copySafeness,
		    markSafe: markSafe,
		    asyncEach: asyncEach,
		    asyncAll: asyncAll,
		    inOperator: lib.inOperator
		};
	
	
	/***/ },
	/* 9 */
	/***/ function(module, exports) {
	
		'use strict';
	
		function cycler(items) {
		    var index = -1;
	
		    return {
		        current: null,
		        reset: function() {
		            index = -1;
		            this.current = null;
		        },
	
		        next: function() {
		            index++;
		            if(index >= items.length) {
		                index = 0;
		            }
	
		            this.current = items[index];
		            return this.current;
		        },
		    };
	
		}
	
		function joiner(sep) {
		    sep = sep || ',';
		    var first = true;
	
		    return function() {
		        var val = first ? '' : sep;
		        first = false;
		        return val;
		    };
		}
	
		// Making this a function instead so it returns a new object
		// each time it's called. That way, if something like an environment
		// uses it, they will each have their own copy.
		function globals() {
		    return {
		        range: function(start, stop, step) {
		            if(typeof stop === 'undefined') {
		                stop = start;
		                start = 0;
		                step = 1;
		            }
		            else if(!step) {
		                step = 1;
		            }
	
		            var arr = [];
		            var i;
		            if (step > 0) {
		                for (i=start; i<stop; i+=step) {
		                    arr.push(i);
		                }
		            } else {
		                for (i=start; i>stop; i+=step) {
		                    arr.push(i);
		                }
		            }
		            return arr;
		        },
	
		        // lipsum: function(n, html, min, max) {
		        // },
	
		        cycler: function() {
		            return cycler(Array.prototype.slice.call(arguments));
		        },
	
		        joiner: function(sep) {
		            return joiner(sep);
		        }
		    };
		}
	
		module.exports = globals;
	
	
	/***/ },
	/* 10 */
	/***/ function(module, exports, __webpack_require__) {
	
		'use strict';
	
		var Loader = __webpack_require__(11);
	
		var PrecompiledLoader = Loader.extend({
		    init: function(compiledTemplates) {
		        this.precompiled = compiledTemplates || {};
		    },
	
		    getSource: function(name) {
		        if (this.precompiled[name]) {
		            return {
		                src: { type: 'code',
		                       obj: this.precompiled[name] },
		                path: name
		            };
		        }
		        return null;
		    }
		});
	
		module.exports = PrecompiledLoader;
	
	
	/***/ },
	/* 11 */
	/***/ function(module, exports, __webpack_require__) {
	
		'use strict';
	
		var path = __webpack_require__(3);
		var Obj = __webpack_require__(6);
		var lib = __webpack_require__(1);
	
		var Loader = Obj.extend({
		    on: function(name, func) {
		        this.listeners = this.listeners || {};
		        this.listeners[name] = this.listeners[name] || [];
		        this.listeners[name].push(func);
		    },
	
		    emit: function(name /*, arg1, arg2, ...*/) {
		        var args = Array.prototype.slice.call(arguments, 1);
	
		        if(this.listeners && this.listeners[name]) {
		            lib.each(this.listeners[name], function(listener) {
		                listener.apply(null, args);
		            });
		        }
		    },
	
		    resolve: function(from, to) {
		        return path.resolve(path.dirname(from), to);
		    },
	
		    isRelative: function(filename) {
		        return (filename.indexOf('./') === 0 || filename.indexOf('../') === 0);
		    }
		});
	
		module.exports = Loader;
	
	
	/***/ },
	/* 12 */
	/***/ function(module, exports) {
	
		function installCompat() {
		  'use strict';
	
		  // This must be called like `nunjucks.installCompat` so that `this`
		  // references the nunjucks instance
		  var runtime = this.runtime; // jshint ignore:line
		  var lib = this.lib; // jshint ignore:line
	
		  var orig_contextOrFrameLookup = runtime.contextOrFrameLookup;
		  runtime.contextOrFrameLookup = function(context, frame, key) {
		    var val = orig_contextOrFrameLookup.apply(this, arguments);
		    if (val === undefined) {
		      switch (key) {
		      case 'True':
		        return true;
		      case 'False':
		        return false;
		      case 'None':
		        return null;
		      }
		    }
	
		    return val;
		  };
	
		  var orig_memberLookup = runtime.memberLookup;
		  var ARRAY_MEMBERS = {
		    pop: function(index) {
		      if (index === undefined) {
		        return this.pop();
		      }
		      if (index >= this.length || index < 0) {
		        throw new Error('KeyError');
		      }
		      return this.splice(index, 1);
		    },
		    remove: function(element) {
		      for (var i = 0; i < this.length; i++) {
		        if (this[i] === element) {
		          return this.splice(i, 1);
		        }
		      }
		      throw new Error('ValueError');
		    },
		    count: function(element) {
		      var count = 0;
		      for (var i = 0; i < this.length; i++) {
		        if (this[i] === element) {
		          count++;
		        }
		      }
		      return count;
		    },
		    index: function(element) {
		      var i;
		      if ((i = this.indexOf(element)) === -1) {
		        throw new Error('ValueError');
		      }
		      return i;
		    },
		    find: function(element) {
		      return this.indexOf(element);
		    },
		    insert: function(index, elem) {
		      return this.splice(index, 0, elem);
		    }
		  };
		  var OBJECT_MEMBERS = {
		    items: function() {
		      var ret = [];
		      for(var k in this) {
		        ret.push([k, this[k]]);
		      }
		      return ret;
		    },
		    values: function() {
		      var ret = [];
		      for(var k in this) {
		        ret.push(this[k]);
		      }
		      return ret;
		    },
		    keys: function() {
		      var ret = [];
		      for(var k in this) {
		        ret.push(k);
		      }
		      return ret;
		    },
		    get: function(key, def) {
		      var output = this[key];
		      if (output === undefined) {
		        output = def;
		      }
		      return output;
		    },
		    has_key: function(key) {
		      return this.hasOwnProperty(key);
		    },
		    pop: function(key, def) {
		      var output = this[key];
		      if (output === undefined && def !== undefined) {
		        output = def;
		      } else if (output === undefined) {
		        throw new Error('KeyError');
		      } else {
		        delete this[key];
		      }
		      return output;
		    },
		    popitem: function() {
		      for (var k in this) {
		        // Return the first object pair.
		        var val = this[k];
		        delete this[k];
		        return [k, val];
		      }
		      throw new Error('KeyError');
		    },
		    setdefault: function(key, def) {
		      if (key in this) {
		        return this[key];
		      }
		      if (def === undefined) {
		        def = null;
		      }
		      return this[key] = def;
		    },
		    update: function(kwargs) {
		      for (var k in kwargs) {
		        this[k] = kwargs[k];
		      }
		      return null;  // Always returns None
		    }
		  };
		  OBJECT_MEMBERS.iteritems = OBJECT_MEMBERS.items;
		  OBJECT_MEMBERS.itervalues = OBJECT_MEMBERS.values;
		  OBJECT_MEMBERS.iterkeys = OBJECT_MEMBERS.keys;
		  runtime.memberLookup = function(obj, val, autoescape) { // jshint ignore:line
		    obj = obj || {};
	
		    // If the object is an object, return any of the methods that Python would
		    // otherwise provide.
		    if (lib.isArray(obj) && ARRAY_MEMBERS.hasOwnProperty(val)) {
		      return function() {return ARRAY_MEMBERS[val].apply(obj, arguments);};
		    }
	
		    if (lib.isObject(obj) && OBJECT_MEMBERS.hasOwnProperty(val)) {
		      return function() {return OBJECT_MEMBERS[val].apply(obj, arguments);};
		    }
	
		    return orig_memberLookup.apply(this, arguments);
		  };
		}
	
		module.exports = installCompat;
	
	
	/***/ }
	/******/ ])
	});
	;

/***/ }),
/* 9 */
/***/ (function(module, exports, __webpack_require__) {

	module.exports = function(env){
	    function parse (parser, nodes, lexer) {
	        var tok = parser.nextToken();
	        key = parser.parseSignature(null, true);
	        parser.advanceAfterBlockEnd(tok.value);
	        return new nodes.CallExtension(this, 'run', key);
	    }
	    
	    function Translation () {
	        this.tags = ['trans'];
	        this.parse = parse;
	        this.run = function (ctx, key) {
	        	// cosinnus_current_language is defined in base.html
	        	// COSINNUS_PO_TRANS is defined in webpack/shared.config.js
	        	if (cosinnus_current_language in ({"en":{"Groups":"Groups","Like":"","Group":"Group","Title":"","Workshops":"","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"","Liked":"","Following":"","Events":"","Projects":"","Members":"","Follow":"","Event":"","Report offensive content":"","From":"","Until":"","website":"","Contact":"","Send Message":"","Invitations":"","You will now receive notifications for content posted in this project.":"","You will now receive notifications for content posted in this group.":"","Sustainable Development Goals":"","Membership request pending...":"","You are invited!":"","All Groups":"All Groups","All Projects":"All Projects","Organizations":"","People":"","My Groups":"My Groups","My Projects":"My Projects","Ideas":"","All Ideas":"","My Organizations":"","All Organizations":"","Include contents from other platforms":"","My Cloud Files":"","Cloud Files":"","Idea":"","Organization":"","Cloud File":"","Create Project":"Create Project","Create Group":"Create Group","Categories":"","SDGS":"","Search for Names, Topics and Places...":"","Search for Names and Topics...":"","Where":"","In map area":"","If active, searching will be restricted to the visible map area.":"","Apply Filters":"","Clear Filters":"","Street":"","Next":"","Choose a location for your idea by dragging the marker!":"","of":"","No results found.":"","Could not complete the search due to an error.":"","Search when moving the map":"","Search this area":"","Membership Requests":"","You are not in any groups or projects yet":"","You have not created any organizations yet.":"","Ideas I am following":"","You are not following any ideas yet.":"","Browse all Ideas":"","You have not RSVPed to any Events.":"","Go to Calendar":"","No current notifications":"","Find on map:":"","Entire Network":"","On the Map":"","In my Cloud Files":"","Topic":"","SDG":"","from":"","You":"","No info.":"","Administrator":"","Administrators":"","Administrators unknown":"","No description yet.":"","max.":"","You are participating":"","Participation request pending...":"","Participate":"","Contact organizers":"","You will now receive notifications for content posted.":"","If you do not want notifications, click the unfollow button!":"","Could not save your like setting because of an error.":"","Could not save your follow setting because of an error.":"","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"","Back to location selection":"","Sorry, but you cannot view details for this content.":"","This can happen when its visibility settings have changed recently.":"","Please register or log in to continue!":"","Error!":"","Sorry, but the requested content could not be retrieved from the server.":"","Visit Event Page":"","You will now receive notifications for comments or when this event is updated or its details change.":"","Hidden Users":"","Hidden User":"","You are a Member":"","Author":"","Edit your Idea":"","You will receive a notification when a project is created from your liked idea.":"","Projects - Created from this Idea":"","You are a Admin":"","Ownership request pending...":"","Open to be contacted about potential collaboration opportunities":"","Does NOT wish to be contacted for potential collaboration!":"","Move up":"","Move down":"","Items you follow":"","Nothing here yet.":"","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"","You can create Groups or Projects via the '+' button in the header.":"","Ideas I like":"","Here you can find an overview of Ideas you have liked.":"","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"","Discover":"","Filter":"","Content from the Forum":"","We could not load more data at this time.":"","Retry":""},"de":{"Groups":"Gruppen","Like":"Gefllt mir","Group":"Gruppe","Title":"Titel","Workshops":"Workshops","Results":"Ergebnisse","Participants":"Teilnehmende","Description":"Beschreibung","Project":"Projekt","Topics":"Themen","Likes":"\"Gefllt mir\"-Angaben","User":"Benutzer_in","Liked":"Gefllt dir","Following":"Gefolgt","Events":"Veranstaltungen","Projects":"Projekte","Members":"Mitglieder","Follow":"Folgen","Conference Applications":"Tagungs-Teilnahmeantrge","Event":"Veranstaltung","Report offensive content":"Anstigen Inhalt melden","From":"Von","Until":"Bis","website":"Webseite","Contact":"Kontakt","Send Message":"Nachricht schicken","Invitations":"Einladungen","You will now receive notifications for content posted in this project.":"Du wirst jetzt Benachrichtigungen fr Inhalte in diesem Projekt erhalten.","You will now receive notifications for content posted in this group.":"Du wirst jetzt Benachrichtigungen fr Inhalte in dieser Gruppe erhalten.","Sustainable Development Goals":"Ziele fr nachhaltige Entwicklung","Membership request pending...":"Mitgliedschaft wurde beantragt...","You are invited!":"Du bist eingeladen worden!","All Groups":"Alle Gruppen","All Projects":"Alle Projekte","Organizations":"Organisationen","Create Idea":"Idee erstellen","People":"Menschen","My Groups":"Meine Gruppen","My Projects":"Meine Projekte","Ideas":"Ideen","My Ideas":"Meine Ideen","All Ideas":"Alle Ideen","My Organizations":"Meine Organisationen","All Organizations":"Alle Organisationen","External contents":"Externe Inhalte","Include contents from other platforms":"Auch Inhalte von anderen Plattformen anzeigen","My Users":"Meine Benutzer_innen","My Events":"Meine Veranstaltungen","My Cloud Files":"Meine Cloud-Dateien","All Users":"Alle Benutzer_innen","All Events":"Alle Veranstaltungen","Cloud Files":"Cloud-Dateien","Idea":"Idee","Organization":"Organisation","Cloud File":"Cloud-Dateien","Create User":"Benutzerkonto erstellen","Create Event":"Veranstaltung erstellen","Create Project":"Projekt erstellen","Create Group":"Gruppe erstellen","Create Organization":"Organisation erstellen","Categories":"Kategorien","SDGS":"SDGs","Search for Names, Topics and Places...":"Suche nach Namen, Themen und Orten...","Search for Names and Topics...":"Suche nach Namen und Themen...","Where":"Wo","In map area":"In Kartenaussschnitt","If active, searching will be restricted to the visible map area.":"Wenn aktiv wird die Suche auf die sichtbare Kartenflche beschrnkt.","Apply Filters":"Filter anwenden","Clear Filters":"Filter zurcksetzen","Street":"Straen","Create idea":"Idee erstellen","Next":"Weiter","Choose a location for your idea by dragging the marker!":"Whle einen Ort fr deine Idee indem du die Markierung in der Karte verschiebst!","of":"von","No results found.":"Keine Ergebnisse gefunden.","Could not complete the search due to an error.":"Konnte die Suche aufgrund eines Fehlers nicht abschlieen.","Search when moving the map":"Suchen wenn die Karte bewegt wird","Search this area":"In diesem Ausschnitt suchen","Membership Requests":"Mitgliedschaftsantrge","My Groups and Projects":"Meine Gruppen und Projekte","Show more Projects of this Group":"Weitere Projekte dieser Gruppe anzeigen","You are not in any groups or projects yet":"Du bist noch in keinen Gruppen oder Projekten Mitglied","Create new Group":"Neue Gruppe anlegen","Create new Project":"Neues Projekt anlegen","Browse all Groups":"Alle Gruppen anzeigen","Browse all Projects":"Alle Projekte anzeigen","You have not created any organizations yet.":"Du hast noch keine Organisationen angelegt.","Create new Organization":"Neue Organisation anlegen","Browse all Organizations":"Alle Organisationen durchsuchen","Search for Organizations":"Nach Organisation suchen","Ideas I am following":"Ideen, die mir gefallen","You are not following any ideas yet.":"Du folgst noch keinen Ideen.","Post new Idea":"Neue Idee eintragen","Browse all Ideas":"Alle Ideen anzeigen","Search for Ideas":"Nach Ideen suchen","You have not RSVPed to any Events.":"Du hast bei keinen aktuellen Veranstaltungen zugesagt.","Add Event":"Veranstaltung hinzufgen","Go to Calendar":"Zum Kalender","There was an error loading the widget":"Es gab einen Fehler beim Laden der Inhalte","Notifications":"Benachrichtigungen","Show more":"Weitere anzeigen","No current notifications":"Keine aktuellen Benachrichtigungen","Find on map:":"Auf der Karte finden:","Entire Network":"Gesamtes Netzwerk","On the Map":"Auf der Karte","In my Groups and Projects":"In meinen Gruppen und Projekten","In my Cloud Files":"In meinen Cloud-Dateien","Topic":"Thema","SDG":"SDG","from":"von","You":"Du","Projects/Groups":"Projekte/Gruppen","No info.":"Keine Informationen.","Administrator":"Administrator","Administrators":"Administratoren","Administrators unknown":"Administratoren unbekannt","No description yet.":"Noch keine Beschreibung erstellt.","max.":"max.","You are participating":"Du nimmst teil","Participation request pending...":"Teilnahmeantrag luft...","Participate":"Teilnehmen","Contact organizers":"Veranstalter/innen kontaktieren","You will now receive notifications for content posted.":"Du wirst jetzt Benachrichtigungen fr neue Inhalte erhalten.","If you do not want notifications, click the unfollow button!":"Wenn du das nicht mchtest, klicke oben den Entfolgen-Button!","Could not save your like setting because of an error.":"Konnte deine \"Gefllt mir\"-Angabe aufgrund eines Fehlers nicht speichern.","Could not save your follow setting because of an error.":"Konnte deine Folgen-Einstellung aufgrund eines Fehlers nicht speichern.","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"Whle einen Ort fr deine Idee indem du die Markierung in der Karte verschiebst. Du kannst diesen Ort spter ndern.","Back to location selection":"Zurck zur Ortsauswahl","Protected Content":"Geschtzter Inhalt","Sorry, but you cannot view details for this content.":"Tut uns leid, aber du kannst keine Details dieses Inhalts sehen.","This can happen when its visibility settings have changed recently.":"Dies kann passieren, wenn die Sichtbarkeitseinstellungen des Inhalts vor Kurzem gendert wurden.","Please register or log in to continue!":"Bitte registriere dich oder log dich ein um weiterzumachen!","Error!":"Fehler!","Sorry, but the requested content could not be retrieved from the server.":"Tut uns leid, aber der gewnschte Inhalt konnte nicht vom Server geladen werden.","Visit Event Page":"Event-Seite besuchen","You will now receive notifications for comments or when this event is updated or its details change.":"Du wirst jetzt Benachrichtigungen fr Kommentare erhalten und wenn dieser Inhalt gendert wird.","Hidden Users":"Versteckte Benutzer","Hidden User":"Versteckter Benutzer","You are a Member":"Du bist Mitglied","Join Group":"Gruppe beitreten","Message Group":"Gruppe anschreiben","Author":"Autor","Create Project from Idea":"Projekt aus Idee erstellen","Edit your Idea":"Deine Idee bearbeiten","You will receive a notification when a project is created from your liked idea.":"Du erhltst eine Benachrichtigung, wenn ein Projekt aus dieser Idee erstellt wird.","Projects - Created from this Idea":"Projekte - entstanden aus dieser Idee","You are a Admin":"Du bist ein Admin","Ownership request pending...":"Mitgliedschaftsantrag luft...","Projects and groups":"Projekte und Gruppen","Project/group":"Projekt/Gruppe","Open to be contacted about potential collaboration opportunities":"Kann gerne fr potentielle Zusammenarbeit kontaktiert werden","Does NOT wish to be contacted for potential collaboration!":"Mchte KEINE Anfragen fr potentielle Zusammenarbeit erhalten!","To Profile":"Zum Profil","Join Project":"Projekt beitreten","Message Project":"Projekt anschreiben","Move up":"Nach oben","Move down":"Nach unten","There are no items yet":"Noch keine Inhalte vorhanden","Items you follow":"Objekte, denen ich folge","Nothing here yet.":"Keine Eintrge bisher.","Groups and Projects":"Gruppen und Projekte","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"Hier findest du in Zukunft eine bersicht ber deine Gruppen und Projekte. Noch bist du in keiner Gruppe oder einem Projekt aktiv.","You can create Groups or Projects via the '+' button in the header.":"Du kannst eigene Gruppen oder Projekte ber den '+'-Button im Header anlegen.","Ideas I like":"Ideen, die mir gefallen","Here you can find an overview of Ideas you have liked.":"Hier findest du in Zukunft eine bersicht ber Ideen, die dir gefallen.","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"Du kannst eigene Ideen ber den '+'-Button im Header anlegen oder bestehende Ideen hier entdecken","Discover":"Entdecken","Filter":"Filter","Content from the Forum":"Inhalte aus dem Forum","Content from my Groups and Projects":"Inhalte aus meinen Gruppen und Projekten","Platform content":"Portalweite Inhalte","Public content":"ffentliche Inhalte","We could not load more data at this time.":"Wir konnten leider keine weiteren Daten laden.","Retry":"Erneut versuchen"},"ru":{"Groups":"","Like":"","Group":"","Title":"","Workshops":"","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"","Liked":"","Following":"","Events":"","Projects":"","Members":"","Follow":"","Conference Applications":"    ","Event":"","Report offensive content":"","From":"","Until":"","website":"","Contact":"","Send Message":" ","Invitations":"","You will now receive notifications for content posted in this project.":"      ,    .","You will now receive notifications for content posted in this group.":"      ,    .","Sustainable Development Goals":"  ","Membership request pending...":"    ...","You are invited!":" !","All Groups":" ","All Projects":" ","Organizations":"","Create Idea":" ","People":"","My Groups":" ","My Projects":" ","Ideas":"","My Ideas":" ","All Ideas":" ","My Organizations":" ","All Organizations":" ","External contents":" ","Include contents from other platforms":"      ","My Users":" ","My Events":" ","My Cloud Files":" ","All Users":" ","All Events":" ","Cloud Files":" ","Idea":"","Organization":"","Cloud File":" ","Create User":" ","Create Event":" ","Create Project":" ","Create Group":" ","Create Organization":" ","Categories":"","SDGS":"  ","Search for Names, Topics and Places...":" ,   ","Search for Names and Topics...":"   ","Where":"","In map area":"  ","If active, searching will be restricted to the visible map area.":" ,      .","Apply Filters":" ","Clear Filters":" ","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":"    ,  !","of":"","No results found.":"  .","Could not complete the search due to an error.":"    - .","Search when moving the map":"   ","Search this area":"   ","Membership Requests":"  ","My Groups and Projects":"   ","Show more Projects of this Group":"    ","You are not in any groups or projects yet":"        ","Create new Group":"  ","Create new Project":"  ","Browse all Groups":"  ","Browse all Projects":"  ","You have not created any organizations yet.":"      .","Create new Organization":"  ","Browse all Organizations":"  ","Search for Organizations":" ","Ideas I am following":",   ","You are not following any ideas yet.":"      .","Post new Idea":"  ","Browse all Ideas":"  ","Search for Ideas":" ","You have not RSVPed to any Events.":"      .","Add Event":" ","Go to Calendar":"  ","There was an error loading the widget":"     ","Notifications":"","Show more":" ","No current notifications":"  ","Find on map:":"  :","Entire Network":" ","On the Map":" ","In my Groups and Projects":"    ","In my Cloud Files":"   ","Topic":"","SDG":"  ","from":"","You":"","Projects/Groups":"/","No info.":" .","Administrator":"","Administrators":"","Administrators unknown":"  ","No description yet.":" .","max.":".","You are participating":"  ","Participation request pending...":"    ...","Participate":"","Contact organizers":" ","You will now receive notifications for content posted.":"      ,    .","If you do not want notifications, click the unfollow button!":"     ,    !","Could not save your like setting because of an error.":"-      .","Could not save your follow setting because of an error.":"       .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"    ,  .      .","Back to location selection":"   ","Protected Content":" ","Sorry, but you cannot view details for this content.":",         .","This can happen when its visibility settings have changed recently.":"  ,       .","Please register or log in to continue!":",   ,  !","Error!":"a!","Sorry, but the requested content could not be retrieved from the server.":",         .","Visit Event Page":"  ","You will now receive notifications for comments or when this event is updated or its details change.":"    ,            .","Hidden Users":" ","Hidden User":" ","You are a Member":"  ","Join Group":"  ","Message Group":"  ","Author":"","Create Project from Idea":"    ","Edit your Idea":"  ","You will receive a notification when a project is created from your liked idea.":"  ,       ,   .","Projects - Created from this Idea":" -     ","You are a Admin":"  ","Ownership request pending...":"    ...","Projects and groups":"   ","Project/group":"/","Open to be contacted about potential collaboration opportunities":"()     ","Does NOT wish to be contacted for potential collaboration!":"     !","To Profile":" ","Join Project":"  ","Message Project":"  ","Move up":" ","Move down":" ","There are no items yet":"  ","Items you follow":",   ","Nothing here yet.":"   .","Groups and Projects":"  ","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"        ,          .","You can create Groups or Projects via the '+' button in the header.":"           '+'     .","Ideas I like":",   ","Here you can find an overview of Ideas you have liked.":"    ,   .","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"         '+'          ","Discover":"","Filter":" ","Content from the Forum":"  ","Content from my Groups and Projects":"     ","Platform content":"      ","Public content":"   ","We could not load more data at this time.":"      .","Retry":" "},"uk":{"Groups":"","Like":"","Group":"","Title":"","Workshops":"","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"(-)","Liked":"","Following":"","Events":"","Projects":"","Members":"","Follow":"","Event":"","Report offensive content":"   ","From":"","Until":"","website":"-","Contact":"","Send Message":" ","Invitations":"","You will now receive notifications for content posted in this project.":"      ,    .","You will now receive notifications for content posted in this group.":"      ,    .","Sustainable Development Goals":"  ","Membership request pending...":"     ...","You are invited!":" !","All Groups":" ","All Projects":" ","Organizations":"","Create Idea":" ","People":"","My Groups":" ","My Projects":" ","Ideas":"","My Ideas":" ","All Ideas":" ","My Organizations":" ","All Organizations":" ","External contents":" ","Include contents from other platforms":"   ","My Users":" ","My Events":" ","My Cloud Files":"   ","All Users":" ","All Events":" ","Cloud Files":"  ","Idea":"","Organization":"","Cloud File":"  ","Create User":" ","Create Event":" ","Create Project":" ","Create Group":" ","Create Organization":" ","Categories":"","SDGS":"  ","Search for Names, Topics and Places...":" ,   ","Search for Names and Topics...":"   ","Where":"","In map area":"  ","If active, searching will be restricted to the visible map area.":"  ,      .","Apply Filters":" ","Clear Filters":" ","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":"    ,  !","of":"","No results found.":"   .","Could not complete the search due to an error.":"     .","Search when moving the map":"   ","Search this area":"   ","Membership Requests":"  ","My Groups and Projects":"   ","Show more Projects of this Group":"    ","You are not in any groups or projects yet":"       ","Create new Group":"  ","Create new Project":"  ","Browse all Groups":"  ","Browse all Projects":"  ","You have not created any organizations yet.":"     .","Create new Organization":"  ","Browse all Organizations":"  ","Search for Organizations":" ","Ideas I am following":",    ","You are not following any ideas yet.":"      .","Post new Idea":"  ","Browse all Ideas":"  ","Search for Ideas":" ","You have not RSVPed to any Events.":"  RSVP   .","Add Event":" ","Go to Calendar":"  ","There was an error loading the widget":"     ","Notifications":"","Show more":" ","No current notifications":"  ","Find on map:":"  :","Entire Network":" ","On the Map":" ","In my Groups and Projects":"    ","In my Cloud Files":"    ","Topic":"","SDG":"  ","from":"","You":"","Projects/Groups":"/","No info.":" .","Administrator":"","Administrators":"","Administrators unknown":" ","No description yet.":"  .","max.":".","You are participating":"  ","Participation request pending...":"     ...","Participate":"","Contact organizers":"  ","You will now receive notifications for content posted.":"       .","If you do not want notifications, click the unfollow button!":"     ,    !","Could not save your like setting because of an error.":"       .","Could not save your follow setting because of an error.":"       .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"    ,  .       .","Back to location selection":"   ","Protected Content":" ","Sorry, but you cannot view details for this content.":",        .","This can happen when its visibility settings have changed recently.":"  ,     .","Please register or log in to continue!":" ,   ,  !","Error!":"!","Sorry, but the requested content could not be retrieved from the server.":", ,    ,     .","Visit Event Page":"  ","You will now receive notifications for comments or when this event is updated or its details change.":"      ,      .","Hidden Users":" ","Hidden User":" ","You are a Member":"  ","Join Group":"  ","Message Group":" ","Author":"","Create Project from Idea":"   ","Edit your Idea":"  ","You will receive a notification when a project is created from your liked idea.":"  ,        .","Projects - Created from this Idea":"     ","You are a Admin":"  ","Ownership request pending...":"       ...","Projects and groups":"  ","Project/group":"/","Open to be contacted about potential collaboration opportunities":"(-)      ","Does NOT wish to be contacted for potential collaboration!":"     !","To Profile":" ","Join Project":"  ","Message Project":"  ","Move up":" ","Move down":" ","There are no items yet":"    ","Items you follow":",    ","Nothing here yet.":"   .","Groups and Projects":"  ","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"        ,          .","You can create Groups or Projects via the '+' button in the header.":"         +  .","Ideas I like":",   ","Here you can find an overview of Ideas you have liked.":"      ,   .","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"        +       ","Discover":"","Filter":" ","Content from the Forum":"  ","Content from my Groups and Projects":"      ","Public content":" ","We could not load more data at this time.":"       .","Retry":"  "},"fr":{"Groups":"Groupes","Like":"Aimer","Group":"Groupe","Title":"Titre","Workshops":"Ateliers","Results":"Rsultats","Participants":"Participants","Description":"Description","Project":"Projet","Topics":"Sujets","Likes":"J'aime","User":"Utilisateur","Liked":"Est aim","Following":"Suit","Events":"Evnements","Projects":"Projets","Members":"Membres","Follow":"S'abonner","Event":"Evnement","Report offensive content":"Rapporter un contenu choquant","From":"De","Until":"jusqu","website":"site internet","Contact":"Contact","Send Message":"Envoyer un message","Invitations":"Invitations","You will now receive notifications for content posted in this project.":"Tu recevras dsormais des notifications pour le contenu affich dans ce projet.","You will now receive notifications for content posted in this group.":"Tu recevras dsormais des notifications pour le contenu affich dans ce groupe.","Sustainable Development Goals":"Objectifs de dveloppement durable","Membership request pending...":"Demande d'ajout en attente...","You are invited!":"Tu es invit !","All Groups":"Tous les groupes","All Projects":"Tous les projets","Organizations":"Organisations","Create Idea":"Crer ide","People":"Personnes","My Groups":"Mes groupes","My Projects":"Mes projets","Ideas":"Ides","My Ideas":"Mes ides","All Ideas":"Toutes les ides","My Organizations":"Mes organisations","All Organizations":"Toutes les organisations","My Users":"Mes utilisateurs","My Events":"Mes vnements","My Cloud Files":"Mes fichiers Cloud","All Users":"Tous les utilisateurs","All Events":"Tous les vnements","Cloud Files":"Fichiers cloud","Idea":"Ide","Organization":"Organisation","Cloud File":"Fichier cloud","Create User":"Crer utilisateur","Create Event":"Crer vnement","Create Project":"Crer projet","Create Group":"Crer groupe","Create Organization":"Crer lorganisation","Categories":"","SDGS":"SDGS","Search for Names, Topics and Places...":"Rechercher des noms, sujets et lieux...","Search for Names and Topics...":"Rechercher des noms et des sujets...","Where":"O","In map area":"Sur l'aire de la carte","If active, searching will be restricted to the visible map area.":"Si activ, la recherche sera limit  l'aire visible sur la carte.","Apply Filters":"Appliquer les filtres","Clear Filters":"Supprimer les filtres","Street":"Rue","Create idea":"Crer ide","Next":"Suivant","Choose a location for your idea by dragging the marker!":"Choisis un lieu pour ton ide en dplaant et en relchant la souris !","of":"de","No results found.":"Aucun rsultat trouv.","Could not complete the search due to an error.":"La recherche n'a pas pu aboutir  cause d'une erreur.","Search when moving the map":"Rechercher en faisant bouger la carte","Search this area":"Rechercher dans cette zone","Membership Requests":"Demandes d'adhsion","My Groups and Projects":"Mes groupes et projets","Show more Projects of this Group":"Afficher plus de projets de ce groupe","You are not in any groups or projects yet":"Vous ne faites pas encore partie d'un groupe ou d'un projet","Create new Group":"Crer un nouveau groupe","Create new Project":"Crer un nouveau projet","Browse all Groups":"Parcourir tous les groupes","Browse all Projects":"Parcourir tous les projets","You have not created any organizations yet.":"Tu nas encore cr aucune organisation.","Create new Organization":"Crer une nouvelle organisation","Browse all Organizations":"Parcourir toutes les organisations","Search for Organizations":"Rechercher des organisations","Ideas I am following":"Ides que je suis","You are not following any ideas yet.":"Tu ne suis pas encore dides.","Post new Idea":"Publier une nouvelle ide","Browse all Ideas":"Parcourir toutes les ides","Search for Ideas":"Rechercher des ides","You have not RSVPed to any Events.":"Tu n'as rpondu  aucun vnement.","Add Event":"Ajouter un vnement","Go to Calendar":"Aller au calendrier","There was an error loading the widget":"Une erreur est survenue lors du chargement du widget","Notifications":"Notifications","Show more":"Afficher plus","No current notifications":"Pas de notifications actuelles","Find on map:":"","Entire Network":"Tout le rseau","On the Map":"Sur la carte","In my Groups and Projects":"Dans mes groupes et projets","In my Cloud Files":"Dans mes fichiers Cloud","Topic":"Sujet","SDG":"SDG","from":"","You":"Toi","Projects/Groups":"Projets / groupes","No info.":"Pas d'info.","Administrator":"Administrateur","Administrators":"Administrateurs","Administrators unknown":"Administrateurs inconnus","No description yet.":"Pas encore de description.","max.":"max.","You are participating":"Tu participes","Participation request pending...":"Demande de participation en attente...","Participate":"Participer","Contact organizers":"Contacter les organisateurs","You will now receive notifications for content posted.":"Tu recevras dsormais des notifications pour le contenu affich.","If you do not want notifications, click the unfollow button!":"Si tu ne souhaites pas recevoir de notifications, clique sur le bouton de dsabonnement !","Could not save your like setting because of an error.":"Ton paramtre \"j'aime\" n'a pas pu tre enregistr  cause d'une erreur.","Could not save your follow setting because of an error.":"Ton paramtre \"abonn\" n'a pas pu tre enregistr  cause d'une erreur.","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"Choisis un lieu pour ton ide en dplaant et en relchant la souris. Tu pourras changer ce lieu plus tard.","Back to location selection":"Retour  la slection du lieu","Protected Content":"Contenu protg","Sorry, but you cannot view details for this content.":"Dsol, tu ne peux pas voir les dtails pour ce contenu.","This can happen when its visibility settings have changed recently.":"Cela peut se produire quand les paramtres de visibilit ont t changs rcemment.","Please register or log in to continue!":"Inscris-toi ou connecte-toi pour continuer !","Error!":"Erreur !","Sorry, but the requested content could not be retrieved from the server.":"Dsol, le contenu demand n'a pas pu tre rcupr sur le serveur.","Visit Event Page":"Visiter la page de l'vnement","You will now receive notifications for comments or when this event is updated or its details change.":"Tu recevras maintenant des notifications pour les commentaires ou lorsque cet vnement est mis  jour ou que ses dtails changent.","Hidden Users":"Utilisateurs masqus","Hidden User":"Utilisateur masqu","You are a Member":"Tu es membre","Join Group":"Rejoindre groupe","Message Group":"Groupe message","Author":"Auteur","Create Project from Idea":"Crer projet  partir d'une ide","Edit your Idea":"Modifier ton ide","You will receive a notification when a project is created from your liked idea.":"Tu recevras une notification lorsqu'un projet sera cr  partir de l'ide que tu aimes.","Projects - Created from this Idea":"Projets - Crs  partir de cette ide","You are a Admin":"Tu es administrateur","Ownership request pending...":"Demande de proprit en attente...","Projects and groups":"Projets et groupes","Project/group":"Projet / groupe","Open to be contacted about potential collaboration opportunities":"Peut tre contact (e) au sujet d'ventuelles possibilits de collaboration","Does NOT wish to be contacted for potential collaboration!":"Je ne souhaite PAS tre contact (e) pour une ventuelle collaboration ","Join Project":"Rejoindre projet","Message Project":"Projet message","Move up":"Dplacer vers le haut","Move down":"Dplacer vers le bas","There are no items yet":"Il n'y a pas encore d'lments","Items you follow":"lments que tu suis","Nothing here yet.":"Rien ici pour l'instant.","Groups and Projects":"Groupes et projets","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"Tu trouveras ici un aperu de tes groupes et projets une fois que tu seras actif(active) dans un ou plusieurs d'entre eux.","You can create Groups or Projects via the '+' button in the header.":"Tu peux crer des groupes ou des projets en cliquant sur le bouton \"+\" dans l'en-tte.","Ideas I like":"Ides que j'aime","Here you can find an overview of Ideas you have liked.":"Tu trouveras ici un aperu des ides que tu as aimes.","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"Tu peux crer tes propres ides via le bouton \"+\" dans l'en-tte, ou dcouvrir ici des ides dj existantes","Discover":"Dcouvrir","We could not load more data at this time.":"Nous navons pas pu tlcharger plus de donnes pour le moment.","Retry":"Rssayer"},"pl":{"Groups":"Grupy","Like":"Polubienie","Group":"Grupa","Title":"Tytu","Workshops":"Warsztaty","Results":"Wynikw","Participants":"Uczestnicy","Description":"Opis","Project":"Projekt","Topics":"Tematy","Likes":"Polubienia","User":"Uytkownik","Liked":"Polubione","Following":"Nastpujcy/-a","Events":"Wydarzenia","Projects":"Projekty","Members":"Czonkowie","Follow":"led","Event":"Wydarzenie","Report offensive content":"Zgo niedozwolon tre","From":"Od","Until":"Do","website":"strona internetowa","Contact":"Kontakt","Send Message":"Wylij Wiadomo","Invitations":"Zaproszenia","You will now receive notifications for content posted in this project.":"Otrzymasz teraz powiadomienie dotyczce treci zawartej w tym projekcie.","You will now receive notifications for content posted in this group.":"Otrzymasz teraz powiadomienie dotyczce treci zawartej w tej grupie.","Sustainable Development Goals":"Przyjazne dla rodowiska cele rozwoju","Membership request pending...":"Trwa przetwarzanie proby o czonkostwo...","You are invited!":"Zostae/-a zaproszony/-a!","All Groups":"Wszystkie Grupy","All Projects":"Wszystkie Projekty","Organizations":"Organizacje","Create Idea":"Utwrz ide","People":"Ludzie","My Groups":"Moje Grupy","My Projects":"Moje Projekty","Ideas":"Pomysy","My Ideas":"Moje Pomysy","All Ideas":"Wszystkie Pomysy","My Organizations":"Moje organizacje","All Organizations":"Wszystkie organizacje","My Users":"Moi Uytkownicy","My Events":"Moje Wydarzenia","My Cloud Files":"Moje Pliki w Chmurze","All Users":"Wszyscy Uytkownicy","All Events":"Wszystkie Wydarzenia","Cloud Files":"Pliki w Chmurze","Idea":"Idea","Organization":"Organizacja","Cloud File":"Plik w Chmurze","Create User":"Utwrz Uytkownika","Create Event":"Utwrz Wydarzenie","Create Project":"Utwrz Projekt","Create Group":"Utwrz Grup","Create Organization":"Stwrz Organizacj","Categories":"","SDGS":"SDGS","Search for Names, Topics and Places...":"Wyszukaj nazwy, tematy i miejsca...","Search for Names and Topics...":"Wyszukaj Nazwy i Tematy...","Where":"Gdzie","In map area":"W obszarze na mapie","If active, searching will be restricted to the visible map area.":"Jeli aktywne, wyszukiwanie bdzie ograniczone do widocznego obszaru mapy.","Apply Filters":"Zastosuj Filtry","Clear Filters":"Wyczy Filtry","Street":"Ulica","Create idea":"Utwrz ide","Next":"Nastpna","Choose a location for your idea by dragging the marker!":"Wybierz lokalizacj dla swojej idei przesuwajc znacznik na mapie!","of":"z","No results found.":"Nie znaleziono adnych wynikw.","Could not complete the search due to an error.":"Wyszukiwanie nie powiodo si z powodu wystpienia bdu.","Search when moving the map":"Wyszukaj przesuwajc map","Search this area":"Przeszukaj ten obszar","Membership Requests":"Proby o zostanie czonkiem","My Groups and Projects":"Moje Grupy i Projekty","Show more Projects of this Group":"Poka wicej projektw tej grupy","You are not in any groups or projects yet":"Nie jeste jeszcze w adnej grupie ani w adnym projekcie","Create new Group":"Utwrz now Grup","Create new Project":"Utwrz nowy Projekt","Browse all Groups":"Przejrzyj wszystkie Grupy","Browse all Projects":"Przejrzyj wszystkie Projekty","You have not created any organizations yet.":"Nie stworzye/-a jak dotd adnych organizacji.","Create new Organization":"Utwrz now organizacj","Browse all Organizations":"Przejrzyj wszystkie Organizacje","Search for Organizations":"Wyszukiwanie organizacji","Ideas I am following":"Pomysy, ktre ledz","You are not following any ideas yet.":"Nie ledzisz jeszcze adnych idei.","Post new Idea":"Opublikuj now Pomysy","Browse all Ideas":"Przejrzyj wszystkie Pomysy","Search for Ideas":"Szukaj pomysw","You have not RSVPed to any Events.":"Nie masz RSVPed do adnych wydarze.","Add Event":"Dodaj Wydarzenie","Go to Calendar":"Id do kalendarza","There was an error loading the widget":"Podczas adowania widgetu nastpi bd","Notifications":"Powiadomienia","Show more":"Poka wicej","No current notifications":"Brak biecych powiadomie","Find on map:":"","Entire Network":"Cakowita Sie","On the Map":"Na mapie","In my Groups and Projects":"W moich Grupach i Projektach","In my Cloud Files":"W moich Plikach w Chmurze","Topic":"Temat","SDG":"SDG","from":"","You":"Ty","Projects/Groups":"Projekty/Grupy","No info.":"Brak informacji.","Administrator":"Administrator","Administrators":"Administratorzy","Administrators unknown":"Administratorzy nieznani","No description yet.":"Brak jeszcze opisu.","max.":"maks.","You are participating":"Jeste uczestnikiem","Participation request pending...":"Trwa danie uczestnictwa...","Participate":"Uczestnik","Contact organizers":"Kontakt z organizatorami","You will now receive notifications for content posted.":"Otrzymasz teraz powiadomienie dotyczce zawartej treci.","If you do not want notifications, click the unfollow button!":"Jeli nie yczysz sobie otrzymywania powiadomie, kliknij na przycisk \"przesta ledzi\"!","Could not save your like setting because of an error.":"Twoje ustawienia nie mogy zosta zapisane w wyniku wystpienia bdu.","Could not save your follow setting because of an error.":"Twoje ustawienia ledzenia nie mogy zosta zapisane w wyniku wystpienia bdu.","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"Wybierz lokalizacj dla swojej idei przesuwajc i upuszczajc znacznik. Moesz pniej zmieni lokalizacj.","Back to location selection":"Powrt do wyboru lokalizacji","Protected Content":"Zawarto Chroniona","Sorry, but you cannot view details for this content.":"Przepraszamy, ale nie moesz zobaczy szczegw tej treci.","This can happen when its visibility settings have changed recently.":"Przyczyn moe by niedawna zmiana ustawie widocznoci.","Please register or log in to continue!":"Zarejestruj si lub zaloguj by kontynuowa!","Error!":"Bd!","Sorry, but the requested content could not be retrieved from the server.":"Przepraszamy, ale dana tre nie zostaa odnaleziona na serwerze.","Visit Event Page":"Odwied Stron Wydarzenia","You will now receive notifications for comments or when this event is updated or its details change.":"Bdziesz otrzymywa powiadomienia o komentarzach lub gdy to wydarzenie zostanie zaktualizowane albo jego szczegy ulegn zmianie.","Hidden Users":"Ukryci Uytkownicy","Hidden User":"Ukryty Uytkownik","You are a Member":"Jeste Czonkiem","Join Group":"Docz do Grupy","Message Group":"Wylij Wiadomo do Grupy","Author":"Autor","Create Project from Idea":"Utwrz Projekt dla Idei","Edit your Idea":"Edytuj swoj Ide","You will receive a notification when a project is created from your liked idea.":"Otrzymasz powiadomienie, kiedy w ramach polubionej przez Ciebie idei zostanie utworzony projekt.","Projects - Created from this Idea":"Projekty - Utworzone w ramach tej Idei","You are a Admin":"Jeste adminem","Ownership request pending...":"Trwa przetwarzanie proby o wasno...","Projects and groups":"Projekty i grupy","Project/group":"Projekt/grupa","Open to be contacted about potential collaboration opportunities":"Otwrz, aby zosta skontaktowanym z potencjalnymi moliwociami wsppracy","Does NOT wish to be contacted for potential collaboration!":"NIE ycz sobie kontaktu z potencjalnymi wsppracownikami!","Join Project":"Docz do Projektu","Message Project":"Wylij wiadomo do Projektu","Move up":"Przenie do gry","Move down":"Przenie na d","There are no items yet":"Nie ma widocznych elementw","Items you follow":"Pozycje, ktre ledz","Nothing here yet.":"Jeszcze nic tu nie ma.","Groups and Projects":"Grupy i Projekty","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"Tu moesz znale oglny zarys twoich Grup i Projektw gdy bdziesz raz aktywny w jednym lub wicej.","You can create Groups or Projects via the '+' button in the header.":"Moesz zaoy wasne grupy i projekty za pomoc przycisku \"+\" w nagwku.","Ideas I like":"Pomysy, ktre mi si podobaj","Here you can find an overview of Ideas you have liked.":"Tu w przyszoci znajdziesz podgld pomysw, ktre ci si podobaj.","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"Moesz doda wasne pomysy za pomoc przycisku + w nagwku lub przejrze pomysy innych","Discover":"Odkryj","We could not load more data at this time.":"Nie moemy teraz zaadowa wicej danych.","Retry":"Sprbuj ponownie"},"be":{"Groups":"","Like":"","Group":"","Title":"","Workshops":"","Results":"","Participants":"(-)","Description":"","Project":"","Topics":"","Likes":"","User":"(-)","Liked":"","Following":"","Events":"","Projects":"","Members":"","Follow":"","Event":"","Report offensive content":"   ","From":"","Until":"","Contact":"","Send Message":" ","Invitations":"","Sustainable Development Goals":"","Membership request pending...":"     ...","You are invited!":"  !","All Groups":" ","All Projects":" ","Create Idea":" ","People":"","My Groups":" ","My Projects":" ","Ideas":"","My Ideas":" ","All Ideas":" ","My Organizations":"","All Organizations":"","Include contents from other platforms":"","My Users":" (-)","My Events":" ","All Users":" (-)","All Events":" ","Idea":"","Create User":" (-)","Create Event":" ","Create Project":" ","Create Group":" ","Categories":"","SDGS":"","Search for Names, Topics and Places...":" ,   ...","Search for Names and Topics...":"   ...","Where":"","In map area":"   ","If active, searching will be restricted to the visible map area.":" ,      .","Apply Filters":" ","Clear Filters":" ","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":"   ,  !","of":"","No results found.":"  .","Could not complete the search due to an error.":"   - .","Search when moving the map":"   ","Search this area":"   ","You are not in any groups or projects yet":"","Ideas I am following":"","You have not RSVPed to any Events.":"","Go to Calendar":"","Find on map:":"","Entire Network":"","On the Map":"","SDG":"","from":"","You":"","Projects/Groups":"/","No info.":" .","Administrator":"","Administrators":"","Administrators unknown":" ","No description yet.":"  .","max.":"","If you do not want notifications, click the unfollow button!":"     ,    \" \"!","Could not save your like setting because of an error.":"      - .","Could not save your follow setting because of an error.":"      - .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"    ,  .     .","Back to location selection":"   ","Protected Content":" ","Sorry, but you cannot view details for this content.":",        .","This can happen when its visibility settings have changed recently.":"    ,     .","Please register or log in to continue!":" ,   ,  !","Error!":"!","Sorry, but the requested content could not be retrieved from the server.":" ,       .","Visit Event Page":"   ","You will now receive notifications for comments or when this event is updated or its details change.":"     ,          .","Hidden Users":" (-)","Hidden User":" (-)","You are a Member":" ' ","Join Group":"  ","Message Group":"  ","Author":"(-)","Create Project from Idea":"   ","Edit your Idea":"  ","You will receive a notification when a project is created from your liked idea.":"   ,        .","Projects - Created from this Idea":",    ","Open to be contacted about potential collaboration opportunities":"","Does NOT wish to be contacted for potential collaboration!":"","Join Project":"  ","Message Project":"  ","Items you follow":"","Nothing here yet.":"","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"","You can create Groups or Projects via the '+' button in the header.":"","Ideas I like":"","Here you can find an overview of Ideas you have liked.":"","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"","Discover":"","We could not load more data at this time.":"","Retry":""},"es":{"Groups":"Grupos","Group":"Grupo","Title":"Ttulo","Workshops":"","Results":"Resultados","Participants":"Participantes","Description":"Descripcin","Project":"Proyecto","Topics":"Temas","User":"Usario","Following":"Siguiendo","Events":"Eventos","Projects":"Proyectos","Members":"Miembros","Follow":"Seguir","Event":"Evento","Report offensive content":"Informar contenido ofensivo","From":"De","Until":"Hasta","Contact":"Contacto","Send Message":"Enviar mensaje","Invitations":"Invitaciones","Sustainable Development Goals":"","Membership request pending...":"Solicitud de participacin pendiente...","You are invited!":"Estas invitado!","All Groups":"Todos los grupos","All Projects":"Todos los proyectos","Create Idea":"Crear idea","People":"Personas","My Groups":"Mis grupos","My Projects":"Mis proyectos","Ideas":"Ideas","My Ideas":"Mis Ideas","All Ideas":"Todas la ideas","My Organizations":"","All Organizations":"","Include contents from other platforms":"","My Users":"Mis usarios","My Events":"Mis eventos","All Users":"Todos los usarios","All Events":"Todos los eventos","Idea":"Idea","Create User":"Crear usario","Create Event":"Crear evento","Create Project":"Crear proyecto","Create Group":"Crear grupo","Categories":"","SDGS":"","Search for Names, Topics and Places...":"Buscar nombres, temas y lugares...","Search for Names and Topics...":"Buscar nombres y temas...","Where":"Donde","In map area":"En zona de mapa","If active, searching will be restricted to the visible map area.":"Si est activo, la bsqueda se restringir al rea de mapa visible.","Apply Filters":"Aplicar Filtros","Clear Filters":"Limpiar filtros","Street":"Calle","Create idea":"Crear idea","Next":"Prximo","Choose a location for your idea by dragging the marker!":"Elige un lugar para tu idea arrastrando el marcador!","of":"de","No results found.":"No se han encontrado resultados.","Could not complete the search due to an error.":"No se pudo completar la bsqueda debido a un error.","Search when moving the map":"Buscar al mover el mapa","Search this area":"Busca en esta zona","You are not in any groups or projects yet":"","Ideas I am following":"","You have not RSVPed to any Events.":"","Go to Calendar":"","Find on map:":"","Entire Network":"","On the Map":"","SDG":"","from":"","You":"","Projects/Groups":"Proyectos/grupos","No info.":"Ninguna informacin.","Administrator":"Administrador","Administrators":"Administratores","Administrators unknown":"Administratores desconocidos","No description yet.":"An no hay descripcin.","max.":"","If you do not want notifications, click the unfollow button!":"Si no desea notificaciones, haga clic en el botn de dejar de seguir!","Could not save your like setting because of an error.":"No se pudo guardar tu configuracin de me gusta debido a un error.","Could not save your follow setting because of an error.":"No se pudo guardar tu configuracin de seguir debido a un error.","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"Elija una ubicacin para su idea arrastrando y soltando el marcador. Todava puede cambiar esta ubicacin ms adelante.","Back to location selection":"Volver a la seleccin del lugar","Protected Content":"Contenido potejido","Sorry, but you cannot view details for this content.":"Lo sentimos, pero to puedes ver detalles para este comtenido.","This can happen when its visibility settings have changed recently.":"Esto puede suceder cuando su configuracin de visibilidad ha cambiado recientemente.","Please register or log in to continue!":"Por favor regstrate o inicia sesin para continuar!","Error!":"Error!","Visit Event Page":"Visitar pgina de eventos","You will now receive notifications for comments or when this event is updated or its details change.":"Ahora recibirs notificaciones de comentarios o cuando este evento se actualice o sus detalles cambien.","Hidden Users":"Usuarios ocultos","Hidden User":"Usuario ocultos","You are a Member":"Eres un miembro","Join Group":"Participar en el grupo","Message Group":"Mandar un mensaje al grupo","Author":"Autor","Create Project from Idea":"Crear proyecto de la idea","Edit your Idea":"Editar tu idea","You will receive a notification when a project is created from your liked idea.":"Recibirs una notificacin cuando se cree un proyecto de tu idea.","Projects - Created from this Idea":"Proyectos - Creados de esta idea","Open to be contacted about potential collaboration opportunities":"","Does NOT wish to be contacted for potential collaboration!":"","Join Project":"Participar en el proyecto","Message Project":"Mandar un mensaje al proyecto","Items you follow":"","Nothing here yet.":"","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"","You can create Groups or Projects via the '+' button in the header.":"","Ideas I like":"","Here you can find an overview of Ideas you have liked.":"","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"","Discover":"","We could not load more data at this time.":"","Retry":""},"ro":{"Groups":"Grupuri","Like":"Ca","Group":"Grup","Title":"Titlu","Workshops":"Ateliere","Results":"Rezultate","Participants":"Participani","Description":"Descriere","Project":"Proiect","Topics":"Subiecte","Likes":"i place","User":"Utilizator","Liked":"Plcut","Following":"Ca urmare","Events":"Evenimente","Projects":"Proiecte","Members":"Membrii","Follow":"Urmeaz","Event":"Eveniment","Report offensive content":"Raportai coninutul ofensator","From":"Din","Until":"Pn cnd","Contact":"Contact","Send Message":"Trimite mesaj","Invitations":"Invitaii","You will now receive notifications for content posted in this project.":"Acum vei primi notificri pentru coninutul postat n acest proiect.","You will now receive notifications for content posted in this group.":"Acum vei primi notificri pentru coninutul  postat n acest grup.","Sustainable Development Goals":"Obiectivele Dezvoltrii Durabile","Membership request pending...":"Cerere de membru n ateptare...","You are invited!":"Eti invitat!","All Groups":"Toate Grupurile","All Projects":"Toate Proiectele","Organizations":"Organizaii","Create Idea":"Crea Idee","People":"Oameni","My Groups":"Grupurile Mele","My Projects":"Proiectele Mele","Ideas":"Idei","My Ideas":"Ideile Mele","All Ideas":"Toate Ideile","My Organizations":"Organizaiile Mele","All Organizations":"Toate Organizaiile","My Users":"Utilizatorii Mei","My Events":"Evenimentele Mele","All Users":"Toi Utilizatorii","All Events":"Toate Evenimentele","Idea":"Ideea","Organization":"Organizare","Create User":"Creeaz Utilizator","Create Event":"Creeaz Eveniment","Create Project":"Creeaz Proiect","Create Group":"Creeaz Grup","Create Organization":"Creeaz Organizarea","Categories":"","SDGS":"SDGS","Search for Names, Topics and Places...":"Cutai Nume, Subiecte i Locuri...","Search for Names and Topics...":"Cutai Nume i Subiecte...","Where":"Unde","In map area":"n zona hrii","If active, searching will be restricted to the visible map area.":"Dac este activ, cutarea va fi limitat la zona de hart vizibil.","Apply Filters":"Aplicai Filtre","Clear Filters":"tergei Filtrele","Street":"Strada","Create idea":"Crea idee","Next":"Urmtor","Choose a location for your idea by dragging the marker!":"Alegei o locaie pentru ideea dvs. trgnd marcatorul!","of":"de","No results found.":"Nici un rezultat gsit.","Could not complete the search due to an error.":"Nu s-a putut finaliza cutarea din cauza unei erori.","Search when moving the map":"Cutai atunci cnd mutai harta","Search this area":"Cutai n aceast zon","Membership Requests":"Cereri de Membru","My Groups and Projects":"Grupurile i Proiectele mele","Show more Projects of this Group":"Arat mai multe Proiecte ale acestui Grup","You are not in any groups or projects yet":"Nu suntei nc n nici un grup sau proiect","Create new Group":"Creai un Grup nou","Create new Project":"Creai un Proiect nou","Browse all Groups":"Rsfoii toate Grupurile","Browse all Projects":"Rsfoii toate Proiectele","You have not created any organizations yet.":"Nu ai creat nc nicio organizaie.","Create new Organization":"Creai o Organizaie nou","Browse all Organizations":"Rsfoii toate Organizrile","Search for Organizations":"Cutai organizaii","Ideas I am following":"Idei pe care le urmresc","You are not following any ideas yet.":"Nu urmai niciun fel de idei.","Post new Idea":"Posteaz o nou Idee","Browse all Ideas":"Rsfoii toate Ideile","Search for Ideas":"Caut Idei","You have not RSVPed to any Events.":"Nu ai fcut RSVPed la niciun Eveniment.","Add Event":"Adugai eveniment","Go to Calendar":"Accesai Calendar","There was an error loading the widget":"A aprut o eroare la ncrcarea widget-ului","Notifications":"Notificri","Show more":"Afiai mai multe","No current notifications":"Fr notificri actuale","Find on map:":"","Entire Network":"ntreaga Reea","On the Map":"Pe Hart","In my Groups and Projects":"n Grupurile i Proiectele mele","Topic":"Subiect","SDG":"SDG","from":"","You":"Tu","Projects/Groups":"Proiecte/Grupuri","No info.":"Fr informaii.","Administrator":"Administrator","Administrators":"Administratorii","Administrators unknown":"Administratorii necunoscui","No description yet.":"Nici o descriere nc.","max.":"","If you do not want notifications, click the unfollow button!":"Dac nu dorii notificri, facei clic pe butonul de urmrire!","Could not save your like setting because of an error.":"Nu s-a putut salva setarea dvs. similar din cauza unei erori.","Could not save your follow setting because of an error.":"Nu s-a putut salva setarea de urmrire din cauza unei erori.","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"Alegei o locaie pentru ideea dvs. trgnd & aruncnd marcajul. Putei schimba aceast locaie ulterior.","Back to location selection":"napoi la selecia locaiei","Protected Content":"Coninutul Protejat","Sorry, but you cannot view details for this content.":"Scuze, dar nu putei vedea detalii pentru acest coninut.","This can happen when its visibility settings have changed recently.":"Acest lucru se poate ntmpla atunci cnd setrile sale de vizibilitate s-au schimbat recent.","Please register or log in to continue!":"V rugm s v nregistrai sau s v autentificai pentru a continua!","Error!":"Eroare!","Sorry, but the requested content could not be retrieved from the server.":"Scuz, dar coninutul solicitat nu a putut fi preluat de pe server.","Visit Event Page":"Accesai Pagina de Evenimente","You will now receive notifications for comments or when this event is updated or its details change.":"A cum vei primi notificri pentru comentarii sau cnd acest eveniment este actualizat sau detaliile sale se schimb.","Hidden Users":"Utilizatorii ascuni","Hidden User":"Utilizator ascuns","You are a Member":"Suntei membru","Join Group":"Alturai-v Grupului","Message Group":"Grup de Mesaje","Author":"Autor","Create Project from Idea":"Creai Proiect din Idea","Edit your Idea":"Editeaz-i Ideea","You will receive a notification when a project is created from your liked idea.":"Vei primi o notificare atunci cnd un proiect este creat din ideea dvs. preferat.","Projects - Created from this Idea":"Proiecte - Create din aceast Idee","You are a Admin":"Suntei un Administrator","Open to be contacted about potential collaboration opportunities":"Deschis pentru a fi contactat cu privire la oportunitile de colaborare poteniale","Does NOT wish to be contacted for potential collaboration!":"Nu dorete s fie contactat pentru o colaborare potenial!","Join Project":"Alturai-v Proiectului","Message Project":"Proiect de Mesaje","Move up":"Mut n sus","Move down":"Mut n jos","There are no items yet":"Nu exist articole nc","Nothing here yet.":"","Groups and Projects":"Grupuri i Proiecte","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"Aici putei gsi o imagine de ansamblu asupra Grupurilor i Proiectelor dvs. odat ce ai activat ntr-unul sau mai multe dintre acestea.","You can create Groups or Projects via the '+' button in the header.":"Putei crea Grupuri sau Proiecte prin intermediul '+' buton n antet.","Ideas I like":"Idei mi plac","Here you can find an overview of Ideas you have liked.":"Aici putei gsi o imagine o imagine de ansamblu a Ideilor care v-au plcut.","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"Putei s v creai propriile Idei cu ajutorul butonului '+' din antet sau putei descoperi Idei existente aici","Discover":"Descoperi","We could not load more data at this time.":"Nu am putut ncrca mai multe date n acest moment.","Retry":"Rencercare"},"nl":{"Groups":"Groepen","Like":"Vind ik leuk","Group":"Groep","Title":"Titel","Workshops":"Workshops","Results":"Resultaten","Participants":"Deelnemers","Description":"Beschrijving","Project":"Project","Topics":"Onderwerpen","Likes":"Likes","User":"Gebruiker","Liked":"Ge-liked","Following":"Volgend","Events":"Evenementen","Projects":"Projecten","Members":"Leden","Follow":"Volgen","Event":"Evenement","Report offensive content":"Aanstootgevende inhoud melden","From":"Van","Until":"Tot","Contact":"Contact","Send Message":"Bericht versturen","Invitations":"Uitnodigingen","You will now receive notifications for content posted in this project.":"Je ontvangt nu meldingen wanneer inhoud in dit project wordt geplaatst.","You will now receive notifications for content posted in this group.":"Je ontvangt nu meldingen wanneer inhoud in deze groep wordt geplaatst.","Sustainable Development Goals":"Doelstellingen duurzame ontwikeling","Membership request pending...":"Lidmaatschapsverzoek in behandeling","You are invited!":"Je bent uitgenodigd!","All Groups":"Alle groepen","All Projects":"Alle projecten","Organizations":"Organisaties","Create Idea":"Idee aanmaken","People":"Mensen","My Groups":"Mijn groepen","My Projects":"Mijn projecten","Ideas":"Ideen","My Ideas":"Mijn ideen","All Ideas":"Alle ideen","My Organizations":"Mijn organisaties","All Organizations":"Alle organisaties","My Users":"Mijn gebruikers","My Events":"Mijn evenementen","All Users":"Alle gebruikers","All Events":"Alle evenementen","Idea":"Idee","Organization":"Organisatie","Create User":"Gebruiker aanmaken","Create Event":"Evenement aanmaken","Create Project":"Project aanmaken","Create Group":"Groep aanmaken","Create Organization":"Organisatie aanmaken","Categories":"","SDGS":"SDGS","Search for Names, Topics and Places...":"Zoeken naar namen, onderwerpen en plaatsen","Search for Names and Topics...":"Zoeken naar namen en onderwerpen","Where":"Waar","In map area":"In kaartgebied","If active, searching will be restricted to the visible map area.":"Indien actief, wordt zoeken beperkt tot het zichtbare kaartgebied.","Apply Filters":"Filters toepassen","Clear Filters":"Filters wissen","Street":"Straat","Create idea":"Idee aanmaken","Next":"Volgende","Choose a location for your idea by dragging the marker!":"Kies een locatie voor je idee door de markering te slepen!","of":"uit","No results found.":"Geen resultaten gevonden.","Could not complete the search due to an error.":"Kan de zoekopdracht niet voltooien vanwege een fout.","Search when moving the map":"Zoeken door het verplaatsen van de kaart","Search this area":"Zoeken in dit gebied","Membership Requests":"Lidmaatschapsverzoek","My Groups and Projects":"Mijn groepen en projecten","Show more Projects of this Group":"Toon meer projecten van deze groep","You are not in any groups or projects yet":"Je zit nog niet in groepen of projecten","Create new Group":"Nieuwe groep aanmaken","Create new Project":"Nieuw project aanmaken","Browse all Groups":"Blader door alle groepen","Browse all Projects":"Blader door alle projecten","You have not created any organizations yet.":"Je hebt niet ge-RSVPED op evenementen.","Create new Organization":"Nieuwe organisatie aanmaken","Browse all Organizations":"Blader door alle organisaties","Search for Organizations":"Zoek naar organisaties","Ideas I am following":"Ideen die ik volg","You are not following any ideas yet.":"Je volgt nog geen ideen.","Post new Idea":"Nieuw idee posten","Browse all Ideas":"Blader door alle ideen","Search for Ideas":"Zoek naar ideen","You have not RSVPed to any Events.":"Je hebt niet ge-RSVPED op evenementen.","Add Event":"Evenement toevoegen","Go to Calendar":"Ga naar kalender","There was an error loading the widget":"Er is een fout opgetreden bij het laden van de widget","Notifications":"Notificaties","Show more":"Toon meer","No current notifications":"Momenteel geen notificaties","Find on map:":"","Entire Network":"Volledig netwerk","On the Map":"Op de kaart","In my Groups and Projects":"In mijn groepen en projecten","Topic":"Onderwerp","SDG":"SDG","from":"","You":"Jij","Projects/Groups":"Projecten/groepen","No info.":"Geen informatie.","Administrator":"Beheerder","Administrators":"Beheerders","Administrators unknown":"Beheerders onbekend","No description yet.":"Nog geen beschrijving.","max.":"","If you do not want notifications, click the unfollow button!":"Als je geen meldingen wilt ontvangen, klik je op de knop niet meer volgen!","Could not save your like setting because of an error.":"Kan je like-instelling niet opslaan vanwege een fout.","Could not save your follow setting because of an error.":"Kan je volginstelling niet opslaan vanwege een fout.","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"Kies een locatie voor je idee door de markering te slepen en neer te zetten. Je kunt deze locatie later nog wijzigen.","Back to location selection":"Terug naar locatie selectie","Protected Content":"Beschermde inhoud","Sorry, but you cannot view details for this content.":"Sorry, je kunt geen details bekijken voor deze inhoud.","This can happen when its visibility settings have changed recently.":"Dit kan gebeuren wanneer de zichtbaarheidsinstellingen onlangs zijn gewijzigd.","Please register or log in to continue!":"Registreer of log in om door te gaan!","Error!":"Foutmelding!","Sorry, but the requested content could not be retrieved from the server.":"Sorry, de gevraagde inhoud kon helaas niet worden opgehaald van de server.","Visit Event Page":"Bezoek evenementenpagina","You will now receive notifications for comments or when this event is updated or its details change.":"Je ontvangt nu meldingen voor reacties of wanneer dit evenement wordt bijgewerkt of de details ervan veranderen.","Hidden Users":"Verborgen gebruikers","Hidden User":"Verborgen gebruiker","You are a Member":"Je bent lid","Join Group":"Deelnemen aan groep","Message Group":"Bericht sturen aan groep","Author":"Auteur","Create Project from Idea":"Maak project aan van idee","Edit your Idea":"Wijzig je idee","You will receive a notification when a project is created from your liked idea.":"Je ontvangt een melding wanneer een project wordt gemaakt op basis van je idee.","Projects - Created from this Idea":"Projecten - gemaakt van dit idee","You are a Admin":"Je bent beheerder","Open to be contacted about potential collaboration opportunities":"Open om gecontacteerd te worden over mogelijke samenwerkingsmogelijkheden","Does NOT wish to be contacted for potential collaboration!":"Wenst NIET gecontacteerd te worden voor mogelijke samenwerking!","Join Project":"Meedoen aan project","Message Project":"Bericht project","Move up":"Omhoog","Move down":"Omlaag","There are no items yet":"Er zijn nog geen items","Nothing here yet.":"","Groups and Projects":"Groepen en projecten","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"Hier vind je een overzicht van je groepen en projecten zodra je in een of meer actief wordt.","You can create Groups or Projects via the '+' button in the header.":"Je kunt groepen of projecten maken via de knop + in de header.","Ideas I like":"Ideen die ik leuk vind","Here you can find an overview of Ideas you have liked.":"Hier vind je een overzicht van ideen die je leuk vindt.","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"Je kunt je eigen ideen maken via de knop + in de header of je kunt hier bestaande ideen ontdekken","Discover":"Ontdekken","We could not load more data at this time.":"We kunnen momenteel geen gegevens meer laden.","Retry":"Opnieuw proberen"},"az":{"Groups":"Qruplar","Like":"Bynm","Group":"Qrup","Title":"Balq","Workshops":"","Results":"Nticlr","Participants":"tiraklar","Description":"Tsvir","Project":"Layih","Topics":"Mvzular","Likes":"Bynmlr","User":"stifadi","Liked":"Bynilmilr","Following":"Aadak","Events":"Tdbirlr","Projects":"Layihlr","Members":"zvlr","Follow":"zl","Event":"Tdbir","Report offensive content":"Thqiramiz mzmunu bildirin","From":"Dan/dn","Until":"Qdr","Contact":"laq","Send Message":"Mesaj Gndrin","Invitations":"Dvtlr","You will now receive notifications for content posted in this project.":"ndi bu layihd yerldiriln mzmun n bildirilr alacaqsnz.","You will now receive notifications for content posted in this group.":"ndi bu qrupda yerldiriln mzmun n bildirilr alacaqsnz.","Sustainable Development Goals":"","Membership request pending...":"zvlk tlbi gzlyir...","You are invited!":"Siz dvtlisiniz!","All Groups":"Btn qruplar","All Projects":"Btn layihlr","Create Idea":"dea Yaradn","People":"nsanlar","My Groups":"Mnim Qrupum","My Projects":"Mnim layihlrim","Ideas":"deyalar","My Ideas":"Mnim deyalarm","All Ideas":"Btn deyalar","My Organizations":"","All Organizations":"","Include contents from other platforms":"","My Users":"stifadilrim","My Events":"Tdbirlrim","All Users":"Btn istifadilr","All Events":"Btn Tdbirlr","Idea":"deya","Create User":"stifadi Yaradn","Create Event":"Tdbir Yaradn","Create Project":"Layih Yaradn","Create Group":"Qrup Yaradn","Categories":"","SDGS":"","Search for Names, Topics and Places...":"Adlar, mvzular v Yerlr n axtar...","Search for Names and Topics...":"Adlar v mvzular n axtar...","Where":"Hara","In map area":"Xrit blgsind","If active, searching will be restricted to the visible map area.":"Aktiv olduqda, grnn xrit sahsi il mhdudlaacaqdr.","Apply Filters":"Filtrlr ttbiq edin","Clear Filters":"Filtrlri tmizlyin","Street":"K","Create idea":"dea Yaradn","Next":"Nvbti","Choose a location for your idea by dragging the marker!":"Markeri srdrrk ideyanz n bir dislokasiya sein!","of":"n/in/n/un","No results found.":"He bir ntic taplmad.","Could not complete the search due to an error.":"Shv sbbindn axtar baa atdrla bilmdi.","Search when moving the map":"Xritni hrkt edrkn axtarn","Search this area":"Bu razini aradrn","Membership Requests":"zvlk stklri","My Groups and Projects":"Qruplarm v Layihlrim","Show more Projects of this Group":"Bu Qrupun Layihlrini daha ox gstr","You are not in any groups or projects yet":"Hl he bir qrupda v ya layihd deyilsiniz","Create new Group":"Yeni Qrup Yaradn","Create new Project":"Yeni Layih Yaradn","Browse all Groups":"Btn Qruplar gstrin","Browse all Projects":"Btn Layihlri gstrin","Ideas I am following":"zldiyim deyalar","You are not following any ideas yet.":"Hl he bir ideya izlmirsiniz.","Post new Idea":"Yeni deya gndrin","Browse all Ideas":"Btn deyalar gstrin","Search for Ideas":"deyalar n Axtar","You have not RSVPed to any Events.":"He bir Tdbir dvtin cavab vermmisiniz.","Add Event":"Tdbir lav et","Go to Calendar":"Tqvim get","There was an error loading the widget":"Widjet yklnrkn xta ba verdi","Notifications":"Bildirilr","Show more":"Daha ox gstr","No current notifications":"Cari bildiri yoxdur","Find on map:":"","Entire Network":"Btn bk","On the Map":"Xritd","In my Groups and Projects":"In my Groups and Projects","Topic":"Mvzu","SDG":"","from":"","You":"Sn","Projects/Groups":"Layihlr/Qruplar","No info.":"Mlumat yoxdur.","Administrator":"Admin","Administrators":"Adminlr","Administrators unknown":"Namlum adminlr","No description yet.":"Hl tsvir yoxdur.","max.":"","If you do not want notifications, click the unfollow button!":"Bildirilr almaq istmirsinizs, izlmni dayandr dymsin kliklyin!","Could not save your like setting because of an error.":"Xta sbbindn bynm parametrinizi yaddada saxlaya bilmdik.","Could not save your follow setting because of an error.":"Xta sbbindn izlm parametrinizi yaddada saxlaya bilmdik.","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"Markeri sryb ataraq ideyalarnz n bir dislokasiya sein. Daha sonra bu yeri dyi bilrsiniz.","Back to location selection":"Dislokasiya seimin qayt","Protected Content":"Qorunan Mzmun","Sorry, but you cannot view details for this content.":"Balayn, lakin bu mzmun n tfrratlar gr bilmzsiniz.","This can happen when its visibility settings have changed recently.":"Grm parametrlri yaxn zamanda dyidikd bu ba ver bilr.","Please register or log in to continue!":"Xahi edirm qeydiyyatdan kein v ya davam etmk n daxil olun!","Error!":"Xta!","Sorry, but the requested content could not be retrieved from the server.":"Balayn, ancaq tlb olunan mzmunu serverdn almaq mmkn olmad.","Visit Event Page":"Tdbir Shifsin ba kin","You will now receive notifications for comments or when this event is updated or its details change.":"ndi rhlr n v ya bu tdbir yenilndikd v ya detallar dyidikd bildirilr alacaqsnz.","Hidden Users":"Gizli stifadilr","Hidden User":"Gizli stifadi","You are a Member":"Siz zvsnz","Join Group":"Qrupa Qoulun","Message Group":"Qrupa Mesaj yaz","Author":"Mllif","Create Project from Idea":"deayadan Layih Yaradn","Edit your Idea":"deaynz redakt edin","You will receive a notification when a project is created from your liked idea.":"Byndiyiniz ideyalardan bir layih yaradldqda bir bildiri alacaqsnz.","Projects - Created from this Idea":"Layihlr - Bu deyadan yaradlb","Open to be contacted about potential collaboration opportunities":"Potensial mkdalq imkanlar n laq qurmaa aq olun","Does NOT wish to be contacted for potential collaboration!":"Potensial mkdalq n laq qurmaq STMR!","Join Project":"Layihy qoulun","Message Project":"Layihy Mesaj yaz","Move up":"Yuxarya doru hrkt edin","Move down":"Aaya doru hrkt edin","There are no items yet":"Hllik yalar yoxdur","Nothing here yet.":"","Groups and Projects":"Qruplar v Layihlr","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"Qruplarnz v Layihlrinizin icmaln bunlardan birind v ya bir nesind fal olduqdan sonra tapa bilrsiniz.","You can create Groups or Projects via the '+' button in the header.":"Balqdak '+' dymsin vasitsil Qruplar v ya Layihlr yarada bilrsiniz.","Ideas I like":"Byndiyim ideyalar","Here you can find an overview of Ideas you have liked.":"Burada byndiyiniz ideyalarn mumi icmaln tapa bilrsiniz.","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"Balqdak '+' dymsin il z deyalarnz yarada bilrsiniz v ya mvcud deyalar burada akar ed bilrsiniz","Discover":"Akar etmk","We could not load more data at this time.":"Bu anda daha ox mlumat ykly bilmdik.","Retry":"Yenidn chd edin"},"hy":{"Groups":"","Like":"","Group":"","Title":"","Workshops":"","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"","Liked":"","Following":" ","Events":"","Projects":"","Members":"","Follow":"","Event":"","Report offensive content":"   ","From":"","Until":"","Contact":"","Send Message":" ","Invitations":"","You will now receive notifications for content posted in this project.":"        .","You will now receive notifications for content posted in this group.":"        .","Sustainable Development Goals":"","Membership request pending...":"     ...","You are invited!":"  !","All Groups":" ","All Projects":" ","Create Idea":" ","People":"","My Groups":" ","My Projects":" ","Ideas":"","My Ideas":" ","All Ideas":" ","My Organizations":"","All Organizations":"","Include contents from other platforms":"","My Users":" ","My Events":" ","All Users":" ","All Events":" ","Idea":"","Create User":" ","Create Event":" ","Create Project":" ","Create Group":" ","Categories":"","SDGS":"","Search for Names, Topics and Places...":" ,    ...","Search for Names and Topics...":"    ...","Where":"","In map area":" ","If active, searching will be restricted to the visible map area.":"       .","Apply Filters":" ","Clear Filters":" ","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":"      !","of":"-","No results found.":"    .","Could not complete the search due to an error.":"    .","Search when moving the map":"  ","Search this area":"  ","Membership Requests":" ","My Groups and Projects":"   ","Show more Projects of this Group":"     ","You are not in any groups or projects yet":"       ","Create new Group":"  ","Create new Project":"  ","Browse all Groups":"  ","Browse all Projects":"  ","Ideas I am following":",    ","You are not following any ideas yet.":"      .","Post new Idea":"  ","Browse all Ideas":"  ","Search for Ideas":" ","You have not RSVPed to any Events.":"   RSVP  .","Add Event":" ","Go to Calendar":" ","There was an error loading the widget":"    ","Notifications":"","Show more":" ","No current notifications":"  ","Find on map:":"","Entire Network":" ","On the Map":" ","In my Groups and Projects":"  / ","Topic":"","SDG":"","from":"","You":"","Projects/Groups":" / ","No info.":" .","Administrator":"","Administrators":"","Administrators unknown":"  ","No description yet.":"  .","max.":"","If you do not want notifications, click the unfollow button!":"     ,  unfollow !","Could not save your like setting because of an error.":"     .","Could not save your follow setting because of an error.":"     .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"       :          .","Back to location selection":"   ","Protected Content":" ","Sorry, but you cannot view details for this content.":",        .","This can happen when its visibility settings have changed recently.":"      ,        .","Please register or log in to continue!":"        !","Error!":"!","Sorry, but the requested content could not be retrieved from the server.":",       .","Visit Event Page":"  ","You will now receive notifications for comments or when this event is updated or its details change.":"     ,         .","Hidden Users":" ","Hidden User":" ","You are a Member":"  ","Join Group":" ","Message Group":"  ","Author":"","Create Project from Idea":"  ","Edit your Idea":"  ","You will receive a notification when a project is created from your liked idea.":"  ,      .","Projects - Created from this Idea":" -   ","Open to be contacted about potential collaboration opportunities":"     ","Does NOT wish to be contacted for potential collaboration!":"     !","Join Project":" ","Message Project":" ","Move up":"","Move down":"","There are no items yet":"  ","Nothing here yet.":"","Groups and Projects":"  ","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"                  .","You can create Groups or Projects via the '+' button in the header.":"         '+'  .","Ideas I like":"  ","Here you can find an overview of Ideas you have liked.":"       .","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"          +        ","Discover":"","We could not load more data at this time.":"       .","Retry":" "},"ka":{"Groups":"","Like":"","Group":"","Title":"","Workshops":"","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"","Liked":"","Following":"","Events":"","Projects":"","Members":"","Follow":" ","Event":"","Report offensive content":"  ","From":"","Until":"","Contact":"","Send Message":" ","Invitations":"","You will now receive notifications for content posted in this project.":"       .","You will now receive notifications for content posted in this group.":"       .","Sustainable Development Goals":"","Membership request pending...":"  ...","You are invited!":"  !","All Groups":" ","All Projects":" ","Create Idea":" ","People":"","My Groups":" ","My Projects":" ","Ideas":"","My Ideas":" ","All Ideas":" ","My Organizations":"","All Organizations":"","Include contents from other platforms":"","My Users":" ","My Events":" ","All Users":" ","All Events":" ","Idea":"","Create User":" ","Create Event":" ","Create Project":" ","Create Group":" ","Categories":"","SDGS":"","Search for Names, Topics and Places...":",    ...","Search for Names and Topics...":"   ...","Where":"","In map area":" ","If active, searching will be restricted to the visible map area.":" ,      .","Apply Filters":" ","Clear Filters":" ","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":"      !","No results found.":"  .","Could not complete the search due to an error.":"     .","Search when moving the map":"  ","Search this area":"  ","Membership Requests":" ","My Groups and Projects":"   ","Show more Projects of this Group":"    ","You are not in any groups or projects yet":"       ","Create new Group":"  ","Create new Project":"  ","Browse all Groups":"  ","Browse all Projects":"  ","Ideas I am following":"   ","You are not following any ideas yet.":"     .","Post new Idea":"  ","Browse all Ideas":"  ","Search for Ideas":" ","You have not RSVPed to any Events.":"   RSVPed  .","Add Event":" ","Go to Calendar":" ","There was an error loading the widget":"   ","Notifications":"","Show more":" ","No current notifications":" ","Find on map:":"","Entire Network":" ","On the Map":"","In my Groups and Projects":"   ","Topic":"","SDG":"","from":"","You":"","Projects/Groups":"/","No info.":"  .","Administrator":"","Administrators":"","Administrators unknown":"   ","No description yet.":"   .","max.":"","If you do not want notifications, click the unfollow button!":"    ,    !","Could not save your like setting because of an error.":" ,      .","Could not save your follow setting because of an error.":" ,      .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"      .     .","Back to location selection":"  ","Protected Content":" ","Sorry, but you cannot view details for this content.":" ,        .","This can happen when its visibility settings have changed recently.":"  ,       .","Please register or log in to continue!":",    !","Error!":"!","Sorry, but the requested content could not be retrieved from the server.":" ,     .","Visit Event Page":"  ","You will now receive notifications for comments or when this event is updated or its details change.":"    . ,        .","Hidden Users":" ","Hidden User":" ","You are a Member":"  ","Join Group":" ","Message Group":"  ","Author":"","Create Project from Idea":"  ","Edit your Idea":"  ","You will receive a notification when a project is created from your liked idea.":"  ,       .","Projects - Created from this Idea":" -   ","Open to be contacted about potential collaboration opportunities":",      ","Does NOT wish to be contacted for potential collaboration!":"    !","Join Project":" ","Message Project":"  ","Move up":"","Move down":"","There are no items yet":"   ","Nothing here yet.":"","Groups and Projects":"  ","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"       ,      -  .","You can create Groups or Projects via the '+' button in the header.":"      '+'   .","Ideas I like":",   ","Here you can find an overview of Ideas you have liked.":"       .","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"      '+'       ","Discover":"","We could not load more data at this time.":"      .","Retry":""},"kk":{"Groups":"","Like":"","Group":"","Title":"","Workshops":"","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"","Liked":"","Following":"","Events":"","Projects":"","Members":"","Follow":"","Event":"","Report offensive content":" ","From":"","Until":"","Contact":"","Send Message":"X ","Invitations":"","You will now receive notifications for content posted in this project.":"       .","You will now receive notifications for content posted in this group.":"       .","Sustainable Development Goals":"","Membership request pending...":"  .","You are invited!":" !","All Groups":" ","All Projects":" ","Create Idea":" ","People":"","My Groups":" ","My Projects":" ","Ideas":"","My Ideas":" ","All Ideas":" ","My Organizations":"","All Organizations":"","Include contents from other platforms":"","My Users":" ","My Events":" ","All Users":" ","All Events":" ","Idea":"","Create User":" ","Create Event":" ","Create Project":" ","Create Group":" ","Categories":"","SDGS":"","Search for Names, Topics and Places...":",    .","Search for Names and Topics...":"   .","Where":"","In map area":"","If active, searching will be restricted to the visible map area.":" ,     .","Apply Filters":" ","Clear Filters":"  ","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":" ,    !","of":"","No results found.":" .","Could not complete the search due to an error.":"     .","Search when moving the map":"  ","Search this area":"  ","Membership Requests":" ","My Groups and Projects":"   ","Show more Projects of this Group":"    ","You are not in any groups or projects yet":"      ","Create new Group":"  ","Create new Project":"  ","Browse all Groups":"  ","Browse all Projects":"  ","Ideas I am following":"  ","You are not following any ideas yet.":"    .","Post new Idea":"  ","Browse all Ideas":"  ","Search for Ideas":" ","You have not RSVPed to any Events.":"    .","Add Event":" ","Go to Calendar":" ","There was an error loading the widget":"     ","Notifications":"","Show more":" ","No current notifications":" ","Find on map:":"","Entire Network":" ","On the Map":"","In my Groups and Projects":"   ","Topic":"","SDG":"","from":"","You":"","Projects/Groups":"/","No info.":" .","Administrator":"","Administrators":"","Administrators unknown":" ","No description yet.":" .","max.":"","If you do not want notifications, click the unfollow button!":"    ,    !","Could not save your like setting because of an error.":" ,     .","Could not save your follow setting because of an error.":"      .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"       .      .","Back to location selection":"  ","Protected Content":" ","Sorry, but you cannot view details for this content.":",        .","This can happen when its visibility settings have changed recently.":"         .","Please register or log in to continue!":"    !","Error!":"!","Sorry, but the requested content could not be retrieved from the server.":",      .","Visit Event Page":" ","You will now receive notifications for comments or when this event is updated or its details change.":"              .","Hidden Users":" ","Hidden User":" ","You are a Member":" ","Join Group":" ","Message Group":"  ","Author":"","Create Project from Idea":"  ","Edit your Idea":" ","You will receive a notification when a project is created from your liked idea.":"        .","Projects - Created from this Idea":" -   ","Open to be contacted about potential collaboration opportunities":"     ","Does NOT wish to be contacted for potential collaboration!":"    !","Join Project":" ","Message Project":"  ","Move up":" ","Move down":" ","There are no items yet":"    ","Nothing here yet.":"","Groups and Projects":"  ","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"             .","You can create Groups or Projects via the '+' button in the header.":" +        .","Ideas I like":"  ","Here you can find an overview of Ideas you have liked.":"      .","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":" +             ","Discover":" ","We could not load more data at this time.":"      .","Retry":""},"he":{"Groups":"","Like":"","Group":"","Title":"","Workshops":"","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"","Liked":"","Following":"","Events":"","Projects":"","Members":"","Follow":"","Event":"","Report offensive content":"   ","From":"","Until":"","website":" ","Contact":"  ","Send Message":" ","Invitations":"","You will now receive notifications for content posted in this project.":"       .","You will now receive notifications for content posted in this group.":"       .","Sustainable Development Goals":"   ","Membership request pending...":"  ...","You are invited!":"!","All Groups":" ","All Projects":" ","Organizations":"","Create Idea":" ","People":"","My Groups":" ","My Projects":" ","Ideas":"","My Ideas":" ","All Ideas":" ","My Organizations":" ","All Organizations":" ","My Users":" ","My Events":" ","My Cloud Files":"  ","All Users":" ","All Events":" ","Cloud Files":" ","Idea":"","Organization":"","Cloud File":" ","Create User":" ","Create Event":" ","Create Project":" ","Create Group":" ","Create Organization":" ","Categories":"","SDGS":"   ","Search for Names, Topics and Places...":" ,  ...","Search for Names and Topics...":"  ...","Where":"","In map area":" ","If active, searching will be restricted to the visible map area.":"  ,      .","Apply Filters":" ","Clear Filters":" ","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":"     -  !","of":"","No results found.":"  .","Could not complete the search due to an error.":"       .","Search when moving the map":"   ","Search this area":"  ","Membership Requests":" ","My Groups and Projects":"  ","Show more Projects of this Group":"     ","You are not in any groups or projects yet":"       ","Create new Group":"  ","Create new Project":"  ","Browse all Groups":"  ","Browse all Projects":"  ","You have not created any organizations yet.":"  .","Create new Organization":"  ","Browse all Organizations":"  ","Search for Organizations":" ","Ideas I am following":"   ","You are not following any ideas yet.":"     .","Post new Idea":"  ","Browse all Ideas":"  ","Search for Ideas":" ","You have not RSVPed to any Events.":"  RSVPed  .","Add Event":" ","Go to Calendar":"   ","There was an error loading the widget":"   ","Notifications":"","Show more":" ","No current notifications":" ","Find on map:":"","Entire Network":" ","On the Map":" ","In my Groups and Projects":"  ","In my Cloud Files":"  ","Topic":"","SDG":"   ","from":"","You":"/","Projects/Groups":"/","No info.":" .","Administrator":" ","Administrators":" ","Administrators unknown":"   ","No description yet.":"  .","max.":".","You are participating":"  ","Participation request pending...":"  ...","Participate":"","Contact organizers":"   ","You will now receive notifications for content posted.":"     .","If you do not want notifications, click the unfollow button!":"    ,     !","Could not save your like setting because of an error.":"      -like   .","Could not save your follow setting because of an error.":"        .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"     -   .       .","Back to location selection":"  ","Protected Content":" ","Sorry, but you cannot view details for this content.":",       .","This can happen when its visibility settings have changed recently.":"        .","Please register or log in to continue!":"     !","Error!":"!","Sorry, but the requested content could not be retrieved from the server.":",         .","Visit Event Page":"  ","You will now receive notifications for comments or when this event is updated or its details change.":"    ,    .","Hidden Users":" ","Hidden User":" ","You are a Member":" ","Join Group":" ","Message Group":"  ","Author":"","Create Project from Idea":"  ","Edit your Idea":"   ","You will receive a notification when a project is created from your liked idea.":"      .","Projects - Created from this Idea":"   ","You are a Admin":"  ","Ownership request pending...":"  ...","Projects and groups":" ","Project/group":"/","Open to be contacted about potential collaboration opportunities":"       ","Does NOT wish to be contacted for potential collaboration!":"        !","Join Project":" ","Message Project":"/  ","Move up":" ","Move down":" ","There are no items yet":"  ","Items you follow":"   ","Nothing here yet.":"  .","Groups and Projects":" ","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"              .","You can create Groups or Projects via the '+' button in the header.":"       '+'  .","Ideas I like":"  /","Here you can find an overview of Ideas you have liked.":"       .","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"      '+'       ","Discover":"/","We could not load more data at this time.":"        .","Retry":" "},"ar":{"Groups":"","Like":"","Group":"","Title":"","Workshops":" ","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"","Events":"","Projects":"","Members":"","Follow":"","Event":"","Report offensive content":"   ","From":"","Until":"","Contact":"","Send Message":" ","Invitations":"","You will now receive notifications for content posted in this project.":"       .","You will now receive notifications for content posted in this group.":"       .","Sustainable Development Goals":"  ","Membership request pending...":"  ...","You are invited!":" !","All Groups":" ","All Projects":" ","Organizations":"","Create Idea":" ","People":"","My Groups":"","My Projects":"","Ideas":"","My Ideas":"","All Ideas":" ","My Organizations":"","All Organizations":" ","My Users":" ","My Events":" ","My Cloud Files":"  ","All Users":" ","All Events":" ","Cloud Files":" ","Idea":"","Organization":"","Cloud File":" ","Create User":" ","Create Event":" ","Create Project":" ","Create Group":" ","Create Organization":" ","Categories":"","SDGS":"   SDGS","Search for Names, Topics and Places...":"    ...","Search for Names and Topics...":"   ...","Where":"","In map area":"  ","If active, searching will be restricted to the visible map area.":"        .","Apply Filters":"   ","Clear Filters":"   ","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":"      !","of":"","No results found.":"    .","Could not complete the search due to an error.":"    .","Search when moving the map":"   ","Search this area":"   ","Membership Requests":" ","My Groups and Projects":" ","Show more Projects of this Group":"     ","You are not in any groups or projects yet":"        ","Create new Group":"  ","Create new Project":"  ","Browse all Groups":"  ","Browse all Projects":"  ","You have not created any organizations yet.":"        .","Create new Organization":"  ","Browse all Organizations":"  ","Search for Organizations":"  ","Ideas I am following":"  ","You are not following any ideas yet.":"      .","Post new Idea":"  ","Browse all Ideas":"  ","Search for Ideas":"  ","You have not RSVPed to any Events.":"        .","Add Event":" ","Go to Calendar":"  ","There was an error loading the widget":"    ","Notifications":"","Show more":" ","No current notifications":"   ","Find on map:":"","Entire Network":" ","On the Map":" ","In my Groups and Projects":"  ","In my Cloud Files":"   ","Topic":"","SDG":"   SDG","from":"","You":"","Projects/Groups":"/","No info.":" .","Administrator":"","Administrators":"","Administrators unknown":"  ","No description yet.":"    .","max.":"","You are participating":" ","Participation request pending...":"  ...","Participate":"","Contact organizers":" ","You will now receive notifications for content posted.":"       .","If you do not want notifications, click the unfollow button!":"         !","Could not save your like setting because of an error.":"       .","Could not save your follow setting because of an error.":"     .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"       .       .","Back to location selection":"   ","Protected Content":" ","Sorry, but you cannot view details for this content.":"       .","This can happen when its visibility settings have changed recently.":"          .","Please register or log in to continue!":"    !","Error!":"!","Sorry, but the requested content could not be retrieved from the server.":"        .","Visit Event Page":"   ","You will now receive notifications for comments or when this event is updated or its details change.":"            .","Hidden Users":" ","Hidden User":" ","You are a Member":" ","Join Group":" ","Message Group":"   ","Author":"","Create Project from Idea":"   ","Edit your Idea":"  ","You will receive a notification when a project is created from your liked idea.":"       .","Projects - Created from this Idea":" -      ","You are a Admin":" ","Ownership request pending...":"  ...","Projects and groups":" ","Project/group":"/","Open to be contacted about potential collaboration opportunities":"        ","Does NOT wish to be contacted for potential collaboration!":"          !","Join Project":"  ","Message Project":"   ","Move up":"  ","Move down":"  ","There are no items yet":"    ","Items you follow":"  ","Nothing here yet.":"    .","Groups and Projects":" ","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"                 .","You can create Groups or Projects via the '+' button in the header.":"       \"+\"  .","Ideas I like":"   ","Here you can find an overview of Ideas you have liked.":"         .","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"       \"+\"        ","Discover":"","We could not load more data at this time.":"         .","Retry":" "}}) && key in ({"en":{"Groups":"Groups","Like":"","Group":"Group","Title":"","Workshops":"","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"","Liked":"","Following":"","Events":"","Projects":"","Members":"","Follow":"","Event":"","Report offensive content":"","From":"","Until":"","website":"","Contact":"","Send Message":"","Invitations":"","You will now receive notifications for content posted in this project.":"","You will now receive notifications for content posted in this group.":"","Sustainable Development Goals":"","Membership request pending...":"","You are invited!":"","All Groups":"All Groups","All Projects":"All Projects","Organizations":"","People":"","My Groups":"My Groups","My Projects":"My Projects","Ideas":"","All Ideas":"","My Organizations":"","All Organizations":"","Include contents from other platforms":"","My Cloud Files":"","Cloud Files":"","Idea":"","Organization":"","Cloud File":"","Create Project":"Create Project","Create Group":"Create Group","Categories":"","SDGS":"","Search for Names, Topics and Places...":"","Search for Names and Topics...":"","Where":"","In map area":"","If active, searching will be restricted to the visible map area.":"","Apply Filters":"","Clear Filters":"","Street":"","Next":"","Choose a location for your idea by dragging the marker!":"","of":"","No results found.":"","Could not complete the search due to an error.":"","Search when moving the map":"","Search this area":"","Membership Requests":"","You are not in any groups or projects yet":"","You have not created any organizations yet.":"","Ideas I am following":"","You are not following any ideas yet.":"","Browse all Ideas":"","You have not RSVPed to any Events.":"","Go to Calendar":"","No current notifications":"","Find on map:":"","Entire Network":"","On the Map":"","In my Cloud Files":"","Topic":"","SDG":"","from":"","You":"","No info.":"","Administrator":"","Administrators":"","Administrators unknown":"","No description yet.":"","max.":"","You are participating":"","Participation request pending...":"","Participate":"","Contact organizers":"","You will now receive notifications for content posted.":"","If you do not want notifications, click the unfollow button!":"","Could not save your like setting because of an error.":"","Could not save your follow setting because of an error.":"","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"","Back to location selection":"","Sorry, but you cannot view details for this content.":"","This can happen when its visibility settings have changed recently.":"","Please register or log in to continue!":"","Error!":"","Sorry, but the requested content could not be retrieved from the server.":"","Visit Event Page":"","You will now receive notifications for comments or when this event is updated or its details change.":"","Hidden Users":"","Hidden User":"","You are a Member":"","Author":"","Edit your Idea":"","You will receive a notification when a project is created from your liked idea.":"","Projects - Created from this Idea":"","You are a Admin":"","Ownership request pending...":"","Open to be contacted about potential collaboration opportunities":"","Does NOT wish to be contacted for potential collaboration!":"","Move up":"","Move down":"","Items you follow":"","Nothing here yet.":"","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"","You can create Groups or Projects via the '+' button in the header.":"","Ideas I like":"","Here you can find an overview of Ideas you have liked.":"","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"","Discover":"","Filter":"","Content from the Forum":"","We could not load more data at this time.":"","Retry":""},"de":{"Groups":"Gruppen","Like":"Gefllt mir","Group":"Gruppe","Title":"Titel","Workshops":"Workshops","Results":"Ergebnisse","Participants":"Teilnehmende","Description":"Beschreibung","Project":"Projekt","Topics":"Themen","Likes":"\"Gefllt mir\"-Angaben","User":"Benutzer_in","Liked":"Gefllt dir","Following":"Gefolgt","Events":"Veranstaltungen","Projects":"Projekte","Members":"Mitglieder","Follow":"Folgen","Conference Applications":"Tagungs-Teilnahmeantrge","Event":"Veranstaltung","Report offensive content":"Anstigen Inhalt melden","From":"Von","Until":"Bis","website":"Webseite","Contact":"Kontakt","Send Message":"Nachricht schicken","Invitations":"Einladungen","You will now receive notifications for content posted in this project.":"Du wirst jetzt Benachrichtigungen fr Inhalte in diesem Projekt erhalten.","You will now receive notifications for content posted in this group.":"Du wirst jetzt Benachrichtigungen fr Inhalte in dieser Gruppe erhalten.","Sustainable Development Goals":"Ziele fr nachhaltige Entwicklung","Membership request pending...":"Mitgliedschaft wurde beantragt...","You are invited!":"Du bist eingeladen worden!","All Groups":"Alle Gruppen","All Projects":"Alle Projekte","Organizations":"Organisationen","Create Idea":"Idee erstellen","People":"Menschen","My Groups":"Meine Gruppen","My Projects":"Meine Projekte","Ideas":"Ideen","My Ideas":"Meine Ideen","All Ideas":"Alle Ideen","My Organizations":"Meine Organisationen","All Organizations":"Alle Organisationen","External contents":"Externe Inhalte","Include contents from other platforms":"Auch Inhalte von anderen Plattformen anzeigen","My Users":"Meine Benutzer_innen","My Events":"Meine Veranstaltungen","My Cloud Files":"Meine Cloud-Dateien","All Users":"Alle Benutzer_innen","All Events":"Alle Veranstaltungen","Cloud Files":"Cloud-Dateien","Idea":"Idee","Organization":"Organisation","Cloud File":"Cloud-Dateien","Create User":"Benutzerkonto erstellen","Create Event":"Veranstaltung erstellen","Create Project":"Projekt erstellen","Create Group":"Gruppe erstellen","Create Organization":"Organisation erstellen","Categories":"Kategorien","SDGS":"SDGs","Search for Names, Topics and Places...":"Suche nach Namen, Themen und Orten...","Search for Names and Topics...":"Suche nach Namen und Themen...","Where":"Wo","In map area":"In Kartenaussschnitt","If active, searching will be restricted to the visible map area.":"Wenn aktiv wird die Suche auf die sichtbare Kartenflche beschrnkt.","Apply Filters":"Filter anwenden","Clear Filters":"Filter zurcksetzen","Street":"Straen","Create idea":"Idee erstellen","Next":"Weiter","Choose a location for your idea by dragging the marker!":"Whle einen Ort fr deine Idee indem du die Markierung in der Karte verschiebst!","of":"von","No results found.":"Keine Ergebnisse gefunden.","Could not complete the search due to an error.":"Konnte die Suche aufgrund eines Fehlers nicht abschlieen.","Search when moving the map":"Suchen wenn die Karte bewegt wird","Search this area":"In diesem Ausschnitt suchen","Membership Requests":"Mitgliedschaftsantrge","My Groups and Projects":"Meine Gruppen und Projekte","Show more Projects of this Group":"Weitere Projekte dieser Gruppe anzeigen","You are not in any groups or projects yet":"Du bist noch in keinen Gruppen oder Projekten Mitglied","Create new Group":"Neue Gruppe anlegen","Create new Project":"Neues Projekt anlegen","Browse all Groups":"Alle Gruppen anzeigen","Browse all Projects":"Alle Projekte anzeigen","You have not created any organizations yet.":"Du hast noch keine Organisationen angelegt.","Create new Organization":"Neue Organisation anlegen","Browse all Organizations":"Alle Organisationen durchsuchen","Search for Organizations":"Nach Organisation suchen","Ideas I am following":"Ideen, die mir gefallen","You are not following any ideas yet.":"Du folgst noch keinen Ideen.","Post new Idea":"Neue Idee eintragen","Browse all Ideas":"Alle Ideen anzeigen","Search for Ideas":"Nach Ideen suchen","You have not RSVPed to any Events.":"Du hast bei keinen aktuellen Veranstaltungen zugesagt.","Add Event":"Veranstaltung hinzufgen","Go to Calendar":"Zum Kalender","There was an error loading the widget":"Es gab einen Fehler beim Laden der Inhalte","Notifications":"Benachrichtigungen","Show more":"Weitere anzeigen","No current notifications":"Keine aktuellen Benachrichtigungen","Find on map:":"Auf der Karte finden:","Entire Network":"Gesamtes Netzwerk","On the Map":"Auf der Karte","In my Groups and Projects":"In meinen Gruppen und Projekten","In my Cloud Files":"In meinen Cloud-Dateien","Topic":"Thema","SDG":"SDG","from":"von","You":"Du","Projects/Groups":"Projekte/Gruppen","No info.":"Keine Informationen.","Administrator":"Administrator","Administrators":"Administratoren","Administrators unknown":"Administratoren unbekannt","No description yet.":"Noch keine Beschreibung erstellt.","max.":"max.","You are participating":"Du nimmst teil","Participation request pending...":"Teilnahmeantrag luft...","Participate":"Teilnehmen","Contact organizers":"Veranstalter/innen kontaktieren","You will now receive notifications for content posted.":"Du wirst jetzt Benachrichtigungen fr neue Inhalte erhalten.","If you do not want notifications, click the unfollow button!":"Wenn du das nicht mchtest, klicke oben den Entfolgen-Button!","Could not save your like setting because of an error.":"Konnte deine \"Gefllt mir\"-Angabe aufgrund eines Fehlers nicht speichern.","Could not save your follow setting because of an error.":"Konnte deine Folgen-Einstellung aufgrund eines Fehlers nicht speichern.","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"Whle einen Ort fr deine Idee indem du die Markierung in der Karte verschiebst. Du kannst diesen Ort spter ndern.","Back to location selection":"Zurck zur Ortsauswahl","Protected Content":"Geschtzter Inhalt","Sorry, but you cannot view details for this content.":"Tut uns leid, aber du kannst keine Details dieses Inhalts sehen.","This can happen when its visibility settings have changed recently.":"Dies kann passieren, wenn die Sichtbarkeitseinstellungen des Inhalts vor Kurzem gendert wurden.","Please register or log in to continue!":"Bitte registriere dich oder log dich ein um weiterzumachen!","Error!":"Fehler!","Sorry, but the requested content could not be retrieved from the server.":"Tut uns leid, aber der gewnschte Inhalt konnte nicht vom Server geladen werden.","Visit Event Page":"Event-Seite besuchen","You will now receive notifications for comments or when this event is updated or its details change.":"Du wirst jetzt Benachrichtigungen fr Kommentare erhalten und wenn dieser Inhalt gendert wird.","Hidden Users":"Versteckte Benutzer","Hidden User":"Versteckter Benutzer","You are a Member":"Du bist Mitglied","Join Group":"Gruppe beitreten","Message Group":"Gruppe anschreiben","Author":"Autor","Create Project from Idea":"Projekt aus Idee erstellen","Edit your Idea":"Deine Idee bearbeiten","You will receive a notification when a project is created from your liked idea.":"Du erhltst eine Benachrichtigung, wenn ein Projekt aus dieser Idee erstellt wird.","Projects - Created from this Idea":"Projekte - entstanden aus dieser Idee","You are a Admin":"Du bist ein Admin","Ownership request pending...":"Mitgliedschaftsantrag luft...","Projects and groups":"Projekte und Gruppen","Project/group":"Projekt/Gruppe","Open to be contacted about potential collaboration opportunities":"Kann gerne fr potentielle Zusammenarbeit kontaktiert werden","Does NOT wish to be contacted for potential collaboration!":"Mchte KEINE Anfragen fr potentielle Zusammenarbeit erhalten!","To Profile":"Zum Profil","Join Project":"Projekt beitreten","Message Project":"Projekt anschreiben","Move up":"Nach oben","Move down":"Nach unten","There are no items yet":"Noch keine Inhalte vorhanden","Items you follow":"Objekte, denen ich folge","Nothing here yet.":"Keine Eintrge bisher.","Groups and Projects":"Gruppen und Projekte","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"Hier findest du in Zukunft eine bersicht ber deine Gruppen und Projekte. Noch bist du in keiner Gruppe oder einem Projekt aktiv.","You can create Groups or Projects via the '+' button in the header.":"Du kannst eigene Gruppen oder Projekte ber den '+'-Button im Header anlegen.","Ideas I like":"Ideen, die mir gefallen","Here you can find an overview of Ideas you have liked.":"Hier findest du in Zukunft eine bersicht ber Ideen, die dir gefallen.","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"Du kannst eigene Ideen ber den '+'-Button im Header anlegen oder bestehende Ideen hier entdecken","Discover":"Entdecken","Filter":"Filter","Content from the Forum":"Inhalte aus dem Forum","Content from my Groups and Projects":"Inhalte aus meinen Gruppen und Projekten","Platform content":"Portalweite Inhalte","Public content":"ffentliche Inhalte","We could not load more data at this time.":"Wir konnten leider keine weiteren Daten laden.","Retry":"Erneut versuchen"},"ru":{"Groups":"","Like":"","Group":"","Title":"","Workshops":"","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"","Liked":"","Following":"","Events":"","Projects":"","Members":"","Follow":"","Conference Applications":"    ","Event":"","Report offensive content":"","From":"","Until":"","website":"","Contact":"","Send Message":" ","Invitations":"","You will now receive notifications for content posted in this project.":"      ,    .","You will now receive notifications for content posted in this group.":"      ,    .","Sustainable Development Goals":"  ","Membership request pending...":"    ...","You are invited!":" !","All Groups":" ","All Projects":" ","Organizations":"","Create Idea":" ","People":"","My Groups":" ","My Projects":" ","Ideas":"","My Ideas":" ","All Ideas":" ","My Organizations":" ","All Organizations":" ","External contents":" ","Include contents from other platforms":"      ","My Users":" ","My Events":" ","My Cloud Files":" ","All Users":" ","All Events":" ","Cloud Files":" ","Idea":"","Organization":"","Cloud File":" ","Create User":" ","Create Event":" ","Create Project":" ","Create Group":" ","Create Organization":" ","Categories":"","SDGS":"  ","Search for Names, Topics and Places...":" ,   ","Search for Names and Topics...":"   ","Where":"","In map area":"  ","If active, searching will be restricted to the visible map area.":" ,      .","Apply Filters":" ","Clear Filters":" ","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":"    ,  !","of":"","No results found.":"  .","Could not complete the search due to an error.":"    - .","Search when moving the map":"   ","Search this area":"   ","Membership Requests":"  ","My Groups and Projects":"   ","Show more Projects of this Group":"    ","You are not in any groups or projects yet":"        ","Create new Group":"  ","Create new Project":"  ","Browse all Groups":"  ","Browse all Projects":"  ","You have not created any organizations yet.":"      .","Create new Organization":"  ","Browse all Organizations":"  ","Search for Organizations":" ","Ideas I am following":",   ","You are not following any ideas yet.":"      .","Post new Idea":"  ","Browse all Ideas":"  ","Search for Ideas":" ","You have not RSVPed to any Events.":"      .","Add Event":" ","Go to Calendar":"  ","There was an error loading the widget":"     ","Notifications":"","Show more":" ","No current notifications":"  ","Find on map:":"  :","Entire Network":" ","On the Map":" ","In my Groups and Projects":"    ","In my Cloud Files":"   ","Topic":"","SDG":"  ","from":"","You":"","Projects/Groups":"/","No info.":" .","Administrator":"","Administrators":"","Administrators unknown":"  ","No description yet.":" .","max.":".","You are participating":"  ","Participation request pending...":"    ...","Participate":"","Contact organizers":" ","You will now receive notifications for content posted.":"      ,    .","If you do not want notifications, click the unfollow button!":"     ,    !","Could not save your like setting because of an error.":"-      .","Could not save your follow setting because of an error.":"       .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"    ,  .      .","Back to location selection":"   ","Protected Content":" ","Sorry, but you cannot view details for this content.":",         .","This can happen when its visibility settings have changed recently.":"  ,       .","Please register or log in to continue!":",   ,  !","Error!":"a!","Sorry, but the requested content could not be retrieved from the server.":",         .","Visit Event Page":"  ","You will now receive notifications for comments or when this event is updated or its details change.":"    ,            .","Hidden Users":" ","Hidden User":" ","You are a Member":"  ","Join Group":"  ","Message Group":"  ","Author":"","Create Project from Idea":"    ","Edit your Idea":"  ","You will receive a notification when a project is created from your liked idea.":"  ,       ,   .","Projects - Created from this Idea":" -     ","You are a Admin":"  ","Ownership request pending...":"    ...","Projects and groups":"   ","Project/group":"/","Open to be contacted about potential collaboration opportunities":"()     ","Does NOT wish to be contacted for potential collaboration!":"     !","To Profile":" ","Join Project":"  ","Message Project":"  ","Move up":" ","Move down":" ","There are no items yet":"  ","Items you follow":",   ","Nothing here yet.":"   .","Groups and Projects":"  ","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"        ,          .","You can create Groups or Projects via the '+' button in the header.":"           '+'     .","Ideas I like":",   ","Here you can find an overview of Ideas you have liked.":"    ,   .","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"         '+'          ","Discover":"","Filter":" ","Content from the Forum":"  ","Content from my Groups and Projects":"     ","Platform content":"      ","Public content":"   ","We could not load more data at this time.":"      .","Retry":" "},"uk":{"Groups":"","Like":"","Group":"","Title":"","Workshops":"","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"(-)","Liked":"","Following":"","Events":"","Projects":"","Members":"","Follow":"","Event":"","Report offensive content":"   ","From":"","Until":"","website":"-","Contact":"","Send Message":" ","Invitations":"","You will now receive notifications for content posted in this project.":"      ,    .","You will now receive notifications for content posted in this group.":"      ,    .","Sustainable Development Goals":"  ","Membership request pending...":"     ...","You are invited!":" !","All Groups":" ","All Projects":" ","Organizations":"","Create Idea":" ","People":"","My Groups":" ","My Projects":" ","Ideas":"","My Ideas":" ","All Ideas":" ","My Organizations":" ","All Organizations":" ","External contents":" ","Include contents from other platforms":"   ","My Users":" ","My Events":" ","My Cloud Files":"   ","All Users":" ","All Events":" ","Cloud Files":"  ","Idea":"","Organization":"","Cloud File":"  ","Create User":" ","Create Event":" ","Create Project":" ","Create Group":" ","Create Organization":" ","Categories":"","SDGS":"  ","Search for Names, Topics and Places...":" ,   ","Search for Names and Topics...":"   ","Where":"","In map area":"  ","If active, searching will be restricted to the visible map area.":"  ,      .","Apply Filters":" ","Clear Filters":" ","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":"    ,  !","of":"","No results found.":"   .","Could not complete the search due to an error.":"     .","Search when moving the map":"   ","Search this area":"   ","Membership Requests":"  ","My Groups and Projects":"   ","Show more Projects of this Group":"    ","You are not in any groups or projects yet":"       ","Create new Group":"  ","Create new Project":"  ","Browse all Groups":"  ","Browse all Projects":"  ","You have not created any organizations yet.":"     .","Create new Organization":"  ","Browse all Organizations":"  ","Search for Organizations":" ","Ideas I am following":",    ","You are not following any ideas yet.":"      .","Post new Idea":"  ","Browse all Ideas":"  ","Search for Ideas":" ","You have not RSVPed to any Events.":"  RSVP   .","Add Event":" ","Go to Calendar":"  ","There was an error loading the widget":"     ","Notifications":"","Show more":" ","No current notifications":"  ","Find on map:":"  :","Entire Network":" ","On the Map":" ","In my Groups and Projects":"    ","In my Cloud Files":"    ","Topic":"","SDG":"  ","from":"","You":"","Projects/Groups":"/","No info.":" .","Administrator":"","Administrators":"","Administrators unknown":" ","No description yet.":"  .","max.":".","You are participating":"  ","Participation request pending...":"     ...","Participate":"","Contact organizers":"  ","You will now receive notifications for content posted.":"       .","If you do not want notifications, click the unfollow button!":"     ,    !","Could not save your like setting because of an error.":"       .","Could not save your follow setting because of an error.":"       .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"    ,  .       .","Back to location selection":"   ","Protected Content":" ","Sorry, but you cannot view details for this content.":",        .","This can happen when its visibility settings have changed recently.":"  ,     .","Please register or log in to continue!":" ,   ,  !","Error!":"!","Sorry, but the requested content could not be retrieved from the server.":", ,    ,     .","Visit Event Page":"  ","You will now receive notifications for comments or when this event is updated or its details change.":"      ,      .","Hidden Users":" ","Hidden User":" ","You are a Member":"  ","Join Group":"  ","Message Group":" ","Author":"","Create Project from Idea":"   ","Edit your Idea":"  ","You will receive a notification when a project is created from your liked idea.":"  ,        .","Projects - Created from this Idea":"     ","You are a Admin":"  ","Ownership request pending...":"       ...","Projects and groups":"  ","Project/group":"/","Open to be contacted about potential collaboration opportunities":"(-)      ","Does NOT wish to be contacted for potential collaboration!":"     !","To Profile":" ","Join Project":"  ","Message Project":"  ","Move up":" ","Move down":" ","There are no items yet":"    ","Items you follow":",    ","Nothing here yet.":"   .","Groups and Projects":"  ","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"        ,          .","You can create Groups or Projects via the '+' button in the header.":"         +  .","Ideas I like":",   ","Here you can find an overview of Ideas you have liked.":"      ,   .","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"        +       ","Discover":"","Filter":" ","Content from the Forum":"  ","Content from my Groups and Projects":"      ","Public content":" ","We could not load more data at this time.":"       .","Retry":"  "},"fr":{"Groups":"Groupes","Like":"Aimer","Group":"Groupe","Title":"Titre","Workshops":"Ateliers","Results":"Rsultats","Participants":"Participants","Description":"Description","Project":"Projet","Topics":"Sujets","Likes":"J'aime","User":"Utilisateur","Liked":"Est aim","Following":"Suit","Events":"Evnements","Projects":"Projets","Members":"Membres","Follow":"S'abonner","Event":"Evnement","Report offensive content":"Rapporter un contenu choquant","From":"De","Until":"jusqu","website":"site internet","Contact":"Contact","Send Message":"Envoyer un message","Invitations":"Invitations","You will now receive notifications for content posted in this project.":"Tu recevras dsormais des notifications pour le contenu affich dans ce projet.","You will now receive notifications for content posted in this group.":"Tu recevras dsormais des notifications pour le contenu affich dans ce groupe.","Sustainable Development Goals":"Objectifs de dveloppement durable","Membership request pending...":"Demande d'ajout en attente...","You are invited!":"Tu es invit !","All Groups":"Tous les groupes","All Projects":"Tous les projets","Organizations":"Organisations","Create Idea":"Crer ide","People":"Personnes","My Groups":"Mes groupes","My Projects":"Mes projets","Ideas":"Ides","My Ideas":"Mes ides","All Ideas":"Toutes les ides","My Organizations":"Mes organisations","All Organizations":"Toutes les organisations","My Users":"Mes utilisateurs","My Events":"Mes vnements","My Cloud Files":"Mes fichiers Cloud","All Users":"Tous les utilisateurs","All Events":"Tous les vnements","Cloud Files":"Fichiers cloud","Idea":"Ide","Organization":"Organisation","Cloud File":"Fichier cloud","Create User":"Crer utilisateur","Create Event":"Crer vnement","Create Project":"Crer projet","Create Group":"Crer groupe","Create Organization":"Crer lorganisation","Categories":"","SDGS":"SDGS","Search for Names, Topics and Places...":"Rechercher des noms, sujets et lieux...","Search for Names and Topics...":"Rechercher des noms et des sujets...","Where":"O","In map area":"Sur l'aire de la carte","If active, searching will be restricted to the visible map area.":"Si activ, la recherche sera limit  l'aire visible sur la carte.","Apply Filters":"Appliquer les filtres","Clear Filters":"Supprimer les filtres","Street":"Rue","Create idea":"Crer ide","Next":"Suivant","Choose a location for your idea by dragging the marker!":"Choisis un lieu pour ton ide en dplaant et en relchant la souris !","of":"de","No results found.":"Aucun rsultat trouv.","Could not complete the search due to an error.":"La recherche n'a pas pu aboutir  cause d'une erreur.","Search when moving the map":"Rechercher en faisant bouger la carte","Search this area":"Rechercher dans cette zone","Membership Requests":"Demandes d'adhsion","My Groups and Projects":"Mes groupes et projets","Show more Projects of this Group":"Afficher plus de projets de ce groupe","You are not in any groups or projects yet":"Vous ne faites pas encore partie d'un groupe ou d'un projet","Create new Group":"Crer un nouveau groupe","Create new Project":"Crer un nouveau projet","Browse all Groups":"Parcourir tous les groupes","Browse all Projects":"Parcourir tous les projets","You have not created any organizations yet.":"Tu nas encore cr aucune organisation.","Create new Organization":"Crer une nouvelle organisation","Browse all Organizations":"Parcourir toutes les organisations","Search for Organizations":"Rechercher des organisations","Ideas I am following":"Ides que je suis","You are not following any ideas yet.":"Tu ne suis pas encore dides.","Post new Idea":"Publier une nouvelle ide","Browse all Ideas":"Parcourir toutes les ides","Search for Ideas":"Rechercher des ides","You have not RSVPed to any Events.":"Tu n'as rpondu  aucun vnement.","Add Event":"Ajouter un vnement","Go to Calendar":"Aller au calendrier","There was an error loading the widget":"Une erreur est survenue lors du chargement du widget","Notifications":"Notifications","Show more":"Afficher plus","No current notifications":"Pas de notifications actuelles","Find on map:":"","Entire Network":"Tout le rseau","On the Map":"Sur la carte","In my Groups and Projects":"Dans mes groupes et projets","In my Cloud Files":"Dans mes fichiers Cloud","Topic":"Sujet","SDG":"SDG","from":"","You":"Toi","Projects/Groups":"Projets / groupes","No info.":"Pas d'info.","Administrator":"Administrateur","Administrators":"Administrateurs","Administrators unknown":"Administrateurs inconnus","No description yet.":"Pas encore de description.","max.":"max.","You are participating":"Tu participes","Participation request pending...":"Demande de participation en attente...","Participate":"Participer","Contact organizers":"Contacter les organisateurs","You will now receive notifications for content posted.":"Tu recevras dsormais des notifications pour le contenu affich.","If you do not want notifications, click the unfollow button!":"Si tu ne souhaites pas recevoir de notifications, clique sur le bouton de dsabonnement !","Could not save your like setting because of an error.":"Ton paramtre \"j'aime\" n'a pas pu tre enregistr  cause d'une erreur.","Could not save your follow setting because of an error.":"Ton paramtre \"abonn\" n'a pas pu tre enregistr  cause d'une erreur.","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"Choisis un lieu pour ton ide en dplaant et en relchant la souris. Tu pourras changer ce lieu plus tard.","Back to location selection":"Retour  la slection du lieu","Protected Content":"Contenu protg","Sorry, but you cannot view details for this content.":"Dsol, tu ne peux pas voir les dtails pour ce contenu.","This can happen when its visibility settings have changed recently.":"Cela peut se produire quand les paramtres de visibilit ont t changs rcemment.","Please register or log in to continue!":"Inscris-toi ou connecte-toi pour continuer !","Error!":"Erreur !","Sorry, but the requested content could not be retrieved from the server.":"Dsol, le contenu demand n'a pas pu tre rcupr sur le serveur.","Visit Event Page":"Visiter la page de l'vnement","You will now receive notifications for comments or when this event is updated or its details change.":"Tu recevras maintenant des notifications pour les commentaires ou lorsque cet vnement est mis  jour ou que ses dtails changent.","Hidden Users":"Utilisateurs masqus","Hidden User":"Utilisateur masqu","You are a Member":"Tu es membre","Join Group":"Rejoindre groupe","Message Group":"Groupe message","Author":"Auteur","Create Project from Idea":"Crer projet  partir d'une ide","Edit your Idea":"Modifier ton ide","You will receive a notification when a project is created from your liked idea.":"Tu recevras une notification lorsqu'un projet sera cr  partir de l'ide que tu aimes.","Projects - Created from this Idea":"Projets - Crs  partir de cette ide","You are a Admin":"Tu es administrateur","Ownership request pending...":"Demande de proprit en attente...","Projects and groups":"Projets et groupes","Project/group":"Projet / groupe","Open to be contacted about potential collaboration opportunities":"Peut tre contact (e) au sujet d'ventuelles possibilits de collaboration","Does NOT wish to be contacted for potential collaboration!":"Je ne souhaite PAS tre contact (e) pour une ventuelle collaboration ","Join Project":"Rejoindre projet","Message Project":"Projet message","Move up":"Dplacer vers le haut","Move down":"Dplacer vers le bas","There are no items yet":"Il n'y a pas encore d'lments","Items you follow":"lments que tu suis","Nothing here yet.":"Rien ici pour l'instant.","Groups and Projects":"Groupes et projets","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"Tu trouveras ici un aperu de tes groupes et projets une fois que tu seras actif(active) dans un ou plusieurs d'entre eux.","You can create Groups or Projects via the '+' button in the header.":"Tu peux crer des groupes ou des projets en cliquant sur le bouton \"+\" dans l'en-tte.","Ideas I like":"Ides que j'aime","Here you can find an overview of Ideas you have liked.":"Tu trouveras ici un aperu des ides que tu as aimes.","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"Tu peux crer tes propres ides via le bouton \"+\" dans l'en-tte, ou dcouvrir ici des ides dj existantes","Discover":"Dcouvrir","We could not load more data at this time.":"Nous navons pas pu tlcharger plus de donnes pour le moment.","Retry":"Rssayer"},"pl":{"Groups":"Grupy","Like":"Polubienie","Group":"Grupa","Title":"Tytu","Workshops":"Warsztaty","Results":"Wynikw","Participants":"Uczestnicy","Description":"Opis","Project":"Projekt","Topics":"Tematy","Likes":"Polubienia","User":"Uytkownik","Liked":"Polubione","Following":"Nastpujcy/-a","Events":"Wydarzenia","Projects":"Projekty","Members":"Czonkowie","Follow":"led","Event":"Wydarzenie","Report offensive content":"Zgo niedozwolon tre","From":"Od","Until":"Do","website":"strona internetowa","Contact":"Kontakt","Send Message":"Wylij Wiadomo","Invitations":"Zaproszenia","You will now receive notifications for content posted in this project.":"Otrzymasz teraz powiadomienie dotyczce treci zawartej w tym projekcie.","You will now receive notifications for content posted in this group.":"Otrzymasz teraz powiadomienie dotyczce treci zawartej w tej grupie.","Sustainable Development Goals":"Przyjazne dla rodowiska cele rozwoju","Membership request pending...":"Trwa przetwarzanie proby o czonkostwo...","You are invited!":"Zostae/-a zaproszony/-a!","All Groups":"Wszystkie Grupy","All Projects":"Wszystkie Projekty","Organizations":"Organizacje","Create Idea":"Utwrz ide","People":"Ludzie","My Groups":"Moje Grupy","My Projects":"Moje Projekty","Ideas":"Pomysy","My Ideas":"Moje Pomysy","All Ideas":"Wszystkie Pomysy","My Organizations":"Moje organizacje","All Organizations":"Wszystkie organizacje","My Users":"Moi Uytkownicy","My Events":"Moje Wydarzenia","My Cloud Files":"Moje Pliki w Chmurze","All Users":"Wszyscy Uytkownicy","All Events":"Wszystkie Wydarzenia","Cloud Files":"Pliki w Chmurze","Idea":"Idea","Organization":"Organizacja","Cloud File":"Plik w Chmurze","Create User":"Utwrz Uytkownika","Create Event":"Utwrz Wydarzenie","Create Project":"Utwrz Projekt","Create Group":"Utwrz Grup","Create Organization":"Stwrz Organizacj","Categories":"","SDGS":"SDGS","Search for Names, Topics and Places...":"Wyszukaj nazwy, tematy i miejsca...","Search for Names and Topics...":"Wyszukaj Nazwy i Tematy...","Where":"Gdzie","In map area":"W obszarze na mapie","If active, searching will be restricted to the visible map area.":"Jeli aktywne, wyszukiwanie bdzie ograniczone do widocznego obszaru mapy.","Apply Filters":"Zastosuj Filtry","Clear Filters":"Wyczy Filtry","Street":"Ulica","Create idea":"Utwrz ide","Next":"Nastpna","Choose a location for your idea by dragging the marker!":"Wybierz lokalizacj dla swojej idei przesuwajc znacznik na mapie!","of":"z","No results found.":"Nie znaleziono adnych wynikw.","Could not complete the search due to an error.":"Wyszukiwanie nie powiodo si z powodu wystpienia bdu.","Search when moving the map":"Wyszukaj przesuwajc map","Search this area":"Przeszukaj ten obszar","Membership Requests":"Proby o zostanie czonkiem","My Groups and Projects":"Moje Grupy i Projekty","Show more Projects of this Group":"Poka wicej projektw tej grupy","You are not in any groups or projects yet":"Nie jeste jeszcze w adnej grupie ani w adnym projekcie","Create new Group":"Utwrz now Grup","Create new Project":"Utwrz nowy Projekt","Browse all Groups":"Przejrzyj wszystkie Grupy","Browse all Projects":"Przejrzyj wszystkie Projekty","You have not created any organizations yet.":"Nie stworzye/-a jak dotd adnych organizacji.","Create new Organization":"Utwrz now organizacj","Browse all Organizations":"Przejrzyj wszystkie Organizacje","Search for Organizations":"Wyszukiwanie organizacji","Ideas I am following":"Pomysy, ktre ledz","You are not following any ideas yet.":"Nie ledzisz jeszcze adnych idei.","Post new Idea":"Opublikuj now Pomysy","Browse all Ideas":"Przejrzyj wszystkie Pomysy","Search for Ideas":"Szukaj pomysw","You have not RSVPed to any Events.":"Nie masz RSVPed do adnych wydarze.","Add Event":"Dodaj Wydarzenie","Go to Calendar":"Id do kalendarza","There was an error loading the widget":"Podczas adowania widgetu nastpi bd","Notifications":"Powiadomienia","Show more":"Poka wicej","No current notifications":"Brak biecych powiadomie","Find on map:":"","Entire Network":"Cakowita Sie","On the Map":"Na mapie","In my Groups and Projects":"W moich Grupach i Projektach","In my Cloud Files":"W moich Plikach w Chmurze","Topic":"Temat","SDG":"SDG","from":"","You":"Ty","Projects/Groups":"Projekty/Grupy","No info.":"Brak informacji.","Administrator":"Administrator","Administrators":"Administratorzy","Administrators unknown":"Administratorzy nieznani","No description yet.":"Brak jeszcze opisu.","max.":"maks.","You are participating":"Jeste uczestnikiem","Participation request pending...":"Trwa danie uczestnictwa...","Participate":"Uczestnik","Contact organizers":"Kontakt z organizatorami","You will now receive notifications for content posted.":"Otrzymasz teraz powiadomienie dotyczce zawartej treci.","If you do not want notifications, click the unfollow button!":"Jeli nie yczysz sobie otrzymywania powiadomie, kliknij na przycisk \"przesta ledzi\"!","Could not save your like setting because of an error.":"Twoje ustawienia nie mogy zosta zapisane w wyniku wystpienia bdu.","Could not save your follow setting because of an error.":"Twoje ustawienia ledzenia nie mogy zosta zapisane w wyniku wystpienia bdu.","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"Wybierz lokalizacj dla swojej idei przesuwajc i upuszczajc znacznik. Moesz pniej zmieni lokalizacj.","Back to location selection":"Powrt do wyboru lokalizacji","Protected Content":"Zawarto Chroniona","Sorry, but you cannot view details for this content.":"Przepraszamy, ale nie moesz zobaczy szczegw tej treci.","This can happen when its visibility settings have changed recently.":"Przyczyn moe by niedawna zmiana ustawie widocznoci.","Please register or log in to continue!":"Zarejestruj si lub zaloguj by kontynuowa!","Error!":"Bd!","Sorry, but the requested content could not be retrieved from the server.":"Przepraszamy, ale dana tre nie zostaa odnaleziona na serwerze.","Visit Event Page":"Odwied Stron Wydarzenia","You will now receive notifications for comments or when this event is updated or its details change.":"Bdziesz otrzymywa powiadomienia o komentarzach lub gdy to wydarzenie zostanie zaktualizowane albo jego szczegy ulegn zmianie.","Hidden Users":"Ukryci Uytkownicy","Hidden User":"Ukryty Uytkownik","You are a Member":"Jeste Czonkiem","Join Group":"Docz do Grupy","Message Group":"Wylij Wiadomo do Grupy","Author":"Autor","Create Project from Idea":"Utwrz Projekt dla Idei","Edit your Idea":"Edytuj swoj Ide","You will receive a notification when a project is created from your liked idea.":"Otrzymasz powiadomienie, kiedy w ramach polubionej przez Ciebie idei zostanie utworzony projekt.","Projects - Created from this Idea":"Projekty - Utworzone w ramach tej Idei","You are a Admin":"Jeste adminem","Ownership request pending...":"Trwa przetwarzanie proby o wasno...","Projects and groups":"Projekty i grupy","Project/group":"Projekt/grupa","Open to be contacted about potential collaboration opportunities":"Otwrz, aby zosta skontaktowanym z potencjalnymi moliwociami wsppracy","Does NOT wish to be contacted for potential collaboration!":"NIE ycz sobie kontaktu z potencjalnymi wsppracownikami!","Join Project":"Docz do Projektu","Message Project":"Wylij wiadomo do Projektu","Move up":"Przenie do gry","Move down":"Przenie na d","There are no items yet":"Nie ma widocznych elementw","Items you follow":"Pozycje, ktre ledz","Nothing here yet.":"Jeszcze nic tu nie ma.","Groups and Projects":"Grupy i Projekty","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"Tu moesz znale oglny zarys twoich Grup i Projektw gdy bdziesz raz aktywny w jednym lub wicej.","You can create Groups or Projects via the '+' button in the header.":"Moesz zaoy wasne grupy i projekty za pomoc przycisku \"+\" w nagwku.","Ideas I like":"Pomysy, ktre mi si podobaj","Here you can find an overview of Ideas you have liked.":"Tu w przyszoci znajdziesz podgld pomysw, ktre ci si podobaj.","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"Moesz doda wasne pomysy za pomoc przycisku + w nagwku lub przejrze pomysy innych","Discover":"Odkryj","We could not load more data at this time.":"Nie moemy teraz zaadowa wicej danych.","Retry":"Sprbuj ponownie"},"be":{"Groups":"","Like":"","Group":"","Title":"","Workshops":"","Results":"","Participants":"(-)","Description":"","Project":"","Topics":"","Likes":"","User":"(-)","Liked":"","Following":"","Events":"","Projects":"","Members":"","Follow":"","Event":"","Report offensive content":"   ","From":"","Until":"","Contact":"","Send Message":" ","Invitations":"","Sustainable Development Goals":"","Membership request pending...":"     ...","You are invited!":"  !","All Groups":" ","All Projects":" ","Create Idea":" ","People":"","My Groups":" ","My Projects":" ","Ideas":"","My Ideas":" ","All Ideas":" ","My Organizations":"","All Organizations":"","Include contents from other platforms":"","My Users":" (-)","My Events":" ","All Users":" (-)","All Events":" ","Idea":"","Create User":" (-)","Create Event":" ","Create Project":" ","Create Group":" ","Categories":"","SDGS":"","Search for Names, Topics and Places...":" ,   ...","Search for Names and Topics...":"   ...","Where":"","In map area":"   ","If active, searching will be restricted to the visible map area.":" ,      .","Apply Filters":" ","Clear Filters":" ","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":"   ,  !","of":"","No results found.":"  .","Could not complete the search due to an error.":"   - .","Search when moving the map":"   ","Search this area":"   ","You are not in any groups or projects yet":"","Ideas I am following":"","You have not RSVPed to any Events.":"","Go to Calendar":"","Find on map:":"","Entire Network":"","On the Map":"","SDG":"","from":"","You":"","Projects/Groups":"/","No info.":" .","Administrator":"","Administrators":"","Administrators unknown":" ","No description yet.":"  .","max.":"","If you do not want notifications, click the unfollow button!":"     ,    \" \"!","Could not save your like setting because of an error.":"      - .","Could not save your follow setting because of an error.":"      - .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"    ,  .     .","Back to location selection":"   ","Protected Content":" ","Sorry, but you cannot view details for this content.":",        .","This can happen when its visibility settings have changed recently.":"    ,     .","Please register or log in to continue!":" ,   ,  !","Error!":"!","Sorry, but the requested content could not be retrieved from the server.":" ,       .","Visit Event Page":"   ","You will now receive notifications for comments or when this event is updated or its details change.":"     ,          .","Hidden Users":" (-)","Hidden User":" (-)","You are a Member":" ' ","Join Group":"  ","Message Group":"  ","Author":"(-)","Create Project from Idea":"   ","Edit your Idea":"  ","You will receive a notification when a project is created from your liked idea.":"   ,        .","Projects - Created from this Idea":",    ","Open to be contacted about potential collaboration opportunities":"","Does NOT wish to be contacted for potential collaboration!":"","Join Project":"  ","Message Project":"  ","Items you follow":"","Nothing here yet.":"","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"","You can create Groups or Projects via the '+' button in the header.":"","Ideas I like":"","Here you can find an overview of Ideas you have liked.":"","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"","Discover":"","We could not load more data at this time.":"","Retry":""},"es":{"Groups":"Grupos","Group":"Grupo","Title":"Ttulo","Workshops":"","Results":"Resultados","Participants":"Participantes","Description":"Descripcin","Project":"Proyecto","Topics":"Temas","User":"Usario","Following":"Siguiendo","Events":"Eventos","Projects":"Proyectos","Members":"Miembros","Follow":"Seguir","Event":"Evento","Report offensive content":"Informar contenido ofensivo","From":"De","Until":"Hasta","Contact":"Contacto","Send Message":"Enviar mensaje","Invitations":"Invitaciones","Sustainable Development Goals":"","Membership request pending...":"Solicitud de participacin pendiente...","You are invited!":"Estas invitado!","All Groups":"Todos los grupos","All Projects":"Todos los proyectos","Create Idea":"Crear idea","People":"Personas","My Groups":"Mis grupos","My Projects":"Mis proyectos","Ideas":"Ideas","My Ideas":"Mis Ideas","All Ideas":"Todas la ideas","My Organizations":"","All Organizations":"","Include contents from other platforms":"","My Users":"Mis usarios","My Events":"Mis eventos","All Users":"Todos los usarios","All Events":"Todos los eventos","Idea":"Idea","Create User":"Crear usario","Create Event":"Crear evento","Create Project":"Crear proyecto","Create Group":"Crear grupo","Categories":"","SDGS":"","Search for Names, Topics and Places...":"Buscar nombres, temas y lugares...","Search for Names and Topics...":"Buscar nombres y temas...","Where":"Donde","In map area":"En zona de mapa","If active, searching will be restricted to the visible map area.":"Si est activo, la bsqueda se restringir al rea de mapa visible.","Apply Filters":"Aplicar Filtros","Clear Filters":"Limpiar filtros","Street":"Calle","Create idea":"Crear idea","Next":"Prximo","Choose a location for your idea by dragging the marker!":"Elige un lugar para tu idea arrastrando el marcador!","of":"de","No results found.":"No se han encontrado resultados.","Could not complete the search due to an error.":"No se pudo completar la bsqueda debido a un error.","Search when moving the map":"Buscar al mover el mapa","Search this area":"Busca en esta zona","You are not in any groups or projects yet":"","Ideas I am following":"","You have not RSVPed to any Events.":"","Go to Calendar":"","Find on map:":"","Entire Network":"","On the Map":"","SDG":"","from":"","You":"","Projects/Groups":"Proyectos/grupos","No info.":"Ninguna informacin.","Administrator":"Administrador","Administrators":"Administratores","Administrators unknown":"Administratores desconocidos","No description yet.":"An no hay descripcin.","max.":"","If you do not want notifications, click the unfollow button!":"Si no desea notificaciones, haga clic en el botn de dejar de seguir!","Could not save your like setting because of an error.":"No se pudo guardar tu configuracin de me gusta debido a un error.","Could not save your follow setting because of an error.":"No se pudo guardar tu configuracin de seguir debido a un error.","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"Elija una ubicacin para su idea arrastrando y soltando el marcador. Todava puede cambiar esta ubicacin ms adelante.","Back to location selection":"Volver a la seleccin del lugar","Protected Content":"Contenido potejido","Sorry, but you cannot view details for this content.":"Lo sentimos, pero to puedes ver detalles para este comtenido.","This can happen when its visibility settings have changed recently.":"Esto puede suceder cuando su configuracin de visibilidad ha cambiado recientemente.","Please register or log in to continue!":"Por favor regstrate o inicia sesin para continuar!","Error!":"Error!","Visit Event Page":"Visitar pgina de eventos","You will now receive notifications for comments or when this event is updated or its details change.":"Ahora recibirs notificaciones de comentarios o cuando este evento se actualice o sus detalles cambien.","Hidden Users":"Usuarios ocultos","Hidden User":"Usuario ocultos","You are a Member":"Eres un miembro","Join Group":"Participar en el grupo","Message Group":"Mandar un mensaje al grupo","Author":"Autor","Create Project from Idea":"Crear proyecto de la idea","Edit your Idea":"Editar tu idea","You will receive a notification when a project is created from your liked idea.":"Recibirs una notificacin cuando se cree un proyecto de tu idea.","Projects - Created from this Idea":"Proyectos - Creados de esta idea","Open to be contacted about potential collaboration opportunities":"","Does NOT wish to be contacted for potential collaboration!":"","Join Project":"Participar en el proyecto","Message Project":"Mandar un mensaje al proyecto","Items you follow":"","Nothing here yet.":"","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"","You can create Groups or Projects via the '+' button in the header.":"","Ideas I like":"","Here you can find an overview of Ideas you have liked.":"","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"","Discover":"","We could not load more data at this time.":"","Retry":""},"ro":{"Groups":"Grupuri","Like":"Ca","Group":"Grup","Title":"Titlu","Workshops":"Ateliere","Results":"Rezultate","Participants":"Participani","Description":"Descriere","Project":"Proiect","Topics":"Subiecte","Likes":"i place","User":"Utilizator","Liked":"Plcut","Following":"Ca urmare","Events":"Evenimente","Projects":"Proiecte","Members":"Membrii","Follow":"Urmeaz","Event":"Eveniment","Report offensive content":"Raportai coninutul ofensator","From":"Din","Until":"Pn cnd","Contact":"Contact","Send Message":"Trimite mesaj","Invitations":"Invitaii","You will now receive notifications for content posted in this project.":"Acum vei primi notificri pentru coninutul postat n acest proiect.","You will now receive notifications for content posted in this group.":"Acum vei primi notificri pentru coninutul  postat n acest grup.","Sustainable Development Goals":"Obiectivele Dezvoltrii Durabile","Membership request pending...":"Cerere de membru n ateptare...","You are invited!":"Eti invitat!","All Groups":"Toate Grupurile","All Projects":"Toate Proiectele","Organizations":"Organizaii","Create Idea":"Crea Idee","People":"Oameni","My Groups":"Grupurile Mele","My Projects":"Proiectele Mele","Ideas":"Idei","My Ideas":"Ideile Mele","All Ideas":"Toate Ideile","My Organizations":"Organizaiile Mele","All Organizations":"Toate Organizaiile","My Users":"Utilizatorii Mei","My Events":"Evenimentele Mele","All Users":"Toi Utilizatorii","All Events":"Toate Evenimentele","Idea":"Ideea","Organization":"Organizare","Create User":"Creeaz Utilizator","Create Event":"Creeaz Eveniment","Create Project":"Creeaz Proiect","Create Group":"Creeaz Grup","Create Organization":"Creeaz Organizarea","Categories":"","SDGS":"SDGS","Search for Names, Topics and Places...":"Cutai Nume, Subiecte i Locuri...","Search for Names and Topics...":"Cutai Nume i Subiecte...","Where":"Unde","In map area":"n zona hrii","If active, searching will be restricted to the visible map area.":"Dac este activ, cutarea va fi limitat la zona de hart vizibil.","Apply Filters":"Aplicai Filtre","Clear Filters":"tergei Filtrele","Street":"Strada","Create idea":"Crea idee","Next":"Urmtor","Choose a location for your idea by dragging the marker!":"Alegei o locaie pentru ideea dvs. trgnd marcatorul!","of":"de","No results found.":"Nici un rezultat gsit.","Could not complete the search due to an error.":"Nu s-a putut finaliza cutarea din cauza unei erori.","Search when moving the map":"Cutai atunci cnd mutai harta","Search this area":"Cutai n aceast zon","Membership Requests":"Cereri de Membru","My Groups and Projects":"Grupurile i Proiectele mele","Show more Projects of this Group":"Arat mai multe Proiecte ale acestui Grup","You are not in any groups or projects yet":"Nu suntei nc n nici un grup sau proiect","Create new Group":"Creai un Grup nou","Create new Project":"Creai un Proiect nou","Browse all Groups":"Rsfoii toate Grupurile","Browse all Projects":"Rsfoii toate Proiectele","You have not created any organizations yet.":"Nu ai creat nc nicio organizaie.","Create new Organization":"Creai o Organizaie nou","Browse all Organizations":"Rsfoii toate Organizrile","Search for Organizations":"Cutai organizaii","Ideas I am following":"Idei pe care le urmresc","You are not following any ideas yet.":"Nu urmai niciun fel de idei.","Post new Idea":"Posteaz o nou Idee","Browse all Ideas":"Rsfoii toate Ideile","Search for Ideas":"Caut Idei","You have not RSVPed to any Events.":"Nu ai fcut RSVPed la niciun Eveniment.","Add Event":"Adugai eveniment","Go to Calendar":"Accesai Calendar","There was an error loading the widget":"A aprut o eroare la ncrcarea widget-ului","Notifications":"Notificri","Show more":"Afiai mai multe","No current notifications":"Fr notificri actuale","Find on map:":"","Entire Network":"ntreaga Reea","On the Map":"Pe Hart","In my Groups and Projects":"n Grupurile i Proiectele mele","Topic":"Subiect","SDG":"SDG","from":"","You":"Tu","Projects/Groups":"Proiecte/Grupuri","No info.":"Fr informaii.","Administrator":"Administrator","Administrators":"Administratorii","Administrators unknown":"Administratorii necunoscui","No description yet.":"Nici o descriere nc.","max.":"","If you do not want notifications, click the unfollow button!":"Dac nu dorii notificri, facei clic pe butonul de urmrire!","Could not save your like setting because of an error.":"Nu s-a putut salva setarea dvs. similar din cauza unei erori.","Could not save your follow setting because of an error.":"Nu s-a putut salva setarea de urmrire din cauza unei erori.","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"Alegei o locaie pentru ideea dvs. trgnd & aruncnd marcajul. Putei schimba aceast locaie ulterior.","Back to location selection":"napoi la selecia locaiei","Protected Content":"Coninutul Protejat","Sorry, but you cannot view details for this content.":"Scuze, dar nu putei vedea detalii pentru acest coninut.","This can happen when its visibility settings have changed recently.":"Acest lucru se poate ntmpla atunci cnd setrile sale de vizibilitate s-au schimbat recent.","Please register or log in to continue!":"V rugm s v nregistrai sau s v autentificai pentru a continua!","Error!":"Eroare!","Sorry, but the requested content could not be retrieved from the server.":"Scuz, dar coninutul solicitat nu a putut fi preluat de pe server.","Visit Event Page":"Accesai Pagina de Evenimente","You will now receive notifications for comments or when this event is updated or its details change.":"A cum vei primi notificri pentru comentarii sau cnd acest eveniment este actualizat sau detaliile sale se schimb.","Hidden Users":"Utilizatorii ascuni","Hidden User":"Utilizator ascuns","You are a Member":"Suntei membru","Join Group":"Alturai-v Grupului","Message Group":"Grup de Mesaje","Author":"Autor","Create Project from Idea":"Creai Proiect din Idea","Edit your Idea":"Editeaz-i Ideea","You will receive a notification when a project is created from your liked idea.":"Vei primi o notificare atunci cnd un proiect este creat din ideea dvs. preferat.","Projects - Created from this Idea":"Proiecte - Create din aceast Idee","You are a Admin":"Suntei un Administrator","Open to be contacted about potential collaboration opportunities":"Deschis pentru a fi contactat cu privire la oportunitile de colaborare poteniale","Does NOT wish to be contacted for potential collaboration!":"Nu dorete s fie contactat pentru o colaborare potenial!","Join Project":"Alturai-v Proiectului","Message Project":"Proiect de Mesaje","Move up":"Mut n sus","Move down":"Mut n jos","There are no items yet":"Nu exist articole nc","Nothing here yet.":"","Groups and Projects":"Grupuri i Proiecte","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"Aici putei gsi o imagine de ansamblu asupra Grupurilor i Proiectelor dvs. odat ce ai activat ntr-unul sau mai multe dintre acestea.","You can create Groups or Projects via the '+' button in the header.":"Putei crea Grupuri sau Proiecte prin intermediul '+' buton n antet.","Ideas I like":"Idei mi plac","Here you can find an overview of Ideas you have liked.":"Aici putei gsi o imagine o imagine de ansamblu a Ideilor care v-au plcut.","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"Putei s v creai propriile Idei cu ajutorul butonului '+' din antet sau putei descoperi Idei existente aici","Discover":"Descoperi","We could not load more data at this time.":"Nu am putut ncrca mai multe date n acest moment.","Retry":"Rencercare"},"nl":{"Groups":"Groepen","Like":"Vind ik leuk","Group":"Groep","Title":"Titel","Workshops":"Workshops","Results":"Resultaten","Participants":"Deelnemers","Description":"Beschrijving","Project":"Project","Topics":"Onderwerpen","Likes":"Likes","User":"Gebruiker","Liked":"Ge-liked","Following":"Volgend","Events":"Evenementen","Projects":"Projecten","Members":"Leden","Follow":"Volgen","Event":"Evenement","Report offensive content":"Aanstootgevende inhoud melden","From":"Van","Until":"Tot","Contact":"Contact","Send Message":"Bericht versturen","Invitations":"Uitnodigingen","You will now receive notifications for content posted in this project.":"Je ontvangt nu meldingen wanneer inhoud in dit project wordt geplaatst.","You will now receive notifications for content posted in this group.":"Je ontvangt nu meldingen wanneer inhoud in deze groep wordt geplaatst.","Sustainable Development Goals":"Doelstellingen duurzame ontwikeling","Membership request pending...":"Lidmaatschapsverzoek in behandeling","You are invited!":"Je bent uitgenodigd!","All Groups":"Alle groepen","All Projects":"Alle projecten","Organizations":"Organisaties","Create Idea":"Idee aanmaken","People":"Mensen","My Groups":"Mijn groepen","My Projects":"Mijn projecten","Ideas":"Ideen","My Ideas":"Mijn ideen","All Ideas":"Alle ideen","My Organizations":"Mijn organisaties","All Organizations":"Alle organisaties","My Users":"Mijn gebruikers","My Events":"Mijn evenementen","All Users":"Alle gebruikers","All Events":"Alle evenementen","Idea":"Idee","Organization":"Organisatie","Create User":"Gebruiker aanmaken","Create Event":"Evenement aanmaken","Create Project":"Project aanmaken","Create Group":"Groep aanmaken","Create Organization":"Organisatie aanmaken","Categories":"","SDGS":"SDGS","Search for Names, Topics and Places...":"Zoeken naar namen, onderwerpen en plaatsen","Search for Names and Topics...":"Zoeken naar namen en onderwerpen","Where":"Waar","In map area":"In kaartgebied","If active, searching will be restricted to the visible map area.":"Indien actief, wordt zoeken beperkt tot het zichtbare kaartgebied.","Apply Filters":"Filters toepassen","Clear Filters":"Filters wissen","Street":"Straat","Create idea":"Idee aanmaken","Next":"Volgende","Choose a location for your idea by dragging the marker!":"Kies een locatie voor je idee door de markering te slepen!","of":"uit","No results found.":"Geen resultaten gevonden.","Could not complete the search due to an error.":"Kan de zoekopdracht niet voltooien vanwege een fout.","Search when moving the map":"Zoeken door het verplaatsen van de kaart","Search this area":"Zoeken in dit gebied","Membership Requests":"Lidmaatschapsverzoek","My Groups and Projects":"Mijn groepen en projecten","Show more Projects of this Group":"Toon meer projecten van deze groep","You are not in any groups or projects yet":"Je zit nog niet in groepen of projecten","Create new Group":"Nieuwe groep aanmaken","Create new Project":"Nieuw project aanmaken","Browse all Groups":"Blader door alle groepen","Browse all Projects":"Blader door alle projecten","You have not created any organizations yet.":"Je hebt niet ge-RSVPED op evenementen.","Create new Organization":"Nieuwe organisatie aanmaken","Browse all Organizations":"Blader door alle organisaties","Search for Organizations":"Zoek naar organisaties","Ideas I am following":"Ideen die ik volg","You are not following any ideas yet.":"Je volgt nog geen ideen.","Post new Idea":"Nieuw idee posten","Browse all Ideas":"Blader door alle ideen","Search for Ideas":"Zoek naar ideen","You have not RSVPed to any Events.":"Je hebt niet ge-RSVPED op evenementen.","Add Event":"Evenement toevoegen","Go to Calendar":"Ga naar kalender","There was an error loading the widget":"Er is een fout opgetreden bij het laden van de widget","Notifications":"Notificaties","Show more":"Toon meer","No current notifications":"Momenteel geen notificaties","Find on map:":"","Entire Network":"Volledig netwerk","On the Map":"Op de kaart","In my Groups and Projects":"In mijn groepen en projecten","Topic":"Onderwerp","SDG":"SDG","from":"","You":"Jij","Projects/Groups":"Projecten/groepen","No info.":"Geen informatie.","Administrator":"Beheerder","Administrators":"Beheerders","Administrators unknown":"Beheerders onbekend","No description yet.":"Nog geen beschrijving.","max.":"","If you do not want notifications, click the unfollow button!":"Als je geen meldingen wilt ontvangen, klik je op de knop niet meer volgen!","Could not save your like setting because of an error.":"Kan je like-instelling niet opslaan vanwege een fout.","Could not save your follow setting because of an error.":"Kan je volginstelling niet opslaan vanwege een fout.","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"Kies een locatie voor je idee door de markering te slepen en neer te zetten. Je kunt deze locatie later nog wijzigen.","Back to location selection":"Terug naar locatie selectie","Protected Content":"Beschermde inhoud","Sorry, but you cannot view details for this content.":"Sorry, je kunt geen details bekijken voor deze inhoud.","This can happen when its visibility settings have changed recently.":"Dit kan gebeuren wanneer de zichtbaarheidsinstellingen onlangs zijn gewijzigd.","Please register or log in to continue!":"Registreer of log in om door te gaan!","Error!":"Foutmelding!","Sorry, but the requested content could not be retrieved from the server.":"Sorry, de gevraagde inhoud kon helaas niet worden opgehaald van de server.","Visit Event Page":"Bezoek evenementenpagina","You will now receive notifications for comments or when this event is updated or its details change.":"Je ontvangt nu meldingen voor reacties of wanneer dit evenement wordt bijgewerkt of de details ervan veranderen.","Hidden Users":"Verborgen gebruikers","Hidden User":"Verborgen gebruiker","You are a Member":"Je bent lid","Join Group":"Deelnemen aan groep","Message Group":"Bericht sturen aan groep","Author":"Auteur","Create Project from Idea":"Maak project aan van idee","Edit your Idea":"Wijzig je idee","You will receive a notification when a project is created from your liked idea.":"Je ontvangt een melding wanneer een project wordt gemaakt op basis van je idee.","Projects - Created from this Idea":"Projecten - gemaakt van dit idee","You are a Admin":"Je bent beheerder","Open to be contacted about potential collaboration opportunities":"Open om gecontacteerd te worden over mogelijke samenwerkingsmogelijkheden","Does NOT wish to be contacted for potential collaboration!":"Wenst NIET gecontacteerd te worden voor mogelijke samenwerking!","Join Project":"Meedoen aan project","Message Project":"Bericht project","Move up":"Omhoog","Move down":"Omlaag","There are no items yet":"Er zijn nog geen items","Nothing here yet.":"","Groups and Projects":"Groepen en projecten","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"Hier vind je een overzicht van je groepen en projecten zodra je in een of meer actief wordt.","You can create Groups or Projects via the '+' button in the header.":"Je kunt groepen of projecten maken via de knop + in de header.","Ideas I like":"Ideen die ik leuk vind","Here you can find an overview of Ideas you have liked.":"Hier vind je een overzicht van ideen die je leuk vindt.","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"Je kunt je eigen ideen maken via de knop + in de header of je kunt hier bestaande ideen ontdekken","Discover":"Ontdekken","We could not load more data at this time.":"We kunnen momenteel geen gegevens meer laden.","Retry":"Opnieuw proberen"},"az":{"Groups":"Qruplar","Like":"Bynm","Group":"Qrup","Title":"Balq","Workshops":"","Results":"Nticlr","Participants":"tiraklar","Description":"Tsvir","Project":"Layih","Topics":"Mvzular","Likes":"Bynmlr","User":"stifadi","Liked":"Bynilmilr","Following":"Aadak","Events":"Tdbirlr","Projects":"Layihlr","Members":"zvlr","Follow":"zl","Event":"Tdbir","Report offensive content":"Thqiramiz mzmunu bildirin","From":"Dan/dn","Until":"Qdr","Contact":"laq","Send Message":"Mesaj Gndrin","Invitations":"Dvtlr","You will now receive notifications for content posted in this project.":"ndi bu layihd yerldiriln mzmun n bildirilr alacaqsnz.","You will now receive notifications for content posted in this group.":"ndi bu qrupda yerldiriln mzmun n bildirilr alacaqsnz.","Sustainable Development Goals":"","Membership request pending...":"zvlk tlbi gzlyir...","You are invited!":"Siz dvtlisiniz!","All Groups":"Btn qruplar","All Projects":"Btn layihlr","Create Idea":"dea Yaradn","People":"nsanlar","My Groups":"Mnim Qrupum","My Projects":"Mnim layihlrim","Ideas":"deyalar","My Ideas":"Mnim deyalarm","All Ideas":"Btn deyalar","My Organizations":"","All Organizations":"","Include contents from other platforms":"","My Users":"stifadilrim","My Events":"Tdbirlrim","All Users":"Btn istifadilr","All Events":"Btn Tdbirlr","Idea":"deya","Create User":"stifadi Yaradn","Create Event":"Tdbir Yaradn","Create Project":"Layih Yaradn","Create Group":"Qrup Yaradn","Categories":"","SDGS":"","Search for Names, Topics and Places...":"Adlar, mvzular v Yerlr n axtar...","Search for Names and Topics...":"Adlar v mvzular n axtar...","Where":"Hara","In map area":"Xrit blgsind","If active, searching will be restricted to the visible map area.":"Aktiv olduqda, grnn xrit sahsi il mhdudlaacaqdr.","Apply Filters":"Filtrlr ttbiq edin","Clear Filters":"Filtrlri tmizlyin","Street":"K","Create idea":"dea Yaradn","Next":"Nvbti","Choose a location for your idea by dragging the marker!":"Markeri srdrrk ideyanz n bir dislokasiya sein!","of":"n/in/n/un","No results found.":"He bir ntic taplmad.","Could not complete the search due to an error.":"Shv sbbindn axtar baa atdrla bilmdi.","Search when moving the map":"Xritni hrkt edrkn axtarn","Search this area":"Bu razini aradrn","Membership Requests":"zvlk stklri","My Groups and Projects":"Qruplarm v Layihlrim","Show more Projects of this Group":"Bu Qrupun Layihlrini daha ox gstr","You are not in any groups or projects yet":"Hl he bir qrupda v ya layihd deyilsiniz","Create new Group":"Yeni Qrup Yaradn","Create new Project":"Yeni Layih Yaradn","Browse all Groups":"Btn Qruplar gstrin","Browse all Projects":"Btn Layihlri gstrin","Ideas I am following":"zldiyim deyalar","You are not following any ideas yet.":"Hl he bir ideya izlmirsiniz.","Post new Idea":"Yeni deya gndrin","Browse all Ideas":"Btn deyalar gstrin","Search for Ideas":"deyalar n Axtar","You have not RSVPed to any Events.":"He bir Tdbir dvtin cavab vermmisiniz.","Add Event":"Tdbir lav et","Go to Calendar":"Tqvim get","There was an error loading the widget":"Widjet yklnrkn xta ba verdi","Notifications":"Bildirilr","Show more":"Daha ox gstr","No current notifications":"Cari bildiri yoxdur","Find on map:":"","Entire Network":"Btn bk","On the Map":"Xritd","In my Groups and Projects":"In my Groups and Projects","Topic":"Mvzu","SDG":"","from":"","You":"Sn","Projects/Groups":"Layihlr/Qruplar","No info.":"Mlumat yoxdur.","Administrator":"Admin","Administrators":"Adminlr","Administrators unknown":"Namlum adminlr","No description yet.":"Hl tsvir yoxdur.","max.":"","If you do not want notifications, click the unfollow button!":"Bildirilr almaq istmirsinizs, izlmni dayandr dymsin kliklyin!","Could not save your like setting because of an error.":"Xta sbbindn bynm parametrinizi yaddada saxlaya bilmdik.","Could not save your follow setting because of an error.":"Xta sbbindn izlm parametrinizi yaddada saxlaya bilmdik.","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"Markeri sryb ataraq ideyalarnz n bir dislokasiya sein. Daha sonra bu yeri dyi bilrsiniz.","Back to location selection":"Dislokasiya seimin qayt","Protected Content":"Qorunan Mzmun","Sorry, but you cannot view details for this content.":"Balayn, lakin bu mzmun n tfrratlar gr bilmzsiniz.","This can happen when its visibility settings have changed recently.":"Grm parametrlri yaxn zamanda dyidikd bu ba ver bilr.","Please register or log in to continue!":"Xahi edirm qeydiyyatdan kein v ya davam etmk n daxil olun!","Error!":"Xta!","Sorry, but the requested content could not be retrieved from the server.":"Balayn, ancaq tlb olunan mzmunu serverdn almaq mmkn olmad.","Visit Event Page":"Tdbir Shifsin ba kin","You will now receive notifications for comments or when this event is updated or its details change.":"ndi rhlr n v ya bu tdbir yenilndikd v ya detallar dyidikd bildirilr alacaqsnz.","Hidden Users":"Gizli stifadilr","Hidden User":"Gizli stifadi","You are a Member":"Siz zvsnz","Join Group":"Qrupa Qoulun","Message Group":"Qrupa Mesaj yaz","Author":"Mllif","Create Project from Idea":"deayadan Layih Yaradn","Edit your Idea":"deaynz redakt edin","You will receive a notification when a project is created from your liked idea.":"Byndiyiniz ideyalardan bir layih yaradldqda bir bildiri alacaqsnz.","Projects - Created from this Idea":"Layihlr - Bu deyadan yaradlb","Open to be contacted about potential collaboration opportunities":"Potensial mkdalq imkanlar n laq qurmaa aq olun","Does NOT wish to be contacted for potential collaboration!":"Potensial mkdalq n laq qurmaq STMR!","Join Project":"Layihy qoulun","Message Project":"Layihy Mesaj yaz","Move up":"Yuxarya doru hrkt edin","Move down":"Aaya doru hrkt edin","There are no items yet":"Hllik yalar yoxdur","Nothing here yet.":"","Groups and Projects":"Qruplar v Layihlr","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"Qruplarnz v Layihlrinizin icmaln bunlardan birind v ya bir nesind fal olduqdan sonra tapa bilrsiniz.","You can create Groups or Projects via the '+' button in the header.":"Balqdak '+' dymsin vasitsil Qruplar v ya Layihlr yarada bilrsiniz.","Ideas I like":"Byndiyim ideyalar","Here you can find an overview of Ideas you have liked.":"Burada byndiyiniz ideyalarn mumi icmaln tapa bilrsiniz.","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"Balqdak '+' dymsin il z deyalarnz yarada bilrsiniz v ya mvcud deyalar burada akar ed bilrsiniz","Discover":"Akar etmk","We could not load more data at this time.":"Bu anda daha ox mlumat ykly bilmdik.","Retry":"Yenidn chd edin"},"hy":{"Groups":"","Like":"","Group":"","Title":"","Workshops":"","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"","Liked":"","Following":" ","Events":"","Projects":"","Members":"","Follow":"","Event":"","Report offensive content":"   ","From":"","Until":"","Contact":"","Send Message":" ","Invitations":"","You will now receive notifications for content posted in this project.":"        .","You will now receive notifications for content posted in this group.":"        .","Sustainable Development Goals":"","Membership request pending...":"     ...","You are invited!":"  !","All Groups":" ","All Projects":" ","Create Idea":" ","People":"","My Groups":" ","My Projects":" ","Ideas":"","My Ideas":" ","All Ideas":" ","My Organizations":"","All Organizations":"","Include contents from other platforms":"","My Users":" ","My Events":" ","All Users":" ","All Events":" ","Idea":"","Create User":" ","Create Event":" ","Create Project":" ","Create Group":" ","Categories":"","SDGS":"","Search for Names, Topics and Places...":" ,    ...","Search for Names and Topics...":"    ...","Where":"","In map area":" ","If active, searching will be restricted to the visible map area.":"       .","Apply Filters":" ","Clear Filters":" ","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":"      !","of":"-","No results found.":"    .","Could not complete the search due to an error.":"    .","Search when moving the map":"  ","Search this area":"  ","Membership Requests":" ","My Groups and Projects":"   ","Show more Projects of this Group":"     ","You are not in any groups or projects yet":"       ","Create new Group":"  ","Create new Project":"  ","Browse all Groups":"  ","Browse all Projects":"  ","Ideas I am following":",    ","You are not following any ideas yet.":"      .","Post new Idea":"  ","Browse all Ideas":"  ","Search for Ideas":" ","You have not RSVPed to any Events.":"   RSVP  .","Add Event":" ","Go to Calendar":" ","There was an error loading the widget":"    ","Notifications":"","Show more":" ","No current notifications":"  ","Find on map:":"","Entire Network":" ","On the Map":" ","In my Groups and Projects":"  / ","Topic":"","SDG":"","from":"","You":"","Projects/Groups":" / ","No info.":" .","Administrator":"","Administrators":"","Administrators unknown":"  ","No description yet.":"  .","max.":"","If you do not want notifications, click the unfollow button!":"     ,  unfollow !","Could not save your like setting because of an error.":"     .","Could not save your follow setting because of an error.":"     .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"       :          .","Back to location selection":"   ","Protected Content":" ","Sorry, but you cannot view details for this content.":",        .","This can happen when its visibility settings have changed recently.":"      ,        .","Please register or log in to continue!":"        !","Error!":"!","Sorry, but the requested content could not be retrieved from the server.":",       .","Visit Event Page":"  ","You will now receive notifications for comments or when this event is updated or its details change.":"     ,         .","Hidden Users":" ","Hidden User":" ","You are a Member":"  ","Join Group":" ","Message Group":"  ","Author":"","Create Project from Idea":"  ","Edit your Idea":"  ","You will receive a notification when a project is created from your liked idea.":"  ,      .","Projects - Created from this Idea":" -   ","Open to be contacted about potential collaboration opportunities":"     ","Does NOT wish to be contacted for potential collaboration!":"     !","Join Project":" ","Message Project":" ","Move up":"","Move down":"","There are no items yet":"  ","Nothing here yet.":"","Groups and Projects":"  ","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"                  .","You can create Groups or Projects via the '+' button in the header.":"         '+'  .","Ideas I like":"  ","Here you can find an overview of Ideas you have liked.":"       .","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"          +        ","Discover":"","We could not load more data at this time.":"       .","Retry":" "},"ka":{"Groups":"","Like":"","Group":"","Title":"","Workshops":"","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"","Liked":"","Following":"","Events":"","Projects":"","Members":"","Follow":" ","Event":"","Report offensive content":"  ","From":"","Until":"","Contact":"","Send Message":" ","Invitations":"","You will now receive notifications for content posted in this project.":"       .","You will now receive notifications for content posted in this group.":"       .","Sustainable Development Goals":"","Membership request pending...":"  ...","You are invited!":"  !","All Groups":" ","All Projects":" ","Create Idea":" ","People":"","My Groups":" ","My Projects":" ","Ideas":"","My Ideas":" ","All Ideas":" ","My Organizations":"","All Organizations":"","Include contents from other platforms":"","My Users":" ","My Events":" ","All Users":" ","All Events":" ","Idea":"","Create User":" ","Create Event":" ","Create Project":" ","Create Group":" ","Categories":"","SDGS":"","Search for Names, Topics and Places...":",    ...","Search for Names and Topics...":"   ...","Where":"","In map area":" ","If active, searching will be restricted to the visible map area.":" ,      .","Apply Filters":" ","Clear Filters":" ","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":"      !","No results found.":"  .","Could not complete the search due to an error.":"     .","Search when moving the map":"  ","Search this area":"  ","Membership Requests":" ","My Groups and Projects":"   ","Show more Projects of this Group":"    ","You are not in any groups or projects yet":"       ","Create new Group":"  ","Create new Project":"  ","Browse all Groups":"  ","Browse all Projects":"  ","Ideas I am following":"   ","You are not following any ideas yet.":"     .","Post new Idea":"  ","Browse all Ideas":"  ","Search for Ideas":" ","You have not RSVPed to any Events.":"   RSVPed  .","Add Event":" ","Go to Calendar":" ","There was an error loading the widget":"   ","Notifications":"","Show more":" ","No current notifications":" ","Find on map:":"","Entire Network":" ","On the Map":"","In my Groups and Projects":"   ","Topic":"","SDG":"","from":"","You":"","Projects/Groups":"/","No info.":"  .","Administrator":"","Administrators":"","Administrators unknown":"   ","No description yet.":"   .","max.":"","If you do not want notifications, click the unfollow button!":"    ,    !","Could not save your like setting because of an error.":" ,      .","Could not save your follow setting because of an error.":" ,      .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"      .     .","Back to location selection":"  ","Protected Content":" ","Sorry, but you cannot view details for this content.":" ,        .","This can happen when its visibility settings have changed recently.":"  ,       .","Please register or log in to continue!":",    !","Error!":"!","Sorry, but the requested content could not be retrieved from the server.":" ,     .","Visit Event Page":"  ","You will now receive notifications for comments or when this event is updated or its details change.":"    . ,        .","Hidden Users":" ","Hidden User":" ","You are a Member":"  ","Join Group":" ","Message Group":"  ","Author":"","Create Project from Idea":"  ","Edit your Idea":"  ","You will receive a notification when a project is created from your liked idea.":"  ,       .","Projects - Created from this Idea":" -   ","Open to be contacted about potential collaboration opportunities":",      ","Does NOT wish to be contacted for potential collaboration!":"    !","Join Project":" ","Message Project":"  ","Move up":"","Move down":"","There are no items yet":"   ","Nothing here yet.":"","Groups and Projects":"  ","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"       ,      -  .","You can create Groups or Projects via the '+' button in the header.":"      '+'   .","Ideas I like":",   ","Here you can find an overview of Ideas you have liked.":"       .","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"      '+'       ","Discover":"","We could not load more data at this time.":"      .","Retry":""},"kk":{"Groups":"","Like":"","Group":"","Title":"","Workshops":"","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"","Liked":"","Following":"","Events":"","Projects":"","Members":"","Follow":"","Event":"","Report offensive content":" ","From":"","Until":"","Contact":"","Send Message":"X ","Invitations":"","You will now receive notifications for content posted in this project.":"       .","You will now receive notifications for content posted in this group.":"       .","Sustainable Development Goals":"","Membership request pending...":"  .","You are invited!":" !","All Groups":" ","All Projects":" ","Create Idea":" ","People":"","My Groups":" ","My Projects":" ","Ideas":"","My Ideas":" ","All Ideas":" ","My Organizations":"","All Organizations":"","Include contents from other platforms":"","My Users":" ","My Events":" ","All Users":" ","All Events":" ","Idea":"","Create User":" ","Create Event":" ","Create Project":" ","Create Group":" ","Categories":"","SDGS":"","Search for Names, Topics and Places...":",    .","Search for Names and Topics...":"   .","Where":"","In map area":"","If active, searching will be restricted to the visible map area.":" ,     .","Apply Filters":" ","Clear Filters":"  ","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":" ,    !","of":"","No results found.":" .","Could not complete the search due to an error.":"     .","Search when moving the map":"  ","Search this area":"  ","Membership Requests":" ","My Groups and Projects":"   ","Show more Projects of this Group":"    ","You are not in any groups or projects yet":"      ","Create new Group":"  ","Create new Project":"  ","Browse all Groups":"  ","Browse all Projects":"  ","Ideas I am following":"  ","You are not following any ideas yet.":"    .","Post new Idea":"  ","Browse all Ideas":"  ","Search for Ideas":" ","You have not RSVPed to any Events.":"    .","Add Event":" ","Go to Calendar":" ","There was an error loading the widget":"     ","Notifications":"","Show more":" ","No current notifications":" ","Find on map:":"","Entire Network":" ","On the Map":"","In my Groups and Projects":"   ","Topic":"","SDG":"","from":"","You":"","Projects/Groups":"/","No info.":" .","Administrator":"","Administrators":"","Administrators unknown":" ","No description yet.":" .","max.":"","If you do not want notifications, click the unfollow button!":"    ,    !","Could not save your like setting because of an error.":" ,     .","Could not save your follow setting because of an error.":"      .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"       .      .","Back to location selection":"  ","Protected Content":" ","Sorry, but you cannot view details for this content.":",        .","This can happen when its visibility settings have changed recently.":"         .","Please register or log in to continue!":"    !","Error!":"!","Sorry, but the requested content could not be retrieved from the server.":",      .","Visit Event Page":" ","You will now receive notifications for comments or when this event is updated or its details change.":"              .","Hidden Users":" ","Hidden User":" ","You are a Member":" ","Join Group":" ","Message Group":"  ","Author":"","Create Project from Idea":"  ","Edit your Idea":" ","You will receive a notification when a project is created from your liked idea.":"        .","Projects - Created from this Idea":" -   ","Open to be contacted about potential collaboration opportunities":"     ","Does NOT wish to be contacted for potential collaboration!":"    !","Join Project":" ","Message Project":"  ","Move up":" ","Move down":" ","There are no items yet":"    ","Nothing here yet.":"","Groups and Projects":"  ","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"             .","You can create Groups or Projects via the '+' button in the header.":" +        .","Ideas I like":"  ","Here you can find an overview of Ideas you have liked.":"      .","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":" +             ","Discover":" ","We could not load more data at this time.":"      .","Retry":""},"he":{"Groups":"","Like":"","Group":"","Title":"","Workshops":"","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"","Liked":"","Following":"","Events":"","Projects":"","Members":"","Follow":"","Event":"","Report offensive content":"   ","From":"","Until":"","website":" ","Contact":"  ","Send Message":" ","Invitations":"","You will now receive notifications for content posted in this project.":"       .","You will now receive notifications for content posted in this group.":"       .","Sustainable Development Goals":"   ","Membership request pending...":"  ...","You are invited!":"!","All Groups":" ","All Projects":" ","Organizations":"","Create Idea":" ","People":"","My Groups":" ","My Projects":" ","Ideas":"","My Ideas":" ","All Ideas":" ","My Organizations":" ","All Organizations":" ","My Users":" ","My Events":" ","My Cloud Files":"  ","All Users":" ","All Events":" ","Cloud Files":" ","Idea":"","Organization":"","Cloud File":" ","Create User":" ","Create Event":" ","Create Project":" ","Create Group":" ","Create Organization":" ","Categories":"","SDGS":"   ","Search for Names, Topics and Places...":" ,  ...","Search for Names and Topics...":"  ...","Where":"","In map area":" ","If active, searching will be restricted to the visible map area.":"  ,      .","Apply Filters":" ","Clear Filters":" ","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":"     -  !","of":"","No results found.":"  .","Could not complete the search due to an error.":"       .","Search when moving the map":"   ","Search this area":"  ","Membership Requests":" ","My Groups and Projects":"  ","Show more Projects of this Group":"     ","You are not in any groups or projects yet":"       ","Create new Group":"  ","Create new Project":"  ","Browse all Groups":"  ","Browse all Projects":"  ","You have not created any organizations yet.":"  .","Create new Organization":"  ","Browse all Organizations":"  ","Search for Organizations":" ","Ideas I am following":"   ","You are not following any ideas yet.":"     .","Post new Idea":"  ","Browse all Ideas":"  ","Search for Ideas":" ","You have not RSVPed to any Events.":"  RSVPed  .","Add Event":" ","Go to Calendar":"   ","There was an error loading the widget":"   ","Notifications":"","Show more":" ","No current notifications":" ","Find on map:":"","Entire Network":" ","On the Map":" ","In my Groups and Projects":"  ","In my Cloud Files":"  ","Topic":"","SDG":"   ","from":"","You":"/","Projects/Groups":"/","No info.":" .","Administrator":" ","Administrators":" ","Administrators unknown":"   ","No description yet.":"  .","max.":".","You are participating":"  ","Participation request pending...":"  ...","Participate":"","Contact organizers":"   ","You will now receive notifications for content posted.":"     .","If you do not want notifications, click the unfollow button!":"    ,     !","Could not save your like setting because of an error.":"      -like   .","Could not save your follow setting because of an error.":"        .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"     -   .       .","Back to location selection":"  ","Protected Content":" ","Sorry, but you cannot view details for this content.":",       .","This can happen when its visibility settings have changed recently.":"        .","Please register or log in to continue!":"     !","Error!":"!","Sorry, but the requested content could not be retrieved from the server.":",         .","Visit Event Page":"  ","You will now receive notifications for comments or when this event is updated or its details change.":"    ,    .","Hidden Users":" ","Hidden User":" ","You are a Member":" ","Join Group":" ","Message Group":"  ","Author":"","Create Project from Idea":"  ","Edit your Idea":"   ","You will receive a notification when a project is created from your liked idea.":"      .","Projects - Created from this Idea":"   ","You are a Admin":"  ","Ownership request pending...":"  ...","Projects and groups":" ","Project/group":"/","Open to be contacted about potential collaboration opportunities":"       ","Does NOT wish to be contacted for potential collaboration!":"        !","Join Project":" ","Message Project":"/  ","Move up":" ","Move down":" ","There are no items yet":"  ","Items you follow":"   ","Nothing here yet.":"  .","Groups and Projects":" ","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"              .","You can create Groups or Projects via the '+' button in the header.":"       '+'  .","Ideas I like":"  /","Here you can find an overview of Ideas you have liked.":"       .","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"      '+'       ","Discover":"/","We could not load more data at this time.":"        .","Retry":" "},"ar":{"Groups":"","Like":"","Group":"","Title":"","Workshops":" ","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"","Events":"","Projects":"","Members":"","Follow":"","Event":"","Report offensive content":"   ","From":"","Until":"","Contact":"","Send Message":" ","Invitations":"","You will now receive notifications for content posted in this project.":"       .","You will now receive notifications for content posted in this group.":"       .","Sustainable Development Goals":"  ","Membership request pending...":"  ...","You are invited!":" !","All Groups":" ","All Projects":" ","Organizations":"","Create Idea":" ","People":"","My Groups":"","My Projects":"","Ideas":"","My Ideas":"","All Ideas":" ","My Organizations":"","All Organizations":" ","My Users":" ","My Events":" ","My Cloud Files":"  ","All Users":" ","All Events":" ","Cloud Files":" ","Idea":"","Organization":"","Cloud File":" ","Create User":" ","Create Event":" ","Create Project":" ","Create Group":" ","Create Organization":" ","Categories":"","SDGS":"   SDGS","Search for Names, Topics and Places...":"    ...","Search for Names and Topics...":"   ...","Where":"","In map area":"  ","If active, searching will be restricted to the visible map area.":"        .","Apply Filters":"   ","Clear Filters":"   ","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":"      !","of":"","No results found.":"    .","Could not complete the search due to an error.":"    .","Search when moving the map":"   ","Search this area":"   ","Membership Requests":" ","My Groups and Projects":" ","Show more Projects of this Group":"     ","You are not in any groups or projects yet":"        ","Create new Group":"  ","Create new Project":"  ","Browse all Groups":"  ","Browse all Projects":"  ","You have not created any organizations yet.":"        .","Create new Organization":"  ","Browse all Organizations":"  ","Search for Organizations":"  ","Ideas I am following":"  ","You are not following any ideas yet.":"      .","Post new Idea":"  ","Browse all Ideas":"  ","Search for Ideas":"  ","You have not RSVPed to any Events.":"        .","Add Event":" ","Go to Calendar":"  ","There was an error loading the widget":"    ","Notifications":"","Show more":" ","No current notifications":"   ","Find on map:":"","Entire Network":" ","On the Map":" ","In my Groups and Projects":"  ","In my Cloud Files":"   ","Topic":"","SDG":"   SDG","from":"","You":"","Projects/Groups":"/","No info.":" .","Administrator":"","Administrators":"","Administrators unknown":"  ","No description yet.":"    .","max.":"","You are participating":" ","Participation request pending...":"  ...","Participate":"","Contact organizers":" ","You will now receive notifications for content posted.":"       .","If you do not want notifications, click the unfollow button!":"         !","Could not save your like setting because of an error.":"       .","Could not save your follow setting because of an error.":"     .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"       .       .","Back to location selection":"   ","Protected Content":" ","Sorry, but you cannot view details for this content.":"       .","This can happen when its visibility settings have changed recently.":"          .","Please register or log in to continue!":"    !","Error!":"!","Sorry, but the requested content could not be retrieved from the server.":"        .","Visit Event Page":"   ","You will now receive notifications for comments or when this event is updated or its details change.":"            .","Hidden Users":" ","Hidden User":" ","You are a Member":" ","Join Group":" ","Message Group":"   ","Author":"","Create Project from Idea":"   ","Edit your Idea":"  ","You will receive a notification when a project is created from your liked idea.":"       .","Projects - Created from this Idea":" -      ","You are a Admin":" ","Ownership request pending...":"  ...","Projects and groups":" ","Project/group":"/","Open to be contacted about potential collaboration opportunities":"        ","Does NOT wish to be contacted for potential collaboration!":"          !","Join Project":"  ","Message Project":"   ","Move up":"  ","Move down":"  ","There are no items yet":"    ","Items you follow":"  ","Nothing here yet.":"    .","Groups and Projects":" ","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"                 .","You can create Groups or Projects via the '+' button in the header.":"       \"+\"  .","Ideas I like":"   ","Here you can find an overview of Ideas you have liked.":"         .","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"       \"+\"        ","Discover":"","We could not load more data at this time.":"         .","Retry":" "}})[cosinnus_current_language]) {
	        		var trans = ({"en":{"Groups":"Groups","Like":"","Group":"Group","Title":"","Workshops":"","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"","Liked":"","Following":"","Events":"","Projects":"","Members":"","Follow":"","Event":"","Report offensive content":"","From":"","Until":"","website":"","Contact":"","Send Message":"","Invitations":"","You will now receive notifications for content posted in this project.":"","You will now receive notifications for content posted in this group.":"","Sustainable Development Goals":"","Membership request pending...":"","You are invited!":"","All Groups":"All Groups","All Projects":"All Projects","Organizations":"","People":"","My Groups":"My Groups","My Projects":"My Projects","Ideas":"","All Ideas":"","My Organizations":"","All Organizations":"","Include contents from other platforms":"","My Cloud Files":"","Cloud Files":"","Idea":"","Organization":"","Cloud File":"","Create Project":"Create Project","Create Group":"Create Group","Categories":"","SDGS":"","Search for Names, Topics and Places...":"","Search for Names and Topics...":"","Where":"","In map area":"","If active, searching will be restricted to the visible map area.":"","Apply Filters":"","Clear Filters":"","Street":"","Next":"","Choose a location for your idea by dragging the marker!":"","of":"","No results found.":"","Could not complete the search due to an error.":"","Search when moving the map":"","Search this area":"","Membership Requests":"","You are not in any groups or projects yet":"","You have not created any organizations yet.":"","Ideas I am following":"","You are not following any ideas yet.":"","Browse all Ideas":"","You have not RSVPed to any Events.":"","Go to Calendar":"","No current notifications":"","Find on map:":"","Entire Network":"","On the Map":"","In my Cloud Files":"","Topic":"","SDG":"","from":"","You":"","No info.":"","Administrator":"","Administrators":"","Administrators unknown":"","No description yet.":"","max.":"","You are participating":"","Participation request pending...":"","Participate":"","Contact organizers":"","You will now receive notifications for content posted.":"","If you do not want notifications, click the unfollow button!":"","Could not save your like setting because of an error.":"","Could not save your follow setting because of an error.":"","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"","Back to location selection":"","Sorry, but you cannot view details for this content.":"","This can happen when its visibility settings have changed recently.":"","Please register or log in to continue!":"","Error!":"","Sorry, but the requested content could not be retrieved from the server.":"","Visit Event Page":"","You will now receive notifications for comments or when this event is updated or its details change.":"","Hidden Users":"","Hidden User":"","You are a Member":"","Author":"","Edit your Idea":"","You will receive a notification when a project is created from your liked idea.":"","Projects - Created from this Idea":"","You are a Admin":"","Ownership request pending...":"","Open to be contacted about potential collaboration opportunities":"","Does NOT wish to be contacted for potential collaboration!":"","Move up":"","Move down":"","Items you follow":"","Nothing here yet.":"","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"","You can create Groups or Projects via the '+' button in the header.":"","Ideas I like":"","Here you can find an overview of Ideas you have liked.":"","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"","Discover":"","Filter":"","Content from the Forum":"","We could not load more data at this time.":"","Retry":""},"de":{"Groups":"Gruppen","Like":"Gefllt mir","Group":"Gruppe","Title":"Titel","Workshops":"Workshops","Results":"Ergebnisse","Participants":"Teilnehmende","Description":"Beschreibung","Project":"Projekt","Topics":"Themen","Likes":"\"Gefllt mir\"-Angaben","User":"Benutzer_in","Liked":"Gefllt dir","Following":"Gefolgt","Events":"Veranstaltungen","Projects":"Projekte","Members":"Mitglieder","Follow":"Folgen","Conference Applications":"Tagungs-Teilnahmeantrge","Event":"Veranstaltung","Report offensive content":"Anstigen Inhalt melden","From":"Von","Until":"Bis","website":"Webseite","Contact":"Kontakt","Send Message":"Nachricht schicken","Invitations":"Einladungen","You will now receive notifications for content posted in this project.":"Du wirst jetzt Benachrichtigungen fr Inhalte in diesem Projekt erhalten.","You will now receive notifications for content posted in this group.":"Du wirst jetzt Benachrichtigungen fr Inhalte in dieser Gruppe erhalten.","Sustainable Development Goals":"Ziele fr nachhaltige Entwicklung","Membership request pending...":"Mitgliedschaft wurde beantragt...","You are invited!":"Du bist eingeladen worden!","All Groups":"Alle Gruppen","All Projects":"Alle Projekte","Organizations":"Organisationen","Create Idea":"Idee erstellen","People":"Menschen","My Groups":"Meine Gruppen","My Projects":"Meine Projekte","Ideas":"Ideen","My Ideas":"Meine Ideen","All Ideas":"Alle Ideen","My Organizations":"Meine Organisationen","All Organizations":"Alle Organisationen","External contents":"Externe Inhalte","Include contents from other platforms":"Auch Inhalte von anderen Plattformen anzeigen","My Users":"Meine Benutzer_innen","My Events":"Meine Veranstaltungen","My Cloud Files":"Meine Cloud-Dateien","All Users":"Alle Benutzer_innen","All Events":"Alle Veranstaltungen","Cloud Files":"Cloud-Dateien","Idea":"Idee","Organization":"Organisation","Cloud File":"Cloud-Dateien","Create User":"Benutzerkonto erstellen","Create Event":"Veranstaltung erstellen","Create Project":"Projekt erstellen","Create Group":"Gruppe erstellen","Create Organization":"Organisation erstellen","Categories":"Kategorien","SDGS":"SDGs","Search for Names, Topics and Places...":"Suche nach Namen, Themen und Orten...","Search for Names and Topics...":"Suche nach Namen und Themen...","Where":"Wo","In map area":"In Kartenaussschnitt","If active, searching will be restricted to the visible map area.":"Wenn aktiv wird die Suche auf die sichtbare Kartenflche beschrnkt.","Apply Filters":"Filter anwenden","Clear Filters":"Filter zurcksetzen","Street":"Straen","Create idea":"Idee erstellen","Next":"Weiter","Choose a location for your idea by dragging the marker!":"Whle einen Ort fr deine Idee indem du die Markierung in der Karte verschiebst!","of":"von","No results found.":"Keine Ergebnisse gefunden.","Could not complete the search due to an error.":"Konnte die Suche aufgrund eines Fehlers nicht abschlieen.","Search when moving the map":"Suchen wenn die Karte bewegt wird","Search this area":"In diesem Ausschnitt suchen","Membership Requests":"Mitgliedschaftsantrge","My Groups and Projects":"Meine Gruppen und Projekte","Show more Projects of this Group":"Weitere Projekte dieser Gruppe anzeigen","You are not in any groups or projects yet":"Du bist noch in keinen Gruppen oder Projekten Mitglied","Create new Group":"Neue Gruppe anlegen","Create new Project":"Neues Projekt anlegen","Browse all Groups":"Alle Gruppen anzeigen","Browse all Projects":"Alle Projekte anzeigen","You have not created any organizations yet.":"Du hast noch keine Organisationen angelegt.","Create new Organization":"Neue Organisation anlegen","Browse all Organizations":"Alle Organisationen durchsuchen","Search for Organizations":"Nach Organisation suchen","Ideas I am following":"Ideen, die mir gefallen","You are not following any ideas yet.":"Du folgst noch keinen Ideen.","Post new Idea":"Neue Idee eintragen","Browse all Ideas":"Alle Ideen anzeigen","Search for Ideas":"Nach Ideen suchen","You have not RSVPed to any Events.":"Du hast bei keinen aktuellen Veranstaltungen zugesagt.","Add Event":"Veranstaltung hinzufgen","Go to Calendar":"Zum Kalender","There was an error loading the widget":"Es gab einen Fehler beim Laden der Inhalte","Notifications":"Benachrichtigungen","Show more":"Weitere anzeigen","No current notifications":"Keine aktuellen Benachrichtigungen","Find on map:":"Auf der Karte finden:","Entire Network":"Gesamtes Netzwerk","On the Map":"Auf der Karte","In my Groups and Projects":"In meinen Gruppen und Projekten","In my Cloud Files":"In meinen Cloud-Dateien","Topic":"Thema","SDG":"SDG","from":"von","You":"Du","Projects/Groups":"Projekte/Gruppen","No info.":"Keine Informationen.","Administrator":"Administrator","Administrators":"Administratoren","Administrators unknown":"Administratoren unbekannt","No description yet.":"Noch keine Beschreibung erstellt.","max.":"max.","You are participating":"Du nimmst teil","Participation request pending...":"Teilnahmeantrag luft...","Participate":"Teilnehmen","Contact organizers":"Veranstalter/innen kontaktieren","You will now receive notifications for content posted.":"Du wirst jetzt Benachrichtigungen fr neue Inhalte erhalten.","If you do not want notifications, click the unfollow button!":"Wenn du das nicht mchtest, klicke oben den Entfolgen-Button!","Could not save your like setting because of an error.":"Konnte deine \"Gefllt mir\"-Angabe aufgrund eines Fehlers nicht speichern.","Could not save your follow setting because of an error.":"Konnte deine Folgen-Einstellung aufgrund eines Fehlers nicht speichern.","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"Whle einen Ort fr deine Idee indem du die Markierung in der Karte verschiebst. Du kannst diesen Ort spter ndern.","Back to location selection":"Zurck zur Ortsauswahl","Protected Content":"Geschtzter Inhalt","Sorry, but you cannot view details for this content.":"Tut uns leid, aber du kannst keine Details dieses Inhalts sehen.","This can happen when its visibility settings have changed recently.":"Dies kann passieren, wenn die Sichtbarkeitseinstellungen des Inhalts vor Kurzem gendert wurden.","Please register or log in to continue!":"Bitte registriere dich oder log dich ein um weiterzumachen!","Error!":"Fehler!","Sorry, but the requested content could not be retrieved from the server.":"Tut uns leid, aber der gewnschte Inhalt konnte nicht vom Server geladen werden.","Visit Event Page":"Event-Seite besuchen","You will now receive notifications for comments or when this event is updated or its details change.":"Du wirst jetzt Benachrichtigungen fr Kommentare erhalten und wenn dieser Inhalt gendert wird.","Hidden Users":"Versteckte Benutzer","Hidden User":"Versteckter Benutzer","You are a Member":"Du bist Mitglied","Join Group":"Gruppe beitreten","Message Group":"Gruppe anschreiben","Author":"Autor","Create Project from Idea":"Projekt aus Idee erstellen","Edit your Idea":"Deine Idee bearbeiten","You will receive a notification when a project is created from your liked idea.":"Du erhltst eine Benachrichtigung, wenn ein Projekt aus dieser Idee erstellt wird.","Projects - Created from this Idea":"Projekte - entstanden aus dieser Idee","You are a Admin":"Du bist ein Admin","Ownership request pending...":"Mitgliedschaftsantrag luft...","Projects and groups":"Projekte und Gruppen","Project/group":"Projekt/Gruppe","Open to be contacted about potential collaboration opportunities":"Kann gerne fr potentielle Zusammenarbeit kontaktiert werden","Does NOT wish to be contacted for potential collaboration!":"Mchte KEINE Anfragen fr potentielle Zusammenarbeit erhalten!","To Profile":"Zum Profil","Join Project":"Projekt beitreten","Message Project":"Projekt anschreiben","Move up":"Nach oben","Move down":"Nach unten","There are no items yet":"Noch keine Inhalte vorhanden","Items you follow":"Objekte, denen ich folge","Nothing here yet.":"Keine Eintrge bisher.","Groups and Projects":"Gruppen und Projekte","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"Hier findest du in Zukunft eine bersicht ber deine Gruppen und Projekte. Noch bist du in keiner Gruppe oder einem Projekt aktiv.","You can create Groups or Projects via the '+' button in the header.":"Du kannst eigene Gruppen oder Projekte ber den '+'-Button im Header anlegen.","Ideas I like":"Ideen, die mir gefallen","Here you can find an overview of Ideas you have liked.":"Hier findest du in Zukunft eine bersicht ber Ideen, die dir gefallen.","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"Du kannst eigene Ideen ber den '+'-Button im Header anlegen oder bestehende Ideen hier entdecken","Discover":"Entdecken","Filter":"Filter","Content from the Forum":"Inhalte aus dem Forum","Content from my Groups and Projects":"Inhalte aus meinen Gruppen und Projekten","Platform content":"Portalweite Inhalte","Public content":"ffentliche Inhalte","We could not load more data at this time.":"Wir konnten leider keine weiteren Daten laden.","Retry":"Erneut versuchen"},"ru":{"Groups":"","Like":"","Group":"","Title":"","Workshops":"","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"","Liked":"","Following":"","Events":"","Projects":"","Members":"","Follow":"","Conference Applications":"    ","Event":"","Report offensive content":"","From":"","Until":"","website":"","Contact":"","Send Message":" ","Invitations":"","You will now receive notifications for content posted in this project.":"      ,    .","You will now receive notifications for content posted in this group.":"      ,    .","Sustainable Development Goals":"  ","Membership request pending...":"    ...","You are invited!":" !","All Groups":" ","All Projects":" ","Organizations":"","Create Idea":" ","People":"","My Groups":" ","My Projects":" ","Ideas":"","My Ideas":" ","All Ideas":" ","My Organizations":" ","All Organizations":" ","External contents":" ","Include contents from other platforms":"      ","My Users":" ","My Events":" ","My Cloud Files":" ","All Users":" ","All Events":" ","Cloud Files":" ","Idea":"","Organization":"","Cloud File":" ","Create User":" ","Create Event":" ","Create Project":" ","Create Group":" ","Create Organization":" ","Categories":"","SDGS":"  ","Search for Names, Topics and Places...":" ,   ","Search for Names and Topics...":"   ","Where":"","In map area":"  ","If active, searching will be restricted to the visible map area.":" ,      .","Apply Filters":" ","Clear Filters":" ","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":"    ,  !","of":"","No results found.":"  .","Could not complete the search due to an error.":"    - .","Search when moving the map":"   ","Search this area":"   ","Membership Requests":"  ","My Groups and Projects":"   ","Show more Projects of this Group":"    ","You are not in any groups or projects yet":"        ","Create new Group":"  ","Create new Project":"  ","Browse all Groups":"  ","Browse all Projects":"  ","You have not created any organizations yet.":"      .","Create new Organization":"  ","Browse all Organizations":"  ","Search for Organizations":" ","Ideas I am following":",   ","You are not following any ideas yet.":"      .","Post new Idea":"  ","Browse all Ideas":"  ","Search for Ideas":" ","You have not RSVPed to any Events.":"      .","Add Event":" ","Go to Calendar":"  ","There was an error loading the widget":"     ","Notifications":"","Show more":" ","No current notifications":"  ","Find on map:":"  :","Entire Network":" ","On the Map":" ","In my Groups and Projects":"    ","In my Cloud Files":"   ","Topic":"","SDG":"  ","from":"","You":"","Projects/Groups":"/","No info.":" .","Administrator":"","Administrators":"","Administrators unknown":"  ","No description yet.":" .","max.":".","You are participating":"  ","Participation request pending...":"    ...","Participate":"","Contact organizers":" ","You will now receive notifications for content posted.":"      ,    .","If you do not want notifications, click the unfollow button!":"     ,    !","Could not save your like setting because of an error.":"-      .","Could not save your follow setting because of an error.":"       .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"    ,  .      .","Back to location selection":"   ","Protected Content":" ","Sorry, but you cannot view details for this content.":",         .","This can happen when its visibility settings have changed recently.":"  ,       .","Please register or log in to continue!":",   ,  !","Error!":"a!","Sorry, but the requested content could not be retrieved from the server.":",         .","Visit Event Page":"  ","You will now receive notifications for comments or when this event is updated or its details change.":"    ,            .","Hidden Users":" ","Hidden User":" ","You are a Member":"  ","Join Group":"  ","Message Group":"  ","Author":"","Create Project from Idea":"    ","Edit your Idea":"  ","You will receive a notification when a project is created from your liked idea.":"  ,       ,   .","Projects - Created from this Idea":" -     ","You are a Admin":"  ","Ownership request pending...":"    ...","Projects and groups":"   ","Project/group":"/","Open to be contacted about potential collaboration opportunities":"()     ","Does NOT wish to be contacted for potential collaboration!":"     !","To Profile":" ","Join Project":"  ","Message Project":"  ","Move up":" ","Move down":" ","There are no items yet":"  ","Items you follow":",   ","Nothing here yet.":"   .","Groups and Projects":"  ","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"        ,          .","You can create Groups or Projects via the '+' button in the header.":"           '+'     .","Ideas I like":",   ","Here you can find an overview of Ideas you have liked.":"    ,   .","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"         '+'          ","Discover":"","Filter":" ","Content from the Forum":"  ","Content from my Groups and Projects":"     ","Platform content":"      ","Public content":"   ","We could not load more data at this time.":"      .","Retry":" "},"uk":{"Groups":"","Like":"","Group":"","Title":"","Workshops":"","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"(-)","Liked":"","Following":"","Events":"","Projects":"","Members":"","Follow":"","Event":"","Report offensive content":"   ","From":"","Until":"","website":"-","Contact":"","Send Message":" ","Invitations":"","You will now receive notifications for content posted in this project.":"      ,    .","You will now receive notifications for content posted in this group.":"      ,    .","Sustainable Development Goals":"  ","Membership request pending...":"     ...","You are invited!":" !","All Groups":" ","All Projects":" ","Organizations":"","Create Idea":" ","People":"","My Groups":" ","My Projects":" ","Ideas":"","My Ideas":" ","All Ideas":" ","My Organizations":" ","All Organizations":" ","External contents":" ","Include contents from other platforms":"   ","My Users":" ","My Events":" ","My Cloud Files":"   ","All Users":" ","All Events":" ","Cloud Files":"  ","Idea":"","Organization":"","Cloud File":"  ","Create User":" ","Create Event":" ","Create Project":" ","Create Group":" ","Create Organization":" ","Categories":"","SDGS":"  ","Search for Names, Topics and Places...":" ,   ","Search for Names and Topics...":"   ","Where":"","In map area":"  ","If active, searching will be restricted to the visible map area.":"  ,      .","Apply Filters":" ","Clear Filters":" ","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":"    ,  !","of":"","No results found.":"   .","Could not complete the search due to an error.":"     .","Search when moving the map":"   ","Search this area":"   ","Membership Requests":"  ","My Groups and Projects":"   ","Show more Projects of this Group":"    ","You are not in any groups or projects yet":"       ","Create new Group":"  ","Create new Project":"  ","Browse all Groups":"  ","Browse all Projects":"  ","You have not created any organizations yet.":"     .","Create new Organization":"  ","Browse all Organizations":"  ","Search for Organizations":" ","Ideas I am following":",    ","You are not following any ideas yet.":"      .","Post new Idea":"  ","Browse all Ideas":"  ","Search for Ideas":" ","You have not RSVPed to any Events.":"  RSVP   .","Add Event":" ","Go to Calendar":"  ","There was an error loading the widget":"     ","Notifications":"","Show more":" ","No current notifications":"  ","Find on map:":"  :","Entire Network":" ","On the Map":" ","In my Groups and Projects":"    ","In my Cloud Files":"    ","Topic":"","SDG":"  ","from":"","You":"","Projects/Groups":"/","No info.":" .","Administrator":"","Administrators":"","Administrators unknown":" ","No description yet.":"  .","max.":".","You are participating":"  ","Participation request pending...":"     ...","Participate":"","Contact organizers":"  ","You will now receive notifications for content posted.":"       .","If you do not want notifications, click the unfollow button!":"     ,    !","Could not save your like setting because of an error.":"       .","Could not save your follow setting because of an error.":"       .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"    ,  .       .","Back to location selection":"   ","Protected Content":" ","Sorry, but you cannot view details for this content.":",        .","This can happen when its visibility settings have changed recently.":"  ,     .","Please register or log in to continue!":" ,   ,  !","Error!":"!","Sorry, but the requested content could not be retrieved from the server.":", ,    ,     .","Visit Event Page":"  ","You will now receive notifications for comments or when this event is updated or its details change.":"      ,      .","Hidden Users":" ","Hidden User":" ","You are a Member":"  ","Join Group":"  ","Message Group":" ","Author":"","Create Project from Idea":"   ","Edit your Idea":"  ","You will receive a notification when a project is created from your liked idea.":"  ,        .","Projects - Created from this Idea":"     ","You are a Admin":"  ","Ownership request pending...":"       ...","Projects and groups":"  ","Project/group":"/","Open to be contacted about potential collaboration opportunities":"(-)      ","Does NOT wish to be contacted for potential collaboration!":"     !","To Profile":" ","Join Project":"  ","Message Project":"  ","Move up":" ","Move down":" ","There are no items yet":"    ","Items you follow":",    ","Nothing here yet.":"   .","Groups and Projects":"  ","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"        ,          .","You can create Groups or Projects via the '+' button in the header.":"         +  .","Ideas I like":",   ","Here you can find an overview of Ideas you have liked.":"      ,   .","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"        +       ","Discover":"","Filter":" ","Content from the Forum":"  ","Content from my Groups and Projects":"      ","Public content":" ","We could not load more data at this time.":"       .","Retry":"  "},"fr":{"Groups":"Groupes","Like":"Aimer","Group":"Groupe","Title":"Titre","Workshops":"Ateliers","Results":"Rsultats","Participants":"Participants","Description":"Description","Project":"Projet","Topics":"Sujets","Likes":"J'aime","User":"Utilisateur","Liked":"Est aim","Following":"Suit","Events":"Evnements","Projects":"Projets","Members":"Membres","Follow":"S'abonner","Event":"Evnement","Report offensive content":"Rapporter un contenu choquant","From":"De","Until":"jusqu","website":"site internet","Contact":"Contact","Send Message":"Envoyer un message","Invitations":"Invitations","You will now receive notifications for content posted in this project.":"Tu recevras dsormais des notifications pour le contenu affich dans ce projet.","You will now receive notifications for content posted in this group.":"Tu recevras dsormais des notifications pour le contenu affich dans ce groupe.","Sustainable Development Goals":"Objectifs de dveloppement durable","Membership request pending...":"Demande d'ajout en attente...","You are invited!":"Tu es invit !","All Groups":"Tous les groupes","All Projects":"Tous les projets","Organizations":"Organisations","Create Idea":"Crer ide","People":"Personnes","My Groups":"Mes groupes","My Projects":"Mes projets","Ideas":"Ides","My Ideas":"Mes ides","All Ideas":"Toutes les ides","My Organizations":"Mes organisations","All Organizations":"Toutes les organisations","My Users":"Mes utilisateurs","My Events":"Mes vnements","My Cloud Files":"Mes fichiers Cloud","All Users":"Tous les utilisateurs","All Events":"Tous les vnements","Cloud Files":"Fichiers cloud","Idea":"Ide","Organization":"Organisation","Cloud File":"Fichier cloud","Create User":"Crer utilisateur","Create Event":"Crer vnement","Create Project":"Crer projet","Create Group":"Crer groupe","Create Organization":"Crer lorganisation","Categories":"","SDGS":"SDGS","Search for Names, Topics and Places...":"Rechercher des noms, sujets et lieux...","Search for Names and Topics...":"Rechercher des noms et des sujets...","Where":"O","In map area":"Sur l'aire de la carte","If active, searching will be restricted to the visible map area.":"Si activ, la recherche sera limit  l'aire visible sur la carte.","Apply Filters":"Appliquer les filtres","Clear Filters":"Supprimer les filtres","Street":"Rue","Create idea":"Crer ide","Next":"Suivant","Choose a location for your idea by dragging the marker!":"Choisis un lieu pour ton ide en dplaant et en relchant la souris !","of":"de","No results found.":"Aucun rsultat trouv.","Could not complete the search due to an error.":"La recherche n'a pas pu aboutir  cause d'une erreur.","Search when moving the map":"Rechercher en faisant bouger la carte","Search this area":"Rechercher dans cette zone","Membership Requests":"Demandes d'adhsion","My Groups and Projects":"Mes groupes et projets","Show more Projects of this Group":"Afficher plus de projets de ce groupe","You are not in any groups or projects yet":"Vous ne faites pas encore partie d'un groupe ou d'un projet","Create new Group":"Crer un nouveau groupe","Create new Project":"Crer un nouveau projet","Browse all Groups":"Parcourir tous les groupes","Browse all Projects":"Parcourir tous les projets","You have not created any organizations yet.":"Tu nas encore cr aucune organisation.","Create new Organization":"Crer une nouvelle organisation","Browse all Organizations":"Parcourir toutes les organisations","Search for Organizations":"Rechercher des organisations","Ideas I am following":"Ides que je suis","You are not following any ideas yet.":"Tu ne suis pas encore dides.","Post new Idea":"Publier une nouvelle ide","Browse all Ideas":"Parcourir toutes les ides","Search for Ideas":"Rechercher des ides","You have not RSVPed to any Events.":"Tu n'as rpondu  aucun vnement.","Add Event":"Ajouter un vnement","Go to Calendar":"Aller au calendrier","There was an error loading the widget":"Une erreur est survenue lors du chargement du widget","Notifications":"Notifications","Show more":"Afficher plus","No current notifications":"Pas de notifications actuelles","Find on map:":"","Entire Network":"Tout le rseau","On the Map":"Sur la carte","In my Groups and Projects":"Dans mes groupes et projets","In my Cloud Files":"Dans mes fichiers Cloud","Topic":"Sujet","SDG":"SDG","from":"","You":"Toi","Projects/Groups":"Projets / groupes","No info.":"Pas d'info.","Administrator":"Administrateur","Administrators":"Administrateurs","Administrators unknown":"Administrateurs inconnus","No description yet.":"Pas encore de description.","max.":"max.","You are participating":"Tu participes","Participation request pending...":"Demande de participation en attente...","Participate":"Participer","Contact organizers":"Contacter les organisateurs","You will now receive notifications for content posted.":"Tu recevras dsormais des notifications pour le contenu affich.","If you do not want notifications, click the unfollow button!":"Si tu ne souhaites pas recevoir de notifications, clique sur le bouton de dsabonnement !","Could not save your like setting because of an error.":"Ton paramtre \"j'aime\" n'a pas pu tre enregistr  cause d'une erreur.","Could not save your follow setting because of an error.":"Ton paramtre \"abonn\" n'a pas pu tre enregistr  cause d'une erreur.","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"Choisis un lieu pour ton ide en dplaant et en relchant la souris. Tu pourras changer ce lieu plus tard.","Back to location selection":"Retour  la slection du lieu","Protected Content":"Contenu protg","Sorry, but you cannot view details for this content.":"Dsol, tu ne peux pas voir les dtails pour ce contenu.","This can happen when its visibility settings have changed recently.":"Cela peut se produire quand les paramtres de visibilit ont t changs rcemment.","Please register or log in to continue!":"Inscris-toi ou connecte-toi pour continuer !","Error!":"Erreur !","Sorry, but the requested content could not be retrieved from the server.":"Dsol, le contenu demand n'a pas pu tre rcupr sur le serveur.","Visit Event Page":"Visiter la page de l'vnement","You will now receive notifications for comments or when this event is updated or its details change.":"Tu recevras maintenant des notifications pour les commentaires ou lorsque cet vnement est mis  jour ou que ses dtails changent.","Hidden Users":"Utilisateurs masqus","Hidden User":"Utilisateur masqu","You are a Member":"Tu es membre","Join Group":"Rejoindre groupe","Message Group":"Groupe message","Author":"Auteur","Create Project from Idea":"Crer projet  partir d'une ide","Edit your Idea":"Modifier ton ide","You will receive a notification when a project is created from your liked idea.":"Tu recevras une notification lorsqu'un projet sera cr  partir de l'ide que tu aimes.","Projects - Created from this Idea":"Projets - Crs  partir de cette ide","You are a Admin":"Tu es administrateur","Ownership request pending...":"Demande de proprit en attente...","Projects and groups":"Projets et groupes","Project/group":"Projet / groupe","Open to be contacted about potential collaboration opportunities":"Peut tre contact (e) au sujet d'ventuelles possibilits de collaboration","Does NOT wish to be contacted for potential collaboration!":"Je ne souhaite PAS tre contact (e) pour une ventuelle collaboration ","Join Project":"Rejoindre projet","Message Project":"Projet message","Move up":"Dplacer vers le haut","Move down":"Dplacer vers le bas","There are no items yet":"Il n'y a pas encore d'lments","Items you follow":"lments que tu suis","Nothing here yet.":"Rien ici pour l'instant.","Groups and Projects":"Groupes et projets","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"Tu trouveras ici un aperu de tes groupes et projets une fois que tu seras actif(active) dans un ou plusieurs d'entre eux.","You can create Groups or Projects via the '+' button in the header.":"Tu peux crer des groupes ou des projets en cliquant sur le bouton \"+\" dans l'en-tte.","Ideas I like":"Ides que j'aime","Here you can find an overview of Ideas you have liked.":"Tu trouveras ici un aperu des ides que tu as aimes.","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"Tu peux crer tes propres ides via le bouton \"+\" dans l'en-tte, ou dcouvrir ici des ides dj existantes","Discover":"Dcouvrir","We could not load more data at this time.":"Nous navons pas pu tlcharger plus de donnes pour le moment.","Retry":"Rssayer"},"pl":{"Groups":"Grupy","Like":"Polubienie","Group":"Grupa","Title":"Tytu","Workshops":"Warsztaty","Results":"Wynikw","Participants":"Uczestnicy","Description":"Opis","Project":"Projekt","Topics":"Tematy","Likes":"Polubienia","User":"Uytkownik","Liked":"Polubione","Following":"Nastpujcy/-a","Events":"Wydarzenia","Projects":"Projekty","Members":"Czonkowie","Follow":"led","Event":"Wydarzenie","Report offensive content":"Zgo niedozwolon tre","From":"Od","Until":"Do","website":"strona internetowa","Contact":"Kontakt","Send Message":"Wylij Wiadomo","Invitations":"Zaproszenia","You will now receive notifications for content posted in this project.":"Otrzymasz teraz powiadomienie dotyczce treci zawartej w tym projekcie.","You will now receive notifications for content posted in this group.":"Otrzymasz teraz powiadomienie dotyczce treci zawartej w tej grupie.","Sustainable Development Goals":"Przyjazne dla rodowiska cele rozwoju","Membership request pending...":"Trwa przetwarzanie proby o czonkostwo...","You are invited!":"Zostae/-a zaproszony/-a!","All Groups":"Wszystkie Grupy","All Projects":"Wszystkie Projekty","Organizations":"Organizacje","Create Idea":"Utwrz ide","People":"Ludzie","My Groups":"Moje Grupy","My Projects":"Moje Projekty","Ideas":"Pomysy","My Ideas":"Moje Pomysy","All Ideas":"Wszystkie Pomysy","My Organizations":"Moje organizacje","All Organizations":"Wszystkie organizacje","My Users":"Moi Uytkownicy","My Events":"Moje Wydarzenia","My Cloud Files":"Moje Pliki w Chmurze","All Users":"Wszyscy Uytkownicy","All Events":"Wszystkie Wydarzenia","Cloud Files":"Pliki w Chmurze","Idea":"Idea","Organization":"Organizacja","Cloud File":"Plik w Chmurze","Create User":"Utwrz Uytkownika","Create Event":"Utwrz Wydarzenie","Create Project":"Utwrz Projekt","Create Group":"Utwrz Grup","Create Organization":"Stwrz Organizacj","Categories":"","SDGS":"SDGS","Search for Names, Topics and Places...":"Wyszukaj nazwy, tematy i miejsca...","Search for Names and Topics...":"Wyszukaj Nazwy i Tematy...","Where":"Gdzie","In map area":"W obszarze na mapie","If active, searching will be restricted to the visible map area.":"Jeli aktywne, wyszukiwanie bdzie ograniczone do widocznego obszaru mapy.","Apply Filters":"Zastosuj Filtry","Clear Filters":"Wyczy Filtry","Street":"Ulica","Create idea":"Utwrz ide","Next":"Nastpna","Choose a location for your idea by dragging the marker!":"Wybierz lokalizacj dla swojej idei przesuwajc znacznik na mapie!","of":"z","No results found.":"Nie znaleziono adnych wynikw.","Could not complete the search due to an error.":"Wyszukiwanie nie powiodo si z powodu wystpienia bdu.","Search when moving the map":"Wyszukaj przesuwajc map","Search this area":"Przeszukaj ten obszar","Membership Requests":"Proby o zostanie czonkiem","My Groups and Projects":"Moje Grupy i Projekty","Show more Projects of this Group":"Poka wicej projektw tej grupy","You are not in any groups or projects yet":"Nie jeste jeszcze w adnej grupie ani w adnym projekcie","Create new Group":"Utwrz now Grup","Create new Project":"Utwrz nowy Projekt","Browse all Groups":"Przejrzyj wszystkie Grupy","Browse all Projects":"Przejrzyj wszystkie Projekty","You have not created any organizations yet.":"Nie stworzye/-a jak dotd adnych organizacji.","Create new Organization":"Utwrz now organizacj","Browse all Organizations":"Przejrzyj wszystkie Organizacje","Search for Organizations":"Wyszukiwanie organizacji","Ideas I am following":"Pomysy, ktre ledz","You are not following any ideas yet.":"Nie ledzisz jeszcze adnych idei.","Post new Idea":"Opublikuj now Pomysy","Browse all Ideas":"Przejrzyj wszystkie Pomysy","Search for Ideas":"Szukaj pomysw","You have not RSVPed to any Events.":"Nie masz RSVPed do adnych wydarze.","Add Event":"Dodaj Wydarzenie","Go to Calendar":"Id do kalendarza","There was an error loading the widget":"Podczas adowania widgetu nastpi bd","Notifications":"Powiadomienia","Show more":"Poka wicej","No current notifications":"Brak biecych powiadomie","Find on map:":"","Entire Network":"Cakowita Sie","On the Map":"Na mapie","In my Groups and Projects":"W moich Grupach i Projektach","In my Cloud Files":"W moich Plikach w Chmurze","Topic":"Temat","SDG":"SDG","from":"","You":"Ty","Projects/Groups":"Projekty/Grupy","No info.":"Brak informacji.","Administrator":"Administrator","Administrators":"Administratorzy","Administrators unknown":"Administratorzy nieznani","No description yet.":"Brak jeszcze opisu.","max.":"maks.","You are participating":"Jeste uczestnikiem","Participation request pending...":"Trwa danie uczestnictwa...","Participate":"Uczestnik","Contact organizers":"Kontakt z organizatorami","You will now receive notifications for content posted.":"Otrzymasz teraz powiadomienie dotyczce zawartej treci.","If you do not want notifications, click the unfollow button!":"Jeli nie yczysz sobie otrzymywania powiadomie, kliknij na przycisk \"przesta ledzi\"!","Could not save your like setting because of an error.":"Twoje ustawienia nie mogy zosta zapisane w wyniku wystpienia bdu.","Could not save your follow setting because of an error.":"Twoje ustawienia ledzenia nie mogy zosta zapisane w wyniku wystpienia bdu.","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"Wybierz lokalizacj dla swojej idei przesuwajc i upuszczajc znacznik. Moesz pniej zmieni lokalizacj.","Back to location selection":"Powrt do wyboru lokalizacji","Protected Content":"Zawarto Chroniona","Sorry, but you cannot view details for this content.":"Przepraszamy, ale nie moesz zobaczy szczegw tej treci.","This can happen when its visibility settings have changed recently.":"Przyczyn moe by niedawna zmiana ustawie widocznoci.","Please register or log in to continue!":"Zarejestruj si lub zaloguj by kontynuowa!","Error!":"Bd!","Sorry, but the requested content could not be retrieved from the server.":"Przepraszamy, ale dana tre nie zostaa odnaleziona na serwerze.","Visit Event Page":"Odwied Stron Wydarzenia","You will now receive notifications for comments or when this event is updated or its details change.":"Bdziesz otrzymywa powiadomienia o komentarzach lub gdy to wydarzenie zostanie zaktualizowane albo jego szczegy ulegn zmianie.","Hidden Users":"Ukryci Uytkownicy","Hidden User":"Ukryty Uytkownik","You are a Member":"Jeste Czonkiem","Join Group":"Docz do Grupy","Message Group":"Wylij Wiadomo do Grupy","Author":"Autor","Create Project from Idea":"Utwrz Projekt dla Idei","Edit your Idea":"Edytuj swoj Ide","You will receive a notification when a project is created from your liked idea.":"Otrzymasz powiadomienie, kiedy w ramach polubionej przez Ciebie idei zostanie utworzony projekt.","Projects - Created from this Idea":"Projekty - Utworzone w ramach tej Idei","You are a Admin":"Jeste adminem","Ownership request pending...":"Trwa przetwarzanie proby o wasno...","Projects and groups":"Projekty i grupy","Project/group":"Projekt/grupa","Open to be contacted about potential collaboration opportunities":"Otwrz, aby zosta skontaktowanym z potencjalnymi moliwociami wsppracy","Does NOT wish to be contacted for potential collaboration!":"NIE ycz sobie kontaktu z potencjalnymi wsppracownikami!","Join Project":"Docz do Projektu","Message Project":"Wylij wiadomo do Projektu","Move up":"Przenie do gry","Move down":"Przenie na d","There are no items yet":"Nie ma widocznych elementw","Items you follow":"Pozycje, ktre ledz","Nothing here yet.":"Jeszcze nic tu nie ma.","Groups and Projects":"Grupy i Projekty","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"Tu moesz znale oglny zarys twoich Grup i Projektw gdy bdziesz raz aktywny w jednym lub wicej.","You can create Groups or Projects via the '+' button in the header.":"Moesz zaoy wasne grupy i projekty za pomoc przycisku \"+\" w nagwku.","Ideas I like":"Pomysy, ktre mi si podobaj","Here you can find an overview of Ideas you have liked.":"Tu w przyszoci znajdziesz podgld pomysw, ktre ci si podobaj.","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"Moesz doda wasne pomysy za pomoc przycisku + w nagwku lub przejrze pomysy innych","Discover":"Odkryj","We could not load more data at this time.":"Nie moemy teraz zaadowa wicej danych.","Retry":"Sprbuj ponownie"},"be":{"Groups":"","Like":"","Group":"","Title":"","Workshops":"","Results":"","Participants":"(-)","Description":"","Project":"","Topics":"","Likes":"","User":"(-)","Liked":"","Following":"","Events":"","Projects":"","Members":"","Follow":"","Event":"","Report offensive content":"   ","From":"","Until":"","Contact":"","Send Message":" ","Invitations":"","Sustainable Development Goals":"","Membership request pending...":"     ...","You are invited!":"  !","All Groups":" ","All Projects":" ","Create Idea":" ","People":"","My Groups":" ","My Projects":" ","Ideas":"","My Ideas":" ","All Ideas":" ","My Organizations":"","All Organizations":"","Include contents from other platforms":"","My Users":" (-)","My Events":" ","All Users":" (-)","All Events":" ","Idea":"","Create User":" (-)","Create Event":" ","Create Project":" ","Create Group":" ","Categories":"","SDGS":"","Search for Names, Topics and Places...":" ,   ...","Search for Names and Topics...":"   ...","Where":"","In map area":"   ","If active, searching will be restricted to the visible map area.":" ,      .","Apply Filters":" ","Clear Filters":" ","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":"   ,  !","of":"","No results found.":"  .","Could not complete the search due to an error.":"   - .","Search when moving the map":"   ","Search this area":"   ","You are not in any groups or projects yet":"","Ideas I am following":"","You have not RSVPed to any Events.":"","Go to Calendar":"","Find on map:":"","Entire Network":"","On the Map":"","SDG":"","from":"","You":"","Projects/Groups":"/","No info.":" .","Administrator":"","Administrators":"","Administrators unknown":" ","No description yet.":"  .","max.":"","If you do not want notifications, click the unfollow button!":"     ,    \" \"!","Could not save your like setting because of an error.":"      - .","Could not save your follow setting because of an error.":"      - .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"    ,  .     .","Back to location selection":"   ","Protected Content":" ","Sorry, but you cannot view details for this content.":",        .","This can happen when its visibility settings have changed recently.":"    ,     .","Please register or log in to continue!":" ,   ,  !","Error!":"!","Sorry, but the requested content could not be retrieved from the server.":" ,       .","Visit Event Page":"   ","You will now receive notifications for comments or when this event is updated or its details change.":"     ,          .","Hidden Users":" (-)","Hidden User":" (-)","You are a Member":" ' ","Join Group":"  ","Message Group":"  ","Author":"(-)","Create Project from Idea":"   ","Edit your Idea":"  ","You will receive a notification when a project is created from your liked idea.":"   ,        .","Projects - Created from this Idea":",    ","Open to be contacted about potential collaboration opportunities":"","Does NOT wish to be contacted for potential collaboration!":"","Join Project":"  ","Message Project":"  ","Items you follow":"","Nothing here yet.":"","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"","You can create Groups or Projects via the '+' button in the header.":"","Ideas I like":"","Here you can find an overview of Ideas you have liked.":"","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"","Discover":"","We could not load more data at this time.":"","Retry":""},"es":{"Groups":"Grupos","Group":"Grupo","Title":"Ttulo","Workshops":"","Results":"Resultados","Participants":"Participantes","Description":"Descripcin","Project":"Proyecto","Topics":"Temas","User":"Usario","Following":"Siguiendo","Events":"Eventos","Projects":"Proyectos","Members":"Miembros","Follow":"Seguir","Event":"Evento","Report offensive content":"Informar contenido ofensivo","From":"De","Until":"Hasta","Contact":"Contacto","Send Message":"Enviar mensaje","Invitations":"Invitaciones","Sustainable Development Goals":"","Membership request pending...":"Solicitud de participacin pendiente...","You are invited!":"Estas invitado!","All Groups":"Todos los grupos","All Projects":"Todos los proyectos","Create Idea":"Crear idea","People":"Personas","My Groups":"Mis grupos","My Projects":"Mis proyectos","Ideas":"Ideas","My Ideas":"Mis Ideas","All Ideas":"Todas la ideas","My Organizations":"","All Organizations":"","Include contents from other platforms":"","My Users":"Mis usarios","My Events":"Mis eventos","All Users":"Todos los usarios","All Events":"Todos los eventos","Idea":"Idea","Create User":"Crear usario","Create Event":"Crear evento","Create Project":"Crear proyecto","Create Group":"Crear grupo","Categories":"","SDGS":"","Search for Names, Topics and Places...":"Buscar nombres, temas y lugares...","Search for Names and Topics...":"Buscar nombres y temas...","Where":"Donde","In map area":"En zona de mapa","If active, searching will be restricted to the visible map area.":"Si est activo, la bsqueda se restringir al rea de mapa visible.","Apply Filters":"Aplicar Filtros","Clear Filters":"Limpiar filtros","Street":"Calle","Create idea":"Crear idea","Next":"Prximo","Choose a location for your idea by dragging the marker!":"Elige un lugar para tu idea arrastrando el marcador!","of":"de","No results found.":"No se han encontrado resultados.","Could not complete the search due to an error.":"No se pudo completar la bsqueda debido a un error.","Search when moving the map":"Buscar al mover el mapa","Search this area":"Busca en esta zona","You are not in any groups or projects yet":"","Ideas I am following":"","You have not RSVPed to any Events.":"","Go to Calendar":"","Find on map:":"","Entire Network":"","On the Map":"","SDG":"","from":"","You":"","Projects/Groups":"Proyectos/grupos","No info.":"Ninguna informacin.","Administrator":"Administrador","Administrators":"Administratores","Administrators unknown":"Administratores desconocidos","No description yet.":"An no hay descripcin.","max.":"","If you do not want notifications, click the unfollow button!":"Si no desea notificaciones, haga clic en el botn de dejar de seguir!","Could not save your like setting because of an error.":"No se pudo guardar tu configuracin de me gusta debido a un error.","Could not save your follow setting because of an error.":"No se pudo guardar tu configuracin de seguir debido a un error.","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"Elija una ubicacin para su idea arrastrando y soltando el marcador. Todava puede cambiar esta ubicacin ms adelante.","Back to location selection":"Volver a la seleccin del lugar","Protected Content":"Contenido potejido","Sorry, but you cannot view details for this content.":"Lo sentimos, pero to puedes ver detalles para este comtenido.","This can happen when its visibility settings have changed recently.":"Esto puede suceder cuando su configuracin de visibilidad ha cambiado recientemente.","Please register or log in to continue!":"Por favor regstrate o inicia sesin para continuar!","Error!":"Error!","Visit Event Page":"Visitar pgina de eventos","You will now receive notifications for comments or when this event is updated or its details change.":"Ahora recibirs notificaciones de comentarios o cuando este evento se actualice o sus detalles cambien.","Hidden Users":"Usuarios ocultos","Hidden User":"Usuario ocultos","You are a Member":"Eres un miembro","Join Group":"Participar en el grupo","Message Group":"Mandar un mensaje al grupo","Author":"Autor","Create Project from Idea":"Crear proyecto de la idea","Edit your Idea":"Editar tu idea","You will receive a notification when a project is created from your liked idea.":"Recibirs una notificacin cuando se cree un proyecto de tu idea.","Projects - Created from this Idea":"Proyectos - Creados de esta idea","Open to be contacted about potential collaboration opportunities":"","Does NOT wish to be contacted for potential collaboration!":"","Join Project":"Participar en el proyecto","Message Project":"Mandar un mensaje al proyecto","Items you follow":"","Nothing here yet.":"","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"","You can create Groups or Projects via the '+' button in the header.":"","Ideas I like":"","Here you can find an overview of Ideas you have liked.":"","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"","Discover":"","We could not load more data at this time.":"","Retry":""},"ro":{"Groups":"Grupuri","Like":"Ca","Group":"Grup","Title":"Titlu","Workshops":"Ateliere","Results":"Rezultate","Participants":"Participani","Description":"Descriere","Project":"Proiect","Topics":"Subiecte","Likes":"i place","User":"Utilizator","Liked":"Plcut","Following":"Ca urmare","Events":"Evenimente","Projects":"Proiecte","Members":"Membrii","Follow":"Urmeaz","Event":"Eveniment","Report offensive content":"Raportai coninutul ofensator","From":"Din","Until":"Pn cnd","Contact":"Contact","Send Message":"Trimite mesaj","Invitations":"Invitaii","You will now receive notifications for content posted in this project.":"Acum vei primi notificri pentru coninutul postat n acest proiect.","You will now receive notifications for content posted in this group.":"Acum vei primi notificri pentru coninutul  postat n acest grup.","Sustainable Development Goals":"Obiectivele Dezvoltrii Durabile","Membership request pending...":"Cerere de membru n ateptare...","You are invited!":"Eti invitat!","All Groups":"Toate Grupurile","All Projects":"Toate Proiectele","Organizations":"Organizaii","Create Idea":"Crea Idee","People":"Oameni","My Groups":"Grupurile Mele","My Projects":"Proiectele Mele","Ideas":"Idei","My Ideas":"Ideile Mele","All Ideas":"Toate Ideile","My Organizations":"Organizaiile Mele","All Organizations":"Toate Organizaiile","My Users":"Utilizatorii Mei","My Events":"Evenimentele Mele","All Users":"Toi Utilizatorii","All Events":"Toate Evenimentele","Idea":"Ideea","Organization":"Organizare","Create User":"Creeaz Utilizator","Create Event":"Creeaz Eveniment","Create Project":"Creeaz Proiect","Create Group":"Creeaz Grup","Create Organization":"Creeaz Organizarea","Categories":"","SDGS":"SDGS","Search for Names, Topics and Places...":"Cutai Nume, Subiecte i Locuri...","Search for Names and Topics...":"Cutai Nume i Subiecte...","Where":"Unde","In map area":"n zona hrii","If active, searching will be restricted to the visible map area.":"Dac este activ, cutarea va fi limitat la zona de hart vizibil.","Apply Filters":"Aplicai Filtre","Clear Filters":"tergei Filtrele","Street":"Strada","Create idea":"Crea idee","Next":"Urmtor","Choose a location for your idea by dragging the marker!":"Alegei o locaie pentru ideea dvs. trgnd marcatorul!","of":"de","No results found.":"Nici un rezultat gsit.","Could not complete the search due to an error.":"Nu s-a putut finaliza cutarea din cauza unei erori.","Search when moving the map":"Cutai atunci cnd mutai harta","Search this area":"Cutai n aceast zon","Membership Requests":"Cereri de Membru","My Groups and Projects":"Grupurile i Proiectele mele","Show more Projects of this Group":"Arat mai multe Proiecte ale acestui Grup","You are not in any groups or projects yet":"Nu suntei nc n nici un grup sau proiect","Create new Group":"Creai un Grup nou","Create new Project":"Creai un Proiect nou","Browse all Groups":"Rsfoii toate Grupurile","Browse all Projects":"Rsfoii toate Proiectele","You have not created any organizations yet.":"Nu ai creat nc nicio organizaie.","Create new Organization":"Creai o Organizaie nou","Browse all Organizations":"Rsfoii toate Organizrile","Search for Organizations":"Cutai organizaii","Ideas I am following":"Idei pe care le urmresc","You are not following any ideas yet.":"Nu urmai niciun fel de idei.","Post new Idea":"Posteaz o nou Idee","Browse all Ideas":"Rsfoii toate Ideile","Search for Ideas":"Caut Idei","You have not RSVPed to any Events.":"Nu ai fcut RSVPed la niciun Eveniment.","Add Event":"Adugai eveniment","Go to Calendar":"Accesai Calendar","There was an error loading the widget":"A aprut o eroare la ncrcarea widget-ului","Notifications":"Notificri","Show more":"Afiai mai multe","No current notifications":"Fr notificri actuale","Find on map:":"","Entire Network":"ntreaga Reea","On the Map":"Pe Hart","In my Groups and Projects":"n Grupurile i Proiectele mele","Topic":"Subiect","SDG":"SDG","from":"","You":"Tu","Projects/Groups":"Proiecte/Grupuri","No info.":"Fr informaii.","Administrator":"Administrator","Administrators":"Administratorii","Administrators unknown":"Administratorii necunoscui","No description yet.":"Nici o descriere nc.","max.":"","If you do not want notifications, click the unfollow button!":"Dac nu dorii notificri, facei clic pe butonul de urmrire!","Could not save your like setting because of an error.":"Nu s-a putut salva setarea dvs. similar din cauza unei erori.","Could not save your follow setting because of an error.":"Nu s-a putut salva setarea de urmrire din cauza unei erori.","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"Alegei o locaie pentru ideea dvs. trgnd & aruncnd marcajul. Putei schimba aceast locaie ulterior.","Back to location selection":"napoi la selecia locaiei","Protected Content":"Coninutul Protejat","Sorry, but you cannot view details for this content.":"Scuze, dar nu putei vedea detalii pentru acest coninut.","This can happen when its visibility settings have changed recently.":"Acest lucru se poate ntmpla atunci cnd setrile sale de vizibilitate s-au schimbat recent.","Please register or log in to continue!":"V rugm s v nregistrai sau s v autentificai pentru a continua!","Error!":"Eroare!","Sorry, but the requested content could not be retrieved from the server.":"Scuz, dar coninutul solicitat nu a putut fi preluat de pe server.","Visit Event Page":"Accesai Pagina de Evenimente","You will now receive notifications for comments or when this event is updated or its details change.":"A cum vei primi notificri pentru comentarii sau cnd acest eveniment este actualizat sau detaliile sale se schimb.","Hidden Users":"Utilizatorii ascuni","Hidden User":"Utilizator ascuns","You are a Member":"Suntei membru","Join Group":"Alturai-v Grupului","Message Group":"Grup de Mesaje","Author":"Autor","Create Project from Idea":"Creai Proiect din Idea","Edit your Idea":"Editeaz-i Ideea","You will receive a notification when a project is created from your liked idea.":"Vei primi o notificare atunci cnd un proiect este creat din ideea dvs. preferat.","Projects - Created from this Idea":"Proiecte - Create din aceast Idee","You are a Admin":"Suntei un Administrator","Open to be contacted about potential collaboration opportunities":"Deschis pentru a fi contactat cu privire la oportunitile de colaborare poteniale","Does NOT wish to be contacted for potential collaboration!":"Nu dorete s fie contactat pentru o colaborare potenial!","Join Project":"Alturai-v Proiectului","Message Project":"Proiect de Mesaje","Move up":"Mut n sus","Move down":"Mut n jos","There are no items yet":"Nu exist articole nc","Nothing here yet.":"","Groups and Projects":"Grupuri i Proiecte","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"Aici putei gsi o imagine de ansamblu asupra Grupurilor i Proiectelor dvs. odat ce ai activat ntr-unul sau mai multe dintre acestea.","You can create Groups or Projects via the '+' button in the header.":"Putei crea Grupuri sau Proiecte prin intermediul '+' buton n antet.","Ideas I like":"Idei mi plac","Here you can find an overview of Ideas you have liked.":"Aici putei gsi o imagine o imagine de ansamblu a Ideilor care v-au plcut.","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"Putei s v creai propriile Idei cu ajutorul butonului '+' din antet sau putei descoperi Idei existente aici","Discover":"Descoperi","We could not load more data at this time.":"Nu am putut ncrca mai multe date n acest moment.","Retry":"Rencercare"},"nl":{"Groups":"Groepen","Like":"Vind ik leuk","Group":"Groep","Title":"Titel","Workshops":"Workshops","Results":"Resultaten","Participants":"Deelnemers","Description":"Beschrijving","Project":"Project","Topics":"Onderwerpen","Likes":"Likes","User":"Gebruiker","Liked":"Ge-liked","Following":"Volgend","Events":"Evenementen","Projects":"Projecten","Members":"Leden","Follow":"Volgen","Event":"Evenement","Report offensive content":"Aanstootgevende inhoud melden","From":"Van","Until":"Tot","Contact":"Contact","Send Message":"Bericht versturen","Invitations":"Uitnodigingen","You will now receive notifications for content posted in this project.":"Je ontvangt nu meldingen wanneer inhoud in dit project wordt geplaatst.","You will now receive notifications for content posted in this group.":"Je ontvangt nu meldingen wanneer inhoud in deze groep wordt geplaatst.","Sustainable Development Goals":"Doelstellingen duurzame ontwikeling","Membership request pending...":"Lidmaatschapsverzoek in behandeling","You are invited!":"Je bent uitgenodigd!","All Groups":"Alle groepen","All Projects":"Alle projecten","Organizations":"Organisaties","Create Idea":"Idee aanmaken","People":"Mensen","My Groups":"Mijn groepen","My Projects":"Mijn projecten","Ideas":"Ideen","My Ideas":"Mijn ideen","All Ideas":"Alle ideen","My Organizations":"Mijn organisaties","All Organizations":"Alle organisaties","My Users":"Mijn gebruikers","My Events":"Mijn evenementen","All Users":"Alle gebruikers","All Events":"Alle evenementen","Idea":"Idee","Organization":"Organisatie","Create User":"Gebruiker aanmaken","Create Event":"Evenement aanmaken","Create Project":"Project aanmaken","Create Group":"Groep aanmaken","Create Organization":"Organisatie aanmaken","Categories":"","SDGS":"SDGS","Search for Names, Topics and Places...":"Zoeken naar namen, onderwerpen en plaatsen","Search for Names and Topics...":"Zoeken naar namen en onderwerpen","Where":"Waar","In map area":"In kaartgebied","If active, searching will be restricted to the visible map area.":"Indien actief, wordt zoeken beperkt tot het zichtbare kaartgebied.","Apply Filters":"Filters toepassen","Clear Filters":"Filters wissen","Street":"Straat","Create idea":"Idee aanmaken","Next":"Volgende","Choose a location for your idea by dragging the marker!":"Kies een locatie voor je idee door de markering te slepen!","of":"uit","No results found.":"Geen resultaten gevonden.","Could not complete the search due to an error.":"Kan de zoekopdracht niet voltooien vanwege een fout.","Search when moving the map":"Zoeken door het verplaatsen van de kaart","Search this area":"Zoeken in dit gebied","Membership Requests":"Lidmaatschapsverzoek","My Groups and Projects":"Mijn groepen en projecten","Show more Projects of this Group":"Toon meer projecten van deze groep","You are not in any groups or projects yet":"Je zit nog niet in groepen of projecten","Create new Group":"Nieuwe groep aanmaken","Create new Project":"Nieuw project aanmaken","Browse all Groups":"Blader door alle groepen","Browse all Projects":"Blader door alle projecten","You have not created any organizations yet.":"Je hebt niet ge-RSVPED op evenementen.","Create new Organization":"Nieuwe organisatie aanmaken","Browse all Organizations":"Blader door alle organisaties","Search for Organizations":"Zoek naar organisaties","Ideas I am following":"Ideen die ik volg","You are not following any ideas yet.":"Je volgt nog geen ideen.","Post new Idea":"Nieuw idee posten","Browse all Ideas":"Blader door alle ideen","Search for Ideas":"Zoek naar ideen","You have not RSVPed to any Events.":"Je hebt niet ge-RSVPED op evenementen.","Add Event":"Evenement toevoegen","Go to Calendar":"Ga naar kalender","There was an error loading the widget":"Er is een fout opgetreden bij het laden van de widget","Notifications":"Notificaties","Show more":"Toon meer","No current notifications":"Momenteel geen notificaties","Find on map:":"","Entire Network":"Volledig netwerk","On the Map":"Op de kaart","In my Groups and Projects":"In mijn groepen en projecten","Topic":"Onderwerp","SDG":"SDG","from":"","You":"Jij","Projects/Groups":"Projecten/groepen","No info.":"Geen informatie.","Administrator":"Beheerder","Administrators":"Beheerders","Administrators unknown":"Beheerders onbekend","No description yet.":"Nog geen beschrijving.","max.":"","If you do not want notifications, click the unfollow button!":"Als je geen meldingen wilt ontvangen, klik je op de knop niet meer volgen!","Could not save your like setting because of an error.":"Kan je like-instelling niet opslaan vanwege een fout.","Could not save your follow setting because of an error.":"Kan je volginstelling niet opslaan vanwege een fout.","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"Kies een locatie voor je idee door de markering te slepen en neer te zetten. Je kunt deze locatie later nog wijzigen.","Back to location selection":"Terug naar locatie selectie","Protected Content":"Beschermde inhoud","Sorry, but you cannot view details for this content.":"Sorry, je kunt geen details bekijken voor deze inhoud.","This can happen when its visibility settings have changed recently.":"Dit kan gebeuren wanneer de zichtbaarheidsinstellingen onlangs zijn gewijzigd.","Please register or log in to continue!":"Registreer of log in om door te gaan!","Error!":"Foutmelding!","Sorry, but the requested content could not be retrieved from the server.":"Sorry, de gevraagde inhoud kon helaas niet worden opgehaald van de server.","Visit Event Page":"Bezoek evenementenpagina","You will now receive notifications for comments or when this event is updated or its details change.":"Je ontvangt nu meldingen voor reacties of wanneer dit evenement wordt bijgewerkt of de details ervan veranderen.","Hidden Users":"Verborgen gebruikers","Hidden User":"Verborgen gebruiker","You are a Member":"Je bent lid","Join Group":"Deelnemen aan groep","Message Group":"Bericht sturen aan groep","Author":"Auteur","Create Project from Idea":"Maak project aan van idee","Edit your Idea":"Wijzig je idee","You will receive a notification when a project is created from your liked idea.":"Je ontvangt een melding wanneer een project wordt gemaakt op basis van je idee.","Projects - Created from this Idea":"Projecten - gemaakt van dit idee","You are a Admin":"Je bent beheerder","Open to be contacted about potential collaboration opportunities":"Open om gecontacteerd te worden over mogelijke samenwerkingsmogelijkheden","Does NOT wish to be contacted for potential collaboration!":"Wenst NIET gecontacteerd te worden voor mogelijke samenwerking!","Join Project":"Meedoen aan project","Message Project":"Bericht project","Move up":"Omhoog","Move down":"Omlaag","There are no items yet":"Er zijn nog geen items","Nothing here yet.":"","Groups and Projects":"Groepen en projecten","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"Hier vind je een overzicht van je groepen en projecten zodra je in een of meer actief wordt.","You can create Groups or Projects via the '+' button in the header.":"Je kunt groepen of projecten maken via de knop + in de header.","Ideas I like":"Ideen die ik leuk vind","Here you can find an overview of Ideas you have liked.":"Hier vind je een overzicht van ideen die je leuk vindt.","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"Je kunt je eigen ideen maken via de knop + in de header of je kunt hier bestaande ideen ontdekken","Discover":"Ontdekken","We could not load more data at this time.":"We kunnen momenteel geen gegevens meer laden.","Retry":"Opnieuw proberen"},"az":{"Groups":"Qruplar","Like":"Bynm","Group":"Qrup","Title":"Balq","Workshops":"","Results":"Nticlr","Participants":"tiraklar","Description":"Tsvir","Project":"Layih","Topics":"Mvzular","Likes":"Bynmlr","User":"stifadi","Liked":"Bynilmilr","Following":"Aadak","Events":"Tdbirlr","Projects":"Layihlr","Members":"zvlr","Follow":"zl","Event":"Tdbir","Report offensive content":"Thqiramiz mzmunu bildirin","From":"Dan/dn","Until":"Qdr","Contact":"laq","Send Message":"Mesaj Gndrin","Invitations":"Dvtlr","You will now receive notifications for content posted in this project.":"ndi bu layihd yerldiriln mzmun n bildirilr alacaqsnz.","You will now receive notifications for content posted in this group.":"ndi bu qrupda yerldiriln mzmun n bildirilr alacaqsnz.","Sustainable Development Goals":"","Membership request pending...":"zvlk tlbi gzlyir...","You are invited!":"Siz dvtlisiniz!","All Groups":"Btn qruplar","All Projects":"Btn layihlr","Create Idea":"dea Yaradn","People":"nsanlar","My Groups":"Mnim Qrupum","My Projects":"Mnim layihlrim","Ideas":"deyalar","My Ideas":"Mnim deyalarm","All Ideas":"Btn deyalar","My Organizations":"","All Organizations":"","Include contents from other platforms":"","My Users":"stifadilrim","My Events":"Tdbirlrim","All Users":"Btn istifadilr","All Events":"Btn Tdbirlr","Idea":"deya","Create User":"stifadi Yaradn","Create Event":"Tdbir Yaradn","Create Project":"Layih Yaradn","Create Group":"Qrup Yaradn","Categories":"","SDGS":"","Search for Names, Topics and Places...":"Adlar, mvzular v Yerlr n axtar...","Search for Names and Topics...":"Adlar v mvzular n axtar...","Where":"Hara","In map area":"Xrit blgsind","If active, searching will be restricted to the visible map area.":"Aktiv olduqda, grnn xrit sahsi il mhdudlaacaqdr.","Apply Filters":"Filtrlr ttbiq edin","Clear Filters":"Filtrlri tmizlyin","Street":"K","Create idea":"dea Yaradn","Next":"Nvbti","Choose a location for your idea by dragging the marker!":"Markeri srdrrk ideyanz n bir dislokasiya sein!","of":"n/in/n/un","No results found.":"He bir ntic taplmad.","Could not complete the search due to an error.":"Shv sbbindn axtar baa atdrla bilmdi.","Search when moving the map":"Xritni hrkt edrkn axtarn","Search this area":"Bu razini aradrn","Membership Requests":"zvlk stklri","My Groups and Projects":"Qruplarm v Layihlrim","Show more Projects of this Group":"Bu Qrupun Layihlrini daha ox gstr","You are not in any groups or projects yet":"Hl he bir qrupda v ya layihd deyilsiniz","Create new Group":"Yeni Qrup Yaradn","Create new Project":"Yeni Layih Yaradn","Browse all Groups":"Btn Qruplar gstrin","Browse all Projects":"Btn Layihlri gstrin","Ideas I am following":"zldiyim deyalar","You are not following any ideas yet.":"Hl he bir ideya izlmirsiniz.","Post new Idea":"Yeni deya gndrin","Browse all Ideas":"Btn deyalar gstrin","Search for Ideas":"deyalar n Axtar","You have not RSVPed to any Events.":"He bir Tdbir dvtin cavab vermmisiniz.","Add Event":"Tdbir lav et","Go to Calendar":"Tqvim get","There was an error loading the widget":"Widjet yklnrkn xta ba verdi","Notifications":"Bildirilr","Show more":"Daha ox gstr","No current notifications":"Cari bildiri yoxdur","Find on map:":"","Entire Network":"Btn bk","On the Map":"Xritd","In my Groups and Projects":"In my Groups and Projects","Topic":"Mvzu","SDG":"","from":"","You":"Sn","Projects/Groups":"Layihlr/Qruplar","No info.":"Mlumat yoxdur.","Administrator":"Admin","Administrators":"Adminlr","Administrators unknown":"Namlum adminlr","No description yet.":"Hl tsvir yoxdur.","max.":"","If you do not want notifications, click the unfollow button!":"Bildirilr almaq istmirsinizs, izlmni dayandr dymsin kliklyin!","Could not save your like setting because of an error.":"Xta sbbindn bynm parametrinizi yaddada saxlaya bilmdik.","Could not save your follow setting because of an error.":"Xta sbbindn izlm parametrinizi yaddada saxlaya bilmdik.","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"Markeri sryb ataraq ideyalarnz n bir dislokasiya sein. Daha sonra bu yeri dyi bilrsiniz.","Back to location selection":"Dislokasiya seimin qayt","Protected Content":"Qorunan Mzmun","Sorry, but you cannot view details for this content.":"Balayn, lakin bu mzmun n tfrratlar gr bilmzsiniz.","This can happen when its visibility settings have changed recently.":"Grm parametrlri yaxn zamanda dyidikd bu ba ver bilr.","Please register or log in to continue!":"Xahi edirm qeydiyyatdan kein v ya davam etmk n daxil olun!","Error!":"Xta!","Sorry, but the requested content could not be retrieved from the server.":"Balayn, ancaq tlb olunan mzmunu serverdn almaq mmkn olmad.","Visit Event Page":"Tdbir Shifsin ba kin","You will now receive notifications for comments or when this event is updated or its details change.":"ndi rhlr n v ya bu tdbir yenilndikd v ya detallar dyidikd bildirilr alacaqsnz.","Hidden Users":"Gizli stifadilr","Hidden User":"Gizli stifadi","You are a Member":"Siz zvsnz","Join Group":"Qrupa Qoulun","Message Group":"Qrupa Mesaj yaz","Author":"Mllif","Create Project from Idea":"deayadan Layih Yaradn","Edit your Idea":"deaynz redakt edin","You will receive a notification when a project is created from your liked idea.":"Byndiyiniz ideyalardan bir layih yaradldqda bir bildiri alacaqsnz.","Projects - Created from this Idea":"Layihlr - Bu deyadan yaradlb","Open to be contacted about potential collaboration opportunities":"Potensial mkdalq imkanlar n laq qurmaa aq olun","Does NOT wish to be contacted for potential collaboration!":"Potensial mkdalq n laq qurmaq STMR!","Join Project":"Layihy qoulun","Message Project":"Layihy Mesaj yaz","Move up":"Yuxarya doru hrkt edin","Move down":"Aaya doru hrkt edin","There are no items yet":"Hllik yalar yoxdur","Nothing here yet.":"","Groups and Projects":"Qruplar v Layihlr","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"Qruplarnz v Layihlrinizin icmaln bunlardan birind v ya bir nesind fal olduqdan sonra tapa bilrsiniz.","You can create Groups or Projects via the '+' button in the header.":"Balqdak '+' dymsin vasitsil Qruplar v ya Layihlr yarada bilrsiniz.","Ideas I like":"Byndiyim ideyalar","Here you can find an overview of Ideas you have liked.":"Burada byndiyiniz ideyalarn mumi icmaln tapa bilrsiniz.","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"Balqdak '+' dymsin il z deyalarnz yarada bilrsiniz v ya mvcud deyalar burada akar ed bilrsiniz","Discover":"Akar etmk","We could not load more data at this time.":"Bu anda daha ox mlumat ykly bilmdik.","Retry":"Yenidn chd edin"},"hy":{"Groups":"","Like":"","Group":"","Title":"","Workshops":"","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"","Liked":"","Following":" ","Events":"","Projects":"","Members":"","Follow":"","Event":"","Report offensive content":"   ","From":"","Until":"","Contact":"","Send Message":" ","Invitations":"","You will now receive notifications for content posted in this project.":"        .","You will now receive notifications for content posted in this group.":"        .","Sustainable Development Goals":"","Membership request pending...":"     ...","You are invited!":"  !","All Groups":" ","All Projects":" ","Create Idea":" ","People":"","My Groups":" ","My Projects":" ","Ideas":"","My Ideas":" ","All Ideas":" ","My Organizations":"","All Organizations":"","Include contents from other platforms":"","My Users":" ","My Events":" ","All Users":" ","All Events":" ","Idea":"","Create User":" ","Create Event":" ","Create Project":" ","Create Group":" ","Categories":"","SDGS":"","Search for Names, Topics and Places...":" ,    ...","Search for Names and Topics...":"    ...","Where":"","In map area":" ","If active, searching will be restricted to the visible map area.":"       .","Apply Filters":" ","Clear Filters":" ","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":"      !","of":"-","No results found.":"    .","Could not complete the search due to an error.":"    .","Search when moving the map":"  ","Search this area":"  ","Membership Requests":" ","My Groups and Projects":"   ","Show more Projects of this Group":"     ","You are not in any groups or projects yet":"       ","Create new Group":"  ","Create new Project":"  ","Browse all Groups":"  ","Browse all Projects":"  ","Ideas I am following":",    ","You are not following any ideas yet.":"      .","Post new Idea":"  ","Browse all Ideas":"  ","Search for Ideas":" ","You have not RSVPed to any Events.":"   RSVP  .","Add Event":" ","Go to Calendar":" ","There was an error loading the widget":"    ","Notifications":"","Show more":" ","No current notifications":"  ","Find on map:":"","Entire Network":" ","On the Map":" ","In my Groups and Projects":"  / ","Topic":"","SDG":"","from":"","You":"","Projects/Groups":" / ","No info.":" .","Administrator":"","Administrators":"","Administrators unknown":"  ","No description yet.":"  .","max.":"","If you do not want notifications, click the unfollow button!":"     ,  unfollow !","Could not save your like setting because of an error.":"     .","Could not save your follow setting because of an error.":"     .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"       :          .","Back to location selection":"   ","Protected Content":" ","Sorry, but you cannot view details for this content.":",        .","This can happen when its visibility settings have changed recently.":"      ,        .","Please register or log in to continue!":"        !","Error!":"!","Sorry, but the requested content could not be retrieved from the server.":",       .","Visit Event Page":"  ","You will now receive notifications for comments or when this event is updated or its details change.":"     ,         .","Hidden Users":" ","Hidden User":" ","You are a Member":"  ","Join Group":" ","Message Group":"  ","Author":"","Create Project from Idea":"  ","Edit your Idea":"  ","You will receive a notification when a project is created from your liked idea.":"  ,      .","Projects - Created from this Idea":" -   ","Open to be contacted about potential collaboration opportunities":"     ","Does NOT wish to be contacted for potential collaboration!":"     !","Join Project":" ","Message Project":" ","Move up":"","Move down":"","There are no items yet":"  ","Nothing here yet.":"","Groups and Projects":"  ","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"                  .","You can create Groups or Projects via the '+' button in the header.":"         '+'  .","Ideas I like":"  ","Here you can find an overview of Ideas you have liked.":"       .","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"          +        ","Discover":"","We could not load more data at this time.":"       .","Retry":" "},"ka":{"Groups":"","Like":"","Group":"","Title":"","Workshops":"","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"","Liked":"","Following":"","Events":"","Projects":"","Members":"","Follow":" ","Event":"","Report offensive content":"  ","From":"","Until":"","Contact":"","Send Message":" ","Invitations":"","You will now receive notifications for content posted in this project.":"       .","You will now receive notifications for content posted in this group.":"       .","Sustainable Development Goals":"","Membership request pending...":"  ...","You are invited!":"  !","All Groups":" ","All Projects":" ","Create Idea":" ","People":"","My Groups":" ","My Projects":" ","Ideas":"","My Ideas":" ","All Ideas":" ","My Organizations":"","All Organizations":"","Include contents from other platforms":"","My Users":" ","My Events":" ","All Users":" ","All Events":" ","Idea":"","Create User":" ","Create Event":" ","Create Project":" ","Create Group":" ","Categories":"","SDGS":"","Search for Names, Topics and Places...":",    ...","Search for Names and Topics...":"   ...","Where":"","In map area":" ","If active, searching will be restricted to the visible map area.":" ,      .","Apply Filters":" ","Clear Filters":" ","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":"      !","No results found.":"  .","Could not complete the search due to an error.":"     .","Search when moving the map":"  ","Search this area":"  ","Membership Requests":" ","My Groups and Projects":"   ","Show more Projects of this Group":"    ","You are not in any groups or projects yet":"       ","Create new Group":"  ","Create new Project":"  ","Browse all Groups":"  ","Browse all Projects":"  ","Ideas I am following":"   ","You are not following any ideas yet.":"     .","Post new Idea":"  ","Browse all Ideas":"  ","Search for Ideas":" ","You have not RSVPed to any Events.":"   RSVPed  .","Add Event":" ","Go to Calendar":" ","There was an error loading the widget":"   ","Notifications":"","Show more":" ","No current notifications":" ","Find on map:":"","Entire Network":" ","On the Map":"","In my Groups and Projects":"   ","Topic":"","SDG":"","from":"","You":"","Projects/Groups":"/","No info.":"  .","Administrator":"","Administrators":"","Administrators unknown":"   ","No description yet.":"   .","max.":"","If you do not want notifications, click the unfollow button!":"    ,    !","Could not save your like setting because of an error.":" ,      .","Could not save your follow setting because of an error.":" ,      .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"      .     .","Back to location selection":"  ","Protected Content":" ","Sorry, but you cannot view details for this content.":" ,        .","This can happen when its visibility settings have changed recently.":"  ,       .","Please register or log in to continue!":",    !","Error!":"!","Sorry, but the requested content could not be retrieved from the server.":" ,     .","Visit Event Page":"  ","You will now receive notifications for comments or when this event is updated or its details change.":"    . ,        .","Hidden Users":" ","Hidden User":" ","You are a Member":"  ","Join Group":" ","Message Group":"  ","Author":"","Create Project from Idea":"  ","Edit your Idea":"  ","You will receive a notification when a project is created from your liked idea.":"  ,       .","Projects - Created from this Idea":" -   ","Open to be contacted about potential collaboration opportunities":",      ","Does NOT wish to be contacted for potential collaboration!":"    !","Join Project":" ","Message Project":"  ","Move up":"","Move down":"","There are no items yet":"   ","Nothing here yet.":"","Groups and Projects":"  ","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"       ,      -  .","You can create Groups or Projects via the '+' button in the header.":"      '+'   .","Ideas I like":",   ","Here you can find an overview of Ideas you have liked.":"       .","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"      '+'       ","Discover":"","We could not load more data at this time.":"      .","Retry":""},"kk":{"Groups":"","Like":"","Group":"","Title":"","Workshops":"","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"","Liked":"","Following":"","Events":"","Projects":"","Members":"","Follow":"","Event":"","Report offensive content":" ","From":"","Until":"","Contact":"","Send Message":"X ","Invitations":"","You will now receive notifications for content posted in this project.":"       .","You will now receive notifications for content posted in this group.":"       .","Sustainable Development Goals":"","Membership request pending...":"  .","You are invited!":" !","All Groups":" ","All Projects":" ","Create Idea":" ","People":"","My Groups":" ","My Projects":" ","Ideas":"","My Ideas":" ","All Ideas":" ","My Organizations":"","All Organizations":"","Include contents from other platforms":"","My Users":" ","My Events":" ","All Users":" ","All Events":" ","Idea":"","Create User":" ","Create Event":" ","Create Project":" ","Create Group":" ","Categories":"","SDGS":"","Search for Names, Topics and Places...":",    .","Search for Names and Topics...":"   .","Where":"","In map area":"","If active, searching will be restricted to the visible map area.":" ,     .","Apply Filters":" ","Clear Filters":"  ","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":" ,    !","of":"","No results found.":" .","Could not complete the search due to an error.":"     .","Search when moving the map":"  ","Search this area":"  ","Membership Requests":" ","My Groups and Projects":"   ","Show more Projects of this Group":"    ","You are not in any groups or projects yet":"      ","Create new Group":"  ","Create new Project":"  ","Browse all Groups":"  ","Browse all Projects":"  ","Ideas I am following":"  ","You are not following any ideas yet.":"    .","Post new Idea":"  ","Browse all Ideas":"  ","Search for Ideas":" ","You have not RSVPed to any Events.":"    .","Add Event":" ","Go to Calendar":" ","There was an error loading the widget":"     ","Notifications":"","Show more":" ","No current notifications":" ","Find on map:":"","Entire Network":" ","On the Map":"","In my Groups and Projects":"   ","Topic":"","SDG":"","from":"","You":"","Projects/Groups":"/","No info.":" .","Administrator":"","Administrators":"","Administrators unknown":" ","No description yet.":" .","max.":"","If you do not want notifications, click the unfollow button!":"    ,    !","Could not save your like setting because of an error.":" ,     .","Could not save your follow setting because of an error.":"      .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"       .      .","Back to location selection":"  ","Protected Content":" ","Sorry, but you cannot view details for this content.":",        .","This can happen when its visibility settings have changed recently.":"         .","Please register or log in to continue!":"    !","Error!":"!","Sorry, but the requested content could not be retrieved from the server.":",      .","Visit Event Page":" ","You will now receive notifications for comments or when this event is updated or its details change.":"              .","Hidden Users":" ","Hidden User":" ","You are a Member":" ","Join Group":" ","Message Group":"  ","Author":"","Create Project from Idea":"  ","Edit your Idea":" ","You will receive a notification when a project is created from your liked idea.":"        .","Projects - Created from this Idea":" -   ","Open to be contacted about potential collaboration opportunities":"     ","Does NOT wish to be contacted for potential collaboration!":"    !","Join Project":" ","Message Project":"  ","Move up":" ","Move down":" ","There are no items yet":"    ","Nothing here yet.":"","Groups and Projects":"  ","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"             .","You can create Groups or Projects via the '+' button in the header.":" +        .","Ideas I like":"  ","Here you can find an overview of Ideas you have liked.":"      .","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":" +             ","Discover":" ","We could not load more data at this time.":"      .","Retry":""},"he":{"Groups":"","Like":"","Group":"","Title":"","Workshops":"","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"","Liked":"","Following":"","Events":"","Projects":"","Members":"","Follow":"","Event":"","Report offensive content":"   ","From":"","Until":"","website":" ","Contact":"  ","Send Message":" ","Invitations":"","You will now receive notifications for content posted in this project.":"       .","You will now receive notifications for content posted in this group.":"       .","Sustainable Development Goals":"   ","Membership request pending...":"  ...","You are invited!":"!","All Groups":" ","All Projects":" ","Organizations":"","Create Idea":" ","People":"","My Groups":" ","My Projects":" ","Ideas":"","My Ideas":" ","All Ideas":" ","My Organizations":" ","All Organizations":" ","My Users":" ","My Events":" ","My Cloud Files":"  ","All Users":" ","All Events":" ","Cloud Files":" ","Idea":"","Organization":"","Cloud File":" ","Create User":" ","Create Event":" ","Create Project":" ","Create Group":" ","Create Organization":" ","Categories":"","SDGS":"   ","Search for Names, Topics and Places...":" ,  ...","Search for Names and Topics...":"  ...","Where":"","In map area":" ","If active, searching will be restricted to the visible map area.":"  ,      .","Apply Filters":" ","Clear Filters":" ","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":"     -  !","of":"","No results found.":"  .","Could not complete the search due to an error.":"       .","Search when moving the map":"   ","Search this area":"  ","Membership Requests":" ","My Groups and Projects":"  ","Show more Projects of this Group":"     ","You are not in any groups or projects yet":"       ","Create new Group":"  ","Create new Project":"  ","Browse all Groups":"  ","Browse all Projects":"  ","You have not created any organizations yet.":"  .","Create new Organization":"  ","Browse all Organizations":"  ","Search for Organizations":" ","Ideas I am following":"   ","You are not following any ideas yet.":"     .","Post new Idea":"  ","Browse all Ideas":"  ","Search for Ideas":" ","You have not RSVPed to any Events.":"  RSVPed  .","Add Event":" ","Go to Calendar":"   ","There was an error loading the widget":"   ","Notifications":"","Show more":" ","No current notifications":" ","Find on map:":"","Entire Network":" ","On the Map":" ","In my Groups and Projects":"  ","In my Cloud Files":"  ","Topic":"","SDG":"   ","from":"","You":"/","Projects/Groups":"/","No info.":" .","Administrator":" ","Administrators":" ","Administrators unknown":"   ","No description yet.":"  .","max.":".","You are participating":"  ","Participation request pending...":"  ...","Participate":"","Contact organizers":"   ","You will now receive notifications for content posted.":"     .","If you do not want notifications, click the unfollow button!":"    ,     !","Could not save your like setting because of an error.":"      -like   .","Could not save your follow setting because of an error.":"        .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"     -   .       .","Back to location selection":"  ","Protected Content":" ","Sorry, but you cannot view details for this content.":",       .","This can happen when its visibility settings have changed recently.":"        .","Please register or log in to continue!":"     !","Error!":"!","Sorry, but the requested content could not be retrieved from the server.":",         .","Visit Event Page":"  ","You will now receive notifications for comments or when this event is updated or its details change.":"    ,    .","Hidden Users":" ","Hidden User":" ","You are a Member":" ","Join Group":" ","Message Group":"  ","Author":"","Create Project from Idea":"  ","Edit your Idea":"   ","You will receive a notification when a project is created from your liked idea.":"      .","Projects - Created from this Idea":"   ","You are a Admin":"  ","Ownership request pending...":"  ...","Projects and groups":" ","Project/group":"/","Open to be contacted about potential collaboration opportunities":"       ","Does NOT wish to be contacted for potential collaboration!":"        !","Join Project":" ","Message Project":"/  ","Move up":" ","Move down":" ","There are no items yet":"  ","Items you follow":"   ","Nothing here yet.":"  .","Groups and Projects":" ","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"              .","You can create Groups or Projects via the '+' button in the header.":"       '+'  .","Ideas I like":"  /","Here you can find an overview of Ideas you have liked.":"       .","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"      '+'       ","Discover":"/","We could not load more data at this time.":"        .","Retry":" "},"ar":{"Groups":"","Like":"","Group":"","Title":"","Workshops":" ","Results":"","Participants":"","Description":"","Project":"","Topics":"","Likes":"","User":"","Events":"","Projects":"","Members":"","Follow":"","Event":"","Report offensive content":"   ","From":"","Until":"","Contact":"","Send Message":" ","Invitations":"","You will now receive notifications for content posted in this project.":"       .","You will now receive notifications for content posted in this group.":"       .","Sustainable Development Goals":"  ","Membership request pending...":"  ...","You are invited!":" !","All Groups":" ","All Projects":" ","Organizations":"","Create Idea":" ","People":"","My Groups":"","My Projects":"","Ideas":"","My Ideas":"","All Ideas":" ","My Organizations":"","All Organizations":" ","My Users":" ","My Events":" ","My Cloud Files":"  ","All Users":" ","All Events":" ","Cloud Files":" ","Idea":"","Organization":"","Cloud File":" ","Create User":" ","Create Event":" ","Create Project":" ","Create Group":" ","Create Organization":" ","Categories":"","SDGS":"   SDGS","Search for Names, Topics and Places...":"    ...","Search for Names and Topics...":"   ...","Where":"","In map area":"  ","If active, searching will be restricted to the visible map area.":"        .","Apply Filters":"   ","Clear Filters":"   ","Street":"","Create idea":" ","Next":"","Choose a location for your idea by dragging the marker!":"      !","of":"","No results found.":"    .","Could not complete the search due to an error.":"    .","Search when moving the map":"   ","Search this area":"   ","Membership Requests":" ","My Groups and Projects":" ","Show more Projects of this Group":"     ","You are not in any groups or projects yet":"        ","Create new Group":"  ","Create new Project":"  ","Browse all Groups":"  ","Browse all Projects":"  ","You have not created any organizations yet.":"        .","Create new Organization":"  ","Browse all Organizations":"  ","Search for Organizations":"  ","Ideas I am following":"  ","You are not following any ideas yet.":"      .","Post new Idea":"  ","Browse all Ideas":"  ","Search for Ideas":"  ","You have not RSVPed to any Events.":"        .","Add Event":" ","Go to Calendar":"  ","There was an error loading the widget":"    ","Notifications":"","Show more":" ","No current notifications":"   ","Find on map:":"","Entire Network":" ","On the Map":" ","In my Groups and Projects":"  ","In my Cloud Files":"   ","Topic":"","SDG":"   SDG","from":"","You":"","Projects/Groups":"/","No info.":" .","Administrator":"","Administrators":"","Administrators unknown":"  ","No description yet.":"    .","max.":"","You are participating":" ","Participation request pending...":"  ...","Participate":"","Contact organizers":" ","You will now receive notifications for content posted.":"       .","If you do not want notifications, click the unfollow button!":"         !","Could not save your like setting because of an error.":"       .","Could not save your follow setting because of an error.":"     .","Choose a location for your idea by dragging & dropping the marker. You can still change this location later on.":"       .       .","Back to location selection":"   ","Protected Content":" ","Sorry, but you cannot view details for this content.":"       .","This can happen when its visibility settings have changed recently.":"          .","Please register or log in to continue!":"    !","Error!":"!","Sorry, but the requested content could not be retrieved from the server.":"        .","Visit Event Page":"   ","You will now receive notifications for comments or when this event is updated or its details change.":"            .","Hidden Users":" ","Hidden User":" ","You are a Member":" ","Join Group":" ","Message Group":"   ","Author":"","Create Project from Idea":"   ","Edit your Idea":"  ","You will receive a notification when a project is created from your liked idea.":"       .","Projects - Created from this Idea":" -      ","You are a Admin":" ","Ownership request pending...":"  ...","Projects and groups":" ","Project/group":"/","Open to be contacted about potential collaboration opportunities":"        ","Does NOT wish to be contacted for potential collaboration!":"          !","Join Project":"  ","Message Project":"   ","Move up":"  ","Move down":"  ","There are no items yet":"    ","Items you follow":"  ","Nothing here yet.":"    .","Groups and Projects":" ","Here you can find an overview of your Groups and Projects once you become active in one or more of them.":"                 .","You can create Groups or Projects via the '+' button in the header.":"       \"+\"  .","Ideas I like":"   ","Here you can find an overview of Ideas you have liked.":"         .","You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here":"       \"+\"        ","Discover":"","We could not load more data at this time.":"         .","Retry":" "}})[cosinnus_current_language][key];
	        		if (trans && trans.length > 0) {
	        			return trans;
	        		}
	        	}
	            return key;
	        };
	    }
	
	    function Ignore () {
	        this.tags = ['load'];
	        this.parse = parse;
	        this.run = function () {
	            return '';
	        };
	    }
	
	    env.addExtension('translation', new Translation());
	    env.addExtension('passThrough', new Ignore());
	}


/***/ }),
/* 10 */
/***/ (function(module, exports) {

	module.exports = function (nunjucks, env, obj, dependencies){
	
	    var oldRoot = obj.root;
	
	    obj.root = function( env, context, frame, runtime, ignoreMissing, cb ) {
	        var oldGetTemplate = env.getTemplate;
	        env.getTemplate = function (name, ec, parentName, ignoreMissing, cb) {
	            if( typeof ec === "function" ) {
	                cb = ec = false;
	            }
	            var _require = function (name) {
	                try {
	                    // add a reference to the already resolved dependency here
	                    return dependencies[name];
	                }
	                catch (e) {
	                    if (frame.get("_require")) {
	                        return frame.get("_require")(name);
	                    }
	                    else {
	                        console.warn('Could not load template "%s"', name);
	                    }
	                }
	            };
	
	            var tmpl = _require(name);
	            frame.set("_require", _require);
	
	            if( ec ) tmpl.compile();
	            cb( null, tmpl );
	        };
	
	        oldRoot(env, context, frame, runtime, ignoreMissing, function (err, res) {
	            env.getTemplate = oldGetTemplate;
	            cb( err, res );
	        });
	    };
	
	    var src = {
	        obj: obj,
	        type: 'code'
	    };
	
	    return new nunjucks.Template(src, env);
	
	};

/***/ }),
/* 11 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/map/popup.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	output += "<div class=\"popup\">\n    <img src=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "imageURL"), env.opts.autoescape);
	output += "\" />\n    <div class=\"details\">\n        <div class=\"link\">\n            <a href=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "url"), env.opts.autoescape);
	output += "\" target=\"_blank\">";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "title"), env.opts.autoescape);
	output += "</a>\n        </div>\n        <div class=\"address\">";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "address"), env.opts.autoescape);
	output += "</div>\n        <div class=\"description\">";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "description"), env.opts.autoescape);
	output += "</div>\n    </div>\n</div>\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/map/popup.html"] , dependencies)

/***/ }),
/* 12 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/map/map.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	output += "<div id=\"map-container\" class=\"map-root ";
	if(runtime.contextOrFrameLookup(context, frame, "fullscreen")) {
	output += " map-fullscreen ";
	;
	}
	else {
	output += " map-embed ";
	;
	}
	output += "  ";
	if(runtime.contextOrFrameLookup(context, frame, "splitscreen")) {
	output += " map-splitscreen ";
	;
	}
	output += " mobile-view mobile-view-map-visible-block mobile-view-search-visible-block mobile-view-list-visible-block mobile-view-detail-visible-block mobile-view-idea-create-1-visible-block mobile-view-idea-create-2-visible-block\">\n    <div class=\"map-layers-buttons\"></div>\n    ";
	if(runtime.contextOrFrameLookup(context, frame, "controlsEnabled")) {
	output += "\n\t    <a class=\"map-expand-button mobile-hidden\">\n\t    \t<i class=\"fa fa-fw fa-caret-right expanded\"></i>\t\n\t    \t<i class=\"fa fa-fw fa-search contracted\"></i>\t\n\t    </a>\n    ";
	;
	}
	output += "\n</div>";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/map/map.html"] , dependencies)

/***/ }),
/* 13 */
/***/ (function(module, exports) {

	'use strict';
	
	// Pub-sub event mediator and  data store.
	module.exports = {
	    publish: function (eventName, data) {
	        Backbone.trigger(eventName, data);
	    },
	
	    subscribe: function (event, callback, context) {
	        Backbone.on(event, callback, context);
	    }
	};


/***/ }),
/* 14 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var ContentControlView = __webpack_require__(3);
	var ErrorView = __webpack_require__(15);
	var PaginationControlView = __webpack_require__(17);
	var MobileControlView = __webpack_require__(19);
	var CreateIdeaView = __webpack_require__(21);
	
	var ResultCollection = __webpack_require__(24);
	var Result = __webpack_require__(25);
	
	var util = __webpack_require__(5);
	
	module.exports = ContentControlView.extend({
	    
	    template: __webpack_require__(26),
	    
	    activeFiltersTemplate: __webpack_require__(27),
	    
	    // will be set to self.options during initialization
	    defaults: {
	        availableFilters: {
	            people: true,
	            projects: true,
	            groups: true,
	            events: true,
	        },
	        activeFilters: {
	            people: true,
	            projects: true,
	            groups: true,
	            events: true,
	        },
	        availableFilterList: [], // contains availableFilters keys that are true, generated on initialize
	        
	        allTopics: {},  // the dict of all searchable topics
	        allTextTopics: {},
	        allSDGS: {}, // the dict of all searchable SDGs
	        allManagedTags: {}, // the dict of all searchable CosinnusManagedTags
	        managedTagsLabels: {}, // the labels dict for CosinnusManagedTags
	        showManagedTagsOnTypesSelected: [],
	        showTextTopicsOnTypesSelected: [],
	        portalInfo: {}, // portal info by portal-id, from `get_cosinnus_portal_info()`
	        controlsEnabled: true,
	        filterGroup: null,
	        filterManagedTag: null, // used only for initially setting the state.activeManagedTagsIds
	        fullscreen: false,
	        splitscreen: false,
	        showMine: false, // URL param. if true, only the current user's own results will be shown. ignored away if user is not logged in.
	        hideTopics: false,
	        
	        paginationControlsEnabled: true, 
	        paginationControlsUseInfiniteScroll: false, // if true, the pagination controls will be hidden and infinite scroll will be used
	        
	        // in fullscreen mode, this must always be the base URL we started at
	        basePageURL: '/map/',
	        
	        // will be set to self.state during initialization
	        state: {
	            // current query
	            q: '', // URL param. 
	            activeTopicIds: [],
	            activeTextTopicIds: [],
	            activeSDGIds: [],
	            activeManagedTagsIds: [],
	            filtersActive: false, // URL param.  if true, any filter is active and we display a reset-filter button
	            typeFiltersActive: false, // URL param.  a result type filter is active
	            topicFiltersActive: false, // URL param.  a topic filter is active
	            dateFiltersActive: false, // if the datetime widget pickers and date filters are active. only true if only event-like types are active
	            textTopicFiltersActive: false,
	            sdgFiltersActive: false,
	            managedTagsFiltersActive: false,
	            ignoreLocation: false, // if true, search ignores all geo-loc and even shows results without tagged location
	            exchange: false, // if true, search includes contents from external platforms
	            searching: false,
	            searchHadErrors: false,
	            searchResultLimit: 20,
	            page: null,  // URL param. 
	            pageIndex: 0,
	            searchOnScroll: true,
	            resultsStale: false,
	            urlSelectedResultId: null, // URL param. the currently selected result, given in the url
	            filterPanelVisible: false,
	            lastViewBeforeDetailWasListView: false, // a savestate so we know which view to return to after closing the detail view on mobile,
	            displayManagedTagsFilter: true,
	            displayTextTopcFilter: true,
	            fromDate: null,
	            fromTime: null,
	            toDate: null,
	            toTime: null
	        }
	    },
	    
	    // the main ResultCollection of all displayed results
	    collection: null,
	
	    paginationControlView: null,
	    mobileControlView: null,
	    createIdeaView: null,
	    
	    // the currently hovered on and selected Result items
	    selectedResult: null,
	    hoveredResult: null,
	    detailResult: null, // the Result displayed as DetailView result. not the same as `selectedResult`!
	    detailResultCache: {},
	    
	    searchEndpointURL: '/map/search/',
	    detailEndpointURL: '/map/detail/',
	    searchDelay: 1, // since we are cancelling xhrs properly, we do not need to delay searches anymore. but leaving it in if we ever do again.
	    searchXHRTimeout: 15000,
	    currentSearchHttpRequest: null, 
	    currentDetailHttpRequest: null,
	    
	    initialize: function (options, app, collection) {
	        var self = this;
	        // add conferences models if active
	        if (COSINNUS_CONFERENCES_ENABLED) {
	            self.defaults.availableFilters['conferences'] = true;
	            self.defaults.activeFilters['conferences'] = true;
	        }
	        // add idea models if active
	        if (COSINNUS_IDEAS_ENABLED) {
	        	self.defaults.availableFilters['ideas'] = true;
	        	self.defaults.activeFilters['ideas'] = true;
	        }
	        // add organization models if active
	        if (COSINNUS_ORGANIZATIONS_ENABLED) {
	            self.defaults.availableFilters['organizations'] = true;
	            self.defaults.activeFilters['organizations'] = true;
	        }
	        if (COSINNUS_CLOUD_ENABLED) {
	            self.defaults.availableFilterList['cloudfiles'] = true;
	            self.defaults.activeFilters['cloudfiles'] = false;
	        }
	        ContentControlView.prototype.initialize.call(self, options, app, collection);
	        
	        _.each(this.options.availableFilters, function(active, type){
	            if (active) {
	            	self.options.availableFilterList.push(type); 
	            }
	        });
	        if (COSINNUS_MAP_OPTIONS['filter_panel_default_visible']) {
	            self.state.filterPanelVisible = true;
	        }
	        if (COSINNUS_MAP_OPTIONS['ignore_location_default_activated']) {
	            self.state.ignoreLocation = true;
	        }
	        if (COSINNUS_MAP_OPTIONS['exchange_default_activated']) {
	            self.state.exchange = true;
	        }
	        
	        if (!self.collection) {
	            self.collection = new ResultCollection();
	        }
	        if (options.searchResultLimit && !isNaN(options.searchResultLimit)) {
	        	var searchResultLimit = parseInt(options.searchResultLimit);
	        	if (searchResultLimit > 0) {
	        		self.state.searchResultLimit = options.searchResultLimit;
	        	}
	        }
	        
	        Backbone.mediator.subscribe('want:search', self.handleStartSearch, self);
	        Backbone.mediator.subscribe('end:search', self.handleEndSearch, self);
	        Backbone.mediator.subscribe('app:ready', self.handleAppReady, self);
	        Backbone.mediator.subscribe('app:stale-results', self.handleStaleResults, self);
	        
	        self.triggerMobileDefaultView();
	
	        if (options.filterManagedTag != null) {
	            self.defaults.filterManagedTag = options.filterManagedTag;
	        } 
	        
	        util.log('control-view.js: initialized. with self.App=' + self.App)
	    },
	
	    events: {
	        'click .result-filter-button': 'toggleFilterButton',
	        'click .topic-button': 'toggleFilterButton',
	        'click .text-topic-button': 'toggleFilterButton',
	        'click .reset-all': 'resetAllClicked',
	        'click .query-search-button ': 'triggerQuerySearch',
	        'click .icon-filters': 'toggleFilterPanel',
	        'focus .q': 'showFilterPanel',
	        'click .reset-type-filters': 'resetTypeFiltersClicked',
	        'click .reset-topic-filters': 'resetTopicFiltersClicked',
	        'click .reset-text-topic-filters': 'resetTextTopicFiltersClicked',
	        'click .reset-sdg-filters': 'resetSDGFiltersClicked',
	        'click .reset-managed-tag-filters': 'resetManagedTagsFiltersClicked',
	        'click .reset-q': 'resetQClicked',
	        'click .reset-type-and-topic-filters': 'resetAllClicked', // use this to only reset the filters box: 'resetTypeAndTopicFiltersClicked',
	        'click .active-filters': 'showFilterPanel',
	        'change .check-ignore-location': 'markSearchBoxSearchable',
	        'change .check-exchange': 'markSearchBoxSearchable',
	        
	        'keyup .q': 'handleTyping',
	        'keydown .q': 'handleKeyDown',
	
	        'click .sdg-button': 'toggleSDGFilterButton',
	        'click .managed-tag-button': 'toggleManagedTagsFilterButton',
	        'mouseenter .hover-image-button': 'showHoverIcon',
	        'mouseleave .hover-image-button': 'hideHoverIcon',
	        'mouseenter .hover-image-icon': 'hideHoverIcon'
	    },
	
	    // Event Handlers
	    // --------------
	
	    toggleFilterButton: function (event) {
	        event.preventDefault();
	        var $button = $(event.currentTarget);
	        // check if all buttons of this type are selected.
	        //  if so, make this click only select this button (deselect all others)
	        if ($button.hasClass('result-filter-button') &&
	            this.$el.find('.result-filter-button').length == this.$el.find('.result-filter-button.selected').length) {
	                this.$el.find('.result-filter-button').removeClass('selected');
	        } else if ($button.hasClass('topic-button') &&
	            this.$el.find('.topic-button').length == this.$el.find('.topic-button.selected').length) {
	                this.$el.find('.topic-button').removeClass('selected');
	        } else if ($button.hasClass('text-topic-button') &&
	            this.$el.find('.text-topic-button').length == this.$el.find('.text-topic-button.selected').length) {
	                this.$el.find('.text-topic-button').removeClass('selected');
	        }
	
	        // toggle the button
	        $button.toggleClass('selected');
	        
	        this.toggleDateTimePicker();
	        this.toggleManagedTagsOnType();
	        this.toggleTextTopicsOnType();
	        // mark search box as searchable
	        this.markSearchBoxSearchable();
	    },
	
	    toggleManagedTagsOnType: function () {
	        if (this.options.showManagedTagsOnTypesSelected.length > 0) {
	            var typesForManagedTags = this.options.showManagedTagsOnTypesSelected;
	            var showManagedTags = true;
	            var selectedButtons = $('.result-filter-button.selected');
	
	            if (selectedButtons.length == 0){
	                showManagedTags = false;
	            } else {
	                selectedButtons.each(function (i) {
	                    if (this.hasAttribute('data-result-filter-type')) {
	                        var type = this.getAttribute('data-result-filter-type')
	                        if ($.inArray(type, typesForManagedTags) == -1) {
	                            showManagedTags = false;
	                        }
	                    }
	                })
	            }
	
	            if (showManagedTags) {
	                $('.managed-tags-buttons').show();
	            } else {
	                $('.managed-tags-buttons').hide();
	            }
	        }
	    },
	
	    toggleTextTopicsOnType: function () {
	        if (this.options.showTextTopicsOnTypesSelected.length > 0 ) {
	            var typesForTextTopics = this.options.showTextTopicsOnTypesSelected;
	            var showTextTopics = true;
	            var selectedButtons = $('.result-filter-button.selected');
	
	            if (selectedButtons.length == 0){
	                showTextTopics = false;
	            } else {
	                selectedButtons.each(function (i) {
	                    if (this.hasAttribute('data-result-filter-type')) {
	                        var type = this.getAttribute('data-result-filter-type')
	                        if ($.inArray(type, typesForTextTopics) == -1) {
	                            showTextTopics = false;
	                        }
	                    }
	                })
	            }
	            if (showTextTopics) {
	                $('.text-topic-buttons').show();
	            } else {
	                $('.text-topic-buttons').hide();
	            }
	        }
	    },
	
	    /** Will set state.dateFiltersActive based on if only date-like content types are shown */
	    toggleDateTimePicker: function() {
	        var typesWithDates = ['events', 'conferences'];
	        var onlyDateTypesAvailable = true;
	        _.each(this.options.availableFilters, function(available, type){
	            if (available && $.inArray(type, typesWithDates) == -1) {
	                onlyDateTypesAvailable = false;
	            }
	        });
	        var onlyDateTypesActive = true;
	        var selectedButtons = $('.result-filter-button.selected');
	        if (selectedButtons.length == 0){
	            onlyDateTypesActive = false;
	        } else {
	            selectedButtons.each(function (i) {
	                if (this.hasAttribute('data-result-filter-type')) {
	                    var type = this.getAttribute('data-result-filter-type');
	                    if ($.inArray(type, typesWithDates) == -1) {
	                        onlyDateTypesActive = false;
	                    }
	                }
	            });
	        }
	        
	        
	        this.state.dateFiltersActive = onlyDateTypesAvailable || onlyDateTypesActive;
	        this.showOrHideDateTimePicker(this.state.dateFiltersActive);
	    },
	
	    showOrHideDateTimePicker: function (showDateTimePicker) {
	        var self = this;
	        var dateTimePicker = $('#date-time-filter');
	        if (showDateTimePicker) {
	            dateTimePicker.show();
	            if (!dateTimePicker.attr('inited') && dateTimePicker.is(":visible")) {
	                $.cosinnus.fullcalendar();
	                $.cosinnus.initCalendarDayTimeChooserWidget();
	                $('.calendar-date-time-chooser .small-calendar').on("fullCalendarDayClick", function(event, date, jsEvent) {
	                    self.markSearchBoxSearchable();
	                });
	                $('.calendar-date-time-chooser input').on("keyup change", function() {
	                    self.markSearchBoxSearchable();
	                });
	                
	                dateTimePicker.attr('inited', true);
	            }
	        } else {
	            dateTimePicker.hide();
	        }
	    },
	
	    toggleSDGFilterButton: function (event) {
	        event.preventDefault();
	        var $button = $(event.currentTarget);
	        // check if all buttons of this type are selected.
	        //  if so, make this click only select this button (deselect all others)
	        if ($button.hasClass('result-filter-button') &&
	            this.$el.find('.result-filter-button').length == this.$el.find('.result-filter-button.selected').length) {
	            this.$el.find('.result-filter-button').removeClass('selected');
	        } else if ($button.hasClass('sdg-button') &&
	            this.$el.find('.sdg-button').length == this.$el.find('.sdg-button.selected').length) {
	            this.$el.find('.sdg-button').removeClass('selected');
	        }
	        // toggle the button
	        $button.toggleClass('selected');
	        // mark search box as searchable
	        this.markSearchBoxSearchable();
	    },
	    
	    toggleManagedTagsFilterButton: function (event) {
	        event.preventDefault();
	        var $button = $(event.currentTarget);
	        // check if all buttons of this type are selected.
	        //  if so, make this click only select this button (deselect all others)
	        if ($button.hasClass('result-filter-button') &&
	            this.$el.find('.result-filter-button').length == this.$el.find('.result-filter-button.selected').length) {
	            this.$el.find('.result-filter-button').removeClass('selected');
	        } else if ($button.hasClass('managedTags-button') &&
	            this.$el.find('.managedTags-button').length == this.$el.find('.managedTags-button.selected').length) {
	            this.$el.find('.managedTags-button').removeClass('selected');
	        }
	        // toggle the button
	        $button.toggleClass('selected');
	        // mark search box as searchable
	        this.markSearchBoxSearchable();
	    },
	    
	    /** Reset all types of input filters and trigger a new search */
	    resetAllClicked: function (event) {
	        event.preventDefault();
	        this.resetAll();
	        this.render();
	        var searchReason = 'reset-filters-search';
	        this.triggerDelayedSearch(true, false, false, searchReason);
	    },
	    
	    /** Resets all filter states */
	    resetAll: function () {
	        this.state.q = '';
	        this.resetTopics();
	        this.resetTextTopics();
	        this.resetSDGS();
	        this.resetManagedTags();
	        this.resetDateTimeWidget();
	        this.resetTypeFilters();
	        this.clearDetailResultCache();
	    },
	    
	    /** Internal state reset of fromDate, fromTime, toDate, toTime */
	    resetDateTimeWidget: function() {
	        var today = moment().format('YYYY-MM-DD');
	        var in_three_months = moment().add(3, 'M').format('YYYY-MM-DD');
	        this.state.fromDate =  today;
	        this.state.fromTime = "00:00";
	        this.state.toDate = in_three_months;
	        this.state.toTime = "23:59";
	    },
	    
	    /** Internal state reset of filtered topics */
	    resetTopics: function () {
	        this.state.activeTopicIds = [];
	    },
	
	    resetTextTopics: function () {
	        this.state.activeTextTopicIds = [];
	    },
	
	    resetSDGS: function () {
	        this.state.activeSDGIds = [];
	    },
	    
	    resetManagedTags: function () {
	        if (this.defaults.filterManagedTag != null) {
	            // apply initial managed tags once
	            this.state.activeManagedTagsIds = [this.defaults.filterManagedTag];
	            this.defaults.filterManagedTag = null;
	        } else {
	            this.state.activeManagedTagsIds = [];
	        }
	    },
	    
	    /** Internal state reset of filtered result types */
	    resetTypeFilters: function () {
	        this.state.activeFilters = _(this.options.availableFilters).clone();
	        this.state.typeFiltersActive = false;
	        if (this.options.showTextTopicsOnTypesSelected.length > 0 ) {
	            this.resetTextTopics();
	        }
	        if (this.options.showManagedTagsOnTypesSelected.length > 0 ) {
	            this.resetManagedTags();
	        }
	        this.toggleDateTimePicker();
	    },
	
	    resetTypeFiltersClicked: function (event) {
	        event.preventDefault();
	        event.stopPropagation();
	        this.resetTypeFilters();
	        this.resetDateTimeWidget();
	        this.render();
	        this.clearDetailResultCache();
	        var searchReason = 'reset-filters-search';
	        this.triggerDelayedSearch(true, false, false, searchReason);
	    },
	
	    resetTopicFiltersClicked: function (event) {
	        event.preventDefault();
	        event.stopPropagation();
	        this.resetTopics();
	        this.render();
	        this.clearDetailResultCache();
	        var searchReason = 'reset-filters-search';
	        this.triggerDelayedSearch(true, false, false, searchReason);
	    },
	
	    resetTextTopicFiltersClicked: function (event) {
	        event.preventDefault();
	        event.stopPropagation();
	        this.resetTextTopics();
	        this.render();
	        this.clearDetailResultCache();
	        var searchReason = 'reset-filters-search';
	        this.triggerDelayedSearch(true, false, false, searchReason);
	    },
	
	    resetSDGFiltersClicked: function (event) {
	        event.preventDefault();
	        event.stopPropagation();
	        this.resetSDGS();
	        this.render();
	        this.clearDetailResultCache();
	        var searchReason = 'reset-filters-search';
	        this.triggerDelayedSearch(true, false, false, searchReason);
	    },
	    
	    resetManagedTagsFiltersClicked: function (event) {
	        event.preventDefault();
	        event.stopPropagation();
	        this.resetManagedTags();
	        this.render();
	        this.clearDetailResultCache();
	        var searchReason = 'reset-filters-search';
	        this.triggerDelayedSearch(true, false, false, searchReason);
	    },
	
	    resetQClicked: function (event) {
	        event.preventDefault();
	        event.stopPropagation();
	        this.state.q = '';
	        this.render();
	        this.clearDetailResultCache();
	        var searchReason = 'reset-filters-search';
	        this.triggerDelayedSearch(true, false, false, searchReason);
	    },
	    
	    resetTypeAndTopicFiltersClicked: function (event) {
	        event.preventDefault();
	        event.stopPropagation();
	        this.resetTypeFilters();
	        this.resetTopics();
	        this.resetDateTimeWidget();
	        this.render();
	        this.clearDetailResultCache();
	        var searchReason = 'reset-filters-search';
	        this.triggerDelayedSearch(true, false, false, searchReason);
	    },
	    
	    
	    /** This doesn't listen to events in this view, but rather is the target for 
	     *     delegated events from tile-view and tile-detail-view */
	    onTopicLinkClicked: function(event) {
	        event.preventDefault();
	        event.stopPropagation();
	        var $link = $(event.target);
	        var topicId = $link.attr('data-topic-id');
	        this.resetAll();
	        this.state.activeTopicIds = [parseInt(topicId)];
	        this.clearDetailResultCache();
	        this.triggerDelayedSearch(true);
	    },
	
	    onTextTopicLinkClicked: function(event) {
	        event.preventDefault();
	        event.stopPropagation();
	        var $link = $(event.target);
	        var textTopicId = $link.attr('data-text-topic-id');
	        this.resetAll();
	        this.state.activeTextTopicIds = [parseInt(textTopicId)];
	        this.clearDetailResultCache();
	        this.triggerDelayedSearch(true);
	    },
	    
	    /** This doesn't listen to events in this view, but rather is the target for 
	     *     delegated events from tile-view and tile-detail-view */
	    onManagedTagLinkClicked: function(event) {
	        event.preventDefault();
	        event.stopPropagation();
	        var $link = $(event.target);
	        var managedTagId = $link.attr('data-managed-tag-id');
	        this.resetAll();
	        this.state.activeManagedTagsIds = [parseInt(managedTagId)];
	        this.clearDetailResultCache();
	        this.triggerDelayedSearch(true);
	    },
	    
	    toggleSearchOnScrollClicked: function (event) {
	        this.state.searchOnScroll = !this.state.searchOnScroll;
	        if (this.state.searchOnScroll == true && this.state.resultsStale) {
	            this.staleSearchButtonClicked(event);
	        } 
	    },
	    
	    staleSearchButtonClicked: function (event) {
	        event.preventDefault();
	        this.clearDetailResultCache();
	        this.triggerDelayedSearch(true);
	        // we cheat this in because we know the search will do it anyways in a millisecond,
	        // but without this it won't be in time for the render() of the controls
	        this.state.resultsStale = false;
	        if (this.paginationControlView) {
	        	this.paginationControlView.render();
	        }
	    },
	    
	    paginationForwardClicked: function (event) {
	    	if (event) {
	    		event.preventDefault();
	    	}
	        if (this.state.page.has_next) {
	            this.state.pageIndex += 1;
	            this.triggerDelayedSearch(true, true, false, 'paginate-search');
	        }
	    },
	    
	    paginationBackClicked: function (event) {
	    	if (event) {
	    		event.preventDefault();
	    	}
	        if (this.state.page.has_previous && this.state.pageIndex > 0) {
	            this.state.pageIndex -= 1;
	            this.triggerDelayedSearch(true, true, false, 'paginate-search');
	        }
	    },
	    
	    /* ---------------------  Display-related logic    ------------------------------- */
	    
	    
	    /** Open the Create-Idea view */
	    openCreateIdeaView: function (event) {
	    	var self = this;
	    	if (COSINNUS_IDEAS_ENABLED) {
	    		if (!self.createIdeaView) {
	    			self.createIdeaView = new CreateIdeaView({
	    				elParent: self.App.el,
	    			}, 
	    			self.App,
	    			self
	    			).render();
	    		} else {
	    			self.createIdeaView.$el.removeClass('hidden');
	    		}
	            Backbone.mediator.publish('ideas:create-view-opened');
	    	}
	    },
	    
	    /** Open the Create-Idea view */
	    closeCreateIdeaView: function (event) {
	    	var self = this;
	    	self.createIdeaView.$el.addClass('hidden');
	    	self.untriggerMobileIdeaCreateView(event);
	    	Backbone.mediator.publish('ideas:create-view-closed');
	    },
	    
	    /** Mobile view switch buttons */
	    _resetMobileView: function (event, dontResetDetailResult) {
	        // unselect the detail view if one is open
	        if (this.detailResult && !dontResetDetailResult) {
	            this.displayDetailResult(null);
	        }
	        this.App.$el.removeClass('mobile-view-map mobile-view-search mobile-view-list mobile-view-detail mobile-view-idea-create-1 mobile-view-idea-create-2');
	    },
	    
	    triggerMobileDefaultView: function (event) {
	    	if (this.options.splitscreen) {
	    		this.triggerMobileMapView(event);
	        } else {
	        	this.triggerMobileListView(event);
	        }
	    },
	    
	    triggerMobileListView: function (event) {
	        this._resetMobileView();
	        this.App.$el.addClass('mobile-view-list');
	        if (this.App.tileListView) { // might not be loaded yet
	        	this.App.tileListView.gridRefresh();
	        }
	    },
	
	    triggerMobileSearchView: function (event) {
	        this._resetMobileView();
	        this.App.$el.addClass('mobile-view-search');
	        this.$el.find('.q').focus();
	    },
	
	    triggerMobileMapView: function (event) {
	        this._resetMobileView();
	        this.App.$el.addClass('mobile-view-map');
	    },
	
	    triggerMobileDetailView: function (event) {
	    	// save the current view 
	    	// (if it was list view we want to return to that instead of map view when closing detail)
	    	this.state.lastViewBeforeDetailWasListView = this.App.$el.hasClass('mobile-view-list');
	    	this._resetMobileView(event, true);
	    	this.App.$el.addClass('mobile-view-detail');
	    },
	
	    triggerMobileIdeaCreate1View: function (event) {
	        this._resetMobileView();
	        this.openCreateIdeaView(event);
	        this.App.$el.addClass('mobile-view-idea-create-1');
	    },
	
	    triggerMobileIdeaCreate2View: function (event) {
	        this._resetMobileView();
	        this.App.$el.addClass('mobile-view-idea-create-2');
	    },
	
	    untriggerMobileIdeaCreateView: function (event) {
	        this.triggerMobileDefaultView(event);
	    },
	
	    untriggerMobileDetailView: function (event) {
	        if (this.state.lastViewBeforeDetailWasListView) {
	        	this.triggerMobileListView(event);
	        } else {
	        	this.triggerMobileMapView(event);
	        }
	    },
	
	    showHoverIcon: function (event) {
	        var icon = $(event.target.querySelector('img'))
	        icon.removeClass('hover-image-icon-hidden')
	    },
	
	    hideHoverIcon: function (event) {
	        if (event.target.tagName == 'IMG') {
	            $(event.target).addClass('hover-image-icon-hidden')
	        } else {
	            $(event.target.querySelector('img')).addClass('hover-image-icon-hidden')
	        }
	    },
	    /**
	     * Toggles the state of the views between splitview, map-fullscreen or tile-fullscreen.
	     */
	    switchDisplayState: function (showMap, showTiles) {
	    	if (!showMap && !showTiles) {
	            util.log('control-view.js: cant hide both tile and map views at the same time!');
	            return;
	    	}
	    	this.App.displayOptions.showMap = showMap;
	    	this.App.displayOptions.showTiles = showTiles;
	    	this.options.splitscreen = showMap && showTiles;
	    	this.App.loadTileView();
	    	this.App.loadMapView();
	    },
	
	    
	    /* ---------------------  Functional logic    ------------------------------- */
	    
	    
	    /**
	     * Will start a fresh search with the current query of the search textbox.
	     */
	    triggerQuerySearch: function () {
	        var query = this.$el.find('.q').val();
	        this.state.q = query;
	        this.applyFilters();
	        this.state.ignoreLocation = !this.$el.find('.check-ignore-location').is(':checked');
	        this.state.exchange = this.$el.find('.check-exchange').is(':checked');
	        this.clearDetailResultCache();
	        var searchReason = 'manual-search';
	        this.triggerDelayedSearch(true, false, false, searchReason);
	    },
	    
	    /** Delete the detail result cache, should only happen on voluntary user "new search" actions! */
	    clearDetailResultCache: function () {
	        self.detailResultCache = {};
	    },
	    
	    /** Triggers on click of a link that opens a result detail view.
	     *  Can be triggered from multiple views. */
	    onResultLinkClicked: function (event, directItemId, noNavigate) {
	        var self = this;
	        if (event) {
	            event.preventDefault();
	            event.stopPropagation();
	        }
	        // parse the target object from the link
	        var data = null;
	        if (!directItemId && event) {
	            var $tar = $(event.target).closest('.result-link');
	            var data = {
	                portal: $tar.attr('data-portal') || 0,
	                type: $tar.attr('data-type'),
	                slug: $tar.attr('data-slug'),
	            }
	            directItemId = util.makeDirectItemId(data['portal'], data['type'], data['slug']);
	        } else {
	            var data = util.parseDirectItemId(directItemId);
	        }
	        util.log('tile-view.js: got a select click event! data: ' + JSON.stringify(data));
	        if (data.type == "cloudfile") {
	            window.open(data.slug);
	            return;
	        }
	        // check if this item is in the local detail Result cache
	        var result = null;
	        if (directItemId in self.detailResultCache) {
	            result = self.detailResultCache[directItemId];
	            self.displayDetailResult(result);
	        } else {
	            // if not, load it from the server
	            
	            // build detail URL
	            var query = $.param(data);
	            var url = this.detailEndpointURL + '?' + query;
	            
	            // cancel the currently ongoing request
	            if (self.currentDetailHttpRequest) {
	                util.log('control-view.js: New detail request! Aborting current request.')
	                self.currentDetailHttpRequest.abort();
	            }
	            
	            var detailHadErrors = false;
	            self.currentDetailHttpRequest = $.ajax(url, {
	                type: 'GET',
	                timeout: self.searchXHRTimeout,
	                success: function (data, textStatus) {
	                    
	                    util.log('got resultssss for detail')
	                    util.log(data)
	                    util.log(textStatus)
	                    
	                    if ('result' in data) {
	                        result = new Result(data.result);
	                        // put item in result cache
	                        self.detailResultCache[result.id] = result;
	                        self.displayDetailResult(result);
	                        // add a route navigate history state?
	                        if (App.displayOptions.routeNavigation && !noNavigate) {
	                            util.log('control-view.js: +++++++++++++++++ since we are fullscreen, publishing detail router URL update!')
	                            self.addCurrentHistoryState();
	                        } 
	                    } else {
	                        // if the result came back empty, it might have been deleted on the server, show an error message and close detail view
	                        detailHadErrors = true;
	                    }
	                },
	                error: function (xhr, textStatus) {
	                    util.log('control-view.js: Detail XHR failed.')
	                    if (textStatus === 'abort') {
	                        return;
	                    }
	                    detailHadErrors = true;
	                },
	                complete: function (xhr, textStatus) {
	                    util.log('control-view.js: Search complete: ' + textStatus);
	                    
	                    if (textStatus === 'abort') {
	                        return;
	                    }
	                    if (textStatus !== 'success') {
	                        detailHadErrors = true;
	                    }
	                    self.currentDetailHttpRequest = null;
	                    if (detailHadErrors) {
	                        if (xhr.status == 403) {
	                            self.displayDetailResult(new Result({type: 'error-403'}));
	                        } else {
	                            self.displayDetailResult(new Result({type: 'error'}));
	                        }
	                    }
	                }
	            });
	            
	            
	        }
	    },
	    
	    // id is: "1.events.forum*tolles-event"
	    
	    /** Will like/unlike a given result, depending on the current liked status */
	    triggerResultLikeOrUnlike: function (result) {
	    	var self = this;
	    	var url = '/likefollowstar/'
	    		
	    	var data = util.getAPIDataForDirectItemId(result.get('id'));
	    	if (data == null || !(result.get('type') == 'ideas' || result.get('type') == 'events')) {
	    		util.log('Liking cancelled - invalid result type for liking: ' + result.get('type'))
	    		return;
	    	}
	    	
	    	var to_like = result.get('liked') ? '0' : '1';
	    	var unliked_count = result.get('participant_count') - (result.get('liked') ? 1 : 0);
	    	data['like'] = to_like;
	    	// if we unlike an idea, also unfollow it
	    	if (to_like == '0' && result.get('type') == 'ideas') {
	    		data['follow'] = '0';
	    	}
	    	
	    	util.log('Sending like request for slug "' + result.get('slug') + '" and like: ' + to_like);
	    	var likeHadErrors = false;
	    	self.currentDetailHttpRequest = $.ajax(url, {
	            type: 'POST',
	            timeout: self.searchXHRTimeout,
	            data: data,
	            success: function (data, textStatus) {
	                
	                util.log('got resultssss for like')
	                util.log(data)
	                util.log(textStatus)
	                
	                if ('liked' in data) {
	                	// for ideas, "participants" are the likers
	                	if (result.get('type') == 'ideas') {
	                		result.set('participant_count', unliked_count + (data.liked ? 1 : 0));
	                	}
	                	// graphics update happens here, via subscriptions on change:liked
	                	result.set('liked', data.liked);
	                	result.set('followed', data.followed);
	
	                	// for ideas, a like triggers a follow, so show the now-following message
	                	if (result.get('type') == 'ideas' && data.followed) {
	                		self.App.$el.find('.now-following-message').show();
	                	}
	                } 
	            },
	            error: function (xhr, textStatus) {
	                util.log('control-view.js: Like XHR failed.')
	                likeHadErrors = true;
	            },
	            complete: function (xhr, textStatus) {
	                util.log('control-view.js: Like complete: ' + textStatus);
	                
	                if (textStatus !== 'success') {
	                	likeHadErrors = true;
	                }
	                if (likeHadErrors) {
	                    $('.like-button-error').show();
	                }
	            }
	        });
	    },
	    
	
	    /** Will follow/unfollow a given result, depending on the current followed status */
	    triggerResultFollowOrUnfollow: function (result) {
	    	var self = this;
	    	var url = '/likefollowstar/'
	    		
	        var data = util.getAPIDataForDirectItemId(result.get('id'));
	
	    	if (data == null) {
	    		util.log('Following cancelled - invalid result type for liking: ' + result.get('type'));
	    		return;
	    	}
	    	var to_follow = result.get('followed') ? '0' : 1;
	    	data['follow'] = to_follow;
	    	
	    	util.log('Sending follow request for slug "' + result.get('slug') + '" and follow: ' + to_follow);
	    	var followHadErrors = false;
	    	self.currentDetailHttpRequest = $.ajax(url, {
	            type: 'POST',
	            timeout: self.searchXHRTimeout,
	            data: data,
	            success: function (data, textStatus) {
	                
	                util.log('got resultssss for follow')
	                util.log(data)
	                util.log(textStatus)
	                
	                if ('followed' in data) {
	                    result.set('followed', data.followed);
	                    // graphics update happens via subscriptions on change:followed
	                	if (data.followed) {
	                		self.App.$el.find('.now-following-message').show();
	                	}
	                } 
	            },
	            error: function (xhr, textStatus) {
	                util.log('control-view.js: Follow XHR failed.')
	                followHadErrors = true;
	            },
	            complete: function (xhr, textStatus) {
	                util.log('control-view.js: Follow complete: ' + textStatus);
	
	                if (textStatus !== 'success') {
	                	followHadErrors = true;
	                }
	                if (followHadErrors) {
	                    $('.follow-button-error').show();
	                }
	            }
	        });
	    },
	
	    triggerResultStarOrUnstar: function (result) {
	        var self = this;
	        var url = '/likefollowstar/'
	
	        var data = util.getAPIDataForDirectItemId(result.get('id'));
	    	if (data == null) {
	    		util.log('Marking cancelled - invalid result type for starring: ' + result.get('type'));
	    		return;
	        }
	
	        var to_star = result.get('starred') ? '0' : 1;
	        data['star'] = to_star;
	
	        util.log('Sending star request for slug "' + result.get('slug') + '" and star: ' + to_star);
	
	        var starHadErrors = false;
	        self.currentDetailHttpRequest = $.ajax(url, {
	            type: 'POST',
	            timeout: self.searchXHRTimeout,
	            data: data,
	            success: function (data, textStatus) {
	
	                util.log('got resultssss for star')
	                util.log(data)
	                util.log(textStatus)
	
	                if ('starred' in data) {
	                    result.set('starred', data.starred);
	                }
	
	            },
	            error: function (xhr, textStatus) {
	                util.log('control-view.js: Star XHR failed.')
	                starHadErrors = true;
	            },
	            complete: function (xhr, textStatus) {
	                util.log('control-view.js: Star complete: ' + textStatus);
	
	                if (textStatus !== 'success') {
	                	starHadErrors  = true;
	                }
	                if (starHadErrors) {
	                    $('.star-button-error').show();
	                }
	            }
	        });
	
	
	    },
	    /** Called manually or deferredly after loading a Result from the server,
	     *  to be shown as the Detail View.
	     *  @param result: This must be *a detailed* Result model, or null!
	     *  Calling this with `null` as parameter closes any open detail view. */
	    displayDetailResult: function (result) {
	        // we simply unselect the current result
	        if (!result) {
	            this._setSelectedResult(null);
	            this.detailResult = null;
	            Backbone.mediator.publish('result:detail-closed');
	            return;
	        }
	        
	        // try to find the result with this short id in our collection and set it to selected
	        var collectionModel = this.collection.get(result.id);
	        if (collectionModel) {
	            this._setSelectedResult(collectionModel);
	        } else {
	            this._setSelectedResult(null);
	        }
	        // publish the opening intent for the detail view (it does not need to be in our collection)
	        this.detailResult = result;
	        Backbone.mediator.publish('result:detail-opened', result);
	    },
	    
	    /** State switcher for the filter frame */
	    toggleFilterPanel: function (event) {
	        if (event) {
	            event.preventDefault();
	        }
	        if (this.state.filterPanelVisible) {
	            this.hideFilterPanel(event);
	        } else {
	            this.showFilterPanel(event);
	        }
	    },
	
	    /** State switcher for the filter frame */
	    showFilterPanel: function (event) {
	        if (event) {
	            event.preventDefault();
	        }
	        this.state.filterPanelVisible = true;
	        this.$el.find('.map-controls-filters').slideDown(250);
	        this.$el.find('.icon-filters').addClass('open');
	        this.$el.parents().find('.controls').addClass('open');
	        this.toggleDateTimePicker();
	    },
	
	    /** State switcher for the filter frame */
	    hideFilterPanel: function (event) {
	        if (event) {
	            event.preventDefault();
	        }
	        this.state.filterPanelVisible = false;
	        this.$el.find('.map-controls-filters').slideUp(250);
	        this.$el.find('.icon-filters').removeClass('open');
	        this.$el.parents().find('.controls').removeClass('open');
	    },
	    
	    handleTyping: function (event) {
	        var self = this;
	        if (util.isIgnorableKey(event)) {
	            event.preventDefault();
	            return false;
	        }
	        self.markSearchBoxSearchable();
	    },
	    
	    handleKeyDown: function (event) {
	        if (event.keyCode == 13) {
	            event.preventDefault();
	            this.triggerQuerySearch();
	            return false;
	        }
	    },
	    
	    markSearchBoxSearchable: function () {
	        // trigger this when new data/states are entered to enable the search button
	        this.$el.find('.icon-search').addClass('active');
	        this.$el.find('.button-search').removeClass('disabled');
	    },
	
	    handleStartSearch: function (searchReason) {
	        this.$el.find('.icon-loading').removeClass('hidden');
	        this.$el.find('.icon-reset').addClass('hidden');
	        this.$el.find('.q').blur();
	        // disable input in content views during search (up to the views to decide what to disable)
	        // except if we are only adding some results after an infinite scroll event
	        if (!(this.options.paginationControlsUseInfiniteScroll && searchReason == 'paginate-search')) {
	        	_.each(this.App.contentViews, function(view){
	        		view.disableInput();
	        	});
	        }
	        
	    },
	
	    handleEndSearch: function (searchReason) {
	        this.$el.find('.icon-loading').addClass('hidden');
	        this.$el.find('.icon-reset').toggleClass('hidden', (!this.state.filtersActive && !this.state.q));
	        // enable input in content views during search (up to the views to decide what to enable)
	        _.each(this.App.contentViews, function(view){
	            view.enableInput();
	        });
	    },
	
	    /** Called when the App is fully loaded for the first time.
	     * 	This is the initial search.
	     *     WARNING: Due to the threaded after_render() method, this may
	     *         currently actually happen before a full load.
	     *  */
	    handleAppReady: function (event) {
	        util.log('control-view.js: app is ready to search. starting search from URL!')
	        this.triggerSearchFromUrl();
	    },
	    
	    /** Executed *every time* after render */
	    afterRender: function () {
	        var self = this;
	        
	        // Create the pagination control view if not exists
	        if (!self.paginationControlView && self.options.paginationControlsEnabled && self.App.tileListView) {
	            self.paginationControlView = new PaginationControlView({
	                model: null,
	                el: self.App.tileListView.$el.find('.pagination-controls'),
	                fullscreen: self.App.displayOptions.fullscreen,
	                splitscreen: self.App.displayOptions.showMap && self.App.displayOptions.showTiles
	            }, 
	            self.App,
	            self
	            ).render();
	        }
	        if (!self.mobileControlView) {
	            // render mobile view buttons
	            self.mobileControlView = new MobileControlView({
	                model: null,
	                elParent: self.App.el,
	            }, 
	            self.App,
	            self
	            ).render();
	        }
	        var dateTimePicker = $('#date-time-filter');
	        dateTimePicker.find('#id_start_0').val(this.state.fromDate);
	        dateTimePicker.find('#id_start_1').val(this.state.fromTime);
	        dateTimePicker.find('#id_end_0').val(this.state.toDate);
	        dateTimePicker.find('#id_end_1').val(this.state.toTime);
	        this.toggleDateTimePicker();
	    },
	    
	    /**
	     * Let all content views parse the URL parameters they are interested in, and then start 
	     * a fresh search.
	     */
	    triggerSearchFromUrl: function (noNewNavigateEvent) {
	        this.resetAll();
	        var urlParams = this.parseUrl(window.location.href.replace(window.location.origin, ''));
	        // if infinite scroll is enabled, always show the initial page, unscrolled and unpaginated
	        if (this.options.paginationControlsUseInfiniteScroll && 'page' in urlParams) {
	        	delete urlParams.page;
	        }
	        _.each(this.App.contentViews, function(view){
	            view.applyUrlSearchParameters(urlParams);
	        });
	        this.determineActiveFilterStatuses();
	        this.render();
	        this.triggerDelayedSearch(true, true, noNewNavigateEvent, 'initial-search');
	    },
	    
	    /**
	     * The context can contain `reason` for a signal for out-of-date result sets:
	     * - viewport-changed: The map was scrolled or window was resized
	     * - map-navigate: Router navigate on the map (not called during initial navigation)
	     * - ...
	     */
	    handleStaleResults: function (context) {
	        if (context.reason == 'viewport-changed') {
	            util.log('*** control-view.js: Received signal for stale results bc of viewport change')
	        } else if (context.reason == 'map-navigate') {
	            util.log('*** control-view.js: Received signal for stale results bc of map-navigate')
	        }
	        
	        // prevent refreshing results on viewport changes when the mobile view search panel is open,
	        // as this is triggered by onscreen keyboards and leads to choppy behaviour
	        if (context.reason == 'viewport-changed' && this.App.$el.hasClass('mobile-view-search')) {
	        	util.log('*** control-view.js: Prevented refresh of results while search panel is open.')
	        	return;
	        }
	        
	        var staleBefore = this.state.resultsStale;
	        this.state.resultsStale = true;
	        
	        if (context.reason == 'map-navigate') {
	            // on a navigate event we have to re-read the URL (but add no history state)
	            this.triggerSearchFromUrl(true);
	        } else {
	            // search or do nothing, depending on if we re-search on scroll
	            if (this.state.searchOnScroll) {
	                // check before auto-rerendering that the input-box is not focused!
	                // if so, on mobile this search would pull down the keyboard
	                if (!this.$el.find('.q').is(":focus")) {
	                	var noPaginationReset = context.reason == 'viewport-changed';
	                    this.triggerDelayedSearch(false, noPaginationReset, false, context.reason);
	                } else {
	                    util.log('control-view.js: Prevented a search while input is focused!')
	                }
	            } else {
	                // re-render controls so the manual search button will be enabled
	                if (!staleBefore) {
	                	if (this.paginationControlView) {
	                		this.paginationControlView.render();
	                	}
	                }
	            }
	        }
	    },
	    
	    /** Adds the current search state, including all parameters and detail view state 
	     *  as a URL history state.
	     */
	    addCurrentHistoryState: function () {
	        var self = this;
	        Backbone.mediator.publish('navigate:router', self.buildSearchQueryURL(false).replace(self.searchEndpointURL, '/'))
	    },
	    
	    // called with a list of dicts of results freshly returned after a search
	    processSearchResults: function (jsonResultList, searchReason) {
	        var self = this;
	        
	        var resultModels = [];
	        _.each(jsonResultList, function(res){
	            var newmod = new Result(res);
	            resultModels.push(newmod);
	        });
	        // take the current selected model and check if it is in the new result list
	        // if so, set that to selected
	        // if not: add it to it
	        if (self.selectedResult) {
	            var position = resultModels.map(function(e){return e.id;}).indexOf(self.selectedResult.id);
	            if (position > -1) {
	                resultModels[position].set('selected', true);
	            } else {
	                resultModels.push(self.selectedResult);
	            }
	        }
	        // take the current hovered model and check if it is in the new result list
	        // if so, set that to hovered
	        // if not: add it to it
	        if (self.hoveredResult) {
	            var position = resultModels.map(function(e){return e.id;}).indexOf(self.hoveredResult.id);
	            if (position > -1) {
	                resultModels[position].set('hovered', true);
	            } else {
	                resultModels.push(self.hoveredResult);
	            }
	        }
	        
	        util.log('control-view.js:processSearchResults: check that the currently selected object is kept in the collection!')
	        util.log('control-view.js: got the results back and updated the collection!')
	        util.log(self.collection.toJSON());
	        
	        // if infinite-scroll is active, and this search has been triggered by a paginate event,
	        // we add the results to the collection instead of replacing them.
	        if (self.options.paginationControlsUseInfiniteScroll && searchReason == 'paginate-search') {
	        	self.collection.add(resultModels);
	        } else {
	        	self.collection.reset(resultModels);
	        	
	        	// if we had a navigate event and we still have a detail-view open, but it's not in the URL, close it
	        	// happens on back/forward buttons, but also on scroll events (where we don't want to close the detail view)
	        	if (self.detailResult && !self.state.urlSelectedResultId && !(searchReason == 'viewport-changed')) {
	        		self.displayDetailResult(null);
	        	} 
	        }
	        
	        // if our URL points directly at an item, select it.
	        // the API should take care that it is *always* in the result set
	        if (self.state.urlSelectedResultId && (!self.detailResult || self.state.urlSelectedResultId != self.detailResult.id)) {
	            self.onResultLinkClicked(null, self.state.urlSelectedResultId, true);
	            self.state.urlSelectedResultId = null;
	        }
	        
	    },
	    
	    // public functions
	    
	    /**
	     * Will set a new selected result and un-set the old one.
	     * If result == null, will just un-set the current one.
	     */
	    _setSelectedResult: function (result) {
	        if (this.selectedResult != null) {
	            // unselect previously selected result
	            this.selectedResult.set('selected', false);
	            if (result != null) {
	                // we're instantly selecting a new result
	                Backbone.mediator.publish('result:reselected', result);
	            } else {
	                // just unselecting, without selecting a new result
	                Backbone.mediator.publish('result:unselected', this.selectedResult);
	            }
	        } else if (result != null) {
	            // we select a new result without a previous one having been selected
	            Backbone.mediator.publish('result:selected', result);
	        }
	        this.selectedResult = result;
	        if (this.selectedResult != null) {
	            this.selectedResult.set('selected', true);
	            this.setHoveredResult(null); // always unhover on select
	            
	            /** this no longer has any validity
	            // selecting a result changes the URL so results can be directly linked
	            if (App.displayOptions.routeNavigation) {
	                var newUrl = this.buildSearchQueryURL(false).replace(this.searchEndpointURL, this.options.basePageURL);
	                App.router.replaceUrl(newUrl);
	            }
	            */
	        }
	    },
	    
	    /**
	     * Will set a new hovered result and un-set the old one.
	     * If result == null, will just un-set the current one.
	     */
	    setHoveredResult: function (result) {
	        if (result && result == this.selectedResult) {
	            return; // prevent setting hovered state on the currently selected result
	        }
	        if (this.hoveredResult != null) {
	            this.hoveredResult.set('hovered', false);
	        }
	        this.hoveredResult = result;
	        if (this.hoveredResult != null) {
	            this.hoveredResult.set('hovered', true);
	        }
	    },
	    
	    
	    /** determine if any filtering method is active (topics or result types) */
	    determineActiveFilterStatuses: function () {
	        var self = this;
	        self.state.filtersActive = false;
	        self.state.textTopicFiltersActive = false;
	        self.state.topicFiltersActive = false;
	        self.state.sdgFiltersActive = false;
	        self.state.managedTagsFiltersActive = false;
	        self.state.typeFiltersActive = false;
	
	        if (self.state.activeTopicIds.length > 0) {
	            self.state.filtersActive = true;
	            self.state.topicFiltersActive = true;
	        }
	        if (self.state.activeTextTopicIds.length > 0) {
	            self.state.filtersActive = true;
	            self.state.textTopicFiltersActive = true;
	        }
	        if (self.state.activeSDGIds.length > 0) {
	            self.state.filtersActive = true;
	            self.state.sdgFiltersActive = true;
	        }
	        if (self.state.activeManagedTagsIds.length > 0) {
	            self.state.filtersActive = true;
	            self.state.managedTagsFiltersActive = true;
	        }
	
	        _.each(Object.keys(self.options.availableFilters), function(key) {
	            if (self.options.availableFilters[key] != self.state.activeFilters[key]) {
	                self.state.filtersActive = true;
	                self.state.typeFiltersActive = true;
	            }
	        });
	    },
	
	    search: function (noNavigate, searchReason) {
	        var self = this;
	        self.state.resultsStale = false;
	        
	        var url = self.buildSearchQueryURL(true);
	        self.state.searching = true;
	        
	        // cancel the currently ongoing request
	        if (self.currentSearchHttpRequest) {
	            util.log('control-view.js: New search! Aborting current search request.')
	            self.currentSearchHttpRequest.abort();
	        }
	        
	        self.currentSearchHttpRequest = $.ajax(url, {
	            type: 'GET',
	            timeout: self.searchXHRTimeout,
	            success: function (data, textStatus) {
	                // Save the search state in the url.
	                if (App.displayOptions.routeNavigation && !noNavigate && !self.selectedResult) {
	                    util.log('control-view.js: +++++++++++++++++ since we are fullscreen, publishing router URL update!')
	                    self.addCurrentHistoryState();
	                }
	                util.log('got resultssss')
	                util.log(data)
	                util.log(textStatus)
	                var results = data.results;
	                self.processSearchResults(results, searchReason);
	                self.state.page = data.page;
	                self.state.pageIndex = data.page && data.page.index || 0;
	                self.state.searchHadErrors = false;
	            },
	            error: function (xhr, textStatus) {
	                util.log('control-view.js: Search XHR failed.')
	                if (textStatus === 'abort') {
	                    return;
	                }
	                Backbone.mediator.publish('error:search');
	                self.state.searchHadErrors = true;
	            },
	            complete: function (xhr, textStatus) {
	                util.log('control-view.js: Search complete: ' + textStatus)
	                if (textStatus === 'abort') {
	                    return;
	                }
	                if (textStatus !== 'success') {
	                    self.state.searchHadErrors = true;
	                }
	                self.state.searching = false;
	                
	                if (self.options.controlsEnabled) {
	                    self.determineActiveFilterStatuses();
	                    self.refreshSearchControls();
	                    if (searchReason == 'manual-search') {
	                        self.hideFilterPanel();
	                    }
	                    self.renderActiveFilters();
	                    // refresh pagination controls
	                    if (self.paginationControlView) {
	                    	self.paginationControlView.render();
	                    }
	                    // if we have done a manual search, set the view to default!
	                    if (searchReason == 'manual-search') {
	                        self.triggerMobileDefaultView(event);
	                    }
	                    // scroll tile list to top on manual searches
	                    if (searchReason == 'manual-search' || searchReason == 'reset-filters-search' || (searchReason == 'paginate-search' && !self.options.paginationControlsUseInfiniteScroll)) {
	                        $('.tile-contents').scrollTop(0); // scroll to top on tile list
	                    }
	                }
	                
	                self.currentSearchHttpRequest = null;
	                Backbone.mediator.publish('end:search', searchReason);
	            }
	        });
	    },
	    
	    refreshSearchControls: function () {
	        var self = this;
	        self.$el.find('.icon-filters').toggleClass('active', self.state.filtersActive);
	        self.$el.find('.icon-reset').toggleClass('hidden', (!self.state.filtersActive && !self.state.q));
	        self.$el.find('.icon-search').removeClass('active');
	        self.$el.find('.button-search').addClass('disabled');
	    },
	    
	    renderActiveFilters: function () {
	        if (this.state.filtersActive || this.state.q) {
	            var data = this.getTemplateData();
	            var rendered = this.activeFiltersTemplate.render(data);
	            this.$el.find('.map-controls-active-filters').html(rendered).show();
	        } else {
	            this.$el.find('.map-controls-active-filters').hide().empty();
	        }
	    },
	    
	    /** Unused, remove if not needed */
	    /** Old version: we do not re-render the search controls any more because of loss
	     *  of new search input for the user
	    refreshSearchControls: function () {
	        // restore the search textbox after the render so we don't throw the user out
	        var qdata = util.saveInputStatus(self.$el.find('.q'));
	        self.render();
	        util.restoreInputStatus(self.$el.find('.q'), qdata);
	    },
	    */
	    
	    // extended from content-control-view.js
	    applyUrlSearchParameters: function (urlParams) {
	        _.extend(this.state, {
	            activeFilters: {
	                people: this.options.availableFilters.people ? util.ifundef(urlParams.people, this.options.activeFilters.people) : false,
	                events: this.options.availableFilters.events ? util.ifundef(urlParams.events, this.options.activeFilters.events) : false,
	                projects: this.options.availableFilters.projects ? util.ifundef(urlParams.projects, this.options.activeFilters.projects) : false,
	                groups: this.options.availableFilters.groups ? util.ifundef(urlParams.groups, this.options.activeFilters.groups) : false
	            },
	            q: util.ifundef(urlParams.q, this.state.q),
	            ignoreLocation: util.ifundef(urlParams.ignore_location, this.state.ignoreLocation),
	            exchange: util.ifundef(urlParams.exchange, this.state.exchange),
	            searchResultLimit: util.ifundef(urlParams.limit, this.state.searchResultLimit),
	            activeTopicIds: util.ifundef(urlParams.topics, this.state.activeTopicIds),
	            activeTextTopicIds: util.ifundef(urlParams.text_topics, this.state.activeTextTopicIds),
	            activeSDGIds: util.ifundef(urlParams.sdgs, this.state.activeSDGIds),
	            activeManagedTagsIds: util.ifundef(urlParams.managed_tags, this.state.activeManagedTagsIds),
	            pageIndex: util.ifundef(urlParams.page, this.state.pageIndex),
	            urlSelectedResultId: util.ifundef(urlParams.item, this.state.urlSelectedResultId),
	        });
	        if (COSINNUS_IDEAS_ENABLED) {
	        	this.state.activeFilters['ideas'] = this.options.availableFilters.ideas ? util.ifundef(urlParams.ideas, this.options.activeFilters.ideas) : false;
	        }
	        if (COSINNUS_ORGANIZATIONS_ENABLED) {
	            this.state.activeFilters['organizations'] = this.options.availableFilters.organizations ? util.ifundef(urlParams.organizations, this.options.activeFilters.organizations) : false;
	        }
	        if (COSINNUS_CONFERENCES_ENABLED) {
	            this.state.activeFilters['conferences'] = this.options.availableFilters.conferences ? util.ifundef(urlParams.conferences, this.options.activeFilters.conferences) : false;
	        }
	        if (COSINNUS_CLOUD_ENABLED) {
	            this.state.activeFilters['cloudfiles'] = this.options.availableFilterList.cloudfiles ? util.ifundef(urlParams.cloudfiles, this.options.activeFilters.cloudfiles) : false;
	        }
	
	        if (cosinnus_active_user) {
	        	this.options.showMine = util.ifundef(urlParams.mine, this.options.showMine);
	        }
	
	        this.state.typeFiltersActive = Object.values(this.state.activeFilters).indexOf(false) > -1
	
	        if (this.options.showManagedTagsOnTypesSelected.length > 0) {
	            var activeFilters = this.state.activeFilters
	            var showManagedTags = _.some(this.options.showManagedTagsOnTypesSelected, function(type) {
	                if (activeFilters[type]) {
	                   return true;
	
	                }
	            });
	            this.state.displayManagedTagsFilter = showManagedTags && this.state.typeFiltersActive
	        }
	
	        if (this.options.showTextTopicsOnTypesSelected.length > 0) {
	            var activeFilters = this.state.activeFilters
	            var showTextTopics = _.some(this.options.showTextTopicsOnTypesSelected, function(type) {
	                if (activeFilters[type]) {
	                   return true;
	
	                }
	            });
	            this.state.displayTextTopcFilter = showTextTopics && this.state.typeFiltersActive
	        }
	
	        var today = moment().format('YYYY-MM-DD');
	        var in_three_months = moment().add(3, 'M').format('YYYY-MM-DD');
	        this.state.fromDate =  util.ifundef(urlParams.fromDate, today);
	        this.state.fromTime = util.ifundef(urlParams.fromTime, "00:00").replace("%3A", ":");
	        this.state.toDate = util.ifundef(urlParams.toDate, in_three_months);
	        this.state.toTime = util.ifundef(urlParams.toTime, "23:59").replace("%3A", ":");
	    },
	
	    // extended from content-control-view.js
	    contributeToSearchParameters: function(forAPI) {
	        var searchParams = {
	            q: this.state.q,
	            people: this.state.activeFilters.people,
	            events: this.state.activeFilters.events,
	            projects: this.state.activeFilters.projects,
	            groups: this.state.activeFilters.groups,
	        };
	        
	        if (this.state.dateFiltersActive) {
	            var dateTimePicker = $('#date-time-filter');
	            var fromDate = dateTimePicker.find('#id_start_0').val() || this.state.fromDate;
	            var fromTime = dateTimePicker.find('#id_start_1').val() || this.state.fromTime;
	            var toDate = dateTimePicker.find('#id_end_0').val() || this.state.toDate;
	            var toTime = dateTimePicker.find('#id_end_1').val() || this.state.fromDate;
	            if (!fromTime.includes(':')) {
	                fromTime += ':00';
	            }
	            if (!toTime.includes(':')) {
	                toTime += ':00';
	            }
	    
	            if (fromDate) {
	                _.extend(searchParams, {
	                    fromDate: fromDate
	                });
	                if (fromTime) {
	                    _.extend(searchParams, {
	                        fromTime: fromTime
	                    });
	                }
	            }
	    
	            if (toDate) {
	                _.extend(searchParams, {
	                    toDate: toDate
	                });
	                if (toTime) {
	                    _.extend(searchParams, {
	                        toTime: toTime
	                    });
	                }
	            }
	        }
	
	        if (COSINNUS_IDEAS_ENABLED) {
	        	_.extend(searchParams, {
	                ideas: this.state.activeFilters.ideas
	            });
	        }
	        if (COSINNUS_ORGANIZATIONS_ENABLED) {
	            _.extend(searchParams, {
	                organizations: this.state.activeFilters.organizations
	            });
	        }
	        if (COSINNUS_CONFERENCES_ENABLED) {
	            _.extend(searchParams, {
	                conferences: this.state.activeFilters.conferences
	            });
	        }
	        if (COSINNUS_CLOUD_ENABLED) {
	            _.extend(searchParams, {
	                cloudfiles: this.state.activeFilters.cloudfiles
	            });
	        }
	        if (this.state.activeTopicIds.length > 0) {
	            _.extend(searchParams, {
	                topics: this.state.activeTopicIds.join(',')
	            });
	        }
	
	        if (this.state.activeTextTopicIds.length > 0) {
	            _.extend(searchParams, {
	                text_topics: this.state.activeTextTopicIds.join(',')
	            });
	        }
	        if (this.state.activeSDGIds.length > 0) {
	            _.extend(searchParams, {
	                sdgs: this.state.activeSDGIds.join(',')
	            });
	        }
	        if (this.state.activeManagedTagsIds.length > 0) {
	            _.extend(searchParams, {
	                managed_tags: this.state.activeManagedTagsIds.join(',')
	            });
	        }
	        if (this.state.pageIndex > 0) {
	            _.extend(searchParams, {
	                page: this.state.pageIndex
	            });
	        }
	        if (this.detailResult) {
	            _.extend(searchParams, {
	                item: this.detailResult.id
	            });
	        } else if (this.state.urlSelectedResultId) {
	            _.extend(searchParams, {
	                item: this.state.urlSelectedResultId
	            });
	        }
	        if (this.options.showMine) {
	            _.extend(searchParams, {
	            	mine: 1
	            });
	        }
	        if (this.state.ignoreLocation) {
	            _.extend(searchParams, {
	                ignore_location: 1
	            });
	        }
	        if (this.state.exchange) {
	            _.extend(searchParams, {
	                exchange: 1
	            });
	        }
	        if (forAPI) {
	            _.extend(searchParams, {
	                limit: this.state.searchResultLimit
	            });
	        }
	        
	        util.log('control-view.js: returning search params:')
	        util.log(searchParams)
	        return searchParams
	    },
	    
	    /**
	     * Build the URL containing all parameters for the current view
	     * 
	     * @param forAPI: if true, contains all search parameters.
	     *         if false, contains only these that should be visible in the browser URL 
	     */
	    buildSearchQueryURL: function (forAPI) {
	        // collect all search parameters from content views that affect them
	        var searchParams = {};
	        _.each(this.App.contentViews, function(view){
	            _.extend(searchParams, view.contributeToSearchParameters(forAPI));
	        });
	        var query = $.param(searchParams);
	        
	        var url = this.searchEndpointURL;
	        if (this.options.filterGroup) {
	            url = url + this.options.filterGroup + '/';
	        }
	        url = url + '?' + query;
	        
	        util.log(' ************  BUILD SEARCH QUERY URL RETURNED (forAPI): ' + forAPI)
	        util.log(url)
	        return url;
	    },
	    
	    /** Collects all toggled states of filter buttons and applies them onto the current control-view state */
	    applyFilters: function () {
	        var self = this;
	
	        // Result types
	        var all_deselected = true;
	        self.$el.find('.result-filter-button').each(function(){
	            var $button = $(this);
	            var resultType = $button.attr('data-result-filter-type');
	            var selected = $button.hasClass('selected');
	            self.state.activeFilters[resultType] = selected;
	            if (selected) {
	                all_deselected = false;
	            }
	        });
	        // if we select all types, drop the filter (select all is default).
	        if (all_deselected) {
	            self.resetTypeFilters();
	        }
	        
	        // Topics
	        self.resetTopics();
	        self.$el.find('.topic-button.selected').each(function(){
	            var $button = $(this);
	            var bid = parseInt($button.attr('data-topic-id'));
	            self.state.activeTopicIds.push(bid);
	        });
	
	        //TextTopics
	        self.resetTextTopics();
	        self.$el.find('.text-topic-button.selected').each(function(){
	            var $button = $(this);
	            var bid = parseInt($button.attr('data-text-topic-id'));
	            self.state.activeTextTopicIds.push(bid);
	        });
	
	        // SDGs
	        self.resetSDGS();
	        self.$el.find('.sdg-button.selected').each(function(){
	            var $button = $(this);
	            var bid = parseInt($button.attr('data-sdg-id'));
	            self.state.activeSDGIds.push(bid);
	        });
	        
	        // ManagedTags
	        self.resetManagedTags();
	        self.$el.find('.managed-tag-button.selected').each(function(){
	            var $button = $(this);
	            var bid = parseInt($button.attr('data-managed-tag-id'));
	            self.state.activeManagedTagsIds.push(bid);
	        });
	    },
	
	    // TODO REMOVE
	    toggleFilter: function (resultType) {
	        var activeFilters = this.state.activeFilters;
	        activeFilters[resultType] = !activeFilters[resultType];
	        this.state.activeFilters = activeFilters;
	        this.triggerDelayedSearch(true);
	    },
	
	    // Register a change in the controls or the map UI which should queue
	    // a search attempt after a delay.
	    triggerDelayedSearch: function (fireImmediatelyIfPossible, noPageReset, noNavigate, searchReason) {
	        var self = this;
	        
	        var delay = self.searchDelay;
	        if (fireImmediatelyIfPossible) {
	            delay = 0;
	        }
	        if (!noPageReset) {
	            self.state.pageIndex = 0;
	        }
	        clearTimeout(this.searchTimeout);
	    	Backbone.mediator.publish('want:search', searchReason);
	        self.searchTimeout = setTimeout(function () {
	            self.search(noNavigate, searchReason);
	        }, delay);
	    },
	
	    activeFilterList: function () {
	        return _(_(this.state.activeFilters).keys()).select(function (filter) {
	            return !!filter;
	        });
	    },
	    
	});


/***/ }),
/* 15 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var View = __webpack_require__(4);
	
	module.exports = View.extend({
	    
	    template: __webpack_require__(16),    
	    
	    initialize: function (options) {
	        var self = this;
	        View.prototype.initialize.call(self, options);
	        
	        this.state.message = options.message;
	    }
	});


/***/ }),
/* 16 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/xhr-error.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	output += "<div class=\"error\">\n    ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "message"), env.opts.autoescape);
	output += "\n</div>\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/xhr-error.html"] , dependencies)

/***/ }),
/* 17 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var BaseView = __webpack_require__(4);
	var util = __webpack_require__(5);
	
	var paginationControlsTemplate = __webpack_require__(18);
	
	
	/** 
	 * A small view, basically just to encapsulate the pagination control
	 * template and buttons, to be able to render and refresh them independently
	 * of the search controls. 
	 * This is contained by and delegates almost everything back to the control-view.
	 * */
	module.exports = BaseView.extend({
	    
	    // reference back to the main App
	    App: null,
	    
	    controlView: null,
	    
	    template: paginationControlsTemplate,
	    
	    defaults: {
	    	infiniteScrollHasTriggered: false,
	    },
	    
	    // The DOM events specific to an item.
	    events: {
	        'click .toggle-search-on-scroll': 'toggleSearchOnScrollClicked',
	        'click .stale-search-button': 'staleSearchButtonClicked',
	        'click .trigger-pagination-forward': 'paginationForwardClicked',
	        'click .trigger-pagination-backward': 'paginationBackClicked',
	        'click .trigger-create-idea': 'createIdeaClicked',
	    },
	    
	    initialize: function (options, app, controlView) {
	        var self = this;
	        BaseView.prototype.initialize.call(self, options);
	        self.App = app;
	        self.controlView = controlView;
	        
	        if (self.controlView.options.paginationControlsUseInfiniteScroll) {
	        	Backbone.mediator.subscribe('tile-list:scroll-end-reached', self.handleInfiniteScrollTriggered, self);
	        }
	    },
	    
	    /** Extend the template data by the controlView's options and state */
	    getTemplateData: function () {
	        var self = this;
	        var data = BaseView.prototype.getTemplateData.call(self);
	        var show_idea_button = COSINNUS_IDEAS_ENABLED && self.App.displayOptions.showMap && !self.App.mapView.draggableMarker;
	        
	        data = _.extend(
	            data,
	            self.controlView.options,
	            self.controlView.state,
	            {
	            	show_idea_button: show_idea_button
	            }
	        );
	        return data;
	    },
	    
	    afterRender: function () {
	    	// reset infinite scroll lock
	        var self = this;
	        self.state.infiniteScrollHasTriggered = false;
	    },
	    
	    // Events  -------------
	    
	    /** Called when the end of the scroll list is reached.
	     * 	Can be called multiple times, and even when the full list is already loaded. */
	    handleInfiniteScrollTriggered: function (event) {
	    	if (!this.controlView.state.searching && !this.state.infiniteScrollHasTriggered) {
	    		this.state.infiniteScrollHasTriggered = true;
	    		this.paginationForwardClicked();
	    	}
	    },
	
	    // delegate to controlView
	    toggleSearchOnScrollClicked: function (event) {
	        this.controlView.toggleSearchOnScrollClicked(event);
	    },
	    
	    // delegate to controlView
	    staleSearchButtonClicked: function (event) {
	    	this.controlView.staleSearchButtonClicked(event);
	    },
	    
	    // delegate to controlView
	    paginationForwardClicked: function (event) {
	    	this.controlView.paginationForwardClicked(event);
	    },
	    
	    // delegate to controlView
	    paginationBackClicked: function (event) {
	    	this.controlView.paginationBackClicked(event);
	    },
	    
	    // delegate to controlView
	    createIdeaClicked: function (event) {
	    	this.controlView.openCreateIdeaView(event);
	    },
	    
	});


/***/ }),
/* 18 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/map/pagination-controls.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	output += runtime.suppressValue(env.getExtension("passThrough")["run"](context,runtime.contextOrFrameLookup(context, frame, "i18n")), true && env.opts.autoescape);
	output += "\n\n";
	if(runtime.contextOrFrameLookup(context, frame, "paginationControlsEnabled") && !runtime.contextOrFrameLookup(context, frame, "paginationControlsUseInfiniteScroll")) {
	output += "\n    <div class=\"map-pagination-controls mobile-view mobile-view-list-visible-block\">\n        <div class=\"line\">\n            ";
	if(runtime.contextOrFrameLookup(context, frame, "page")) {
	output += "\n                <div class=\"rounded-button rounded-button-circular button-action trigger-pagination-backward ";
	if(!runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "page")),"has_previous")) {
	output += "disabled ";
	;
	}
	output += "\">\n                    <span class=\"rounded-button-inner\">\n                        <i class=\"fa fa-fw fa-chevron-left\"></i>\n                    </span>\n                </div>\n                <div class=\"inline-spacer\">\n                    <span>\n                        ";
	output += runtime.suppressValue(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "page")),"start"), env.opts.autoescape);
	output += " - ";
	output += runtime.suppressValue(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "page")),"end"), env.opts.autoescape);
	output += "\n                    </span>\n                    ";
	if(1) {
	output += "\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"of"), true && env.opts.autoescape);
	output += "\n                        ";
	output += runtime.suppressValue(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "page")),"total_count"), env.opts.autoescape);
	output += "\n                    ";
	;
	}
	output += "\n                    <span>\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Results"), true && env.opts.autoescape);
	output += "\n                    </span>\n                </div>\n                <div class=\"inline-spacer rounded-button rounded-button-circular button-action trigger-pagination-forward ";
	if(!runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "page")),"has_next")) {
	output += "disabled ";
	;
	}
	output += "\">\n                    <span class=\"rounded-button-inner\">\n                        <i class=\"fa fa-fw fa-chevron-right\"></i>\n                    </span>\n                </div>\n            ";
	;
	}
	else {
	output += "\n                <div class=\"spacer\"></div>\n                <i>\n                    ";
	output += "\n                    ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"No results found."), true && env.opts.autoescape);
	output += "\n                </i>\n            ";
	;
	}
	output += "\n            \n            \n        ";
	if(runtime.contextOrFrameLookup(context, frame, "searchHadErrors")) {
	output += "\n            <div class=\"message-error\">\n                <i class=\"fa fa-warning\"></i>\n                ";
	output += "\n                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Could not complete the search due to an error."), true && env.opts.autoescape);
	output += "\n            </div>\n        ";
	;
	}
	output += "\n        \n        </div>\n    </div>\n";
	;
	}
	output += "\n\n";
	output += "\n";
	if(false) {
	output += "\n    <div class=\"map-scroll-controls mobile-hidden\">\n        <table class=\"onoffswitch-frame\">\n            <tr>\n                <td class=\"onoffswitch-text-label\">\n                    ";
	output += "\n                    ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Search when moving the map"), true && env.opts.autoescape);
	output += "\n                </td>\n                <td>\n                    <div class=\"onoffswitch\">\n                        <input type=\"checkbox\" name=\"onoffswitch-search-on-scroll\" class=\"onoffswitch-checkbox toggle-search-on-scroll\" id=\"check-search-on-scroll\" ";
	if(runtime.contextOrFrameLookup(context, frame, "searchOnScroll")) {
	output += "checked";
	;
	}
	output += ">\n                        <label class=\"onoffswitch-label\" for=\"check-search-on-scroll\">\n                            <span class=\"onoffswitch-inner\"></span>\n                            <span class=\"onoffswitch-switch\"></span>\n                        </label>\n                    </div>\n                </td>\n            </tr>\n        </table>\n        \n        ";
	output += "\n        ";
	if(0 && !runtime.contextOrFrameLookup(context, frame, "searchOnScroll") && runtime.contextOrFrameLookup(context, frame, "resultsStale") && !runtime.contextOrFrameLookup(context, frame, "searching")) {
	output += "\n            <div class=\"rounded-button button-color-action stale-search-button\">\n               <span>\n                   ";
	output += "\n                   ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Search this area"), true && env.opts.autoescape);
	output += "\n               </span>\n            </div>\n        ";
	;
	}
	output += "\n    </div>\n";
	;
	}
	output += "\n\n            \n<div class=\"map-create-idea-button-frame mobile-hidden\">\n    ";
	if(runtime.contextOrFrameLookup(context, frame, "show_idea_button")) {
	output += "\n        ";
	output += "\n\t    \n\t    \n\t    <a ";
	if(!runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user")) {
	output += "href=\"/signup/?acc_req_msg=1&next=/map/\" class=\"";
	;
	}
	else {
	output += "class=\"trigger-create-idea";
	;
	}
	output += " rounded-button button-color-ideas-inverted shadowed-button\">\n\t        <span class=\"rounded-button-inner\">\n\t            <i class=\"fa fa-lightbulb-o\"></i>\n\t            ";
	output += "\n\t            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Create Idea"), true && env.opts.autoescape);
	output += "\n\t        </span>\n\t    </a>\n    ";
	;
	}
	output += "\n    \n    ";
	if(runtime.contextOrFrameLookup(context, frame, "splitscreen") && runtime.contextOrFrameLookup(context, frame, "COSINNUS_SHOW_PROJECT_AND_GROUP_CREATE_BUTTONS")) {
	output += "\n\t    <a href=\"";
	if(!runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user")) {
	output += "/signup/?acc_req_msg=1&next=";
	;
	}
	output += "/projects/add/\" class=\"rounded-button button-color-projects-inverted shadowed-button\">\n\t        <span class=\"rounded-button-inner\">\n\t            <i class=\"fa fa-group\"></i>\n\t            ";
	output += "\n\t            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Create Project"), true && env.opts.autoescape);
	output += "\n\t        </span>\n\t    </a>\n    ";
	;
	}
	output += "\n</div>\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/map/pagination-controls.html"] , dependencies)

/***/ }),
/* 19 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var BaseView = __webpack_require__(4);
	var util = __webpack_require__(5);
	
	var mobileControlsTemplate = __webpack_require__(20);
	
	
	/** 
	 * A small view, basically just to encapsulate the mobile control
	 * template and buttons, to be able to render and refresh them independently
	 * of the search controls. 
	 * This is contained by and delegates almost everything back to the control-view.
	 * */
	module.exports = BaseView.extend({
	    
	    // reference back to the main App
	    App: null,
	    
	    controlView: null,
	    
	    template: mobileControlsTemplate,
	    
	    // The DOM events specific to an item.
	    events: {
	        'click .trigger-mobile-list-view': 'triggerMobileListView',
	        'click .trigger-mobile-search-view': 'triggerMobileSearchView',
	        'click .trigger-mobile-map-view': 'triggerMobileMapView',
	        'click .trigger-mobile-idea-create-1-view': 'triggerMobileIdeaCreate1View',
	        'click .trigger-mobile-idea-create-2-view': 'triggerMobileIdeaCreate2View'
	    },
	    
	    initialize: function (options, app, controlView) {
	        var self = this;
	        BaseView.prototype.initialize.call(self, options);
	        self.App = app;
	        self.controlView = controlView;
	    },
	    
	    /** Extend the template data by the controlView's options and state */
	    getTemplateData: function () {
	        var self = this;
	        var data = BaseView.prototype.getTemplateData.call(self);
	        data = _.extend(
	            data,
	            self.controlView.options,
	            self.controlView.state
	        );
	        return data;
	    },
	    
	    
	    // Events  -------------
	    
	
	    // delegate to controlView
	    triggerMobileListView: function (event) {
	        this.controlView.triggerMobileListView();
	    },
	
	    // delegate to controlView
	    triggerMobileSearchView: function (event) {
	    	this.controlView.triggerMobileSearchView();
	    },
	
	    // delegate to controlView
	    triggerMobileMapView: function (event) {
	    	this.controlView.triggerMobileMapView();
	    },
	    
	    // delegate to controlView
	    triggerMobileIdeaCreate1View: function (event) {
	    	this.controlView.triggerMobileIdeaCreate1View();
	    },
	
	    // delegate to controlView
	    triggerMobileIdeaCreate2View: function (event) {
	    	this.controlView.triggerMobileIdeaCreate2View();
	    },
	    
	    
	});


/***/ }),
/* 20 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/map/mobile-controls.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	if(runtime.contextOrFrameLookup(context, frame, "COSINNUS_IDEAS_ENABLED")) {
	output += "\n\t<div class=\"map-mobile-controls left-side mobile-only mobile-view mobile-view-map-visible-block\">\n\t\t<a ";
	if(!runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user")) {
	output += "href=\"/signup/?acc_req_msg=1&next=/map/\" class=\"";
	;
	}
	else {
	output += "class=\"trigger-mobile-idea-create-1-view";
	;
	}
	output += " pull-left rounded-button button-action-faded shadowed-button\">\n\t\t    <span class=\"rounded-button-inner\">\n\t\t        <i class=\"fa fa-fw fa-lightbulb-o apply-color-ideas\"></i>\n\t\t        ";
	output += "\n\t\t        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Create idea"), true && env.opts.autoescape);
	output += "\n\t\t    </span>\n\t\t</a>\n\t</div>\n\t\n\t<div class=\"map-mobile-controls map-pagination-controls full-width vertical-center-parent   mobile-only mobile-view mobile-view-idea-create-1-visible-block\">\n        <a class=\"trigger-mobile-idea-create-2-view rounded-button button-color-action pull-right inline-spacer vertical-center-child\">\n            <span class=\"rounded-button-inner\">\n                ";
	output += "\n                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Next"), true && env.opts.autoescape);
	output += "\n            </span>\n        </a>\n\t    <div class=\"controls-description vertical-center-child\">\n\t        ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Choose a location for your idea by dragging the marker!"), true && env.opts.autoescape);
	output += "\n\t    </div>\n    </div>\n\t\n";
	;
	}
	output += "\n\n<div class=\"map-mobile-controls mobile-only\">\n    ";
	if(!runtime.contextOrFrameLookup(context, frame, "fullscreen")) {
	output += "\n    <div class=\"rounded-button rounded-button-circular button-action-faded shadowed-button trigger-mobile-search-view   mobile-view mobile-view-list-visible-inline-block  mobile-view-map-visible-inline-block mobile-view-detail-visible-inline-block\">\n        <span class=\"rounded-button-inner\">\n            <i class=\"fa fa-fw fa-search\"></i>\n        </span>\n    </div>\n    ";
	;
	}
	output += "\n    ";
	if(runtime.contextOrFrameLookup(context, frame, "splitscreen")) {
	output += "\n\t    <div class=\"rounded-button rounded-button-circular button-action-faded shadowed-button trigger-mobile-map-view   mobile-view mobile-view-search-visible-inline-block  mobile-view-list-visible-inline-block mobile-view-detail-visible-inline-block\">\n\t        <span class=\"rounded-button-inner\">\n\t            <i class=\"fa fa-fw fa-map-marker\"></i>\n\t        </span>\n\t    </div>\n    ";
	;
	}
	output += "\n    <div class=\"rounded-button rounded-button-circular button-action-faded shadowed-button trigger-mobile-list-view   mobile-view mobile-view-map-visible-inline-block  mobile-view-search-visible-inline-block mobile-view-detail-visible-inline-block\">\n        <span class=\"rounded-button-inner\">\n            <i class=\"fa fa-fw fa-list-ul\"></i>\n        </span>\n    </div>\n</div>";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/map/mobile-controls.html"] , dependencies)

/***/ }),
/* 21 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var BaseView = __webpack_require__(4);
	var util = __webpack_require__(5);
	
	
	module.exports = BaseView.extend({
	    
	    // reference back to the main App
	    App: null,
	    
	    controlView: null,
	    
	    model: null,
	
	    template: __webpack_require__(22),
	    
	    // The DOM events specific to an item.
	    events: {
	        'click .tile-close-button': 'onCloseClicked',
	        'click .trigger-create-idea-submit': 'onSubmitClicked',
	        'click .trigger-mobile-idea-back': 'onMobileIdeaBackClicked',
	    },
	    
	    initialize: function (options, app, controlView) {
	        var self = this;
	        BaseView.prototype.initialize.call(self, options);
	        self.App = app;
	        self.controlView = controlView;
	        
	        Backbone.mediator.subscribe('ideas:create-view-opened', self.onViewOpened, self);
	        Backbone.mediator.subscribe('ideas:create-view-closed', self.onViewClosed, self);
	    },
	
	    /** Extend the template data by the controlView's options and state */
	    getTemplateData: function () {
	        var self = this;
	        var data = BaseView.prototype.getTemplateData.call(self);
	        data['controlView'] = _.extend(
	            {},
	            self.App.controlView.options,
	            self.App.controlView.state
	        );
	        return data;
	    },
	    
	    afterRender: function () {
	    	init_simplemde($('#idea-create-description')[0]);
	    },
	    
	    onViewOpened: function () {
	    	this.$el.find('#idea-create-title').focus();
	    	this.App.mapView.activateDraggableMarker('ideas');
	    	$('.trigger-create-idea').hide();
	        Backbone.mediator.publish('tile-detail:opened');
	    },
	    
	    onViewClosed: function () {
	    	this.App.mapView.deactivateDraggableMarker();
	    	$('.trigger-create-idea').show();
	        Backbone.mediator.publish('tile-detail:closed');
	    },
	    
	    // the view is being closed
	    onCloseClicked: function (event) {
	    	this.controlView.closeCreateIdeaView(event);
	    },
	    
	    // submit button was clicked
	    onSubmitClicked: function (event) {
	    	// collect "form" values and navigate to the real create URL
	    	var title = this.$el.find('#idea-create-title').val();
	    	var description = inited_simplemde.value();
	    	var latlng = this.App.mapView.getDraggableMarkerLatLng();
	    	var url = '/ideas/add/?' + 
		    	'title=' + encodeURIComponent(title) + '&' + 
		    	'lat=' + latlng.lat + '&' + 
		    	'lon=' + latlng.lng + '&' +
		    	'description=' + encodeURIComponent(description); 
	    	window.location.href = url;
	    },
	    
	    onMobileIdeaBackClicked: function (event) {
	    	this.controlView.triggerMobileIdeaCreate1View(event);
	    }
	    
	});


/***/ }),
/* 22 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/tiles/tile-detail-create-idea.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/tiles/tile-detail-create-idea.html", false, function(t_2,t_1) {
	if(t_2) { cb(t_2); return; }
	t_1.getExported(function(t_3,t_1) {
	if(t_3) { cb(t_3); return; }
	context.setVariable("macros", t_1);
	output += "\n\n<div class=\"tile-detail tile-idea tile-create-idea mobile-view mobile-view-idea-create-2-visible-block\">\n    <div class=\"tile-close-button more-padding\">\n        <i class=\"fa fa-fw fa-close\"></i>\n    </div>\n    \n    \n    ";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("title"))(env, context, frame, runtime, function(t_5,t_4) {
	if(t_5) { cb(t_5); return; }
	output += t_4;
	output += "\n    \n    ";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("form"))(env, context, frame, runtime, function(t_7,t_6) {
	if(t_7) { cb(t_7); return; }
	output += t_6;
	output += "\n        \n    \n    ";
	output += "\n    <div class=\"spacer mobile-only\">&nbsp;</div>\n    <div class=\"spacer mobile-only\">&nbsp;</div>\n    <div class=\"spacer mobile-only\">&nbsp;</div>\n</div>\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_title(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n        <div class=\"tile-section no-top-spacing title\">\n            <h1>\n                ";
	output += "\n                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Create idea"), true && env.opts.autoescape);
	output += "\n            </h1>\n        </div>\n        \n        <div class=\"tile-section mobile-hidden\">\n            <div class=\"pull-left multi-span non-map-placemark placemark l icon ideas\"></div>\n            <div style=\"overflow: hidden;\">\n                ";
	output += "\n                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Choose a location for your idea by dragging & dropping the marker. You can still change this location later on."), true && env.opts.autoescape);
	output += "\n            </div>\n        </div>\n        \n    ";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_form(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n        <div class=\"tile-detail-form\">\n\t        <div class=\"tile-section\">\n\t            <label class=\"caps\" for=\"idea-create-title\">\n\t                ";
	output += "\n\t                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Title"), true && env.opts.autoescape);
	output += "\n\t            </label> \n\t            <input id=\"idea-create-title\" type=\"text\" />\n\t        </div>\n\t        \n\t        <div class=\"tile-section\">\n\t            <label class=\"caps\" for=\"idea-create-description\">\n\t                ";
	output += "\n\t                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Description"), true && env.opts.autoescape);
	output += "\n\t            </label> \n\t            <textarea id=\"idea-create-description\" name=\"description\"></textarea>\n\t        </div>\n\t        \n\t        <div class=\"tile-section tile-section-button-list\">\n\t            <a class=\"pull-right rounded-button button-color-action trigger-create-idea-submit\">\n                    <span class=\"rounded-button-inner\">\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Next"), true && env.opts.autoescape);
	output += "\n                    </span>\n                </a>\n                <a class=\"pull-right rounded-button button-action trigger-mobile-idea-back mobile-only\">\n                    <span class=\"rounded-button-inner\">\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Back to location selection"), true && env.opts.autoescape);
	output += "\n                    </span>\n                </a>\n\t        </div>\n        </div>\n    ";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	b_title: b_title,
	b_form: b_form,
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/tiles/tile-detail-create-idea.html"] , dependencies)

/***/ }),
/* 23 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/include/macros.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	var macro_t_1 = runtime.makeMacro(
	["type"], 
	["classes", "singular", "button", "useStyles", "colon", "showIcon", "mine", "all", "create", "COSINNUS_TRANS"], 
	function (l_type, kwargs) {
	frame = frame.push(true);
	kwargs = kwargs || {};
	if (kwargs.hasOwnProperty("caller")) {
	frame.set("caller", kwargs.caller); }
	frame.set("type", l_type);
	frame.set("classes", kwargs.hasOwnProperty("classes") ? kwargs["classes"] : "");
	frame.set("singular", kwargs.hasOwnProperty("singular") ? kwargs["singular"] : 0);
	frame.set("button", kwargs.hasOwnProperty("button") ? kwargs["button"] : 0);
	frame.set("useStyles", kwargs.hasOwnProperty("useStyles") ? kwargs["useStyles"] : 1);
	frame.set("colon", kwargs.hasOwnProperty("colon") ? kwargs["colon"] : 0);
	frame.set("showIcon", kwargs.hasOwnProperty("showIcon") ? kwargs["showIcon"] : 1);
	frame.set("mine", kwargs.hasOwnProperty("mine") ? kwargs["mine"] : false);
	frame.set("all", kwargs.hasOwnProperty("all") ? kwargs["all"] : false);
	frame.set("create", kwargs.hasOwnProperty("create") ? kwargs["create"] : false);
	frame.set("COSINNUS_TRANS", kwargs.hasOwnProperty("COSINNUS_TRANS") ? kwargs["COSINNUS_TRANS"] : {});
	var t_2 = "";t_2 += "\n    <span class=\"";
	if(runtime.contextOrFrameLookup(context, frame, "useStyles") == 1) {
	t_2 += "result-type-span ";
	if(runtime.contextOrFrameLookup(context, frame, "button")) {
	t_2 += "button";
	;
	}
	else {
	t_2 += "apply";
	;
	}
	t_2 += "-color-";
	t_2 += runtime.suppressValue(l_type, env.opts.autoescape);
	;
	}
	t_2 += " ";
	t_2 += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "classes"), env.opts.autoescape);
	t_2 += "\">\n        ";
	if(runtime.contextOrFrameLookup(context, frame, "mine")) {
	t_2 += "\n            ";
	if(l_type == "people") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-user\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"My Users"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "events") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-calendar\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"My Events"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "projects") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-group\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"My Projects"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "groups") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-sitemap\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"My Groups"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "conferences") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-calendar\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")),"COSINNUS_TRANS_MY_CONFERENCES"), env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "ideas") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-lightbulb-o\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"My Ideas"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "organizations") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-building\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"My Organizations"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "cloudfiles") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-cloud\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"My Cloud Files"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	t_2 += "\n        ";
	;
	}
	else {
	if(runtime.contextOrFrameLookup(context, frame, "all")) {
	t_2 += "\n            ";
	if(l_type == "people") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-user\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"All Users"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "events") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-calendar\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"All Events"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "projects") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-group\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"All Projects"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "groups") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-sitemap\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"All Groups"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "conferences") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-calendar\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")),"COSINNUS_TRANS_ALL_CONFERENCES"), env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "ideas") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-lightbulb-o\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"All Ideas"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "organizations") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-building\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"All Organizations"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "cloudfiles") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-cloud\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"Cloud Files"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	t_2 += "\n        ";
	;
	}
	else {
	if(runtime.contextOrFrameLookup(context, frame, "singular")) {
	t_2 += "\n            ";
	if(l_type == "people") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-user\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"User"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "events") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-calendar\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"Event"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "projects") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-group\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"Project"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "groups") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-sitemap\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"Group"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "conferences") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-calendar\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")),"COSINNUS_TRANS_CONFERENCE"), env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "ideas") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-lightbulb-o\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"Idea"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "organizations") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-building\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"Organization"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "cloudfiles") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-cloud\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"Cloud File"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	t_2 += "\n        ";
	;
	}
	else {
	if(runtime.contextOrFrameLookup(context, frame, "create")) {
	t_2 += "\n            ";
	if(l_type == "people") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-user\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"Create User"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "events") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-calendar\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"Create Event"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "projects") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-group\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"Create Project"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "groups") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-sitemap\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"Create Group"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "conferences") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-calendar\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")),"COSINNUS_TRANS_CREATE_CONFERENCE"), env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "ideas") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-lightbulb-o\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"Create Idea"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "organizations") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-building\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"Create Organization"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	t_2 += "\n        ";
	;
	}
	else {
	t_2 += "\n            ";
	if(l_type == "people") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-user\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"People"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "events") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-calendar\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"Events"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "projects") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-group\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"Projects"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "groups") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-sitemap\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"Groups"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "conferences") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-calendar\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")),"COSINNUS_TRANS_CONFERENCES"), env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "ideas") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-lightbulb-o\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"Ideas"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "organizations") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-building\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"Organizations"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	else {
	if(l_type == "cloudfiles") {
	t_2 += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "showIcon") == 1) {
	t_2 += "<i class=\"fa fa-cloud\"></i>";
	;
	}
	t_2 += "\n                ";
	t_2 += "\n                ";
	t_2 += runtime.suppressValue(env.getExtension("translation")["run"](context,"Cloud Files"), true && env.opts.autoescape);
	if(runtime.contextOrFrameLookup(context, frame, "colon") == 1) {
	t_2 += ":";
	;
	}
	t_2 += "\n            ";
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	t_2 += "\n        ";
	;
	}
	;
	}
	;
	}
	;
	}
	t_2 += "\n    </span>\n";
	;
	frame = frame.pop();
	return new runtime.SafeString(t_2);
	});
	context.addExport("typeLabel");
	context.setVariable("typeLabel", macro_t_1);
	output += "\n\n";
	var macro_t_3 = runtime.makeMacro(
	["portal", "slug", "name", "type"], 
	["group_slug", "inline_only"], 
	function (l_portal, l_slug, l_name, l_type, kwargs) {
	frame = frame.push(true);
	kwargs = kwargs || {};
	if (kwargs.hasOwnProperty("caller")) {
	frame.set("caller", kwargs.caller); }
	frame.set("portal", l_portal);
	frame.set("slug", l_slug);
	frame.set("name", l_name);
	frame.set("type", l_type);
	frame.set("group_slug", kwargs.hasOwnProperty("group_slug") ? kwargs["group_slug"] : runtime.contextOrFrameLookup(context, frame, "null"));
	frame.set("inline_only", kwargs.hasOwnProperty("inline_only") ? kwargs["inline_only"] : 0);
	var t_4 = "";t_4 += "\n    ";
	if(runtime.contextOrFrameLookup(context, frame, "inline_only") == 1) {
	t_4 += "\n        data-portal=\"";
	t_4 += runtime.suppressValue(l_portal, env.opts.autoescape);
	t_4 += "\" data-slug=\"";
	if(l_type == "events" && runtime.contextOrFrameLookup(context, frame, "group_slug")) {
	t_4 += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "group_slug"), env.opts.autoescape);
	t_4 += "*";
	;
	}
	t_4 += runtime.suppressValue(l_slug, env.opts.autoescape);
	t_4 += "\" data-type=\"";
	t_4 += runtime.suppressValue(l_type, env.opts.autoescape);
	t_4 += "\"\n    ";
	;
	}
	else {
	t_4 += "\n        <a class=\"result-link\" data-portal=\"";
	t_4 += runtime.suppressValue(l_portal, env.opts.autoescape);
	t_4 += "\" data-slug=\"";
	if(l_type == "events" && runtime.contextOrFrameLookup(context, frame, "group_slug")) {
	t_4 += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "group_slug"), env.opts.autoescape);
	t_4 += "*";
	;
	}
	t_4 += runtime.suppressValue(l_slug, env.opts.autoescape);
	t_4 += "\" data-type=\"";
	t_4 += runtime.suppressValue(l_type, env.opts.autoescape);
	t_4 += "\">";
	t_4 += runtime.suppressValue(l_name, env.opts.autoescape);
	t_4 += "</a>\n    ";
	;
	}
	t_4 += "\n";
	;
	frame = frame.pop();
	return new runtime.SafeString(t_4);
	});
	context.addExport("resultLink");
	context.setVariable("resultLink", macro_t_3);
	output += "\n\n";
	var macro_t_5 = runtime.makeMacro(
	["portal", "slug", "title", "type"], 
	["imageUrl", "slot1data", "slot1icon", "slot2data", "slot2icon", "cosinnus_active_user", "group_slug"], 
	function (l_portal, l_slug, l_title, l_type, kwargs) {
	frame = frame.push(true);
	kwargs = kwargs || {};
	if (kwargs.hasOwnProperty("caller")) {
	frame.set("caller", kwargs.caller); }
	frame.set("portal", l_portal);
	frame.set("slug", l_slug);
	frame.set("title", l_title);
	frame.set("type", l_type);
	frame.set("imageUrl", kwargs.hasOwnProperty("imageUrl") ? kwargs["imageUrl"] : runtime.contextOrFrameLookup(context, frame, "null"));
	frame.set("slot1data", kwargs.hasOwnProperty("slot1data") ? kwargs["slot1data"] : runtime.contextOrFrameLookup(context, frame, "null"));
	frame.set("slot1icon", kwargs.hasOwnProperty("slot1icon") ? kwargs["slot1icon"] : runtime.contextOrFrameLookup(context, frame, "null"));
	frame.set("slot2data", kwargs.hasOwnProperty("slot2data") ? kwargs["slot2data"] : runtime.contextOrFrameLookup(context, frame, "null"));
	frame.set("slot2icon", kwargs.hasOwnProperty("slot2icon") ? kwargs["slot2icon"] : runtime.contextOrFrameLookup(context, frame, "null"));
	frame.set("cosinnus_active_user", kwargs.hasOwnProperty("cosinnus_active_user") ? kwargs["cosinnus_active_user"] : runtime.contextOrFrameLookup(context, frame, "null"));
	frame.set("group_slug", kwargs.hasOwnProperty("group_slug") ? kwargs["group_slug"] : runtime.contextOrFrameLookup(context, frame, "null"));
	var t_6 = "";t_6 += "\n    <div class=\"card ";
	if(l_type == "people" && !runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user")) {
	t_6 += "\" href=\"/signup/?acc_req_msg=1&next=/map/\" target=\"_blank\"";
	;
	}
	else {
	t_6 += "result-link\" ";
	t_6 += runtime.suppressValue((lineno = 176, colno = 159, runtime.callWrap(macro_t_3, "resultLink", context, [l_portal,l_slug,l_title,l_type,runtime.makeKeywordArgs({"inline_only": 1,"group_slug": runtime.contextOrFrameLookup(context, frame, "group_slug")})])), env.opts.autoescape);
	;
	}
	t_6 += ">\n        ";
	if(runtime.contextOrFrameLookup(context, frame, "imageUrl")) {
	t_6 += "\n            <div class=\"card-image\">\n                <img src=\"";
	t_6 += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "imageUrl"), env.opts.autoescape);
	t_6 += "\">\n            </div>\n        ";
	;
	}
	t_6 += "\n        <div class=\"card-title\">\n            ";
	if(l_type == "people" && !runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user")) {
	t_6 += "\n                <a href=\"/signup/?acc_req_msg=1&next=/map/\" target=\"_blank\">";
	t_6 += runtime.suppressValue(l_title, env.opts.autoescape);
	t_6 += "</a>\n            ";
	;
	}
	else {
	t_6 += "\n                ";
	t_6 += runtime.suppressValue((lineno = 186, colno = 27, runtime.callWrap(macro_t_3, "resultLink", context, [l_portal,l_slug,l_title,l_type,runtime.makeKeywordArgs({"group_slug": runtime.contextOrFrameLookup(context, frame, "group_slug")})])), env.opts.autoescape);
	t_6 += "\n            ";
	;
	}
	t_6 += "\n        </div>\n        <div class=\"card-data\">\n            ";
	if(runtime.contextOrFrameLookup(context, frame, "slot1data") || runtime.contextOrFrameLookup(context, frame, "slot2data")) {
	t_6 += "\n               ";
	if(runtime.contextOrFrameLookup(context, frame, "slot1data") && runtime.contextOrFrameLookup(context, frame, "slot1icon")) {
	t_6 += "\n                   <i class=\"fa ";
	t_6 += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "slot1icon"), env.opts.autoescape);
	t_6 += "\"></i>\n                   <span>";
	t_6 += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "slot1data"), env.opts.autoescape);
	t_6 += "</span>\n               ";
	;
	}
	t_6 += "\n               ";
	if(runtime.contextOrFrameLookup(context, frame, "slot2data") && runtime.contextOrFrameLookup(context, frame, "slot2icon")) {
	t_6 += "\n                   <i class=\"fa ";
	t_6 += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "slot2icon"), env.opts.autoescape);
	t_6 += "\"></i>\n                   <span>";
	t_6 += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "slot2data"), env.opts.autoescape);
	t_6 += "</span>\n               ";
	;
	}
	t_6 += "\n            ";
	;
	}
	else {
	t_6 += "\n               <p></p>\n            ";
	;
	}
	t_6 += "\n        </div>\n    </div>\n";
	;
	frame = frame.pop();
	return new runtime.SafeString(t_6);
	});
	context.addExport("itemCard");
	context.setVariable("itemCard", macro_t_5);
	output += "\n\n\n";
	var macro_t_7 = runtime.makeMacro(
	["text", "url", "icon"], 
	["subtext", "annotation", "annotationIcon", "includeUnderdrop", "is_emphasized", "inactive", "padded", "makeSafe"], 
	function (l_text, l_url, l_icon, kwargs) {
	frame = frame.push(true);
	kwargs = kwargs || {};
	if (kwargs.hasOwnProperty("caller")) {
	frame.set("caller", kwargs.caller); }
	frame.set("text", l_text);
	frame.set("url", l_url);
	frame.set("icon", l_icon);
	frame.set("subtext", kwargs.hasOwnProperty("subtext") ? kwargs["subtext"] : runtime.contextOrFrameLookup(context, frame, "null"));
	frame.set("annotation", kwargs.hasOwnProperty("annotation") ? kwargs["annotation"] : runtime.contextOrFrameLookup(context, frame, "null"));
	frame.set("annotationIcon", kwargs.hasOwnProperty("annotationIcon") ? kwargs["annotationIcon"] : runtime.contextOrFrameLookup(context, frame, "null"));
	frame.set("includeUnderdrop", kwargs.hasOwnProperty("includeUnderdrop") ? kwargs["includeUnderdrop"] : false);
	frame.set("is_emphasized", kwargs.hasOwnProperty("is_emphasized") ? kwargs["is_emphasized"] : false);
	frame.set("inactive", kwargs.hasOwnProperty("inactive") ? kwargs["inactive"] : false);
	frame.set("padded", kwargs.hasOwnProperty("padded") ? kwargs["padded"] : false);
	frame.set("makeSafe", kwargs.hasOwnProperty("makeSafe") ? kwargs["makeSafe"] : true);
	var t_8 = "";t_8 += "\n    <li>\n\t\t<a class=\"list-item ";
	if(runtime.contextOrFrameLookup(context, frame, "padded")) {
	t_8 += "list-item-padded ";
	;
	}
	if(runtime.contextOrFrameLookup(context, frame, "inactive")) {
	t_8 += "inactive no-select ";
	;
	}
	t_8 += "\" href=\"";
	t_8 += runtime.suppressValue(l_url, env.opts.autoescape);
	t_8 += "\" role=\"button\" titledby=\"";
	if(runtime.contextOrFrameLookup(context, frame, "subtext")) {
	t_8 += ".item-text-primary";
	;
	}
	else {
	t_8 += ".item-text";
	;
	}
	t_8 += "\"> \n\t\t\t<div class=\"item-icon ";
	if(runtime.contextOrFrameLookup(context, frame, "subtext")) {
	t_8 += "item-icon-offset";
	;
	}
	t_8 += "\">\n    \t\t\t";
	if(l_icon && runtime.inOperator("/",l_icon)) {
	t_8 += "\n                    <img src=\"";
	t_8 += runtime.suppressValue(l_icon, env.opts.autoescape);
	t_8 += "\"></img>\n                ";
	;
	}
	else {
	t_8 += "\n                    <i class=\"fas fa-fw ";
	t_8 += runtime.suppressValue(l_icon, env.opts.autoescape);
	t_8 += "\"></i>\n                ";
	;
	}
	t_8 += "\n    \t\t</div>\n    \t\t";
	if(runtime.contextOrFrameLookup(context, frame, "subtext")) {
	t_8 += "\n\t    \t\t<div class=\"item-text item-text-dual\">\n\t    \t\t\t<div class=\"item-text-primary text-bold\">\n\t    \t\t\t\t";
	if(runtime.contextOrFrameLookup(context, frame, "makeSafe")) {
	t_8 += "\n\t    \t\t\t\t\t";
	t_8 += runtime.suppressValue(env.getFilter("safe").call(context, l_text), env.opts.autoescape);
	t_8 += "\n\t\t\t\t\t\t";
	;
	}
	else {
	t_8 += "\n\t\t    \t\t\t\t";
	t_8 += runtime.suppressValue(l_text, env.opts.autoescape);
	t_8 += " \n\t    \t\t\t\t";
	;
	}
	t_8 += "\n    \t\t\t\t</div>\n\t    \t\t\t";
	if(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "subtext")),"is_date")) {
	t_8 += "\n\t    \t\t\t\t<div class=\"moment-data-date\" data-date=\"";
	t_8 += runtime.suppressValue(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "subtext")),"date"), env.opts.autoescape);
	t_8 += "\"></div>\n\t    \t\t\t";
	;
	}
	else {
	t_8 += "\n\t    \t\t\t\t<div>\n\t\t    \t\t\t\t";
	if(runtime.contextOrFrameLookup(context, frame, "makeSafe")) {
	t_8 += "\n\t                            ";
	t_8 += runtime.suppressValue(env.getFilter("safe").call(context, runtime.contextOrFrameLookup(context, frame, "subtext")), env.opts.autoescape);
	t_8 += "\n\t                        ";
	;
	}
	else {
	t_8 += "\n\t                            ";
	t_8 += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "subtext"), env.opts.autoescape);
	t_8 += " \n\t                        ";
	;
	}
	t_8 += "\n                        </div>\n\t    \t\t\t";
	;
	}
	t_8 += "\n\t    \t\t</div>\n    \t\t";
	;
	}
	else {
	t_8 += "\n    \t\t\t<div class=\"item-text ";
	if(runtime.contextOrFrameLookup(context, frame, "is_emphasized")) {
	t_8 += "text-bold";
	;
	}
	t_8 += "\">\n    \t\t\t\t";
	if(runtime.contextOrFrameLookup(context, frame, "makeSafe")) {
	t_8 += "\n    \t\t\t\t\t";
	t_8 += runtime.suppressValue(env.getFilter("safe").call(context, l_text), env.opts.autoescape);
	t_8 += "\n\t\t\t\t\t";
	;
	}
	else {
	t_8 += "\n\t    \t\t\t\t";
	t_8 += runtime.suppressValue(l_text, env.opts.autoescape);
	t_8 += " \n    \t\t\t\t";
	;
	}
	t_8 += "\n\t    \t\t</div>\n    \t\t";
	;
	}
	t_8 += "\n    \t\t";
	if(runtime.contextOrFrameLookup(context, frame, "annotation")) {
	t_8 += "\n    \t\t\t<div class=\"right-side-annotation truncated-oneline\">\n    \t\t\t\t";
	if(runtime.contextOrFrameLookup(context, frame, "annotationIcon")) {
	t_8 += "\n    \t\t\t\t\t<i class=\"fas fa-fw ";
	t_8 += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "annotationIcon"), env.opts.autoescape);
	t_8 += "\"></i>\n    \t\t\t\t";
	;
	}
	t_8 += "\n\t    \t\t\t";
	if(runtime.contextOrFrameLookup(context, frame, "makeSafe")) {
	t_8 += "\n    \t\t\t\t\t";
	t_8 += runtime.suppressValue(env.getFilter("safe").call(context, runtime.contextOrFrameLookup(context, frame, "annotation")), env.opts.autoescape);
	t_8 += "\n\t\t\t\t\t";
	;
	}
	else {
	t_8 += "\n\t    \t\t\t\t";
	t_8 += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "annotation"), env.opts.autoescape);
	t_8 += " \n    \t\t\t\t";
	;
	}
	t_8 += "\n\t    \t\t</div>\n    \t\t";
	;
	}
	t_8 += "\n    \t\t";
	if(runtime.contextOrFrameLookup(context, frame, "includeUnderdrop")) {
	t_8 += "\n    \t\t\t<div class=\"li-underdrop\"></div>\n    \t\t";
	;
	}
	t_8 += "\n\t\t</a>\n\t</li>\n";
	;
	frame = frame.pop();
	return new runtime.SafeString(t_8);
	});
	context.addExport("listItem");
	context.setVariable("listItem", macro_t_7);
	output += "\n\n";
	var macro_t_9 = runtime.makeMacro(
	["item"], 
	["makeSafe"], 
	function (l_item, kwargs) {
	frame = frame.push(true);
	kwargs = kwargs || {};
	if (kwargs.hasOwnProperty("caller")) {
	frame.set("caller", kwargs.caller); }
	frame.set("item", l_item);
	frame.set("makeSafe", kwargs.hasOwnProperty("makeSafe") ? kwargs["makeSafe"] : true);
	var t_10 = "";t_10 += "\n<li>\n    <a class=\"list-item\" href=\"";
	t_10 += runtime.suppressValue(runtime.memberLookup((l_item),"url"), env.opts.autoescape);
	t_10 += "\" titledby=\".item-text\">\n        <div class=\"item-icon\">\n            ";
	if(runtime.memberLookup((l_item),"icon") && runtime.inOperator("/",runtime.memberLookup((l_item),"icon"))) {
	t_10 += "\n                <img src=\"";
	t_10 += runtime.suppressValue(runtime.memberLookup((l_item),"icon"), env.opts.autoescape);
	t_10 += "\"></img>\n            ";
	;
	}
	else {
	t_10 += "\n                <i class=\"fas fa-fw ";
	t_10 += runtime.suppressValue(runtime.memberLookup((l_item),"icon"), env.opts.autoescape);
	t_10 += "\"></i>\n            ";
	;
	}
	t_10 += "\n        </div>\n        <div class=\"item-text\">\n            ";
	if(runtime.contextOrFrameLookup(context, frame, "makeSafe")) {
	t_10 += "\n                ";
	t_10 += runtime.suppressValue(env.getFilter("safe").call(context, runtime.memberLookup((l_item),"text")), env.opts.autoescape);
	t_10 += "\n            ";
	;
	}
	else {
	t_10 += "\n                ";
	t_10 += runtime.suppressValue(runtime.memberLookup((l_item),"text"), env.opts.autoescape);
	t_10 += " \n            ";
	;
	}
	t_10 += "\n        </div>\n        <div class=\"right-side-annotation right-side-action truncated-oneline\">\n            <div class=\"likefollowstar-button action-do-likefollowstar likefollowstar-button-simple selected\" data-type=\"star\" data-ct=\"";
	t_10 += runtime.suppressValue(runtime.memberLookup((l_item),"ct"), env.opts.autoescape);
	t_10 += "\" data-id=\"";
	t_10 += runtime.suppressValue(runtime.memberLookup((l_item),"id"), env.opts.autoescape);
	t_10 += "\">\n                <span class=\"show-unselected\">\n                    <i class=\"far fa-star prevent-click\"></i>\n                </span>\n                <span class=\"show-selected\">\n                    <i class=\"fas fa-star prevent-click\"></i>\n                </span>\n            </div>\n        </div>\n    </a>\n</li>\n";
	;
	frame = frame.pop();
	return new runtime.SafeString(t_10);
	});
	context.addExport("starredlistItem");
	context.setVariable("starredlistItem", macro_t_9);
	output += "\n\n";
	var macro_t_11 = runtime.makeMacro(
	["item"], 
	["makeSafe"], 
	function (l_item, kwargs) {
	frame = frame.push(true);
	kwargs = kwargs || {};
	if (kwargs.hasOwnProperty("caller")) {
	frame.set("caller", kwargs.caller); }
	frame.set("item", l_item);
	frame.set("makeSafe", kwargs.hasOwnProperty("makeSafe") ? kwargs["makeSafe"] : true);
	var t_12 = "";t_12 += "\n<li>\n    <a class=\"list-item\" href=\"";
	t_12 += runtime.suppressValue(runtime.memberLookup((l_item),"url"), env.opts.autoescape);
	t_12 += "\" titledby=\".item-text\">\n        <div class=\"item-icon\">\n            ";
	if(runtime.memberLookup((l_item),"icon") && runtime.inOperator("/",runtime.memberLookup((l_item),"icon"))) {
	t_12 += "\n                <img src=\"";
	t_12 += runtime.suppressValue(runtime.memberLookup((l_item),"icon"), env.opts.autoescape);
	t_12 += "\"></img>\n            ";
	;
	}
	else {
	t_12 += "\n                <i class=\"fas fa-fw ";
	t_12 += runtime.suppressValue(runtime.memberLookup((l_item),"icon"), env.opts.autoescape);
	t_12 += "\"></i>\n            ";
	;
	}
	t_12 += "\n        </div>\n        <div class=\"item-text\">\n            ";
	if(runtime.contextOrFrameLookup(context, frame, "makeSafe")) {
	t_12 += "\n                ";
	t_12 += runtime.suppressValue(env.getFilter("safe").call(context, runtime.memberLookup((l_item),"text")), env.opts.autoescape);
	t_12 += "\n            ";
	;
	}
	else {
	t_12 += "\n                ";
	t_12 += runtime.suppressValue(runtime.memberLookup((l_item),"text"), env.opts.autoescape);
	t_12 += " \n            ";
	;
	}
	t_12 += "\n        </div>\n        <div class=\"right-side-annotation right-side-action truncated-oneline\">\n            <div class=\"likefollowstar-button action-do-likefollowstar likefollowstar-button-simple selected\" data-type=\"follow\" data-ct=\"";
	t_12 += runtime.suppressValue(runtime.memberLookup((l_item),"ct"), env.opts.autoescape);
	t_12 += "\" data-id=\"";
	t_12 += runtime.suppressValue(runtime.memberLookup((l_item),"id"), env.opts.autoescape);
	t_12 += "\">\n                <span class=\"show-unselected\">\n                    <i class=\"far fa-bell prevent-click\"></i>\n                </span>\n                <span class=\"show-selected\">\n                    <i class=\"fas fa-bell prevent-click\"></i>\n                </span>\n            </div>\n        </div>\n    </a>\n</li>\n";
	;
	frame = frame.pop();
	return new runtime.SafeString(t_12);
	});
	context.addExport("followedlistItem");
	context.setVariable("followedlistItem", macro_t_11);
	output += "\n\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/include/macros.html"] , dependencies)

/***/ }),
/* 24 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var Result = __webpack_require__(25);
	var util = __webpack_require__(5);
	
	module.exports = Backbone.Collection.extend({
	    
	    model: Result,
	    
	    /** Results are always sorted by relevance */
	    comparator: function (result_1, result_2) {
	        if (result_1.get('relevance') == result_2.get('relevance')) {
	            return 0;
	        } else if (result_1.get('relevance') > result_2.get('relevance')) {
	            return -1;
	        } else {
	            return 1;
	        }
	    }
	    
	});

/***/ }),
/* 25 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var util = __webpack_require__(5);
	
	module.exports = Backbone.Model.extend({
	    
	    defaults: {
	        /** id: Results get an id in the form of "<result_type>.<result_id>" from the backend.
	         *         Example:  "3.215"  */
	        
	        /**  Object type of the result. currently:
	         *  'groups', 'projects', 'events', 'people'.
	         *  And the special result type: 'error' */
	        type: null,
	        
	        /** Centralised hovered state of this result in the views. 
	         *  Used to transport hovered state over the same result, even if displayed in different 
	         *  views (tile, map, etc). The corresponding change:hovered signal can be subscribed to 
	         *  to register visual changes in the views.  */
	        hovered: false,
	        
	        /** Centralised selected/clicked state of this result in the views. 
	         *  Used to transport selected state over the same result, even if displayed in different 
	         *  views (tile, map, etc). The corresponding selected signal can be subscribed to to 
	         *  register visual changes in the views.  */
	        selected: false,
	
	        /** Latitude/longitude coordinates. 
	         *  If null, this Result has no location, but can still be displayed in for example the Tile View. */
	        lat: null,
	        lon: null,
	        
	        /** Result relevance as float, 0 or positive, can be larger than 1.0! */
	        relevance: 0.0,
	        
	        /** All other attributes come directly from the backend, and aren't listed here as
	         *  they are only used in the templates directly. */
	    },
	    
	    initialize: function(){
	        
	    },
	    
	    locEquals: function(other_result) {
	        return this.get('lat') != null 
	            && this.get('lon') != null
	            && other_result.get('lat') == this.get('lat') 
	            && other_result.get('lon') == this.get('lon');
	    },
	    
	    getLocs: function() {
	        return [this.get('lat'), this.get('lon')];
	    }
	
	});

/***/ }),
/* 26 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/map/map-controls.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	output += runtime.suppressValue(env.getExtension("passThrough")["run"](context,runtime.contextOrFrameLookup(context, frame, "i18n")), true && env.opts.autoescape);
	output += "\n";
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/map/map-controls.html", false, function(t_2,t_1) {
	if(t_2) { cb(t_2); return; }
	t_1.getExported(function(t_3,t_1) {
	if(t_3) { cb(t_3); return; }
	context.setVariable("macros", t_1);
	output += "\n\n<div class=\"map-controls mobile-view mobile-view-search-visible-block\">\n     <div class=\"map-controls-search\">\n         <div class=\"search-box\">\n            <input type=\"text\" class=\"q\" name=\"q\" \n\n";
	if(runtime.contextOrFrameLookup(context, frame, "splitscreen")) {
	output += "\nplaceholder=\"";
	output += "\n";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Search for Names, Topics and Places..."), true && env.opts.autoescape);
	output += "\"\n";
	;
	}
	else {
	output += "\nplaceholder=\"";
	output += "\n";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Search for Names and Topics..."), true && env.opts.autoescape);
	output += "\"\n";
	;
	}
	output += "\n                    value=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "q"), env.opts.autoescape);
	output += "\" autocomplete=\"off\" />\n            <i class=\"fa fa-search clickable-button query-search-button icon-search ";
	if(runtime.contextOrFrameLookup(context, frame, "wantsToSearch")) {
	output += "hidden";
	;
	}
	output += "\"></i>\n         </div>\n         <span class=\"clickable-button icon-filters ";
	if(runtime.contextOrFrameLookup(context, frame, "filterPanelVisible")) {
	output += "open";
	;
	}
	output += "\">\n             <i class=\"fa fa-bars visible-default\"></i>\n             <i class=\"fa fa-chevron-up visible-open\"></i>\n             <i class=\"fa fa-chevron-up visible-open-hover\"></i>\n         </span>\n         <i class=\"fa fa-close clickable-button reset-all icon-reset ";
	if(!runtime.contextOrFrameLookup(context, frame, "filtersActive") && !runtime.contextOrFrameLookup(context, frame, "q")) {
	output += "hidden";
	;
	}
	output += "\"></i>\n         <i class=\"fa fa-spinner fa-pulse icon-loading ";
	if(!runtime.contextOrFrameLookup(context, frame, "wantsToSearch")) {
	output += " hidden";
	;
	}
	output += "\"></i>\n         <div class=\"icon-box filter-button-box\">\n         </div>\n     </div>\n     \n     <div class=\"map-controls-active-filters\"></div>\n     \n     <div class=\"map-controls-filters mobile-always-visible\" ";
	if(!runtime.contextOrFrameLookup(context, frame, "filterPanelVisible")) {
	output += "style=\"display: none;\"";
	;
	}
	output += ">\n        <div class=\"map-controls-filter-fields\">\n\t\t\t";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "availableFilterList")) > 1) {
	output += "\n\t\t\t\t<div class=\"button-list\">\n\t\t\t\t\t";
	frame = frame.push();
	var t_6 = runtime.contextOrFrameLookup(context, frame, "availableFilterList");
	if(t_6) {var t_5 = t_6.length;
	for(var t_4=0; t_4 < t_6.length; t_4++) {
	var t_7 = t_6[t_4];
	frame.set("filter_type", t_7);
	frame.set("loop.index", t_4 + 1);
	frame.set("loop.index0", t_4);
	frame.set("loop.revindex", t_5 - t_4);
	frame.set("loop.revindex0", t_5 - t_4 - 1);
	frame.set("loop.first", t_4 === 0);
	frame.set("loop.last", t_4 === t_5 - 1);
	frame.set("loop.length", t_5);
	output += "\n\t\t\t\t\t\t<a class=\"rounded-button button-color-";
	output += runtime.suppressValue(t_7, env.opts.autoescape);
	output += " result-filter-button ";
	if(runtime.contextOrFrameLookup(context, frame, "typeFiltersActive") && runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "activeFilters")),t_7)) {
	output += "selected";
	;
	}
	output += "\" data-result-filter-type=\"";
	output += runtime.suppressValue(t_7, env.opts.autoescape);
	output += "\">\n\t\t\t\t\t\t\t";
	output += runtime.suppressValue((lineno = 37, colno = 24, runtime.callWrap(runtime.memberLookup((t_1),"typeLabel"), "macros[\"typeLabel\"]", context, [t_7,"rounded-button-inner",runtime.makeKeywordArgs({"button": 1,"COSINNUS_TRANS": runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")})])), env.opts.autoescape);
	output += "\n\t\t\t\t\t\t</a>\n\t\t\t\t\t";
	;
	}
	}
	frame = frame.pop();
	output += "\n\t\t\t\t</div>\n\t\t\t";
	;
	}
	output += "\n\n\t\t\t<ol id=\"date-time-filter\" class=\"input-area\"  style=\"display: ";
	if(runtime.contextOrFrameLookup(context, frame, "dateFiltersActive")) {
	output += " block ";
	;
	}
	else {
	output += " none ";
	;
	}
	output += ";\">\n\t\t\t\t<li class=\"calendar-date-time-chooser\">\n\t\t\t\t\t";
	output += "\n\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"From"), true && env.opts.autoescape);
	output += "\n\t\t\t\t\t<i class=\"fa fa-calendar\"></i>\n\t\t\t\t\t<input readonly =\"readonly\" class=\"calendar-date-time-chooser-date\" />\n\t\t\t\t\t<input class=\"calendar-date-time-chooser-hiddendate\" id=\"id_start_0\" name=\"start_0\"\n\t\t\t\t\t\ttype=\"hidden\" value=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "fromDate"), env.opts.autoescape);
	output += "\"\n\t\t\t\t\t>\n\t\t\t\t\t<input class=\"calendar-date-time-chooser-time\" id=\"id_start_1\" name=\"start_1\"\n\t\t\t\t\t\tplaceholder=\"00:00\" type=\"text\" value=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "fromTime"), env.opts.autoescape);
	output += "\"\n\t\t\t\t\t>\n\t\t\t\t\t<div class=\"small-calendar\"></div>\n\t\t\t\t</li>\n\n\t\t\t\t<li class=\"calendar-date-time-chooser\">\n\t\t\t\t\t";
	output += "\n\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Until"), true && env.opts.autoescape);
	output += "\n\t\t\t\t\t<i class=\"fa fa-calendar\"></i>\n\t\t\t\t\t<input readonly =\"readonly\" class=\"calendar-date-time-chooser-date\" />\n\t\t\t\t\t<input class=\"calendar-date-time-chooser-hiddendate\" id=\"id_end_0\" name=\"end_0\"\n\t\t\t\t\t\ttype=\"hidden\" value=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "toDate"), env.opts.autoescape);
	output += "\"\n\t\t\t\t\t>\n\t\t\t\t\t<input class=\"calendar-date-time-chooser-time\" id=\"id_end_1\" name=\"end_1\"\n\t\t\t\t\t\tplaceholder=\"00:00\" type=\"text\" value=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "toTime"), env.opts.autoescape);
	output += "\"\n\t\t\t\t\t>\n\t\t\t\t\t<div class=\"small-calendar\"></div>\n\t\t\t\t</li>\n\t\t\t</ol>\n\n\n\t\t\t";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "allSDGS")) > 0) {
	output += "\n\t\t\t\t<h1>\n\t\t\t\t\t";
	output += "\n\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Sustainable Development Goals"), true && env.opts.autoescape);
	output += "\n\t\t\t\t</h1>\n\t\t\n\t\t\t\t<div class=\"button-list\">\n\t\t\t\t\t";
	frame = frame.push();
	var t_10 = runtime.contextOrFrameLookup(context, frame, "allSDGS");
	if(t_10) {var t_9 = t_10.length;
	for(var t_8=0; t_8 < t_10.length; t_8++) {
	var t_11 = t_10[t_8];
	frame.set("sdg", t_11);
	frame.set("loop.index", t_8 + 1);
	frame.set("loop.index0", t_8);
	frame.set("loop.revindex", t_9 - t_8);
	frame.set("loop.revindex0", t_9 - t_8 - 1);
	frame.set("loop.first", t_8 === 0);
	frame.set("loop.last", t_8 === t_9 - 1);
	frame.set("loop.length", t_9);
	output += "\n\t\t\t\t\t\t";
	if(runtime.memberLookup((t_11),"id") != "" && t_11) {
	output += "\n\t\t\t\t\t\t\t<a class=\"rounded-button button-color-topic sdg-button hover-image-button ";
	if(runtime.inOperator(runtime.memberLookup((t_11),"id"),runtime.contextOrFrameLookup(context, frame, "activeSDGIds"))) {
	output += "selected";
	;
	}
	output += "\" data-sdg-id=\"";
	output += runtime.suppressValue(runtime.memberLookup((t_11),"id"), env.opts.autoescape);
	output += "\">\n\t\t\t\t\t\t\t\t<span class=\"rounded-button-inner hover-image-button-inner\">\n\t\t\t\t\t\t\t\t\t";
	output += runtime.suppressValue(runtime.memberLookup((t_11),"name"), env.opts.autoescape);
	output += "\n\t\t\t\t\t\t\t\t\t<img class=\"hover-image-icon hover-image-icon-pos-abs hover-image-icon-hidden\" src=\"";
	output += runtime.suppressValue(runtime.memberLookup((t_11),"icon"), env.opts.autoescape);
	output += "\">\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t";
	;
	}
	output += "\n\t\t\t\t\t";
	;
	}
	}
	frame = frame.pop();
	output += "\n\t\t\t\t</div>\n\t\t\t";
	;
	}
	output += "\n\n\t\t\t";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "allManagedTags")) > 0) {
	output += "\n\t\t\t\t<div class=\"managed-tags-buttons\" ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "showManagedTagsOnTypesSelected")) > 0 && !runtime.contextOrFrameLookup(context, frame, "displayManagedTagsFilter")) {
	output += "style=\"display: none;\"";
	;
	}
	output += ">\n\t\t\t\t\t<h1>\n\t\t\t\t\t\t";
	output += runtime.suppressValue(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "managedTagsLabels")),"MANAGED_TAG_MAP_LABEL"), env.opts.autoescape);
	output += "\n\t\t\t\t\t</h1>\n\n\t\t\t\t\t<div class=\"button-list\">\n\t\t\t\t\t\t";
	frame = frame.push();
	var t_14 = runtime.contextOrFrameLookup(context, frame, "allManagedTags");
	if(t_14) {var t_13 = t_14.length;
	for(var t_12=0; t_12 < t_14.length; t_12++) {
	var t_15 = t_14[t_12];
	frame.set("managed_tag", t_15);
	frame.set("loop.index", t_12 + 1);
	frame.set("loop.index0", t_12);
	frame.set("loop.revindex", t_13 - t_12);
	frame.set("loop.revindex0", t_13 - t_12 - 1);
	frame.set("loop.first", t_12 === 0);
	frame.set("loop.last", t_12 === t_13 - 1);
	frame.set("loop.length", t_13);
	output += "\n\t\t\t\t\t\t\t";
	if(runtime.memberLookup((t_15),"id") != "" && t_15) {
	output += "\n\t\t\t\t\t\t\t\t<a class=\"rounded-button button-color-topic managed-tag-button hover-image-button ";
	if(runtime.inOperator(runtime.memberLookup((t_15),"id"),runtime.contextOrFrameLookup(context, frame, "activeManagedTagsIds"))) {
	output += "selected";
	;
	}
	output += "\" data-managed-tag-id=\"";
	output += runtime.suppressValue(runtime.memberLookup((t_15),"id"), env.opts.autoescape);
	output += "\">\n\t\t\t\t\t\t\t\t\t<span class=\"rounded-button-inner hover-image-button-inner\">\n\t\t\t\t\t\t\t\t\t\t";
	output += runtime.suppressValue(runtime.memberLookup((t_15),"name"), env.opts.autoescape);
	output += "\n\t\t\t\t\t\t\t\t\t\t";
	if(runtime.memberLookup((t_15),"image")) {
	output += "\n\t\t\t\t\t\t\t\t\t\t\t<img class=\"over-image-icon hover-image-icon-pos-abs hover-image-icon-hidden\" src=\"";
	output += runtime.suppressValue(runtime.memberLookup((t_15),"image"), env.opts.autoescape);
	output += "\">\n\t\t\t\t\t\t\t\t\t\t";
	;
	}
	output += "\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t";
	;
	}
	output += "\n\t\t\t\t\t\t";
	;
	}
	}
	frame = frame.pop();
	output += "\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t";
	;
	}
	output += "\n\n\t\t\t";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "allTextTopics")) > 0) {
	output += "\n\t\t\t\t<div class=\"text-topic-buttons\" ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "showTextTopicsOnTypesSelected")) > 0 && !runtime.contextOrFrameLookup(context, frame, "displayTextTopcFilter")) {
	output += "style=\"display: none;\"";
	;
	}
	output += ">\n\t\t\t\t\t<h1>\n\t\t\t\t\t\t";
	output += "\n\t\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Categories"), true && env.opts.autoescape);
	output += "\n\t\t\t\t\t</h1>\n\t\n\t\t\t\t\t<div class=\"button-list\">\n\t\t\t\t\t\t";
	frame = frame.push();
	var t_18 = runtime.contextOrFrameLookup(context, frame, "allTextTopics");
	if(t_18) {var t_16;
	if(runtime.isArray(t_18)) {
	var t_17 = t_18.length;
	for(t_16=0; t_16 < t_18.length; t_16++) {
	var t_19 = t_18[t_16][0]
	frame.set("textTopic_id", t_18[t_16][0]);
	var t_20 = t_18[t_16][1]
	frame.set("textTopic", t_18[t_16][1]);
	frame.set("loop.index", t_16 + 1);
	frame.set("loop.index0", t_16);
	frame.set("loop.revindex", t_17 - t_16);
	frame.set("loop.revindex0", t_17 - t_16 - 1);
	frame.set("loop.first", t_16 === 0);
	frame.set("loop.last", t_16 === t_17 - 1);
	frame.set("loop.length", t_17);
	output += "\n\t\t\t\t\t\t\t";
	if(t_19 != "" && t_20) {
	output += "\n\t\t\t\t\t\t\t\t<a class=\"rounded-button button-color-topic text-topic-button ";
	if(runtime.inOperator(env.getFilter("int").call(context, t_19),runtime.contextOrFrameLookup(context, frame, "activeTextTopicIds"))) {
	output += "selected";
	;
	}
	output += "\" data-text-topic-id=\"";
	output += runtime.suppressValue(t_19, env.opts.autoescape);
	output += "\">\n\t\t\t\t\t\t\t\t\t<span class=\"rounded-button-inner\">\n\t\t\t\t\t\t\t\t\t\t";
	output += runtime.suppressValue(t_20, env.opts.autoescape);
	output += "\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t";
	;
	}
	output += "\n\t\t\t\t\t\t";
	;
	}
	} else {
	t_16 = -1;
	var t_17 = runtime.keys(t_18).length;
	for(var t_21 in t_18) {
	t_16++;
	var t_22 = t_18[t_21];
	frame.set("textTopic_id", t_21);
	frame.set("textTopic", t_22);
	frame.set("loop.index", t_16 + 1);
	frame.set("loop.index0", t_16);
	frame.set("loop.revindex", t_17 - t_16);
	frame.set("loop.revindex0", t_17 - t_16 - 1);
	frame.set("loop.first", t_16 === 0);
	frame.set("loop.last", t_16 === t_17 - 1);
	frame.set("loop.length", t_17);
	output += "\n\t\t\t\t\t\t\t";
	if(t_21 != "" && t_22) {
	output += "\n\t\t\t\t\t\t\t\t<a class=\"rounded-button button-color-topic text-topic-button ";
	if(runtime.inOperator(env.getFilter("int").call(context, t_21),runtime.contextOrFrameLookup(context, frame, "activeTextTopicIds"))) {
	output += "selected";
	;
	}
	output += "\" data-text-topic-id=\"";
	output += runtime.suppressValue(t_21, env.opts.autoescape);
	output += "\">\n\t\t\t\t\t\t\t\t\t<span class=\"rounded-button-inner\">\n\t\t\t\t\t\t\t\t\t\t";
	output += runtime.suppressValue(t_22, env.opts.autoescape);
	output += "\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t";
	;
	}
	output += "\n\t\t\t\t\t\t";
	;
	}
	}
	}
	frame = frame.pop();
	output += "\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t";
	;
	}
	output += "\n\n\t\t\t";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "allTopics")) > 0 && !runtime.contextOrFrameLookup(context, frame, "hideTopics")) {
	output += "\n\t\t\t\t<h1>\n\t\t\t\t\t";
	output += "\n\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Topics"), true && env.opts.autoescape);
	output += "\n\t\t\t\t</h1>\n\t\t\t\n\t\t\t\t<div class=\"button-list\">\n\t\t\t\t\t";
	frame = frame.push();
	var t_25 = runtime.contextOrFrameLookup(context, frame, "allTopics");
	if(t_25) {var t_23;
	if(runtime.isArray(t_25)) {
	var t_24 = t_25.length;
	for(t_23=0; t_23 < t_25.length; t_23++) {
	var t_26 = t_25[t_23][0]
	frame.set("topic_id", t_25[t_23][0]);
	var t_27 = t_25[t_23][1]
	frame.set("topic", t_25[t_23][1]);
	frame.set("loop.index", t_23 + 1);
	frame.set("loop.index0", t_23);
	frame.set("loop.revindex", t_24 - t_23);
	frame.set("loop.revindex0", t_24 - t_23 - 1);
	frame.set("loop.first", t_23 === 0);
	frame.set("loop.last", t_23 === t_24 - 1);
	frame.set("loop.length", t_24);
	output += "\n\t\t\t\t\t\t";
	if(t_26 != "" && t_27) {
	output += "\n\t\t\t\t\t\t\t<a class=\"rounded-button button-color-topic topic-button ";
	if(runtime.inOperator(env.getFilter("int").call(context, t_26),runtime.contextOrFrameLookup(context, frame, "activeTopicIds"))) {
	output += "selected";
	;
	}
	output += "\" data-topic-id=\"";
	output += runtime.suppressValue(t_26, env.opts.autoescape);
	output += "\">\n\t\t\t\t\t\t\t\t<span class=\"rounded-button-inner\">\n\t\t\t\t\t\t\t\t\t";
	output += runtime.suppressValue(t_27, env.opts.autoescape);
	output += "\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t";
	;
	}
	output += "\n\t\t\t\t\t";
	;
	}
	} else {
	t_23 = -1;
	var t_24 = runtime.keys(t_25).length;
	for(var t_28 in t_25) {
	t_23++;
	var t_29 = t_25[t_28];
	frame.set("topic_id", t_28);
	frame.set("topic", t_29);
	frame.set("loop.index", t_23 + 1);
	frame.set("loop.index0", t_23);
	frame.set("loop.revindex", t_24 - t_23);
	frame.set("loop.revindex0", t_24 - t_23 - 1);
	frame.set("loop.first", t_23 === 0);
	frame.set("loop.last", t_23 === t_24 - 1);
	frame.set("loop.length", t_24);
	output += "\n\t\t\t\t\t\t";
	if(t_28 != "" && t_29) {
	output += "\n\t\t\t\t\t\t\t<a class=\"rounded-button button-color-topic topic-button ";
	if(runtime.inOperator(env.getFilter("int").call(context, t_28),runtime.contextOrFrameLookup(context, frame, "activeTopicIds"))) {
	output += "selected";
	;
	}
	output += "\" data-topic-id=\"";
	output += runtime.suppressValue(t_28, env.opts.autoescape);
	output += "\">\n\t\t\t\t\t\t\t\t<span class=\"rounded-button-inner\">\n\t\t\t\t\t\t\t\t\t";
	output += runtime.suppressValue(t_29, env.opts.autoescape);
	output += "\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t";
	;
	}
	output += "\n\t\t\t\t\t";
	;
	}
	}
	}
	frame = frame.pop();
	output += "\n\t\t\t\t</div>\n\t\t\t";
	;
	}
	output += "\n\t\t\t\n\t\t\t";
	if(runtime.contextOrFrameLookup(context, frame, "COSINNUS_EXCHANGE_ENABLED")) {
	output += "\n\t            <h1>\n\t                ";
	output += "\n\t                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"External contents"), true && env.opts.autoescape);
	output += "\n\t            </h1>\n\t\n\t            <table class=\"onoffswitch-frame small-space\">\n\t                <tr>\n\t                    <td class=\"onoffswitch-text-label\">\n\t                        ";
	output += "\n\t                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Include contents from other platforms"), true && env.opts.autoescape);
	output += "\n\t                    </td>\n\t                    <td>\n\t                        <div class=\"onoffswitch\">\n\t                            <input type=\"checkbox\" name=\"onoffswitch-exchange\" class=\"onoffswitch-checkbox check-exchange\" id=\"check-exchange\" ";
	if(runtime.contextOrFrameLookup(context, frame, "exchange")) {
	output += "checked";
	;
	}
	output += ">\n\t                            <label class=\"onoffswitch-label\" for=\"check-exchange\">\n\t                                <span class=\"onoffswitch-inner\"></span>\n\t                                <span class=\"onoffswitch-switch\"></span>\n\t                            </label>\n\t                        </div>\n\t                    </td>\n\t                </tr>\n\t            </table>\n\t        ";
	;
	}
	output += "\n\n\t\t\t";
	if(runtime.contextOrFrameLookup(context, frame, "splitscreen")) {
	output += "\n\t\t\t\t<h1>\n\t\t\t\t\t";
	output += "\n\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Where"), true && env.opts.autoescape);
	output += "\n\t\t\t\t</h1>\n\t\t\t\t\n\t\t\t\t<table class=\"onoffswitch-frame small-space\">\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td class=\"onoffswitch-text-label\">\n\t\t\t\t\t\t\t";
	output += "\n\t\t\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"In map area"), true && env.opts.autoescape);
	output += "\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<div class=\"onoffswitch\">\n\t\t\t\t\t\t\t\t<input type=\"checkbox\" name=\"onoffswitch-ignore-location\" class=\"onoffswitch-checkbox check-ignore-location\" id=\"check-ignore-location\" ";
	if(!runtime.contextOrFrameLookup(context, frame, "ignoreLocation")) {
	output += "checked";
	;
	}
	output += ">\n\t\t\t\t\t\t\t\t<label class=\"onoffswitch-label\" for=\"check-ignore-location\">\n\t\t\t\t\t\t\t\t\t<span class=\"onoffswitch-inner\"></span>\n\t\t\t\t\t\t\t\t\t<span class=\"onoffswitch-switch\"></span>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</table>\n\t\t\t\t<div class=\"pale-color\">\n\t\t\t\t\t";
	output += "\n\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"If active, searching will be restricted to the visible map area."), true && env.opts.autoescape);
	output += "\n\t\t\t\t</div>\n\t\t\t";
	;
	}
	output += "\n\t\t</div>\n        \n        <div class=\"spacer\"></div>\n\t\t\n\t\t<div class=\"apply-buttons\">\n\t\t\t<div class=\"button-list\">\n\t\t\t\t<a class=\"rounded-button button-color-action button-search query-search-button disabled\">\n\t\t\t\t\t<span class=\"rounded-button-inner\">\n\t\t\t\t\t\t";
	output += "\n\t\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Apply Filters"), true && env.opts.autoescape);
	output += "\n\t\t\t\t\t</span>\n\t\t\t\t</a>\n\t\t\t\t\n\t\t\t\t<a class=\"rounded-button button-color-action reset-type-and-topic-filters\">\n\t\t\t\t\t<span class=\"rounded-button-inner\">\n\t\t\t\t\t\t";
	output += "\n\t\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Clear Filters"), true && env.opts.autoescape);
	output += "\n\t\t\t\t\t</span>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t\t\n\t\t\t";
	output += "\n\t\t\t<div class=\"spacer mobile-only\">&nbsp;</div>\n\t\t\t<div class=\"spacer mobile-only\">&nbsp;</div>\n\t\t</div>\n    \n    </div>\n    \n        \n</div>\n\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/map/map-controls.html"] , dependencies)

/***/ }),
/* 27 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/map/map-controls-active-filters.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	output += runtime.suppressValue(env.getExtension("passThrough")["run"](context,runtime.contextOrFrameLookup(context, frame, "i18n")), true && env.opts.autoescape);
	output += "\n\n";
	if(runtime.contextOrFrameLookup(context, frame, "typeFiltersActive") || runtime.contextOrFrameLookup(context, frame, "topicFiltersActive") || runtime.contextOrFrameLookup(context, frame, "textTopicFiltersActive") || runtime.contextOrFrameLookup(context, frame, "q") || runtime.contextOrFrameLookup(context, frame, "sdgFiltersActive") || runtime.contextOrFrameLookup(context, frame, "managedTagsFiltersActive")) {
	output += "\n    <div class=\"map-controls-active-filter-frame\">\n\n        ";
	if(runtime.contextOrFrameLookup(context, frame, "typeFiltersActive")) {
	output += "\n            <div class=\"active-filters active-filters-type\">\n                <span class=\"active-filters-inner\">\n                    ";
	frame = frame.push();
	var t_3 = runtime.contextOrFrameLookup(context, frame, "availableFilters");
	if(t_3) {var t_1;
	if(runtime.isArray(t_3)) {
	var t_2 = t_3.length;
	for(t_1=0; t_1 < t_3.length; t_1++) {
	var t_4 = t_3[t_1][0]
	frame.set("filter_type", t_3[t_1][0]);
	var t_5 = t_3[t_1][1]
	frame.set("available", t_3[t_1][1]);
	frame.set("loop.index", t_1 + 1);
	frame.set("loop.index0", t_1);
	frame.set("loop.revindex", t_2 - t_1);
	frame.set("loop.revindex0", t_2 - t_1 - 1);
	frame.set("loop.first", t_1 === 0);
	frame.set("loop.last", t_1 === t_2 - 1);
	frame.set("loop.length", t_2);
	output += "\n                        ";
	if(t_5 && runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "activeFilters")),t_4)) {
	output += "\n                            <span class=\"apply-color-";
	output += runtime.suppressValue(t_4, env.opts.autoescape);
	output += "\">\n                                ";
	if(t_4 == "people") {
	output += "\n                                    <i class=\"fa fa-user\"></i>\n                                ";
	;
	}
	else {
	if(t_4 == "events") {
	output += "\n                                    <i class=\"fa fa-calendar\"></i>\n                                ";
	;
	}
	else {
	if(t_4 == "projects") {
	output += "\n                                    <i class=\"fa fa-group\"></i>\n                                ";
	;
	}
	else {
	if(t_4 == "groups") {
	output += "\n                                    <i class=\"fa fa-sitemap\"></i>\n                                ";
	;
	}
	else {
	if(t_4 == "conferences") {
	output += "\n                                    <i class=\"fa fa-calendar\"></i>\n                                ";
	;
	}
	else {
	if(t_4 == "ideas") {
	output += "\n                                    <i class=\"fa fa-lightbulb-o\"></i>\n                                ";
	;
	}
	else {
	if(t_4 == "organizations") {
	output += "\n                                    <i class=\"fa fa-building\"></i>\n                                ";
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	output += "\n                            </span>\n                        ";
	;
	}
	output += "\n                    ";
	;
	}
	} else {
	t_1 = -1;
	var t_2 = runtime.keys(t_3).length;
	for(var t_6 in t_3) {
	t_1++;
	var t_7 = t_3[t_6];
	frame.set("filter_type", t_6);
	frame.set("available", t_7);
	frame.set("loop.index", t_1 + 1);
	frame.set("loop.index0", t_1);
	frame.set("loop.revindex", t_2 - t_1);
	frame.set("loop.revindex0", t_2 - t_1 - 1);
	frame.set("loop.first", t_1 === 0);
	frame.set("loop.last", t_1 === t_2 - 1);
	frame.set("loop.length", t_2);
	output += "\n                        ";
	if(t_7 && runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "activeFilters")),t_6)) {
	output += "\n                            <span class=\"apply-color-";
	output += runtime.suppressValue(t_6, env.opts.autoescape);
	output += "\">\n                                ";
	if(t_6 == "people") {
	output += "\n                                    <i class=\"fa fa-user\"></i>\n                                ";
	;
	}
	else {
	if(t_6 == "events") {
	output += "\n                                    <i class=\"fa fa-calendar\"></i>\n                                ";
	;
	}
	else {
	if(t_6 == "projects") {
	output += "\n                                    <i class=\"fa fa-group\"></i>\n                                ";
	;
	}
	else {
	if(t_6 == "groups") {
	output += "\n                                    <i class=\"fa fa-sitemap\"></i>\n                                ";
	;
	}
	else {
	if(t_6 == "conferences") {
	output += "\n                                    <i class=\"fa fa-calendar\"></i>\n                                ";
	;
	}
	else {
	if(t_6 == "ideas") {
	output += "\n                                    <i class=\"fa fa-lightbulb-o\"></i>\n                                ";
	;
	}
	else {
	if(t_6 == "organizations") {
	output += "\n                                    <i class=\"fa fa-building\"></i>\n                                ";
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	;
	}
	output += "\n                            </span>\n                        ";
	;
	}
	output += "\n                    ";
	;
	}
	}
	}
	frame = frame.pop();
	output += "\n                </span>\n                <i class=\"fa fa-close clickable-button reset-type-filters\"></i>\n            </div>\n        ";
	;
	}
	output += "\n        \n        ";
	if(runtime.contextOrFrameLookup(context, frame, "textTopicFiltersActive")) {
	output += "\n            <div class=\"active-filters active-filters-text-topics\">\n                <span class=\"active-filters-inner\">\n                    <span class=\"caps\">\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Categories"), true && env.opts.autoescape);
	output += ":\n                    </span>\n                    ";
	frame = frame.push();
	var t_10 = runtime.contextOrFrameLookup(context, frame, "activeTextTopicIds");
	if(t_10) {var t_9 = t_10.length;
	for(var t_8=0; t_8 < t_10.length; t_8++) {
	var t_11 = t_10[t_8];
	frame.set("text_topic_id", t_11);
	frame.set("loop.index", t_8 + 1);
	frame.set("loop.index0", t_8);
	frame.set("loop.revindex", t_9 - t_8);
	frame.set("loop.revindex0", t_9 - t_8 - 1);
	frame.set("loop.first", t_8 === 0);
	frame.set("loop.last", t_8 === t_9 - 1);
	frame.set("loop.length", t_9);
	output += "\n                        ";
	var t_12;
	t_12 = runtime.contextOrFrameLookup(context, frame, "loop");
	frame.set("outer_loop", t_12, true);
	if(frame.topLevel) {
	context.setVariable("outer_loop", t_12);
	}
	if(frame.topLevel) {
	context.addExport("outer_loop", t_12);
	}
	output += "\n                        ";
	frame = frame.push();
	var t_15 = runtime.contextOrFrameLookup(context, frame, "allTextTopics");
	if(t_15) {var t_13;
	if(runtime.isArray(t_15)) {
	var t_14 = t_15.length;
	for(t_13=0; t_13 < t_15.length; t_13++) {
	var t_16 = t_15[t_13][0]
	frame.set("tid", t_15[t_13][0]);
	var t_17 = t_15[t_13][1]
	frame.set("text_topic", t_15[t_13][1]);
	frame.set("loop.index", t_13 + 1);
	frame.set("loop.index0", t_13);
	frame.set("loop.revindex", t_14 - t_13);
	frame.set("loop.revindex0", t_14 - t_13 - 1);
	frame.set("loop.first", t_13 === 0);
	frame.set("loop.last", t_13 === t_14 - 1);
	frame.set("loop.length", t_14);
	output += "\n                            ";
	if(t_17 && t_11 == t_16) {
	output += "\n                                <span>";
	output += runtime.suppressValue(t_17, env.opts.autoescape);
	if(!runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "outer_loop")),"last")) {
	output += ", ";
	;
	}
	output += "</span>\n                            ";
	;
	}
	output += "\n                        ";
	;
	}
	} else {
	t_13 = -1;
	var t_14 = runtime.keys(t_15).length;
	for(var t_18 in t_15) {
	t_13++;
	var t_19 = t_15[t_18];
	frame.set("tid", t_18);
	frame.set("text_topic", t_19);
	frame.set("loop.index", t_13 + 1);
	frame.set("loop.index0", t_13);
	frame.set("loop.revindex", t_14 - t_13);
	frame.set("loop.revindex0", t_14 - t_13 - 1);
	frame.set("loop.first", t_13 === 0);
	frame.set("loop.last", t_13 === t_14 - 1);
	frame.set("loop.length", t_14);
	output += "\n                            ";
	if(t_19 && t_11 == t_18) {
	output += "\n                                <span>";
	output += runtime.suppressValue(t_19, env.opts.autoescape);
	if(!runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "outer_loop")),"last")) {
	output += ", ";
	;
	}
	output += "</span>\n                            ";
	;
	}
	output += "\n                        ";
	;
	}
	}
	}
	frame = frame.pop();
	output += "\n                    ";
	;
	}
	}
	frame = frame.pop();
	output += "\n                </span>\n                <i class=\"fa fa-close clickable-button reset-text-topic-filters\"></i>\n            </div>\n        ";
	;
	}
	output += "\n\n        ";
	if(runtime.contextOrFrameLookup(context, frame, "topicFiltersActive")) {
	output += "\n            <div class=\"active-filters active-filters-topics\">\n                <span class=\"active-filters-inner\">\n                    <span class=\"caps\">\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Topics"), true && env.opts.autoescape);
	output += ":\n                    </span>\n                    ";
	frame = frame.push();
	var t_22 = runtime.contextOrFrameLookup(context, frame, "activeTopicIds");
	if(t_22) {var t_21 = t_22.length;
	for(var t_20=0; t_20 < t_22.length; t_20++) {
	var t_23 = t_22[t_20];
	frame.set("topic_id", t_23);
	frame.set("loop.index", t_20 + 1);
	frame.set("loop.index0", t_20);
	frame.set("loop.revindex", t_21 - t_20);
	frame.set("loop.revindex0", t_21 - t_20 - 1);
	frame.set("loop.first", t_20 === 0);
	frame.set("loop.last", t_20 === t_21 - 1);
	frame.set("loop.length", t_21);
	output += "\n                        ";
	var t_24;
	t_24 = runtime.contextOrFrameLookup(context, frame, "loop");
	frame.set("outer_loop", t_24, true);
	if(frame.topLevel) {
	context.setVariable("outer_loop", t_24);
	}
	if(frame.topLevel) {
	context.addExport("outer_loop", t_24);
	}
	output += "\n                        ";
	frame = frame.push();
	var t_27 = runtime.contextOrFrameLookup(context, frame, "allTopics");
	if(t_27) {var t_25;
	if(runtime.isArray(t_27)) {
	var t_26 = t_27.length;
	for(t_25=0; t_25 < t_27.length; t_25++) {
	var t_28 = t_27[t_25][0]
	frame.set("tid", t_27[t_25][0]);
	var t_29 = t_27[t_25][1]
	frame.set("topic", t_27[t_25][1]);
	frame.set("loop.index", t_25 + 1);
	frame.set("loop.index0", t_25);
	frame.set("loop.revindex", t_26 - t_25);
	frame.set("loop.revindex0", t_26 - t_25 - 1);
	frame.set("loop.first", t_25 === 0);
	frame.set("loop.last", t_25 === t_26 - 1);
	frame.set("loop.length", t_26);
	output += "\n                            ";
	if(t_29 && t_23 == t_28) {
	output += "\n                                <span>";
	output += runtime.suppressValue(t_29, env.opts.autoescape);
	if(!runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "outer_loop")),"last")) {
	output += ", ";
	;
	}
	output += "</span>\n                            ";
	;
	}
	output += "\n                        ";
	;
	}
	} else {
	t_25 = -1;
	var t_26 = runtime.keys(t_27).length;
	for(var t_30 in t_27) {
	t_25++;
	var t_31 = t_27[t_30];
	frame.set("tid", t_30);
	frame.set("topic", t_31);
	frame.set("loop.index", t_25 + 1);
	frame.set("loop.index0", t_25);
	frame.set("loop.revindex", t_26 - t_25);
	frame.set("loop.revindex0", t_26 - t_25 - 1);
	frame.set("loop.first", t_25 === 0);
	frame.set("loop.last", t_25 === t_26 - 1);
	frame.set("loop.length", t_26);
	output += "\n                            ";
	if(t_31 && t_23 == t_30) {
	output += "\n                                <span>";
	output += runtime.suppressValue(t_31, env.opts.autoescape);
	if(!runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "outer_loop")),"last")) {
	output += ", ";
	;
	}
	output += "</span>\n                            ";
	;
	}
	output += "\n                        ";
	;
	}
	}
	}
	frame = frame.pop();
	output += "\n                    ";
	;
	}
	}
	frame = frame.pop();
	output += "\n                </span>\n                <i class=\"fa fa-close clickable-button reset-topic-filters\"></i>\n            </div>\n        ";
	;
	}
	output += "\n\n        ";
	if(runtime.contextOrFrameLookup(context, frame, "sdgFiltersActive")) {
	output += "\n            <div class=\"active-filters active-filters-sdgs\">\n                <span class=\"active-filters-inner\">\n                    <span class=\"caps\">\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"SDGS"), true && env.opts.autoescape);
	output += ":\n                    </span>\n                    ";
	frame = frame.push();
	var t_34 = runtime.contextOrFrameLookup(context, frame, "activeSDGIds");
	if(t_34) {var t_33 = t_34.length;
	for(var t_32=0; t_32 < t_34.length; t_32++) {
	var t_35 = t_34[t_32];
	frame.set("sdg_id", t_35);
	frame.set("loop.index", t_32 + 1);
	frame.set("loop.index0", t_32);
	frame.set("loop.revindex", t_33 - t_32);
	frame.set("loop.revindex0", t_33 - t_32 - 1);
	frame.set("loop.first", t_32 === 0);
	frame.set("loop.last", t_32 === t_33 - 1);
	frame.set("loop.length", t_33);
	output += "\n                        ";
	var t_36;
	t_36 = runtime.contextOrFrameLookup(context, frame, "loop");
	frame.set("outer_loop", t_36, true);
	if(frame.topLevel) {
	context.setVariable("outer_loop", t_36);
	}
	if(frame.topLevel) {
	context.addExport("outer_loop", t_36);
	}
	output += "\n                        ";
	frame = frame.push();
	var t_39 = runtime.contextOrFrameLookup(context, frame, "allSDGS");
	if(t_39) {var t_38 = t_39.length;
	for(var t_37=0; t_37 < t_39.length; t_37++) {
	var t_40 = t_39[t_37];
	frame.set("sdg", t_40);
	frame.set("loop.index", t_37 + 1);
	frame.set("loop.index0", t_37);
	frame.set("loop.revindex", t_38 - t_37);
	frame.set("loop.revindex0", t_38 - t_37 - 1);
	frame.set("loop.first", t_37 === 0);
	frame.set("loop.last", t_37 === t_38 - 1);
	frame.set("loop.length", t_38);
	output += "\n                            ";
	if(t_40 && t_35 == runtime.memberLookup((t_40),"id")) {
	output += "\n                                <span>";
	output += runtime.suppressValue(runtime.memberLookup((t_40),"name"), env.opts.autoescape);
	if(!runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "outer_loop")),"last")) {
	output += ", ";
	;
	}
	output += "</span>\n                            ";
	;
	}
	output += "\n                        ";
	;
	}
	}
	frame = frame.pop();
	output += "\n                    ";
	;
	}
	}
	frame = frame.pop();
	output += "\n                </span>\n                <i class=\"fa fa-close clickable-button reset-sdg-filters\"></i>\n            </div>\n        ";
	;
	}
	output += "\n        \n        ";
	if(runtime.contextOrFrameLookup(context, frame, "managedTagsFiltersActive")) {
	output += "\n            <div class=\"active-filters active-filters-managed-tags\">\n                <span class=\"active-filters-inner\">\n                    <span class=\"caps\">\n                        ";
	output += runtime.suppressValue(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "managedTagsLabels")),"MANAGED_TAG_MAP_LABEL"), env.opts.autoescape);
	output += ":\n                    </span>\n                    ";
	frame = frame.push();
	var t_43 = runtime.contextOrFrameLookup(context, frame, "activeManagedTagsIds");
	if(t_43) {var t_42 = t_43.length;
	for(var t_41=0; t_41 < t_43.length; t_41++) {
	var t_44 = t_43[t_41];
	frame.set("managed_tag_id", t_44);
	frame.set("loop.index", t_41 + 1);
	frame.set("loop.index0", t_41);
	frame.set("loop.revindex", t_42 - t_41);
	frame.set("loop.revindex0", t_42 - t_41 - 1);
	frame.set("loop.first", t_41 === 0);
	frame.set("loop.last", t_41 === t_42 - 1);
	frame.set("loop.length", t_42);
	output += "\n                        ";
	var t_45;
	t_45 = runtime.contextOrFrameLookup(context, frame, "loop");
	frame.set("outer_loop", t_45, true);
	if(frame.topLevel) {
	context.setVariable("outer_loop", t_45);
	}
	if(frame.topLevel) {
	context.addExport("outer_loop", t_45);
	}
	output += "\n                        ";
	frame = frame.push();
	var t_48 = runtime.contextOrFrameLookup(context, frame, "allManagedTags");
	if(t_48) {var t_47 = t_48.length;
	for(var t_46=0; t_46 < t_48.length; t_46++) {
	var t_49 = t_48[t_46];
	frame.set("managed_tag", t_49);
	frame.set("loop.index", t_46 + 1);
	frame.set("loop.index0", t_46);
	frame.set("loop.revindex", t_47 - t_46);
	frame.set("loop.revindex0", t_47 - t_46 - 1);
	frame.set("loop.first", t_46 === 0);
	frame.set("loop.last", t_46 === t_47 - 1);
	frame.set("loop.length", t_47);
	output += "\n                            ";
	if(t_49 && t_44 == runtime.memberLookup((t_49),"id")) {
	output += "\n                                <span>";
	output += runtime.suppressValue(runtime.memberLookup((t_49),"name"), env.opts.autoescape);
	if(!runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "outer_loop")),"last")) {
	output += ", ";
	;
	}
	output += "</span>\n                            ";
	;
	}
	output += "\n                        ";
	;
	}
	}
	frame = frame.pop();
	output += "\n                    ";
	;
	}
	}
	frame = frame.pop();
	output += "\n                </span>\n                <i class=\"fa fa-close clickable-button reset-managed-tag-filters\"></i>\n            </div>\n        ";
	;
	}
	output += "\n        \n        \n        \n        ";
	if(runtime.contextOrFrameLookup(context, frame, "q")) {
	output += "\n            <div class=\"active-filters active-filters-q\">\n                <span class=\"active-filters-inner\">\n                    \"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "q"), env.opts.autoescape);
	output += "\"\n                </span>\n                <i class=\"fa fa-close clickable-button reset-q\"></i>\n            </div>\n        ";
	;
	}
	output += "\n    \n    </div>\n";
	;
	}
	output += "\n\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/map/map-controls-active-filters.html"] , dependencies)

/***/ }),
/* 28 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var BaseView = __webpack_require__(4);
	var ContentControlView = __webpack_require__(3);
	var TileView = __webpack_require__(29);
	var util = __webpack_require__(5);
	
	module.exports = ContentControlView.extend({
	
	    template: __webpack_require__(33),
	    
	    // Marker storage dict of {<resultModel.id>: tileView, ...}
	    // id corresponds to self.collection.get(<id>)
	    // updated through the handlers of self.collection's signals
	    tiles: {},
	    
	    // the Masonry grid for our tiles
	    grid: null,
	    
	    // on every inputs disable, that thread +1s this counter it and may only
	    // re-enable inputs if the counter stayed the same in the meantime
	    // (i.e. no new threads are running now) to prevent enabled inputs on working threads
	    disableCounter: 0,
	    
	    // will be set to self.options during initialization
	    defaults: {
	        // is the window in full-screen mode (instead of inside a widget or similar)
	        fullscreen: true,
	        
	        // is this view shown together with the map view as a 50% split screen?
	        splitscreen: false,
	        
	        state: {
	            
	        }
	    },
	    
	    initialize: function (options, app, collection) {
	        var self = this;
	        // this calls self.applyUrlSearchParameters()
	        ContentControlView.prototype.initialize.call(self, options, app, collection);
	        
	        // result events
	        self.collection.on({
	           'add' : self.thisContext(self.tileAdd),
	           'change:hovered': self.thisContext(self.tileChangeHover),
	           'change:selected': self.thisContext(self.tileChangeSelected),
	           'change': self.thisContext(self.tileUpdate),
	           'remove': self.thisContext(self.tileRemove),
	           'update': self.thisContext(self.tilesUpdate),
	           'reset': self.thisContext(self.tilesReset),
	        });
	        
	        Backbone.mediator.subscribe('error:search', self.onSearchError, self);
	
	        Backbone.mediator.subscribe('tile-detail:opened', self.onTileDetailOpened, self);
	        Backbone.mediator.subscribe('tile-detail:closed', self.onTileDetailClosed, self);
	    },
	
	    render: function () {
	        var self = this;
	        ContentControlView.prototype.render.call(self);
	        
	        self.renderTilesInitial();
	        
	        // scroll listener
	        self.$el.find('.tile-contents').off('scroll').on('scroll', self.onTileListScrolled);
	        return self;
	    },
	    
	    /** Extend the template data by the controlView's options and state */
	    getTemplateData: function () {
	        var self = this;
	        var data = BaseView.prototype.getTemplateData.call(self);
	        data['controlView'] = _.extend(
	            {},
	            self.App.controlView.options,
	            self.App.controlView.state
	        );
	        return data;
	    },
	    
	    afterRender: function () {
	        var self = this;
	    },
	    
	    /** Shows and reloads the tile view */
	    reload: function () {
	    	util.log('*** Reloading Tile View ***')
	    	this.$el.toggleClass('tile-list-splitscreen', this.options.splitscreen);
	    	this.$el.toggleClass('tile-list-tile-fullscreen', !this.options.splitscreen);
	        this.$el.show();
	    },
	    
	    /** Hides the tile view */
	    hide: function () {
	    	util.log('*** Hiding Tile View ***')
	    	this.$el.hide();
	    },
	    
	    /** Handles events for infinite scroll */
	    onTileListScrolled: function (event) {
	    	var $list = $(event.target);
	    	if ($list.scrollTop() + $list.innerHeight() >= $list[0].scrollHeight - 250) {
	        	Backbone.mediator.publish('tile-list:scroll-end-reached');
	    	}
	    },
	    
	    
	    // extended from content-control-view.js
	    applyUrlSearchParameters: function (urlParams) {
	        // don't need this here
	    },
	    
	    // extended from content-control-view.js
	    contributeToSearchParameters: function(forAPI) {
	        // don't need this here
	    },
	    
	    
	    // ResultCollection Event handlers
	    // --------------
	
	    tileAdd: function(result) {
	        // adding a tile that is already there? impossibru! but best be sure.
	        if (result.id in this.tiles) {
	            this.tileRemove(result);
	        }
	
	        var tile = new TileView({
		            model: result,
		            elParent: '#tile-container',
		        }, 
		        this.App).render();
	        this.tiles[result.id] = tile;
	    },
	
	    tileRemove: function(result) {
	        if (result.get('selected')) {
	            util.log('tile-list-view.js: TODO:: was ordered to remove a tile that is currently selected. NOT DOING ANYTHING RN!')
	            return;
	        }
	        if (result.id in this.tiles) {
	            var tile = this.tiles[result.id];
	            
	            tile.remove();
	            
	            delete this.tiles[result.id];
	            util.log('Removed tile at ' + result.id);
	        }
	    },
	
	    tileChangeHover: function(result) {
	        
	    },
	    
	    tileChangeSelected: function(result) {
	        
	    },
	
	    tileUpdate: function(result) {
	        // don't use this trigger when only hovered/selected state was changed - they have their own handlers
	        var attrs = result.changedAttributes();
	        if (attrs && ('selected' in attrs || 'hovered' in attrs)) {
	            return;
	        }
	        if (result.id in this.tiles) {
	            var tile = this.tiles[result.id];
	            tile.render();
	        }
	    },
	    
	    /** Handler for when tiles have been added to the collection, like after an infinite scroll event */
	    tilesUpdate: function(resultCollection, options) {
	        var self = this;
	
	        self.gridRefresh();
	        self.enableInput(true);
	    },
	    
	    /** Handler for when the entire collection changes */
	    tilesReset: function(resultCollection, options) {
	        // options.previousModels contains the old models if we need them
	        this.swapTileset(resultCollection.models);
	    },
	    
	    /** Swaps out a new tile set by disabling the tile list interaction, 
	     *     loading the new tiles into a seperate container, waiting until all their
	     *  images have loaded, and then swapping in the new container for the old one. */ 
	    swapTileset: function(newTileModels) {
	        var self = this;
	        var $old_grid = self.grid;
	        var old_tiles = self.tiles;
	        self.tiles = {};
	        
	        // disable tile view, set old container aside above the new one
	        self.disableInput();
	        self.disableCounter += 1;
	        var localDisableCounter = self.disableCounter;
	        if ($old_grid) {
	            $old_grid.removeAttr('id').css({'z-index': 1});
	        }
	        // load new tiles into new container (which is covered by old)
	        self.grid = self.$el.find('#tile-container-proto')
	            .clone()
	            .attr('id', 'tile-container')
	            .appendTo(self.$el.find('#tile-container-proto').parent())
	            .show();
	        // use a local grid variable because new threads might
	        // swap out self.grid before imagesloaded resolves
	        var grid = self.grid;
	        
	        _.each(newTileModels, function(result){
	            self.tileAdd(result);
	        });
	        
	        grid.imagesLoaded( function() { 
	            grid.masonry({
	                // set itemSelector so .grid-sizer is not used in layout
	                itemSelector: '.grid-item',
	                // use element for option
	                columnWidth: '.grid-sizer',
	                percentPosition: true,
	                transitionDuration: 0
	            });
	            
	            if ($old_grid) {
	                $old_grid.hide();
	            }
	            // re-enable tile-view input unless a new thread is now running
	            if (self.disableCounter == localDisableCounter) {
	                self.enableInput(true);
	            }
	            
	            // cleanly remove old tile views and old grid to not cause leaks
	            if (old_tiles) {
	                _.each(old_tiles, function(tile){
	                    tile.remove();
	                });
	            }
	            if ($old_grid) {
	                $old_grid.remove();
	            }
	        });
	        
	        util.log('TODO: add a case for imagesLoaded() never triggering!')
	    },
	    
	    /** Orders Masonry to reorder tiles after a refresh */
	    gridRefresh: function () {
	        var self = this;
	        self.grid.imagesLoaded( function() { 
	            self.grid.masonry('reloadItems');
	            self.grid.masonry('layout')
	        });
	    },
	    
	    disableInput: function() {
	        this.$el.addClass('disabled');
	    },
	    
	    enableInput: function(local_enable) {
	        // we ignore the enable signal from the content view and only
	        // re-enable the tile view once we have rendered the results.
	        if (local_enable) {
	            this.$el.removeClass('disabled');
	        }
	    },
	
	    onTileDetailOpened: function () {
	    	this.App.$el.addClass('tile-detail-open');
	    	this.App.tileListView.gridRefresh();
	    },
	    
	    onTileDetailClosed: function () {
	    	this.App.$el.removeClass('tile-detail-open');
	    	this.App.tileListView.gridRefresh();
	    },
	    
	    
	    
	    onSearchError: function() {
	        // when the search fails, re-enable the tile-list
	        this.enableInput(true);
	    },
	    
	    // Private
	    // -------
	
	    renderTilesInitial: function () {
	        // nothing to do here for now
	    },
	
	});


/***/ }),
/* 29 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var BaseView = __webpack_require__(4);
	var Result = __webpack_require__(25);
	var util = __webpack_require__(5);
	
	var tileTemplateDefault = __webpack_require__(30);
	
	if (COSINNUS_CLOUD_ENABLED) {
	    var tileTemplateCloudfile = __webpack_require__(32);
	}
	
	module.exports = BaseView.extend({
	    
	    // reference back to the main App
	    App: null,
	    
	    model: Result,
	
	    template: tileTemplateDefault, // determined in `fitTemplate()`
	    
	    // The DOM events specific to an item.
	    events: {
	        'click .result-link': 'onResultLinkClicked',
	        'click .topic-filter-link': 'onTopicLinkClicked',
	        'click .text-topic-filter-link': 'onTextTopicLinkClicked',
	
	        'mouseenter': 'onMouseEnter',
	        'mouseleave': 'onMouseLeave',
	    },
	    
	    initialize: function (options, app) {
	        var self = this;
	        BaseView.prototype.initialize.call(self, options);
	        self.App = app;
	        
	        self.model.on({
	            'change:hovered': self.thisContext(self.onHoverChanged),
	        });
	        self.fitTemplate();
	    },
	    
	    /** Adjust this view's template based on the result type it displays (and other states) */
	    fitTemplate: function () {
	        var self = this;
	        if (self.model.get('type') == 'cloudfile') {
	            self.template = tileTemplateCloudfile;
	            self.state.isSmall = true;
	            self.state.noImage = true;
	        } else if (self.model.get('type') == 'people') {
	            self.state.isSmall = true;
	        } 
	        self.state.isYou = self.model.get('type') == 'people' && cosinnus_active_user && self.model.get('slug') == cosinnus_active_user.username;
	    },
	    
	    /** Extend the template data by the controlView's options and state */
	    getTemplateData: function () {
	        var self = this;
	        var data = BaseView.prototype.getTemplateData.call(self);
	        data['controlView'] = _.extend(
	            {},
	            self.App.controlView.options,
	            self.App.controlView.state
	        );
	        return data;
	    },
	    
	    /**
	     * Called when the .hovered property of the Result model was changed.
	     * We actually do the display and re-render here, because
	     * the selected change may be triggered in other views.
	     */
	    onHoverChanged: function () {
	        this.$el.toggleClass('hovered', this.model.get('hovered'));
	    },
	    
	    
	    onMouseEnter: function() {
	        if (!this.model.get('selected')) {
	            util.log('tile-view.js: got a hover event! id: ' + this.model.id);
	            this.App.controlView.setHoveredResult(this.model);
	        }
	    },
	    onMouseLeave: function() {
	        if (!this.model.get('selected')) {
	            util.log('tile-view.js: got an unhover event! id: ' + this.model.id);
	            this.App.controlView.setHoveredResult(null);
	        }
	    },
	    
	    /** Called when a topic link is clicked to filter for that topic only */
	    onTopicLinkClicked: function(event) {
	        this.App.controlView.onTopicLinkClicked(event);
	    },
	
	    onTextTopicLinkClicked: function(event) {
	        this.App.controlView.onTextTopicLinkClicked(event);
	    },
	    
	    /**
	     * Called when a link is clicked that leads to opening a detail view.
	     * We only change the Result model's .selected property and
	     * don't do any rendering here.
	     */
	    onResultLinkClicked: function (event) {
	        this.App.controlView.onResultLinkClicked(event);
	    },
	    
	});


/***/ }),
/* 30 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["tiles/grid-tile-base"] = __webpack_require__( 31 );
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/tiles/grid-tile-default.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("tiles/grid-tile-base", true, "cosinnus/templates/cosinnus/universal/tiles/grid-tile-default.html", false, function(t_2,_parentTemplate) {
	if(t_2) { cb(t_2); return; }
	parentTemplate = _parentTemplate
	for(var t_1 in parentTemplate.blocks) {
	context.addBlock(t_1, parentTemplate.blocks[t_1]);
	}
	output += "\n";
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/tiles/grid-tile-default.html", false, function(t_4,t_3) {
	if(t_4) { cb(t_4); return; }
	t_3.getExported(function(t_5,t_3) {
	if(t_5) { cb(t_5); return; }
	context.setVariable("macros", t_3);
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("description_area"))(env, context, frame, runtime, function(t_7,t_6) {
	if(t_7) { cb(t_7); return; }
	output += t_6;
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("icon_area"))(env, context, frame, runtime, function(t_9,t_8) {
	if(t_9) { cb(t_9); return; }
	output += t_8;
	output += "\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})})})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_description_area(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    <h1>\n    \t";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "title"), env.opts.autoescape);
	output += "\n    \t";
	if(runtime.contextOrFrameLookup(context, frame, "isYou")) {
	output += "\n    \t\t<i class=\"pale-color\">\n                ";
	output += "\n                (";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"You"), true && env.opts.autoescape);
	output += ")\n\t\t\t</i>\n\t\t";
	;
	}
	output += "\n    </h1>\n    \n    ";
	if(runtime.contextOrFrameLookup(context, frame, "group_slug") && runtime.contextOrFrameLookup(context, frame, "group_name") && runtime.contextOrFrameLookup(context, frame, "portal")) {
	output += "\n        <div class=\"pale-color one-line\">\n            ";
	if(runtime.contextOrFrameLookup(context, frame, "type") == "projects") {
	output += "\n                ";
	output += runtime.suppressValue((lineno = 17, colno = 33, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"typeLabel"), "macros[\"typeLabel\"]", context, ["groups",runtime.makeKeywordArgs({"singular": 1,"useStyles": 0,"colon": 1,"showIcon": 0,"COSINNUS_TRANS": runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")})])), env.opts.autoescape);
	output += "\n                ";
	output += runtime.suppressValue((lineno = 18, colno = 34, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"resultLink"), "macros[\"resultLink\"]", context, [runtime.contextOrFrameLookup(context, frame, "portal"),runtime.contextOrFrameLookup(context, frame, "group_slug"),runtime.contextOrFrameLookup(context, frame, "group_name"),"groups"])), env.opts.autoescape);
	output += "\n            ";
	;
	}
	else {
	output += "\n                ";
	output += runtime.suppressValue((lineno = 20, colno = 33, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"typeLabel"), "macros[\"typeLabel\"]", context, ["projects",runtime.makeKeywordArgs({"singular": 1,"useStyles": 0,"colon": 1,"showIcon": 0,"COSINNUS_TRANS": runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")})])), env.opts.autoescape);
	output += "\n                ";
	output += runtime.suppressValue((lineno = 21, colno = 34, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"resultLink"), "macros[\"resultLink\"]", context, [runtime.contextOrFrameLookup(context, frame, "portal"),runtime.contextOrFrameLookup(context, frame, "group_slug"),runtime.contextOrFrameLookup(context, frame, "group_name"),"projects"])), env.opts.autoescape);
	output += "\n            ";
	;
	}
	output += "\n        </div>\n    ";
	;
	}
	output += "\n    \n    ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "topics")) > 0) {
	output += "\n        <div class=\"tile-section one-line\">\n            <span class=\"pale-color\">\n                ";
	output += "\n                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Topics"), true && env.opts.autoescape);
	output += ":\n            </span> \n            ";
	frame = frame.push();
	var t_12 = runtime.contextOrFrameLookup(context, frame, "topics");
	if(t_12) {var t_11 = t_12.length;
	for(var t_10=0; t_10 < t_12.length; t_10++) {
	var t_13 = t_12[t_10];
	frame.set("topic", t_13);
	frame.set("loop.index", t_10 + 1);
	frame.set("loop.index0", t_10);
	frame.set("loop.revindex", t_11 - t_10);
	frame.set("loop.revindex0", t_11 - t_10 - 1);
	frame.set("loop.first", t_10 === 0);
	frame.set("loop.last", t_10 === t_11 - 1);
	frame.set("loop.length", t_11);
	output += "\n                <a class=\"topic-filter-link \" data-topic-id=\"";
	output += runtime.suppressValue(t_13, env.opts.autoescape);
	output += "\">";
	output += runtime.suppressValue(runtime.memberLookup((runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"allTopics")),t_13), env.opts.autoescape);
	output += "</a>";
	if(!runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "loop")),"last")) {
	output += ",";
	;
	}
	output += "\n            ";
	;
	}
	}
	frame = frame.pop();
	output += "\n        </div>\n    ";
	;
	}
	output += "\n    \n    ";
	if(runtime.contextOrFrameLookup(context, frame, "description")) {
	output += "\n        <div class=\"tile-section tile-description\">";
	output += runtime.suppressValue(env.getFilter("safe").call(context, runtime.contextOrFrameLookup(context, frame, "description")), env.opts.autoescape);
	output += "</div>\n    ";
	;
	}
	output += "\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_icon_area(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    ";
	if((runtime.contextOrFrameLookup(context, frame, "type") == "events" && runtime.contextOrFrameLookup(context, frame, "participant_count") > 1) || (runtime.contextOrFrameLookup(context, frame, "type") != "events" && runtime.contextOrFrameLookup(context, frame, "member_count") > 1) || (runtime.contextOrFrameLookup(context, frame, "content_count") > 0)) {
	output += "\n    <div class=\"tile-section pale-color one-line\">\n        ";
	if(runtime.contextOrFrameLookup(context, frame, "type") == "events" && runtime.contextOrFrameLookup(context, frame, "participant_count") > 1) {
	output += "\n            <span class=\"multi-span\" title=\"\n                ";
	output += "\n                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Participants"), true && env.opts.autoescape);
	output += "\n            \">\n                <i class=\"fa fa-group\"></i> \n                ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "participant_count"), env.opts.autoescape);
	output += "\n            </span>\n        ";
	;
	}
	output += "\n        \n        ";
	if(runtime.contextOrFrameLookup(context, frame, "type") == "people" && runtime.contextOrFrameLookup(context, frame, "member_count") > 1) {
	output += "\n            <span class=\"multi-span\" title=\"\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "type") == "people") {
	output += "\n                    ";
	output += "\n                    ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Projects/Groups"), true && env.opts.autoescape);
	output += "\n                ";
	;
	}
	else {
	output += "\n                    ";
	output += "\n                    ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Members"), true && env.opts.autoescape);
	output += "\n                ";
	;
	}
	output += "\n            \">\n                <i class=\"fa fa-group\"></i> \n                ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "member_count"), env.opts.autoescape);
	output += "\n            </span>\n        ";
	;
	}
	output += "\n        \n        ";
	if(runtime.contextOrFrameLookup(context, frame, "type") == "projects" || runtime.contextOrFrameLookup(context, frame, "type") == "groups") {
	output += "\n            ";
	if(runtime.contextOrFrameLookup(context, frame, "member_count") > 1) {
	output += "\n\t            <span class=\"multi-span\" title=\"\n\t                ";
	output += "\n\t                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Members"), true && env.opts.autoescape);
	output += "\n\t            \">\n\t                <i class=\"fa fa-group\"></i> \n\t                ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "member_count"), env.opts.autoescape);
	output += "\n\t            </span>\n            ";
	;
	}
	output += "\n\t        ";
	if(runtime.contextOrFrameLookup(context, frame, "content_count") > 0) {
	output += "\n\t            <span class=\"multi-span\" title=\"\n\t                ";
	output += "\n\t                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Events"), true && env.opts.autoescape);
	output += "\n\t            \">\n\t                <i class=\"fa fa-calendar\"></i> \n\t                ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "content_count"), env.opts.autoescape);
	output += "\n\t            </span>\n\t        ";
	;
	}
	output += "\n        ";
	;
	}
	output += "\n        \n        ";
	if(runtime.contextOrFrameLookup(context, frame, "type") == "ideas" && runtime.contextOrFrameLookup(context, frame, "participant_count") > 0) {
	output += "\n            <span class=\"multi-span\" title=\"\n                ";
	output += "\n                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Likes"), true && env.opts.autoescape);
	output += "\n            \">\n                <i class=\"fa fa-heart ";
	if(runtime.contextOrFrameLookup(context, frame, "liked")) {
	output += "apply-color-liked";
	;
	}
	output += "\" ></i> \n                ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "participant_count"), env.opts.autoescape);
	output += "\n            </span>\n        ";
	;
	}
	output += "\n        ";
	if(runtime.contextOrFrameLookup(context, frame, "type") == "ideas" && runtime.contextOrFrameLookup(context, frame, "content_count") > 0) {
	output += "\n            <span class=\"multi-span\" title=\"\n                ";
	output += "\n                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Projects"), true && env.opts.autoescape);
	output += "\n            \">\n                <i class=\"fa fa-group\"></i> \n                ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "content_count"), env.opts.autoescape);
	output += "\n            </span>\n        ";
	;
	}
	output += "\n        \n        \n    </div>\n    ";
	;
	}
	output += "\n    \n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	b_description_area: b_description_area,
	b_icon_area: b_icon_area,
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/tiles/grid-tile-default.html"] , dependencies)

/***/ }),
/* 31 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/tiles/grid-tile-base.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/tiles/grid-tile-base.html", false, function(t_2,t_1) {
	if(t_2) { cb(t_2); return; }
	t_1.getExported(function(t_3,t_1) {
	if(t_3) { cb(t_3); return; }
	context.setVariable("macros", t_1);
	output += "\n\n<div class=\"tile tile-";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "type"), env.opts.autoescape);
	output += " grid-item ";
	if(runtime.contextOrFrameLookup(context, frame, "selected")) {
	output += "selected";
	;
	}
	output += " ";
	if(runtime.contextOrFrameLookup(context, frame, "hovered")) {
	output += "hovered";
	;
	}
	output += "\">\n    <div class=\"tile-detail-link result-link\" ";
	output += runtime.suppressValue((lineno = 3, colno = 64, runtime.callWrap(runtime.memberLookup((t_1),"resultLink"), "macros[\"resultLink\"]", context, [runtime.contextOrFrameLookup(context, frame, "portal"),runtime.contextOrFrameLookup(context, frame, "slug"),runtime.contextOrFrameLookup(context, frame, "title"),runtime.contextOrFrameLookup(context, frame, "type"),runtime.makeKeywordArgs({"group_slug": runtime.contextOrFrameLookup(context, frame, "group_slug"),"inline_only": 1})])), env.opts.autoescape);
	output += ">\n        ";
	if(runtime.contextOrFrameLookup(context, frame, "isSmall") && !runtime.contextOrFrameLookup(context, frame, "noImage")) {
	output += "\n            <div class=\"single-tile-image ";
	if(!runtime.contextOrFrameLookup(context, frame, "iconImageUrl")) {
	output += "image-placeholder-background image-placeholder-background-";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "type"), env.opts.autoescape);
	;
	}
	output += "\">\n            \t";
	if(runtime.contextOrFrameLookup(context, frame, "iconImageUrl")) {
	output += "\n                \t<img class=\"framed-tile-image\" src=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "iconImageUrl"), env.opts.autoescape);
	output += "\" />\n                ";
	;
	}
	output += "\n            </div>\n        ";
	;
	}
	output += "\n    \n        ";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("type_area"))(env, context, frame, runtime, function(t_5,t_4) {
	if(t_5) { cb(t_5); return; }
	output += t_4;
	output += "\n        \n        ";
	if((!runtime.contextOrFrameLookup(context, frame, "isSmall")) && (!runtime.contextOrFrameLookup(context, frame, "noImage"))) {
	output += "\n            <div class=\"tile-section\">\n                <div class=\"dual-tile-image ";
	if(!runtime.contextOrFrameLookup(context, frame, "backgroundImageSmallUrl")) {
	output += "image-placeholder-background image-placeholder-background-";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "type"), env.opts.autoescape);
	;
	}
	output += "\">\n                    ";
	if(runtime.contextOrFrameLookup(context, frame, "backgroundImageSmallUrl")) {
	output += "\n                        <img class=\"tile-image tile-image-background\" src=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "backgroundImageSmallUrl"), env.opts.autoescape);
	output += "\" />\n                    ";
	;
	}
	output += "\n                    ";
	if(runtime.contextOrFrameLookup(context, frame, "iconImageUrl")) {
	output += "\n                        <img class=\"floating-tile-image\" src=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "iconImageUrl"), env.opts.autoescape);
	output += "\" />\n                    ";
	;
	}
	output += "\n                </div>\n            </div>\n        ";
	;
	}
	output += "\n        \n        ";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("description_area"))(env, context, frame, runtime, function(t_7,t_6) {
	if(t_7) { cb(t_7); return; }
	output += t_6;
	output += "\n        \n        ";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("icon_area"))(env, context, frame, runtime, function(t_9,t_8) {
	if(t_9) { cb(t_9); return; }
	output += t_8;
	output += "\n    </div> \n</div>\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})})})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_type_area(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n            <div class=\"tile-header-section\">\n                ";
	output += runtime.suppressValue((lineno = 14, colno = 33, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"typeLabel"), "macros[\"typeLabel\"]", context, [runtime.contextOrFrameLookup(context, frame, "type"),runtime.makeKeywordArgs({"singular": 1,"COSINNUS_TRANS": runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")})])), env.opts.autoescape);
	output += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "portal") == runtime.contextOrFrameLookup(context, frame, "COSINNUS_EXCHANGE_PORTAL_ID")) {
	output += "\n                \t";
	output += "\n\t                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"from"), true && env.opts.autoescape);
	output += ": ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "source"), env.opts.autoescape);
	output += "\n                ";
	;
	}
	output += "\n                ";
	if(!runtime.contextOrFrameLookup(context, frame, "isSmall") && runtime.memberLookup((runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"portalInfo")),"current") != runtime.contextOrFrameLookup(context, frame, "portal")) {
	output += "\n                    <div class=\"pull-right\">\n                        <a class=\"portal-inlink uncolored-link\" href=\"";
	output += runtime.suppressValue(runtime.memberLookup((runtime.memberLookup((runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"portalInfo")),runtime.contextOrFrameLookup(context, frame, "portal"))),"domain"), env.opts.autoescape);
	output += "\" target=\"_blank\" title=\"";
	output += runtime.suppressValue(runtime.memberLookup((runtime.memberLookup((runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"portalInfo")),runtime.contextOrFrameLookup(context, frame, "portal"))),"name"), env.opts.autoescape);
	output += "\">\n                            ";
	output += "\n                            ";
	output += runtime.suppressValue(runtime.memberLookup((runtime.memberLookup((runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"portalInfo")),runtime.contextOrFrameLookup(context, frame, "portal"))),"name"), env.opts.autoescape);
	output += "\n                        </a> \n                    </div>\n                ";
	;
	}
	output += "\n            </div>\n        ";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_description_area(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_icon_area(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	b_type_area: b_type_area,
	b_description_area: b_description_area,
	b_icon_area: b_icon_area,
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/tiles/grid-tile-base.html"] , dependencies)

/***/ }),
/* 32 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["tiles/grid-tile-base"] = __webpack_require__( 31 );
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/tiles/grid-tile-cloudfile.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("tiles/grid-tile-base", true, "cosinnus/templates/cosinnus/universal/tiles/grid-tile-cloudfile.html", false, function(t_2,_parentTemplate) {
	if(t_2) { cb(t_2); return; }
	parentTemplate = _parentTemplate
	for(var t_1 in parentTemplate.blocks) {
	context.addBlock(t_1, parentTemplate.blocks[t_1]);
	}
	output += "\n";
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/tiles/grid-tile-cloudfile.html", false, function(t_4,t_3) {
	if(t_4) { cb(t_4); return; }
	t_3.getExported(function(t_5,t_3) {
	if(t_5) { cb(t_5); return; }
	context.setVariable("macros", t_3);
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("description_area"))(env, context, frame, runtime, function(t_7,t_6) {
	if(t_7) { cb(t_7); return; }
	output += t_6;
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("icon_area"))(env, context, frame, runtime, function(t_9,t_8) {
	if(t_9) { cb(t_9); return; }
	output += t_8;
	output += "\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})})})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_description_area(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    <h1>\n    ";
	output += runtime.suppressValue(env.getFilter("safe").call(context, runtime.contextOrFrameLookup(context, frame, "title")), env.opts.autoescape);
	output += "\n    </h1>\n    <div class=\"tile-section tile-description\">\n        ";
	if(runtime.contextOrFrameLookup(context, frame, "excerpt")) {
	output += "\n            ";
	output += runtime.suppressValue(env.getFilter("safe").call(context, runtime.contextOrFrameLookup(context, frame, "excerpt")), env.opts.autoescape);
	output += "\n        ";
	;
	}
	output += "\n    </div>\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_icon_area(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    <i class=\"fa fa-cloud\"></i>\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	b_description_area: b_description_area,
	b_icon_area: b_icon_area,
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/tiles/grid-tile-cloudfile.html"] , dependencies)

/***/ }),
/* 33 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/tiles/tile-list.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	output += runtime.suppressValue(env.getExtension("passThrough")["run"](context,runtime.contextOrFrameLookup(context, frame, "i18n")), true && env.opts.autoescape);
	output += "\n";
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/tiles/tile-list.html", false, function(t_2,t_1) {
	if(t_2) { cb(t_2); return; }
	t_1.getExported(function(t_3,t_1) {
	if(t_3) { cb(t_3); return; }
	context.setVariable("macros", t_1);
	output += "\n\n<div id=\"tile-list\" class=\"tile-list ";
	if(runtime.contextOrFrameLookup(context, frame, "fullscreen")) {
	output += " tile-list-fullscreen ";
	;
	}
	output += " ";
	if(runtime.contextOrFrameLookup(context, frame, "splitscreen")) {
	output += " tile-list-splitscreen ";
	;
	}
	else {
	output += " tile-list-tile-fullscreen ";
	;
	}
	output += " mobile-view mobile-view-list-visible-flex mobile-view-search-visible-flex\">\n    <div class=\"overlay\"></div>\n    ";
	if(!runtime.contextOrFrameLookup(context, frame, "splitscreen")) {
	output += "\n        <div class=\"tile-list-header\">\n            <span class=\"pull-right\">\n\t            ";
	frame = frame.push();
	var t_6 = ["projects","groups","conferences","ideas","organizations"];
	if(t_6) {var t_5 = t_6.length;
	for(var t_4=0; t_4 < t_6.length; t_4++) {
	var t_7 = t_6[t_4];
	frame.set("type", t_7);
	frame.set("loop.index", t_4 + 1);
	frame.set("loop.index0", t_4);
	frame.set("loop.revindex", t_5 - t_4);
	frame.set("loop.revindex0", t_5 - t_4 - 1);
	frame.set("loop.first", t_4 === 0);
	frame.set("loop.last", t_4 === t_5 - 1);
	frame.set("loop.length", t_5);
	output += "\n\t                ";
	if(runtime.inOperator(t_7,runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"availableFilterList"))) {
	output += "\n\t                    ";
	if(!runtime.inOperator(t_7,["projects","groups"]) || runtime.contextOrFrameLookup(context, frame, "COSINNUS_SHOW_PROJECT_AND_GROUP_CREATE_BUTTONS")) {
	output += "\n\t                        ";
	if(runtime.contextOrFrameLookup(context, frame, "COSINNUS_USER_CAN_CREATE_CONFERENCE") || t_7 != "conferences") {
	output += "\n\t\t\t\t\t            <a href=\"";
	if(!runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user")) {
	output += "/signup/?acc_req_msg=1&next=";
	;
	}
	output += "/";
	output += runtime.suppressValue(t_7, env.opts.autoescape);
	output += "/add/\" class=\"rounded-button button-color-";
	output += runtime.suppressValue(t_7, env.opts.autoescape);
	output += "-inverted\">\n\t\t\t\t\t\t            <span class=\"rounded-button-inner\">\n\t\t\t\t\t\t                ";
	output += runtime.suppressValue((lineno = 14, colno = 39, runtime.callWrap(runtime.memberLookup((t_1),"typeLabel"), "macros[\"typeLabel\"]", context, [t_7,runtime.makeKeywordArgs({"useStyles": 0,"create": true,"COSINNUS_TRANS": runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")})])), env.opts.autoescape);
	output += "\n\t\t\t\t\t\t            </span>\n\t\t\t\t\t\t        </a>\n\t\t\t\t\t        ";
	;
	}
	output += "\n\t\t\t\t\t    ";
	;
	}
	output += "\n\t                ";
	;
	}
	output += "\n\t            ";
	;
	}
	}
	frame = frame.pop();
	output += "\n            </span>\n            \n\t        <h1 class=\"no-select\">\n                ";
	frame = frame.push();
	var t_10 = runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"availableFilterList");
	if(t_10) {var t_9 = t_10.length;
	for(var t_8=0; t_8 < t_10.length; t_8++) {
	var t_11 = t_10[t_8];
	frame.set("filter_type", t_11);
	frame.set("loop.index", t_8 + 1);
	frame.set("loop.index0", t_8);
	frame.set("loop.revindex", t_9 - t_8);
	frame.set("loop.revindex0", t_9 - t_8 - 1);
	frame.set("loop.first", t_8 === 0);
	frame.set("loop.last", t_8 === t_9 - 1);
	frame.set("loop.length", t_9);
	output += "\n                    ";
	output += runtime.suppressValue((lineno = 25, colno = 37, runtime.callWrap(runtime.memberLookup((t_1),"typeLabel"), "macros[\"typeLabel\"]", context, [t_11,runtime.makeKeywordArgs({"mine": runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"showMine"),"all": true,"COSINNUS_TRANS": runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")})])), env.opts.autoescape);
	output += "\n                ";
	;
	}
	}
	frame = frame.pop();
	output += "\n            </h1>\n        </div>\n    ";
	;
	}
	output += "\n    <div class=\"controls ";
	if(runtime.memberLookup((runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"state")),"filterPanelVisible")) {
	output += "open";
	;
	}
	output += "\"></div>\n    <div class=\"tile-contents mobile-view mobile-view-list-visible-block\">\n        <div id=\"tile-container-proto\" class=\"grid\" style=\"display: none;\">\n            <!-- width of .grid-sizer used for columnWidth -->\n            <div class=\"grid-sizer\"></div>\n        </div>\n    </div>\n    <div class=\"pagination-controls\"></div>\n</div>";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/tiles/tile-list.html"] , dependencies)

/***/ }),
/* 34 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var BaseView = __webpack_require__(4);
	var Result = __webpack_require__(25);
	var util = __webpack_require__(5);
	
	var templates = {
	    'projects': __webpack_require__(35),
	    'groups': __webpack_require__(38),
	    'conferences': __webpack_require__(39),
	    'people': __webpack_require__(40),
	    'events': __webpack_require__(41),
	    'ideas': __webpack_require__(42),
	    'organizations': __webpack_require__(43),
	    'error-403': __webpack_require__(44),
	    'error': __webpack_require__(45),
	};
	
	module.exports = BaseView.extend({
	    
	    // reference back to the main App
	    App: null,
	    
	    model: Result,
	
	    template: null,
	    
	    // The DOM events specific to an item.
	    events: {
	        'click .result-link': 'onResultLinkClicked',
	        'click .tile-close-button': 'onDeselectClicked',
	        'click .topic-filter-link': 'onTopicLinkClicked',
	        'click .text-topic-filter-link': 'onTextTopicLinkClicked',
	        'click .managed-tag-filter-link': 'onManagedTagLinkClicked',
	        'click .button-like': 'onLikeButtonClicked',
	        'click .button-follow': 'onFollowButtonClicked',
	        'click .button-star': 'onStarButtonClicked',
	        'click .button-report-object': 'onReportButtonClicked',
	    },
	    
	    initialize: function (options, app) {
	        var self = this;
	        BaseView.prototype.initialize.call(self, options);
	        self.App = app;
	        
	        Backbone.mediator.subscribe('result:detail-opened', self.onDetailOpened, self);
	        Backbone.mediator.subscribe('result:detail-closed', self.onDetailClosed, self);
	    },
	
	    /** Extend the template data by the controlView's options and state */
	    getTemplateData: function () {
	        var self = this;
	        var data = BaseView.prototype.getTemplateData.call(self);
	        data['controlView'] = _.extend(
	            {},
	            self.App.controlView.options,
	            self.App.controlView.state
	        );
	        data['starLabel'] = COSINNUS_STARRED_STAR_LABEL
	        data['starringLabel'] = COSINNUS_STARRED_STARRING_LABEL
	        return data;
	    },
	
	    /** Adjust this view's template based on the result type it displays (and other states) */
	    fitTemplate: function () {
	        var self = this;
	        if (self.model.get('type') == 'people' || self.model.get('type') == 'organizations') {
	            self.state.isSmall = true;
	        } 
	        self.state.isYou = self.model.get('type') == 'people' && cosinnus_active_user && self.model.get('slug') == cosinnus_active_user.username;
	    },
	    
	    // a new result is being selected
	    onDetailOpened: function (result) {
	        var self = this;
	        this.model = result;
	        if (result.get('type') in templates) {
	            this.template = templates[result.get('type')];
	        } else {
	            this.template = templates['error'];
	        }
	
	        this.model.on({
	        	'change:liked': self.thisContext(self.render),
	            'change:followed': self.thisContext(self.render),
	            'change:starred': self.thisContext(self.render),
	        });
	        this.fitTemplate();
	        this.render();
	        this.App.controlView.triggerMobileDetailView();
	        Backbone.mediator.publish('tile-detail:opened');
	    },
	    
	    // a result is being unselected
	    onDetailClosed: function () {
	        this.model = null;
	        this.render();
	        this.App.controlView.untriggerMobileDetailView();
	        this.App.controlView.addCurrentHistoryState();
	        Backbone.mediator.publish('tile-detail:closed');
	    },
	    
	    afterRender: function () {
	    	// render moment dates
	    	$.cosinnus.renderMomentDataDate();
	        $.cosinnus.renderTimezoneAwareDates();
	    },
	    
	    /** Called when a topic link is clicked to filter for that topic only */
	    onTopicLinkClicked: function(event) {
	        // make sure to close
	        this.App.controlView.displayDetailResult(null);
	        this.App.controlView.onTopicLinkClicked(event);
	    },
	
	    /** Called when a text topic link is clicked to filter for that topic only */
	    onTextTopicLinkClicked: function(event) {
	        // make sure to close
	        this.App.controlView.displayDetailResult(null);
	        this.App.controlView.onTextTopicLinkClicked(event);
	    },
	    
	    /** Called when a managed tag link is clicked to filter for that topic only */
	    onManagedTagLinkClicked: function(event) {
	        // make sure to close
	        this.App.controlView.displayDetailResult(null);
	        this.App.controlView.onManagedTagLinkClicked(event);
	    },
	    
	    /**
	     * Called when a tile detail close button is clicked.
	     * We only change the Result model's .selected property and
	     * don't do any rendering here (this is mediated through signals from the control view).
	     */
	    onDeselectClicked: function () {
	        util.log('tile-view.js: got a deselect click event!');
	        // this voluntary action adds a history state!
	        this.App.controlView.displayDetailResult(null, true);
	        if (App.displayOptions.routeNavigation) {
	            util.log('tile-detail-view.js: +++++++++++++++++ since we are fullscreen, publishing detail-close router URL update!')
	            App.controlView.addCurrentHistoryState();
	        } 
	    },
	    
	
	    /**
	     * Called when a link is clicked that leads to opening a detail view.
	     * We only change the Result model's .selected property and
	     * don't do any rendering here.
	     */
	    onResultLinkClicked: function (event) {
	        this.App.controlView.onResultLinkClicked(event);
	    },
	    
	    onLikeButtonClicked: function (event) {
	    	this.App.controlView.triggerResultLikeOrUnlike(this.model);
	    },
	    
	    onFollowButtonClicked: function (event) {
	    	this.App.controlView.triggerResultFollowOrUnfollow(this.model);
	    },
	    onStarButtonClicked: function (event) {
	    	this.App.controlView.triggerResultStarOrUnstar(this.model);
	    },
	    
	    /** report the currently open detail view object */
	    onReportButtonClicked: function (event) {
	    	$.cosinnus.Feedback.cosinnus_report_object(this.model.get("report_model"), this.model.get("report_id"), this.model.get("title"));
	    }
	    
	});


/***/ }),
/* 35 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], {"dev":false,"autoescape":true,"throwOnUndefined":false,"trimBlocks":false,"lstripBlocks":false});
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["tiles/tile-detail-base-group"] = __webpack_require__( 36 );
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/tiles/tile-detail-projects.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("tiles/tile-detail-base-group", true, "cosinnus/templates/cosinnus/universal/tiles/tile-detail-projects.html", false, function(t_2,_parentTemplate) {
	if(t_2) { cb(t_2); return; }
	parentTemplate = _parentTemplate
	for(var t_1 in parentTemplate.blocks) {
	context.addBlock(t_1, parentTemplate.blocks[t_1]);
	}
	output += "\n";
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/tiles/tile-detail-projects.html", false, function(t_4,t_3) {
	if(t_4) { cb(t_4); return; }
	t_3.getExported(function(t_5,t_3) {
	if(t_5) { cb(t_5); return; }
	context.setVariable("macros", t_3);
	output += "\n\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("action_buttons"))(env, context, frame, runtime, function(t_7,t_6) {
	if(t_7) { cb(t_7); return; }
	output += t_6;
	output += "\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_action_buttons(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	context.getSuper(env, "action_buttons", b_action_buttons, frame, runtime, function(t_8,hole_0) {
	if(t_8) { cb(t_8); return; }
	hole_0 = runtime.markSafe(hole_0);
	output += "\n    <div class=\"tile-section tile-section-button-list\">\n        ";
	output += runtime.suppressValue(hole_0, env.opts.autoescape);
	output += "\n        \n        ";
	if(runtime.contextOrFrameLookup(context, frame, "is_member")) {
	output += "\n            <a class=\"rounded-button button-action disabled\">\n                <span class=\"rounded-button-inner\">\n                    <i clasS=\"fa fa-check\"></i>\n                    ";
	output += "\n                    ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"You are a Member"), true && env.opts.autoescape);
	output += "\n                </span>\n            </a>\n        ";
	;
	}
	else {
	output += "\n           <a href=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "action_url_1"), env.opts.autoescape);
	output += "\" target=\"_blank\" class=\"rounded-button button-action\">\n                <span class=\"rounded-button-inner\">\n                    ";
	if(runtime.contextOrFrameLookup(context, frame, "is_invited")) {
	output += "\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"You are invited!"), true && env.opts.autoescape);
	output += "\n                    ";
	;
	}
	else {
	if(runtime.contextOrFrameLookup(context, frame, "is_pending")) {
	output += "\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Membership request pending..."), true && env.opts.autoescape);
	output += "\n                    ";
	;
	}
	else {
	output += "\n\t                    ";
	output += "\n\t                    ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Join Project"), true && env.opts.autoescape);
	output += "\n                    ";
	;
	}
	;
	}
	output += "\n                </span>\n            </a>\n        ";
	;
	}
	output += "\n        ";
	if(runtime.contextOrFrameLookup(context, frame, "action_url_2")) {
	output += "\n            <a href=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "action_url_2"), env.opts.autoescape);
	output += "\" target=\"_blank\" class=\"rounded-button button-action\">\n                <span class=\"rounded-button-inner\">\n                    ";
	output += "\n                    ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Message Project"), true && env.opts.autoescape);
	output += "\n                </span>\n            </a>\n        ";
	;
	}
	output += "\n    </div>\n    \n    <div class=\"no-input\">\n        <div class=\"now-following-message message-success extra-space-top\" style=\"display: none;\">\n            <i class=\"fas fa-bell\"></i>\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"You will now receive notifications for content posted in this project."), true && env.opts.autoescape);
	output += "\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"If you do not want notifications, click the unfollow button!"), true && env.opts.autoescape);
	output += "\n        </div>\n         \n        <div class=\"like-button-error message-error extra-space-top\" style=\"display: none;\">\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Could not save your like setting because of an error."), true && env.opts.autoescape);
	output += "\n        </div>\n        <div class=\"follow-button-error message-error extra-space-top\" style=\"display: none;\">\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Could not save your follow setting because of an error."), true && env.opts.autoescape);
	output += "\n        </div>\n    </div>\n";
	cb(null, output);
	});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	b_action_buttons: b_action_buttons,
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/tiles/tile-detail-projects.html"] , dependencies)

/***/ }),
/* 36 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["tiles/tile-detail-base"] = __webpack_require__( 37 );
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/tiles/tile-detail-base-group.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("tiles/tile-detail-base", true, "cosinnus/templates/cosinnus/universal/tiles/tile-detail-base-group.html", false, function(t_2,_parentTemplate) {
	if(t_2) { cb(t_2); return; }
	parentTemplate = _parentTemplate
	for(var t_1 in parentTemplate.blocks) {
	context.addBlock(t_1, parentTemplate.blocks[t_1]);
	}
	output += "\n";
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/tiles/tile-detail-base-group.html", false, function(t_4,t_3) {
	if(t_4) { cb(t_4); return; }
	t_3.getExported(function(t_5,t_3) {
	if(t_5) { cb(t_5); return; }
	context.setVariable("macros", t_3);
	output += "\n\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("related_content"))(env, context, frame, runtime, function(t_7,t_6) {
	if(t_7) { cb(t_7); return; }
	output += t_6;
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("action_buttons"))(env, context, frame, runtime, function(t_9,t_8) {
	if(t_9) { cb(t_9); return; }
	output += t_8;
	output += "\n\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("contact"))(env, context, frame, runtime, function(t_11,t_10) {
	if(t_11) { cb(t_11); return; }
	output += t_10;
	output += "\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})})})})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_related_content(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    \n    ";
	context.getBlock("group_events")(env, context, frame, runtime, function(t_13,t_12) {
	if(t_13) { cb(t_13); return; }
	output += t_12;
	output += "\n\n    ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "organizations")) > 0) {
	output += "\n        <div class=\"tile-section tile-section-divided\">\n            <div class=\"subheading\">\n                <i class=\"fa fa-building\"></i>\n                ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "organizations")) > 1) {
	output += "\n                \t";
	output += "\n\t                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Organizations"), true && env.opts.autoescape);
	output += "\n                ";
	;
	}
	else {
	output += "\n\t                ";
	output += "\n\t                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Organization"), true && env.opts.autoescape);
	output += "\n\t            ";
	;
	}
	output += "\n            </div>\n        </div>\n        <div class=\"tile-section\">\n            <div class=\"row\">\n                ";
	frame = frame.push();
	var t_16 = runtime.contextOrFrameLookup(context, frame, "organizations");
	if(t_16) {var t_15 = t_16.length;
	for(var t_14=0; t_14 < t_16.length; t_14++) {
	var t_17 = t_16[t_14];
	frame.set("organization", t_17);
	frame.set("loop.index", t_14 + 1);
	frame.set("loop.index0", t_14);
	frame.set("loop.revindex", t_15 - t_14);
	frame.set("loop.revindex0", t_15 - t_14 - 1);
	frame.set("loop.first", t_14 === 0);
	frame.set("loop.last", t_14 === t_15 - 1);
	frame.set("loop.length", t_15);
	output += "\n                    <div class=\"col-sm-6\">\n                        ";
	output += runtime.suppressValue((lineno = 40, colno = 40, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"itemCard"), "macros[\"itemCard\"]", context, [runtime.memberLookup((t_17),"portal"),runtime.memberLookup((t_17),"slug"),runtime.memberLookup((t_17),"title"),runtime.memberLookup((t_17),"type"),runtime.memberLookup((t_17),"iconImageUrl"),runtime.memberLookup((t_17),"location"),"fa-map-marker"])), env.opts.autoescape);
	output += "\n                    </div>\n                ";
	;
	}
	}
	frame = frame.pop();
	output += "\n            </div>\n        </div>\n    ";
	;
	}
	output += "\n    \n";
	cb(null, output);
	});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_group_events(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n\t    ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "events")) > 0) {
	output += "\n\t        <div class=\"tile-section tile-section-divided\">\n\t            <div class=\"subheading\">\n\t                <i class=\"fa fa-calendar\"></i>\n\t                ";
	output += "\n\t                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Events"), true && env.opts.autoescape);
	output += " (";
	output += runtime.suppressValue(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "events")), env.opts.autoescape);
	output += ")\n\t            </div>\n\t        </div>\n\t        <div class=\"tile-section\">\n\t            ";
	frame = frame.push();
	var t_20 = runtime.contextOrFrameLookup(context, frame, "events");
	if(t_20) {var t_19 = t_20.length;
	for(var t_18=0; t_18 < t_20.length; t_18++) {
	var t_21 = t_20[t_18];
	frame.set("event", t_21);
	frame.set("loop.index", t_18 + 1);
	frame.set("loop.index0", t_18);
	frame.set("loop.revindex", t_19 - t_18);
	frame.set("loop.revindex0", t_19 - t_18 - 1);
	frame.set("loop.first", t_18 === 0);
	frame.set("loop.last", t_18 === t_19 - 1);
	frame.set("loop.length", t_19);
	output += "\n\t                ";
	output += runtime.suppressValue((lineno = 17, colno = 33, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"itemCard"), "macros[\"itemCard\"]", context, [runtime.memberLookup((t_21),"portal"),runtime.memberLookup((t_21),"slug"),runtime.memberLookup((t_21),"title"),runtime.memberLookup((t_21),"type"),runtime.contextOrFrameLookup(context, frame, "null"),env.getFilter("safe").call(context, runtime.memberLookup((t_21),"dataSlot1")),"fa-clock-o",runtime.memberLookup((t_21),"address"),"fa-map-marker",runtime.makeKeywordArgs({"cosinnus_active_user": runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user"),"group_slug": runtime.contextOrFrameLookup(context, frame, "slug")})])), env.opts.autoescape);
	output += "\n\t            ";
	;
	}
	}
	frame = frame.pop();
	output += "\n\t        </div>\n\t    ";
	;
	}
	output += "\n    ";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_action_buttons(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    ";
	if(runtime.memberLookup((runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"portalInfo")),"current") == runtime.contextOrFrameLookup(context, frame, "portal")) {
	output += "\n        <a class=\"rounded-button button-action\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user")) {
	output += "button-follow\" ";
	;
	}
	else {
	output += "\" href=\"/signup/?acc_req_msg=1&next=/map/\" target=\"_blank\"";
	;
	}
	output += ">\n            <span class=\"rounded-button-inner\">\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "followed")) {
	output += "\n                    <i clasS=\"fas fa-bell\"></i>\n                    ";
	output += "\n                    ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Following"), true && env.opts.autoescape);
	output += "\n                ";
	;
	}
	else {
	output += "\n                    <i clasS=\"far fa-bell\"></i>\n                    ";
	output += "\n                    ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Follow"), true && env.opts.autoescape);
	output += "\n                ";
	;
	}
	output += "\n            </span>\n        </a>\n\n        <a class=\"rounded-button button-action ";
	if(runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user")) {
	output += " button-star ";
	;
	}
	else {
	output += "\" href=\"/signup/?acc_req_msg=1&next=/map/\" target=\"_blank\"";
	;
	}
	output += "\">\n            <span class=\"rounded-button-inner\">\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "starred")) {
	output += "\n                    <i class=\"fas fa-star\"></i>\n                    ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "starringLabel"), env.opts.autoescape);
	output += "\n                ";
	;
	}
	else {
	output += "\n                    <i class=\"far fa-star\"></i>\n                    ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "starLabel"), env.opts.autoescape);
	output += "\n                ";
	;
	}
	output += "\n            </span>\n        </a>\n    ";
	;
	}
	output += "\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_contact(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n\n    <div class=\"tile-section tile-section-divided\">\n        <div class=\"row\">\n            <div class=\"col-xs-6\">\n                <div class=\"subheading\">\n                    ";
	output += "\n                    ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Contact"), true && env.opts.autoescape);
	output += "\n                </div>\n                ";
	if(!runtime.contextOrFrameLookup(context, frame, "youtube_url") && !runtime.contextOrFrameLookup(context, frame, "twitter_username") && !runtime.contextOrFrameLookup(context, frame, "flickr_url") && !runtime.contextOrFrameLookup(context, frame, "website_url") && !runtime.contextOrFrameLookup(context, frame, "contact")) {
	output += "\n                    <p class=\"pale-color\">\n                        <i>\n                            ";
	output += "\n                            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"No info."), true && env.opts.autoescape);
	output += "\n                        </i>\n                    </p>\n                ";
	;
	}
	else {
	output += "\n                    ";
	if(runtime.contextOrFrameLookup(context, frame, "contact")) {
	output += "\n                        <div class=\"tile-section\">\n                            ";
	output += runtime.suppressValue(env.getFilter("safe").call(context, runtime.contextOrFrameLookup(context, frame, "contact")), env.opts.autoescape);
	output += "\n                        </div>\n                    ";
	;
	}
	output += "\n                    ";
	if(runtime.contextOrFrameLookup(context, frame, "website_url")) {
	output += "\n                        <div class=\"tile-section tile-section-compact\">\n                            <a href=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "website_url"), env.opts.autoescape);
	output += "\" target=\"_blank\" class=\"compact-link\">\n                                <i class=\"fa fa-globe\"></i>";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "website_url"), env.opts.autoescape);
	output += "\n                            </a>\n                        </div>\n                    ";
	;
	}
	output += "\n                    \n                    ";
	if(runtime.contextOrFrameLookup(context, frame, "youtube_url") || runtime.contextOrFrameLookup(context, frame, "twitter_username") || runtime.contextOrFrameLookup(context, frame, "flickr_url")) {
	output += "\n                        <div class=\"tile-section tile-section-compact\">\n                        ";
	if(runtime.contextOrFrameLookup(context, frame, "youtube_url")) {
	output += "\n                            <div class=\"tile-section-header\">\n                                <a href=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "website_url"), env.opts.autoescape);
	output += "\" target=\"_blank\" class=\"compact-link\">\n                                    <i class=\"fa fa-youtube\"></i>Youtube\n                                </a>\n                            </div>\n                        ";
	;
	}
	output += "\n                        ";
	if(runtime.contextOrFrameLookup(context, frame, "twitter_username")) {
	output += "\n                            <div class=\"tile-section-header\">\n                                <a href=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "website_url"), env.opts.autoescape);
	output += "\" target=\"_blank\" class=\"compact-link\">\n                                    <i class=\"fa fa-twitter\"></i>Twitter\n                                </a>\n                            </div>\n                        ";
	;
	}
	output += "\n                        ";
	if(runtime.contextOrFrameLookup(context, frame, "flickr_url")) {
	output += "\n                            <div class=\"tile-section-header\">\n                                <a href=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "flickr_url"), env.opts.autoescape);
	output += "\" target=\"_blank\" class=\"compact-link\">\n                                   <i class=\"fa fa-flickr\"></i>Flickr\n                                </a>\n                            </div>\n                        ";
	;
	}
	output += "\n                        </div>\n                    ";
	;
	}
	output += "\n                ";
	;
	}
	output += "\n                \n            </div>\n            <div class=\"col-xs-6\">\n                <div class=\"subheading\">\n                    ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "admins")) > 1) {
	output += " \n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Administrator"), true && env.opts.autoescape);
	output += "\n                    ";
	;
	}
	else {
	output += "\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Administrators"), true && env.opts.autoescape);
	output += "\n                    ";
	;
	}
	output += "\n                </div>\n                <div class=\"tile-section\">\n                    ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "admins")) > 0) {
	output += "\n                        ";
	frame = frame.push();
	var t_24 = runtime.contextOrFrameLookup(context, frame, "admins");
	if(t_24) {var t_23 = t_24.length;
	for(var t_22=0; t_22 < t_24.length; t_22++) {
	var t_25 = t_24[t_22];
	frame.set("admin", t_25);
	frame.set("loop.index", t_22 + 1);
	frame.set("loop.index0", t_22);
	frame.set("loop.revindex", t_23 - t_22);
	frame.set("loop.revindex0", t_23 - t_22 - 1);
	frame.set("loop.first", t_22 === 0);
	frame.set("loop.last", t_22 === t_23 - 1);
	frame.set("loop.length", t_23);
	output += "\n                            ";
	output += runtime.suppressValue((lineno = 152, colno = 44, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"itemCard"), "macros[\"itemCard\"]", context, [runtime.memberLookup((t_25),"portal"),runtime.memberLookup((t_25),"slug"),runtime.memberLookup((t_25),"title"),runtime.memberLookup((t_25),"type"),runtime.memberLookup((t_25),"iconImageUrl"),runtime.memberLookup((t_25),"address"),"fa-map-marker",runtime.makeKeywordArgs({"cosinnus_active_user": runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user")})])), env.opts.autoescape);
	output += "\n                        ";
	;
	}
	}
	frame = frame.pop();
	output += "\n                    ";
	;
	}
	else {
	output += "\n                        ";
	output += "\n                        </i>";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Administrators unknown"), true && env.opts.autoescape);
	output += "</i>\n                    ";
	;
	}
	output += "\n                </div>\n            </div>\n        </div>\n    \n    </div>\n    \n    \n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	b_related_content: b_related_content,
	b_group_events: b_group_events,
	b_action_buttons: b_action_buttons,
	b_contact: b_contact,
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/tiles/tile-detail-base-group.html"] , dependencies)

/***/ }),
/* 37 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/tiles/tile-detail-base.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/tiles/tile-detail-base.html", false, function(t_2,t_1) {
	if(t_2) { cb(t_2); return; }
	t_1.getExported(function(t_3,t_1) {
	if(t_3) { cb(t_3); return; }
	context.setVariable("macros", t_1);
	output += "\n\n<div class=\"tile-detail tile-";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "type"), env.opts.autoescape);
	output += " ";
	if(runtime.contextOrFrameLookup(context, frame, "selected")) {
	output += "selected";
	;
	}
	output += " mobile-view mobile-view-detail-visible-block\" ";
	if(runtime.contextOrFrameLookup(context, frame, "noModel")) {
	output += "style=\"display: none;\"";
	;
	}
	output += ">\n    <div class=\"tile-close-button\">\n        <i class=\"fa fa-fw fa-close\"></i>\n    </div>\n    \n    ";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("content"))(env, context, frame, runtime, function(t_5,t_4) {
	if(t_5) { cb(t_5); return; }
	output += t_4;
	output += "\n    \n    ";
	output += "\n    <div class=\"spacer mobile-only\">&nbsp;</div>\n    <div class=\"spacer mobile-only\">&nbsp;</div>\n    <div class=\"spacer mobile-only\">&nbsp;</div>\n</div>\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_content(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    \n        ";
	context.getBlock("type_area")(env, context, frame, runtime, function(t_7,t_6) {
	if(t_7) { cb(t_7); return; }
	output += t_6;
	output += "\n        \n        ";
	context.getBlock("header_image")(env, context, frame, runtime, function(t_9,t_8) {
	if(t_9) { cb(t_9); return; }
	output += t_8;
	output += "\n        \n        \n        ";
	context.getBlock("title")(env, context, frame, runtime, function(t_11,t_10) {
	if(t_11) { cb(t_11); return; }
	output += t_10;
	output += "\n        \n        ";
	context.getBlock("top_line")(env, context, frame, runtime, function(t_13,t_12) {
	if(t_13) { cb(t_13); return; }
	output += t_12;
	output += "\n        \n        \n        ";
	context.getBlock("additional_top_line")(env, context, frame, runtime, function(t_15,t_14) {
	if(t_15) { cb(t_15); return; }
	output += t_14;
	output += "\n        \n        \n        ";
	context.getBlock("topic_line")(env, context, frame, runtime, function(t_17,t_16) {
	if(t_17) { cb(t_17); return; }
	output += t_16;
	output += "\n\n        ";
	context.getBlock("text_topic_line")(env, context, frame, runtime, function(t_19,t_18) {
	if(t_19) { cb(t_19); return; }
	output += t_18;
	output += "\n        \n        ";
	context.getBlock("managed_tags")(env, context, frame, runtime, function(t_21,t_20) {
	if(t_21) { cb(t_21); return; }
	output += t_20;
	output += "\n        \n        \n        ";
	context.getBlock("action_buttons")(env, context, frame, runtime, function(t_23,t_22) {
	if(t_23) { cb(t_23); return; }
	output += t_22;
	output += "\n        \n        \n        ";
	context.getBlock("description")(env, context, frame, runtime, function(t_25,t_24) {
	if(t_25) { cb(t_25); return; }
	output += t_24;
	output += "\n\n\n        ";
	context.getBlock("sdgs")(env, context, frame, runtime, function(t_27,t_26) {
	if(t_27) { cb(t_27); return; }
	output += t_26;
	output += "\n        \n        ";
	context.getBlock("related_content")(env, context, frame, runtime, function(t_29,t_28) {
	if(t_29) { cb(t_29); return; }
	output += t_28;
	output += "\n        \n        \n        ";
	context.getBlock("contact")(env, context, frame, runtime, function(t_31,t_30) {
	if(t_31) { cb(t_31); return; }
	output += t_30;
	output += "\n        \n        ";
	context.getBlock("report_object")(env, context, frame, runtime, function(t_33,t_32) {
	if(t_33) { cb(t_33); return; }
	output += t_32;
	output += "\n        \n    ";
	cb(null, output);
	})})})})})})})})})})})})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_type_area(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n            <div class=\"tile-section-header one-line\">\n                ";
	output += runtime.suppressValue((lineno = 11, colno = 33, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"typeLabel"), "macros[\"typeLabel\"]", context, [runtime.contextOrFrameLookup(context, frame, "type"),runtime.makeKeywordArgs({"singular": 1,"COSINNUS_TRANS": runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")})])), env.opts.autoescape);
	output += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "portal") == runtime.contextOrFrameLookup(context, frame, "COSINNUS_EXCHANGE_PORTAL_ID")) {
	output += "\n                \t";
	output += "\n\t                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"from"), true && env.opts.autoescape);
	output += ": ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "source"), env.opts.autoescape);
	output += "\n                ";
	;
	}
	output += "\n                \n                ";
	if(!runtime.contextOrFrameLookup(context, frame, "isSmall") && runtime.memberLookup((runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"portalInfo")),"current") != runtime.contextOrFrameLookup(context, frame, "portal")) {
	output += "\n                    <span class=\"inline-spacer\"></span>\n                    <a class=\"portal-inlink uncolored-link\" href=\"";
	output += runtime.suppressValue(runtime.memberLookup((runtime.memberLookup((runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"portalInfo")),runtime.contextOrFrameLookup(context, frame, "portal"))),"domain"), env.opts.autoescape);
	output += "\" target=\"_blank\" title=\"";
	output += runtime.suppressValue(runtime.memberLookup((runtime.memberLookup((runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"portalInfo")),runtime.contextOrFrameLookup(context, frame, "portal"))),"name"), env.opts.autoescape);
	output += "\">\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(runtime.memberLookup((runtime.memberLookup((runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"portalInfo")),runtime.contextOrFrameLookup(context, frame, "portal"))),"name"), env.opts.autoescape);
	output += "\n                    </a> \n                ";
	;
	}
	output += "\n            </div>\n        ";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_header_image(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n            <div class=\"tile-section header-image\">\n                <div class=\"dual-tile-image ";
	if(!runtime.contextOrFrameLookup(context, frame, "backgroundImageLargeUrl")) {
	output += "image-placeholder-background image-placeholder-background-";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "type"), env.opts.autoescape);
	;
	}
	output += "\">\n                    ";
	if(runtime.contextOrFrameLookup(context, frame, "backgroundImageLargeUrl")) {
	output += "\n                        <img class=\"tile-image tile-image-background\" src=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "backgroundImageLargeUrl"), env.opts.autoescape);
	output += "\" /> \n                    ";
	;
	}
	output += "\n                    <img class=\"floating-tile-image\" src=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "iconImageUrl"), env.opts.autoescape);
	output += "\" />\n                </div>\n            </div>\n        ";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_title(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n            <div class=\"tile-section title\">\n                <a href=\"";
	if(runtime.contextOrFrameLookup(context, frame, "type") == "people") {
	output += runtime.suppressValue(runtime.memberLookup((runtime.memberLookup((runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"portalInfo")),runtime.contextOrFrameLookup(context, frame, "portal"))),"domain"), env.opts.autoescape);
	;
	}
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "url"), env.opts.autoescape);
	output += "\" target=\"_blank\" class=\"uncolored-link\">\n                    <h1>\n                        ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "title"), env.opts.autoescape);
	output += "\n                        ";
	if(runtime.contextOrFrameLookup(context, frame, "isYou")) {
	output += "\n\t\t\t\t    \t\t<i class=\"pale-color\">\n\t\t\t\t                ";
	output += "\n\t\t\t\t                (";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"You"), true && env.opts.autoescape);
	output += ")\n\t\t\t\t\t\t\t</i>\n\t\t\t\t\t\t";
	;
	}
	output += "\n                        <i class=\"fa fa-external-link\"></i>\n                    </h1>\n                </a>\n            </div>\n        ";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_top_line(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n            ";
	if(runtime.contextOrFrameLookup(context, frame, "address") || (runtime.contextOrFrameLookup(context, frame, "group_slug") && runtime.contextOrFrameLookup(context, frame, "group_name") && runtime.contextOrFrameLookup(context, frame, "portal"))) {
	output += "\n                <div class=\"tile-section top-line one-line ";
	if(runtime.contextOrFrameLookup(context, frame, "isSmall")) {
	output += "no-space";
	;
	}
	else {
	output += "extra-space";
	;
	}
	output += "\">\n                    ";
	context.getBlock("top_line_group")(env, context, frame, runtime, function(t_35,t_34) {
	if(t_35) { cb(t_35); return; }
	output += t_34;
	output += "\n                    \n                    ";
	context.getBlock("top_line_address")(env, context, frame, runtime, function(t_37,t_36) {
	if(t_37) { cb(t_37); return; }
	output += t_36;
	output += "\n                </div>\n            ";
	})});
	}
	output += "\n        ";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_top_line_group(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n                        ";
	if(runtime.contextOrFrameLookup(context, frame, "group_slug") && runtime.contextOrFrameLookup(context, frame, "group_name") && runtime.contextOrFrameLookup(context, frame, "portal")) {
	output += "\n                            <span class=\"pale-color\">\n                                ";
	if(runtime.contextOrFrameLookup(context, frame, "type") == "projects") {
	output += "\n                                    ";
	output += runtime.suppressValue((lineno = 63, colno = 53, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"typeLabel"), "macros[\"typeLabel\"]", context, ["groups",runtime.makeKeywordArgs({"singular": 1,"useStyles": 0,"colon": 1,"showIcon": 0,"COSINNUS_TRANS": runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")})])), env.opts.autoescape);
	output += "\n                                    ";
	output += runtime.suppressValue((lineno = 64, colno = 54, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"resultLink"), "macros[\"resultLink\"]", context, [runtime.contextOrFrameLookup(context, frame, "portal"),runtime.contextOrFrameLookup(context, frame, "group_slug"),runtime.contextOrFrameLookup(context, frame, "group_name"),"groups"])), env.opts.autoescape);
	output += "\n                                ";
	;
	}
	else {
	output += "\n                                    ";
	output += runtime.suppressValue((lineno = 66, colno = 53, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"typeLabel"), "macros[\"typeLabel\"]", context, ["projects",runtime.makeKeywordArgs({"singular": 1,"useStyles": 0,"colon": 1,"showIcon": 0,"COSINNUS_TRANS": runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")})])), env.opts.autoescape);
	output += "\n                                    ";
	output += runtime.suppressValue((lineno = 67, colno = 54, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"resultLink"), "macros[\"resultLink\"]", context, [runtime.contextOrFrameLookup(context, frame, "portal"),runtime.contextOrFrameLookup(context, frame, "group_slug"),runtime.contextOrFrameLookup(context, frame, "group_name"),"projects"])), env.opts.autoescape);
	output += "\n                                ";
	;
	}
	output += "\n                            </span>\n                            <span class=\"inline-spacer\"></span>\n                        ";
	;
	}
	output += "\n                    ";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_top_line_address(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n                        ";
	if(runtime.contextOrFrameLookup(context, frame, "address") && runtime.contextOrFrameLookup(context, frame, "type") != "events") {
	output += "\n                            <span class=\"address capitalize\">\n                                <i class=\"fa fa-map-marker\"></i>\n                                ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "address"), env.opts.autoescape);
	output += "\n                            </span>\n                        ";
	;
	}
	output += "\n                    ";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_additional_top_line(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n        ";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_topic_line(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n            ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "topics")) > 0) {
	output += "\n                <div class=\"tile-section topic-line\">\n                    <span class=\"pale-color\">\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Topics"), true && env.opts.autoescape);
	output += ":\n                    </span> \n                    ";
	frame = frame.push();
	var t_40 = runtime.contextOrFrameLookup(context, frame, "topics");
	if(t_40) {var t_39 = t_40.length;
	for(var t_38=0; t_38 < t_40.length; t_38++) {
	var t_41 = t_40[t_38];
	frame.set("topic", t_41);
	frame.set("loop.index", t_38 + 1);
	frame.set("loop.index0", t_38);
	frame.set("loop.revindex", t_39 - t_38);
	frame.set("loop.revindex0", t_39 - t_38 - 1);
	frame.set("loop.first", t_38 === 0);
	frame.set("loop.last", t_38 === t_39 - 1);
	frame.set("loop.length", t_39);
	output += "\n                        <a class=\"topic-filter-link\" data-topic-id=\"";
	output += runtime.suppressValue(t_41, env.opts.autoescape);
	output += "\">";
	output += runtime.suppressValue(runtime.memberLookup((runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"allTopics")),t_41), env.opts.autoescape);
	output += "</a>";
	if(!runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "loop")),"last")) {
	output += ",";
	;
	}
	output += "\n                    ";
	;
	}
	}
	frame = frame.pop();
	output += "\n                </div>\n            ";
	;
	}
	output += "\n        ";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_text_topic_line(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n            ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "text_topics")) > 0) {
	output += "\n                <div class=\"tile-section topic-line\">\n                    <span class=\"pale-color\">\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Categories"), true && env.opts.autoescape);
	output += ":\n                    </span>\n                    ";
	frame = frame.push();
	var t_44 = runtime.contextOrFrameLookup(context, frame, "text_topics");
	if(t_44) {var t_43 = t_44.length;
	for(var t_42=0; t_42 < t_44.length; t_42++) {
	var t_45 = t_44[t_42];
	frame.set("text_topic", t_45);
	frame.set("loop.index", t_42 + 1);
	frame.set("loop.index0", t_42);
	frame.set("loop.revindex", t_43 - t_42);
	frame.set("loop.revindex0", t_43 - t_42 - 1);
	frame.set("loop.first", t_42 === 0);
	frame.set("loop.last", t_42 === t_43 - 1);
	frame.set("loop.length", t_43);
	output += "\n                        <a class=\"text-topic-filter-link\" data-text-topic-id=\"";
	output += runtime.suppressValue(t_45, env.opts.autoescape);
	output += "\">";
	output += runtime.suppressValue(runtime.memberLookup((runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"allTextTopics")),t_45), env.opts.autoescape);
	output += "</a>";
	if(!runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "loop")),"last")) {
	output += ",";
	;
	}
	output += "\n                    ";
	;
	}
	}
	frame = frame.pop();
	output += "\n                </div>\n            ";
	;
	}
	output += "\n        ";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_managed_tags(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n            ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "managed_tags")) > 0 && env.getFilter("length").call(context, runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"allManagedTags")) > 0) {
	output += "\n                <div class=\"tile-section topic-line\">\n                    <span class=\"pale-color\">\n                        ";
	output += runtime.suppressValue(runtime.memberLookup((runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"managedTagsLabels")),"MANAGED_TAG_MAP_LABEL"), env.opts.autoescape);
	output += ":\n                    </span> \n                    ";
	frame = frame.push();
	var t_48 = runtime.contextOrFrameLookup(context, frame, "managed_tags");
	if(t_48) {var t_47 = t_48.length;
	for(var t_46=0; t_46 < t_48.length; t_46++) {
	var t_49 = t_48[t_46];
	frame.set("managed_tag_id", t_49);
	frame.set("loop.index", t_46 + 1);
	frame.set("loop.index0", t_46);
	frame.set("loop.revindex", t_47 - t_46);
	frame.set("loop.revindex0", t_47 - t_46 - 1);
	frame.set("loop.first", t_46 === 0);
	frame.set("loop.last", t_46 === t_47 - 1);
	frame.set("loop.length", t_47);
	output += "\n                        ";
	var t_50;
	t_50 = runtime.contextOrFrameLookup(context, frame, "loop");
	frame.set("outer_loop", t_50, true);
	if(frame.topLevel) {
	context.setVariable("outer_loop", t_50);
	}
	if(frame.topLevel) {
	context.addExport("outer_loop", t_50);
	}
	output += "\n\t\t                ";
	frame = frame.push();
	var t_53 = runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"allManagedTags");
	if(t_53) {var t_52 = t_53.length;
	for(var t_51=0; t_51 < t_53.length; t_51++) {
	var t_54 = t_53[t_51];
	frame.set("managed_tag", t_54);
	frame.set("loop.index", t_51 + 1);
	frame.set("loop.index0", t_51);
	frame.set("loop.revindex", t_52 - t_51);
	frame.set("loop.revindex0", t_52 - t_51 - 1);
	frame.set("loop.first", t_51 === 0);
	frame.set("loop.last", t_51 === t_52 - 1);
	frame.set("loop.length", t_52);
	output += "\n\t\t                    ";
	if(t_49 == runtime.memberLookup((t_54),"id")) {
	output += "\n\t\t                        <a class=\"managed-tag-filter-link\" data-managed-tag-id=\"";
	output += runtime.suppressValue(t_49, env.opts.autoescape);
	output += "\">\n\t\t                          ";
	output += runtime.suppressValue(runtime.memberLookup((t_54),"name"), env.opts.autoescape);
	output += "</a>\n\t\t                          ";
	if(runtime.memberLookup((t_54),"url")) {
	output += "\n\t\t                            <a target=\"_blank\" href=\"";
	output += runtime.suppressValue(runtime.memberLookup((t_54),"url"), env.opts.autoescape);
	output += "\">\n\t\t\t\t                        (<i class=\"fa fa-external-link\"></i>\n\t\t\t\t                        ";
	output += "\n\t\t\t\t                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"website"), true && env.opts.autoescape);
	output += ")\n\t\t                            </a>";
	;
	}
	if(!runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "outer_loop")),"last")) {
	output += ",";
	;
	}
	output += "\n\t\t                    ";
	;
	}
	output += "\n\t\t                ";
	;
	}
	}
	frame = frame.pop();
	output += "\n\t\t            ";
	;
	}
	}
	frame = frame.pop();
	output += "\n                </div>\n            ";
	;
	}
	output += "\n        ";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_action_buttons(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n        ";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_description(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n            <div class=\"tile-section description extra-space-top\">\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "description")) {
	output += "\n                    ";
	output += runtime.suppressValue(env.getFilter("safe").call(context, runtime.contextOrFrameLookup(context, frame, "description")), env.opts.autoescape);
	output += "\n                    <!--\n                    <br/>\n                    (( TODO: make me click-expandable ))\n                    -->\n                    \n                ";
	;
	}
	else {
	output += "\n                    <p class=\"pale-color\">\n                        <i>\n                            ";
	output += "\n                            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"No description yet."), true && env.opts.autoescape);
	output += "\n                        </i>\n                    </p>\n                ";
	;
	}
	output += "\n                \n            </div>\n        ";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_sdgs(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n            ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "sdgs")) > 0 && env.getFilter("length").call(context, runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"allSDGS")) > 0) {
	output += "\n            <p>\n                <b>\n                ";
	output += "\n                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Sustainable Development Goals"), true && env.opts.autoescape);
	output += "\n                </b>\n            </p>\n            <p>\n    \n            ";
	frame = frame.push();
	var t_57 = runtime.contextOrFrameLookup(context, frame, "sdgs");
	if(t_57) {var t_56 = t_57.length;
	for(var t_55=0; t_55 < t_57.length; t_55++) {
	var t_58 = t_57[t_55];
	frame.set("sdg_id", t_58);
	frame.set("loop.index", t_55 + 1);
	frame.set("loop.index0", t_55);
	frame.set("loop.revindex", t_56 - t_55);
	frame.set("loop.revindex0", t_56 - t_55 - 1);
	frame.set("loop.first", t_55 === 0);
	frame.set("loop.last", t_55 === t_56 - 1);
	frame.set("loop.length", t_56);
	output += "\n                ";
	frame = frame.push();
	var t_61 = runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"allSDGS");
	if(t_61) {var t_60 = t_61.length;
	for(var t_59=0; t_59 < t_61.length; t_59++) {
	var t_62 = t_61[t_59];
	frame.set("sdg", t_62);
	frame.set("loop.index", t_59 + 1);
	frame.set("loop.index0", t_59);
	frame.set("loop.revindex", t_60 - t_59);
	frame.set("loop.revindex0", t_60 - t_59 - 1);
	frame.set("loop.first", t_59 === 0);
	frame.set("loop.last", t_59 === t_60 - 1);
	frame.set("loop.length", t_60);
	output += "\n                    ";
	if(t_58 == runtime.memberLookup((t_62),"id")) {
	output += "\n                        <img class=\"sdg-icon\" src=\"";
	output += runtime.suppressValue(runtime.memberLookup((t_62),"icon"), env.opts.autoescape);
	output += "\">\n                    ";
	;
	}
	output += "\n                ";
	;
	}
	}
	frame = frame.pop();
	output += "\n            ";
	;
	}
	}
	frame = frame.pop();
	output += "\n            </p>\n            ";
	;
	}
	output += "\n        ";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_related_content(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n        ";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_contact(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n        ";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_report_object(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n            ";
	if(runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user")) {
	output += "\n                <div class=\"spacer\">&nbsp;</div>\n                <div class=\"spacer\">&nbsp;</div>\n                <a class=\"pale-color button-report-object\">\n                    <i class=\"fa fa-warning\"></i>\n";
	output += "\n";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Report offensive content"), true && env.opts.autoescape);
	output += "\n                </a>\n                \n            ";
	;
	}
	output += "\n        ";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	b_content: b_content,
	b_type_area: b_type_area,
	b_header_image: b_header_image,
	b_title: b_title,
	b_top_line: b_top_line,
	b_top_line_group: b_top_line_group,
	b_top_line_address: b_top_line_address,
	b_additional_top_line: b_additional_top_line,
	b_topic_line: b_topic_line,
	b_text_topic_line: b_text_topic_line,
	b_managed_tags: b_managed_tags,
	b_action_buttons: b_action_buttons,
	b_description: b_description,
	b_sdgs: b_sdgs,
	b_related_content: b_related_content,
	b_contact: b_contact,
	b_report_object: b_report_object,
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/tiles/tile-detail-base.html"] , dependencies)

/***/ }),
/* 38 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["tiles/tile-detail-base-group"] = __webpack_require__( 36 );
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/tiles/tile-detail-groups.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("tiles/tile-detail-base-group", true, "cosinnus/templates/cosinnus/universal/tiles/tile-detail-groups.html", false, function(t_2,_parentTemplate) {
	if(t_2) { cb(t_2); return; }
	parentTemplate = _parentTemplate
	for(var t_1 in parentTemplate.blocks) {
	context.addBlock(t_1, parentTemplate.blocks[t_1]);
	}
	output += "\n";
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/tiles/tile-detail-groups.html", false, function(t_4,t_3) {
	if(t_4) { cb(t_4); return; }
	t_3.getExported(function(t_5,t_3) {
	if(t_5) { cb(t_5); return; }
	context.setVariable("macros", t_3);
	output += "\n\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("action_buttons"))(env, context, frame, runtime, function(t_7,t_6) {
	if(t_7) { cb(t_7); return; }
	output += t_6;
	output += "\n\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("related_content"))(env, context, frame, runtime, function(t_9,t_8) {
	if(t_9) { cb(t_9); return; }
	output += t_8;
	output += "\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})})})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_action_buttons(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	context.getSuper(env, "action_buttons", b_action_buttons, frame, runtime, function(t_10,hole_1) {
	if(t_10) { cb(t_10); return; }
	hole_1 = runtime.markSafe(hole_1);
	output += "\n    <div class=\"tile-section tile-section-button-list\">\n        ";
	output += runtime.suppressValue(hole_1, env.opts.autoescape);
	output += "\n    \n        ";
	if(runtime.contextOrFrameLookup(context, frame, "is_member")) {
	output += "\n            <a class=\"rounded-button button-action disabled\">\n                <span class=\"rounded-button-inner\">\n                    <i clasS=\"fa fa-check\"></i>\n                    ";
	output += "\n                    ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"You are a Member"), true && env.opts.autoescape);
	output += "\n                </span>\n            </a>\n        ";
	;
	}
	else {
	output += "\n           <a href=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "action_url_1"), env.opts.autoescape);
	output += "\" target=\"_blank\" class=\"rounded-button button-action\">\n                <span class=\"rounded-button-inner\">\n                    ";
	if(runtime.contextOrFrameLookup(context, frame, "is_invited")) {
	output += "\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"You are invited!"), true && env.opts.autoescape);
	output += "\n                    ";
	;
	}
	else {
	if(runtime.contextOrFrameLookup(context, frame, "is_pending")) {
	output += "\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Membership request pending..."), true && env.opts.autoescape);
	output += "\n                    ";
	;
	}
	else {
	output += "\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Join Group"), true && env.opts.autoescape);
	output += "\n                    ";
	;
	}
	;
	}
	output += "\n                </span>\n            </a>\n        ";
	;
	}
	output += "\n        ";
	if(runtime.contextOrFrameLookup(context, frame, "action_url_2")) {
	output += "\n            <a href=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "action_url_2"), env.opts.autoescape);
	output += "\" target=\"_blank\" class=\"rounded-button button-action\">\n                <span class=\"rounded-button-inner\">\n                    ";
	output += "\n                    ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Message Group"), true && env.opts.autoescape);
	output += "\n                </span>\n            </a>\n        ";
	;
	}
	output += "\n    </div>\n    \n    <div class=\"no-input\">\n        <div class=\"now-following-message message-success extra-space-top\" style=\"display: none;\">\n            <i class=\"fas fa-bell\"></i>\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"You will now receive notifications for content posted in this group."), true && env.opts.autoescape);
	output += "\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"If you do not want notifications, click the unfollow button!"), true && env.opts.autoescape);
	output += "\n        </div>\n         \n        <div class=\"like-button-error message-error extra-space-top\" style=\"display: none;\">\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Could not save your like setting because of an error."), true && env.opts.autoescape);
	output += "\n        </div>\n        <div class=\"follow-button-error message-error extra-space-top\" style=\"display: none;\">\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Could not save your follow setting because of an error."), true && env.opts.autoescape);
	output += "\n        </div>\n    </div>\n";
	cb(null, output);
	});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_related_content(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	context.getSuper(env, "related_content", b_related_content, frame, runtime, function(t_11,hole_2) {
	if(t_11) { cb(t_11); return; }
	hole_2 = runtime.markSafe(hole_2);
	output += "\n    ";
	output += runtime.suppressValue(hole_2, env.opts.autoescape);
	output += "\n\n    ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "projects")) > 0) {
	output += "\n        <div class=\"tile-section tile-section-divided\">\n            <div class=\"subheading\">\n                <i class=\"fa fa-group\"></i>\n                ";
	output += "\n                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Projects"), true && env.opts.autoescape);
	output += " (";
	output += runtime.suppressValue(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "projects")), env.opts.autoescape);
	output += ")\n            </div>\n        </div>\n        <div class=\"tile-section\">\n            <div class=\"row\">\n                ";
	frame = frame.push();
	var t_14 = runtime.contextOrFrameLookup(context, frame, "projects");
	if(t_14) {var t_13 = t_14.length;
	for(var t_12=0; t_12 < t_14.length; t_12++) {
	var t_15 = t_14[t_12];
	frame.set("project", t_15);
	frame.set("loop.index", t_12 + 1);
	frame.set("loop.index0", t_12);
	frame.set("loop.revindex", t_13 - t_12);
	frame.set("loop.revindex0", t_13 - t_12 - 1);
	frame.set("loop.first", t_12 === 0);
	frame.set("loop.last", t_12 === t_13 - 1);
	frame.set("loop.length", t_13);
	output += "\n                    <div class=\"col-sm-6\">\n                        ";
	output += runtime.suppressValue((lineno = 78, colno = 40, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"itemCard"), "macros[\"itemCard\"]", context, [runtime.memberLookup((t_15),"portal"),runtime.memberLookup((t_15),"slug"),runtime.memberLookup((t_15),"title"),runtime.memberLookup((t_15),"type"),runtime.memberLookup((t_15),"iconImageUrl"),runtime.memberLookup((t_15),"address"),"fa-map-marker",runtime.memberLookup((t_15),"dataSlot1"),"fa-group",runtime.makeKeywordArgs({"cosinnus_active_user": runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user")})])), env.opts.autoescape);
	output += "\n                    </div>\n                ";
	;
	}
	}
	frame = frame.pop();
	output += "\n            </div>\n        </div>\n    ";
	;
	}
	output += "\n    \n";
	cb(null, output);
	});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	b_action_buttons: b_action_buttons,
	b_related_content: b_related_content,
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/tiles/tile-detail-groups.html"] , dependencies)

/***/ }),
/* 39 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["tiles/tile-detail-base-group"] = __webpack_require__( 36 );
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/tiles/tile-detail-conferences.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("tiles/tile-detail-base-group", true, "cosinnus/templates/cosinnus/universal/tiles/tile-detail-conferences.html", false, function(t_2,_parentTemplate) {
	if(t_2) { cb(t_2); return; }
	parentTemplate = _parentTemplate
	for(var t_1 in parentTemplate.blocks) {
	context.addBlock(t_1, parentTemplate.blocks[t_1]);
	}
	output += "\n";
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/tiles/tile-detail-conferences.html", false, function(t_4,t_3) {
	if(t_4) { cb(t_4); return; }
	t_3.getExported(function(t_5,t_3) {
	if(t_5) { cb(t_5); return; }
	context.setVariable("macros", t_3);
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("additional_top_line"))(env, context, frame, runtime, function(t_7,t_6) {
	if(t_7) { cb(t_7); return; }
	output += t_6;
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("group_events"))(env, context, frame, runtime, function(t_9,t_8) {
	if(t_9) { cb(t_9); return; }
	output += t_8;
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("action_buttons"))(env, context, frame, runtime, function(t_11,t_10) {
	if(t_11) { cb(t_11); return; }
	output += t_10;
	output += "\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})})})})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_additional_top_line(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    <div class=\"tile-section tile-section\">\n        <div>\n            <i class=\"fa fa-fw fa-clock-o\"></i>";
	output += runtime.suppressValue(env.getFilter("safe").call(context, runtime.contextOrFrameLookup(context, frame, "time_html")), env.opts.autoescape);
	output += "\n        </div>\n    </div>\n    <div class=\"tile-section tile-section\">\n        <div>\n            <i class=\"fa fa-user\"></i>\n\t        ";
	output += "\n\t        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Participants"), true && env.opts.autoescape);
	output += ": ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "participant_count"), env.opts.autoescape);
	output += "\n\t        ";
	if(runtime.contextOrFrameLookup(context, frame, "participants_limit_count")) {
	output += "\n\t            ";
	output += "\n                (";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"max."), true && env.opts.autoescape);
	output += " ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "participants_limit_count"), env.opts.autoescape);
	output += ") \n\t        ";
	;
	}
	output += "\n        </div>\n    </div>\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_group_events(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "events")) > 0) {
	output += "\n        <div class=\"tile-section tile-section-divided\">\n            <div class=\"subheading\">\n                <i class=\"fa fa-calendar\"></i>\n                ";
	output += "\n                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Workshops"), true && env.opts.autoescape);
	output += " (";
	output += runtime.suppressValue(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "events")), env.opts.autoescape);
	output += ")\n            </div>\n        </div>\n        <div class=\"tile-section\">\n            ";
	frame = frame.push();
	var t_14 = runtime.contextOrFrameLookup(context, frame, "events");
	if(t_14) {var t_13 = t_14.length;
	for(var t_12=0; t_12 < t_14.length; t_12++) {
	var t_15 = t_14[t_12];
	frame.set("event", t_15);
	frame.set("loop.index", t_12 + 1);
	frame.set("loop.index0", t_12);
	frame.set("loop.revindex", t_13 - t_12);
	frame.set("loop.revindex0", t_13 - t_12 - 1);
	frame.set("loop.first", t_12 === 0);
	frame.set("loop.last", t_12 === t_13 - 1);
	frame.set("loop.length", t_13);
	output += "\n                ";
	output += runtime.suppressValue((lineno = 33, colno = 32, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"itemCard"), "macros[\"itemCard\"]", context, [runtime.memberLookup((t_15),"portal"),runtime.memberLookup((t_15),"slug"),runtime.memberLookup((t_15),"title"),runtime.memberLookup((t_15),"type"),runtime.contextOrFrameLookup(context, frame, "null"),env.getFilter("safe").call(context, runtime.memberLookup((t_15),"dataSlot1")),"fa-clock-o",runtime.memberLookup((t_15),"address"),"fa-map-marker",runtime.makeKeywordArgs({"cosinnus_active_user": runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user"),"group_slug": runtime.contextOrFrameLookup(context, frame, "slug")})])), env.opts.autoescape);
	output += "\n            ";
	;
	}
	}
	frame = frame.pop();
	output += "\n        </div>\n    ";
	;
	}
	output += "\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_action_buttons(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	context.getSuper(env, "action_buttons", b_action_buttons, frame, runtime, function(t_16,hole_9) {
	if(t_16) { cb(t_16); return; }
	hole_9 = runtime.markSafe(hole_9);
	output += "\n    <div class=\"tile-section tile-section-button-list\">\n        ";
	output += runtime.suppressValue(hole_9, env.opts.autoescape);
	output += "\n        \n        ";
	if(runtime.contextOrFrameLookup(context, frame, "is_member")) {
	output += "\n            <a class=\"rounded-button button-action disabled\">\n                <span class=\"rounded-button-inner\">\n                    <i clasS=\"fa fa-check\"></i>\n                    ";
	output += "\n                    ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"You are participating"), true && env.opts.autoescape);
	output += "\n                </span>\n            </a>\n        ";
	;
	}
	else {
	output += "\n           <a href=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "action_url_1"), env.opts.autoescape);
	output += "\" target=\"_blank\" class=\"rounded-button button-action\">\n                <span class=\"rounded-button-inner\">\n                    ";
	if(runtime.contextOrFrameLookup(context, frame, "is_invited")) {
	output += "\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"You are invited!"), true && env.opts.autoescape);
	output += "\n                    ";
	;
	}
	else {
	if(runtime.contextOrFrameLookup(context, frame, "is_pending")) {
	output += "\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Participation request pending..."), true && env.opts.autoescape);
	output += "\n                    ";
	;
	}
	else {
	output += "\n\t                    ";
	output += "\n\t                    ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Participate"), true && env.opts.autoescape);
	output += "\n                    ";
	;
	}
	;
	}
	output += "\n                </span>\n            </a>\n        ";
	;
	}
	output += "\n        ";
	if(runtime.contextOrFrameLookup(context, frame, "action_url_2")) {
	output += "\n            <a href=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "action_url_2"), env.opts.autoescape);
	output += "\" target=\"_blank\" class=\"rounded-button button-action\">\n                <span class=\"rounded-button-inner\">\n                    ";
	output += "\n                    ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Contact organizers"), true && env.opts.autoescape);
	output += "\n                </span>\n            </a>\n        ";
	;
	}
	output += "\n    </div>\n    \n    <div class=\"no-input\">\n        <div class=\"now-following-message message-success extra-space-top\" style=\"display: none;\">\n            <i class=\"fas fa-bell\"></i>\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"You will now receive notifications for content posted."), true && env.opts.autoescape);
	output += "\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"If you do not want notifications, click the unfollow button!"), true && env.opts.autoescape);
	output += "\n        </div>\n         \n        <div class=\"like-button-error message-error extra-space-top\" style=\"display: none;\">\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Could not save your like setting because of an error."), true && env.opts.autoescape);
	output += "\n        </div>\n        <div class=\"follow-button-error message-error extra-space-top\" style=\"display: none;\">\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Could not save your follow setting because of an error."), true && env.opts.autoescape);
	output += "\n        </div>\n    </div>\n";
	cb(null, output);
	});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	b_additional_top_line: b_additional_top_line,
	b_group_events: b_group_events,
	b_action_buttons: b_action_buttons,
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/tiles/tile-detail-conferences.html"] , dependencies)

/***/ }),
/* 40 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["tiles/tile-detail-base"] = __webpack_require__( 37 );
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/tiles/tile-detail-people.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("tiles/tile-detail-base", true, "cosinnus/templates/cosinnus/universal/tiles/tile-detail-people.html", false, function(t_2,_parentTemplate) {
	if(t_2) { cb(t_2); return; }
	parentTemplate = _parentTemplate
	for(var t_1 in parentTemplate.blocks) {
	context.addBlock(t_1, parentTemplate.blocks[t_1]);
	}
	output += "\n";
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/tiles/tile-detail-people.html", false, function(t_4,t_3) {
	if(t_4) { cb(t_4); return; }
	t_3.getExported(function(t_5,t_3) {
	if(t_5) { cb(t_5); return; }
	context.setVariable("macros", t_3);
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("header_image"))(env, context, frame, runtime, function(t_7,t_6) {
	if(t_7) { cb(t_7); return; }
	output += t_6;
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("topic_line"))(env, context, frame, runtime, function(t_9,t_8) {
	if(t_9) { cb(t_9); return; }
	output += t_8;
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("action_buttons"))(env, context, frame, runtime, function(t_11,t_10) {
	if(t_11) { cb(t_11); return; }
	output += t_10;
	output += "\n\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("related_content"))(env, context, frame, runtime, function(t_13,t_12) {
	if(t_13) { cb(t_13); return; }
	output += t_12;
	output += "\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})})})})})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_header_image(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    <div class=\"single-tile-image\">\n        <img class=\"framed-tile-image\" src=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "iconImageUrl"), env.opts.autoescape);
	output += "\" />\n    </div>\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_topic_line(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	context.getSuper(env, "topic_line", b_topic_line, frame, runtime, function(t_14,hole_4) {
	if(t_14) { cb(t_14); return; }
	hole_4 = runtime.markSafe(hole_4);
	output += "\n\t";
	output += runtime.suppressValue(hole_4, env.opts.autoescape);
	output += "\n\t\n    ";
	if(runtime.contextOrFrameLookup(context, frame, "may_be_contacted") == true) {
	output += "\n\t\t<div class=\"top-line extra-space extra-space-top\">\n            <i class=\"fa fa-fw fa-commenting-o\"></i>\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Open to be contacted about potential collaboration opportunities"), true && env.opts.autoescape);
	output += "\n        </div>\n\t";
	;
	}
	else {
	if(runtime.contextOrFrameLookup(context, frame, "may_be_contacted") == false) {
	output += "\n\t\t<div class=\"top-line extra-space extra-space-top\">\n            <i class=\"fa fa-fw fa-ban\"></i>\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Does NOT wish to be contacted for potential collaboration!"), true && env.opts.autoescape);
	output += "\n        </div>\n\t";
	;
	}
	;
	}
	output += "\n\n";
	cb(null, output);
	});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_action_buttons(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	context.getSuper(env, "action_buttons", b_action_buttons, frame, runtime, function(t_15,hole_5) {
	if(t_15) { cb(t_15); return; }
	hole_5 = runtime.markSafe(hole_5);
	output += "\n\t";
	if(!runtime.contextOrFrameLookup(context, frame, "is_self")) {
	output += "\n\t    <div class=\"tile-section tile-section-button-list\">\n            <a class=\"rounded-button button-action button-star\">\n                <span class=\"rounded-button-inner\">\n                    ";
	if(runtime.contextOrFrameLookup(context, frame, "starred")) {
	output += "\n                        <i class=\"fas fa-star\"></i>\n                        ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "starringLabel"), env.opts.autoescape);
	output += "\n                    ";
	;
	}
	else {
	output += "\n                        <i class=\"far fa-star\"></i>\n                        ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "starLabel"), env.opts.autoescape);
	output += "\n                    ";
	;
	}
	output += "\n                </span>\n            </a>\n\t        ";
	if(runtime.contextOrFrameLookup(context, frame, "action_url_1")) {
	output += "\n\t\t        <a href=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "action_url_1"), env.opts.autoescape);
	output += "\" target=\"_blank\" class=\"rounded-button button-action\">\n\t\t            <span class=\"rounded-button-inner\">\n\t\t                ";
	output += "\n\t\t                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Send Message"), true && env.opts.autoescape);
	output += "\n\t\t            </span>\n\t\t        </a>\n            ";
	;
	}
	output += "\n            <a href=\"";
	output += runtime.suppressValue(runtime.memberLookup((runtime.memberLookup((runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"portalInfo")),runtime.contextOrFrameLookup(context, frame, "portal"))),"domain"), env.opts.autoescape);
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "url"), env.opts.autoescape);
	output += "\" target=\"_blank\" class=\"rounded-button button-action button-star\">\n                <span class=\"rounded-button-inner\">\n                    <i class=\"fa fa-user\"></i>\n                    ";
	output += "\n\t\t            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"To Profile"), true && env.opts.autoescape);
	output += "\n                </span>\n            </a>\n\t        ";
	output += runtime.suppressValue(hole_5, env.opts.autoescape);
	output += "\n\t    </div>\n    ";
	;
	}
	output += "\n";
	cb(null, output);
	});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_related_content(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n\n    ";
	if(runtime.contextOrFrameLookup(context, frame, "extra_html")) {
	output += "\n    ";
	output += runtime.suppressValue(env.getFilter("safe").call(context, runtime.contextOrFrameLookup(context, frame, "extra_html")), env.opts.autoescape);
	output += "\n    ";
	;
	}
	output += "\n\n    ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "groups")) > 0) {
	output += "\n        <div class=\"clearfix\"></div>\n    \n        <div class=\"tile-section tile-section-divided\">\n            <div class=\"subheading\">\n                <i class=\"fa fa-sitemap\"></i>\n                ";
	output += "\n                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Groups"), true && env.opts.autoescape);
	output += " (";
	output += runtime.suppressValue(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "groups")), env.opts.autoescape);
	output += ")\n            </div>\n        </div>\n        <div class=\"tile-section\">\n            <div class=\"row\">\n                ";
	frame = frame.push();
	var t_18 = runtime.contextOrFrameLookup(context, frame, "groups");
	if(t_18) {var t_17 = t_18.length;
	for(var t_16=0; t_16 < t_18.length; t_16++) {
	var t_19 = t_18[t_16];
	frame.set("group", t_19);
	frame.set("loop.index", t_16 + 1);
	frame.set("loop.index0", t_16);
	frame.set("loop.revindex", t_17 - t_16);
	frame.set("loop.revindex0", t_17 - t_16 - 1);
	frame.set("loop.first", t_16 === 0);
	frame.set("loop.last", t_16 === t_17 - 1);
	frame.set("loop.length", t_17);
	output += "\n                    <div class=\"col-sm-6\">\n                        ";
	output += runtime.suppressValue((lineno = 83, colno = 40, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"itemCard"), "macros[\"itemCard\"]", context, [runtime.memberLookup((t_19),"portal"),runtime.memberLookup((t_19),"slug"),runtime.memberLookup((t_19),"title"),runtime.memberLookup((t_19),"type"),runtime.memberLookup((t_19),"iconImageUrl"),runtime.memberLookup((t_19),"address"),"fa-map-marker",runtime.memberLookup((t_19),"dataSlot1"),"fa-group",runtime.makeKeywordArgs({"cosinnus_active_user": runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user")})])), env.opts.autoescape);
	output += "\n                    </div>\n                ";
	;
	}
	}
	frame = frame.pop();
	output += "\n            </div>\n        </div>\n    ";
	;
	}
	output += "\n\n    ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "projects")) > 0) {
	output += "\n        <div class=\"tile-section tile-section-divided\">\n            <div class=\"subheading\">\n                <i class=\"fa fa-group\"></i>\n                ";
	output += "\n                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Projects"), true && env.opts.autoescape);
	output += " (";
	output += runtime.suppressValue(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "projects")), env.opts.autoescape);
	output += ")\n            </div>\n        </div>\n        <div class=\"tile-section\">\n            <div class=\"row\">\n                ";
	frame = frame.push();
	var t_22 = runtime.contextOrFrameLookup(context, frame, "projects");
	if(t_22) {var t_21 = t_22.length;
	for(var t_20=0; t_20 < t_22.length; t_20++) {
	var t_23 = t_22[t_20];
	frame.set("project", t_23);
	frame.set("loop.index", t_20 + 1);
	frame.set("loop.index0", t_20);
	frame.set("loop.revindex", t_21 - t_20);
	frame.set("loop.revindex0", t_21 - t_20 - 1);
	frame.set("loop.first", t_20 === 0);
	frame.set("loop.last", t_20 === t_21 - 1);
	frame.set("loop.length", t_21);
	output += "\n                    <div class=\"col-sm-6\">\n                        ";
	output += runtime.suppressValue((lineno = 102, colno = 40, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"itemCard"), "macros[\"itemCard\"]", context, [runtime.memberLookup((t_23),"portal"),runtime.memberLookup((t_23),"slug"),runtime.memberLookup((t_23),"title"),runtime.memberLookup((t_23),"type"),runtime.memberLookup((t_23),"iconImageUrl"),runtime.memberLookup((t_23),"address"),"fa-map-marker",runtime.memberLookup((t_23),"dataSlot1"),"fa-group",runtime.makeKeywordArgs({"cosinnus_active_user": runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user")})])), env.opts.autoescape);
	output += "\n                    </div>\n                ";
	;
	}
	}
	frame = frame.pop();
	output += "\n            </div>\n        </div>\n    ";
	;
	}
	output += "\n    \n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	b_header_image: b_header_image,
	b_topic_line: b_topic_line,
	b_action_buttons: b_action_buttons,
	b_related_content: b_related_content,
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/tiles/tile-detail-people.html"] , dependencies)

/***/ }),
/* 41 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["tiles/tile-detail-base"] = __webpack_require__( 37 );
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/tiles/tile-detail-events.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("tiles/tile-detail-base", true, "cosinnus/templates/cosinnus/universal/tiles/tile-detail-events.html", false, function(t_2,_parentTemplate) {
	if(t_2) { cb(t_2); return; }
	parentTemplate = _parentTemplate
	for(var t_1 in parentTemplate.blocks) {
	context.addBlock(t_1, parentTemplate.blocks[t_1]);
	}
	output += "\n";
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/tiles/tile-detail-events.html", false, function(t_4,t_3) {
	if(t_4) { cb(t_4); return; }
	t_3.getExported(function(t_5,t_3) {
	if(t_5) { cb(t_5); return; }
	context.setVariable("macros", t_3);
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("header_image"))(env, context, frame, runtime, function(t_7,t_6) {
	if(t_7) { cb(t_7); return; }
	output += t_6;
	output += "\n\n        \n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("additional_top_line"))(env, context, frame, runtime, function(t_9,t_8) {
	if(t_9) { cb(t_9); return; }
	output += t_8;
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("action_buttons"))(env, context, frame, runtime, function(t_11,t_10) {
	if(t_11) { cb(t_11); return; }
	output += t_10;
	output += "\n        \n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("related_content"))(env, context, frame, runtime, function(t_13,t_12) {
	if(t_13) { cb(t_13); return; }
	output += t_12;
	output += "\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})})})})})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_header_image(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    ";
	if(runtime.contextOrFrameLookup(context, frame, "backgroundImageLargeUrl")) {
	output += "\n        <div class=\"tile-section header-image\">\n            <div class=\"dual-tile-image\">\n                <img class=\"tile-image tile-image-background\" src=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "backgroundImageLargeUrl"), env.opts.autoescape);
	output += "\" /> \n            </div>\n        </div>\n    ";
	;
	}
	output += "\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_additional_top_line(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    <div class=\"tile-section tile-section\">\n        <div>\n            <i class=\"fa fa-fw fa-clock-o\"></i>";
	output += runtime.suppressValue(env.getFilter("safe").call(context, runtime.contextOrFrameLookup(context, frame, "time_html")), env.opts.autoescape);
	output += "\n        </div>\n        ";
	if(runtime.contextOrFrameLookup(context, frame, "address")) {
	output += "\n            <div class=\"capitalize\">\n                <i class=\"fa fa-fw fa-map-marker\"></i>";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "address"), env.opts.autoescape);
	output += "\n            </div>\n        ";
	;
	}
	output += "\n    </div>\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_action_buttons(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	context.getSuper(env, "action_buttons", b_action_buttons, frame, runtime, function(t_14,hole_12) {
	if(t_14) { cb(t_14); return; }
	hole_12 = runtime.markSafe(hole_12);
	output += "\n    <div class=\"tile-section tile-section-button-list\">\n    ";
	if(runtime.contextOrFrameLookup(context, frame, "portal") == runtime.contextOrFrameLookup(context, frame, "COSINNUS_EXCHANGE_PORTAL_ID") && runtime.contextOrFrameLookup(context, frame, "url")) {
	output += "\n        <a class=\"rounded-button button-action\" href=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "url"), env.opts.autoescape);
	output += "\" target=\"_blank\">\n            <span class=\"rounded-button-inner\">\n                <i clasS=\"fa fa-external-link\"></i>\n                ";
	output += "\n                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Event"), true && env.opts.autoescape);
	output += " ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"on"), true && env.opts.autoescape);
	output += " ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "source"), env.opts.autoescape);
	output += "\n            </span>\n        </a>\n    ";
	;
	}
	else {
	output += "\n        ";
	if(runtime.memberLookup((runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"portalInfo")),"current") == runtime.contextOrFrameLookup(context, frame, "portal")) {
	output += "\n            <a class=\"rounded-button button-action \n                    ";
	if(runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user")) {
	output += "button-like\" ";
	;
	}
	else {
	output += "\" href=\"/signup/?acc_req_msg=1&next=/map/\" target=\"_blank\"";
	;
	}
	output += ">\n                <span class=\"rounded-button-inner\">\n                    ";
	if(runtime.contextOrFrameLookup(context, frame, "liked")) {
	output += "\n                        <i clasS=\"fas fa-heart\"></i>\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Liked"), true && env.opts.autoescape);
	output += "\n                    ";
	;
	}
	else {
	output += "\n                        <i clasS=\"far fa-heart\"></i>\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Like"), true && env.opts.autoescape);
	output += "\n                    ";
	;
	}
	output += "\n                </span>\n            </a>\n            <a class=\"rounded-button button-action button-star\">\n                <span class=\"rounded-button-inner\">\n                    ";
	if(runtime.contextOrFrameLookup(context, frame, "starred")) {
	output += "\n                        <i class=\"fas fa-star\"></i>\n                        ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "starringLabel"), env.opts.autoescape);
	output += "\n                    ";
	;
	}
	else {
	output += "\n                        <i class=\"far fa-star\"></i>\n                        ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "starLabel"), env.opts.autoescape);
	output += "\n                    ";
	;
	}
	output += "\n                </span>\n            </a>\n            <a class=\"rounded-button button-action\n                    ";
	if(runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user")) {
	output += "button-follow\" ";
	;
	}
	else {
	output += "\" href=\"/signup/?acc_req_msg=1&next=/map/\" target=\"_blank\"";
	;
	}
	output += ">\n                <span class=\"rounded-button-inner\">\n                    ";
	if(runtime.contextOrFrameLookup(context, frame, "followed")) {
	output += "\n                        <i clasS=\"fas fa-bell\"></i>\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Following"), true && env.opts.autoescape);
	output += "\n                    ";
	;
	}
	else {
	output += "\n                        <i clasS=\"far fa-bell\"></i>\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Follow"), true && env.opts.autoescape);
	output += "\n                    ";
	;
	}
	output += "\n                </span>\n            </a>\n        ";
	;
	}
	output += "\n\n        <a class=\"rounded-button button-action\" href=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "url"), env.opts.autoescape);
	output += "\" target=\"_blank\">\n            <span class=\"rounded-button-inner\">\n                <i clasS=\"fa fa-external-link\"></i>\n                ";
	output += "\n                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Visit Event Page"), true && env.opts.autoescape);
	output += "\n            </span>\n        </a>\n        \n        ";
	output += runtime.suppressValue(hole_12, env.opts.autoescape);
	output += "\n    </div>\n    \n    <div class=\"no-input\">\n        <div class=\"now-following-message message-success extra-space-top\" style=\"display: none;\">\n            <i class=\"fas fa-bell\"></i>\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"You will now receive notifications for comments or when this event is updated or its details change."), true && env.opts.autoescape);
	output += "\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"If you do not want notifications, click the unfollow button!"), true && env.opts.autoescape);
	output += "\n        </div>\n         \n        <div class=\"like-button-error message-error extra-space-top\" style=\"display: none;\">\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Could not save your like setting because of an error."), true && env.opts.autoescape);
	output += "\n        </div>\n        <div class=\"follow-button-error message-error extra-space-top\" style=\"display: none;\">\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Could not save your follow setting because of an error."), true && env.opts.autoescape);
	output += "\n        </div>\n    </div>\n";
	;
	}
	output += "\n";
	cb(null, output);
	});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_related_content(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n\n    ";
	if(runtime.contextOrFrameLookup(context, frame, "participant_count") > 0) {
	output += "\n        <div class=\"tile-section tile-section-divided\">\n            <div class=\"subheading\">\n                <i class=\"fa fa-user\"></i>\n                ";
	output += "\n                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Participants"), true && env.opts.autoescape);
	output += " (";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "participant_count"), env.opts.autoescape);
	output += ")\n            </div>\n        </div>\n        <div class=\"tile-section\">\n            <div class=\"row\">\n                ";
	frame = frame.push();
	var t_17 = runtime.contextOrFrameLookup(context, frame, "participants");
	if(t_17) {var t_16 = t_17.length;
	for(var t_15=0; t_15 < t_17.length; t_15++) {
	var t_18 = t_17[t_15];
	frame.set("participant", t_18);
	frame.set("loop.index", t_15 + 1);
	frame.set("loop.index0", t_15);
	frame.set("loop.revindex", t_16 - t_15);
	frame.set("loop.revindex0", t_16 - t_15 - 1);
	frame.set("loop.first", t_15 === 0);
	frame.set("loop.last", t_15 === t_16 - 1);
	frame.set("loop.length", t_16);
	output += "\n                    <div class=\"col-sm-6\">\n                        ";
	output += runtime.suppressValue((lineno = 127, colno = 40, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"itemCard"), "macros[\"itemCard\"]", context, [runtime.memberLookup((t_18),"portal"),runtime.memberLookup((t_18),"slug"),runtime.memberLookup((t_18),"title"),runtime.memberLookup((t_18),"type"),runtime.memberLookup((t_18),"iconImageUrl"),runtime.memberLookup((t_18),"address"),"fa-map-marker",runtime.makeKeywordArgs({"cosinnus_active_user": runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user")})])), env.opts.autoescape);
	output += "\n                    </div>\n                ";
	;
	}
	}
	frame = frame.pop();
	output += "\n            </div>\n            ";
	if(runtime.contextOrFrameLookup(context, frame, "participant_count") - env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "participants")) > 0) {
	output += "\n                <div class=\"\">\n                    <i>\n                        +";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "participant_count") - env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "participants")), env.opts.autoescape);
	output += " \n                        ";
	if(runtime.contextOrFrameLookup(context, frame, "participant_count") - env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "participants")) > 1) {
	output += "\n                            ";
	output += "\n                            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Hidden Users"), true && env.opts.autoescape);
	output += "\n                        ";
	;
	}
	else {
	output += "\n                            ";
	output += "\n                            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Hidden User"), true && env.opts.autoescape);
	output += "\n                        ";
	;
	}
	output += "\n                    </i>\n                </div>\n            ";
	;
	}
	output += "\n        </div>\n    ";
	;
	}
	output += "\n    \n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	b_header_image: b_header_image,
	b_additional_top_line: b_additional_top_line,
	b_action_buttons: b_action_buttons,
	b_related_content: b_related_content,
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/tiles/tile-detail-events.html"] , dependencies)

/***/ }),
/* 42 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["tiles/tile-detail-base"] = __webpack_require__( 37 );
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/tiles/tile-detail-ideas.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("tiles/tile-detail-base", true, "cosinnus/templates/cosinnus/universal/tiles/tile-detail-ideas.html", false, function(t_2,_parentTemplate) {
	if(t_2) { cb(t_2); return; }
	parentTemplate = _parentTemplate
	for(var t_1 in parentTemplate.blocks) {
	context.addBlock(t_1, parentTemplate.blocks[t_1]);
	}
	output += "\n";
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/tiles/tile-detail-ideas.html", false, function(t_4,t_3) {
	if(t_4) { cb(t_4); return; }
	t_3.getExported(function(t_5,t_3) {
	if(t_5) { cb(t_5); return; }
	context.setVariable("macros", t_3);
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("header_image"))(env, context, frame, runtime, function(t_7,t_6) {
	if(t_7) { cb(t_7); return; }
	output += t_6;
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("title"))(env, context, frame, runtime, function(t_9,t_8) {
	if(t_9) { cb(t_9); return; }
	output += t_8;
	output += "\n        \n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("top_line"))(env, context, frame, runtime, function(t_11,t_10) {
	if(t_11) { cb(t_11); return; }
	output += t_10;
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("action_buttons"))(env, context, frame, runtime, function(t_13,t_12) {
	if(t_13) { cb(t_13); return; }
	output += t_12;
	output += "\n\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("related_content"))(env, context, frame, runtime, function(t_15,t_14) {
	if(t_15) { cb(t_15); return; }
	output += t_14;
	output += "\n\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})})})})})})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_header_image(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    ";
	if(runtime.contextOrFrameLookup(context, frame, "backgroundImageLargeUrl")) {
	output += "\n        <div class=\"tile-section header-image\">\n            <div class=\"dual-tile-image\">\n                <img class=\"tile-image tile-image-background\" src=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "backgroundImageLargeUrl"), env.opts.autoescape);
	output += "\" /> \n            </div>\n        </div>\n    ";
	;
	}
	output += "\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_title(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    <div class=\"tile-section title\">\n        <h1>\n            ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "title"), env.opts.autoescape);
	output += "\n        </h1>\n    </div>\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_top_line(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    <div class=\"tile-section top-line one-line extra-space\">\n        <span class=\"multi-span\">\n            <span class=\"pale-color\">\n                ";
	output += "\n                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Author"), true && env.opts.autoescape);
	output += ":\n            </span> \n            ";
	if(!runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user")) {
	output += "\n                <a href=\"/signup/?acc_req_msg=1&next=/map/\" target=\"_blank\">";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "creator_name"), env.opts.autoescape);
	output += "</a>\n            ";
	;
	}
	else {
	output += "\n                ";
	output += runtime.suppressValue((lineno = 31, colno = 34, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"resultLink"), "macros[\"resultLink\"]", context, [runtime.contextOrFrameLookup(context, frame, "portal"),runtime.contextOrFrameLookup(context, frame, "creator_slug"),runtime.contextOrFrameLookup(context, frame, "creator_name"),"people"])), env.opts.autoescape);
	output += "\n            ";
	;
	}
	output += "\n        </span>\n        ";
	if(runtime.contextOrFrameLookup(context, frame, "address")) {
	output += "\n            <span class=\"multi-span half-line capitalize\" title=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "address"), env.opts.autoescape);
	output += "\">\n                <i class=\"fa fa-fw fa-map-marker\"></i>";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "address"), env.opts.autoescape);
	output += "\n            </span>\n        ";
	;
	}
	output += "\n        ";
	if(runtime.contextOrFrameLookup(context, frame, "participant_count") > 0) {
	output += "\n            <span class=\"multi-span capitalize\">\n                <i class=\"fa fa-fw fa-heart ";
	if(runtime.contextOrFrameLookup(context, frame, "liked")) {
	output += "apply-color-liked";
	;
	}
	output += "\"></i>\n                ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "participant_count"), env.opts.autoescape);
	output += "\n            </span>\n        ";
	;
	}
	output += "\n    </div>\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_action_buttons(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	context.getSuper(env, "action_buttons", b_action_buttons, frame, runtime, function(t_16,hole_17) {
	if(t_16) { cb(t_16); return; }
	hole_17 = runtime.markSafe(hole_17);
	output += "\n    <div class=\"tile-section tile-section-button-list\">\n        ";
	if(runtime.memberLookup((runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "controlView")),"portalInfo")),"current") == runtime.contextOrFrameLookup(context, frame, "portal")) {
	output += "\n            <a class=\"rounded-button button-action \n                    ";
	if(runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user")) {
	output += "button-like\" ";
	;
	}
	else {
	output += "\" href=\"/signup/?acc_req_msg=1&next=/map/\" target=\"_blank\"";
	;
	}
	output += ">\n                <span class=\"rounded-button-inner\">\n                    ";
	if(runtime.contextOrFrameLookup(context, frame, "liked")) {
	output += "\n                        <i clasS=\"fas fa-heart\"></i>\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Liked"), true && env.opts.autoescape);
	output += "\n                    ";
	;
	}
	else {
	output += "\n                        <i clasS=\"far fa-heart\"></i>\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Like"), true && env.opts.autoescape);
	output += "\n                    ";
	;
	}
	output += "\n                </span>\n            </a>\n            ";
	if(runtime.contextOrFrameLookup(context, frame, "liked")) {
	output += "\n                <a class=\"rounded-button button-action button-star\">\n                    <span class=\"rounded-button-inner\">\n                        ";
	if(runtime.contextOrFrameLookup(context, frame, "starred")) {
	output += "\n                            <i class=\"fas fa-star\"></i>\n                            ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "starringLabel"), env.opts.autoescape);
	output += "\n                        ";
	;
	}
	else {
	output += "\n                            <i class=\"far fa-star\"></i>\n                            ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "starLabel"), env.opts.autoescape);
	output += "\n                        ";
	;
	}
	output += "\n                    </span>\n                </a>\n                <a class=\"rounded-button button-action button-follow\">\n                    <span class=\"rounded-button-inner\">\n                        ";
	if(runtime.contextOrFrameLookup(context, frame, "followed")) {
	output += "\n                            <i clasS=\"fas fa-bell\"></i>\n                            ";
	output += "\n                            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Following"), true && env.opts.autoescape);
	output += "\n                        ";
	;
	}
	else {
	output += "\n                            <i clasS=\"far fa-bell\"></i>\n                            ";
	output += "\n                            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Follow"), true && env.opts.autoescape);
	output += "\n                        ";
	;
	}
	output += "\n                    </span>\n                </a>\n            ";
	;
	}
	output += "\n        ";
	;
	}
	output += "\n        <a href=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "action_url_1"), env.opts.autoescape);
	output += "\" target=\"_blank\" class=\"rounded-button button-action\">\n            <span class=\"rounded-button-inner\">\n                ";
	output += "\n                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Create Project from Idea"), true && env.opts.autoescape);
	output += "\n            </span>\n        </a>\n        ";
	if(runtime.contextOrFrameLookup(context, frame, "COSINNUS_SHOW_SUPERUSER_CONTROLS") || runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user") && runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user")),"username") == runtime.contextOrFrameLookup(context, frame, "creator_slug")) {
	output += "\n            <a href=\"/ideas/";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "slug"), env.opts.autoescape);
	output += "/edit/\" class=\"rounded-button button-action\">\n                <span class=\"rounded-button-inner\">\n                    ";
	output += "\n                    ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Edit your Idea"), true && env.opts.autoescape);
	output += "\n                </span>\n            </a>\n        ";
	;
	}
	output += "\n        \n        ";
	output += runtime.suppressValue(hole_17, env.opts.autoescape);
	output += "\n    </div>\n    \n    <div class=\"no-input\">\n        <div class=\"now-following-message message-success extra-space-top\" style=\"display: none;\">\n            <i class=\"fas fa-bell\"></i>\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"You will receive a notification when a project is created from your liked idea."), true && env.opts.autoescape);
	output += "\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"If you do not want notifications, click the unfollow button!"), true && env.opts.autoescape);
	output += "\n        </div>\n         \n        <div class=\"like-button-error message-error extra-space-top\" style=\"display: none;\">\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Could not save your like setting because of an error."), true && env.opts.autoescape);
	output += "\n        </div>\n        <div class=\"follow-button-error message-error extra-space-top\" style=\"display: none;\">\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Could not save your follow setting because of an error."), true && env.opts.autoescape);
	output += "\n        </div>\n        <div class=\"star-button-error message-error extra-space-top\" style=\"display: none;\">\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Could not save your follow setting because of an error."), true && env.opts.autoescape);
	output += "\n        </div>\n    </div>\n";
	cb(null, output);
	});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_related_content(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	context.getSuper(env, "related_content", b_related_content, frame, runtime, function(t_17,hole_18) {
	if(t_17) { cb(t_17); return; }
	hole_18 = runtime.markSafe(hole_18);
	output += "\n    ";
	output += runtime.suppressValue(hole_18, env.opts.autoescape);
	output += "\n\n    ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "projects")) > 0) {
	output += "\n        <div class=\"tile-section tile-section-divided\">\n            <div class=\"subheading\">\n                <i class=\"fa fa-group\"></i>\n                ";
	output += "\n                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Projects - Created from this Idea"), true && env.opts.autoescape);
	output += " (";
	output += runtime.suppressValue(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "projects")), env.opts.autoescape);
	output += ")\n            </div>\n        </div>\n        <div class=\"tile-section\">\n            <div class=\"row\">\n                ";
	frame = frame.push();
	var t_20 = runtime.contextOrFrameLookup(context, frame, "projects");
	if(t_20) {var t_19 = t_20.length;
	for(var t_18=0; t_18 < t_20.length; t_18++) {
	var t_21 = t_20[t_18];
	frame.set("project", t_21);
	frame.set("loop.index", t_18 + 1);
	frame.set("loop.index0", t_18);
	frame.set("loop.revindex", t_19 - t_18);
	frame.set("loop.revindex0", t_19 - t_18 - 1);
	frame.set("loop.first", t_18 === 0);
	frame.set("loop.last", t_18 === t_19 - 1);
	frame.set("loop.length", t_19);
	output += "\n                    <div class=\"col-sm-6\">\n                        ";
	output += runtime.suppressValue((lineno = 150, colno = 40, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"itemCard"), "macros[\"itemCard\"]", context, [runtime.memberLookup((t_21),"portal"),runtime.memberLookup((t_21),"slug"),runtime.memberLookup((t_21),"title"),runtime.memberLookup((t_21),"type"),runtime.memberLookup((t_21),"iconImageUrl"),runtime.memberLookup((t_21),"address"),"fa-map-marker",runtime.memberLookup((t_21),"dataSlot1"),"fa-group",runtime.makeKeywordArgs({"cosinnus_active_user": runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user")})])), env.opts.autoescape);
	output += "\n                    </div>\n                ";
	;
	}
	}
	frame = frame.pop();
	output += "\n            </div>\n        </div>\n    ";
	;
	}
	output += "\n    \n";
	cb(null, output);
	});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	b_header_image: b_header_image,
	b_title: b_title,
	b_top_line: b_top_line,
	b_action_buttons: b_action_buttons,
	b_related_content: b_related_content,
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/tiles/tile-detail-ideas.html"] , dependencies)

/***/ }),
/* 43 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["tiles/tile-detail-base-group"] = __webpack_require__( 36 );
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/tiles/tile-detail-organizations.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("tiles/tile-detail-base-group", true, "cosinnus/templates/cosinnus/universal/tiles/tile-detail-organizations.html", false, function(t_2,_parentTemplate) {
	if(t_2) { cb(t_2); return; }
	parentTemplate = _parentTemplate
	for(var t_1 in parentTemplate.blocks) {
	context.addBlock(t_1, parentTemplate.blocks[t_1]);
	}
	output += "\n";
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/tiles/tile-detail-organizations.html", false, function(t_4,t_3) {
	if(t_4) { cb(t_4); return; }
	t_3.getExported(function(t_5,t_3) {
	if(t_5) { cb(t_5); return; }
	context.setVariable("macros", t_3);
	output += "\n\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("title"))(env, context, frame, runtime, function(t_7,t_6) {
	if(t_7) { cb(t_7); return; }
	output += t_6;
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("top_line_group"))(env, context, frame, runtime, function(t_9,t_8) {
	if(t_9) { cb(t_9); return; }
	output += t_8;
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("action_buttons"))(env, context, frame, runtime, function(t_11,t_10) {
	if(t_11) { cb(t_11); return; }
	output += t_10;
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("contact"))(env, context, frame, runtime, function(t_13,t_12) {
	if(t_13) { cb(t_13); return; }
	output += t_12;
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})})})})})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_title(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    <div class=\"tile-section title\">\n        ";
	if(runtime.contextOrFrameLookup(context, frame, "is_superuser") || runtime.contextOrFrameLookup(context, frame, "is_member") && runtime.contextOrFrameLookup(context, frame, "edit_url")) {
	output += "\n        <a href=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "edit_url"), env.opts.autoescape);
	output += "\" target=\"_blank\" class=\"uncolored-link\">\n            <h1>\n                ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "title"), env.opts.autoescape);
	output += "\n                <i class=\"fa fa-pencil\"></i>\n            </h1>\n        </a>\n        ";
	;
	}
	else {
	output += "\n        <h1>\n            ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "title"), env.opts.autoescape);
	output += "\n        </h1>\n        ";
	;
	}
	output += "\n    </div>\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_top_line_group(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    <div class=\"tile-section topic-line one-line\">\n        ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "organization_type"), env.opts.autoescape);
	output += "\n    </div>\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_action_buttons(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n";
	if(runtime.contextOrFrameLookup(context, frame, "portal") == runtime.contextOrFrameLookup(context, frame, "COSINNUS_EXCHANGE_PORTAL_ID") && runtime.contextOrFrameLookup(context, frame, "url")) {
	output += "\n    <div class=\"tile-section tile-section-button-list\">\n        <a class=\"rounded-button button-action\" href=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "url"), env.opts.autoescape);
	output += "\" target=\"_blank\">\n            <span class=\"rounded-button-inner\">\n                <i clasS=\"fa fa-external-link\"></i>\n                ";
	output += "\n                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Organization"), true && env.opts.autoescape);
	output += " ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"on"), true && env.opts.autoescape);
	output += " ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "source"), env.opts.autoescape);
	output += "\n            </span>\n        </a>\n    </div>\n";
	;
	}
	output += "\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_contact(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n";
	if(runtime.contextOrFrameLookup(context, frame, "portal") != runtime.contextOrFrameLookup(context, frame, "COSINNUS_EXCHANGE_PORTAL_ID")) {
	output += "\n    <div class=\"tile-section tile-section-divided\">\n        <div class=\"row\">\n            <div class=\"col-xs-6\">\n                <div class=\"subheading\">\n                    ";
	output += "\n                    ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Contact"), true && env.opts.autoescape);
	output += "\n                </div>\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "website_url")) {
	output += "\n                    <div class=\"tile-section one-line no-space\">\n                        <a href=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "website_url"), env.opts.autoescape);
	output += "\" target=\"_blank\" class=\"compact-link\">\n                            <i class=\"fa fa-globe\"></i>";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "website_url"), env.opts.autoescape);
	output += "\n                        </a>\n                    </div>\n                ";
	;
	}
	output += "\n                ";
	frame = frame.push();
	var t_16 = runtime.contextOrFrameLookup(context, frame, "social_media");
	if(t_16) {var t_15 = t_16.length;
	for(var t_14=0; t_14 < t_16.length; t_14++) {
	var t_17 = t_16[t_14];
	frame.set("sm", t_17);
	frame.set("loop.index", t_14 + 1);
	frame.set("loop.index0", t_14);
	frame.set("loop.revindex", t_15 - t_14);
	frame.set("loop.revindex0", t_15 - t_14 - 1);
	frame.set("loop.first", t_14 === 0);
	frame.set("loop.last", t_14 === t_15 - 1);
	frame.set("loop.length", t_15);
	output += "\n                    <div class=\"tile-section one-line no-space\">\n                        <a href=\"";
	output += runtime.suppressValue(runtime.memberLookup((t_17),"url"), env.opts.autoescape);
	output += "\" target=\"_blank\" class=\"compact-link\">\n                            <i class=\"fa fa-";
	output += runtime.suppressValue(runtime.memberLookup((t_17),"icon"), env.opts.autoescape);
	output += "\"></i>";
	output += runtime.suppressValue(runtime.memberLookup((t_17),"url"), env.opts.autoescape);
	output += "\n                        </a>\n                    </div>\n                ";
	;
	}
	}
	frame = frame.pop();
	output += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "email")) {
	output += "\n                    <div class=\"tile-section one-line no-space\">\n                        <a href=\"mailto:";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "email"), env.opts.autoescape);
	output += "\" target=\"_blank\" class=\"compact-link\">\n                            <i class=\"fa fa-envelope\"></i>";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "email"), env.opts.autoescape);
	output += "\n                        </a>\n                    </div>\n                ";
	;
	}
	output += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "phone_number")) {
	output += "\n                    <div class=\"tile-section one-line no-space\">\n                        <a href=\"tel:";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "phone_number"), env.opts.autoescape);
	output += "\" target=\"_blank\" class=\"compact-link\">\n                            <i class=\"fa fa-phone\"></i>";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "phone_number"), env.opts.autoescape);
	output += "\n                        </a>\n                    </div>\n                ";
	;
	}
	output += "\n            </div>\n            <div class=\"col-xs-6\">\n                <div class=\"subheading\">\n                    ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "admins")) > 1) {
	output += "\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Administrator"), true && env.opts.autoescape);
	output += "\n                    ";
	;
	}
	else {
	output += "\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Administrators"), true && env.opts.autoescape);
	output += "\n                    ";
	;
	}
	output += "\n                </div>\n                <div class=\"tile-section\">\n                    ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "admins")) > 0) {
	output += "\n                        ";
	frame = frame.push();
	var t_20 = runtime.contextOrFrameLookup(context, frame, "admins");
	if(t_20) {var t_19 = t_20.length;
	for(var t_18=0; t_18 < t_20.length; t_18++) {
	var t_21 = t_20[t_18];
	frame.set("admin", t_21);
	frame.set("loop.index", t_18 + 1);
	frame.set("loop.index0", t_18);
	frame.set("loop.revindex", t_19 - t_18);
	frame.set("loop.revindex0", t_19 - t_18 - 1);
	frame.set("loop.first", t_18 === 0);
	frame.set("loop.last", t_18 === t_19 - 1);
	frame.set("loop.length", t_19);
	output += "\n                            ";
	output += runtime.suppressValue((lineno = 92, colno = 44, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"itemCard"), "macros[\"itemCard\"]", context, [runtime.memberLookup((t_21),"portal"),runtime.memberLookup((t_21),"slug"),runtime.memberLookup((t_21),"title"),runtime.memberLookup((t_21),"type"),runtime.memberLookup((t_21),"iconImageUrl"),runtime.memberLookup((t_21),"address"),"fa-map-marker",runtime.makeKeywordArgs({"cosinnus_active_user": runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user")})])), env.opts.autoescape);
	output += "\n                        ";
	;
	}
	}
	frame = frame.pop();
	output += "\n                    ";
	;
	}
	else {
	output += "\n                        ";
	output += "\n                        </i>";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Administrators unknown"), true && env.opts.autoescape);
	output += "</i>\n                    ";
	;
	}
	output += "\n                </div>\n                <div class=\"tile-section tile-section-button-list\">\n                    ";
	if(runtime.contextOrFrameLookup(context, frame, "is_member")) {
	output += "\n                        <a class=\"rounded-button button-action disabled\">\n                            <span class=\"rounded-button-inner\">\n                                <i clasS=\"fa fa-check\"></i>\n                                ";
	output += "\n                                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"You are a Admin"), true && env.opts.autoescape);
	output += "\n                            </span>\n                        </a>\n                    ";
	;
	}
	else {
	if(runtime.contextOrFrameLookup(context, frame, "is_invited") || runtime.contextOrFrameLookup(context, frame, "is_pending")) {
	output += "\n                       <a href=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "accept_url"), env.opts.autoescape);
	output += "\" target=\"_blank\" class=\"rounded-button button-action\">\n                            <span class=\"rounded-button-inner\">\n                                ";
	if(runtime.contextOrFrameLookup(context, frame, "is_invited")) {
	output += "\n                                    ";
	output += "\n                                    ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"You are invited!"), true && env.opts.autoescape);
	output += "\n                                ";
	;
	}
	else {
	if(runtime.contextOrFrameLookup(context, frame, "is_pending")) {
	output += "\n                                    ";
	output += "\n                                    ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Ownership request pending..."), true && env.opts.autoescape);
	output += "\n                                ";
	;
	}
	;
	}
	output += "\n                            </span>\n                        </a>\n                    ";
	;
	}
	;
	}
	output += "\n                </div>\n            </div>\n        </div>\n\n    </div>\n\n    ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "groups")) > 0) {
	output += "\n        <div class=\"tile-section tile-section-divided\">\n            <div class=\"subheading\">\n                <i class=\"fa fa-group\"></i>\n                ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "organizations")) > 1) {
	output += "\n                \t";
	output += "\n\t                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Projects and groups"), true && env.opts.autoescape);
	output += "\n                ";
	;
	}
	else {
	output += "\n\t                ";
	output += "\n\t                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Project/group"), true && env.opts.autoescape);
	output += "\n\t            ";
	;
	}
	output += "\n            </div>\n        </div>\n        <div class=\"tile-section\">\n            <div class=\"row\">\n                ";
	frame = frame.push();
	var t_24 = runtime.contextOrFrameLookup(context, frame, "groups");
	if(t_24) {var t_23 = t_24.length;
	for(var t_22=0; t_22 < t_24.length; t_22++) {
	var t_25 = t_24[t_22];
	frame.set("group", t_25);
	frame.set("loop.index", t_22 + 1);
	frame.set("loop.index0", t_22);
	frame.set("loop.revindex", t_23 - t_22);
	frame.set("loop.revindex0", t_23 - t_22 - 1);
	frame.set("loop.first", t_22 === 0);
	frame.set("loop.last", t_22 === t_23 - 1);
	frame.set("loop.length", t_23);
	output += "\n                    <div class=\"col-sm-6\">\n                        ";
	output += runtime.suppressValue((lineno = 144, colno = 40, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"itemCard"), "macros[\"itemCard\"]", context, [runtime.memberLookup((t_25),"portal"),runtime.memberLookup((t_25),"slug"),runtime.memberLookup((t_25),"title"),runtime.memberLookup((t_25),"type"),runtime.memberLookup((t_25),"iconImageUrl"),runtime.memberLookup((t_25),"location"),"fa-map-marker"])), env.opts.autoescape);
	output += "\n                    </div>\n                ";
	;
	}
	}
	frame = frame.pop();
	output += "\n            </div>\n        </div>\n    ";
	;
	}
	output += "\n";
	;
	}
	output += "\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	b_title: b_title,
	b_top_line_group: b_top_line_group,
	b_action_buttons: b_action_buttons,
	b_contact: b_contact,
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/tiles/tile-detail-organizations.html"] , dependencies)

/***/ }),
/* 44 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["tiles/tile-detail-base"] = __webpack_require__( 37 );
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/tiles/tile-detail-error-403.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("tiles/tile-detail-base", true, "cosinnus/templates/cosinnus/universal/tiles/tile-detail-error-403.html", false, function(t_2,_parentTemplate) {
	if(t_2) { cb(t_2); return; }
	parentTemplate = _parentTemplate
	for(var t_1 in parentTemplate.blocks) {
	context.addBlock(t_1, parentTemplate.blocks[t_1]);
	}
	output += "\n";
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/tiles/tile-detail-error-403.html", false, function(t_4,t_3) {
	if(t_4) { cb(t_4); return; }
	t_3.getExported(function(t_5,t_3) {
	if(t_5) { cb(t_5); return; }
	context.setVariable("macros", t_3);
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("content"))(env, context, frame, runtime, function(t_7,t_6) {
	if(t_7) { cb(t_7); return; }
	output += t_6;
	output += "\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_content(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    <h1 class=\"error-title\">\n        ";
	output += "\n        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Protected Content"), true && env.opts.autoescape);
	output += "\n    </h1>\n    <div class=\"error-text\">\n        <p>\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Sorry, but you cannot view details for this content."), true && env.opts.autoescape);
	output += "\n        </p>\n        <p>\n            ";
	if(runtime.contextOrFrameLookup(context, frame, "cosinnus_active_user")) {
	output += "\n                ";
	output += "\n                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"This can happen when its visibility settings have changed recently."), true && env.opts.autoescape);
	output += "\n            ";
	;
	}
	else {
	output += "\n                <a href=\"/signup/?acc_req_msg=1&next=/map/\" target=\"_blank\">\n                    ";
	output += "\n                    ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Please register or log in to continue!"), true && env.opts.autoescape);
	output += "\n                </a>\n            ";
	;
	}
	output += "\n        </p>\n    </div>\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	b_content: b_content,
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/tiles/tile-detail-error-403.html"] , dependencies)

/***/ }),
/* 45 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["tiles/tile-detail-base"] = __webpack_require__( 37 );
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/tiles/tile-detail-error.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("tiles/tile-detail-base", true, "cosinnus/templates/cosinnus/universal/tiles/tile-detail-error.html", false, function(t_2,_parentTemplate) {
	if(t_2) { cb(t_2); return; }
	parentTemplate = _parentTemplate
	for(var t_1 in parentTemplate.blocks) {
	context.addBlock(t_1, parentTemplate.blocks[t_1]);
	}
	output += "\n";
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/tiles/tile-detail-error.html", false, function(t_4,t_3) {
	if(t_4) { cb(t_4); return; }
	t_3.getExported(function(t_5,t_3) {
	if(t_5) { cb(t_5); return; }
	context.setVariable("macros", t_3);
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("content"))(env, context, frame, runtime, function(t_7,t_6) {
	if(t_7) { cb(t_7); return; }
	output += t_6;
	output += "\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_content(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    <h1 class=\"error-title\">\n        ";
	output += "\n        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Error!"), true && env.opts.autoescape);
	output += "\n    </h1>\n    <div class=\"error-text\">\n        ";
	output += "\n        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Sorry, but the requested content could not be retrieved from the server."), true && env.opts.autoescape);
	output += "\n    </div>\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	b_content: b_content,
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/tiles/tile-detail-error.html"] , dependencies)

/***/ }),
/* 46 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var BaseView = __webpack_require__(4);
	var util = __webpack_require__(5);
	
	module.exports = BaseView.extend({
	
	    app: null,
	
	    template: __webpack_require__(47),
	
	    fetchURL: '/search/api/quicksearch/',
	
	    // the parent el, containing the search textbox and button
	    $searchBarEl: null,
	
	    // will be set to self.options during initialization
	    defaults: {
	        query: null,
	        searchMethods: {
	            'default': '/search/?q={{q}}',
	            'map': '/map/?q={{q}}',
	            'groups': '/search/?groups=mine&q={{q}}',
	            'cloudfiles': '/search/cloudfiles/?q={{q}}'
	        },
	        topicsSearchMethods: {
	            // <title>: <url>,
	        },
	        // this will be added to the state.topicsSearchMethods for matching topics
	        topicsUrl: '/map/?topics={{t}}',
	        sdgSearchMethods: {},
	        sdgsUrl: '/map/?sdgs={{t}}',
	
	        state: {
	            loading: false, // if true, a request is currently loading
	            currentRequest: null, // the XMLHttpRequest that is currently loading
	            hadErrors: false,
	
	            quicksearchResults: [],
	
	            fireQuicksearchTimeout: null
	        }
	    },
	
	    // The DOM events specific to an item.
	    events: {
	    },
	
	    initialize: function (options, app) {
	        var self = this;
	        self.app = app;
	        BaseView.prototype.initialize.call(self, options);
	
	        self.$searchBarEl = $('#nav-quicksearch');
	        // events that have to be defined here because they happen in the searchBarEl:
	        self.$searchBarEl.on('focus', '.nav-search-box', self.thisContext(self.onSearchBoxFocusIn));
	        self.$searchBarEl.on('keydown', '.nav-search-box', self.thisContext(self.onSearchBoxKeyDown));
	        self.$searchBarEl.on('input', '.nav-search-box', self.thisContext(self.onSearchBoxTyped));
	        self.$searchBarEl.on('click', '.nav-button-search', self.thisContext(self.onSearchIconClicked));
	        self.$searchBarEl.on('click', '.quicksearch-filterbutton', self.thisContext(self.onQuickSearchFilterButtonClicked));
	
	
	        // TODO: add a collection for quicksearch DB results!
	        return;
	
	        // result events
	        self.collection.on({
	            'add': self.thisContext(self.tileAdd),
	            'change': self.thisContext(self.tileUpdate),
	            'remove': self.thisContext(self.tileRemove),
	            'update': self.thisContext(self.tilesUpdate),
	            'reset': self.thisContext(self.tilesReset),
	        });
	
	    },
	
	    render: function () {
	        var self = this;
	        BaseView.prototype.render.call(self);
	
	        util.log('*** Rendered quicksearch! ***')
	        this.$searchBarEl.find('.dropdown-underdrop').height(this.$el.outerHeight());
	        return self;
	    },
	
	    /** Extend the template data by the controlView's options and state */
	    getTemplateData: function () {
	        var self = this;
	        var data = BaseView.prototype.getTemplateData.call(self);
	        return data;
	    },
	
	    /** Searchbox focused */
	    onSearchBoxFocusIn: function (event) {
	        this.$searchBarEl.find('.nav-search-box').attr('placeholder', this.options.placeholder);
	        this.showDropdown();
	    },
	
	    /** Searchbox key downs, for special keys */
	    onSearchBoxKeyDown: function (event) {
	        if (event.keyCode == 13) {
	            this.fireSearch();
	        } else if (event.keyCode == 27) {
	            this.$searchBarEl.removeClass('active').find('.nav-search-box').blur();
	            $('.v2-navbar').removeClass('search-open');
	        }
	    },
	
	    onQuickSearchFilterButtonClicked: function (event) {
	        event.preventDefault();
	        var type = event.currentTarget.getAttribute('data-result-filter-type');
	        var query = this.getCurrentQuery();
	
	        var data = {
	            'q': query ? query : '',
	            'people': type === 'people',
	            'events': type === 'events',
	            'projects': type === 'projects',
	            'groups': type === 'groups',
	            'ideas': type === 'ideas',
	            'conferences': type === 'conferences',
	            'organizations': type === 'organizations'
	        };
	
	        var params = [];
	
	        for (var d in data) {
	            params.push(encodeURIComponent(d) + '=' + encodeURIComponent(data[d]));
	        }
	        var url = '/map/?' + params.join('&');
	        window.location.href = url;
	    },
	
	    /** Searchbox text input */
	    onSearchBoxTyped: function (event) {
	        var self = this;
	        if (!event.shiftKey && !event.ctrlKey) {
	            if (self.state.fireQuicksearchTimeout !== null) {
	                // prevent the quicksearch request from being started
	                clearTimeout(self.state.fireQuicksearchTimeout);
	            }
	            this.updateSearchSuggestions();
	        }
	    },
	
	    /** rerenders the list of clickable search suggestions, e.g. after new input was made */
	    updateSearchSuggestions: function () {
	        var self = this;
	        var query = self.getCurrentQuery();
	
	        // apply the current query to the urls in searchMethods
	        var searchMethods = _(self.options.searchMethods).clone();
	        for (var method in searchMethods) {
	            searchMethods[method] = searchMethods[method].replace('{{q}}', encodeURIComponent(query));
	        }
	        self.state.searchMethods = searchMethods;
	        // match topics to the current query and generate topic search suggestions
	        var topicsSearchMethods = {};
	        for (var topicId in self.options.topicsJson) {
	            var topic = self.options.topicsJson[topicId];
	            if (topic && topic.toLowerCase().indexOf(query.toLowerCase()) > -1) {
	                // highlight the topic occurence
	                var title = util.iReplace(topic, query, '<b>$1</b>');
	                var url = self.options.topicsUrl.replace('{{t}}', topicId);
	                topicsSearchMethods[title] = url;
	            }
	        }
	
	        if (self.options.sdgsJson.length > 0) {
	            var sdgSearchMethods = {};
	            for (var sdgId in self.options.sdgsJson) {
	                var sdg = self.options.sdgsJson[sdgId];
	                if (sdg && sdg.name.toLowerCase().indexOf(query.toLowerCase()) > -1) {
	                    var title = util.iReplace(sdg.name, query, '<b>$1</b>')
	                    var url = self.options.sdgsUrl.replace('{{t}}', sdg.id);
	                    sdgSearchMethods[title] = url;
	                }
	            }
	        }
	
	
	        self.state.topicsSearchMethods = topicsSearchMethods
	        self.state.sdgSearchMethods = sdgSearchMethods
	
	        self.state.query = query || null;
	        self.state.quicksearchResults = [];
	        self.render();
	
	        if (self.state.query && self.state.query.length > 2) {
	            // wait a short time before issuing a HTTP request, 
	            // in case the user types more stuff in the meantime;
	            // in that case, the timeout will be cleared/cancelled.
	            self.state.fireQuicksearchTimeout = setTimeout(self.loadQuickResults, 300, self, self.state.query);
	        }
	    },
	
	    /** Get the text from the search box */
	    getCurrentQuery: function () {
	        return this.$searchBarEl.find('.nav-search-box').val().trim();
	    },
	
	    /** Fire off a search. If no arguments given, fires the default search
	     * 	with the currently entered text */
	    fireSearch: function (type, query) {
	        var self = this;
	        if (!type) {
	            type = 'default';
	        }
	        if (!query) {
	            query = self.getCurrentQuery();
	        }
	        if (query && query.length > 0) {
	            var url = self.options.searchMethods[type].replace('{{q}}', encodeURIComponent(query));
	            window.location = url;
	        }
	    },
	
	    /** Shows the quicksearch result list */
	    showDropdown: function () {
	        util.log('*** Showing quicksearch results ***')
	        document.addEventListener('click', this.thisContext(this.checkQuickSearchFocusOut));
	        this.$searchBarEl.addClass('active');
	        $('.v2-navbar').addClass('search-open');
	        this.render();
	    },
	
	    /** Hides the quicksearch result list */
	    hideDropdown: function () {
	        util.log('*** Hiding quicksearch results ***')
	        this.$el.hide();
	    },
	
	    /** While we are focused, check for clicks outside to trigger closing the menu */
	    checkQuickSearchFocusOut: function (event) {
	        if ((this.$searchBarEl.hasClass('active') && !this.$searchBarEl[0].contains(event.target))
	            || $(event.target).hasClass('nav-search-backdrop')) {
	            this.$searchBarEl.removeClass('active');
	            $('.v2-navbar').removeClass('search-open');
	            this.$searchBarEl.find('.nav-search-box').attr('placeholder', '');
	            document.removeEventListener('click', this.thisContext(this.checkQuickSearchFocusOut));
	        }
	    },
	
	    onSearchIconClicked: function (event) {
	        if (this.$searchBarEl.hasClass('active')) {
	            this.fireSearch();
	        } else {
	            this.$searchBarEl.find('.nav-search-box').attr('placeholder', this.options.placeholder);
	            this.$searchBarEl.find('.nav-search-box').focus();
	        }
	    },
	
	    /** Quicksearch results data fetch logic */
	
	    /** Loads a new set of quicksearch results for the given query.
	     *  Calling this will cancel the currently running request, if existing. */
	    loadQuickResults: function (self, query) {
	        if (self.state.loading) {
	            if (self.state.currentRequest !== null) {
	                self.state.currentRequest.abort();
	                self.state.currentRequest = null;
	            }
	            self.state.loading = false;
	        }
	
	        self.state.loading = true;
	        //self.showLoadingPlaceholder();
	        //self.hideErrorMessage();
	        // using this instead of .finally() for backwards compatibility in browsers
	
	        var finally_compat = function () {
	            self.state.loading = false;
	            //self.hideLoadingPlaceholder();
	        };
	        self.loadData(query).then(function (data) {
	            util.log('# quicksearch received data and is now handling it');
	            self.handleData(data);
	            finally_compat();
	        })/**.catch(function(message){
				self.handleError(message);
				finally_compat();
			})*/;
	    },
	
	
	    /** Loads a set of data from the server. Returns a promise
	     *  whose resolve function gets passed the data */
	    loadData: function (query) {
	        var self = this;
	        return new Promise(function (resolve, reject) {
	            // build URL
	            var url = self.fetchURL + '?' + $.param({ 'q': query });
	            self.state.currentRequest = $.ajax(url, {
	                type: 'GET',
	                success: function (response, textStatus, xhr) {
	                    if (xhr.status == 200) {
	                        resolve(response['data']);
	                    } else {
	                        reject(xhr.statusText);
	                    }
	                },
	                error: function (xhr, textStatus) {
	                    reject(textStatus);
	                },
	                complete: function () {
	                    self.state.currentRequest = null;
	                }
	            });
	        });
	    },
	
	    handleData: function (data) {
	        var self = this;
	        util.log('# # Fetched data for quicksearch');
	
	        // display items if any
	        if (data['count'] > 0) {
	            self.state.quicksearchResults = data['items'];
	            $.each(self.state.quicksearchResults, function (itemIdx, item) {
	                // we expect escaped text here! 
	                // otherwise, we could make it safe using: var text = $('<div>').text(item['text']).html();
	                var text = item['text'];
	                $.each(self.state.query.split(' '), function (queryTermIdx, queryTerm) {
	
	                    text = util.iReplace(text, queryTerm, '<b>$1</b>');
	                });
	                item['text'] = text;
	                if (typeof (item.subtext) === "string") {
	                    var subtext = item.subtext;
	                    $.each(self.state.query.split(' '), function (queryTermIdx, queryTerm) {
	                        subtext = util.iReplace(subtext, queryTerm, '<b>$1</b>');
	                    });
	                    item.subtext = subtext;
	                }
	            });
	            self.render();
	        }
	    },
	
	    handleError: function (message) {
	        var self = this;
	        util.log('# Error during quicksearch request!');
	        //self.showErrorMessage();
	    },
	
	});


/***/ }),
/* 47 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/navbar/quicksearch.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	output += runtime.suppressValue(env.getExtension("passThrough")["run"](context,runtime.contextOrFrameLookup(context, frame, "i18n")), true && env.opts.autoescape);
	output += "\n";
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/navbar/quicksearch.html", false, function(t_2,t_1) {
	if(t_2) { cb(t_2); return; }
	t_1.getExported(function(t_3,t_1) {
	if(t_3) { cb(t_3); return; }
	context.setVariable("macros", t_1);
	output += "\n\n<ul class=\"item-list\">\n\n\t<li>\n\t    <div class=\"nav-quicksearch-buttons\">\n\t\t\t<div class=\"btn-no-interact nav-quicksearch-button-label\">\n\t\t\t\t";
	var t_4;
	t_4 = (function() {
	var output = "";
	output += "\n\t\t\t\t";
	output += "\n\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Find on map:"), true && env.opts.autoescape);
	output += "\n\t\t\t\t";
	;
	return output;
	})()
	;
	frame.set("filter_annotations_prefix", t_4, true);
	if(frame.topLevel) {
	context.setVariable("filter_annotations_prefix", t_4);
	}
	if(frame.topLevel) {
	context.addExport("filter_annotations_prefix", t_4);
	}
	output += "\n\t\t\t    ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "filter_annotations_prefix"), env.opts.autoescape);
	output += "\n\t\t    </div>\n\t\t    <div>\n\t\t\t\t<a class=\"rounded-button button-color-people result-filter-button quicksearch-filterbutton\" data-result-filter-type=\"people\">\n\t\t\t\t\t";
	output += runtime.suppressValue((lineno = 16, colno = 22, runtime.callWrap(runtime.memberLookup((t_1),"typeLabel"), "macros[\"typeLabel\"]", context, ["people","rounded-button-inner",runtime.makeKeywordArgs({"useStyles": false,"COSINNUS_TRANS": runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")})])), env.opts.autoescape);
	output += "\n\t\t\t\t</a>\n\t\t\t\t<a class=\"rounded-button button-color-projects result-filter-button quicksearch-filterbutton\" data-result-filter-type=\"projects\">\n\t\t\t\t\t";
	output += runtime.suppressValue((lineno = 19, colno = 22, runtime.callWrap(runtime.memberLookup((t_1),"typeLabel"), "macros[\"typeLabel\"]", context, ["projects","rounded-button-inner",runtime.makeKeywordArgs({"useStyles": false,"COSINNUS_TRANS": runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")})])), env.opts.autoescape);
	output += "\n\t\t\t\t</a>\n\t\t\t\t<a class=\"rounded-button button-color-groups result-filter-button quicksearch-filterbutton\" data-result-filter-type=\"groups\">\n\t\t\t\t\t";
	output += runtime.suppressValue((lineno = 22, colno = 22, runtime.callWrap(runtime.memberLookup((t_1),"typeLabel"), "macros[\"typeLabel\"]", context, ["groups","rounded-button-inner",runtime.makeKeywordArgs({"useStyles": false,"COSINNUS_TRANS": runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")})])), env.opts.autoescape);
	output += "\n\t\t\t\t</a>\n\t\t\t\t<a class=\"rounded-button button-color-events result-filter-button quicksearch-filterbutton\" data-result-filter-type=\"events\">\n\t\t\t\t\t";
	output += runtime.suppressValue((lineno = 25, colno = 22, runtime.callWrap(runtime.memberLookup((t_1),"typeLabel"), "macros[\"typeLabel\"]", context, ["events","rounded-button-inner",runtime.makeKeywordArgs({"useStyles": false,"COSINNUS_TRANS": runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")})])), env.opts.autoescape);
	output += "\n\t\t\t\t</a>\n\t\t\t\t";
	if(runtime.contextOrFrameLookup(context, frame, "COSINNUS_CONFERENCES_ENABLED")) {
	output += "\n\t\t\t\t\t<a class=\"rounded-button button-color-conferences result-filter-button quicksearch-filterbutton\" data-result-filter-type=\"conferences\">\n\t\t\t\t\t\t";
	output += runtime.suppressValue((lineno = 29, colno = 23, runtime.callWrap(runtime.memberLookup((t_1),"typeLabel"), "macros[\"typeLabel\"]", context, ["conferences","rounded-button-inner",runtime.makeKeywordArgs({"useStyles": false,"COSINNUS_TRANS": runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")})])), env.opts.autoescape);
	output += "\n\t\t\t\t\t</a>\n\t\t\t\t";
	;
	}
	output += "\n\t\t\t\t";
	if(runtime.contextOrFrameLookup(context, frame, "COSINNUS_IDEAS_ENABLED")) {
	output += "\n\t\t\t\t\t<a class=\"rounded-button button-color-ideas result-filter-button quicksearch-filterbutton\" data-result-filter-type=\"ideas\">\n\t\t\t\t\t\t";
	output += runtime.suppressValue((lineno = 34, colno = 23, runtime.callWrap(runtime.memberLookup((t_1),"typeLabel"), "macros[\"typeLabel\"]", context, ["ideas","rounded-button-inner",runtime.makeKeywordArgs({"useStyles": false,"COSINNUS_TRANS": runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")})])), env.opts.autoescape);
	output += "\n\t\t\t\t\t</a>\n\t\t\t\t";
	;
	}
	output += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "COSINNUS_ORGANIZATIONS_ENABLED")) {
	output += "\n                    <a class=\"rounded-button button-color-organizations result-filter-button quicksearch-filterbutton\" data-result-filter-type=\"organizations\">\n                        ";
	output += runtime.suppressValue((lineno = 39, colno = 41, runtime.callWrap(runtime.memberLookup((t_1),"typeLabel"), "macros[\"typeLabel\"]", context, ["organizations","rounded-button-inner",runtime.makeKeywordArgs({"useStyles": false,"COSINNUS_TRANS": runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")})])), env.opts.autoescape);
	output += "\n                    </a>\n                ";
	;
	}
	output += "\n\t\t\t</div>\n\t\t</div>\n\t</li>\n\n\t";
	if(runtime.contextOrFrameLookup(context, frame, "query") && env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "query")) > 2) {
	output += "\n\t\t";
	var t_5;
	t_5 = (function() {
	var output = "";
	output += "\n\t\t\t";
	output += "\n\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Entire Network"), true && env.opts.autoescape);
	output += "\n\t\t";
	;
	return output;
	})()
	;
	frame.set("default_annotation", t_5, true);
	if(frame.topLevel) {
	context.setVariable("default_annotation", t_5);
	}
	if(frame.topLevel) {
	context.addExport("default_annotation", t_5);
	}
	output += "\n\t\t";
	var t_6;
	t_6 = (function() {
	var output = "";
	output += "\n\t\t\t";
	output += "\n\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"On the Map"), true && env.opts.autoescape);
	output += "\n\t\t";
	;
	return output;
	})()
	;
	frame.set("map_annotation", t_6, true);
	if(frame.topLevel) {
	context.setVariable("map_annotation", t_6);
	}
	if(frame.topLevel) {
	context.addExport("map_annotation", t_6);
	}
	output += "\n\t\t";
	var t_7;
	t_7 = (function() {
	var output = "";
	output += "\n\t\t\t";
	output += "\n\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"In my Groups and Projects"), true && env.opts.autoescape);
	output += "\n\t\t";
	;
	return output;
	})()
	;
	frame.set("groups_annotation", t_7, true);
	if(frame.topLevel) {
	context.setVariable("groups_annotation", t_7);
	}
	if(frame.topLevel) {
	context.addExport("groups_annotation", t_7);
	}
	output += "\n\t\t";
	var t_8;
	t_8 = (function() {
	var output = "";
	output += "\n\t\t\t";
	output += "\n\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"In my Cloud Files"), true && env.opts.autoescape);
	output += "\n\t\t";
	;
	return output;
	})()
	;
	frame.set("cloudfiles_annotation", t_8, true);
	if(frame.topLevel) {
	context.setVariable("cloudfiles_annotation", t_8);
	}
	if(frame.topLevel) {
	context.addExport("cloudfiles_annotation", t_8);
	}
	output += "\n\t\t\n\t\t";
	output += runtime.suppressValue((lineno = 64, colno = 18, runtime.callWrap(runtime.memberLookup((t_1),"listItem"), "macros[\"listItem\"]", context, [runtime.contextOrFrameLookup(context, frame, "query"),runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "searchMethods")),"default"),"fa-search",runtime.makeKeywordArgs({"annotation": runtime.contextOrFrameLookup(context, frame, "default_annotation"),"includeUnderdrop": true})])), env.opts.autoescape);
	output += "\n\t\t";
	output += runtime.suppressValue((lineno = 65, colno = 18, runtime.callWrap(runtime.memberLookup((t_1),"listItem"), "macros[\"listItem\"]", context, [runtime.contextOrFrameLookup(context, frame, "query"),runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "searchMethods")),"map"),"fa-search",runtime.makeKeywordArgs({"annotation": runtime.contextOrFrameLookup(context, frame, "map_annotation"),"includeUnderdrop": true})])), env.opts.autoescape);
	output += "\n\t\t";
	output += runtime.suppressValue((lineno = 66, colno = 18, runtime.callWrap(runtime.memberLookup((t_1),"listItem"), "macros[\"listItem\"]", context, [runtime.contextOrFrameLookup(context, frame, "query"),runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "searchMethods")),"groups"),"fa-search",runtime.makeKeywordArgs({"annotation": runtime.contextOrFrameLookup(context, frame, "groups_annotation"),"includeUnderdrop": true})])), env.opts.autoescape);
	output += "\n\n\t\t";
	if(runtime.contextOrFrameLookup(context, frame, "cloudEnabled")) {
	output += "\n\t\t\t";
	output += runtime.suppressValue((lineno = 69, colno = 19, runtime.callWrap(runtime.memberLookup((t_1),"listItem"), "macros[\"listItem\"]", context, [runtime.contextOrFrameLookup(context, frame, "query"),runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "searchMethods")),"cloudfiles"),"fa-search",runtime.makeKeywordArgs({"annotation": runtime.contextOrFrameLookup(context, frame, "cloudfiles_annotation"),"includeUnderdrop": true})])), env.opts.autoescape);
	output += "\n\t\t";
	;
	}
	output += "\n\t\t\n\t\t";
	frame = frame.push();
	var t_11 = runtime.contextOrFrameLookup(context, frame, "topicsSearchMethods");
	if(t_11) {var t_9;
	if(runtime.isArray(t_11)) {
	var t_10 = t_11.length;
	for(t_9=0; t_9 < t_11.length; t_9++) {
	var t_12 = t_11[t_9][0]
	frame.set("topic_title", t_11[t_9][0]);
	var t_13 = t_11[t_9][1]
	frame.set("topic_url", t_11[t_9][1]);
	frame.set("loop.index", t_9 + 1);
	frame.set("loop.index0", t_9);
	frame.set("loop.revindex", t_10 - t_9);
	frame.set("loop.revindex0", t_10 - t_9 - 1);
	frame.set("loop.first", t_9 === 0);
	frame.set("loop.last", t_9 === t_10 - 1);
	frame.set("loop.length", t_10);
	output += "\n\t\t\t";
	var t_14;
	t_14 = (function() {
	var output = "";
	output += "\n\t\t\t\t";
	output += "\n\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Topic"), true && env.opts.autoescape);
	output += ": ";
	output += runtime.suppressValue(env.getFilter("safe").call(context, t_12), env.opts.autoescape);
	output += "\n\t\t\t";
	;
	return output;
	})()
	;
	frame.set("topic_label", t_14, true);
	if(frame.topLevel) {
	context.setVariable("topic_label", t_14);
	}
	if(frame.topLevel) {
	context.addExport("topic_label", t_14);
	}
	output += "\n\t\t\t";
	output += runtime.suppressValue((lineno = 77, colno = 19, runtime.callWrap(runtime.memberLookup((t_1),"listItem"), "macros[\"listItem\"]", context, [env.getFilter("safe").call(context, runtime.contextOrFrameLookup(context, frame, "topic_label")),t_13,"fa-filter",runtime.makeKeywordArgs({"includeUnderdrop": true})])), env.opts.autoescape);
	output += "\n\t\t";
	;
	}
	} else {
	t_9 = -1;
	var t_10 = runtime.keys(t_11).length;
	for(var t_15 in t_11) {
	t_9++;
	var t_16 = t_11[t_15];
	frame.set("topic_title", t_15);
	frame.set("topic_url", t_16);
	frame.set("loop.index", t_9 + 1);
	frame.set("loop.index0", t_9);
	frame.set("loop.revindex", t_10 - t_9);
	frame.set("loop.revindex0", t_10 - t_9 - 1);
	frame.set("loop.first", t_9 === 0);
	frame.set("loop.last", t_9 === t_10 - 1);
	frame.set("loop.length", t_10);
	output += "\n\t\t\t";
	var t_17;
	t_17 = (function() {
	var output = "";
	output += "\n\t\t\t\t";
	output += "\n\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Topic"), true && env.opts.autoescape);
	output += ": ";
	output += runtime.suppressValue(env.getFilter("safe").call(context, t_15), env.opts.autoescape);
	output += "\n\t\t\t";
	;
	return output;
	})()
	;
	frame.set("topic_label", t_17, true);
	if(frame.topLevel) {
	context.setVariable("topic_label", t_17);
	}
	if(frame.topLevel) {
	context.addExport("topic_label", t_17);
	}
	output += "\n\t\t\t";
	output += runtime.suppressValue((lineno = 77, colno = 19, runtime.callWrap(runtime.memberLookup((t_1),"listItem"), "macros[\"listItem\"]", context, [env.getFilter("safe").call(context, runtime.contextOrFrameLookup(context, frame, "topic_label")),t_16,"fa-filter",runtime.makeKeywordArgs({"includeUnderdrop": true})])), env.opts.autoescape);
	output += "\n\t\t";
	;
	}
	}
	}
	frame = frame.pop();
	output += " \n\n\t\t";
	frame = frame.push();
	var t_20 = runtime.contextOrFrameLookup(context, frame, "sdgSearchMethods");
	if(t_20) {var t_18;
	if(runtime.isArray(t_20)) {
	var t_19 = t_20.length;
	for(t_18=0; t_18 < t_20.length; t_18++) {
	var t_21 = t_20[t_18][0]
	frame.set("sdg_title", t_20[t_18][0]);
	var t_22 = t_20[t_18][1]
	frame.set("sdg_url", t_20[t_18][1]);
	frame.set("loop.index", t_18 + 1);
	frame.set("loop.index0", t_18);
	frame.set("loop.revindex", t_19 - t_18);
	frame.set("loop.revindex0", t_19 - t_18 - 1);
	frame.set("loop.first", t_18 === 0);
	frame.set("loop.last", t_18 === t_19 - 1);
	frame.set("loop.length", t_19);
	output += "\n\t\t\t";
	var t_23;
	t_23 = (function() {
	var output = "";
	output += "\n\t\t\t\t";
	output += "\n\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"SDG"), true && env.opts.autoescape);
	output += ": ";
	output += runtime.suppressValue(env.getFilter("safe").call(context, t_21), env.opts.autoescape);
	output += "\n\t\t\t";
	;
	return output;
	})()
	;
	frame.set("sdg_label", t_23, true);
	if(frame.topLevel) {
	context.setVariable("sdg_label", t_23);
	}
	if(frame.topLevel) {
	context.addExport("sdg_label", t_23);
	}
	output += "\n\t\t\t";
	output += runtime.suppressValue((lineno = 85, colno = 19, runtime.callWrap(runtime.memberLookup((t_1),"listItem"), "macros[\"listItem\"]", context, [env.getFilter("safe").call(context, runtime.contextOrFrameLookup(context, frame, "sdg_label")),t_22,"fa-filter",runtime.makeKeywordArgs({"includeUnderdrop": true})])), env.opts.autoescape);
	output += "\n\t\t";
	;
	}
	} else {
	t_18 = -1;
	var t_19 = runtime.keys(t_20).length;
	for(var t_24 in t_20) {
	t_18++;
	var t_25 = t_20[t_24];
	frame.set("sdg_title", t_24);
	frame.set("sdg_url", t_25);
	frame.set("loop.index", t_18 + 1);
	frame.set("loop.index0", t_18);
	frame.set("loop.revindex", t_19 - t_18);
	frame.set("loop.revindex0", t_19 - t_18 - 1);
	frame.set("loop.first", t_18 === 0);
	frame.set("loop.last", t_18 === t_19 - 1);
	frame.set("loop.length", t_19);
	output += "\n\t\t\t";
	var t_26;
	t_26 = (function() {
	var output = "";
	output += "\n\t\t\t\t";
	output += "\n\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"SDG"), true && env.opts.autoescape);
	output += ": ";
	output += runtime.suppressValue(env.getFilter("safe").call(context, t_24), env.opts.autoescape);
	output += "\n\t\t\t";
	;
	return output;
	})()
	;
	frame.set("sdg_label", t_26, true);
	if(frame.topLevel) {
	context.setVariable("sdg_label", t_26);
	}
	if(frame.topLevel) {
	context.addExport("sdg_label", t_26);
	}
	output += "\n\t\t\t";
	output += runtime.suppressValue((lineno = 85, colno = 19, runtime.callWrap(runtime.memberLookup((t_1),"listItem"), "macros[\"listItem\"]", context, [env.getFilter("safe").call(context, runtime.contextOrFrameLookup(context, frame, "sdg_label")),t_25,"fa-filter",runtime.makeKeywordArgs({"includeUnderdrop": true})])), env.opts.autoescape);
	output += "\n\t\t";
	;
	}
	}
	}
	frame = frame.pop();
	output += " \n\t\t\n\t\t";
	output += "\n\t\t";
	frame = frame.push();
	var t_29 = runtime.contextOrFrameLookup(context, frame, "quicksearchResults");
	if(t_29) {var t_28 = t_29.length;
	for(var t_27=0; t_27 < t_29.length; t_27++) {
	var t_30 = t_29[t_27];
	frame.set("item", t_30);
	frame.set("loop.index", t_27 + 1);
	frame.set("loop.index0", t_27);
	frame.set("loop.revindex", t_28 - t_27);
	frame.set("loop.revindex0", t_28 - t_27 - 1);
	frame.set("loop.first", t_27 === 0);
	frame.set("loop.last", t_27 === t_28 - 1);
	frame.set("loop.length", t_28);
	output += "\n\t\t\t";
	output += "\n\t\t\t";
	if(runtime.memberLookup((t_30),"icon") == "fa-cloud") {
	output += "\n\t\t\t\t";
	output += runtime.suppressValue((lineno = 92, colno = 20, runtime.callWrap(runtime.memberLookup((t_1),"listItem"), "macros[\"listItem\"]", context, [runtime.memberLookup((t_30),"text"),runtime.memberLookup((t_30),"url"),runtime.memberLookup((t_30),"icon"),runtime.makeKeywordArgs({"subtext": runtime.memberLookup((t_30),"subtext"),"annotation": runtime.memberLookup((t_30),"group"),"annotationIcon": runtime.memberLookup((t_30),"group_icon"),"includeUnderdrop": true})])), env.opts.autoescape);
	output += "\n\t\t\t";
	;
	}
	else {
	output += "\n\t\t\t\t";
	output += runtime.suppressValue((lineno = 94, colno = 20, runtime.callWrap(runtime.memberLookup((t_1),"listItem"), "macros[\"listItem\"]", context, [runtime.memberLookup((t_30),"text"),runtime.memberLookup((t_30),"url"),runtime.memberLookup((t_30),"icon"),runtime.makeKeywordArgs({"annotation": runtime.memberLookup((t_30),"group"),"annotationIcon": runtime.memberLookup((t_30),"group_icon"),"includeUnderdrop": true})])), env.opts.autoescape);
	output += "\n\t\t\t";
	;
	}
	output += "\n\t\t";
	;
	}
	}
	frame = frame.pop();
	output += "\n\t";
	;
	}
	output += "\n</ul>\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/navbar/quicksearch.html"] , dependencies)

/***/ }),
/* 48 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var BaseView = __webpack_require__(4);
	var util = __webpack_require__(5);
	
	module.exports = BaseView.extend({
	    
	    // reference back to the main App
	    app: null,
	    
	    template: __webpack_require__(49),
	    
	    // The DOM events specific to an item.
	    events: {
	    },
	    
	    defaults: {
	
	        state: {
	            
	        }
	    },
	
	    initialize: function (options, app) {
	        var self = this;
	        self.app = app;
	        BaseView.prototype.initialize.call(self, options);
	        // decode the `contextDataJSON` that got passed by the app.js init call as HTML encoded strings 
	        for (var datakey in self.options.contextDataJSON) {
	        	self.options[datakey] = JSON.parse($("<textarea/>").html(self.options.contextDataJSON[datakey]).text());
	        }
	        for (var datakey in self.options.contextData) {
	        	self.options[datakey] = self.options.contextData[datakey];
	        }
	        
	    },
	
	    render: function () {
	        var self = this;
	        BaseView.prototype.render.call(self);
	        util.log('*** Rendered navbar main menu! ***')
	        $.cosinnus.renderMomentDataDate();
	        return self;
	    },
	    
	    /** Extend the template data by the controlView's options and state */
	    getTemplateData: function () {
	        var self = this;
	        var data = BaseView.prototype.getTemplateData.call(self);
	        return data;
	    },
	    
	    
	});


/***/ }),
/* 49 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/navbar/main-menu.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	output += runtime.suppressValue(env.getExtension("passThrough")["run"](context,runtime.contextOrFrameLookup(context, frame, "i18n")), true && env.opts.autoescape);
	output += "\n";
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/navbar/main-menu.html", false, function(t_2,t_1) {
	if(t_2) { cb(t_2); return; }
	t_1.getExported(function(t_3,t_1) {
	if(t_3) { cb(t_3); return; }
	context.setVariable("macros", t_1);
	output += "\n\n<div class=\"main-menu\">\n\t<div class=\"nav-column\">\n\t\t\n\t\t";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "groups_invited")) > 0) {
	output += "\n\t\t\t<h2 class=\"headline headline-condensed\">\n\t\t\t\t";
	output += "\n\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Invitations"), true && env.opts.autoescape);
	output += " (";
	output += runtime.suppressValue(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "groups_invited")), env.opts.autoescape);
	output += ")\n\t\t\t</h2>\n\t\t\n\t\t\t<ul class=\"item-list\">\n\t\t\t\t";
	frame = frame.push();
	var t_6 = runtime.contextOrFrameLookup(context, frame, "groups_invited");
	if(t_6) {var t_5 = t_6.length;
	for(var t_4=0; t_4 < t_6.length; t_4++) {
	var t_7 = t_6[t_4];
	frame.set("item", t_7);
	frame.set("loop.index", t_4 + 1);
	frame.set("loop.index0", t_4);
	frame.set("loop.revindex", t_5 - t_4);
	frame.set("loop.revindex0", t_5 - t_4 - 1);
	frame.set("loop.first", t_4 === 0);
	frame.set("loop.last", t_4 === t_5 - 1);
	frame.set("loop.length", t_5);
	output += "\n\t\t\t\t\t";
	output += runtime.suppressValue((lineno = 14, colno = 21, runtime.callWrap(runtime.memberLookup((t_1),"listItem"), "macros[\"listItem\"]", context, [runtime.memberLookup((t_7),"text"),runtime.memberLookup((t_7),"url"),runtime.memberLookup((t_7),"icon"),runtime.makeKeywordArgs({"is_emphasized": runtime.memberLookup((t_7),"is_emphasized")})])), env.opts.autoescape);
	output += "\n\t\t\t\t";
	;
	}
	}
	frame = frame.pop();
	output += "\n\t\t\t</ul>\n\t\t\t\n\t\t\t<hr>\n\t\t";
	;
	}
	output += "\n\t\t\n\t\t";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "group_requests")) > 0) {
	output += "\n\t\t\t<h2 class=\"headline headline-condensed\">\n\t\t\t\t";
	output += "\n\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Membership Requests"), true && env.opts.autoescape);
	output += " (";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "group_requests_count"), env.opts.autoescape);
	output += ")\n\t\t\t</h2>\n\t\t\n\t\t\t<ul class=\"item-list\">\n\t\t\t\t";
	frame = frame.push();
	var t_10 = runtime.contextOrFrameLookup(context, frame, "group_requests");
	if(t_10) {var t_9 = t_10.length;
	for(var t_8=0; t_8 < t_10.length; t_8++) {
	var t_11 = t_10[t_8];
	frame.set("item", t_11);
	frame.set("loop.index", t_8 + 1);
	frame.set("loop.index0", t_8);
	frame.set("loop.revindex", t_9 - t_8);
	frame.set("loop.revindex0", t_9 - t_8 - 1);
	frame.set("loop.first", t_8 === 0);
	frame.set("loop.last", t_8 === t_9 - 1);
	frame.set("loop.length", t_9);
	output += "\n\t\t\t\t\t";
	output += runtime.suppressValue((lineno = 29, colno = 21, runtime.callWrap(runtime.memberLookup((t_1),"listItem"), "macros[\"listItem\"]", context, [runtime.memberLookup((t_11),"text"),runtime.memberLookup((t_11),"url"),runtime.memberLookup((t_11),"icon"),runtime.makeKeywordArgs({"is_emphasized": runtime.memberLookup((t_11),"is_emphasized")})])), env.opts.autoescape);
	output += "\n\t\t\t\t";
	;
	}
	}
	frame = frame.pop();
	output += "\n\t\t\t</ul>\n\t\t\t\n\t\t\t<hr>\n\t\t";
	;
	}
	output += "\n\n\t\t";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "conference_requests")) > 0) {
	output += "\n\t\t\t<h2 class=\"headline headline-condensed\">\n\t\t\t\t";
	output += "\n\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Conference Applications"), true && env.opts.autoescape);
	output += " (";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "conference_requests_count"), env.opts.autoescape);
	output += ")\n\t\t\t</h2>\n\t\t\n\t\t\t<ul class=\"item-list\">\n\t\t\t\t";
	frame = frame.push();
	var t_14 = runtime.contextOrFrameLookup(context, frame, "conference_requests");
	if(t_14) {var t_13 = t_14.length;
	for(var t_12=0; t_12 < t_14.length; t_12++) {
	var t_15 = t_14[t_12];
	frame.set("item", t_15);
	frame.set("loop.index", t_12 + 1);
	frame.set("loop.index0", t_12);
	frame.set("loop.revindex", t_13 - t_12);
	frame.set("loop.revindex0", t_13 - t_12 - 1);
	frame.set("loop.first", t_12 === 0);
	frame.set("loop.last", t_12 === t_13 - 1);
	frame.set("loop.length", t_13);
	output += "\n\t\t\t\t\t";
	output += runtime.suppressValue((lineno = 44, colno = 21, runtime.callWrap(runtime.memberLookup((t_1),"listItem"), "macros[\"listItem\"]", context, [runtime.memberLookup((t_15),"text"),runtime.memberLookup((t_15),"url"),runtime.memberLookup((t_15),"icon"),runtime.makeKeywordArgs({"is_emphasized": runtime.memberLookup((t_15),"is_emphasized")})])), env.opts.autoescape);
	output += "\n\t\t\t\t";
	;
	}
	}
	frame = frame.pop();
	output += "\n\t\t\t</ul>\n\t\t\t\n\t\t\t<hr>\n\t\t";
	;
	}
	output += "\n\t\t\n\t\t<h2 class=\"headline headline-condensed\">\n\t\t\t";
	output += "\n\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"My Groups and Projects"), true && env.opts.autoescape);
	output += "\n\t\t</h2>\n\t\t\n\t\t<ul class=\"item-list\">\n\t\t\t";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "group_clusters")) > 0) {
	output += "\n\t\t\t\t";
	frame = frame.push();
	var t_18 = runtime.contextOrFrameLookup(context, frame, "group_clusters");
	if(t_18) {var t_17 = t_18.length;
	for(var t_16=0; t_16 < t_18.length; t_16++) {
	var t_19 = t_18[t_16];
	frame.set("cluster", t_19);
	frame.set("loop.index", t_16 + 1);
	frame.set("loop.index0", t_16);
	frame.set("loop.revindex", t_17 - t_16);
	frame.set("loop.revindex0", t_17 - t_16 - 1);
	frame.set("loop.first", t_16 === 0);
	frame.set("loop.last", t_16 === t_17 - 1);
	frame.set("loop.length", t_17);
	output += "\n\t\t\t\t\t";
	frame = frame.push();
	var t_22 = t_19;
	if(t_22) {var t_21 = t_22.length;
	for(var t_20=0; t_20 < t_22.length; t_20++) {
	var t_23 = t_22[t_20];
	frame.set("item", t_23);
	frame.set("loop.index", t_20 + 1);
	frame.set("loop.index0", t_20);
	frame.set("loop.revindex", t_21 - t_20);
	frame.set("loop.revindex0", t_21 - t_20 - 1);
	frame.set("loop.first", t_20 === 0);
	frame.set("loop.last", t_20 === t_21 - 1);
	frame.set("loop.length", t_21);
	output += "\n\t\t\t\t\t\t";
	if(runtime.memberLookup((t_23),"hasmorelink")) {
	output += "\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<a class=\"list-item list-item-link\" href=\"#\" role=\"button\" titledby=\".item-text\"> \n\t\t\t\t\t\t\t\t\t<div id=\"more-link1\" class=\"item-text\">\n\t\t\t\t\t\t                ";
	output += "\n\t\t\t\t\t\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Show more Projects of this Group"), true && env.opts.autoescape);
	output += "\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t";
	;
	}
	else {
	output += "\n\t\t\t\t\t\t\t";
	output += runtime.suppressValue((lineno = 70, colno = 23, runtime.callWrap(runtime.memberLookup((t_1),"listItem"), "macros[\"listItem\"]", context, [runtime.memberLookup((t_23),"text"),runtime.memberLookup((t_23),"url"),runtime.memberLookup((t_23),"icon"),runtime.makeKeywordArgs({"is_emphasized": runtime.memberLookup((t_23),"is_emphasized")})])), env.opts.autoescape);
	output += "\n\t\t\t\t\t\t";
	;
	}
	output += "\n\t\t\t\t\t";
	;
	}
	}
	frame = frame.pop();
	output += "\n\t\t\t\t\n\t\t\t\t\t";
	if(!runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "loop")),"last")) {
	output += "\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<hr>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t";
	;
	}
	output += "\n\t\t\t\t";
	;
	}
	}
	frame = frame.pop();
	output += "\n\t\t\t";
	;
	}
	else {
	output += "\n\t\t\t\t<li>\n\t\t\t\t\t<span class=\"list-item list-item-link no-select\" href=\"#\" role=\"button\" titledby=\".item-text\"> \n\t\t\t    \t\t<div class=\"item-text\">\n\t\t\t                ";
	output += "\n\t\t\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"You are not in any groups or projects yet"), true && env.opts.autoescape);
	output += "\n\t\t\t    \t\t</div>\n\t\t\t\t\t</span>\n\t\t\t\t</li>\n\t\t\t";
	;
	}
	output += "\n\t\t</ul>\n\t\t\n\t\t<hr>\n\t\t\n\t\t<div class=\"main-menu-links\">\n\t\t    ";
	if(runtime.contextOrFrameLookup(context, frame, "COSINNUS_SHOW_PROJECT_AND_GROUP_CREATE_BUTTONS")) {
	output += "\n\t\t\t\t<div><a href=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "group_add_url"), env.opts.autoescape);
	output += "\">\n\t\t\t\t\t";
	output += "\n\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Create new Group"), true && env.opts.autoescape);
	output += "\n\t\t\t\t</a></div>\n\t\t\t\t<div><a href=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "project_add_url"), env.opts.autoescape);
	output += "\">\n\t\t\t\t\t";
	output += "\n\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Create new Project"), true && env.opts.autoescape);
	output += " \n\t\t\t\t</a></div>\n\t\t\t";
	;
	}
	output += "\n\t\t\t<div><a href=\"/groups/\">\n\t\t\t\t";
	output += "\n\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Browse all Groups"), true && env.opts.autoescape);
	output += " \n\t\t\t</a></div>\n\t\t\t<div><a href=\"/projects/\">\n\t\t\t\t";
	output += "\n\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Browse all Projects"), true && env.opts.autoescape);
	output += " \n\t\t\t</a></div>\n\t\t</div>\n\t</div>\n\t\n\t";
	if(runtime.contextOrFrameLookup(context, frame, "COSINNUS_CONFERENCES_ENABLED") || runtime.contextOrFrameLookup(context, frame, "COSINNUS_IDEAS_ENABLED") || runtime.contextOrFrameLookup(context, frame, "COSINNUS_ORGANIZATIONS_ENABLED")) {
	output += "\n\t<div class=\"nav-column\">\n\t    ";
	if(runtime.contextOrFrameLookup(context, frame, "COSINNUS_CONFERENCES_ENABLED")) {
	output += "\n\t        <h2 class=\"headline headline-condensed\">\n\t\t\t    ";
	output += runtime.suppressValue(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")),"COSINNUS_TRANS_MY_CONFERENCES"), env.opts.autoescape);
	output += "\n\t        </h2>\n\t        \n\t        <ul class=\"item-list\">\n\t            ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "my_conferences"))) {
	output += "\n\t                ";
	frame = frame.push();
	var t_26 = runtime.contextOrFrameLookup(context, frame, "my_conferences");
	if(t_26) {var t_25 = t_26.length;
	for(var t_24=0; t_24 < t_26.length; t_24++) {
	var t_27 = t_26[t_24];
	frame.set("item", t_27);
	frame.set("loop.index", t_24 + 1);
	frame.set("loop.index0", t_24);
	frame.set("loop.revindex", t_25 - t_24);
	frame.set("loop.revindex0", t_25 - t_24 - 1);
	frame.set("loop.first", t_24 === 0);
	frame.set("loop.last", t_24 === t_25 - 1);
	frame.set("loop.length", t_25);
	output += "\n\t                    ";
	output += runtime.suppressValue((lineno = 126, colno = 37, runtime.callWrap(runtime.memberLookup((t_1),"listItem"), "macros[\"listItem\"]", context, [runtime.memberLookup((t_27),"text"),runtime.memberLookup((t_27),"url"),runtime.memberLookup((t_27),"icon"),runtime.makeKeywordArgs({"is_emphasized": runtime.memberLookup((t_27),"is_emphasized")})])), env.opts.autoescape);
	output += "\n\t                ";
	;
	}
	}
	frame = frame.pop();
	output += "\n\t            ";
	;
	}
	else {
	output += "\n\t                <li>\n\t                    <span class=\"list-item list-item-link no-select\" href=\"#\" role=\"button\" titledby=\".item-text\">\n\t                        <div class=\"item-text\">\n\t                            ";
	output += runtime.suppressValue(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")),"COSINNUS_TRANS_MY_CONFERENCES_EMPTY"), env.opts.autoescape);
	output += "\n\t                        </div>\n\t                    </span>\n\t                </li>    \n\t\t        ";
	;
	}
	output += "\n\t        </ul>\n\t            \n\t        <hr>\n\t        ";
	if(runtime.contextOrFrameLookup(context, frame, "COSINNUS_USER_CAN_CREATE_CONFERENCE")) {
	output += "\n\t           <div class=\"main-menu-links\">\n\t\t           <div><a href=\"/conferences/add/\">\n\t                    ";
	output += runtime.suppressValue(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")),"COSINNUS_TRANS_CREATE_CONFERENCE"), env.opts.autoescape);
	output += " \n\t                </a></div>\n                </div>\n            ";
	;
	}
	output += "\n            <div class=\"main-menu-links\">\n                <div><a href=\"/conferences/\">\n                    ";
	output += runtime.suppressValue(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "COSINNUS_TRANS")),"COSINNUS_TRANS_BROWSE_ALL_CONFERENCES"), env.opts.autoescape);
	output += "\n                </a></div>\n            </div>\n            \n            ";
	if(runtime.contextOrFrameLookup(context, frame, "COSINNUS_ORGANIZATIONS_ENABLED") || runtime.contextOrFrameLookup(context, frame, "COSINNUS_IDEAS_ENABLED")) {
	output += "\n            <hr>\n            ";
	;
	}
	output += "\n        ";
	;
	}
	output += "\n\t\n\t\t";
	if(runtime.contextOrFrameLookup(context, frame, "COSINNUS_ORGANIZATIONS_ENABLED")) {
	output += "\n\t\t\t<h2 class=\"headline headline-condensed\">\n\t\t\t\t";
	output += "\n\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"My Organizations"), true && env.opts.autoescape);
	output += "\n\t\t\t</h2>\n\t\t    <ul class=\"item-list\">\n\t\t\t";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "my_organizations"))) {
	output += "\n\t\t\t\t";
	frame = frame.push();
	var t_30 = runtime.contextOrFrameLookup(context, frame, "my_organizations");
	if(t_30) {var t_29 = t_30.length;
	for(var t_28=0; t_28 < t_30.length; t_28++) {
	var t_31 = t_30[t_28];
	frame.set("item", t_31);
	frame.set("loop.index", t_28 + 1);
	frame.set("loop.index0", t_28);
	frame.set("loop.revindex", t_29 - t_28);
	frame.set("loop.revindex0", t_29 - t_28 - 1);
	frame.set("loop.first", t_28 === 0);
	frame.set("loop.last", t_28 === t_29 - 1);
	frame.set("loop.length", t_29);
	output += "\n\t\t\t\t\t";
	output += runtime.suppressValue((lineno = 166, colno = 21, runtime.callWrap(runtime.memberLookup((t_1),"listItem"), "macros[\"listItem\"]", context, [runtime.memberLookup((t_31),"text"),runtime.memberLookup((t_31),"url"),runtime.memberLookup((t_31),"icon"),runtime.makeKeywordArgs({"is_emphasized": runtime.memberLookup((t_31),"is_emphasized")})])), env.opts.autoescape);
	output += "\n\t\t\t\t";
	;
	}
	}
	frame = frame.pop();
	output += "\n\t\t\t";
	;
	}
	else {
	output += "\n\t\t\t\t<li>\n\t\t\t\t\t<span class=\"list-item list-item-link no-select\" href=\"#\" role=\"button\" titledby=\".item-text\">\n\t\t\t\t\t\t<div class=\"item-text\">\n\t\t\t\t\t\t\t";
	output += "\n\t\t\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"You have not created any organizations yet."), true && env.opts.autoescape);
	output += "\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</span>\n\t\t\t\t</li>\n\t\t\t";
	;
	}
	output += "\n\t\t\t</ul>\n\t\t\t<hr>\n\t\t\t\n\t\t\t<div class=\"main-menu-links\">\n\t\t\t\t<div><a href=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "organization_add_url"), env.opts.autoescape);
	output += "\">\n\t\t\t\t\t";
	output += "\n\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Create new Organization"), true && env.opts.autoescape);
	output += " \n\t\t\t\t</a></div>\n\t\t\t\t<div><a href=\"/organizations/\">\n\t\t\t\t\t";
	output += "\n\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Browse all Organizations"), true && env.opts.autoescape);
	output += " \n\t\t\t\t</a></div>\n\t\t\t\t<div style=\"display:none;\"><a href=\"/map/?people=false&events=false&projects=false&groups=false&ideas=false&organizations=true\">\n\t\t\t\t\t";
	output += "\n\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Search for Organizations"), true && env.opts.autoescape);
	output += " \n\t\t\t\t</a></div>\n\t\t\t</div>\n\t\t\t\n\t\t\t";
	if(runtime.contextOrFrameLookup(context, frame, "COSINNUS_IDEAS_ENABLED")) {
	output += "\n\t\t\t<hr>\n\t\t\t";
	;
	}
	output += "\n\t\t";
	;
	}
	output += "\n\t\t\n\t\t";
	if(runtime.contextOrFrameLookup(context, frame, "COSINNUS_IDEAS_ENABLED")) {
	output += "\n\t\t\t<h2 class=\"headline headline-condensed\">\n\t\t\t\t";
	output += "\n\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Ideas I am following"), true && env.opts.autoescape);
	output += "\n\t\t\t</h2>\n\t\t\t\n\t\t\t<ul class=\"item-list\">\n\t\t\t\t";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "followed_ideas")) > 0) {
	output += "\n\t\t\t\t\t";
	frame = frame.push();
	var t_34 = runtime.contextOrFrameLookup(context, frame, "followed_ideas");
	if(t_34) {var t_33 = t_34.length;
	for(var t_32=0; t_32 < t_34.length; t_32++) {
	var t_35 = t_34[t_32];
	frame.set("item", t_35);
	frame.set("loop.index", t_32 + 1);
	frame.set("loop.index0", t_32);
	frame.set("loop.revindex", t_33 - t_32);
	frame.set("loop.revindex0", t_33 - t_32 - 1);
	frame.set("loop.first", t_32 === 0);
	frame.set("loop.last", t_32 === t_33 - 1);
	frame.set("loop.length", t_33);
	output += "\n\t\t\t\t\t\t";
	output += runtime.suppressValue((lineno = 210, colno = 22, runtime.callWrap(runtime.memberLookup((t_1),"listItem"), "macros[\"listItem\"]", context, [runtime.memberLookup((t_35),"text"),runtime.memberLookup((t_35),"url"),runtime.memberLookup((t_35),"icon"),runtime.makeKeywordArgs({"is_emphasized": runtime.memberLookup((t_35),"is_emphasized")})])), env.opts.autoescape);
	output += "\n\t\t\t\t\t";
	;
	}
	}
	frame = frame.pop();
	output += "\n\t\t\t\t";
	;
	}
	else {
	output += "\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<span class=\"list-item list-item-link no-select\" href=\"#\" role=\"button\" titledby=\".item-text\"> \n\t\t\t\t    \t\t<div class=\"item-text\">\n\t\t\t\t                ";
	output += "\n\t\t\t\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"You are not following any ideas yet."), true && env.opts.autoescape);
	output += "\n\t\t\t\t    \t\t</div>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</li>\n\t\t\t\t";
	;
	}
	output += "\n\t\t\t</ul>\n\t\t\t\n\t\t\t<hr>\n\t\t\t\n\t\t\t";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "my_ideas"))) {
	output += "\n\t\t\t\t<h2 class=\"headline headline-condensed\">\n\t\t\t\t\t";
	output += "\n\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"My Ideas"), true && env.opts.autoescape);
	output += "\n\t\t\t\t</h2>\n\t\t\t\t<ul class=\"item-list\">\n\t\t\t\t\t";
	frame = frame.push();
	var t_38 = runtime.contextOrFrameLookup(context, frame, "my_ideas");
	if(t_38) {var t_37 = t_38.length;
	for(var t_36=0; t_36 < t_38.length; t_36++) {
	var t_39 = t_38[t_36];
	frame.set("item", t_39);
	frame.set("loop.index", t_36 + 1);
	frame.set("loop.index0", t_36);
	frame.set("loop.revindex", t_37 - t_36);
	frame.set("loop.revindex0", t_37 - t_36 - 1);
	frame.set("loop.first", t_36 === 0);
	frame.set("loop.last", t_36 === t_37 - 1);
	frame.set("loop.length", t_37);
	output += "\n\t\t\t\t\t\t";
	output += runtime.suppressValue((lineno = 233, colno = 22, runtime.callWrap(runtime.memberLookup((t_1),"listItem"), "macros[\"listItem\"]", context, [runtime.memberLookup((t_39),"text"),runtime.memberLookup((t_39),"url"),runtime.memberLookup((t_39),"icon"),runtime.makeKeywordArgs({"is_emphasized": runtime.memberLookup((t_39),"is_emphasized")})])), env.opts.autoescape);
	output += "\n\t\t\t\t\t";
	;
	}
	}
	frame = frame.pop();
	output += "\n\t\t\t\t</ul>\n\t\t\t\t<hr>\n\t\t\t";
	;
	}
	output += "\n\t\t\t\n\t\t\t<div class=\"main-menu-links\">\n\t\t\t\t<div><a href=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "idea_add_url"), env.opts.autoescape);
	output += "\">\n\t\t\t\t\t";
	output += "\n\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Post new Idea"), true && env.opts.autoescape);
	output += " \n\t\t\t\t</a></div>\n\t\t\t\t<div><a href=\"/ideas/\">\n\t\t\t\t\t";
	output += "\n\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Browse all Ideas"), true && env.opts.autoescape);
	output += " \n\t\t\t\t</a></div>\n\t\t\t\t<div style=\"display:none;\"><a href=\"/map/?people=false&events=false&projects=false&groups=false&conferences=false&ideas=true&organizations=false\">\n\t\t\t\t\t";
	output += "\n\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Search for Ideas"), true && env.opts.autoescape);
	output += " \n\t\t\t\t</a></div>\n\t\t\t</div>\n\t\t";
	;
	}
	output += "\n\t\t\n\t</div>\n\t";
	;
	}
	output += "\n\t\n\t<div class=\"nav-column\">\n\t\t<h2 class=\"headline headline-condensed\">\n\t\t\t";
	output += "\n\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"My Events"), true && env.opts.autoescape);
	output += "\n\t\t</h2>\n\t\t\n\t\t<ul class=\"item-list\">\n\t\t\t";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "attending_events")) > 0) {
	output += "\n\t\t\t\t";
	frame = frame.push();
	var t_42 = runtime.contextOrFrameLookup(context, frame, "attending_events");
	if(t_42) {var t_41 = t_42.length;
	for(var t_40=0; t_40 < t_42.length; t_40++) {
	var t_43 = t_42[t_40];
	frame.set("item", t_43);
	frame.set("loop.index", t_40 + 1);
	frame.set("loop.index0", t_40);
	frame.set("loop.revindex", t_41 - t_40);
	frame.set("loop.revindex0", t_41 - t_40 - 1);
	frame.set("loop.first", t_40 === 0);
	frame.set("loop.last", t_40 === t_41 - 1);
	frame.set("loop.length", t_41);
	output += "\n\t\t\t\t\t";
	output += runtime.suppressValue((lineno = 267, colno = 21, runtime.callWrap(runtime.memberLookup((t_1),"listItem"), "macros[\"listItem\"]", context, [runtime.memberLookup((t_43),"text"),runtime.memberLookup((t_43),"url"),runtime.memberLookup((t_43),"icon"),runtime.makeKeywordArgs({"subtext": runtime.memberLookup((t_43),"subtext"),"is_emphasized": runtime.memberLookup((t_43),"is_emphasized")})])), env.opts.autoescape);
	output += "\n\t\t\t\t";
	;
	}
	}
	frame = frame.pop();
	output += "\n\t\t\t";
	;
	}
	else {
	output += "\n\t\t\t\t<li>\n\t\t\t\t\t<span class=\"list-item list-item-link no-select\" href=\"#\" role=\"button\" titledby=\".item-text\"> \n\t\t\t    \t\t<div class=\"item-text\">\n\t\t\t                ";
	output += "\n\t\t\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"You have not RSVPed to any Events."), true && env.opts.autoescape);
	output += "\n\t\t\t    \t\t</div>\n\t\t\t\t\t</span>\n\t\t\t\t</li>\n\t\t\t";
	;
	}
	output += "\n\t\t</ul>\n\t\t\n\t\t";
	if(runtime.contextOrFrameLookup(context, frame, "event_add_url") || runtime.contextOrFrameLookup(context, frame, "event_calendar_url")) {
	output += "\n\t\t\t<hr>\n\t\t\t\n\t\t\t<div class=\"main-menu-links\">\n\t\t\t    ";
	if(runtime.contextOrFrameLookup(context, frame, "event_add_url")) {
	output += "\n\t\t\t\t\t<div><a href=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "event_add_url"), env.opts.autoescape);
	output += "\">\n\t\t\t\t\t\t";
	output += "\n\t\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Add Event"), true && env.opts.autoescape);
	output += " \n\t\t\t\t\t</a></div>\n\t            ";
	;
	}
	output += "\n\t\t\t\t";
	if(runtime.contextOrFrameLookup(context, frame, "event_calendar_url")) {
	output += "\n\t\t\t\t\t<div><a href=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "event_calendar_url"), env.opts.autoescape);
	output += "\">\n\t\t\t\t\t\t";
	output += "\n\t\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Go to Calendar"), true && env.opts.autoescape);
	output += " \n\t\t\t\t\t</a></div>\n\t            ";
	;
	}
	output += "\n\t\t\t</div>\n\t\t";
	;
	}
	output += "\n\t\t\n\t</div>\n</div>";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/navbar/main-menu.html"] , dependencies)

/***/ }),
/* 50 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var DelegatedWidgetView = __webpack_require__(51);
	var util = __webpack_require__(5);
	
	module.exports = DelegatedWidgetView.extend({
	
		app: null,
	    template: __webpack_require__(52),
	    
	    fetchURL: '/profile/api/alerts/get/', // overridden for subview
	    
	    // the notification-show button in the navbar
	    $notificationButtonEl: null,
	    
	    // the messages-show button in the navbar
	    $messagesButtonEl: null,
	    
	    // the setTimeout object
		pollIntervalObj: null,
		
	    // will be set to self.options during initialization
	    defaults: {
	    	
	    	type: null, // the type of the content the widget displays
	    	loadMoreEnabled: true, // widget template options
	    	
	    	pollInterval: 60000, // polling interval in ms
	    	
	    	// for resumed connections, after how minutes of *not having polled*,
	    	// will the entire widget be reloaded instead of polling new data 
	    	pollResetMinutes: 60, // reset interval in minutes
	        
	        state: {
	            newestTimestamp: null,
	            unseenCount: 0,
	            hasUnrenderedItems: true,
	            lastPollDate: null,
	            originalPageTitle: null,
	        }
	    },
	    
	    // The DOM events specific to an item.
	    events: {
	    	'click .show-more': 'onShowMoreClicked',
	    },
	    
	    initialize: function (options, app) {
	        var self = this;
	        self.app = app;
	        DelegatedWidgetView.prototype.initialize.call(self, options);
	        self.options.type = options.type; // would have happened in initialize already but let's be explicit
	        
	        self.$notificationButtonEl = $('#navbar-notifications-button');
	        self.$messagesButtonEl = $('#navbar-messages-button');
	        
	        // events that have to be defined here because they happen in the notification button:
	        self.$notificationButtonEl.on('click', self.thisContext(self.onNotificationButtonClicked));
	        
	        self.state.originalPageTitle = document.title;
	    },
	    
	    /** Overriding base function for unique widget ID. */
	    getWidgetId: function() {
	        return 'notification-widget';
	    },
	    
	    /** Overriding params for request */
	    getParamsForFetchRequest: function(loadOptions) {
	    	var self = this;
	    	if (typeof loadOptions !== "undefined" && loadOptions.isPoll == true) {
	            return {
	                urlSuffix: self.state.newestTimestamp,
	                urlParams: null
	            };
	    	}
	    	var urlParams = null;
	        if (self.options.loadMoreEnabled && self.state.offsetTimestamp) {
	            urlParams = {
	                'offset_timestamp': self.state.offsetTimestamp,
	            }
	        }
	        return {
	            urlSuffix: null,
	            urlParams: urlParams,
	        }
	    },
	    
	    /** Handles data that has been loaded.
	        We are *not* calling super() here! */
	    handleData: function (response) {
	        var self = this;
	        var data = response['data'];
	        
	        if (data.polled_timestamp) {
	            // was a poll query. prepend new items before existing items
	            if (data['items'].length > 0) {
	                self.addNewerItems(data['items']);
	                self.state.hasUnrenderedItems = true;                
	            }
	        } else if (self.state.offsetTimestamp) {
	            // was a load-more query. append new items to existing items
	            Array.prototype.push.apply(self.widgetData['items'], data['items']);
	            // always set true, so we re-render always (make the load-more button disappear on 0 new items) 
	            self.state.hasUnrenderedItems = true; 
	        } else {
	            // first data load query, set data and init polling
	            self.widgetData = data;
	            self.state.hasUnrenderedItems = true;
	            self.initPoll();
	        }
	        
	        if (!data.polled_timestamp && self.options.loadMoreEnabled) {
	            if ('has_more' in data) {
	                self.state.hasMore = data['has_more'];
	            }
	            if ('offset_timestamp' in data && data['offset_timestamp']) {
	                self.state.offsetTimestamp = data['offset_timestamp'];
	            }
	        }
	        
	        // if given, set the timestamp of the newest item, from which on we will poll
	        if (data['newest_timestamp'] !== "undefined" && data['newest_timestamp']) {
	            self.state.newestTimestamp = data['newest_timestamp'];
	        }
	        var counterNumbers = false;
	        if (data['unseen_count'] !== "undefined" && data['unseen_count'] >= 0) {
	            self.state.unseenCount = data['unseen_count'];
	            counterNumbers = true;
	        }
	        if (data['unread_messages_count'] !== "undefined" && data['unread_messages_count'] >= 0) {
	            self.state.unreadMessagesCount = data['unread_messages_count'];
	            counterNumbers = true;
	        }
	        if (counterNumbers == true) {
	            self.afterRender();
	            self.updatePageTitle();
	        }
	    },
	    
	    /** Prepends the given items to the existing items, eg. after a poll event.
	        This will remove any existing items with the same id as any of the new items
	        (in this case they were refreshed on the server) */
	    addNewerItems: function (items) {
	        var self = this;
	        var oldItems = self.widgetData['items'];
	        // remove same-id old items
	        for (var i=oldItems.length-1; i >= 0; i--) {
	            var oldItemId = oldItems[i].id;
	            var contained = false;
	            for (var j=0; j < items.length; j++) {
	                if (items[j].id == oldItemId) {
	                    contained = true;
	                    break;
	                }
	            }
	            if (contained) {
	                oldItems.splice(i, 1);
	            }            
	        }
	        Array.prototype.push.apply(items, oldItems)
	        self.widgetData['items'] = items;
	    },
	    
	    /** Initialize polling */
	    initPoll: function () {
	        var self = this;
	        if (self.pollIntervalObj == null) {
	            self.pollIntervalObj = setTimeout(self.thisContext(self.pollFunction), self.options.pollInterval);
	        }
	    },
	    
	    /** Target interval function for each poll */
	    pollFunction: function () {
	        var self = this;
	        var reload = false;
	        // find out if this window has been a long time since last poll,
	        // and if so, reload the widget instead of polling
	        if (self.state.lastPollDate !== null) {
	            var diff = Math.abs(self.state.lastPollDate - new Date());
	            var minutes = Math.floor((diff/1000)/60);
	            reload = minutes >= self.options.pollResetMinutes;
	        }
	        if (reload) {
	            self.reloadWidget();  
	        } else {
	            // retrieve new items. if any, self.handleData() will handle the poll differently
	            self.load({
	                'isPoll': true
	            });
	            self.state.lastPollDate = new Date();
	            // renew poll
	            self.pollIntervalObj = setTimeout(self.thisContext(self.pollFunction), self.options.pollInterval);
	        }
	    },
	    
	    /** Stops polling */
	    stopPoll: function () {
	        var self = this;
	        clearTimeout(self.pollIntervalObj);
	        self.pollIntervalObj = null;
	    },
	    
	    /** Reloads the entire widget anew, with fresh data */
	    reloadWidget: function () {
	        var self = this;
	        self.stopPoll();
	        self.state.offsetTimestamp = null;  
	        self.state.newestTimestamp = null;
	        self.state.unseenCount = 0;
	        self.state.unreadMessagesCount = 0;
	        self.state.lastPollDate = null;
	        self.load();
	    },
	    
	    render: function () {
	        var self = this;
	        
	        // only render items if we have unrendered items (ie. not on a poll with 0 new items)
	        if (self.state.hasUnrenderedItems) {
	            self.state.hasUnrenderedItems = false;
	            DelegatedWidgetView.prototype.render.call(self);
	            util.log('# ## Rendered notification widget ' + self.widgetId);
	        }
	        // piggybacking on this poll, we refresh the moment dates on the entire page!
	        $.cosinnus.renderMomentDataDate();
	        return self;
	    },
	    
	    afterRender: function () {
	        var self = this;
	        // update out-of-frame elements
	        if (self.state.unseenCount && self.state.unseenCount > 0) {
	            self.$notificationButtonEl.find('.message-counter').text(self.state.unseenCount).show();
	        } else {
	            self.$notificationButtonEl.find('.message-counter').hide();
	        }
	        if (self.state.unreadMessagesCount && self.state.unreadMessagesCount > 0) {
	            self.$messagesButtonEl.find('.message-counter').text(self.state.unreadMessagesCount).show();
	        } else {
	            self.$messagesButtonEl.find('.message-counter').hide();
	        }
	    },
	    
	    /** Extend the template data by the controlView's options and state */
	    getTemplateData: function () {
	        var self = this;
	        var data = DelegatedWidgetView.prototype.getTemplateData.call(self);
	        return data;
	    },
	    
	    /** Fired when the navbar notification button is clicked */
	    onNotificationButtonClicked: function (event) {
	        var self = this;
	        if (this.$notificationButtonEl.hasClass('collapsed')) {
	            // fired only when the menu is opened
	            if (self.state.newestTimestamp) {
	                self.markSeen();
	            }
	        } 
	    },
	    
	    /** Posts to the server, sets all alerts older than the newest displayed as seen on the server */
	    markSeen: function() {
	        var self = this;
	        var url = '/profile/api/alerts/markseen/' + self.state.newestTimestamp + '/';
	        $.ajax(url, {
	            type: 'POST',
	            timeout: 15000,
	            success: function (response, textStatus, xhr) {
	                self.markSeenLocal();
	                util.log('Successfully marked as seen!');
	            },
	            error: function (xhr, textStatus) {
	                // marking seen even if it wasn't persisted (even more annoying if not)
	                self.markSeenLocal(); 
	                util.log('Error during marking as seen!');
	            }
	        });
	    },
	
	    /** Removes the notification button unseen number badge, in local frontend only. */    
	    markSeenLocal: function() {
	        var self = this;  
	        self.state.unseenCount = 0;
	        self.afterRender();
	        self.updatePageTitle();
	    },
	    
	    /** Updates the page title by prefixing a (3) unread counter to it */
	    updatePageTitle: function() {
	        var self = this;
	        var unseenPrefix = '';
	        var totalCount = self.state.unseenCount + self.state.unreadMessagesCount;
	        
	        if (totalCount > 0) {
	            unseenPrefix = '(' + totalCount + ') ';
	        }
	        document.title = unseenPrefix + self.state.originalPageTitle;  
	    },
	
	});


/***/ }),
/* 51 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var BaseView = __webpack_require__(4);
	var util = __webpack_require__(5);
	
	module.exports = BaseView.extend({
	    
	    // reference back to the main App
	    App: null,
	    
	    fetchURL: null, // to be overridden in subclass
	
	    widgetId: null, // set at initialization
	    widgetData: {},
	    
	    // will be set to self.options during initialization
	    defaults: {
	    	
	    	isMovable: false, // widget template options
	    	isHidable: false, // widget template options
	    	loadMoreEnabled: false, // widget template options
	    	
	        state: {
	        	sortIndex: 0,
	        	hasMore: false,
	    		offsetTimestamp: null,
	        }
	    },
	    
	    // You will need to add these events to extending widget views as well!
	    events: {
	    	'click .show-more': 'onShowMoreClicked',
	    },
	
	    initialize: function (options, app) {
	        var self = this;
	        self.app = app;
	        BaseView.prototype.initialize.call(self, options);
	        self.widgetId = self.getWidgetId();
	    },
	    
	    /** 
	     * Set the unique widget ID for this widget.
	     * Stub to be overridden. 
	     *  */
	    getWidgetId: function() {
	    	alert('ImproperlyImplemented: this view must implement the function "setWidgetId"!');
	    },
	    
	    /** 
	     *  Get all params required for the fetch of widget data to the URL `self.fetchURL`
	     *  Stub to be overridden.
	     *  */
	    getParamsForFetchRequest: function() {
	    	var self = this;
	    	var urlParams = {};
	    	if (self.options.loadMoreEnabled && self.state.offsetTimestamp) {
	    		urlParams = {
					'offset_timestamp': self.state.offsetTimestamp,
					'page_size': 5,
	    		}
	    	}
	    	return {
	    		urlSuffix: null,
	    		urlParams: urlParams,
	    	}
	    },
	       
	    /**
	     * Loads the contents for this widget from `self.fetchUrl`, sets them as data for this view and
	     * renders the widget.
	     * 
	     * Returns a promise which resolves after the chain completes or an error occured 
	     * (the widget shows an error message then). Never rejects.
	     */
	    load: function(loadOptions) {
	    	var self = this;
	    	return new Promise(function(resolve, reject) {
	    		self.loadData(loadOptions)
		    		.then(self.thisContext(self.render))
		    		.then(function(){
		    			util.log('# ### loaded and resolving widget ' + self.widgetId);
		    			resolve();
		    		});
	    	});
	    },
	    
	    loadData: function(loadOptions) {
	    	var self = this;
			return new Promise(function(resolve, reject) {
				self.state['hadErrors'] = false;
				self.state['errorResponseText'] = null;
				
				// build URL
				var params = self.getParamsForFetchRequest(loadOptions);
				var url = self.fetchURL + (params.urlSuffix ? params.urlSuffix + '/' : '');
				if (params.urlParams) {
					url += '?' + $.param(params.urlParams);
				}
				
				$.ajax(url, {
	                type: 'GET',
	                success: function (response, textStatus, xhr) {
	                    util.log('# # Fetched data for widget ' + self.widgetId);
	    			
	                    if (xhr.status == 200) {
	                    	self.handleData(response);
	                    } else {
	                    	self.state['hadErrors'] = true;
	                    }
	                },
	                error: function (xhr, textStatus) {
	                    self.state['hadErrors'] = true;
	                    self.state['errorResponseText'] = xhr.responseText;
	                },
	                complete: function (xhr, textStatus) {
	                	resolve();
	                }
	            });
	    	});
	    },
	    
	    /** Handles data that has been loaded */
	    handleData: function (response) {
	    	var self = this;
	    	var data = response['data'];
	    	
	    	if (self.state.offsetTimestamp) {
	    		// append item data
	    		Array.prototype.push.apply(self.widgetData['items'], data['items'])
	    	} else {
	    		// first data load
	    		self.widgetData = data;
	    	}
	    	
	    	if (self.options.loadMoreEnabled) {
	    		if ('has_more' in data) {
	    			self.state.hasMore = data['has_more'];
	    		}
	    		if ('offset_timestamp' in data) {
	    			self.state.offsetTimestamp = data['offset_timestamp'];
	    		}
	    	}
	    },
	    
	    /** Load more items */
	    onShowMoreClicked: function (event) {
	    	this.load().then(function(){
	    		$.cosinnus.renderMomentDataDate();
	    	});
	    },
	    
	    /**
	     *  Default implementation to retrieve data to be rendered.
	     *  If a model is set, return its attributes as JSON, otherwise
	     *  an empty object with any options and state attributes on the 
	     *  view mixed in.
	     */
	    getTemplateData: function () {
	    	var self = this;
	        var data = BaseView.prototype.getTemplateData(self);
	        var data = _.extend(
	        	data,
	        	self.state,
	        	self.options,
	            self.widgetData
	        );
	        return data;
	    },
	    
	});


/***/ }),
/* 52 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	dependencies["include/notification-item.html"] = __webpack_require__( 53 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/navbar/notification-widget.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/navbar/notification-widget.html", false, function(t_2,t_1) {
	if(t_2) { cb(t_2); return; }
	t_1.getExported(function(t_3,t_1) {
	if(t_3) { cb(t_3); return; }
	context.setVariable("macros", t_1);
	output += "\n";
	env.getTemplate("include/notification-item.html", false, "cosinnus/templates/cosinnus/universal/navbar/notification-widget.html", false, function(t_5,t_4) {
	if(t_5) { cb(t_5); return; }
	t_4.getExported(function(t_6,t_4) {
	if(t_6) { cb(t_6); return; }
	context.setVariable("notification_macros", t_4);
	output += "\n\n<div class=\"nav-column nav-column-fullwidth\">\n    \n\t";
	if(runtime.contextOrFrameLookup(context, frame, "hadErrors")) {
	output += "\n\t    <ul class=\"item-list\">\n\t        <li>\n\t            <span class=\"list-item list-item-link list-item-center no-select\" href=\"#\" role=\"button\" titledby=\".item-text\"> \n\t                <div class=\"item-text\">\n\t                    ";
	output += "\n\t                    ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"There was an error loading the widget"), true && env.opts.autoescape);
	output += "\n\t                </div>\n\t            </span>\n\t        </li>\n\t    </ul>\n\t";
	;
	}
	else {
	output += "\n        <h2 class=\"headline headline-condensed\">\n            ";
	output += "\n            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Notifications"), true && env.opts.autoescape);
	output += "\n        </h2>\n        \n        <ul class=\"item-list item-list-divided bordered\">\n            ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "items")) > 0) {
	output += "\n                ";
	frame = frame.push();
	var t_9 = runtime.contextOrFrameLookup(context, frame, "items");
	if(t_9) {var t_8 = t_9.length;
	for(var t_7=0; t_7 < t_9.length; t_7++) {
	var t_10 = t_9[t_7];
	frame.set("item", t_10);
	frame.set("loop.index", t_7 + 1);
	frame.set("loop.index0", t_7);
	frame.set("loop.revindex", t_8 - t_7);
	frame.set("loop.revindex0", t_8 - t_7 - 1);
	frame.set("loop.first", t_7 === 0);
	frame.set("loop.last", t_7 === t_8 - 1);
	frame.set("loop.length", t_8);
	output += "\n                    ";
	output += runtime.suppressValue((lineno = 25, colno = 57, runtime.callWrap(runtime.memberLookup((t_4),"notificationItem"), "notification_macros[\"notificationItem\"]", context, [runtime.memberLookup((t_10),"text"),runtime.memberLookup((t_10),"url"),runtime.memberLookup((t_10),"user_icon_or_image_url"),runtime.makeKeywordArgs({"subtext": runtime.memberLookup((t_10),"group"),"subtextIcon": runtime.memberLookup((t_10),"group_icon"),"actionTime": runtime.memberLookup((t_10),"action_datetime"),"annotationIcon": runtime.memberLookup((t_10),"item_icon_or_image_url"),"is_emphasized": runtime.memberLookup((t_10),"is_emphasized"),"subItems": runtime.memberLookup((t_10),"sub_items"),"itemId": runtime.memberLookup((t_10),"id"),"makeSafe": true})])), env.opts.autoescape);
	output += "\n                ";
	;
	}
	}
	frame = frame.pop();
	output += "\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "loadMoreEnabled") && runtime.contextOrFrameLookup(context, frame, "hasMore")) {
	output += "\n                    <li>\n                        <a class=\"list-item list-item-link show-more\" role=\"button\" titledby=\".item-text\"> \n                            <div class=\"item-icon item-icon-offset\">\n                                <i class=\"fas fa-fw\"></i>\n                            </div>\n                            <div class=\"item-text\">\n                                ";
	output += "\n                                ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Show more"), true && env.opts.autoescape);
	output += "\n                            </div>\n                        </a>\n                    </li>\n                ";
	;
	}
	output += "\n            ";
	;
	}
	else {
	output += "\n                <li>\n                    <span class=\"list-item list-item-link no-select\" href=\"#\" role=\"button\" titledby=\".item-text\"> \n                        <div class=\"item-text\">\n                            ";
	output += "\n                            ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"No current notifications"), true && env.opts.autoescape);
	output += "\n                        </div>\n                    </span>\n                </li>\n            ";
	;
	}
	output += "\n        </ul>\n        \n\t";
	;
	}
	output += "\n\t\n</div>\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/navbar/notification-widget.html"] , dependencies)

/***/ }),
/* 53 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/include/notification-item.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/include/notification-item.html", false, function(t_2,t_1) {
	if(t_2) { cb(t_2); return; }
	t_1.getExported(function(t_3,t_1) {
	if(t_3) { cb(t_3); return; }
	context.setVariable("macros", t_1);
	output += "\n\n";
	var macro_t_4 = runtime.makeMacro(
	["text", "url", "icon"], 
	["subtext", "subtextIcon", "actionTime", "annotationIcon", "is_emphasized", "subItems", "itemId", "inactive", "makeSafe"], 
	function (l_text, l_url, l_icon, kwargs) {
	frame = frame.push(true);
	kwargs = kwargs || {};
	if (kwargs.hasOwnProperty("caller")) {
	frame.set("caller", kwargs.caller); }
	frame.set("text", l_text);
	frame.set("url", l_url);
	frame.set("icon", l_icon);
	frame.set("subtext", kwargs.hasOwnProperty("subtext") ? kwargs["subtext"] : runtime.contextOrFrameLookup(context, frame, "null"));
	frame.set("subtextIcon", kwargs.hasOwnProperty("subtextIcon") ? kwargs["subtextIcon"] : runtime.contextOrFrameLookup(context, frame, "null"));
	frame.set("actionTime", kwargs.hasOwnProperty("actionTime") ? kwargs["actionTime"] : runtime.contextOrFrameLookup(context, frame, "null"));
	frame.set("annotationIcon", kwargs.hasOwnProperty("annotationIcon") ? kwargs["annotationIcon"] : runtime.contextOrFrameLookup(context, frame, "null"));
	frame.set("is_emphasized", kwargs.hasOwnProperty("is_emphasized") ? kwargs["is_emphasized"] : false);
	frame.set("subItems", kwargs.hasOwnProperty("subItems") ? kwargs["subItems"] : []);
	frame.set("itemId", kwargs.hasOwnProperty("itemId") ? kwargs["itemId"] : runtime.contextOrFrameLookup(context, frame, "null"));
	frame.set("inactive", kwargs.hasOwnProperty("inactive") ? kwargs["inactive"] : false);
	frame.set("makeSafe", kwargs.hasOwnProperty("makeSafe") ? kwargs["makeSafe"] : true);
	var t_5 = "";t_5 += "\n\n    <li class=\"list-item-group\">\n        <div class=\"main-item\">\n            <a class=\"list-item list-item-extended ";
	if(runtime.contextOrFrameLookup(context, frame, "is_emphasized")) {
	t_5 += "list-item-emphasized ";
	;
	}
	if(runtime.contextOrFrameLookup(context, frame, "inactive")) {
	t_5 += "inactive no-select";
	;
	}
	t_5 += "\" href=\"";
	t_5 += runtime.suppressValue(l_url, env.opts.autoescape);
	t_5 += "\" role=\"button\" titledby=\".item-text-primary\"> \n                <div class=\"item-icon item-icon-offset item-icon-vertical-center\">\n                    ";
	if(l_icon && runtime.inOperator("/",l_icon)) {
	t_5 += "\n                        <img src=\"";
	t_5 += runtime.suppressValue(l_icon, env.opts.autoescape);
	t_5 += "\"></img>\n                    ";
	;
	}
	else {
	t_5 += "\n                        <i class=\"fas fa-fw ";
	t_5 += runtime.suppressValue(l_icon, env.opts.autoescape);
	t_5 += "\"></i>\n                    ";
	;
	}
	t_5 += "\n                </div>\n                <div class=\"item-text item-text-dual\">\n                    <div class=\"item-text-primary\">\n                        ";
	if(runtime.contextOrFrameLookup(context, frame, "makeSafe")) {
	t_5 += "\n                            ";
	t_5 += runtime.suppressValue(env.getFilter("safe").call(context, l_text), env.opts.autoescape);
	t_5 += "\n                        ";
	;
	}
	else {
	t_5 += "\n                            ";
	t_5 += runtime.suppressValue(l_text, env.opts.autoescape);
	t_5 += " \n                        ";
	;
	}
	t_5 += "\n                    </div>\n                    ";
	if(runtime.contextOrFrameLookup(context, frame, "subtext") || runtime.contextOrFrameLookup(context, frame, "actionTime")) {
	t_5 += "\n                        <div class=\"item-text-tertiary\">\n                            ";
	if(runtime.contextOrFrameLookup(context, frame, "actionTime")) {
	t_5 += "\n                                <i class=\"fas fa-fw fa-clock\"></i>\n                                <span class=\"moment-data-date\" data-date=\"";
	t_5 += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "actionTime"), env.opts.autoescape);
	t_5 += "\"></span>\n                                <span class=\"item-text-inline-spacer\"></span>\n                            ";
	;
	}
	t_5 += "\n                            ";
	if(runtime.contextOrFrameLookup(context, frame, "subtext")) {
	t_5 += "\n                                ";
	if(runtime.contextOrFrameLookup(context, frame, "subtextIcon")) {
	t_5 += "\n                                    <i class=\"fas fa-fw ";
	t_5 += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "subtextIcon"), env.opts.autoescape);
	t_5 += "\"></i>\n                                ";
	;
	}
	t_5 += "\n                                ";
	t_5 += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "subtext"), env.opts.autoescape);
	t_5 += "\n                            ";
	;
	}
	t_5 += "\n                        </div>\n                    ";
	;
	}
	t_5 += "\n                </div>\n                ";
	if(runtime.contextOrFrameLookup(context, frame, "annotationIcon")) {
	t_5 += "\n                    <div class=\"right-side-annotation item-icon item-icon-vertical-center item-icon-fixed-width\">\n                        ";
	if(runtime.contextOrFrameLookup(context, frame, "annotationIcon") && runtime.inOperator("/",runtime.contextOrFrameLookup(context, frame, "annotationIcon"))) {
	t_5 += "\n                            <img src=\"";
	t_5 += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "annotationIcon"), env.opts.autoescape);
	t_5 += "\"></img>\n                        ";
	;
	}
	else {
	t_5 += "\n                            <i class=\"fas fa-fw ";
	t_5 += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "annotationIcon"), env.opts.autoescape);
	t_5 += "\"></i>\n                        ";
	;
	}
	t_5 += "\n                    </div>\n                ";
	;
	}
	t_5 += "\n            </a>\n            \n            ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "subItems")) > 0) {
	t_5 += "\n                <a class=\"list-item-group-dropdown-link collapsed\" data-toggle=\"collapse\" href=\"#notification-collapse-";
	t_5 += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "itemId"), env.opts.autoescape);
	t_5 += "\" \n                           role=\"button\" aria-expanded=\"false\" aria-controls=\"notification-collapse-";
	t_5 += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "itemId"), env.opts.autoescape);
	t_5 += "\">\n                    <i class=\"fas fa-fw fa-caret-right show-collapsed\"></i>\n                    <i class=\"fas fa-fw fa-caret-down show-uncollapsed\"></i>\n                </a>\n            ";
	;
	}
	t_5 += "\n        </div>\n        \n        ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "subItems")) > 0) {
	t_5 += "\n\t        <div class=\"sub-item-container collapse\" id=\"notification-collapse-";
	t_5 += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "itemId"), env.opts.autoescape);
	t_5 += "\">\n\t            <ul class=\"item-list item-list-divided\">\n\t                ";
	frame = frame.push();
	var t_8 = runtime.contextOrFrameLookup(context, frame, "subItems");
	if(t_8) {var t_7 = t_8.length;
	for(var t_6=0; t_6 < t_8.length; t_6++) {
	var t_9 = t_8[t_6];
	frame.set("subItem", t_9);
	frame.set("loop.index", t_6 + 1);
	frame.set("loop.index0", t_6);
	frame.set("loop.revindex", t_7 - t_6);
	frame.set("loop.revindex0", t_7 - t_6 - 1);
	frame.set("loop.first", t_6 === 0);
	frame.set("loop.last", t_6 === t_7 - 1);
	frame.set("loop.length", t_7);
	t_5 += "\n\t                    ";
	t_5 += runtime.suppressValue((lineno = 62, colno = 37, runtime.callWrap(runtime.memberLookup((t_1),"listItem"), "macros[\"listItem\"]", context, [runtime.memberLookup((t_9),"title"),runtime.memberLookup((t_9),"url"),runtime.memberLookup((t_9),"icon_or_image_url"),runtime.makeKeywordArgs({"padded": true})])), env.opts.autoescape);
	t_5 += "\n\t                ";
	;
	}
	}
	frame = frame.pop();
	t_5 += "\n\t            </ul>\n\t        </div>\n        ";
	;
	}
	t_5 += "\n    </li>\n";
	;
	frame = frame.pop();
	return new runtime.SafeString(t_5);
	});
	context.addExport("notificationItem");
	context.setVariable("notificationItem", macro_t_4);
	output += "\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/include/notification-item.html"] , dependencies)

/***/ }),
/* 54 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var BaseView = __webpack_require__(4);
	
	var TimelineView = __webpack_require__(55);
	var GroupWidgetView = __webpack_require__(58);
	var IdeasWidgetView = __webpack_require__(61);
	var StarredUsersWidgetView = __webpack_require__(63);
	var StarredObjectsWidgetView = __webpack_require__(65);
	var FollowedObjectsWidgetView = __webpack_require__(67);
	var TypedContentWidgetView = __webpack_require__(69);
	var UiPrefsView = __webpack_require__(71);
	
	var util = __webpack_require__(5);
	
	module.exports = BaseView.extend({
	
		app: null,
	    template: null,
	    el: null, // will be set to dashboard root manually
	    $el: null, // will be set to dashboard root manually
	    leftBar: '.dashboard-left-bar-content',
	    $leftBar: null, 
	    rightBar: '.dashboard-right-bar-content',
	    $rightBar: null,
	    timeline: '.timeline-root',
	    $timeline: null,
	    
	    timelineView: null,
	    
	    groupWidgetView: null,
		ideasWidgetView: null,
		starredUsersWidgetView: null,
		starredObjectsWidgetView: null,
		followedObjectsWidgetView: null,
	    uiPrefsView: null,
	    
	    typedContentWidgetTypes: ['pads', 'files']
			.concat((COSINNUS_ROCKET_ENABLED || !COSINNUS_MESSAGES_ENABLED) ? [] : ['messages'])
	        .concat(COSINNUS_CLOUD_DASHBOARD_WIDGET_ENABLED ? ['cloud_files'] : [])
		    .concat(['events', 'todos', 'polls'])
			.concat(COSINNUS_V2_DASHBOARD_SHOW_MARKETPLACE ? ['offers'] : []),
	    typedContentWidgets: {},
	    
	    uiPrefKeyRightBarWidget: 'dashboard_widgets_sort_key__',
	    
	    // will be set to self.options during initialization
	    defaults: {
	        
	        state: {
	            
	        }
	    },
	    
	    // The DOM events specific to an item.
	    events: {
	    	//'focus .nav-search-box': 'onSearchBoxFocusIn',
	    },
	    
	    initialize: function (options, app) {
	        var self = this;
	        self.app = app;
	        BaseView.prototype.initialize.call(self, options);
	        
	        self.uiPrefsView = new UiPrefsView(self.options.uiPrefs);
	        
	        self.el = '.v2-dashboard';
	        self.$el = $(self.el);
	        self.$el.removeClass('loading');
	        
	        self.$leftBar = self.$el.find(self.leftBar);
	        self.$rightBar = self.$el.find(self.rightBar);
	        self.$timeline = self.$el.find(self.timeline);
	        
	        self.loadLeftBar();
	        self.loadRightBar();
	        self.loadTimeline();
	    },
	    
	    /** Loads all widgets on the left bar and only then displays it */
	    loadLeftBar: function () {
	    	var self = this;
	    	self.groupWidgetView = new GroupWidgetView({
	    		el: self.$el.find('.group-widget-root'),
	    	}, self.app);
	    	
	    	var leftBarPromises = [
	    		self.groupWidgetView.load(),
	    	];
	    	if (COSINNUS_IDEAS_ENABLED) {
	    	    self.ideasWidgetView = new IdeasWidgetView({
	                el: self.$el.find('.ideas-widget-root'),
	            }, self.app);
	    		leftBarPromises.push(self.ideasWidgetView.load());
			}
			self.starredUsersWidgetView = new StarredUsersWidgetView({
				el: self.$el.find('.starred-users-widget-root'),
			}, self.app);
			leftBarPromises.push(self.starredUsersWidgetView.load());
	
	    	self.starredObjectsWidgetView = new StarredObjectsWidgetView({
				el: self.$el.find('.starred-objects-widget-root'),
			}, self.app);
			leftBarPromises.push(self.starredObjectsWidgetView.load());
	
			self.followedObjectsWidgetView = new FollowedObjectsWidgetView({
				el: self.$el.find('.followed-objects-widget-root'),
			}, self.app);
			leftBarPromises.push(self.followedObjectsWidgetView.load());
	
			Promise.all(leftBarPromises).then(function(){
	    		self.$leftBar.show();
	    		// the userdashboard map widget (as an iframe) causes problems with the map app it shows
	    		// if it is loaded while hidden
	    		var iframe = $('#userdashboard-map-iframe');
	    		if (iframe.length > 0) {
	        		iframe.attr('src', iframe.attr('src_delayed'));
	    		}
	    	});
	    },
	    
	    /** Loads all widgets on the right bar and only then displays it */
	    loadRightBar: function () {
	    	var self = this;
	
	    	var rightBarPromises = [];
	    	// for each content type, initialize the widget on that type and load its contents
	    	$.each(self.typedContentWidgetTypes, function(i, type){
	    		self.typedContentWidgets[type] = new TypedContentWidgetView({
	        		elParent: self.$el.find('.typed-widgets-root'),
	        		type: type,
	        		sortIndex: self.uiPrefsView.getUiPref(self.uiPrefKeyRightBarWidget + type),
	        	}, self.app);
	    		rightBarPromises.push(self.typedContentWidgets[type].load());
	    	});
	    	Promise.all(rightBarPromises).then(function(){
	        	$.cosinnus.renderMomentDataDate();
	        	self.sortRightBarWidgets();
	        	self.manageWidgetConditions();
	    		self.$rightBar.show();
	    		util.log('# #### showing right bar.')
	    	});
	    },
	    
	    sortRightBarWidgets: function () {
	    	this.$rightBar.find('div.widget-content').sortElements(function(a, b){
	    		return $(a).attr('data-sort-index') > $(b).attr('data-sort-index') ? 1 : -1;
	    	});
	    },
	    
	    /** After empty widgets have removed themselves, will display the "new users"
	     *  info box if too or none few are shown */
	    manageWidgetConditions: function () {
	    	// show widget info box if ui pref is set
	    	if (this.uiPrefsView.getUiPref('timeline__hide_welcome_widget_box')) {
	    		this.$rightBar.find('.welcome_widget_box').remove();
	    	} else {
	    		this.$rightBar.find('.welcome_widget_box').show();
	    	}
	    },
	    
	    loadTimeline: function () {
	    	var self = this;
	    	
	    	// show welcome screen if ui pref is set
	    	var $welcomeFrame = self.$el.find('.dashboard-welcome-frame');
	    	if (self.uiPrefsView.getUiPref('timeline__hide_welcome_screen') || $welcomeFrame.length == 0) {
	    	    if ($welcomeFrame.length > 0) {
	        		$welcomeFrame.remove();
	    	    }
	    		
	    		// if we are not showing the welcome screen, show the dashboard announcement, if one exists
	    		var $announcementFrame = self.$el.find('.dashboard-announcement-frame');
	    		if ($announcementFrame.length > 0) {
	    		    $announcementFrame.show();
	    		}
	    	} else {
	    		$welcomeFrame.show();
	    	}
	    	
	    	self.timelineView = new TimelineView({
	    		el: self.$el.find('.timeline-root'),
	    		forceOnlyMine: self.options.forceOnlyMine,
	    	}, self.app, self.uiPrefsView);
	    	self.timelineView.load();
	    },
	    
	    
	    /** While we are focused, check for clicks outside to trigger closing the menu */
	    checkQuickSearchFocusOut: function (event) {
	    	if (this.$el.hasClass('active') && !this.el.contains(event.target)) {
	    		this.$el.removeClass('active');
	    		document.addEventListener('click', this.thisContext(this.checkQuickSearchFocusOut));
	    	}
	    },
	    
	    /** Moves a widget up or down by swapping it with its sibling.
	     *  Params:
	     *  	- type: the content type of the source widget (i.e. 'events')
	     *  	- directionUp: true for up, false for down
	     */
	    moveRightSideWidget: function (type, directionUp) {
	    	var self = this;
	    	
	    	// find both widgets
	    	var widget = self.$rightBar.find('.widget-content[data-content-type="' + type + '"]');
	    	if (widget.length == 0) {
	    		return;
	    	}
	    	var other_widget = directionUp ? widget.prev('.widget-content') : widget.next('.widget-content');
	    	if (other_widget.length == 0) {
	    		return;
	    	}
	    	
	    	// swap their sort index
	    	var idx = widget.attr('data-sort-index');
	    	var other_idx = other_widget.attr('data-sort-index');
	    	widget.attr('data-sort-index', other_idx);
	    	other_widget.attr('data-sort-index', idx);
	    	
	    	// sort the widgets
	    	self.sortRightBarWidgets();
	    	
	    	// save the uiPrefs
	    	var uiPrefs = {};
	    	uiPrefs[self.uiPrefKeyRightBarWidget + widget.attr('data-content-type')] = other_idx;
	    	uiPrefs[self.uiPrefKeyRightBarWidget + other_widget.attr('data-content-type')] = idx;
	    	self.uiPrefsView.saveUiPrefs(uiPrefs);
	    },
	
	});


/***/ }),
/* 55 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var BaseView = __webpack_require__(4);
	var util = __webpack_require__(5);
	
	module.exports = BaseView.extend({
	
		app: null,
	    template: __webpack_require__(56),
	    
	    fetchURL: '/dashboard/api/timeline/',
	    
	    uiPrefsView: null, // set during initialization
	    
	    // will be set to self.options during initialization
	    defaults: {
	        
	    	forceOnlyMine: false, // overwritten from passed options from higher views
	    	// the following are *combinable* AND filters, not exclusive, 
	    	// like the historical name "only" suggests!
	    	onlyMine: true, // combinable content filter. inited from uiPrefs
	        onlyForum: true, // combinable content filter. inited from uiPrefs
	        onlyPublic: false, // combinable content filter. inited from uiPrefs
	    	
	        state: {
	        	loading: false, // if true, a request is currently loading
	            currentRequest: null, // the XMLHttpRequest that is currently loading
	            hadErrors: false,
	            
	            // load params. also initialized in `initializeParams`
	    		itemsLoaded: 0,
	    		offsetTimestamp: null,
	    		hasMore: true,
	        }
	    },
	    
	    // The DOM events specific to an item.
	    events: {
	    	//'focus .nav-search-box': 'onSearchBoxFocusIn',
	    	// todo: onlyMine button
	    	'change .toggle-only-mine': 'toggleOnlyMineClicked',
	        'change .toggle-only-forum': 'toggleOnlyForumClicked',
	        'change .toggle-only-public': 'toggleOnlyPublicClicked',
	    	'click .retry-load': 'retryLoadAfterErrors',
	    	'click .show-all-comments': 'showAllCommentsForItem',
	    	'click .comment-form :not(textarea)': 'delegateTextInputClick',
	    	'keypress .comment-form textarea': 'commentTextboxKeyPressed',
	    },
	
	    initialize: function (options, app, uiPrefsView) {
	        var self = this;
	        self.app = app;
	        BaseView.prototype.initialize.call(self, options);
	        
	        self.uiPrefsView = uiPrefsView;
	        self.options.onlyMine = self.uiPrefsView.getUiPref('timeline__only_mine');
	        self.options.onlyForum = self.uiPrefsView.getUiPref('timeline__only_forum');
	        self.options.onlyPublic = self.uiPrefsView.getUiPref('timeline__only_public');
	        self.initializeParams();
	        self.render();
	    },
	    
	    initializeParams: function () {
	    	var self = this;
	    	self.state.itemsLoaded = 0;
	    	self.state.offsetTimestamp = null;
	    	self.state.hasMore = true;
	    },
	    
	    getParamsForFetchRequest: function() {
	    	var self = this;
	    	var urlParams = {
				'only_mine': self.options.forceOnlyMine || self.options.onlyMine,
	            'only_forum': self.options.onlyForum,
	            'only_public': self.options.onlyPublic,
	            
	    	};
	    	if (self.state.offsetTimestamp) {
	    		urlParams['offset_timestamp'] = self.state.offsetTimestamp;
	    	}
	    	return {urlSuffix: null, urlParams: urlParams}
	    },
	
	    render: function () {
	        var self = this;
	        BaseView.prototype.render.call(self);
	        util.log('*** Rendered timeline! ***')
	        return self;
	    },
	    
	    /** Resets all timeline-items and loads from with fresh params */
	    resetAndLoad: function () {
	    	var self = this;
	    	if (self.state.currentRequest) {
	    		self.state.currentRequest.abort();
	    		self.state.currentRequest = null;
	    	}
	    	self.state.loading = false;
	    	self.state.hadErrors = false;
	    	self.initializeParams();
	    	self.render();
	    	self.load();
	    },
	    
	    /** Called from the "Retry" button shown with an error message */
	    retryLoadAfterErrors: function () {
	    	var self = this;
			self.state.hadErrors = false;
			self.load();
	    },
	    
	    /** Called from a "show all comments" link from an item */
	    showAllCommentsForItem: function (event) {
	    	var self = this;
			var $target = $(event.target);
			$target.parents('.timeline-item-comments').find('.shown-when-more').hide();
			$target.parents('.timeline-item-comments').find('.comment-hidden').fadeIn();
	    },
	    
	    /** Makes the i.fa icon clickable as if it were the textarea */
	    delegateTextInputClick: function (event) {
	    	$(event.target).parents('.comment-form').find('textarea').focus();
	    },
	    
	    /** Pressing enter (unless with shift or ctrl) sends the form */
	    commentTextboxKeyPressed: function (event) {
	    	if (event.keyCode == 13 && !event.shiftKey && !event.ctrlKey) {
	    	    var $form = $(event.target).parents('form');
	    	    if (!$form.hasClass('disabled')) {
	    	    	$form.submit();
	    	    }
	    	    event.preventDefault();
	    	}
	    },
	    
	    /** Call to load a new page of items from the current offset,
	     *  will only fire a request if no other request is currently running */
	    load: function () {
	    	var self = this;
	    	if (!self.state.loading && !self.state.hadErrors && self.state.hasMore) {
		    	return new Promise(function(resolve, reject) {
		    		self.state.loading = true;
		    		self.showLoadingPlaceholder();
		    		self.hideErrorMessage();
		    		// using this instead of .finally() for backwards compatibility in browsers
		    		var finally_compat = function() {
		    			self.state.loading = false;
		    			self.hideLoadingPlaceholder();
		    			resolve();
		    		};
		    		self.loadData().then(function(data){
		    			util.log('# timeline received data and will handle them');
		    			self.enableInfiniteScroll();
		    			self.handleData(data);
		    			finally_compat();
		    		}).catch(function(message){
		    			self.handleError(message);
		    			finally_compat();
		    		});
		    	});
	    	}
	    },
	    
	    /** Loads a set of data from the server. Returns a promise
	     *  whose resolve function gets passed the data */
	    loadData: function() {
	    	var self = this;
			return new Promise(function(resolve, reject) {
				// build URL
				var params = self.getParamsForFetchRequest();
				var url = self.fetchURL + (params.urlSuffix ? params.urlSuffix + '/' : '');
				if (params.urlParams) {
					url += '?' + $.param(params.urlParams);
				}
				self.state.currentRequest = $.ajax(url, {
	                type: 'GET',
	                success: function (response, textStatus, xhr) {
	                    if (xhr.status == 200) {
	                    	resolve(response['data']);
	                    } else {
	                    	reject(xhr.statusText);
	                    }
	                },
	                error: function (xhr, textStatus) {
	                	reject(textStatus);
	                },
	                complete: function() {
	                	self.state.currentRequest = null;
	                }
	            });
	    	});
	    },
	    
	    handleData: function (data) {
	    	var self = this;
	        util.log('# # Fetched data for timeline');
	        util.log(data)
	        
	        // display items if any
	        if (data['count'] > 0) {
	        	self.renderLoadedItems(data['items']);
	        }
	        if (data['has_more'] == true) {
	        	// set hasMore and offset
	        	self.state.hasMore = true;
	        	self.state.offsetTimestamp = data['last_timestamp'];
	        } else {
	        	// show final dot and disable infinitescroll if no hasMore
	        	self.state.hasMore = false;
	        	self.showFinalDot();
	        	self.disableInfiniteScroll();
	        }
	    },
	    
	    renderLoadedItems: function (items) {
	    	var self = this;
	    	var timeline = self.$el.find('.timeline');
	    	$.each(items, function(i, item){
	    		timeline.append(item);
	    	});
	
	    	$.cosinnus.renderMomentDataDate();
			$.cosinnus.truncatedTextfield();
			self.removeEmptyDivs();
	    },
	    
	    handleError: function (message) {
	    	var self = this;
	    	util.log('# # Fetched data for timeline');
	    	self.disableInfiniteScroll();
	    	self.showErrorMessage();
	    },
	    
	    showErrorMessage: function (message) {
	    	this.$el.find('.timeline-error-message').show();
	    },
	    
	    hideErrorMessage: function () {
	    	this.$el.find('.timeline-error-message').hide();
	    },
	    
	    showLoadingPlaceholder: function () {
	    	var topHeight = this.$el.height();
	    	this.$el.find('.timeline-placeholder-frame').css({'top': topHeight}).show();
	    },
	    
	    hideLoadingPlaceholder: function () {
	    	this.$el.find('.timeline-placeholder-frame').hide();
	    },
	    
	    showFinalDot: function () {
	    	this.$el.find('.timeline-final-dot').show();
	    },
	    
	    enableInfiniteScroll: function () {
	    	var self = this;
	        $(window).off('scroll').on('scroll', self.thisContext(this.onScroll));
	    },
	    
	    disableInfiniteScroll: function () {
	        $(window).off('scroll');
	    },
	    
	    toggleOnlyMineClicked: function (event) {
	        var self = this;
	        if (self.options.forceOnlyMine) {
	            return;
	        }
	        self.options.onlyMine = event.target.checked;
	        // save ui pref
	        self.uiPrefsView.saveUiPrefs({'timeline__only_mine': self.options.onlyMine});
	        self.resetAndLoad();
	    },
	    
	    toggleOnlyForumClicked: function (event) {
	        var self = this;
	        if (self.options.forceOnlyMine) {
	            return;
	        }
	        self.options.onlyForum = event.target.checked;
	        // save ui pref
	        self.uiPrefsView.saveUiPrefs({'timeline__only_forum': self.options.onlyForum});
	        self.resetAndLoad();
	    },
	    
	    toggleOnlyPublicClicked: function (event) {
	        var self = this;
	        if (self.options.forceOnlyMine) {
	            return;
	        }
	        self.options.onlyPublic = event.target.checked;
	        // save ui pref
	        self.uiPrefsView.saveUiPrefs({'timeline__only_public': self.options.onlyPublic});
	        self.resetAndLoad();
	    },
	    
	    
	    
	    removeEmptyDivs: function () {
	    	var self = this;
	    	self.$el.find('.remove-if-prev-empty').each(function(){
				var $item = $(this);
				if ($item.prev().text().replace(/\s/g, '').length == 0) {
					$item.remove();
				}
			});
	    	self.$el.find('.remove-if-next-empty').each(function(){
				var $item = $(this);
				if ($item.next().text().replace(/\s/g, '').length == 0) {
					$item.remove();
				}
			});
	    	self.$el.find('.remove-if-empty').each(function(){
				var $item = $(this);
				if ($item.text().replace(/\s/g, '').length == 0) {
					$item.remove();
				}
			});
	    },
	    
	    /** Handles events for infinite scroll */
	    onScroll: function (event) {
	    	var self = this;
	    	// only check scrolling if the timeline is visible
	    	if (self.$el.is(':visible')) {
	    		var $window = $(window);
	    		if ($window.height() + $window.scrollTop() >= $(document).height() - 250) {
	    			self.load();  // load() handles state checks itself so it's safe to call multiple times.
	    		}
	    	}
	    },
	
	});


/***/ }),
/* 56 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["userdashboard/timeline-item-placeholder"] = __webpack_require__( 57 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/userdashboard/timeline.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	if(!runtime.contextOrFrameLookup(context, frame, "forceOnlyMine")) {
	output += "\n\t<div class=\"timeline-controls\">\n\t\n\t    <h2 class=\"headline inlayed-headline\">\n\t        ";
	output += "\n\t        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Filter"), true && env.opts.autoescape);
	output += "\n\t    </h2>\n\t    \n        <table class=\"onoffswitch-frame\">\n            <tr>\n                <td>\n                    <div class=\"onoffswitch\">\n                        <input type=\"checkbox\" name=\"onoffswitch-only-forum\"\n                             class=\"onoffswitch-checkbox toggle-only-forum\" id=\"check-only-forum\" \n                             ";
	if(runtime.contextOrFrameLookup(context, frame, "onlyForum")) {
	output += "checked";
	;
	}
	output += ">\n                        <label class=\"onoffswitch-label\" for=\"check-only-forum\">\n                            <span class=\"onoffswitch-inner\"></span>\n                            <span class=\"onoffswitch-switch\"></span>\n                        </label>\n                    </div>\n                </td>\n                <td class=\"onoffswitch-text-label text-bold text-small\">\n                    ";
	output += "\n                    ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Content from the Forum"), true && env.opts.autoescape);
	output += "\n                </td>\n            </tr>\n        </table>\n\t\n\t\t<table class=\"onoffswitch-frame\">\n            <tr>\n                <td>\n                    <div class=\"onoffswitch\">\n                        <input type=\"checkbox\" name=\"onoffswitch-only-mine\"\n                             class=\"onoffswitch-checkbox toggle-only-mine\" id=\"check-only-mine\" \n                             ";
	if(runtime.contextOrFrameLookup(context, frame, "onlyMine")) {
	output += "checked";
	;
	}
	output += ">\n                        <label class=\"onoffswitch-label\" for=\"check-only-mine\">\n                            <span class=\"onoffswitch-inner\"></span>\n                            <span class=\"onoffswitch-switch\"></span>\n                        </label>\n                    </div>\n                </td>\n                <td class=\"onoffswitch-text-label text-bold text-small\">\n                    ";
	output += "\n                    ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Content from my Groups and Projects"), true && env.opts.autoescape);
	output += "\n                </td>\n            </tr>\n        </table>\n        \n        <table class=\"onoffswitch-frame\">\n            <tr>\n                <td>\n                    <div class=\"onoffswitch\">\n                        <input type=\"checkbox\" name=\"onoffswitch-only-public\"\n                             class=\"onoffswitch-checkbox toggle-only-public\" id=\"check-only-public\" \n                             ";
	if(runtime.contextOrFrameLookup(context, frame, "onlyPublic")) {
	output += "checked";
	;
	}
	output += ">\n                        <label class=\"onoffswitch-label\" for=\"check-only-public\">\n                            <span class=\"onoffswitch-inner\"></span>\n                            <span class=\"onoffswitch-switch\"></span>\n                        </label>\n                    </div>\n                </td>\n                <td class=\"onoffswitch-text-label text-bold text-small\">\n                    ";
	if(runtime.contextOrFrameLookup(context, frame, "COSINNUS_USER_EXTERNAL_USERS_FORBIDDEN")) {
	output += "\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Platform content"), true && env.opts.autoescape);
	output += "\n                    ";
	;
	}
	else {
	output += "\n                        ";
	output += "\n                        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Public content"), true && env.opts.autoescape);
	output += "\n                    ";
	;
	}
	output += "\n                </td>\n            </tr>\n        </table>\n\t</div>\n";
	;
	}
	output += "\n\n<div class=\"timeline\">\n\t";
	output += "\n\t<div data-target=\"ajax-form-result-anchor\" data-ajax-form-id=\"note-create-form\"></div>\n</div>\n\n\n<div class=\"timeline-error-message\" style=\"display: none;\">\n\t<div>\n\t\t";
	output += "\n        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"We could not load more data at this time."), true && env.opts.autoescape);
	output += "\n\t\t<a href=\"#\" class=\"retry-load\">\n\t        ";
	output += "\n\t        ";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Retry"), true && env.opts.autoescape);
	output += "\n\t    </a>\n    </div>\n</div>\n\n<div class=\"timeline-final-dot\" style=\"display: none;\">\n\t<div>\n\t\t<i class=\"fas fa-fw fa-circle\"></i>\n\t</div>\n</div>\n\n<div class=\"timeline-placeholder-frame\" style=\"display: none;\">\n\t";
	env.getTemplate("userdashboard/timeline-item-placeholder", false, "cosinnus/templates/cosinnus/universal/userdashboard/timeline.html", null, function(t_3,t_1) {
	if(t_3) { cb(t_3); return; }
	t_1.render(context.getVariables(), frame, function(t_4,t_2) {
	if(t_4) { cb(t_4); return; }
	output += t_2
	output += "\n\t";
	env.getTemplate("userdashboard/timeline-item-placeholder", false, "cosinnus/templates/cosinnus/universal/userdashboard/timeline.html", null, function(t_7,t_5) {
	if(t_7) { cb(t_7); return; }
	t_5.render(context.getVariables(), frame, function(t_8,t_6) {
	if(t_8) { cb(t_8); return; }
	output += t_6
	output += "\n\t";
	env.getTemplate("userdashboard/timeline-item-placeholder", false, "cosinnus/templates/cosinnus/universal/userdashboard/timeline.html", null, function(t_11,t_9) {
	if(t_11) { cb(t_11); return; }
	t_9.render(context.getVariables(), frame, function(t_12,t_10) {
	if(t_12) { cb(t_12); return; }
	output += t_10
	output += "\n</div>\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})})})})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/userdashboard/timeline.html"] , dependencies)

/***/ }),
/* 57 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/userdashboard/timeline-item-placeholder.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	output += "<div class=\"timeline-item placeholder\">\n\t\n\t<div class=\"timeline-item-row header\">\n\t\t<div class=\"header-avatar\">\n\t\t\t<div class=\"animated-background image\"></div>\n\t\t</div>\n\t\t<div class=\"header-info\">\n\t\t\t<div class=\"item-info\">\n\t\t\t\t<div class=\"animated-background regular-line w1\"></div>\n\t\t\t</div>\n\t\t\t<div class=\"item-date pale-color\">\n\t\t\t\t<div class=\"animated-background thin-line w2\"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t\n\t<div class=\"timeline-item-row body\">\n\t\t<div class=\"animated-background regular-line w3\"></div>\n\t\t<div class=\"animated-background regular-line w4\"></div>\n\t\t<div class=\"animated-background regular-line w5\"></div>\n\t\t<div class=\"placeholder-spacer\"></div>\n\t</div>\n\t\n</div>";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/userdashboard/timeline-item-placeholder.html"] , dependencies)

/***/ }),
/* 58 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var DelegatedWidgetView = __webpack_require__(51);
	var util = __webpack_require__(5);
	
	module.exports = DelegatedWidgetView.extend({
	
		app: null,
	    template: __webpack_require__(59),
	    
	    fetchURL: '/dashboard/api/user_groups/', // overridden for subview
	    
	    // will be set to self.options during initialization
	    defaults: {
	        
	        state: {
	            
	        }
	    },
	    
	    // The DOM events specific to an item.
	    events: {
	    	//'focus .nav-search-box': 'onSearchBoxFocusIn',
	    },
	
	    /** Overriding base function for unique widget ID. */
	    getWidgetId: function() {
	        return 'group-widget';
	    },
	    
	    /** Overriding params for request */
	    getParamsForFetchRequest: function() {
	    	return {urlSuffix: null, urlParams: {}}
	    },
	    
	
	    render: function () {
	        var self = this;
	        DelegatedWidgetView.prototype.render.call(self);
	        
	        util.log('*** Rendered group-widget! ***')
	        return self;
	    },
	    
	    /** Extend the template data by the controlView's options and state */
	    getTemplateData: function () {
	        var self = this;
	        var data = DelegatedWidgetView.prototype.getTemplateData.call(self);
	        return data;
	    },
	    
	    
	    
	
	});


/***/ }),
/* 59 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["userdashboard/base-widget"] = __webpack_require__( 60 );
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/userdashboard/group-widget.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("userdashboard/base-widget", true, "cosinnus/templates/cosinnus/universal/userdashboard/group-widget.html", false, function(t_2,_parentTemplate) {
	if(t_2) { cb(t_2); return; }
	parentTemplate = _parentTemplate
	for(var t_1 in parentTemplate.blocks) {
	context.addBlock(t_1, parentTemplate.blocks[t_1]);
	}
	output += "\n";
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/userdashboard/group-widget.html", false, function(t_4,t_3) {
	if(t_4) { cb(t_4); return; }
	t_3.getExported(function(t_5,t_3) {
	if(t_5) { cb(t_5); return; }
	context.setVariable("macros", t_3);
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("title"))(env, context, frame, runtime, function(t_7,t_6) {
	if(t_7) { cb(t_7); return; }
	output += t_6;
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("content"))(env, context, frame, runtime, function(t_9,t_8) {
	if(t_9) { cb(t_9); return; }
	output += t_8;
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})})})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_title(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    ";
	output += "\n\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Groups and Projects"), true && env.opts.autoescape);
	output += "\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_content(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n\t\n\t";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "group_clusters")) > 0) {
	output += "\n\t\t<ul class=\"item-list\">\n\t\t\t";
	frame = frame.push();
	var t_12 = runtime.contextOrFrameLookup(context, frame, "group_clusters");
	if(t_12) {var t_11 = t_12.length;
	for(var t_10=0; t_10 < t_12.length; t_10++) {
	var t_13 = t_12[t_10];
	frame.set("cluster", t_13);
	frame.set("loop.index", t_10 + 1);
	frame.set("loop.index0", t_10);
	frame.set("loop.revindex", t_11 - t_10);
	frame.set("loop.revindex0", t_11 - t_10 - 1);
	frame.set("loop.first", t_10 === 0);
	frame.set("loop.last", t_10 === t_11 - 1);
	frame.set("loop.length", t_11);
	output += "\n\t\t\t\t";
	frame = frame.push();
	var t_16 = t_13;
	if(t_16) {var t_15 = t_16.length;
	for(var t_14=0; t_14 < t_16.length; t_14++) {
	var t_17 = t_16[t_14];
	frame.set("item", t_17);
	frame.set("loop.index", t_14 + 1);
	frame.set("loop.index0", t_14);
	frame.set("loop.revindex", t_15 - t_14);
	frame.set("loop.revindex0", t_15 - t_14 - 1);
	frame.set("loop.first", t_14 === 0);
	frame.set("loop.last", t_14 === t_15 - 1);
	frame.set("loop.length", t_15);
	output += "\n\t\t\t\t\t";
	if(runtime.memberLookup((t_17),"hasmorelink")) {
	output += "\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<a class=\"list-item list-item-link\" href=\"#\" role=\"button\" titledby=\".item-text\"> \n\t\t\t\t\t\t\t\t<div id=\"more-link1\" class=\"item-text\">\n\t\t\t\t\t                ";
	output += "\n\t\t\t\t\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Show more Projects of this Group"), true && env.opts.autoescape);
	output += "\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t";
	;
	}
	else {
	output += "\n\t\t\t\t\t\t";
	output += runtime.suppressValue((lineno = 24, colno = 22, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"listItem"), "macros[\"listItem\"]", context, [runtime.memberLookup((t_17),"text"),runtime.memberLookup((t_17),"url"),runtime.memberLookup((t_17),"icon"),runtime.makeKeywordArgs({"is_emphasized": runtime.memberLookup((t_17),"is_emphasized")})])), env.opts.autoescape);
	output += "\n\t\t\t\t\t";
	;
	}
	output += "\n\t\t\t\t";
	;
	}
	}
	frame = frame.pop();
	output += "\n\t\t\t\n\t\t\t\t";
	if(!runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "loop")),"last")) {
	output += "\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<hr>\n\t\t\t\t\t</li>\n\t\t\t\t";
	;
	}
	output += "\n\t\t\t";
	;
	}
	}
	frame = frame.pop();
	output += "\n\t\t</ul>\n\t";
	;
	}
	else {
	output += "\n\t\t<div class=\"widget-info-box no-select\">\n            ";
	output += "\n\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Here you can find an overview of your Groups and Projects once you become active in one or more of them."), true && env.opts.autoescape);
	output += "\n\t\t\t<br/>\n\t\t\t<br/>\n            ";
	output += "\n\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"You can create Groups or Projects via the '+' button in the header."), true && env.opts.autoescape);
	output += "\n\t\t</div>\n\t";
	;
	}
	output += "\n\t\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	b_title: b_title,
	b_content: b_content,
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/userdashboard/group-widget.html"] , dependencies)

/***/ }),
/* 60 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/userdashboard/base-widget.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/userdashboard/base-widget.html", false, function(t_2,t_1) {
	if(t_2) { cb(t_2); return; }
	t_1.getExported(function(t_3,t_1) {
	if(t_3) { cb(t_3); return; }
	context.setVariable("macros", t_1);
	output += "\n\n<div class=\"widget-content\" ";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("attrs"))(env, context, frame, runtime, function(t_5,t_4) {
	if(t_5) { cb(t_5); return; }
	output += t_4;
	output += ">\n\t";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("widget_dropdown"))(env, context, frame, runtime, function(t_7,t_6) {
	if(t_7) { cb(t_7); return; }
	output += t_6;
	output += "\n\t\n\t<h2 class=\"headline\">\n\t\t";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("title"))(env, context, frame, runtime, function(t_9,t_8) {
	if(t_9) { cb(t_9); return; }
	output += t_8;
	output += "\n\t</h2>\n\t\n\t";
	if(runtime.contextOrFrameLookup(context, frame, "hadErrors")) {
	output += "\n\t\t<ul class=\"item-list\">\n\t\t\t<li>\n\t\t\t\t<span class=\"list-item list-item-link list-item-center no-select\" href=\"#\" role=\"button\" titledby=\".item-text\"> \n\t\t    \t\t<div class=\"item-text\">\n\t\t                ";
	output += "\n\t\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"There was an error loading the widget"), true && env.opts.autoescape);
	output += "\n\t\t    \t\t</div>\n\t\t\t\t</span>\n\t\t\t</li>\n\t\t</ul>\n\t";
	;
	}
	else {
	output += "\n\t\n\t\t";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("content"))(env, context, frame, runtime, function(t_11,t_10) {
	if(t_11) { cb(t_11); return; }
	output += t_10;
	output += "\n\t\t\n\t";
	});
	}
	output += "\n</div>\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})})})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_attrs(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_widget_dropdown(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n\t\t";
	if(runtime.contextOrFrameLookup(context, frame, "isMovable") || runtime.contextOrFrameLookup(context, frame, "isHidable")) {
	output += "\n\t\t\t<div class=\"widget-dropdown v2-dropdown dropdown\">\n\t\t    \t<a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\">\n\t\t            <i class=\"fas fa-ellipsis-h\"></i>\n\t\t        </a>\n\t\t        <ul class=\"dropdown-menu\">\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a class=\"sort-up\">\n\t\t                \t";
	output += "\n\t\t\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Move up"), true && env.opts.autoescape);
	output += "\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a class=\"sort-down\">\n\t\t                \t";
	output += "\n\t\t\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Move down"), true && env.opts.autoescape);
	output += "\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t        </ul>\n\t\t\t</div>\n\t\t";
	;
	}
	output += "\n\t";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_title(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_content(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n\t\t\t";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "items")) > 0) {
	output += "\n\t\t\t\t<ul class=\"item-list\">\n\t\t\t\t\t";
	frame = frame.push();
	var t_14 = runtime.contextOrFrameLookup(context, frame, "items");
	if(t_14) {var t_13 = t_14.length;
	for(var t_12=0; t_12 < t_14.length; t_12++) {
	var t_15 = t_14[t_12];
	frame.set("item", t_15);
	frame.set("loop.index", t_12 + 1);
	frame.set("loop.index0", t_12);
	frame.set("loop.revindex", t_13 - t_12);
	frame.set("loop.revindex0", t_13 - t_12 - 1);
	frame.set("loop.first", t_12 === 0);
	frame.set("loop.last", t_12 === t_13 - 1);
	frame.set("loop.length", t_13);
	output += "\n\t\t\t\t\t\t";
	output += runtime.suppressValue((lineno = 48, colno = 22, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"listItem"), "macros[\"listItem\"]", context, [runtime.memberLookup((t_15),"text"),runtime.memberLookup((t_15),"url"),runtime.memberLookup((t_15),"icon"),runtime.memberLookup((t_15),"subtext"),runtime.makeKeywordArgs({"is_emphasized": runtime.memberLookup((t_15),"is_emphasized")})])), env.opts.autoescape);
	output += "\n\t\t\t\t\t";
	;
	}
	}
	frame = frame.pop();
	output += "\n\t\t\t\t\t";
	if(runtime.contextOrFrameLookup(context, frame, "loadMoreEnabled") && runtime.contextOrFrameLookup(context, frame, "hasMore")) {
	output += "\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<a class=\"list-item list-item-link show-more\" role=\"button\" titledby=\".item-text\"> \n\t\t\t\t\t\t\t\t<div class=\"item-icon item-icon-offset\">\n\t\t\t\t\t    \t\t\t<i class=\"fas fa-fw\"></i>\n\t\t\t\t\t    \t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"item-text\">\n\t\t\t\t\t                ";
	output += "\n\t\t\t\t\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Show more"), true && env.opts.autoescape);
	output += "\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t";
	;
	}
	output += "\n\t\t\t\t</ul>\n\t\t\t";
	;
	}
	else {
	output += "\n\t\t\t\t";
	context.getBlock("empty_content")(env, context, frame, runtime, function(t_17,t_16) {
	if(t_17) { cb(t_17); return; }
	output += t_16;
	output += "\n\t\t\t";
	});
	}
	output += "\n\t\t";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_empty_content(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<span class=\"list-item list-item-link list-item-center no-select\" href=\"#\" role=\"button\" titledby=\".item-text\"> \n\t\t\t\t    \t\t<div class=\"item-text\">\n\t\t\t\t                ";
	context.getBlock("empty_message")(env, context, frame, runtime, function(t_19,t_18) {
	if(t_19) { cb(t_19); return; }
	output += t_18;
	output += "\n\t\t\t\t    \t\t</div>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</li>\n\t\t\t\t";
	cb(null, output);
	});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_empty_message(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n\t\t\t\t\t                ";
	output += "\n\t\t\t\t\t\t\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"There are no items yet"), true && env.opts.autoescape);
	output += "\n\t\t\t\t\t\t\t\t";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	b_attrs: b_attrs,
	b_widget_dropdown: b_widget_dropdown,
	b_title: b_title,
	b_content: b_content,
	b_empty_content: b_empty_content,
	b_empty_message: b_empty_message,
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/userdashboard/base-widget.html"] , dependencies)

/***/ }),
/* 61 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var DelegatedWidgetView = __webpack_require__(51);
	var util = __webpack_require__(5);
	
	module.exports = DelegatedWidgetView.extend({
	
		app: null,
	    template: __webpack_require__(62),
	    
	    fetchURL: '/dashboard/api/user_liked_ideas/', // overridden for subview
	    
	    // will be set to self.options during initialization
	    defaults: {
	        
	        state: {
	            
	        }
	    },
	    
	    // The DOM events specific to an item.
	    events: {
	    	//'focus .nav-search-box': 'onSearchBoxFocusIn',
	    },
	
	    /** Overriding base function for unique widget ID. */
	    getWidgetId: function() {
	        return 'ideas-widget';
	    },
	    
	    /** Overriding params for request */
	    getParamsForFetchRequest: function() {
	    	return {urlSuffix: null, urlParams: {}}
	    },
	    
	
	    render: function () {
	        var self = this;
	        DelegatedWidgetView.prototype.render.call(self);
	        
	        util.log('*** Rendered ideas-widget! ***')
	        return self;
	    },
	    
	    /** Extend the template data by the controlView's options and state */
	    getTemplateData: function () {
	        var self = this;
	        var data = DelegatedWidgetView.prototype.getTemplateData.call(self);
	        return data;
	    },
	    
	    
	    
	
	});


/***/ }),
/* 62 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["userdashboard/base-widget"] = __webpack_require__( 60 );
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/userdashboard/ideas-widget.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("userdashboard/base-widget", true, "cosinnus/templates/cosinnus/universal/userdashboard/ideas-widget.html", false, function(t_2,_parentTemplate) {
	if(t_2) { cb(t_2); return; }
	parentTemplate = _parentTemplate
	for(var t_1 in parentTemplate.blocks) {
	context.addBlock(t_1, parentTemplate.blocks[t_1]);
	}
	output += "\n";
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/userdashboard/ideas-widget.html", false, function(t_4,t_3) {
	if(t_4) { cb(t_4); return; }
	t_3.getExported(function(t_5,t_3) {
	if(t_5) { cb(t_5); return; }
	context.setVariable("macros", t_3);
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("title"))(env, context, frame, runtime, function(t_7,t_6) {
	if(t_7) { cb(t_7); return; }
	output += t_6;
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("empty_content"))(env, context, frame, runtime, function(t_9,t_8) {
	if(t_9) { cb(t_9); return; }
	output += t_8;
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})})})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_title(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    ";
	output += "\n\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Ideas I like"), true && env.opts.autoescape);
	output += "\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_empty_content(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n\t<div class=\"widget-info-box no-select\">\n        ";
	output += "\n\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Here you can find an overview of Ideas you have liked."), true && env.opts.autoescape);
	output += "\n\t\t<br/>\n\t\t<br/>\n        ";
	output += "\n\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"You can create your own Ideas via the '+' button in the header or you can discover existing Ideas here"), true && env.opts.autoescape);
	output += ":\n\t\t<a href=\"/map/?people=false&events=false&projects=false&groups=false&conferences=false&ideas=true&organizations=false\">\n\t\t    ";
	output += "\n\t\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Discover"), true && env.opts.autoescape);
	output += "\n\t\t</a>\n\t</div>\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	b_title: b_title,
	b_empty_content: b_empty_content,
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/userdashboard/ideas-widget.html"] , dependencies)

/***/ }),
/* 63 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var DelegatedWidgetView = __webpack_require__(51);
	var util = __webpack_require__(5);
	
	module.exports = DelegatedWidgetView.extend({
	
		app: null,
	    template: __webpack_require__(64),
	    
	    fetchURL: '/dashboard/api/user_starred_users/', // overridden for subview
	    
	    // will be set to self.options during initialization
	    defaults: {
	        
	        state: {
	            
	        }
	    },
	    
	    // The DOM events specific to an item.
	    events: {
	    	//'focus .nav-search-box': 'onSearchBoxFocusIn',
	    },
	
	    /** Overriding base function for unique widget ID. */
	    getWidgetId: function() {
	        return 'starred-users-widget';
	    },
	    
	    /** Overriding params for request */
	    getParamsForFetchRequest: function() {
	    	return {urlSuffix: null, urlParams: {}}
	    },
	    
	
	    render: function () {
	        var self = this;
	        DelegatedWidgetView.prototype.render.call(self);
	        
	        util.log('*** Rendered ideas-widget! ***')
	        return self;
	    },
	    
	    /** Extend the template data by the controlView's options and state */
	    getTemplateData: function () {
	        var self = this;
	        var data = DelegatedWidgetView.prototype.getTemplateData.call(self);
	        data.title = COSINNUS_STARRED_USERS_LIST
	        return data;
	    },
	    
	    
	    
	
	});


/***/ }),
/* 64 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["userdashboard/base-widget"] = __webpack_require__( 60 );
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/userdashboard/starred-users-widget.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("userdashboard/base-widget", true, "cosinnus/templates/cosinnus/universal/userdashboard/starred-users-widget.html", false, function(t_2,_parentTemplate) {
	if(t_2) { cb(t_2); return; }
	parentTemplate = _parentTemplate
	for(var t_1 in parentTemplate.blocks) {
	context.addBlock(t_1, parentTemplate.blocks[t_1]);
	}
	output += "\n";
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/userdashboard/starred-users-widget.html", false, function(t_4,t_3) {
	if(t_4) { cb(t_4); return; }
	t_3.getExported(function(t_5,t_3) {
	if(t_5) { cb(t_5); return; }
	context.setVariable("macros", t_3);
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("title"))(env, context, frame, runtime, function(t_7,t_6) {
	if(t_7) { cb(t_7); return; }
	output += t_6;
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("content"))(env, context, frame, runtime, function(t_9,t_8) {
	if(t_9) { cb(t_9); return; }
	output += t_8;
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})})})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_title(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "title"), env.opts.autoescape);
	output += "\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_content(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "items")) > 0) {
	output += "\n        <ul class=\"item-list\">\n            ";
	frame = frame.push();
	var t_12 = runtime.contextOrFrameLookup(context, frame, "items");
	if(t_12) {var t_11 = t_12.length;
	for(var t_10=0; t_10 < t_12.length; t_10++) {
	var t_13 = t_12[t_10];
	frame.set("item", t_13);
	frame.set("loop.index", t_10 + 1);
	frame.set("loop.index0", t_10);
	frame.set("loop.revindex", t_11 - t_10);
	frame.set("loop.revindex0", t_11 - t_10 - 1);
	frame.set("loop.first", t_10 === 0);
	frame.set("loop.last", t_10 === t_11 - 1);
	frame.set("loop.length", t_11);
	output += "\n            ";
	output += runtime.suppressValue((lineno = 11, colno = 35, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"starredlistItem"), "macros[\"starredlistItem\"]", context, [t_13])), env.opts.autoescape);
	output += "\n            ";
	;
	}
	}
	frame = frame.pop();
	output += "\n        </ul>\n    ";
	;
	}
	else {
	output += "\n    <div class=\"widget-info-box no-select\">\n        ";
	output += "\n\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Nothing here yet."), true && env.opts.autoescape);
	output += "\n\t</div>\n    ";
	;
	}
	output += "\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	b_title: b_title,
	b_content: b_content,
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/userdashboard/starred-users-widget.html"] , dependencies)

/***/ }),
/* 65 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var DelegatedWidgetView = __webpack_require__(51);
	var util = __webpack_require__(5);
	
	module.exports = DelegatedWidgetView.extend({
	
		app: null,
	    template: __webpack_require__(66),
	    
	    fetchURL: '/dashboard/api/user_starred_objects/', // overridden for subview
	    
	    // will be set to self.options during initialization
	    defaults: {
	        
	        state: {
	            
	        }
	    },
	    
	    // The DOM events specific to an item.
	    events: {
	    	//'focus .nav-search-box': 'onSearchBoxFocusIn',
	    },
	
	    /** Overriding base function for unique widget ID. */
	    getWidgetId: function() {
	        return 'starred-objects-widget';
	    },
	    
	    /** Overriding params for request */
	    getParamsForFetchRequest: function() {
	    	return {urlSuffix: null, urlParams: {}}
	    },
	    
	
	    render: function () {
	        var self = this;
	        DelegatedWidgetView.prototype.render.call(self);
	        
	        util.log('*** Rendered ideas-widget! ***')
	        return self;
	    },
	    
	    /** Extend the template data by the controlView's options and state */
	    getTemplateData: function () {
	        var self = this;
	        var data = DelegatedWidgetView.prototype.getTemplateData.call(self);
	        data.title = COSINNUS_STARRED_OBJECTS_LIST
	        return data;
	    },
	    
	    
	    
	
	});


/***/ }),
/* 66 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["userdashboard/base-widget"] = __webpack_require__( 60 );
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/userdashboard/starred-objects-widget.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("userdashboard/base-widget", true, "cosinnus/templates/cosinnus/universal/userdashboard/starred-objects-widget.html", false, function(t_2,_parentTemplate) {
	if(t_2) { cb(t_2); return; }
	parentTemplate = _parentTemplate
	for(var t_1 in parentTemplate.blocks) {
	context.addBlock(t_1, parentTemplate.blocks[t_1]);
	}
	output += "\n";
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/userdashboard/starred-objects-widget.html", false, function(t_4,t_3) {
	if(t_4) { cb(t_4); return; }
	t_3.getExported(function(t_5,t_3) {
	if(t_5) { cb(t_5); return; }
	context.setVariable("macros", t_3);
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("title"))(env, context, frame, runtime, function(t_7,t_6) {
	if(t_7) { cb(t_7); return; }
	output += t_6;
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("content"))(env, context, frame, runtime, function(t_9,t_8) {
	if(t_9) { cb(t_9); return; }
	output += t_8;
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})})})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_title(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "title"), env.opts.autoescape);
	output += "\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_content(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "items")) > 0) {
	output += "\n        <ul class=\"item-list\">\n            ";
	frame = frame.push();
	var t_12 = runtime.contextOrFrameLookup(context, frame, "items");
	if(t_12) {var t_11 = t_12.length;
	for(var t_10=0; t_10 < t_12.length; t_10++) {
	var t_13 = t_12[t_10];
	frame.set("item", t_13);
	frame.set("loop.index", t_10 + 1);
	frame.set("loop.index0", t_10);
	frame.set("loop.revindex", t_11 - t_10);
	frame.set("loop.revindex0", t_11 - t_10 - 1);
	frame.set("loop.first", t_10 === 0);
	frame.set("loop.last", t_10 === t_11 - 1);
	frame.set("loop.length", t_11);
	output += "\n            ";
	output += runtime.suppressValue((lineno = 11, colno = 35, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"starredlistItem"), "macros[\"starredlistItem\"]", context, [t_13])), env.opts.autoescape);
	output += "\n            ";
	;
	}
	}
	frame = frame.pop();
	output += "\n        </ul>\n    ";
	;
	}
	else {
	output += "\n    <div class=\"widget-info-box no-select\">\n        ";
	output += "\n\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Nothing here yet."), true && env.opts.autoescape);
	output += "\n\t</div>\n    ";
	;
	}
	output += "\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	b_title: b_title,
	b_content: b_content,
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/userdashboard/starred-objects-widget.html"] , dependencies)

/***/ }),
/* 67 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var DelegatedWidgetView = __webpack_require__(51);
	var util = __webpack_require__(5);
	
	module.exports = DelegatedWidgetView.extend({
	
		app: null,
	    template: __webpack_require__(68),
	    
	    fetchURL: '/dashboard/api/user_followed_objects/', // overridden for subview
	    
	    // will be set to self.options during initialization
	    defaults: {
	        
	        state: {
	            
	        }
	    },
	    
	    // The DOM events specific to an item.
	    events: {
	    	//'focus .nav-search-box': 'onSearchBoxFocusIn',
	    },
	
	    /** Overriding base function for unique widget ID. */
	    getWidgetId: function() {
	        return 'followed-objects-widget';
	    },
	    
	    /** Overriding params for request */
	    getParamsForFetchRequest: function() {
	    	return {urlSuffix: null, urlParams: {}}
	    },
	    
	
	    render: function () {
	        var self = this;
	        DelegatedWidgetView.prototype.render.call(self);
	        
	        util.log('*** Rendered ideas-widget! ***')
	        return self;
	    },
	    
	    /** Extend the template data by the controlView's options and state */
	    getTemplateData: function () {
	        var self = this;
	        var data = DelegatedWidgetView.prototype.getTemplateData.call(self);
	        return data;
	    },
	    
	    
	    
	
	});


/***/ }),
/* 68 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["userdashboard/base-widget"] = __webpack_require__( 60 );
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/userdashboard/followed-objects-widget.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("userdashboard/base-widget", true, "cosinnus/templates/cosinnus/universal/userdashboard/followed-objects-widget.html", false, function(t_2,_parentTemplate) {
	if(t_2) { cb(t_2); return; }
	parentTemplate = _parentTemplate
	for(var t_1 in parentTemplate.blocks) {
	context.addBlock(t_1, parentTemplate.blocks[t_1]);
	}
	output += "\n";
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/userdashboard/followed-objects-widget.html", false, function(t_4,t_3) {
	if(t_4) { cb(t_4); return; }
	t_3.getExported(function(t_5,t_3) {
	if(t_5) { cb(t_5); return; }
	context.setVariable("macros", t_3);
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("title"))(env, context, frame, runtime, function(t_7,t_6) {
	if(t_7) { cb(t_7); return; }
	output += t_6;
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("content"))(env, context, frame, runtime, function(t_9,t_8) {
	if(t_9) { cb(t_9); return; }
	output += t_8;
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})})})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_title(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    ";
	output += "\n\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Items you follow"), true && env.opts.autoescape);
	output += "\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_content(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    ";
	if(env.getFilter("length").call(context, runtime.contextOrFrameLookup(context, frame, "items")) > 0) {
	output += "\n        <ul class=\"item-list\">\n            ";
	frame = frame.push();
	var t_12 = runtime.contextOrFrameLookup(context, frame, "items");
	if(t_12) {var t_11 = t_12.length;
	for(var t_10=0; t_10 < t_12.length; t_10++) {
	var t_13 = t_12[t_10];
	frame.set("item", t_13);
	frame.set("loop.index", t_10 + 1);
	frame.set("loop.index0", t_10);
	frame.set("loop.revindex", t_11 - t_10);
	frame.set("loop.revindex0", t_11 - t_10 - 1);
	frame.set("loop.first", t_10 === 0);
	frame.set("loop.last", t_10 === t_11 - 1);
	frame.set("loop.length", t_11);
	output += "\n            ";
	output += runtime.suppressValue((lineno = 12, colno = 36, runtime.callWrap(runtime.memberLookup((runtime.contextOrFrameLookup(context, frame, "macros")),"followedlistItem"), "macros[\"followedlistItem\"]", context, [t_13])), env.opts.autoescape);
	output += "\n            ";
	;
	}
	}
	frame = frame.pop();
	output += "\n\t\t</ul>\n\t";
	;
	}
	else {
	output += "\n\t<div class=\"widget-info-box no-select\">\n        ";
	output += "\n\t\t";
	output += runtime.suppressValue(env.getExtension("translation")["run"](context,"Nothing here yet."), true && env.opts.autoescape);
	output += "\n\t</div>\n    ";
	;
	}
	output += "\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	b_title: b_title,
	b_content: b_content,
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/userdashboard/followed-objects-widget.html"] , dependencies)

/***/ }),
/* 69 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var DelegatedWidgetView = __webpack_require__(51);
	var util = __webpack_require__(5);
	
	module.exports = DelegatedWidgetView.extend({
	
		app: null,
	    template: __webpack_require__(70),
	    
	    fetchURL: '/dashboard/api/user_typed_content/recent/', // overridden for subview
	    
	    // will be set to self.options during initialization
	    defaults: {
	    	
	    	type: null, // the type of the content the widget displays
	    	isMovable: true, // widget template options
	    	isHidable: false, // widget template options
	    	loadMoreEnabled: true, // widget template options
	        
	        state: {
	        	sortIndex: 0,
	            
	        }
	    },
	    
	    // The DOM events specific to an item.
	    events: {
	    	'click .sort-up': 'onMoveUpClicked',
	    	'click .sort-down': 'onMoveDownClicked',
	    	'click .show-more': 'onShowMoreClicked',
	    },
	    
	    initialize: function (options, app) {
	        var self = this;
	        self.app = app;
	        DelegatedWidgetView.prototype.initialize.call(self, options);
	        self.options.type = options.type; // would have happened in initialize already but let's be explicit
	        self.state.sortIndex = options.sortIndex;
	    },
	    
	    /** Overriding base function for unique widget ID. */
	    getWidgetId: function() {
	        return this.type + '-content-widget';
	    },
	    
	    /** Overriding params for request */
	    getParamsForFetchRequest: function() {
	    	var self = this;
	    	var superParams = DelegatedWidgetView.prototype.getParamsForFetchRequest.call(self);
	    	return {urlSuffix: this.options.type, urlParams: superParams['urlParams']}
	    },
	    
	    onMoveUpClicked: function (event) {
	    	var self = this;
	    	App.userDashboardView.moveRightSideWidget(self.options.type, true);
	    },
	    
	    onMoveDownClicked: function (event) {
	    	var self = this;
	    	App.userDashboardView.moveRightSideWidget(self.options.type, false);
	    },
	
	    render: function () {
	        var self = this;
	        DelegatedWidgetView.prototype.render.call(self);
	        
	        util.log('# ## Rendered widget ' + self.widgetId);
	    	
	        // remove widget if empty
	        if (self.widgetData && self.widgetData.items && self.widgetData.items.length == 0) {
	        	self.$el.remove()
	        }
	        // remove widget if unknown content type (app type might be disabled)
	        if (self.state['errorResponseText'] && self.state['errorResponseText'].startsWith('Unknown content type supplied')) {
	            self.$el.remove()
	        }
	        
	        
	        return self;
	    },
	    
	    /** Extend the template data by the controlView's options and state */
	    getTemplateData: function () {
	        var self = this;
	        var data = DelegatedWidgetView.prototype.getTemplateData.call(self);
	        return data;
	    },
	    
	    
	    
	
	});


/***/ }),
/* 70 */
/***/ (function(module, exports, __webpack_require__) {

	var nunjucks = __webpack_require__(8);
	var env;
	if (!nunjucks.currentEnv){
		env = nunjucks.currentEnv = new nunjucks.Environment([], undefined);
	} else {
		env = nunjucks.currentEnv;
	}
	var configure = __webpack_require__(9)(env);
	var dependencies = nunjucks.webpackDependencies || (nunjucks.webpackDependencies = {});
	dependencies["userdashboard/base-widget"] = __webpack_require__( 60 );
	dependencies["include/macros.html"] = __webpack_require__( 23 );
	
	
	
	
	var shim = __webpack_require__(10);
	
	
	(function() {(nunjucks.nunjucksPrecompiled = nunjucks.nunjucksPrecompiled || {})["cosinnus/templates/cosinnus/universal/userdashboard/typed-content-widget.html"] = (function() {
	function root(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	var parentTemplate = null;
	env.getTemplate("userdashboard/base-widget", true, "cosinnus/templates/cosinnus/universal/userdashboard/typed-content-widget.html", false, function(t_2,_parentTemplate) {
	if(t_2) { cb(t_2); return; }
	parentTemplate = _parentTemplate
	for(var t_1 in parentTemplate.blocks) {
	context.addBlock(t_1, parentTemplate.blocks[t_1]);
	}
	output += "\n";
	env.getTemplate("include/macros.html", false, "cosinnus/templates/cosinnus/universal/userdashboard/typed-content-widget.html", false, function(t_4,t_3) {
	if(t_4) { cb(t_4); return; }
	t_3.getExported(function(t_5,t_3) {
	if(t_5) { cb(t_5); return; }
	context.setVariable("macros", t_3);
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("attrs"))(env, context, frame, runtime, function(t_7,t_6) {
	if(t_7) { cb(t_7); return; }
	output += t_6;
	output += "\n\n";
	(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : context.getBlock("title"))(env, context, frame, runtime, function(t_9,t_8) {
	if(t_9) { cb(t_9); return; }
	output += t_8;
	output += "\n\n\n";
	if(parentTemplate) {
	parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);
	} else {
	cb(null, output);
	}
	})})})})});
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_attrs(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "data-sort-index=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "sortIndex"), env.opts.autoescape);
	output += "\" data-content-type=\"";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "type"), env.opts.autoescape);
	output += "\"";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	function b_title(env, context, frame, runtime, cb) {
	var lineno = null;
	var colno = null;
	var output = "";
	try {
	output += "\n    ";
	output += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, "widget_title"), env.opts.autoescape);
	output += "\n";
	cb(null, output);
	;
	} catch (e) {
	  cb(runtime.handleError(e, lineno, colno));
	}
	}
	return {
	b_attrs: b_attrs,
	b_title: b_title,
	root: root
	};
	
	})();
	})();
	
	
	
	module.exports = shim(nunjucks, env, nunjucks.nunjucksPrecompiled["cosinnus/templates/cosinnus/universal/userdashboard/typed-content-widget.html"] , dependencies)

/***/ }),
/* 71 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';
	
	var util = __webpack_require__(5);
	
	module.exports = Backbone.View.extend({
	    
		uiPrefs: null,
		fetchUrl: '/dashboard/api/save_ui_prefs/',
		
	    initialize: function (uiPrefs) {
	        var self = this;
	        Backbone.View.prototype.initialize.call(self);
	        $('body').on('click', '[data-target="ui-pref"]', self.onUiPrefLinkClicked.bind(this));
	        self.uiPrefs = uiPrefs;
	    },
	    
	    /** Returns a uiPref for the given ui_pref key, e.g. 'timeline__only_mine' */
	    getUiPref: function(uiPref) {
	    	if (uiPref in this.uiPrefs) {
	    		return this.uiPrefs[uiPref];
	    	}
	    	return null;
	    },
	    
	    /** Applies the given uiPrefs into the current state and
	     * 	sends a request to persist them in the DB for this user.
	     * 	The API only persists well-formed, existing ui prefs, so
	     *  we don't need to worry about validating them. */
	    saveUiPrefs: function(uiPrefDict) {
	    	var url = this.fetchUrl;
	    	$.extend(true, self.uiPrefs, uiPrefDict);
	    	return new Promise(function(resolve, reject) {
				$.ajax(url, {
	                type: 'POST',
	                timeout: 15000,
	                data: uiPrefDict,
	                success: function (response, textStatus, xhr) {
	                    if (xhr.status == 200) {
	                		resolve();
	                    } else {
	                    	reject(xhr.statusText);
	                    }
	                },
	                error: function (xhr, textStatus) {
	                	reject(xhr.statusText);
	                }
	            });
	    	});
	    	
	    },
	    
	    /** A listener for clicks on links that cause ui pref changes. 
	     * 	Required attributes on the link are:
	     * 		- `data-target="ui-pref"`: as identifier
	     * 		- `data-ui-pref`: set to the name of the ui pref
	     * 		- `data-ui-pref-value`: set to the value the ui pref should take
	     * 		- `data-hide-after`: (optional) a selector for an element that should be hidden 
	     * 				after the ui pref was saved
	     *  */
	    onUiPrefLinkClicked: function(event) {
	    	var self = this;
	    	var prefs = {};
	    	var $link = $(event.target);
	    	
	    	if (!$link.is('[data-target="ui-pref"]')) {
	    	    $link = $link.parents('[data-target="ui-pref"]');
	    	}
	    	if ($link.is('[data-target="ui-pref"]')) {
	        	prefs[$link.attr('data-ui-pref')] = $link.attr('data-ui-pref-value');
	        	this.saveUiPrefs(prefs);
	        	
	        	// if an element is given in `data-hide-after`, hide that element
	        	var hideAfter = $link.attr('data-hide-after');
	        	if (hideAfter) {
	        		$(hideAfter).fadeOut();
	        	}
	    	}
	    },
	    
	});


/***/ })
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgOGQyOTAxODNlNjcwYzhhZTI5OGEiLCJ3ZWJwYWNrOi8vLy4vY29zaW5udXMvY2xpZW50L2FwcC5qcyIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy9jbGllbnQvcm91dGVyLmpzIiwid2VicGFjazovLy8uL2Nvc2lubnVzL2NsaWVudC92aWV3cy9tYXAtdmlldy5qcyIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy9jbGllbnQvdmlld3MvYmFzZS9jb250ZW50LWNvbnRyb2wtdmlldy5qcyIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy9jbGllbnQvdmlld3MvYmFzZS92aWV3LmpzIiwid2VicGFjazovLy8uL2Nvc2lubnVzL2NsaWVudC9saWIvdXRpbC5qcyIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy9jbGllbnQvdmlld3MvbWFwLWxheWVyLWJ1dHRvbnMtdmlldy5qcyIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL21hcC9tYXAtbGF5ZXItYnV0dG9ucy5odG1sIiwid2VicGFjazovLy8uL34vbnVuanVja3MvYnJvd3Nlci9udW5qdWNrcy1zbGltLmpzIiwid2VicGFjazovLy8uL251bmp1Y2tzLmNvbmZpZy5qcyIsIndlYnBhY2s6Ly8vLi9+L251bmp1Y2tzLWxvYWRlci9ydW50aW1lLXNoaW0uanMiLCJ3ZWJwYWNrOi8vLy4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC9tYXAvcG9wdXAuaHRtbCIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL21hcC9tYXAuaHRtbCIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy9jbGllbnQvbWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vY29zaW5udXMvY2xpZW50L3ZpZXdzL2NvbnRyb2wtdmlldy5qcyIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy9jbGllbnQvdmlld3MvZXJyb3Itdmlldy5qcyIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3hoci1lcnJvci5odG1sIiwid2VicGFjazovLy8uL2Nvc2lubnVzL2NsaWVudC92aWV3cy9wYWdpbmF0aW9uLWNvbnRyb2wtdmlldy5qcyIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL21hcC9wYWdpbmF0aW9uLWNvbnRyb2xzLmh0bWwiLCJ3ZWJwYWNrOi8vLy4vY29zaW5udXMvY2xpZW50L3ZpZXdzL21vYmlsZS1jb250cm9sLXZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC9tYXAvbW9iaWxlLWNvbnRyb2xzLmh0bWwiLCJ3ZWJwYWNrOi8vLy4vY29zaW5udXMvY2xpZW50L3ZpZXdzL2NyZWF0ZS1pZGVhLXZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy90aWxlLWRldGFpbC1jcmVhdGUtaWRlYS5odG1sIiwid2VicGFjazovLy8uL2Nvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvaW5jbHVkZS9tYWNyb3MuaHRtbCIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy9jbGllbnQvY29sbGVjdGlvbnMvcmVzdWx0LWNvbGxlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vY29zaW5udXMvY2xpZW50L21vZGVscy9yZXN1bHQuanMiLCJ3ZWJwYWNrOi8vLy4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC9tYXAvbWFwLWNvbnRyb2xzLmh0bWwiLCJ3ZWJwYWNrOi8vLy4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC9tYXAvbWFwLWNvbnRyb2xzLWFjdGl2ZS1maWx0ZXJzLmh0bWwiLCJ3ZWJwYWNrOi8vLy4vY29zaW5udXMvY2xpZW50L3ZpZXdzL3RpbGUtbGlzdC12aWV3LmpzIiwid2VicGFjazovLy8uL2Nvc2lubnVzL2NsaWVudC92aWV3cy90aWxlLXZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy9ncmlkLXRpbGUtZGVmYXVsdC5odG1sIiwid2VicGFjazovLy8uL2Nvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvZ3JpZC10aWxlLWJhc2UuaHRtbCIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL2dyaWQtdGlsZS1jbG91ZGZpbGUuaHRtbCIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtbGlzdC5odG1sIiwid2VicGFjazovLy8uL2Nvc2lubnVzL2NsaWVudC92aWV3cy90aWxlLWRldGFpbC12aWV3LmpzIiwid2VicGFjazovLy8uL2Nvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtcHJvamVjdHMuaHRtbCIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtZGV0YWlsLWJhc2UtZ3JvdXAuaHRtbCIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtZGV0YWlsLWJhc2UuaHRtbCIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtZGV0YWlsLWdyb3Vwcy5odG1sIiwid2VicGFjazovLy8uL2Nvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtY29uZmVyZW5jZXMuaHRtbCIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtZGV0YWlsLXBlb3BsZS5odG1sIiwid2VicGFjazovLy8uL2Nvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtZXZlbnRzLmh0bWwiLCJ3ZWJwYWNrOi8vLy4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy90aWxlLWRldGFpbC1pZGVhcy5odG1sIiwid2VicGFjazovLy8uL2Nvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtb3JnYW5pemF0aW9ucy5odG1sIiwid2VicGFjazovLy8uL2Nvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtZXJyb3ItNDAzLmh0bWwiLCJ3ZWJwYWNrOi8vLy4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy90aWxlLWRldGFpbC1lcnJvci5odG1sIiwid2VicGFjazovLy8uL2Nvc2lubnVzL2NsaWVudC92aWV3cy9uYXZiYXIvcXVpY2tzZWFyY2gtdmlldy5qcyIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL25hdmJhci9xdWlja3NlYXJjaC5odG1sIiwid2VicGFjazovLy8uL2Nvc2lubnVzL2NsaWVudC92aWV3cy9uYXZiYXIvbWFpbi1tZW51LXZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC9uYXZiYXIvbWFpbi1tZW51Lmh0bWwiLCJ3ZWJwYWNrOi8vLy4vY29zaW5udXMvY2xpZW50L3ZpZXdzL25hdmJhci9ub3RpZmljYXRpb24td2lkZ2V0LXZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vY29zaW5udXMvY2xpZW50L3ZpZXdzL2Jhc2UvZGVsZWdhdGVkLXdpZGdldC12aWV3LmpzIiwid2VicGFjazovLy8uL2Nvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvbmF2YmFyL25vdGlmaWNhdGlvbi13aWRnZXQuaHRtbCIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL2luY2x1ZGUvbm90aWZpY2F0aW9uLWl0ZW0uaHRtbCIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy9jbGllbnQvdmlld3MvdXNlcmRhc2hib2FyZC91c2VyZGFzaGJvYXJkLXZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vY29zaW5udXMvY2xpZW50L3ZpZXdzL3VzZXJkYXNoYm9hcmQvdGltZWxpbmUtdmlldy5qcyIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3VzZXJkYXNoYm9hcmQvdGltZWxpbmUuaHRtbCIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3VzZXJkYXNoYm9hcmQvdGltZWxpbmUtaXRlbS1wbGFjZWhvbGRlci5odG1sIiwid2VicGFjazovLy8uL2Nvc2lubnVzL2NsaWVudC92aWV3cy91c2VyZGFzaGJvYXJkL2dyb3VwLXdpZGdldC12aWV3LmpzIiwid2VicGFjazovLy8uL2Nvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdXNlcmRhc2hib2FyZC9ncm91cC13aWRnZXQuaHRtbCIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3VzZXJkYXNoYm9hcmQvYmFzZS13aWRnZXQuaHRtbCIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy9jbGllbnQvdmlld3MvdXNlcmRhc2hib2FyZC9pZGVhcy13aWRnZXQtdmlldy5qcyIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3VzZXJkYXNoYm9hcmQvaWRlYXMtd2lkZ2V0Lmh0bWwiLCJ3ZWJwYWNrOi8vLy4vY29zaW5udXMvY2xpZW50L3ZpZXdzL3VzZXJkYXNoYm9hcmQvc3RhcnJlZC11c2Vycy13aWRnZXQtdmlldy5qcyIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3VzZXJkYXNoYm9hcmQvc3RhcnJlZC11c2Vycy13aWRnZXQuaHRtbCIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy9jbGllbnQvdmlld3MvdXNlcmRhc2hib2FyZC9zdGFycmVkLW9iamVjdHMtd2lkZ2V0LXZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC91c2VyZGFzaGJvYXJkL3N0YXJyZWQtb2JqZWN0cy13aWRnZXQuaHRtbCIsIndlYnBhY2s6Ly8vLi9jb3Npbm51cy9jbGllbnQvdmlld3MvdXNlcmRhc2hib2FyZC9mb2xsb3dlZC1vYmplY3RzLXdpZGdldC12aWV3LmpzIiwid2VicGFjazovLy8uL2Nvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdXNlcmRhc2hib2FyZC9mb2xsb3dlZC1vYmplY3RzLXdpZGdldC5odG1sIiwid2VicGFjazovLy8uL2Nvc2lubnVzL2NsaWVudC92aWV3cy91c2VyZGFzaGJvYXJkL3R5cGVkLWNvbnRlbnQtd2lkZ2V0LXZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC91c2VyZGFzaGJvYXJkL3R5cGVkLWNvbnRlbnQtd2lkZ2V0Lmh0bWwiLCJ3ZWJwYWNrOi8vLy4vY29zaW5udXMvY2xpZW50L3ZpZXdzL3VzZXJkYXNoYm9hcmQvdWktcHJlZnMtdmlldy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsdUJBQWU7QUFDZjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7Ozs7OztBQ3RDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1QsNkRBQTRELHVCQUF1QjtBQUNuRjtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQThDLG1EQUFtRDtBQUNqRyx5Q0FBd0MsOENBQThDO0FBQ3RGOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYTtBQUNiO0FBQ0E7QUFDQSxXQUFVO0FBQ1Y7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVO0FBQ1Y7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxFQUFDOzs7Ozs7O0FDalpEOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLE1BQUs7O0FBRUw7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUU7QUFDQTtBQUNBO0FBQ0EsY0FBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkQ7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUOzs7QUFHQSxFQUFDOzs7Ozs7O0FDcEREOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBeUIsRUFBRSxrQ0FBa0MsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFO0FBQ3ZFLDRDQUEyQyxFQUFFLGtDQUFrQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUU7QUFDekY7QUFDQSx1SkFBc0o7QUFDdEo7QUFDQSxVQUFTO0FBQ1QsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUF5QixFQUFFLG9DQUFvQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUU7QUFDekUsMkJBQTBCLEVBQUUsb0NBQW9DLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtBQUMxRTtBQUNBLHFDQUFvQztBQUNwQztBQUNBLFVBQVM7QUFDVCxNQUFLOztBQUVMO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsZ0NBQStCO0FBQy9CO0FBQ0E7QUFDQSxnQkFBZTs7QUFFZjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUzs7QUFFVDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVCxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVTtBQUNWLFVBQVM7QUFDVDtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOzs7QUFHTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBeUMsbUJBQW1CO0FBQzVEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7QUFDQTtBQUNBLFVBQVM7OztBQUdUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2IsVTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQTtBQUNBLFVBQVM7OztBQUdUO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7OztBQUdMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBLG9CQUFtQjtBQUNuQiw2QkFBNEIsZUFBZTtBQUMzQztBQUNBLG9CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHNCQUFxQixvQ0FBb0M7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDBCQUF5QixxQkFBcUI7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFxQjtBQUNyQjtBQUNBLGtCQUFpQjtBQUNqQjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxzQ0FBcUMsUUFBUTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxrQkFBaUI7QUFDakI7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esc0JBQXFCLHFCQUFxQjtBQUMxQztBQUNBO0FBQ0Esa0RBQWlELFFBQVE7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7QUFDQTtBQUNBLFVBQVM7QUFDVCxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsT0FBTTtBQUNOO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFNO0FBQ047QUFDQTtBQUNBLE1BQUs7OztBQUdMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7OztBQUdMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQTZCO0FBQzdCO0FBQ0Esc0JBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLHNCQUFxQjtBQUNyQjtBQUNBLGNBQWEscUJBQXFCOztBQUVsQzs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYTtBQUNiO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYTtBQUNiO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsY0FBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMLHlCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0EsTUFBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYTtBQUNiOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYjtBQUNBO0FBQ0Esa0JBQWlCO0FBQ2pCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2IsVUFBUztBQUNULE1BQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF3RCwyQkFBMkI7QUFDbkYsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLEVBQUM7Ozs7Ozs7QUNud0JEOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsNkJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7O0FBRUE7QUFDQTtBQUNBLHFDQUFvQyxzSUFBc0k7QUFDMUssVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFpQjtBQUNqQjtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7QUFDTCxFQUFDOzs7Ozs7O0FDbkZEOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXdDO0FBQ3hDO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUEyQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0RBQThEO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQzs7Ozs7OztBQ25IRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBLDJEQUEwRDtBQUMxRDtBQUNBO0FBQ0EsTUFBSztBQUNMOzs7Ozs7O0FDOUlBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMLEVBQUM7Ozs7Ozs7QUM3Q0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0Esc0ZBQXFGOzs7OztBQUtyRjs7O0FBR0EsY0FBYSxrRUFBa0U7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUM7QUFDRCxFQUFDOzs7O0FBSUQsc0o7Ozs7OztBQ3pEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRCxxQ0FBb0M7QUFDcEM7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esd0JBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVO0FBQ1Y7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0EsUUFBTztBQUNQO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGlCQUFnQjtBQUNoQixrQkFBaUI7QUFDakIsa0JBQWlCO0FBQ2pCLGdCQUFlO0FBQ2YsZ0JBQWU7QUFDZjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBLHFDQUFvQztBQUNwQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esb0VBQW1FLGlCQUFpQjtBQUNwRixrQkFBaUIsY0FBYztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxrQkFBaUIsS0FBSztBQUN0QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFtQyxLQUFLO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLGtCQUFpQixjQUFjO0FBQy9CO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFNO0FBQ047QUFDQSx5Q0FBd0M7O0FBRXhDOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZUFBYyxtQkFBbUI7QUFDakM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTTtBQUNOO0FBQ0EsT0FBTTtBQUNOO0FBQ0EsT0FBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQSxRQUFPO0FBQ1A7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx1QkFBc0IsY0FBYyxFQUFFO0FBQ3RDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU07O0FBRU47QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsbUJBQWtCO0FBQ2xCO0FBQ0EsV0FBVTtBQUNWLE9BQU07O0FBRU47QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU07O0FBRU47QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFNOztBQUVOO0FBQ0E7QUFDQSxPQUFNOztBQUVOO0FBQ0E7QUFDQSxPQUFNOztBQUVOO0FBQ0E7QUFDQTtBQUNBLE9BQU07O0FBRU47QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU07O0FBRU47QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQSxPQUFNOztBQUVOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNEIseUJBQXlCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWM7O0FBRWQ7QUFDQTtBQUNBLE9BQU07O0FBRU47QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFNOztBQUVOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7O0FBRVY7QUFDQSxPQUFNOztBQUVOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFNOztBQUVOO0FBQ0E7QUFDQSxPQUFNOztBQUVOO0FBQ0E7QUFDQSxPQUFNOztBQUVOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE9BQU07O0FBRU47QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsT0FBTTs7QUFFTjtBQUNBO0FBQ0EsT0FBTTs7QUFFTjtBQUNBO0FBQ0Esc0JBQXFCLHdCQUF3QjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9EQUFtRDtBQUNuRCxvREFBbUQ7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU07O0FBRU47QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNkNBQTRDO0FBQzVDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQThCLFdBQVc7QUFDekM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFNOzs7QUFHTjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLDZDQUE0QztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFvQjtBQUNwQjtBQUNBO0FBQ0EsK0JBQThCO0FBQzlCLE9BQU07O0FBRU47QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFNOztBQUVOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU07O0FBRU47QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQSxRQUFPO0FBQ1A7QUFDQTs7OztBQUlBLFFBQU87QUFDUDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYSxNQUFNO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQSxRQUFPO0FBQ1A7QUFDQTs7QUFFQSxnREFBK0M7O0FBRS9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtFQUFpRSxrQkFBa0I7QUFDbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUU7QUFDRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBNkIsb0JBQW9CO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw4QkFBNkIsNEJBQTRCLGFBQWEsRUFBRTs7QUFFeEUsUUFBTztBQUNQO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHlDQUF3QyxLQUFLLEVBQUU7QUFDL0M7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLDhDQUE2Qzs7O0FBRzdDLFFBQU87QUFDUDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU07O0FBRU47QUFDQTtBQUNBO0FBQ0E7O0FBRUEsb0JBQW1CLGdCQUFnQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxxQ0FBb0MsZUFBZTtBQUNuRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLE9BQU07O0FBRU47QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFNOztBQUVOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFNOztBQUVOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVjtBQUNBLFdBQVU7QUFDVjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFVOztBQUVWO0FBQ0EsT0FBTTs7QUFFTjtBQUNBO0FBQ0EsT0FBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFNOztBQUVOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU07O0FBRU47QUFDQTtBQUNBLE9BQU07O0FBRU47QUFDQTtBQUNBLE9BQU07O0FBRU47QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxzQkFBcUIsZ0JBQWdCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsT0FBTTs7QUFFTjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGVBQWM7QUFDZDs7QUFFQTtBQUNBLE9BQU07O0FBRU47QUFDQTtBQUNBLE9BQU07O0FBRU47QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFNOztBQUVOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMEJBQXlCO0FBQ3pCO0FBQ0EsZUFBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQSxPQUFNOztBQUVOO0FBQ0E7QUFDQSxPQUFNOztBQUVOO0FBQ0E7QUFDQTtBQUNBLFNBQVE7QUFDUixPQUFNOztBQUVOO0FBQ0E7QUFDQTtBQUNBLFNBQVE7QUFDUixPQUFNOztBQUVOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSx1QkFBc0I7O0FBRXRCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx3QkFBdUI7O0FBRXZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFNOztBQUVOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLFVBQVUsRUFBRTtBQUN6RDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU07O0FBRU47QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsT0FBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHNCQUFxQixVQUFVO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsT0FBTTs7QUFFTjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFjO0FBQ2Q7O0FBRUEsd0JBQXVCLGdCQUFnQjtBQUN2QztBQUNBOztBQUVBO0FBQ0EsT0FBTTs7QUFFTjtBQUNBO0FBQ0EsMENBQXlDLFVBQVUsRUFBRTs7QUFFckQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7O0FBRVY7QUFDQSxPQUFNOztBQUVOO0FBQ0E7QUFDQSxPQUFNOztBQUVOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBOEM7QUFDOUMsV0FBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLE9BQU07O0FBRU47QUFDQTtBQUNBO0FBQ0Esd0JBQXVCLGtCQUFrQjtBQUN6QztBQUNBO0FBQ0E7QUFDQSxPQUFNOztBQUVOO0FBQ0E7QUFDQSxPQUFNOztBQUVOO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFNOztBQUVOO0FBQ0E7QUFDQTtBQUNBLE9BQU07O0FBRU47QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBa0I7QUFDbEIsZUFBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU07O0FBRU47QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EscUNBQW9DLHlCQUF5QjtBQUM3RDtBQUNBLGdEQUErQyxFQUFFO0FBQ2pEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxXQUFVOztBQUVWO0FBQ0EsT0FBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU07O0FBRU47QUFDQTtBQUNBO0FBQ0EsT0FBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7O0FBR0EsUUFBTztBQUNQO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHNCQUFxQixvQkFBb0I7QUFDekM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE9BQU07O0FBRU47QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU07O0FBRU47QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFNOztBQUVOO0FBQ0E7QUFDQSxPQUFNOztBQUVOO0FBQ0E7QUFDQTtBQUNBLEdBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esd0JBQXVCLGlCQUFpQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwrQkFBOEIscUJBQXFCO0FBQ25EOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZUFBYztBQUNkLEdBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLCtDQUE4QztBQUM5QywyREFBMEQ7QUFDMUQsb0VBQW1FO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF1QixnQkFBZ0I7QUFDdkM7O0FBRUE7QUFDQSxtREFBa0Q7QUFDbEQsK0RBQThEO0FBQzlELHdFQUF1RTtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBdUIsaUJBQWlCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQSxRQUFPO0FBQ1A7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVOztBQUVWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVU7QUFDVjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsK0JBQThCLFFBQVE7QUFDdEM7QUFDQTtBQUNBLGVBQWM7QUFDZCwrQkFBOEIsUUFBUTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7O0FBRVY7QUFDQSxjQUFhOztBQUViO0FBQ0E7QUFDQSxXQUFVOztBQUVWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7OztBQUdBLFFBQU87QUFDUDtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU07O0FBRU47QUFDQTtBQUNBO0FBQ0Esd0JBQXVCO0FBQ3ZCLHNEQUFxRDtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRTs7QUFFRjs7O0FBR0EsUUFBTztBQUNQO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFNOztBQUVOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBYztBQUNkO0FBQ0EsT0FBTTs7QUFFTjtBQUNBO0FBQ0EsT0FBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQSxHQUFFOztBQUVGOzs7QUFHQSxRQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwrQkFBOEI7QUFDOUIsdUJBQXNCOztBQUV0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTtBQUNOO0FBQ0EsdUJBQXNCLGlCQUFpQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTtBQUNOO0FBQ0E7QUFDQSx1QkFBc0IsaUJBQWlCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTtBQUNOO0FBQ0E7QUFDQSxPQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU07QUFDTjtBQUNBO0FBQ0EsT0FBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUTtBQUNSO0FBQ0EsU0FBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLE9BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEwRDtBQUMxRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMEI7QUFDMUI7O0FBRUE7QUFDQSwyQkFBMEI7QUFDMUI7O0FBRUE7QUFDQTtBQUNBOztBQUVBOzs7QUFHQTtBQUNBO0FBQ0EsRUFBQztBQUNELEU7Ozs7OztBQzFvRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7Ozs7OztBQ2xDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxHOzs7Ozs7QUM3Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0Esc0ZBQXFGOzs7OztBQUtyRjs7O0FBR0EsY0FBYSxrRUFBa0U7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFDO0FBQ0QsRUFBQzs7OztBQUlELDBJOzs7Ozs7QUNyREE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0Esc0ZBQXFGOzs7OztBQUtyRjs7O0FBR0EsY0FBYSxrRUFBa0U7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFDO0FBQ0QsRUFBQzs7OztBQUlELHdJOzs7Ozs7QUM5REE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FDWEE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7O0FBRUEsc0JBQXFCO0FBQ3JCLDBCQUF5QjtBQUN6QixvQkFBbUI7QUFDbkIsMkJBQTBCO0FBQzFCLDhCQUE2QjtBQUM3QjtBQUNBO0FBQ0EsdUJBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBeUI7O0FBRXpCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsMEQ7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxVOztBQUVBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBaUI7QUFDakI7O0FBRUE7QUFDQTtBQUNBLGNBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYTtBQUNiOzs7QUFHQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFpQjtBQUNqQjtBQUNBO0FBQ0Esa0JBQWlCOztBQUVqQjtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOzs7QUFHTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxRQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxxQ0FBb0M7QUFDcEM7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQTtBQUNBLE1BQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7OztBQUdMOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQjtBQUNBLHNCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxrQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWlCO0FBQ2pCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWlFLGtCQUFrQjtBQUNuRiwwQkFBeUI7QUFDekIsa0VBQWlFLGNBQWM7QUFDL0U7QUFDQTtBQUNBO0FBQ0EsY0FBYTs7O0FBR2I7QUFDQSxNQUFLOztBQUVMOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQjtBQUNBLGNBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVCxNQUFLOzs7QUFHTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCO0FBQ0EsY0FBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNULE1BQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxjQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsY0FBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTOzs7QUFHVCxNQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVO0FBQ1Y7O0FBRUEsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1QsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsY0FBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXdELGFBQWE7QUFDckU7QUFDQTtBQUNBLGNBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF3RCxhQUFhO0FBQ3JFO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFc7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsTUFBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBd0M7O0FBRXhDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7O0FBR0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1QsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBeUQ7QUFDekQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1QsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGNBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxjQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0JBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLHNCQUFxQjtBQUNyQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxzQkFBcUI7QUFDckI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2IsVUFBUztBQUNUO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNULE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNULE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNULE1BQUs7O0FBRUwsRUFBQzs7Ozs7OztBQzN2REQ7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFDOzs7Ozs7O0FDZEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0Esc0ZBQXFGOzs7OztBQUtyRjs7O0FBR0EsY0FBYSxrRUFBa0U7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUM7QUFDRCxFQUFDOzs7O0FBSUQsMEk7Ozs7OztBQzdDQTs7QUFFQTtBQUNBOztBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMLEVBQUM7Ozs7Ozs7QUMxR0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0Esc0ZBQXFGOzs7OztBQUtyRjs7O0FBR0EsY0FBYSxrRUFBa0U7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUM7QUFDRCxFQUFDOzs7O0FBSUQsd0o7Ozs7OztBQ3RKQTs7QUFFQTtBQUNBOztBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7OztBQUdMOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLE1BQUs7OztBQUdMLEVBQUM7Ozs7Ozs7QUNqRkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0Esc0ZBQXFGOzs7OztBQUtyRjs7O0FBR0EsY0FBYSxrRUFBa0U7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUM7QUFDRCxFQUFDOzs7O0FBSUQsb0o7Ozs7OztBQzNFQTs7QUFFQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RDtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUEsRUFBQzs7Ozs7OztBQ3RGRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxzRkFBcUY7QUFDckY7Ozs7O0FBS0E7OztBQUdBLGNBQWEsa0VBQWtFO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0EsNkNBQTRDLFFBQVEsRUFBRTtBQUN0RCxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0EsNkNBQTRDLFFBQVEsRUFBRTtBQUN0RCxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0EsMERBQXlELG9EQUFvRCxvREFBb0Q7QUFDaks7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0EsRUFBQyxFQUFFLEVBQUUsRUFBRTtBQUNQLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMFBBQXlQO0FBQ3pQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUM7QUFDRCxFQUFDOzs7O0FBSUQsOEo7Ozs7OztBQ3RHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxzRkFBcUY7Ozs7O0FBS3JGOzs7QUFHQSxjQUFhLGtFQUFrRTtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9HQUFtRztBQUNuRyxjQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0tBQXFLLDBGQUEwRjtBQUMvUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxS0FBb0sseUVBQXlFO0FBQzdPO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW1DO0FBQ25DO0FBQ0E7QUFDQSxlQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFtQztBQUNuQztBQUNBO0FBQ0EsZUFBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUM7QUFDRCxFQUFDOzs7O0FBSUQsK0k7Ozs7OztBQ3h0Q0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUEsRUFBQyxFOzs7Ozs7QUNwQkQ7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFLOztBQUVMOztBQUVBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBLEVBQUMsRTs7Ozs7O0FDdEREO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLHNGQUFxRjtBQUNyRjs7Ozs7QUFLQTs7O0FBR0EsY0FBYSxrRUFBa0U7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVCxlQUFjLGtCQUFrQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRNQUEyTSw2RkFBNkY7QUFDeFM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVO0FBQ1YsZUFBYyxtQkFBbUI7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVO0FBQ1YsZ0JBQWUsb0JBQW9CO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVTtBQUNWO0FBQ0E7QUFDQSxZQUFXLG9CQUFvQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVO0FBQ1Y7QUFDQTtBQUNBLFlBQVcsb0JBQW9CO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTJELHNEQUFzRDtBQUNqSDtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQSxFQUFDLEVBQUU7QUFDSCxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUM7QUFDRCxFQUFDOzs7O0FBSUQsaUo7Ozs7OztBQ2pjQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxzRkFBcUY7Ozs7O0FBS3JGOzs7QUFHQSxjQUFhLGtFQUFrRTtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQSxXQUFVLGtCQUFrQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVTtBQUNWLGVBQWMsbUJBQW1CO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVTtBQUNWO0FBQ0E7QUFDQSxZQUFXLG9CQUFvQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVTtBQUNWLGdCQUFlLG9CQUFvQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVjtBQUNBO0FBQ0EsWUFBVyxvQkFBb0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVixnQkFBZSxvQkFBb0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVO0FBQ1YsZ0JBQWUsb0JBQW9CO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVTtBQUNWLGdCQUFlLG9CQUFvQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVixnQkFBZSxvQkFBb0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFDO0FBQ0QsRUFBQzs7OztBQUlELGdLOzs7Ozs7QUNsaUJBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLGdDQUErQjtBQUMvQjtBQUNBO0FBQ0EsY0FBYTs7QUFFYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7O0FBRVQ7O0FBRUE7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7O0FBR0w7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxNQUFLOzs7QUFHTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVTtBQUNWO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7O0FBRUEsTUFBSzs7QUFFTDs7QUFFQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE0QyxhQUFhO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFTOztBQUVULHdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUzs7QUFFVDtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsNkM7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNULE1BQUs7O0FBRUw7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLE1BQUs7Ozs7QUFJTDtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQUs7O0FBRUwsRUFBQzs7Ozs7OztBQ3JTRDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBLFU7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOzs7QUFHTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMLEVBQUM7Ozs7Ozs7QUM1R0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0Esc0ZBQXFGO0FBQ3JGO0FBQ0E7Ozs7O0FBS0E7OztBQUdBLGNBQWEsa0VBQWtFO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0EsNkNBQTRDLFFBQVEsRUFBRTtBQUN0RCxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0EsNkNBQTRDLFFBQVEsRUFBRTtBQUN0RCxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0EsRUFBQyxFQUFFLEVBQUUsRUFBRSxFQUFFO0FBQ1QsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2T0FBNE8sdUlBQXVJO0FBQ25YO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK09BQThPLHVJQUF1STtBQUNyWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVixnQkFBZSxvQkFBb0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFDO0FBQ0QsRUFBQzs7OztBQUlELHdKOzs7Ozs7QUM3UEE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0Esc0ZBQXFGO0FBQ3JGOzs7OztBQUtBOzs7QUFHQSxjQUFhLGtFQUFrRTtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlZQUF3WSwwRkFBMEY7QUFDbGU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE0QyxRQUFRLEVBQUU7QUFDdEQsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBLDZDQUE0QyxRQUFRLEVBQUU7QUFDdEQsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBLEVBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRTtBQUNULEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5UkFBd1IsK0ZBQStGO0FBQ3ZYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFDO0FBQ0QsRUFBQzs7OztBQUlELHFKOzs7Ozs7QUNuTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0Esc0ZBQXFGO0FBQ3JGO0FBQ0E7Ozs7O0FBS0E7OztBQUdBLGNBQWEsa0VBQWtFO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0EsNkNBQTRDLFFBQVEsRUFBRTtBQUN0RCxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0EsNkNBQTRDLFFBQVEsRUFBRTtBQUN0RCxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0EsRUFBQyxFQUFFLEVBQUUsRUFBRSxFQUFFO0FBQ1QsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUM7QUFDRCxFQUFDOzs7O0FBSUQsMEo7Ozs7OztBQ3BHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxzRkFBcUY7QUFDckY7Ozs7O0FBS0E7OztBQUdBLGNBQWEsa0VBQWtFO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVCxlQUFjLGtCQUFrQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFMQUFvTCwrR0FBK0c7QUFDblM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVixlQUFjLG1CQUFtQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNMQUFxTCxvTUFBb007QUFDelg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtTEFBa0w7QUFDbEw7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0EsRUFBQyxFQUFFO0FBQ0gsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFDO0FBQ0QsRUFBQzs7OztBQUlELGdKOzs7Ozs7QUM3SUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFU7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVTtBQUNBLE1BQUs7OztBQUdMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0EsTUFBSztBQUNMO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUM7Ozs7Ozs7QUMxS0Q7QUFDQTtBQUNBO0FBQ0EsNERBQTJELCtGQUErRjtBQUMxSixFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0Esc0ZBQXFGO0FBQ3JGO0FBQ0E7Ozs7O0FBS0E7OztBQUdBLGNBQWEsa0VBQWtFO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0EsNkNBQTRDLFFBQVEsRUFBRTtBQUN0RCxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0EsRUFBQyxFQUFFLEVBQUUsRUFBRTtBQUNQLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlLQUFnSztBQUNoSztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0lBQXFJO0FBQ3JJO0FBQ0E7QUFDQSw2SEFBNEg7QUFDNUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0QsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUM7QUFDRCxFQUFDOzs7O0FBSUQsMko7Ozs7OztBQzVJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxzRkFBcUY7QUFDckY7QUFDQTs7Ozs7QUFLQTs7O0FBR0EsY0FBYSxrRUFBa0U7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFdBQVUsVUFBVSxRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQSxFQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtBQUNYLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVUsVUFBVSxRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVixnQkFBZSxvQkFBb0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNELEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVO0FBQ1YsZ0JBQWUsb0JBQW9CO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNGpCQUEyakIsZ0tBQWdLO0FBQzN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVO0FBQ1YsZ0JBQWUsb0JBQW9CO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseWRBQXdkLDZGQUE2RjtBQUNyakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUM7QUFDRCxFQUFDOzs7O0FBSUQsNko7Ozs7OztBQ2pXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxzRkFBcUY7QUFDckY7Ozs7O0FBS0E7OztBQUdBLGNBQWEsa0VBQWtFO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQSwwREFBeUQsb0RBQW9ELG9EQUFvRDtBQUNqSztBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQSxFQUFDLEVBQUUsRUFBRTtBQUNMLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLFdBQVUsVUFBVSxRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLFdBQVUsVUFBVSxRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLFdBQVUsVUFBVSxRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLFdBQVUsVUFBVSxRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLFdBQVUsVUFBVSxRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLFdBQVUsVUFBVSxRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLFdBQVUsVUFBVSxRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLFdBQVUsVUFBVSxRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLFdBQVUsVUFBVSxRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLFdBQVUsVUFBVSxRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLFdBQVUsVUFBVSxRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLFdBQVUsVUFBVSxRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLEVBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtBQUMzQixFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseVJBQXdSLCtGQUErRjtBQUN2WDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVLFVBQVUsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxXQUFVLFVBQVUsUUFBUTtBQUM1QjtBQUNBO0FBQ0EsRUFBQyxFQUFFO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2T0FBNE8sdUlBQXVJO0FBQ25YO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK09BQThPLHVJQUF1STtBQUNyWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVTtBQUNWLGdCQUFlLG9CQUFvQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVTtBQUNWLGdCQUFlLG9CQUFvQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVixnQkFBZSxvQkFBb0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVO0FBQ1YsZ0JBQWUsb0JBQW9CO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVTtBQUNWLGdCQUFlLG9CQUFvQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVO0FBQ1YsZ0JBQWUsb0JBQW9CO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQXlELG9EQUFvRDtBQUM3RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsRUFBQztBQUNELEVBQUM7Ozs7QUFJRCx1Sjs7Ozs7O0FDbHFCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxzRkFBcUY7QUFDckY7QUFDQTs7Ozs7QUFLQTs7O0FBR0EsY0FBYSxrRUFBa0U7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQSxFQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUU7QUFDVCxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVSxVQUFVLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpS0FBZ0s7QUFDaEs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNJQUFxSTtBQUNySTtBQUNBO0FBQ0EsNkhBQTRIO0FBQzVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNELEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVLFVBQVUsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVixnQkFBZSxvQkFBb0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Z0JBQTJnQiw2RkFBNkY7QUFDeG1CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNELEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUM7QUFDRCxFQUFDOzs7O0FBSUQseUo7Ozs7OztBQ2pNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxzRkFBcUY7QUFDckY7QUFDQTs7Ozs7QUFLQTs7O0FBR0EsY0FBYSxrRUFBa0U7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFdBQVUsVUFBVSxRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQSxFQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtBQUNYLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVO0FBQ1YsZ0JBQWUsb0JBQW9CO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNGpCQUEyakIsZ0tBQWdLO0FBQzN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVUsVUFBVSxRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUtBQWdLO0FBQ2hLO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzSUFBcUk7QUFDckk7QUFDQTtBQUNBLDZIQUE0SDtBQUM1SDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRCxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUM7QUFDRCxFQUFDOzs7O0FBSUQsOEo7Ozs7OztBQzlOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxzRkFBcUY7QUFDckY7QUFDQTs7Ozs7QUFLQTs7O0FBR0EsY0FBYSxrRUFBa0U7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFdBQVUsVUFBVSxRQUFRO0FBQzVCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFdBQVUsVUFBVSxRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQSxFQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFO0FBQ2IsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVUsVUFBVSxRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0QsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVUsVUFBVSxRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRCxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVO0FBQ1YsZ0JBQWUsb0JBQW9CO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNGdCQUEyZ0IsNkZBQTZGO0FBQ3htQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVO0FBQ1YsZ0JBQWUsb0JBQW9CO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNmdCQUE0Z0IsNkZBQTZGO0FBQ3ptQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUM7QUFDRCxFQUFDOzs7O0FBSUQseUo7Ozs7OztBQ2xRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxzRkFBcUY7QUFDckY7QUFDQTs7Ozs7QUFLQTs7O0FBR0EsY0FBYSxrRUFBa0U7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFdBQVUsVUFBVSxRQUFRO0FBQzVCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFdBQVUsVUFBVSxRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQSxFQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFO0FBQ2IsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVUsVUFBVSxRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpS0FBZ0s7QUFDaEs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNJQUFxSTtBQUNySTtBQUNBO0FBQ0EsNkhBQTRIO0FBQzVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNELEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVO0FBQ1YsZ0JBQWUsb0JBQW9CO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseWRBQXdkLDZGQUE2RjtBQUNyakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUM7QUFDRCxFQUFDOzs7O0FBSUQseUo7Ozs7OztBQzVTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxzRkFBcUY7QUFDckY7QUFDQTs7Ozs7QUFLQTs7O0FBR0EsY0FBYSxrRUFBa0U7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFdBQVUsVUFBVSxRQUFRO0FBQzVCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFdBQVUsVUFBVSxRQUFRO0FBQzVCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFdBQVUsVUFBVSxRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQSxFQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUU7QUFDZixFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVLFVBQVUsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUtBQWdLO0FBQ2hLO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzSUFBcUk7QUFDckk7QUFDQTtBQUNBLDZIQUE0SDtBQUM1SDtBQUNBO0FBQ0EsMkhBQTBIO0FBQzFIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNELEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVLFVBQVUsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVixnQkFBZSxvQkFBb0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Z0JBQTRnQiw2RkFBNkY7QUFDem1CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNELEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUM7QUFDRCxFQUFDOzs7O0FBSUQsd0o7Ozs7OztBQ2pVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxzRkFBcUY7QUFDckY7QUFDQTs7Ozs7QUFLQTs7O0FBR0EsY0FBYSxrRUFBa0U7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFdBQVUsVUFBVSxRQUFRO0FBQzVCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFdBQVUsVUFBVSxRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0EsRUFBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtBQUNiLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVTtBQUNWLGdCQUFlLG9CQUFvQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVixnQkFBZSxvQkFBb0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3ZEFBdWQsNkZBQTZGO0FBQ3BqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVixnQkFBZSxvQkFBb0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsRUFBQztBQUNELEVBQUM7Ozs7QUFJRCxnSzs7Ozs7O0FDblZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLHNGQUFxRjtBQUNyRjtBQUNBOzs7OztBQUtBOzs7QUFHQSxjQUFhLGtFQUFrRTtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBLDZDQUE0QyxRQUFRLEVBQUU7QUFDdEQsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBLEVBQUMsRUFBRSxFQUFFLEVBQUU7QUFDUCxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFDO0FBQ0QsRUFBQzs7OztBQUlELDRKOzs7Ozs7QUMvRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0Esc0ZBQXFGO0FBQ3JGO0FBQ0E7Ozs7O0FBS0E7OztBQUdBLGNBQWEsa0VBQWtFO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0EsNkNBQTRDLFFBQVEsRUFBRTtBQUN0RCxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0EsRUFBQyxFQUFFLEVBQUUsRUFBRTtBQUNQLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUM7QUFDRCxFQUFDOzs7O0FBSUQsd0o7Ozs7OztBQ2hGQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBcUMsR0FBRztBQUN4QywrQkFBOEIsR0FBRztBQUNqQyxpREFBZ0QsR0FBRztBQUNuRCxvREFBbUQsR0FBRztBQUN0RCxVQUFTO0FBQ1Q7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBLG9DQUFtQyxHQUFHO0FBQ3RDLDZCQUE0QjtBQUM1QixnQ0FBK0IsR0FBRzs7QUFFbEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTOztBQUVULE1BQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHNFQUFxRSxHQUFHO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE0RCxHQUFHO0FBQy9EO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBOEQsR0FBRztBQUNqRTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBa0UsR0FBRztBQUNyRTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0EsSUFBRztBQUNILE1BQUs7OztBQUdMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFxRCxhQUFhO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBcUI7QUFDckI7QUFDQTtBQUNBLGtCQUFpQjtBQUNqQjtBQUNBO0FBQ0Esa0JBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYixVQUFTO0FBQ1QsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGtCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMLEVBQUM7Ozs7Ozs7QUN6VkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0Esc0ZBQXFGO0FBQ3JGOzs7OztBQUtBOzs7QUFHQSxjQUFhLGtFQUFrRTtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlOQUFnTixvR0FBb0c7QUFDcFQ7QUFDQSxtTkFBa04sb0dBQW9HO0FBQ3RUO0FBQ0EsaU5BQWdOLG9HQUFvRztBQUNwVDtBQUNBLGlOQUFnTixvR0FBb0c7QUFDcFQ7QUFDQTtBQUNBO0FBQ0Esc05BQXFOLG9HQUFvRztBQUN6VDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnTkFBK00sb0dBQW9HO0FBQ25UO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdOQUF1TixvR0FBb0c7QUFDM1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlWQUFnViwwR0FBMEc7QUFDMWI7QUFDQSw2VUFBNFUsc0dBQXNHO0FBQ2xiO0FBQ0EsZ1ZBQStVLHlHQUF5RztBQUN4YjtBQUNBO0FBQ0E7QUFDQSxvVkFBbVYsNkdBQTZHO0FBQ2hjO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVjtBQUNBO0FBQ0EsV0FBVSxtQkFBbUI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpU0FBZ1MseUJBQXlCO0FBQ3pUO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlTQUFnUyx5QkFBeUI7QUFDelQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVTtBQUNWO0FBQ0E7QUFDQSxZQUFXLG9CQUFvQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtSQUE4Uix5QkFBeUI7QUFDdlQ7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK1JBQThSLHlCQUF5QjtBQUN2VDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVixnQkFBZSxvQkFBb0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwUkFBeVIsMExBQTBMO0FBQ25kO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwUkFBeVIsd0lBQXdJO0FBQ2phO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBLEVBQUMsRUFBRTtBQUNILEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsRUFBQztBQUNELEVBQUM7Ozs7QUFJRCxtSjs7Ozs7O0FDclpBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDs7QUFFQTs7QUFFQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7OztBQUdMLEVBQUM7Ozs7Ozs7QUNyREQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0Esc0ZBQXFGO0FBQ3JGOzs7OztBQUtBOzs7QUFHQSxjQUFhLGtFQUFrRTtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1QsZUFBYyxrQkFBa0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1UkFBc1IsNkRBQTZEO0FBQ25WO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVixlQUFjLG1CQUFtQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBSQUF5Uiw4REFBOEQ7QUFDdlY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVTtBQUNWLGdCQUFlLG9CQUFvQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBSQUF5Uiw4REFBOEQ7QUFDdlY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVO0FBQ1YsZ0JBQWUsb0JBQW9CO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVixnQkFBZSxvQkFBb0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwUkFBeVIsOERBQThEO0FBQ3ZWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVixnQkFBZSxvQkFBb0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyUkFBMFIsOERBQThEO0FBQ3hWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVO0FBQ1YsZ0JBQWUsb0JBQW9CO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMlJBQTBSLDhEQUE4RDtBQUN4VjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUVBQW9FO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVO0FBQ1YsZ0JBQWUsb0JBQW9CO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMlJBQTBSLDhEQUE4RDtBQUN4VjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVTtBQUNWLGdCQUFlLG9CQUFvQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJSQUEwUiw4REFBOEQ7QUFDeFY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRUFBb0U7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVO0FBQ1YsZ0JBQWUsb0JBQW9CO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMlJBQTBSLGdIQUFnSDtBQUMxWTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0EsRUFBQyxFQUFFO0FBQ0gsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFDO0FBQ0QsRUFBQzs7OztBQUlELGlKOzs7Ozs7QUM5ZUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBeUM7O0FBRXpDO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0Esa0Q7QUFDQSxVQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXFDLFFBQVE7QUFDN0M7QUFDQTtBQUNBLDBCQUF5QixrQkFBa0I7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYjtBQUNBO0FBQ0Esc0M7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNULE1BQUs7O0FBRUw7QUFDQTtBQUNBLHlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHNFO0FBQ0EsTUFBSzs7QUFFTCxFQUFDOzs7Ozs7O0FDN1NEOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLG1CQUFrQjs7QUFFbEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVE7QUFDUixPQUFNO0FBQ04sTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esc0JBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxrQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0Esa0JBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYixPQUFNO0FBQ04sTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTtBQUNOLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMLEVBQUM7Ozs7Ozs7QUMxS0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0Esc0ZBQXFGO0FBQ3JGO0FBQ0E7Ozs7O0FBS0E7OztBQUdBLGNBQWEsa0VBQWtFO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVCxlQUFjLGtCQUFrQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlVQUF3VSw4WkFBOFo7QUFDdHVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBLEVBQUMsRUFBRSxFQUFFLEVBQUU7QUFDUCxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUM7QUFDRCxFQUFDOzs7O0FBSUQsMko7Ozs7OztBQ2hIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxzRkFBcUY7QUFDckY7Ozs7O0FBS0E7OztBQUdBLGNBQWEsa0VBQWtFO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBbUM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVCxlQUFjLGtCQUFrQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtTQUFpUyxlQUFlO0FBQ2hUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQSxFQUFDLEVBQUU7QUFDSCxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUM7QUFDRCxFQUFDOzs7O0FBSUQsMEo7Ozs7OztBQ25NQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTJCOztBQUUzQjs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBLElBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0EsSUFBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFNO0FBQ04sTUFBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVO0FBQ1Y7QUFDQSxPQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTtBQUNOLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsT0FBTTtBQUNOLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTtBQUNOO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFNO0FBQ047QUFDQSxNQUFLOzs7QUFHTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUwsRUFBQzs7Ozs7OztBQ3RPRDs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2IsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFRO0FBQ1I7QUFDQTtBQUNBLFNBQVE7QUFDUixRQUFPO0FBQ1A7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxrQkFBaUI7QUFDakI7QUFDQTtBQUNBLGtCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2IsT0FBTTtBQUNOLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQSx3REFBdUQsaUJBQWlCO0FBQ3hFLE1BQUs7O0FBRUw7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUFzQyw2Q0FBNkM7QUFDbkY7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXNDLCtDQUErQztBQUNyRjtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBc0MsaURBQWlEO0FBQ3ZGO0FBQ0EsTUFBSzs7OztBQUlMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUc7QUFDSCxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW1CO0FBQ25CO0FBQ0E7QUFDQSxNQUFLOztBQUVMLEVBQUM7Ozs7Ozs7QUM1VUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0Esc0ZBQXFGO0FBQ3JGOzs7OztBQUtBOzs7QUFHQSxjQUFhLGtFQUFrRTtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0xBQW1MO0FBQ25MO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3R0FBdUcsNklBQTZJO0FBQ3BQO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLFdBQVUsVUFBVSxRQUFRO0FBQzVCO0FBQ0EsV0FBVSxVQUFVLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBLEVBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFO0FBQ1gsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFDO0FBQ0QsRUFBQzs7OztBQUlELHVKOzs7Ozs7QUNoSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0Esc0ZBQXFGOzs7OztBQUtyRjs7O0FBR0EsY0FBYSxrRUFBa0U7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsRUFBQztBQUNELEVBQUM7Ozs7QUFJRCx3Szs7Ozs7O0FDM0NBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBLGNBQWE7QUFDYixNQUFLOzs7QUFHTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7Ozs7O0FBS0wsRUFBQzs7Ozs7OztBQ3RERDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxzRkFBcUY7QUFDckY7QUFDQTs7Ozs7QUFLQTs7O0FBR0EsY0FBYSxrRUFBa0U7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0EsRUFBQyxFQUFFLEVBQUUsRUFBRSxFQUFFO0FBQ1QsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVO0FBQ1YsZ0JBQWUsb0JBQW9CO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVixnQkFBZSxvQkFBb0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2VUFBNFUsOERBQThEO0FBQzFZO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsRUFBQztBQUNELEVBQUM7Ozs7QUFJRCwySjs7Ozs7O0FDcktBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLHNGQUFxRjtBQUNyRjs7Ozs7QUFLQTs7O0FBR0EsY0FBYSxrRUFBa0U7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFdBQVUsVUFBVSxRQUFRO0FBQzVCO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBLEVBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRTtBQUNULEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVixnQkFBZSxvQkFBb0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvWEFBbVgsOERBQThEO0FBQ2piO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVSxVQUFVLFFBQVE7QUFDNUI7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVUsVUFBVSxRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRCxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsRUFBQztBQUNELEVBQUM7Ozs7QUFJRCwwSjs7Ozs7O0FDck5BOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBLGNBQWE7QUFDYixNQUFLOzs7QUFHTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7Ozs7O0FBS0wsRUFBQzs7Ozs7OztBQ3RERDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxzRkFBcUY7QUFDckY7QUFDQTs7Ozs7QUFLQTs7O0FBR0EsY0FBYSxrRUFBa0U7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0EsRUFBQyxFQUFFLEVBQUUsRUFBRSxFQUFFO0FBQ1QsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUM7QUFDRCxFQUFDOzs7O0FBSUQsMko7Ozs7OztBQ3RHQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQSxjQUFhO0FBQ2IsTUFBSzs7O0FBR0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7Ozs7O0FBS0wsRUFBQzs7Ozs7OztBQ3ZERDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxzRkFBcUY7QUFDckY7QUFDQTs7Ozs7QUFLQTs7O0FBR0EsY0FBYSxrRUFBa0U7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUSxFQUFFO0FBQ3RELFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0EsRUFBQyxFQUFFLEVBQUUsRUFBRSxFQUFFO0FBQ1QsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVTtBQUNWLGdCQUFlLG9CQUFvQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsRUFBQztBQUNELEVBQUM7Ozs7QUFJRCxtSzs7Ozs7O0FDN0hBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBLGNBQWE7QUFDYixNQUFLOzs7QUFHTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7Ozs7QUFLTCxFQUFDOzs7Ozs7O0FDdkREO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLHNGQUFxRjtBQUNyRjtBQUNBOzs7OztBQUtBOzs7QUFHQSxjQUFhLGtFQUFrRTtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBLDZDQUE0QyxRQUFRLEVBQUU7QUFDdEQsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBLDZDQUE0QyxRQUFRLEVBQUU7QUFDdEQsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQSxFQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUU7QUFDVCxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFVO0FBQ1YsZ0JBQWUsb0JBQW9CO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFDO0FBQ0QsRUFBQzs7OztBQUlELHFLOzs7Ozs7QUM3SEE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0EsY0FBYTtBQUNiLE1BQUs7OztBQUdMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7Ozs7QUFLTCxFQUFDOzs7Ozs7O0FDdEREO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLHNGQUFxRjtBQUNyRjtBQUNBOzs7OztBQUtBOzs7QUFHQSxjQUFhLGtFQUFrRTtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVMsU0FBUyxRQUFRO0FBQzFCO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBLDZDQUE0QyxRQUFRLEVBQUU7QUFDdEQsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBLDZDQUE0QyxRQUFRLEVBQUU7QUFDdEQsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQSxFQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUU7QUFDVCxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVU7QUFDVixnQkFBZSxvQkFBb0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUM7QUFDRCxFQUFDOzs7O0FBSUQsc0s7Ozs7OztBQzlIQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUF5QztBQUN6QztBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYixNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOzs7OztBQUtMLEVBQUM7Ozs7Ozs7QUM1RkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0Esc0ZBQXFGO0FBQ3JGO0FBQ0E7Ozs7O0FBS0E7OztBQUdBLGNBQWEsa0VBQWtFO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUyxTQUFTLFFBQVE7QUFDMUI7QUFDQSxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0EsNkNBQTRDLFFBQVEsRUFBRTtBQUN0RCxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0EsNkNBQTRDLFFBQVEsRUFBRTtBQUN0RCxVQUFTLFNBQVMsUUFBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0EsRUFBQyxFQUFFLEVBQUUsRUFBRSxFQUFFO0FBQ1QsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUM7QUFDRCxFQUFDOzs7O0FBSUQsbUs7Ozs7OztBQ2pHQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxrQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsY0FBYTtBQUNiLE9BQU07O0FBRU4sTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUwsRUFBQyIsImZpbGUiOiJjbGllbnQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuIFx0XHRcdGxvYWRlZDogZmFsc2VcbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCA4ZDI5MDE4M2U2NzBjOGFlMjk4YSIsIid1c2Ugc3RyaWN0JztcblxuLy8gTWFpbiBhcHBsaWNhdGlvbiBjbGFzc1xuXG52YXIgUm91dGVyID0gcmVxdWlyZSgncm91dGVyJyk7XG52YXIgbWVkaWF0b3IgPSByZXF1aXJlKCdtZWRpYXRvcicpO1xudmFyIHV0aWwgPSByZXF1aXJlKCdsaWIvdXRpbC5qcycpO1xuXG52YXIgQ29udHJvbFZpZXcgPSByZXF1aXJlKCd2aWV3cy9jb250cm9sLXZpZXcnKTtcbnZhciBNYXBWaWV3ID0gcmVxdWlyZSgndmlld3MvbWFwLXZpZXcnKTtcbnZhciBUaWxlTGlzdFZpZXcgPSByZXF1aXJlKCd2aWV3cy90aWxlLWxpc3QtdmlldycpO1xudmFyIFRpbGVEZXRhaWxWaWV3ID0gcmVxdWlyZSgndmlld3MvdGlsZS1kZXRhaWwtdmlldycpO1xudmFyIE5hdmJhclF1aWNrU2VhcmNoVmlldyA9IHJlcXVpcmUoJ3ZpZXdzL25hdmJhci9xdWlja3NlYXJjaC12aWV3Jyk7XG52YXIgTmF2YmFyTWFpbk1lbnVWaWV3ID0gcmVxdWlyZSgndmlld3MvbmF2YmFyL21haW4tbWVudS12aWV3Jyk7XG52YXIgTmF2YmFyTm90aWZpY2F0aW9uV2lkZ2V0VmlldyA9IHJlcXVpcmUoJ3ZpZXdzL25hdmJhci9ub3RpZmljYXRpb24td2lkZ2V0LXZpZXcnKTtcbnZhciBVc2VyRGFzaGJvYXJkVmlldyA9IHJlcXVpcmUoJ3ZpZXdzL3VzZXJkYXNoYm9hcmQvdXNlcmRhc2hib2FyZC12aWV3Jyk7XG5cblxudmFyIEFwcCA9IGZ1bmN0aW9uIEFwcCAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIFxuICAgIC8vIGVtdWxhdGUgYSB2aWV3J3MgYW5jaG9ycG9pbnRcbiAgICBzZWxmLmVsID0gbnVsbDtcbiAgICBzZWxmLiRlbCA9IG51bGw7XG4gICAgXG4gICAgLy8gY29udGFpbnMgYWxsIHZpZXdzIHRoYXQgY2FuIGRpc3BsYXkgUmVzdWx0c1xuICAgIHNlbGYuY29udGVudFZpZXdzID0gW107XG4gICAgc2VsZi5jb250cm9sVmlldyA9IG51bGw7XG4gICAgc2VsZi50aWxlTGlzdFZpZXcgPSBudWxsO1xuICAgIHNlbGYubWFwVmlldyA9IG51bGw7XG4gICAgc2VsZi50aWxlRGV0YWlsVmlldyA9IG51bGw7XG4gICAgXG4gICAgLy8gb3RoZXIgdmlld3NcbiAgICBzZWxmLm5hdmJhclF1aWNrU2VhcmNoVmlldyA9IG51bGw7XG4gICAgc2VsZi5uYXZiYXJNYWluTWVudVZpZXcgPSBudWxsO1xuICAgIHNlbGYubmF2YmFyTm90aWZpY2F0aW9uV2lkZ2V0ID0gbnVsbDtcbiAgICBzZWxmLnVzZXJEYXNoYm9hcmRWaWV3ID0gbnVsbDtcblxuICAgIHNlbGYucm91dGVyID0gbnVsbDtcbiAgICBzZWxmLm1lZGlhdG9yID0gbnVsbDtcbiAgICBcbiAgICAvLyBzaG91bGQgaGF2ZSB0aGVtIGFsbCBoZXJlXG4gICAgc2VsZi5kZWZhdWx0U2V0dGluZ3MgPSB7XG4gICAgICAgIC8vIHdlIGNhbid0IGFjdHVhbGx5IGRlZmluZSB0aGVtIGhlcmUsIGFzIHRoZXNlIGdldCBzZXQgaW4gY29udHJvbFZpZXcuZGVmYXVsdHMhXG4gICAgXHQvLyBzZWUgY29udHJvbFZpZXcuZGVmYXVsdHMgZm9yIGFsbCB0aGVpciBkZWZhdWx0IHZhbHVlc1xuXHRcdC8qXG4gICAgICAgICAqIGZpbHRlckdyb3VwOiA8aW50PiBpZiBnaXZlbiwgZmlsdGVycyBhbGwgY29udGVudCBieSB0aGUgZ2l2ZW4gZ3JvdXAgaWRcbiAgICAgICAgICogZmlsdGVyTWFuYWdlZFRhZzogPGludD4gaWYgZ2l2ZW4sIGZpbHRlcnMgYWxsIGNvbnRlbnQgYnkgdGhlIGdpdmVuIG1hbmFnZWQgdGFnIGlkXG5cdFx0ICogYXZhaWxhYmxlRmlsdGVyczogPGRpY3Q+IHRoZSBzaG93biByZXN1bHQgZmlsdGVycyBieSB0eXBlXG5cdFx0ICogYWN0aXZlRmlsdGVyczogPGRpY3Q+IHRoZSBhY3RpdmUgKHNlbGVjdGVkKSBjdXJyZW50IHJlc3VsdCBmaWx0ZXJzIGJ5IHR5cGVcblx0XHQgKiBiYXNlUGFnZVVybDogPHN0cj4gdGhlIGVnIFwiL21hcC9cIiB1cmwgZnJhZ21lbnQgYXMgYmFzZSBvZiB0aGlzIHBhZ2UsIHVzZWQgdG8gYnVpbGQgaGlzdG9yeSBVUkxzIFxuXHRcdCAqIFx0XHQoaW5kZXBlbmRlbnQgb2Ygc2VhcmNoIGVuZHBvaW50IFVSTHMpXG5cdFx0ICovXG4gICAgfTtcbiAgICBcbiAgICBzZWxmLmRlZmF1bHREaXNwbGF5T3B0aW9ucyA9IHtcbiAgICAgICAgc2hvd01hcDogdHJ1ZSxcbiAgICAgICAgc2hvd1RpbGVzOiB0cnVlLFxuICAgICAgICBzaG93Q29udHJvbHM6IHRydWUsXG4gICAgICAgIGZ1bGxzY3JlZW46IHRydWUsXG4gICAgICAgIHJvdXRlTmF2aWdhdGlvbjogdHJ1ZSxcbiAgICAgICAgZm9yY2VQYWdpbmF0aW9uQ29udHJvbHNFbmFibGVkOiBmYWxzZVxuICAgIH07XG4gICAgc2VsZi5kaXNwbGF5T3B0aW9ucyA9IHt9XG4gICAgc2VsZi5kZWZhdWx0RWwgPSAnI2FwcC1mdWxsc2NyZWVuJztcbiAgICBzZWxmLmRlZmF1bHRCYXNlUGFnZVVybCA9ICcvbWFwLyc7XG4gICAgXG4gICAgc2VsZi5wYXNzZWRPcHRpb25zID0gbnVsbDtcbiAgICBcbiAgICAvLyB0aGUgbW9zdCByZWNlbnQgY29tcGxldGUgc2V0dGluZ3MgdGhlIGFwcCB3YXMgaW5pdGlhbGl6ZWQgd2l0aFxuICAgIHNlbGYuc2V0dGluZ3MgPSBudWxsO1xuICAgIFxuICAgIFxuICAgIC8qKiBNYWluIGVudHJ5IHBvaW50ICovXG4gICAgc2VsZi5zdGFydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2VsZi5tZWRpYXRvciA9IEJhY2tib25lLm1lZGlhdG9yID0gbWVkaWF0b3I7XG4gICAgICAgIHNlbGYubWVkaWF0b3Iuc2V0dGluZ3MgPSB3aW5kb3cuc2V0dGluZ3MgfHwge307XG4gICAgICAgIFxuICAgICAgICB2YXIgdHJpZ2dlclJlc2l6ZUV2ZW50ID0gZnVuY3Rpb24gKCl7XG4gICAgICAgICAgICBCYWNrYm9uZS5tZWRpYXRvci5wdWJsaXNoKCdyZXNpemU6d2luZG93Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc2l6ZVRpbWVyO1xuICAgICAgICAvLyBBIGdsb2JhbCByZXNpemUgZXZlbnQgd2l0aCBhIGRlbGF5IHNvIGl0IHdvbid0IGZpcmUgY29uc3RhbnRseVxuICAgICAgICAkKHdpbmRvdykub24oJ3Jlc2l6ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChyZXNpemVUaW1lcik7XG4gICAgICAgICAgICByZXNpemVUaW1lciA9IHNldFRpbWVvdXQodHJpZ2dlclJlc2l6ZUV2ZW50LCA1MDApO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIGluaXQtbW9kdWxlIGNhbGxzLiBpbnNpZGUgYSBsaXN0ZW5lciB0byB0aGUgJ2luaXQ6Y2xpZW50JyBldmVudCxcbiAgICAgICAgLy8gb25lIG9mIHRoZXNlIG5lZWQgdG8gYmUgY2FsbGVkIGZyb20gdGhlIHRlbXBsYXRlIHRvIGluaXRpYWxpemUgdGhlIHJlcXVpcmVkIG1vZHVsZXNcbiAgICAgICAgQmFja2JvbmUubWVkaWF0b3Iuc3Vic2NyaWJlKCdpbml0Om1vZHVsZS1mdWxsLXJvdXRlZCcsIHNlbGYuaW5pdE1vZHVsZUZ1bGxSb3V0ZWQsIHNlbGYpO1xuICAgICAgICBCYWNrYm9uZS5tZWRpYXRvci5zdWJzY3JpYmUoJ2luaXQ6bW9kdWxlLWVtYmVkJywgc2VsZi5pbml0QXBwRnJvbU9wdGlvbnMsIHNlbGYpO1xuICAgICAgICBCYWNrYm9uZS5tZWRpYXRvci5zdWJzY3JpYmUoJ2luaXQ6bW9kdWxlLW5hdmJhci1xdWlja3NlYXJjaCcsIHNlbGYuaW5pdE5hdmJhclF1aWNrc2VhcmNoRnJvbU9wdGlvbnMsIHNlbGYpO1xuICAgICAgICBCYWNrYm9uZS5tZWRpYXRvci5zdWJzY3JpYmUoJ2luaXQ6bW9kdWxlLW5hdmJhci1tYWluLW1lbnUnLCBzZWxmLmluaXROYXZiYXJNYWluTWVudUZyb21PcHRpb25zLCBzZWxmKTtcbiAgICAgICAgQmFja2JvbmUubWVkaWF0b3Iuc3Vic2NyaWJlKCdpbml0Om1vZHVsZS1uYXZiYXItbm90aWZpY2F0aW9uLXdpZGdldCcsIHNlbGYuaW5pdE5hdmJhck5vdGlmaWNhdGlvbldpZGdldEZyb21PcHRpb25zLCBzZWxmKTtcbiAgICAgICAgQmFja2JvbmUubWVkaWF0b3Iuc3Vic2NyaWJlKCdpbml0Om1vZHVsZS11c2VyLWRhc2hib2FyZCcsIHNlbGYuaW5pdFVzZXJEYXNoYm9hcmRGcm9tT3B0aW9ucywgc2VsZik7XG4gICAgICAgIFxuICAgICAgICAvLyAtIHRoZSAnaW5pdDpjbGllbnQnIHNpZ25hbCBpcyB0aGUgbWFya2VyIGZvciBhbGwgcGFnZXMgdXNpbmcgdGhpcyBjbGllbnQuanMgdG8gbm93XG4gICAgICAgIC8vICAgICAgcHVibGlzaCB0aGUgXCJpbml0Ojxtb2R1bGU+XCIgZXZlbnQgZm9yIHdoaWNoZXZlciBtb2R1bGUgY29uZmlndXJhdGlvbiB0aGV5IHdpc2ggdG8gbG9hZCAoc2VlIGFib3ZlKVxuICAgICAgICB1dGlsLmxvZygnYXBwLmpzOiBmaW5pc2ggc3RhcnQoKSBhbmQgcHVibGlzaGluZyBcImluaXQ6Y2xpZW50XCInKVxuICAgICAgICBCYWNrYm9uZS5tZWRpYXRvci5wdWJsaXNoKCdpbml0OmNsaWVudCcpO1xuICAgICAgICAvLyB3ZSB0cmlnZ2VyIGJvdGggb24gdGhlIG1lZGlhdG9yIGFuZCBvbiBodG1sLCBpbiBjYXNlIHNjcmlwdHMgbG9hZGVkIGVhcmxpZXIgdGhhbiB0aGlzIGhhdmUgYWxyZWFkeSBzdWJzcmliZWQgb24gJ2h0bWwnXG4gICAgICAgICQoJ2h0bWwnKS50cmlnZ2VyKCdpbml0OmNsaWVudCcpO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfTtcbiAgICBcbiAgICAvKiogTW9kdWxlIGNvbmZpZ3VyYXRpb24gZm9yIGEgZnVsbHNjcmVlbiBBcHAgd2l0aCBmdWxsIGNvbnRyb2wgb2YgdGhlIHBhZ2UsIHRoYXQgdXNlcyByb3V0aW5nIGFuZCBoaXN0b3J5LlxuICAgICAqICBUaGlzIG1vZHVsZSB1c2VzIHRoZSBmdWxsIHNldCBvZiBkZWZhdWx0IG9wdGlvbnMgYW5kIGdldHMgcGFzc2VkIG5vIG9wdGlvbnMgKi9cbiAgICBzZWxmLmluaXRNb2R1bGVGdWxsUm91dGVkID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICBcdHNlbGYucGFzc2VkT3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgXHRcbiAgICBcdHNlbGYucm91dGVyID0gbmV3IFJvdXRlcigpO1xuICAgIFx0XG4gICAgICAgIC8vIChUaGUgZmlyc3Qgcm91dGluZyB3aWxsIGF1dG9pbml0aWFsaXplIHZpZXdzIGFuZCBtb2RlbCBpbiBzZWxmLm5hdmlnYXRlX21hcCgpKVxuICAgICAgICBCYWNrYm9uZS5tZWRpYXRvci5zdWJzY3JpYmUoJ25hdmlnYXRlOm1hcCcsIHNlbGYubmF2aWdhdGVfbWFwLCBzZWxmKTtcbiAgICAgICAgQmFja2JvbmUubWVkaWF0b3Iuc3Vic2NyaWJlKCduYXZpZ2F0ZTpyb3V0ZXInLCBzZWxmLnJvdXRlci5vbl9uYXZpZ2F0ZSwgc2VsZik7XG4gICAgICAgIFxuICAgICAgICAvLyBTdGFydCByb3V0aW5nLi4uIHRoaXMgd2lsbCBhdXRvbWF0aWNhbGx5IGNhbGwgYHNlbGYubmF2aWdhdGVfbWFwKClgIG9uY2VcbiAgICAgICAgdXRpbC5sb2coJ2FwcC5qczogaW5pdCByb3V0aW5nJylcbiAgICAgICAgdmFyIHJvb3QgPSBvcHRpb25zLmJhc2VQYWdlVXJsIHx8IHNlbGYuZGVmYXVsdEJhc2VQYWdlVXJsO1xuICAgICAgICBCYWNrYm9uZS5oaXN0b3J5LnN0YXJ0KHtcbiAgICAgICAgICAgIHB1c2hTdGF0ZTogdHJ1ZSxcbiAgICAgICAgICAgIHJvb3Q6IHJvb3RcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBcbiAgICAvKiogQ2FsbGVkIG9uIG5hdmlnYXRlLCBmcm9tIHJvdXRlci5qcyAqL1xuICAgIHNlbGYubmF2aWdhdGVfbWFwID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgXHQvLyB0aGlzIHdpbGwgYmUgY2FsbGVkIHRoZSBvbiB0aGUgZmlyc3QgbmF2aWdhdGUgdG8gdGhlIFVSTCwgc28gd2UgdXNlXG4gICAgXHQvLyBpdCB0byBpbml0IHRoZSBhcHBcbiAgICAgICAgaWYgKHNlbGYuY29udHJvbFZpZXcgPT0gbnVsbCkge1xuICAgICAgICAgICAgc2VsZi5pbml0QXBwRnJvbU9wdGlvbnMoc2VsZi5wYXNzZWRPcHRpb25zKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIEJhY2tib25lLm1lZGlhdG9yLnB1Ymxpc2goJ2FwcDpzdGFsZS1yZXN1bHRzJywge3JlYXNvbjogJ21hcC1uYXZpZ2F0ZSd9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgXG5cbiAgICAvKiogSW5pdHMgdGhlIGFwcCB3aXRoIG1hbnkgb3Igbm8gcGFzc2VkIG9wdGlvbnMuXG4gICAgICogIERlZmF1bHQgc2V0dGluZ3Mgd2lsbCBiZSB1c2VkIGZvciBhbnkgb3B0aW9ucyBub3QgcGFzc2VkLlxuICAgICAqIFxuICAgICAqICBNYW55IG9wdGlvbnMgY2FuIGJlIGNvbmZpZ3VyZWQgZm9yIGhpZGluZyB0aGUgdGlsZS1saXN0LCBkaXNhYmxpbmcgdGhlIHZpc3VhbCBjb250cm9sLXZpZXdcbiAgICAgKiAgb3IgZW5hYmxpbmcgb25seSBzcGVjaWZpYyBSZXN1bHQgbW9kZWwgdHlwZXMuICovXG4gICAgc2VsZi5pbml0QXBwRnJvbU9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAvLyBhZGQgcGFzc2VkIG9wdGlvbnMgaW50byBwYXJhbXMgZXh0ZW5kZWQgb3ZlciB0aGUgZGVmYXVsdCBvcHRpb25zXG4gICAgXHR2YXIgZWwgPSBvcHRpb25zLmVsID8gb3B0aW9ucy5lbCA6IHNlbGYuZGVmYXVsdEVsO1xuICAgICAgICB2YXIgZGlzcGxheU9wdGlvbnMgPSAkLmV4dGVuZCh0cnVlLCB7fSwgc2VsZi5kZWZhdWx0RGlzcGxheU9wdGlvbnMsIG9wdGlvbnMuZGlzcGxheSB8fCB7fSk7XG4gICAgICAgIHZhciBzZXR0aW5ncyA9ICQuZXh0ZW5kKHRydWUsIHt9LCBzZWxmLmRlZmF1bHRTZXR0aW5ncywgb3B0aW9ucy5zZXR0aW5ncyB8fCB7fSk7XG4gICAgICAgIHZhciBiYXNlUGFnZVVybCA9IG9wdGlvbnMuYmFzZVBhZ2VVcmwgfHwgc2VsZi5kZWZhdWx0QmFzZVBhZ2VVcmw7XG4gICAgICAgIFxuICAgICAgICBzZWxmLmluaXRfYXBwKGVsLCBiYXNlUGFnZVVybCwgc2V0dGluZ3MsIGRpc3BsYXlPcHRpb25zKTtcbiAgICB9O1xuICAgIFxuICAgIC8qKiBNYWluIGluaXRpYWxpemF0aW9uIGZ1bmN0aW9uLCB0aGlzIGV2ZW50dWFsbHkgZ2V0cyBjYWxsZWQgbm8gbWF0dGVyIHdoaWNoIG1vZHVsZXMgd2UgbG9hZC4gKi9cbiAgICBzZWxmLmluaXRfYXBwID0gZnVuY3Rpb24gKGVsLCBiYXNlUGFnZVVybCwgc2V0dGluZ3MsIGRpc3BsYXlPcHRpb25zKSB7XG4gICAgICAgIHV0aWwubG9nKCdhcHAuanM6IGluaXRfYXBwIGNhbGxlZCB3aXRoIGV2ZW50LCBwYXJhbXMnKVxuICAgICAgICBcbiAgICAgICAgc2VsZi5lbCA9IGVsO1xuICAgICAgICBzZWxmLiRlbCA9ICQoc2VsZi5lbCk7XG4gICAgICAgIFxuICAgICAgICBzZWxmLnNldHRpbmdzID0gc2V0dGluZ3M7XG4gICAgICAgIHNlbGYuZGlzcGxheU9wdGlvbnMgPSBkaXNwbGF5T3B0aW9ucztcbiAgICAgICAgXG4gICAgICAgIHZhciB0b3BpY3NKc29uID0gdHlwZW9mIENPU0lOTlVTX01BUF9UT1BJQ1NfSlNPTiAhPT0gJ3VuZGVmaW5lZCcgPyBDT1NJTk5VU19NQVBfVE9QSUNTX0pTT04gOiB7fTtcbiAgICAgICAgdmFyIHRleHRUb3BpY3NKc29uID0gdHlwZW9mIENPU0lOTlVTX01BUF9URVhUX1RPUElDU19KU09OICE9PSAndW5kZWZpbmVkJyA/IENPU0lOTlVTX01BUF9URVhUX1RPUElDU19KU09OIDoge307XG4gICAgICAgIHZhciBzZGdzSnNvbiA9IHR5cGVvZiBDT1NJTk5VU19NQVBfU0RHU19KU09OICE9PSAndW5kZWZpbmVkJyA/IENPU0lOTlVTX01BUF9TREdTX0pTT04gOiB7fTtcbiAgICAgICAgdmFyIGFsbE1hbmFnZWRUYWdzID0gdHlwZW9mIENPU0lOTlVTX01BTkFHRURfVEFHU19KU09OICE9PSAndW5kZWZpbmVkJyA/IENPU0lOTlVTX01BTkFHRURfVEFHU19KU09OIDoge307XG4gICAgICAgIHZhciBzaG93TWFuYWdlZFRhZ3NPblR5cGVzU2VsZWN0ZWQgPSB0eXBlb2YgQ09TSU5OVVNfTUFOQUdFRF9UQUdTX1NIT1dfRklMVEVSX09OX01BUF9XSEVOX0NPTlRFTlRfVFlQRV9TRUxFQ1RFRCAhPT0gJ3VuZGVmaW5lZCcgPyBDT1NJTk5VU19NQU5BR0VEX1RBR1NfU0hPV19GSUxURVJfT05fTUFQX1dIRU5fQ09OVEVOVF9UWVBFX1NFTEVDVEVEIDogW107XG4gICAgICAgIHZhciBzaG93VGV4dFRvcGljc09uVHlwZXNTZWxlY3RlZCA9IHR5cGVvZiBDT1NJTk5VU19URVhUX1RPUElDU19TSE9XX0ZJTFRFUl9PTl9NQVBfV0hFTl9DT05URU5UX1RZUEVfU0VMRUNURUQgIT09ICd1bmRlZmluZWQnID8gQ09TSU5OVVNfVEVYVF9UT1BJQ1NfU0hPV19GSUxURVJfT05fTUFQX1dIRU5fQ09OVEVOVF9UWVBFX1NFTEVDVEVEIDogW107XG4gICAgICAgIHZhciBtYW5hZ2VkVGFnc0xhYmVscyA9IHR5cGVvZiBDT1NJTk5VU19NQU5BR0VEX1RBR1NfTEFCRUxTX0pTT04gIT09ICd1bmRlZmluZWQnID8gQ09TSU5OVVNfTUFOQUdFRF9UQUdTX0xBQkVMU19KU09OIDoge307XG4gICAgICAgIHZhciBwb3J0YWxJbmZvID0gdHlwZW9mIENPU0lOTlVTX1BPUlRBTF9JTkZPUyAhPT0gJ3VuZGVmaW5lZCcgPyBDT1NJTk5VU19QT1JUQUxfSU5GT1MgOiB7fTtcbiAgICAgICAgc2VsZi5jb250cm9sVmlldyA9IG5ldyBDb250cm9sVmlldyh7XG4gICAgICAgICAgICAgICAgZWw6IG51bGwsIC8vIHdpbGwgb25seSBiZSBzZXQgaWYgYXR0YWNoZWQgdG8gdGlsZS12aWV3XG4gICAgICAgICAgICAgICAgYXZhaWxhYmxlRmlsdGVyczogc2VsZi5zZXR0aW5ncy5hdmFpbGFibGVGaWx0ZXJzLFxuICAgICAgICAgICAgICAgIGFjdGl2ZUZpbHRlcnM6IHNlbGYuc2V0dGluZ3MuYWN0aXZlRmlsdGVycyxcbiAgICAgICAgICAgICAgICBhbGxUb3BpY3M6IHRvcGljc0pzb24sXG4gICAgICAgICAgICAgICAgYWxsVGV4dFRvcGljczogdGV4dFRvcGljc0pzb24sXG4gICAgICAgICAgICAgICAgYWxsU0RHUzogc2Rnc0pzb24sXG4gICAgICAgICAgICAgICAgYWxsTWFuYWdlZFRhZ3M6IGFsbE1hbmFnZWRUYWdzLFxuICAgICAgICAgICAgICAgIG1hbmFnZWRUYWdzTGFiZWxzOiBtYW5hZ2VkVGFnc0xhYmVscyxcbiAgICAgICAgICAgICAgICBzaG93TWFuYWdlZFRhZ3NPblR5cGVzU2VsZWN0ZWQ6IHNob3dNYW5hZ2VkVGFnc09uVHlwZXNTZWxlY3RlZCxcbiAgICAgICAgICAgICAgICBzaG93VGV4dFRvcGljc09uVHlwZXNTZWxlY3RlZDogc2hvd1RleHRUb3BpY3NPblR5cGVzU2VsZWN0ZWQsXG4gICAgICAgICAgICAgICAgcG9ydGFsSW5mbzogcG9ydGFsSW5mbyxcbiAgICAgICAgICAgICAgICBjb250cm9sc0VuYWJsZWQ6IHNlbGYuZGlzcGxheU9wdGlvbnMuc2hvd0NvbnRyb2xzLFxuICAgICAgICAgICAgICAgIHNjcm9sbENvbnRyb2xzRW5hYmxlZDogc2VsZi5kaXNwbGF5T3B0aW9ucy5zaG93Q29udHJvbHMgJiYgc2VsZi5kaXNwbGF5T3B0aW9ucy5zaG93TWFwLFxuICAgICAgICAgICAgICAgIHBhZ2luYXRpb25Db250cm9sc0VuYWJsZWQ6IHNlbGYuZGlzcGxheU9wdGlvbnMuZm9yY2VQYWdpbmF0aW9uQ29udHJvbHNFbmFibGVkIHx8IHNlbGYuZGlzcGxheU9wdGlvbnMuc2hvd1RpbGVzLFxuICAgICAgICAgICAgICAgIHBhZ2luYXRpb25Db250cm9sc1VzZUluZmluaXRlU2Nyb2xsOiAhc2VsZi5kaXNwbGF5T3B0aW9ucy5zaG93TWFwICYmIHNlbGYuZGlzcGxheU9wdGlvbnMuc2hvd1RpbGVzLFxuICAgICAgICAgICAgICAgIGZpbHRlckdyb3VwOiBzZWxmLnNldHRpbmdzLmZpbHRlckdyb3VwLFxuICAgICAgICAgICAgICAgIGZpbHRlck1hbmFnZWRUYWc6IHNlbGYuc2V0dGluZ3MuZmlsdGVyTWFuYWdlZFRhZyxcbiAgICAgICAgICAgICAgICBiYXNlUGFnZVVSTDogYmFzZVBhZ2VVcmwsXG4gICAgICAgICAgICAgICAgc2hvd01pbmU6IHNlbGYuc2V0dGluZ3Muc2hvd01pbmUsXG4gICAgICAgICAgICAgICAgZnVsbHNjcmVlbjogc2VsZi5kaXNwbGF5T3B0aW9ucy5mdWxsc2NyZWVuLFxuICAgICAgICAgICAgICAgIHNwbGl0c2NyZWVuOiBzZWxmLmRpc3BsYXlPcHRpb25zLnNob3dNYXAgJiYgc2VsZi5kaXNwbGF5T3B0aW9ucy5zaG93VGlsZXMsXG4gICAgICAgICAgICAgICAgc2VhcmNoUmVzdWx0TGltaXQ6IHNlbGYuc2V0dGluZ3Muc2VhcmNoUmVzdWx0TGltaXQgfHwgMjAsXG4gICAgICAgICAgICAgICAgaGlkZVRvcGljczogc2VsZi5zZXR0aW5ncy5oaWRlVG9waWNzIHx8IGZhbHNlLFxuICAgICAgICAgICAgfSwgXG4gICAgICAgICAgICBzZWxmLCBcbiAgICAgICAgICAgIG51bGxcbiAgICAgICAgKTsgLy8gY29sbGVjdGlvbj1udWxsIGhlcmUsIGdldHMgaW5zdGFudGlhdGVkIGluIHRoZSBjb250cm9sIHZpZXdcbiAgICAgICAgc2VsZi5jb250ZW50Vmlld3MucHVzaChzZWxmLmNvbnRyb2xWaWV3KTtcbiAgICAgICAgXG4gICAgICAgIHV0aWwubG9nKCdhcHAuanM6IFRPRE86IHJlYWxseSBkbyB0aGlzIGlmIGNoZWNrIGZvciBjb250cm9sc0VuYWJsZWQ/JylcbiAgICAgICAgdXRpbC5sb2coc2VsZi5kaXNwbGF5T3B0aW9ucylcbiAgICAgICAgXG4gICAgICAgIHNlbGYubG9hZE1hcFZpZXcoKTtcbiAgICAgICAgc2VsZi5sb2FkVGlsZVZpZXcoKTtcbiAgICAgICAgXG4gICAgICAgIHNlbGYudGlsZURldGFpbFZpZXcgPSBuZXcgVGlsZURldGFpbFZpZXcoe1xuXHQgICAgICAgICAgICBtb2RlbDogbnVsbCxcblx0ICAgICAgICAgICAgZWxQYXJlbnQ6IHNlbGYuZWwsXG5cdCAgICAgICAgICAgIGZ1bGxzY3JlZW46IHNlbGYuZGlzcGxheU9wdGlvbnMuZnVsbHNjcmVlbixcblx0ICAgICAgICAgICAgc3BsaXRzY3JlZW46IHNlbGYuZGlzcGxheU9wdGlvbnMuc2hvd01hcCAmJiBzZWxmLmRpc3BsYXlPcHRpb25zLnNob3dUaWxlc1xuXHQgICAgICAgIH0sIFxuXHQgICAgICAgIHNlbGZcbiAgICAgICAgKS5yZW5kZXIoKTtcbiAgICAgICAgXG4gICAgICAgIEJhY2tib25lLm1lZGlhdG9yLnB1Ymxpc2goJ2FwcDpyZWFkeScpO1xuICAgIH07XG4gICAgXG4gICAgLyoqXG4gICAgICogTG9hZHMgdGhlIG1hcCB2aWV3IGJhc2VkIG9uIGRpc3BsYXkgb3B0aW9uc1xuICAgICAqL1xuICAgIHNlbGYubG9hZE1hcFZpZXcgPSBmdW5jdGlvbigpIHtcbiAgICBcdGlmIChzZWxmLm1hcFZpZXcgPT0gbnVsbCkge1xuICAgIFx0XHQvLyBsb2FkIG1hcCBmcm9tIHNjcmF0Y2hcbiAgICBcdFx0aWYgKHNlbGYuZGlzcGxheU9wdGlvbnMuc2hvd01hcCkge1xuICAgIFx0XHRcdHZhciBvcHRpb25zID0ge1xuICAgIFx0XHRcdFx0ZWxQYXJlbnQ6IHNlbGYuZWwsXG4gICAgXHRcdFx0XHRmdWxsc2NyZWVuOiBzZWxmLmRpc3BsYXlPcHRpb25zLmZ1bGxzY3JlZW4sXG4gICAgXHRcdFx0XHRzcGxpdHNjcmVlbjogc2VsZi5kaXNwbGF5T3B0aW9ucy5zaG93TWFwICYmIHNlbGYuZGlzcGxheU9wdGlvbnMuc2hvd1RpbGVzLFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sc0VuYWJsZWQ6IHNlbGYuZGlzcGxheU9wdGlvbnMuc2hvd0NvbnRyb2xzLFxuICAgICAgICAgICAgICAgICAgICBtb2JpbGVTYWZlSW50ZXJhY3Rpb25zOiBzZWxmLnNldHRpbmdzICYmIHNlbGYuc2V0dGluZ3MubW9iaWxlU2FmZUludGVyYWN0aW9ucyxcbiAgICBcdFx0XHR9O1xuICAgIFx0XHRcdGlmIChzZWxmLnNldHRpbmdzLm1hcCAmJiBzZWxmLnNldHRpbmdzLm1hcC5sb2NhdGlvbikge1xuICAgIFx0XHRcdFx0b3B0aW9uc1snbG9jYXRpb24nXSA9IHNlbGYuc2V0dGluZ3MubWFwLmxvY2F0aW9uO1xuICAgIFx0XHRcdH1cbiAgICBcdFx0XHRpZiAoc2VsZi5zZXR0aW5ncy5tYXAgJiYgc2VsZi5zZXR0aW5ncy5tYXAuem9vbSkge1xuICAgIFx0XHRcdFx0b3B0aW9uc1snem9vbSddID0gc2VsZi5zZXR0aW5ncy5tYXAuem9vbTtcbiAgICBcdFx0XHR9XG4gICAgXHRcdFx0XG4gICAgXHRcdFx0c2VsZi5tYXBWaWV3ID0gbmV3IE1hcFZpZXcoXG4gICAgXHRcdFx0XHRvcHRpb25zLCBcblx0ICAgIFx0XHRcdHNlbGYsXG5cdCAgICBcdFx0XHRzZWxmLmNvbnRyb2xWaWV3LmNvbGxlY3Rpb25cbiAgICBcdFx0XHQpLnJlbmRlcigpO1xuICAgIFx0XHRcdHNlbGYuY29udGVudFZpZXdzLnB1c2goc2VsZi5tYXBWaWV3KTtcbiAgICBcdFx0fVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICBcdGlmIChzZWxmLmRpc3BsYXlPcHRpb25zLnNob3dNYXApIHtcbiAgICAgICAgXHRcdC8vIHVwZGF0ZSBzZXR0aW5ncyB0byBzaG93L2hpZGUgdmlld1xuICAgICAgICBcdFx0c2VsZi5tYXBWaWV3Lm9wdGlvbnMuZnVsbHNjcmVlbiA9IHNlbGYuZGlzcGxheU9wdGlvbnMuZnVsbHNjcmVlbjtcbiAgICAgICAgXHRcdHNlbGYubWFwVmlldy5vcHRpb25zLnNwbGl0c2NyZWVuID0gc2VsZi5kaXNwbGF5T3B0aW9ucy5zaG93TWFwICYmIHNlbGYuZGlzcGxheU9wdGlvbnMuc2hvd1RpbGVzO1xuICAgICAgICBcdFx0c2VsZi5tYXBWaWV3LnJlbG9hZCgpO1xuICAgICAgICBcdH0gZWxzZSB7XG4gICAgICAgIFx0XHQvLyBoaWRlIG1hcCBhbmQgYWN0aXZhdGUgbm9uLWluLW1hcC1zZWFyY2hpbmdcbiAgICAgICAgXHRcdHNlbGYubWFwVmlldy5oaWRlKCk7XG4gICAgICAgIFx0fVxuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICAvKipcbiAgICAgKiBMb2FkcyB0aGUgdGlsZSB2aWV3IGJhc2VkIG9uIGRpc3BsYXkgb3B0aW9uc1xuICAgICAqL1xuICAgIHNlbGYubG9hZFRpbGVWaWV3ID0gZnVuY3Rpb24oKSB7XG4gICAgXHRpZiAoc2VsZi50aWxlTGlzdFZpZXcgPT0gbnVsbCkge1xuICAgIFx0XHRpZiAoc2VsZi5kaXNwbGF5T3B0aW9ucy5zaG93VGlsZXMpIHtcbiAgICBcdFx0XHQvLyBsb2FkIHRpbGVzIGZyb20gc2NyYXRjaFxuICAgIFx0XHRcdHNlbGYudGlsZUxpc3RWaWV3ID0gbmV3IFRpbGVMaXN0Vmlldyh7XG5cdCAgICBcdFx0XHRcdGVsUGFyZW50OiBzZWxmLmVsLFxuXHQgICAgXHRcdFx0XHRmdWxsc2NyZWVuOiBzZWxmLmRpc3BsYXlPcHRpb25zLmZ1bGxzY3JlZW4sXG5cdCAgICBcdFx0XHRcdHNwbGl0c2NyZWVuOiBzZWxmLmRpc3BsYXlPcHRpb25zLnNob3dNYXAgJiYgc2VsZi5kaXNwbGF5T3B0aW9ucy5zaG93VGlsZXNcblx0ICAgIFx0XHRcdH0sIFxuXHQgICAgXHRcdFx0c2VsZixcblx0ICAgIFx0XHRcdHNlbGYuY29udHJvbFZpZXcuY29sbGVjdGlvblxuICAgIFx0XHRcdCkucmVuZGVyKCk7XG4gICAgXHRcdFx0c2VsZi5jb250ZW50Vmlld3MucHVzaChzZWxmLnRpbGVMaXN0Vmlldyk7XG4gICAgXHRcdFx0XG4gICAgXHRcdFx0Ly8gcmVuZGVyIGNvbnRyb2wtdmlldyBjb250cm9scyBpbnNpZGUgdGlsZS1saXN0LXZpZXdcbiAgICBcdFx0XHRpZiAoc2VsZi5kaXNwbGF5T3B0aW9ucy5zaG93Q29udHJvbHMpIHtcbiAgICBcdFx0XHRcdHV0aWwubG9nKCdhcHAuanM6IGFjdHVhbGx5IHJlbmRlcmluZyBjb250cm9scycpXG4gICAgXHRcdFx0XHRzZWxmLmNvbnRyb2xWaWV3LnNldEVsZW1lbnQoc2VsZi50aWxlTGlzdFZpZXcuJGVsLmZpbmQoJy5jb250cm9scycpKTtcbiAgICBcdFx0XHRcdHNlbGYuY29udHJvbFZpZXcucmVuZGVyKCk7XG4gICAgXHRcdFx0fVxuICAgIFx0XHR9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgIFx0aWYgKHNlbGYuZGlzcGxheU9wdGlvbnMuc2hvd1RpbGVzKSB7XG4gICAgICAgIFx0XHQvLyB1cGRhdGUgc2V0dGluZ3MgdG8gc2hvdy9oaWRlIHZpZXdcbiAgICAgICAgXHRcdHNlbGYudGlsZUxpc3RWaWV3Lm9wdGlvbnMuZnVsbHNjcmVlbiA9IHNlbGYuZGlzcGxheU9wdGlvbnMuZnVsbHNjcmVlbjtcbiAgICAgICAgXHRcdHNlbGYudGlsZUxpc3RWaWV3Lm9wdGlvbnMuc3BsaXRzY3JlZW4gPSBzZWxmLmRpc3BsYXlPcHRpb25zLnNob3dNYXAgJiYgc2VsZi5kaXNwbGF5T3B0aW9ucy5zaG93VGlsZXM7XG4gICAgICAgIFx0XHRzZWxmLnRpbGVMaXN0Vmlldy5yZWxvYWQoKTtcbiAgICAgICAgXHR9IGVsc2Uge1xuICAgICAgICBcdFx0Ly8gaGlkZSB0aWxlcyAoYW5pbWF0ZSEpIGJ1dCBrZWVwIHNlYXJjaCBwYXJhbXMhIFxuICAgICAgICBcdFx0c2VsZi50aWxlTGlzdFZpZXcuaGlkZSgpO1xuICAgICAgICBcdH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgXG5cbiAgICBzZWxmLmluaXROYXZiYXJRdWlja3NlYXJjaEZyb21PcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgLy8gYWRkIHBhc3NlZCBvcHRpb25zIGludG8gcGFyYW1zIGV4dGVuZGVkIG92ZXIgdGhlIGRlZmF1bHQgb3B0aW9uc1xuICAgIFx0dmFyIGVsID0gb3B0aW9ucy5lbCA/IG9wdGlvbnMuZWwgOiAnI25hdi1xdWlja3NlYXJjaCc7XG4gICAgICAgIHZhciB0b3BpY3NKc29uID0gdHlwZW9mIENPU0lOTlVTX01BUF9UT1BJQ1NfSlNPTiAhPT0gJ3VuZGVmaW5lZCcgPyBDT1NJTk5VU19NQVBfVE9QSUNTX0pTT04gOiB7fTtcbiAgICAgICAgdmFyIHRleHRUb3BpY3NKc29uID0gdHlwZW9mIENPU0lOTlVTX01BUF9URVhUX1RPUElDU19KU09OICE9PSAndW5kZWZpbmVkJyA/IENPU0lOTlVTX01BUF9URVhUX1RPUElDU19KU09OIDoge307XG4gICAgICAgIHZhciBzZGdzSnNvbiA9IHR5cGVvZiBDT1NJTk5VU19NQVBfU0RHU19KU09OICE9PSAndW5kZWZpbmVkJyA/IENPU0lOTlVTX01BUF9TREdTX0pTT04gOiB7fTtcbiAgICAgICAgdmFyIHBvcnRhbEluZm8gPSB0eXBlb2YgQ09TSU5OVVNfUE9SVEFMX0lORk9TICE9PSAndW5kZWZpbmVkJyA/IENPU0lOTlVTX1BPUlRBTF9JTkZPUyA6IHt9O1xuICAgICAgICB2YXIgY2xvdWRFbmFibGVkID0gQ09TSU5OVVNfQ0xPVURfRU5BQkxFRCB8fCBmYWxzZTtcblxuICAgICAgICBpZiAoc2VsZi5uYXZiYXJRdWlja1NlYXJjaFZpZXcgPT0gbnVsbCkge1xuICAgICAgICBcdHNlbGYubmF2YmFyUXVpY2tTZWFyY2hWaWV3ID0gbmV3IE5hdmJhclF1aWNrU2VhcmNoVmlldyh7XG4gICAgICAgIFx0XHRtb2RlbDogbnVsbCxcbiAgICAgICAgXHRcdGVsOiBlbCxcbiAgICAgICAgXHRcdHRvcGljc0pzb246IHRvcGljc0pzb24sXG4gICAgICAgICAgICAgICAgdGV4dFRvcGljc0pzb246IHRleHRUb3BpY3NKc29uLFxuICAgICAgICAgICAgICAgIHNkZ3NKc29uOiBzZGdzSnNvbixcbiAgICAgICAgICAgICAgICBwb3J0YWxJbmZvOiBwb3J0YWxJbmZvLFxuICAgICAgICAgICAgICAgIGNsb3VkRW5hYmxlZDogY2xvdWRFbmFibGVkLFxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBvcHRpb25zLnBsYWNlaG9sZGVyXG4gICAgICAgIFx0fSxcbiAgICAgICAgXHRzZWxmXG4gICAgICAgIFx0KS5yZW5kZXIoKTtcbiAgICAgICAgXHRCYWNrYm9uZS5tZWRpYXRvci5wdWJsaXNoKCduYXZiYXItcXVpY2tzZWFyY2g6cmVhZHknKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgXG4gICAgc2VsZi5pbml0TmF2YmFyTWFpbk1lbnVGcm9tT3B0aW9ucyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIC8vIGFkZCBwYXNzZWQgb3B0aW9ucyBpbnRvIHBhcmFtcyBleHRlbmRlZCBvdmVyIHRoZSBkZWZhdWx0IG9wdGlvbnNcbiAgICAgICAgdmFyIGVsID0gb3B0aW9ucy5lbCA/IG9wdGlvbnMuZWwgOiAnI25hdi1tYWluLW1lbnUnO1xuICAgICAgICB2YXIgdG9waWNzSnNvbiA9IHR5cGVvZiBDT1NJTk5VU19NQVBfVE9QSUNTX0pTT04gIT09ICd1bmRlZmluZWQnID8gQ09TSU5OVVNfTUFQX1RPUElDU19KU09OIDoge307XG4gICAgICAgIHZhciB0ZXh0VG9waWNzSnNvbiA9IHR5cGVvZiBDT1NJTk5VU19NQVBfVEVYVF9UT1BJQ1NfSlNPTiAhPT0gJ3VuZGVmaW5lZCcgPyBDT1NJTk5VU19NQVBfVEVYVF9UT1BJQ1NfSlNPTiA6IHt9O1xuICAgICAgICB2YXIgc2Rnc0pzb24gPSB0eXBlb2YgQ09TSU5OVVNfTUFQX1NER1NfSlNPTiAhPT0gJ3VuZGVmaW5lZCcgPyBDT1NJTk5VU19NQVBfU0RHU19KU09OIDoge307XG4gICAgICAgIHZhciBwb3J0YWxJbmZvID0gdHlwZW9mIENPU0lOTlVTX1BPUlRBTF9JTkZPUyAhPT0gJ3VuZGVmaW5lZCcgPyBDT1NJTk5VU19QT1JUQUxfSU5GT1MgOiB7fTtcbiAgICAgICAgdmFyIGNvbnRleHREYXRhID0gb3B0aW9ucy5jb250ZXh0RGF0YSA/IG9wdGlvbnMuY29udGV4dERhdGEgOiB7fTtcbiAgICAgICAgdmFyIGNvbnRleHREYXRhSlNPTiA9IG9wdGlvbnMuY29udGV4dERhdGFKU09OID8gb3B0aW9ucy5jb250ZXh0RGF0YUpTT04gOiB7fTtcbiAgICAgICAgXG4gICAgICAgIGlmIChzZWxmLm5hdmJhck1haW5NZW51VmlldyA9PSBudWxsKSB7XG4gICAgICAgICAgICBzZWxmLm5hdmJhck1haW5NZW51VmlldyA9IG5ldyBOYXZiYXJNYWluTWVudVZpZXcoe1xuICAgICAgICAgICAgICAgIG1vZGVsOiBudWxsLFxuICAgICAgICAgICAgICAgIGVsOiBlbCxcbiAgICAgICAgICAgICAgICBjb250ZXh0RGF0YTogY29udGV4dERhdGEsXG4gICAgICAgICAgICAgICAgY29udGV4dERhdGFKU09OOiBjb250ZXh0RGF0YUpTT04sXG4gICAgICAgICAgICAgICAgdG9waWNzSnNvbjogdG9waWNzSnNvbixcbiAgICAgICAgICAgICAgICB0ZXh0VG9waWNzSnNvbjogdGV4dFRvcGljc0pzb24sXG4gICAgICAgICAgICAgICAgc2Rnc0pzb246IHNkZ3NKc29uLFxuICAgICAgICAgICAgICAgIHBvcnRhbEluZm86IHBvcnRhbEluZm8sXG4gICAgICAgICAgICB9LCBcbiAgICAgICAgICAgIHNlbGZcbiAgICAgICAgICAgICkucmVuZGVyKCk7XG4gICAgICAgICAgICBCYWNrYm9uZS5tZWRpYXRvci5wdWJsaXNoKCduYXZiYXItbWFpbi1tYW51OnJlYWR5Jyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIHNlbGYuaW5pdE5hdmJhck5vdGlmaWNhdGlvbldpZGdldEZyb21PcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgLy8gYWRkIHBhc3NlZCBvcHRpb25zIGludG8gcGFyYW1zIGV4dGVuZGVkIG92ZXIgdGhlIGRlZmF1bHQgb3B0aW9uc1xuICAgICAgICB2YXIgZWwgPSBvcHRpb25zLmVsID8gb3B0aW9ucy5lbCA6ICcjbmF2LW5vdGlmaWNhdGlvbi1pdGVtcyc7XG4gICAgICAgIFxuICAgICAgICBpZiAoc2VsZi5uYXZiYXJOb3RpZmljYXRpb25XaWRnZXRWaWV3ID09IG51bGwpIHtcbiAgICAgICAgICAgIC8vICAgICAgICBlbFBhcmVudDogc2VsZi4kZWwuZmluZCgnLnR5cGVkLXdpZGdldHMtcm9vdCcpLFxuICAgICAgICAgICAgc2VsZi5uYXZiYXJOb3RpZmljYXRpb25XaWRnZXRWaWV3ID0gbmV3IE5hdmJhck5vdGlmaWNhdGlvbldpZGdldFZpZXcoe1xuICAgICAgICAgICAgICAgIGVsOiBlbCxcbiAgICAgICAgICAgIH0sIHNlbGYuYXBwKTtcbiAgICAgICAgICAgIHNlbGYubmF2YmFyTm90aWZpY2F0aW9uV2lkZ2V0Vmlldy5sb2FkKCkudGhlbihmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIEJhY2tib25lLm1lZGlhdG9yLnB1Ymxpc2goJ25hdmJhci1ub3RpZmljYXRpb24td2lkZ2V0OnJlYWR5Jyk7XG4gICAgICAgICAgICAgICAgdXRpbC5sb2coJyMgIyMjIyBsb2FkZWQgbm90aWZpY2F0aW9uIHdpZGdldC4nKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgc2VsZi5pbml0VXNlckRhc2hib2FyZEZyb21PcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgLy8gYWRkIHBhc3NlZCBvcHRpb25zIGludG8gcGFyYW1zIGV4dGVuZGVkIG92ZXIgdGhlIGRlZmF1bHQgb3B0aW9uc1xuICAgICAgICB2YXIgdG9waWNzSnNvbiA9IHR5cGVvZiBDT1NJTk5VU19NQVBfVE9QSUNTX0pTT04gIT09ICd1bmRlZmluZWQnID8gQ09TSU5OVVNfTUFQX1RPUElDU19KU09OIDoge307XG4gICAgICAgIHZhciB0ZXh0VG9waWNzSnNvbiA9IHR5cGVvZiBDT1NJTk5VU19NQVBfVEVYVF9UT1BJQ1NfSlNPTiAhPT0gJ3VuZGVmaW5lZCcgPyBDT1NJTk5VU19NQVBfVEVYVF9UT1BJQ1NfSlNPTiA6IHt9O1xuICAgICAgICB2YXIgc2Rnc0pzb24gPSB0eXBlb2YgQ09TSU5OVVNfTUFQX1NER1NfSlNPTiAhPT0gJ3VuZGVmaW5lZCcgPyBDT1NJTk5VU19NQVBfU0RHU19KU09OIDoge307XG4gICAgICAgIHZhciBwb3J0YWxJbmZvID0gdHlwZW9mIENPU0lOTlVTX1BPUlRBTF9JTkZPUyAhPT0gJ3VuZGVmaW5lZCcgPyBDT1NJTk5VU19QT1JUQUxfSU5GT1MgOiB7fTtcbiAgICAgICAgXG4gICAgICAgIGlmIChzZWxmLnVzZXJEYXNoYm9hcmRWaWV3ID09IG51bGwpIHtcbiAgICAgICAgXHRzZWxmLnVzZXJEYXNoYm9hcmRWaWV3ID0gbmV3IFVzZXJEYXNoYm9hcmRWaWV3KHtcbiAgICAgICAgXHRcdG1vZGVsOiBudWxsLFxuICAgICAgICBcdFx0ZWw6IG51bGwsXG4gICAgICAgIFx0XHR0b3BpY3NKc29uOiB0b3BpY3NKc29uLFxuICAgICAgICAgICAgICAgIHRleHRUb3BpY3NKc29uOiB0ZXh0VG9waWNzSnNvbixcbiAgICAgICAgICAgICAgICBzZGdzSnNvbjogc2Rnc0pzb24sXG4gICAgICAgIFx0XHRwb3J0YWxJbmZvOiBwb3J0YWxJbmZvLFxuICAgICAgICBcdFx0dWlQcmVmczogb3B0aW9ucy51aV9wcmVmcyxcbiAgICAgICAgXHRcdGZvcmNlT25seU1pbmU6IG9wdGlvbnMuZm9yY2Vfb25seV9taW5lLFxuICAgICAgICBcdH0sIFxuICAgICAgICBcdHNlbGZcbiAgICAgICAgXHQpLnJlbmRlcigpO1xuICAgICAgICBcdEJhY2tib25lLm1lZGlhdG9yLnB1Ymxpc2goJ3VzZXItZGFzaGJvYXJkOnJlYWR5Jyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIFxuICAgIFxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBBcHA7XG5cbiQoZnVuY3Rpb24gKCkge1xuICAgIHdpbmRvdy5BcHAgPSBuZXcgQXBwKCkuc3RhcnQoKTtcbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy9jbGllbnQvYXBwLmpzXG4vLyBtb2R1bGUgaWQgPSAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0J1xuXG52YXIgTWFwVmlldyA9IHJlcXVpcmUoJ3ZpZXdzL21hcC12aWV3Jyk7XG52YXIgdXRpbCA9IHJlcXVpcmUoJ2xpYi91dGlsLmpzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gQmFja2JvbmUuUm91dGVyLmV4dGVuZCh7XG4gICAgXG4gICAgcm91dGVzOiB7XG4gICAgICAgICcnOiAncm91dGVfYXBwX21hcF90aWxlcydcbiAgICB9LFxuICAgIFxuICAgIGZpcnN0X3JvdXRlX2V2ZW50OiB0cnVlLFxuXG4gICAgcm91dGVfYXBwX21hcF90aWxlczogZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBJZiB0aGUgYmFzZSBhcHAgdmlldyBoYXNuJ3QgYmVlbiBpbnN0YW50aWF0ZWQsIGNyZWF0ZSBhbmQgcmVuZGVyIGl0LlxuICAgICAgICB1dGlsLmxvZygncm91dGVyLmpzOiByb3V0ZWQgJylcbiAgICAgICAgQmFja2JvbmUubWVkaWF0b3IucHVibGlzaCgnbmF2aWdhdGU6bWFwJyk7XG4gICAgfSxcbiAgICBcbiAgICAvKiogVHJpZ2dlcmVkIGJ5IHRoZSBtZWRpYXRvciBldmVudCAnbmF2aWdhdGU6cm91dGVyJyAqL1xuICAgIG9uX25hdmlnYXRlOiBmdW5jdGlvbih1cmwpIHtcbiAgICAgICAgdXRpbC5sb2coJ3JvdXRlci5qczogZ290IGEgbmF2aWdhdGUgZXZlbnQhJylcbiAgICAgICAgdXRpbC5sb2codXJsKVxuICAgICAgICBcbiAgICAgICAgaWYgKHVybCkge1xuICAgICAgICBcdC8vIHNpbmNlIGEgJy8nIGxlYWRpbmcgc2xhc2ggd291bGQgYmUgZHJvcHBlZCBieSB0aGUgcm91dGVyIGFuZCB3ZSBhbHdheXNcbiAgICAgICAgXHQvLyBvcGVyYXRlIG9uIHRoZSByb290IHVybCBvZiB0aGlzIHJvdXRlciwgd2UgaGF2ZSB0byBmb3JtYXQgdGhlIFVSTCBsaWtlIHNvICcuLy4uLidcbiAgICAgICAgXHR1cmwgPSAnLicgKyB1cmw7XG4gICAgICAgICAgICBCYWNrYm9uZS5Sb3V0ZXIucHJvdG90eXBlLm5hdmlnYXRlLmNhbGwodGhpcywgdXJsLCB7IFxuICAgICAgICAgICAgICAgIHRyaWdnZXI6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHJlcGxhY2U6IEFwcC5yb3V0ZXIuZmlyc3Rfcm91dGVfZXZlbnRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoQXBwLnJvdXRlci5maXJzdF9yb3V0ZV9ldmVudCkge1xuICAgICAgICAgICAgICAgIHV0aWwubG9nKCdyb3V0ZXIuanM6IFRISVMgSVMgVEhFIEZJUlNUIE5BVklHQVRFIEVWRU5ULiBSZXBsYWNpbmcgaGlzdG9yeSBzdGF0ZSBpbnN0ZWFkIG9mIGFkZGluZyBhIG5ldyBvbmUhJylcbiAgICAgICAgICAgICAgICBBcHAucm91dGVyLmZpcnN0X3JvdXRlX2V2ZW50ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIFxuICAgIC8qKlxuICAgICAqIERpcmVjdCBjb252ZW5pZW5jZSBmdW5jdGlvbiB0byB1cGRhdGUgdGhlIFVSTCB3aXRob3V0IGFueSBmZXRjaGVzIG9yIHJvdXRpbmdcbiAgICAgKi9cbiAgICByZXBsYWNlVXJsOiBmdW5jdGlvbih1cmwpIHtcbiAgICAgICAgdXRpbC5sb2coJ3JvdXRlci5qczogUmVwbGFjaW5nIHRoZSBjdXJyZW50IGhpc3RvcnkgVVJMIHdpdGhvdXQgbmF2aWdhdGlvbiBvciByb3V0aW5nLicpXG4gICAgICAgIEJhY2tib25lLlJvdXRlci5wcm90b3R5cGUubmF2aWdhdGUuY2FsbCh0aGlzLCB1cmwsIHsgXG4gICAgICAgICAgICB0cmlnZ2VyOiBmYWxzZSxcbiAgICAgICAgICAgIHJlcGxhY2U6IHRydWVcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIFxufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Nvc2lubnVzL2NsaWVudC9yb3V0ZXIuanNcbi8vIG1vZHVsZSBpZCA9IDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgQ29udGVudENvbnRyb2xWaWV3ID0gcmVxdWlyZSgndmlld3MvYmFzZS9jb250ZW50LWNvbnRyb2wtdmlldycpO1xudmFyIE1hcExheWVyQnV0dG9uc1ZpZXcgPSByZXF1aXJlKCd2aWV3cy9tYXAtbGF5ZXItYnV0dG9ucy12aWV3Jyk7XG52YXIgcG9wdXBUZW1wbGF0ZSA9IHJlcXVpcmUoJ21hcC9wb3B1cCcpO1xudmFyIHV0aWwgPSByZXF1aXJlKCdsaWIvdXRpbCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IENvbnRlbnRDb250cm9sVmlldy5leHRlbmQoe1xuXG4gICAgdGVtcGxhdGU6IHJlcXVpcmUoJ21hcC9tYXAnKSxcbiAgICBcbiAgICAvLyBUaGUgRE9NIGV2ZW50cyBzcGVjaWZpYyB0byBhbiBpdGVtLlxuICAgIGV2ZW50czoge1xuICAgICAgICAnY2xpY2sgLm1hcC1leHBhbmQtYnV0dG9uJzogJ29uRXhwYW5kQnV0dG9uQ2xpY2tlZCcsXG4gICAgfSxcbiAgICBcbiAgICAvLyBFbmdsaXNoIC8gSW50ZXJuYXRpb25hbCB2ZXJzaW9uIG9mIHRoZSBPcGVuU3RyZWV0TWFwIHRpbGVzZXQgYmFzZWQgb24gQ2FydG9EQlxuICAgIGxheWVyczoge1xuICAgICAgICBzdHJlZXQ6IHtcbiAgICAgICAgICAgIHVybDogKHV0aWwucHJvdG9jb2woKSA9PT0gJ2h0dHA6JyA/XG4gICAgICAgICAgICAgICAgJ2h0dHA6Ly97c30uYmFzZW1hcHMuY2FydG9jZG4uY29tL2xpZ2h0X2FsbC97en0ve3h9L3t5fUAyeC5wbmcnIDpcbiAgICAgICAgICAgICAgICAnaHR0cHM6Ly9jYXJ0b2RiLWJhc2VtYXBzLXtzfS5nbG9iYWwuc3NsLmZhc3RseS5uZXQvbGlnaHRfYWxsL3t6fS97eH0ve3l9LnBuZycpLFxuICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0aW9uOiAnPGEgaHJlZj1cImh0dHBzOi8vY2FydG8uY29tXCIgdGFyZ2V0PVwiX2JsYW5rXCI+Q2FydG9EQjwvYT4gfCA8YSBocmVmPVwiaHR0cHM6Ly93d3cub3BlbnN0cmVldG1hcC5vcmdcIiB0YXJnZXQ9XCJfYmxhbmtcIj4mY29weTsgT3BlblN0cmVldE1hcCBjb250cmlidXRvcnM8L2E+J1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH0sXG5cbiAgICAvLyBHZXJtYW4gdmVyc2lvbiBvZiB0aGUgT3BlblN0cmVldE1hcCB0aWxlc2V0XG4gICAgbGF5ZXJzTW9kZXJuVGlsZXNldDoge1xuICAgICAgICBzdHJlZXQ6IHtcbiAgICAgICAgICAgIHVybDogKHV0aWwucHJvdG9jb2woKSA9PT0gJ2h0dHBzOicgP1xuICAgICAgICAgICAgICAgICdodHRwOi8ve3N9LnRpbGUub3BlbnN0cmVldG1hcC5kZS90aWxlcy9vc21kZS97en0ve3h9L3t5fS5wbmcnIDpcbiAgICAgICAgICAgICAgICAnaHR0cHM6Ly97c30udGlsZS5vcGVuc3RyZWV0bWFwLmRlL3RpbGVzL29zbWRlL3t6fS97eH0ve3l9LnBuZycpLFxuICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0aW9uOiAnJmNvcHk7IDxhIGhyZWY9XCJodHRwczovL3d3dy5vcGVuc3RyZWV0bWFwLm9yZy9jb3B5cmlnaHRcIj5PcGVuU3RyZWV0TWFwPC9hPiBjb250cmlidXRvcnMnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfSxcbiAgICBcbiAgICAvLyBwYXRoIHRvIGEgZ2VvanNvbiBmaWxlIGluIHN0YXRpYyBmb2xkZXIgY29udGFpbmluZyByZWdpb25zIHRoYXQgc2hvdWxkIGJlIG91dGxpbmVkIG9uIHRoZSBtYXBcbiAgICAvLyBZb3UgY2FuIGNvbmZpZ3VyZSBhIGdlb2pzb24gcmVnaW9uIGhlcmU6IGh0dHA6Ly9vcGVuZGF0YWxhYi5kZS9wcm9qZWN0cy9nZW9qc29uLXV0aWxpdGllcy8gXG4gICAgZ2VvUmVnaW9uVXJsOiB1dGlsLmlmdW5kZWYoQ09TSU5OVVNfTUFQX09QVElPTlMuZ2VvanNvbl9yZWdpb24sIG51bGwpLCBcblxuICAgIFxuICAgIC8vIHRoZSBtYXAgTGF5ZXIgQnV0dG9ucyAoU2F0dGVsaXRlLCBTdHJlZXQsIFRlcnJhaW4pXG4gICAgbWFwTGF5ZXJCdXR0b25zVmlldzogbnVsbCxcbiAgICBcbiAgICAvLyBoYW5kbGUgb24gdGhlIGN1cnJlbnQgcG9wdXBcbiAgICBwb3B1cDogbnVsbCxcbiAgICBcbiAgICAvLyBsZWFmbGV0IGluc3RhbmNlXG4gICAgbGVhZmxldDogbnVsbCxcbiAgICBcbiAgICAvLyBNYXJrZXIgc3RvcmFnZSBkaWN0IG9mIHs8cmVzdWx0TW9kZWwuaWQ+OiA8TC5tYXJrZXI+LCAuLi59XG4gICAgLy8gaWQgY29ycmVzcG9uZHMgdG8gc2VsZi5jb2xsZWN0aW9uLmdldCg8aWQ+KVxuICAgIC8vIHVwZGF0ZWQgdGhyb3VnaCB0aGUgaGFuZGxlcnMgb2Ygc2VsZi5jb2xsZWN0aW9uJ3Mgc2lnbmFsc1xuICAgIG1hcmtlcnM6IHt9LFxuICAgIFxuICAgIC8vIGlmIG5vdCBudWxsLCB0aGlzIGlzIGFuIGFjdGl2ZSwgZHJhZ2dhYmxlIG1hcmtlclxuICAgIGRyYWdnYWJsZU1hcmtlcjogbnVsbCxcbiAgICBcbiAgICAvLyB3aWxsIGJlIHNldCB0byBzZWxmLm9wdGlvbnMgZHVyaW5nIGluaXRpYWxpemF0aW9uXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgLy8gaXMgdGhlIHdpbmRvdyBpbiBmdWxsLXNjcmVlbiBtb2RlIChpbnN0ZWFkIG9mIGluc2lkZSBhIHdpZGdldCBvciBzaW1pbGFyKVxuICAgICAgICBmdWxsc2NyZWVuOiB0cnVlLFxuICAgICAgICBcbiAgICAgICAgLy8gaXMgdGhpcyB2aWV3IHNob3duIHRvZ2V0aGVyIHdpdGggdGhlIG1hcCB2aWV3IGFzIGEgNTAlIHNwbGl0IHNjcmVlbj9cbiAgICAgICAgc3BsaXRzY3JlZW46IGZhbHNlLFxuICAgICAgICBcbiAgICAgICAgLy8gd2lsbCBhIHBvcHVwIGJlIHNob3duIHdoZW4gYSBtYXAgbWFya2VyIGlzIGNsaWNrZWQ/XG4gICAgICAgIGVuYWJsZVBvcHVwOiBmYWxzZSxcbiAgICAgICAgXG4gICAgICAgIC8vIHdpbGwgY2xpY2tpbmcgb24gYSBtYXJrZXIgY2F1c2UgaXRzIHJlc3VsdCB0byBiZSBzZWxlY3RlZD9cbiAgICAgICAgZW5hYmxlRGV0YWlsU2VsZWN0aW9uOiB0cnVlLFxuICAgICAgICBcbiAgICAgICAgLy8gc2hhbGwgd2UgY2x1c3RlciBjbG9zZSBtYXJrZXJzIHRvZ2V0aGVyXG4gICAgICAgIGNsdXN0ZXJpbmdFbmFibGVkOiBmYWxzZSxcbiAgICAgICAgY2x1c3Rlclpvb21UaHJlc2hvbGQ6IDUsXG4gICAgICAgIG1heENsdXN0ZXJSYWRpdXM6IDE1LFxuICAgICAgICBcbiAgICAgICAgLy8gc2hvdWxkIGRyYWcgYW5kIHpvb20gb3B0aW9ucyB0aGF0IGRpc3J1cHQgcGFnZSBVWCBvbiBtb2JpbGUgYmUgZGlzYWJsZWRcbiAgICAgICAgbW9iaWxlU2FmZUludGVyYWN0aW9uczogZmFsc2UsXG4gICAgICAgIFxuICAgICAgICAvLyBpZiBhIG1hcmtlciBwb3B1cCBpcyBvcGVuLCBidXQgdGhlIHNlYXJjaCByZXN1bHRzIGNoYW5nZSBhbmQgdGhlIG1hcmtlciB3b3VsZCBiZSByZW1vdmVkLFxuICAgICAgICAvLyBzaG91bGQgd2Ugc3RpbGwga2VlcCBpdCBhbmQgdGhlIHBvcHVwP1xuICAgICAgICBrZWVwT3Blbk1hcmtlcnNBZnRlclJlc3VsdENoYW5nZTogZmFsc2UsIFxuICAgICAgICBcbiAgICAgICAgLy8gYWRkZWQgcGVyY2VudGFnZSB0byB2aXNpYmxlIG1hcCBhcmVhXG4gICAgICAgIC8vIHRoZSByZXN1bHRpbmcgYXJlYSBpcyBhY3R1YWxseSBzZW50IGFzIGNvb3JkcyB0byB0aGUgc2VhcmNoIEFQSSBcbiAgICAgICAgbGF0TG5nQnVmZmVyOiAwLjAxLFxuICAgICAgICBcbiAgICAgICAgLy8gdGhlIGFtb3VudCBvZiBkZWNpbWFscyB0byByb3VuZCBhbGwgY29vcmRpbmF0ZXMgdG9cbiAgICAgICAgbGF0TG5nUm91bmRUb0RlY2ltYWxzOiA1LFxuICAgICAgICBcbiAgICAgICAgLy8gaW1hZ2Ugc2l6ZSBhbmQgZGlzcGxheSBzaXplIG11bHRpcGxpZXIgZm9yIHRoZSBtYXJrZXIgaW1hZ2VzXG4gICAgICAgIHJlc3VsdE1hcmtlclNpemVzOiB7XG4gICAgICAgICAgICB3aWR0aDogICAgICAgICAgMTQgKiAwLjgsXG4gICAgICAgICAgICBoZWlnaHQ6ICAgICAgICAgMTQgKiAwLjgsXG4gICAgICAgICAgICB3aWR0aExhcmdlOiAgICAgMjggKiAwLjgsXG4gICAgICAgICAgICBoZWlnaHRMYXJnZTogICAgMzcgKiAwLjgsXG4gICAgICAgICAgICB3aWR0aFN0YWNrZWQ6ICAgMjMgKiAwLjgsXG4gICAgICAgICAgICBoZWlnaHRTdGFja2VkOiAgMjMgKiAwLjgsXG4gICAgICAgICAgICB3aWR0aEJhc2U6ICAgICAgMjggKiAwLjgsXG4gICAgICAgICAgICBoZWlnaHRCYXNlOiAgICAgMzcgKiAwLjgsXG4gICAgICAgIH0sXG4gICAgICAgIFxuICAgICAgICAvLyBjYWxjdWxhdGVkIGR5bmFtaWNhbGx5IGRlcGVuZGluZyBvbiB6b29tLCBpbiBgaGFuZGxlVmlld3BvcnRDaGFuZ2UoKWBcbiAgICAgICAgcmVzdWx0TWFya2VyQ2x1c3RlckRpc3RhbmNlOiB7XG4gICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgeTogMCxcbiAgICAgICAgICAgIHBlclpvb206IDAsIC8vIGhhcmRjb2RlZCBmdW5jdGlvbiBvZiBweCBwZXIgem9vbSBsZXZlbCwgaWYgeW91IHdhbnQgdG8gb2Zmc2V0IGluIHB4IGZvciBjdXJyZW50IHpvb21cbiAgICAgICAgfSxcbiAgICAgICAgXG4gICAgICAgIE1BUktFUl9OVU1CRVJfT0ZfTEFSR0VfTUFSS0VSUzogOCwgLy8gdGhpcyBtYW55IG9mIHRoZSBtb3N0IHJlbGV2YW50IHJlc3VsdHMgYmVjb21lIGxhcmdlIG1hcmtlcnNcbiAgICAgICAgXG4gICAgICAgIE1BUktFUl9DTFVTVEVSX1JBRElVU19MSU1JVDogMC44NSwgLy8gY2x1c3RlciByYWRpdXMgbXVsdGlwbGllcjogbW9kaWZpZXIgZm9yIGhvdyBhZ2dyZXNzaXZlbHkgdGhlIGNsdXN0ZXJzIHNob3VsZCBwdWxsIGluIG1hcmtlcnNcbiAgICAgICAgTUFSS0VSX1NUQUNLX1BYX09GRlNFVF9QRVJfQ0xVU1RFUl9MRVZFTDogNywgLy8gb2Zmc2V0IGluIHB4IGZvciBjbHVzdGVyZWQgc3RhY2stbWFrZXJzIHBlciBsZXZlbFxuICAgICAgICBNQVJLRVJfU1RBQ0tfUFhfT0ZGU0VUX0JBU0U6IDgsIC8vIGFkZGl0aW9uYWwgb2Zmc2V0IGluIHB4IG9mIGZpcnN0IGNsdXN0ZXJlZCBzdGFjay1tYXJrZXIgKGxldmVsIDEpIGZyb20gdGhlIGJhc2UgbWFya2VyXG5cbiAgICAgICAgLy8gaWYgbG9jYXRpb24gaXMgc2V0IHRvIGEgbG9jYXRpb24gcGFpciBhdCBpbml0aWFsaXphdGlvbixcbiAgICAgICAgLy8gdGhlIGBDT1NJTk5VU19NQVBfT1BUSU9OUy5kZWZhdWx0X2Nvb3JkaW5hdGVzYCB3aWxsIGJlIGlnbm9yZWQgYW5kIHRoZVxuICAgICAgICAvLyBzZXQgYGxvY2F0aW9uYCBpcyB1c2VkIHdpdGggdGhlIHpvb20gc2V0dGluZyBpbnN0ZWFkIVxuICAgICAgICBsb2NhdGlvbjogW10sIC8vIFs1Mi41MjMzLCAxMy40MTM4XSxcbiAgICAgICAgem9vbTogNyxcbiAgICAgICAgXG4gICAgICAgIC8vIHRoZSBjdXJyZW50IGxheWVyIG9wdGlvbiBhcyBzdHJpbmdcbiAgICAgICAgbGF5ZXI6ICdzdHJlZXQnLFxuICAgICAgICBcbiAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgICAgIC8vIHRoZSBjdXJyZW4gTGVhZmxldCBsYXllciBvYmplY3RcbiAgICAgICAgICAgIGN1cnJlbnRMYXllcjogbnVsbCxcblxuICAgICAgICAgICAgLy8gYXJlIHdlIGN1cnJlbnRseSBzZWVpbmcgY2x1c3RlcmVkIG1hcmtlcnM/XG4gICAgICAgICAgICBjdXJyZW50bHlDbHVzdGVyaW5nOiBmYWxzZSxcbiAgICAgICAgICAgIC8vIHRoZSBjdXJyZW50IG9wZW4gc3BpZGVyIGNsdXN0ZXIgaGFuZGxlLCBvciBudWxsIGlmIG5vIHNwaWRlciBvcGVuXG4gICAgICAgICAgICBjdXJyZW50U3BpZGVyZmllZDogbnVsbCxcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gZmFsbGJhY2sgZGVmYXVsdCBjb29yZGluYXRlcyB3aGVuIG5hdmlnYXRlZCB3aXRob3V0IGxvYyBwYXJhbXNcbiAgICAgICAgICAgIG5vcnRoOiB1dGlsLmlmdW5kZWYoQ09TSU5OVVNfTUFQX09QVElPTlMuZGVmYXVsdF9jb29yZGluYXRlcy5uZV9sYXQsIDU1Ljc4KSwgXG4gICAgICAgICAgICBlYXN0OiB1dGlsLmlmdW5kZWYoQ09TSU5OVVNfTUFQX09QVElPTlMuZGVmYXVsdF9jb29yZGluYXRlcy5uZV9sb24sIDIzLjAyKSxcbiAgICAgICAgICAgIHNvdXRoOiB1dGlsLmlmdW5kZWYoQ09TSU5OVVNfTUFQX09QVElPTlMuZGVmYXVsdF9jb29yZGluYXRlcy5zd19sYXQsIDQ5LjAwKSxcbiAgICAgICAgICAgIHdlc3Q6IHV0aWwuaWZ1bmRlZihDT1NJTk5VU19NQVBfT1BUSU9OUy5kZWZhdWx0X2Nvb3JkaW5hdGVzLnN3X2xvbiwgMy44MCksXG4gICAgICAgIH1cbiAgICB9LFxuICAgIFxuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIChvcHRpb25zLCBhcHAsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAvLyB0aGlzIGNhbGxzIHNlbGYuYXBwbHlVcmxTZWFyY2hQYXJhbWV0ZXJzKClcbiAgICAgICAgQ29udGVudENvbnRyb2xWaWV3LnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwoc2VsZiwgb3B0aW9ucywgYXBwLCBjb2xsZWN0aW9uKTtcbiAgICAgICAgXG4gICAgICAgIHNlbGYuc3RhdGUuY3VycmVudGx5Q2x1c3RlcmluZyA9IHNlbGYub3B0aW9ucy5jbHVzdGVyaW5nRW5hYmxlZDtcbiAgICAgICAgc2VsZi5zdGF0ZS5tb2JpbGVTYWZlSW50ZXJhY3Rpb25zID0gc2VsZi5vcHRpb25zLm1vYmlsZVNhZmVJbnRlcmFjdGlvbnM7XG4gICAgICAgIFxuICAgICAgICBCYWNrYm9uZS5tZWRpYXRvci5zdWJzY3JpYmUoJ2NoYW5nZTpib3VuZHMnLCBzZWxmLmZpdEJvdW5kcywgc2VsZik7XG4gICAgICAgIEJhY2tib25lLm1lZGlhdG9yLnN1YnNjcmliZSgncmVzaXplOndpbmRvdycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNlbGYubGVhZmxldC5pbnZhbGlkYXRlU2l6ZSgpO1xuICAgICAgICAgICAgc2VsZi5oYW5kbGVWaWV3cG9ydENoYW5nZSgpO1xuICAgICAgICB9LCBzZWxmKTtcbiAgICAgICAgQmFja2JvbmUubWVkaWF0b3Iuc3Vic2NyaWJlKCdjaGFuZ2U6bGF5ZXInLCBzZWxmLnNldExheWVyLCBzZWxmKTtcbiAgICAgICAgXG4gICAgICAgIC8vIHJlc3VsdCBldmVudHNcbiAgICAgICAgc2VsZi5jb2xsZWN0aW9uLm9uKHtcbiAgICAgICAgICAgJ2FkZCcgOiBzZWxmLnRoaXNDb250ZXh0KHNlbGYubWFya2VyQWRkKSxcbiAgICAgICAgICAgJ2NoYW5nZTpob3ZlcmVkJzogc2VsZi50aGlzQ29udGV4dChzZWxmLm1hcmtlckNoYW5nZUhvdmVyZWQpLFxuICAgICAgICAgICAnY2hhbmdlOnNlbGVjdGVkJzogc2VsZi50aGlzQ29udGV4dChzZWxmLm1hcmtlckNoYW5nZVNlbGVjdGVkKSxcbiAgICAgICAgICAgJ2NoYW5nZSc6IHNlbGYudGhpc0NvbnRleHQoc2VsZi5tYXJrZXJVcGRhdGUpLFxuICAgICAgICAgICAncmVtb3ZlJzogc2VsZi50aGlzQ29udGV4dChzZWxmLm1hcmtlclJlbW92ZSksXG4gICAgICAgICAgICdyZXNldCc6IHNlbGYudGhpc0NvbnRleHQoc2VsZi5tYXJrZXJzUmVzZXQpLFxuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgcmVuZGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgQ29udGVudENvbnRyb2xWaWV3LnByb3RvdHlwZS5yZW5kZXIuY2FsbChzZWxmKTtcbiAgICAgICAgc2VsZi5yZW5kZXJNYXAoKTtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcbiAgICBcbiAgICBhZnRlclJlbmRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIGlmIChzZWxmLm1hcExheWVyQnV0dG9uc1ZpZXcgPT0gbnVsbCkge1xuICAgICAgICBcdHNlbGYubWFwTGF5ZXJCdXR0b25zVmlldyA9IG5ldyBNYXBMYXllckJ1dHRvbnNWaWV3KHtcbiAgICAgICAgXHRcdGVsOiBzZWxmLiRlbC5maW5kKCcubWFwLWxheWVycy1idXR0b25zJyksXG4gICAgICAgIFx0XHRsYXllcjogc2VsZi5vcHRpb25zLmxheWVyLFxuICAgICAgICBcdFx0bWFwVmlldzogc2VsZlxuICAgICAgICBcdH0pLnJlbmRlcigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICBcdHNlbGYubWFwTGF5ZXJCdXR0b25zVmlldy5yZW5kZXIoKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgXG4gICAgLy8gZXh0ZW5kZWQgZnJvbSBjb250ZW50LWNvbnRyb2wtdmlldy5qc1xuICAgIGFwcGx5VXJsU2VhcmNoUGFyYW1ldGVyczogZnVuY3Rpb24gKHVybFBhcmFtcykge1xuICAgICAgICB1dGlsLmxvZygnbWFwLXZpZXcuanM6IHVybCBwYXJhbXMgb24gaW5pdDogJylcbiAgICAgICAgdXRpbC5sb2codXJsUGFyYW1zKVxuICAgICAgICBfLmV4dGVuZCh0aGlzLnN0YXRlLCB7XG4gICAgICAgICAgICBub3J0aDogdXRpbC5pZnVuZGVmKHVybFBhcmFtcy5uZV9sYXQsIHRoaXMuc3RhdGUubm9ydGgpLFxuICAgICAgICAgICAgZWFzdDogdXRpbC5pZnVuZGVmKHVybFBhcmFtcy5uZV9sb24sIHRoaXMuc3RhdGUuZWFzdCksXG4gICAgICAgICAgICBzb3V0aDogdXRpbC5pZnVuZGVmKHVybFBhcmFtcy5zd19sYXQsIHRoaXMuc3RhdGUuc291dGgpLFxuICAgICAgICAgICAgd2VzdDogdXRpbC5pZnVuZGVmKHVybFBhcmFtcy5zd19sb24sIHRoaXMuc3RhdGUud2VzdCksXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmZpdEJvdW5kcygpO1xuICAgICAgICB0aGlzLnVwZGF0ZUJvdW5kcygpO1xuICAgIH0sXG4gICAgXG4gICAgLy8gZXh0ZW5kZWQgZnJvbSBjb250ZW50LWNvbnRyb2wtdmlldy5qc1xuICAgIGNvbnRyaWJ1dGVUb1NlYXJjaFBhcmFtZXRlcnM6IGZ1bmN0aW9uKGZvckFQSSkge1xuICAgICAgICB2YXIgcGFkZGVkID0gZm9yQVBJO1xuICAgICAgICB2YXIgc2VhcmNoUGFyYW1zID0ge1xuICAgICAgICAgICAgbmVfbGF0OiBwYWRkZWQgPyB0aGlzLnN0YXRlLnBhZGRlZE5vcnRoIDogdGhpcy5zdGF0ZS5ub3J0aCxcbiAgICAgICAgICAgIG5lX2xvbjogcGFkZGVkID8gdGhpcy5zdGF0ZS5wYWRkZWRFYXN0IDogdGhpcy5zdGF0ZS5lYXN0LFxuICAgICAgICAgICAgc3dfbGF0OiBwYWRkZWQgPyB0aGlzLnN0YXRlLnBhZGRlZFNvdXRoIDogdGhpcy5zdGF0ZS5zb3V0aCxcbiAgICAgICAgICAgIHN3X2xvbjogcGFkZGVkID8gdGhpcy5zdGF0ZS5wYWRkZWRXZXN0IDogdGhpcy5zdGF0ZS53ZXN0LFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gc2VhcmNoUGFyYW1zXG4gICAgfSxcbiAgICBcbiAgICBcbiAgICAvLyBSZXN1bHRDb2xsZWN0aW9uIEV2ZW50IGhhbmRsZXJzXG4gICAgLy8gLS0tLS0tLS0tLS0tLS1cbiAgICBcbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gcmVzdWx0OiBSZXN1bHQgbW9kZWxcbiAgICAgKiBAcGFyYW0gaXNMYXJnZU1hcmtlcjogKG9wdGlvbmFsKSBib29sLiBtYWtlIHRoaXMgbWFya2VyIGljb24gbGFyZ2U/XG4gICAgICogQHBhcmFtIGNsdXN0ZXJMZXZlbDogKG9wdGlvbmFsKSBpbnQuIGlmIHN1cHBsaWVkLCB0aGUgcmVzdWx0IGlzIGNvbnNpZGVyZWQgaW4gYSBjbHVzdGVyLCBhdCB0aGlzIHJhbmsuIDAgbWVhbnMgYmFzZSBjbHVzdGVyLW1hcmtlclxuICAgICAqIEBwYXJhbSBjbHVzdGVyQ29vcmRzOiAob3B0aW9uYWwpIHtsYXQ6IGludCwgbG9uOiBpbnR9IGlmIHJlc3VsdCBpcyBpbiBhIGNsdXN0ZXIsIHRoZSBjb29yZHMgKHJhbmsgd2lsbCBiZSBhZGRlZCBhcyBvZmZzZXQpXG4gICAgICovXG4gICAgbWFya2VyQWRkOiBmdW5jdGlvbihyZXN1bHQsIGlzTGFyZ2VNYXJrZXIsIGNsdXN0ZXJMZXZlbCwgY2x1c3RlckNvb3Jkcykge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIFxuICAgICAgICBpZiAoIXJlc3VsdC5nZXQoJ2xhdCcpIHx8ICFyZXN1bHQuZ2V0KCdsb24nKSkge1xuICAgICAgICAgICAgLy8gaWYgdGhlIHJlc3VsdCBoYXMgbm8gbG9jYXRpb24sIHRoZSBtYXAgY2Fubm90IGhhbmRsZSBpdC4gXG4gICAgICAgICAgICB1dGlsLmxvZygnQ2FuY2VsbGVkIGFkZGluZyBhIG1hcmtlciBmb3IgYSByZXN1bHQgd2l0aCBubyBsb2NhdGlvbi4nKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBhZGRpbmcgYSBtYXJrZXIgdGhhdCBpcyBhbHJlYWR5IHRoZXJlPyBpbXBvc3NpYnJ1ISBidXQgYmVzdCBiZSBzdXJlLlxuICAgICAgICBpZiAocmVzdWx0LmlkIGluIHRoaXMubWFya2Vycykge1xuICAgICAgICAgICAgdGhpcy5tYXJrZXJSZW1vdmUocmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gZm9yIGNsdXN0ZXJlZCBtYXJrZXJzLCBldmVyeSBtYXJrZXIgYnV0IHRoZSBiYXNlIG1hcmtlciBiZWNvbWVzIGEgc3RhY2tlZCBtYXJrZXIuXG4gICAgICAgIHZhciBtYXJrZXJJY29uID0gdGhpcy5nZXRNYXJrZXJJY29uRm9yVHlwZShyZXN1bHQuZ2V0KCd0eXBlJyksIGlzTGFyZ2VNYXJrZXIsIGNsdXN0ZXJMZXZlbCA+IDAsIGNsdXN0ZXJMZXZlbCA9PSAwKTtcbiAgICAgICAgdmFyIGNvb3JkcyA9IGNsdXN0ZXJDb29yZHMgPyBjbHVzdGVyQ29vcmRzIDogW3Jlc3VsdC5nZXQoJ2xhdCcpLCByZXN1bHQuZ2V0KCdsb24nKV07XG4gICAgICAgIHZhciBpc1BvaW50ZWRNYXJrZXIgPSBpc0xhcmdlTWFya2VyIHx8IHR5cGVvZiBjbHVzdGVyTGV2ZWwgIT09ICd1bmRlZmluZWQnIHx8IGNsdXN0ZXJMZXZlbCA9PSAwO1xuICAgICAgICB2YXIgY2x1c3Rlck9mZnNldCA9IDA7XG4gICAgICAgIFxuICAgICAgICAvLyBhZGQgY2x1c3RlckxldmVsIGFzIG9mZnNldFxuICAgICAgICBpZiAodHlwZW9mIGNsdXN0ZXJMZXZlbCAhPT0gJ3VuZGVmaW5lZCcgJiYgY2x1c3RlckxldmVsID4gMCkge1xuICAgICAgICAgICAgY2x1c3Rlck9mZnNldCA9IHRoaXMub3B0aW9ucy5NQVJLRVJfU1RBQ0tfUFhfT0ZGU0VUX0JBU0UgKyAodGhpcy5vcHRpb25zLk1BUktFUl9TVEFDS19QWF9PRkZTRVRfUEVSX0NMVVNURVJfTEVWRUwgKiBjbHVzdGVyTGV2ZWwpO1xuICAgICAgICB9XG4gICAgICAgIC8vdXRpbC5sb2coJ2FkZGluZyBtYXJrZXIgYXQgY29vcmRzICcgKyBKU09OLnN0cmluZ2lmeShjb29yZHMpKVxuICAgICAgICBcbiAgICAgICAgdmFyIG1hcmtlciA9IEwubWFya2VyKGNvb3Jkcywge1xuICAgICAgICAgICAgaWNvbjogTC5kaXZJY29uKHtcbiAgICAgICAgICAgICAgICBpY29uU2l6ZTogW21hcmtlckljb24uaWNvbldpZHRoLCBtYXJrZXJJY29uLmljb25IZWlnaHRdLFxuICAgICAgICAgICAgICAgIGljb25BbmNob3I6IFttYXJrZXJJY29uLmljb25XaWR0aCAvIDIsIChtYXJrZXJJY29uLmljb25IZWlnaHQgLyAoaXNQb2ludGVkTWFya2VyID8gMSA6IDIpKSArIGNsdXN0ZXJPZmZzZXRdLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogbWFya2VySWNvbi5jbGFzc05hbWUgKyAocmVzdWx0LmdldCgnc2VsZWN0ZWQnKSA/ICcgbWFya2VyLXNlbGVjdGVkJyA6ICcnKSxcbi8vICAgICAgICAgICAgICAgIHBvcHVwQW5jaG9yOiBbMSwgLTI3XSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgekluZGV4T2Zmc2V0OiBjbHVzdGVyTGV2ZWwgPyAoMTAwMCArICgxMDAqY2x1c3RlckxldmVsKSkgOiBudWxsLFxuICAgICAgICAgICAgcmlzZU9uSG92ZXI6IGZhbHNlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIFxuICAgICAgICAvLyBiaW5kIGNsaWNrL2hvdmVyIGV2ZW50cyBcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5lbmFibGVQb3B1cCkge1xuICAgICAgICAgICAgbWFya2VyLmJpbmRQb3B1cChwb3B1cFRlbXBsYXRlLnJlbmRlcih7XG4gICAgICAgICAgICAgICAgaW1hZ2VVUkw6IHJlc3VsdC5nZXQoJ2ltYWdlVXJsJyksXG4gICAgICAgICAgICAgICAgdGl0bGU6IHJlc3VsdC5nZXQoJ3RpdGxlJyksXG4gICAgICAgICAgICAgICAgdXJsOiByZXN1bHQuZ2V0KCd1cmwnKSxcbiAgICAgICAgICAgICAgICBhZGRyZXNzOiByZXN1bHQuZ2V0KCdhZGRyZXNzJyksXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHJlc3VsdC5nZXQoJ2Rlc2NyaXB0aW9uJylcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSBcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5lbmFibGVEZXRhaWxTZWxlY3Rpb24pIHtcbiAgICAgICAgICAgIG1hcmtlci5vbignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHNlbGYuQXBwLmNvbnRyb2xWaWV3Lm9uUmVzdWx0TGlua0NsaWNrZWQobnVsbCwgcmVzdWx0LmlkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIG1hcmtlci5vbignbW91c2VvdmVyJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHNlbGYuQXBwLmNvbnRyb2xWaWV3LnNldEhvdmVyZWRSZXN1bHQocmVzdWx0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIG1hcmtlci5vbignbW91c2VvdXQnLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgc2VsZi5BcHAuY29udHJvbFZpZXcuc2V0SG92ZXJlZFJlc3VsdChudWxsKTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBcbiAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMua2VlcE9wZW5NYXJrZXJzQWZ0ZXJSZXN1bHRDaGFuZ2UgfHwgKHRoaXMubWFya2VyTm90UG9wdXAobWFya2VyKSAmJiB0aGlzLm1hcmtlck5vdFNwaWRlcmZpZWQobWFya2VyKSkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLmN1cnJlbnRseUNsdXN0ZXJpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsdXN0ZXJlZE1hcmtlcnMuYWRkTGF5ZXIobWFya2VyKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbWFya2VyLmFkZFRvKHRoaXMubGVhZmxldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm1hcmtlcnNbcmVzdWx0LmlkXSA9IG1hcmtlcjtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgXG4gICAgbWFya2VyQ2hhbmdlSG92ZXJlZDogZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgIGlmIChyZXN1bHQuaWQgaW4gdGhpcy5tYXJrZXJzKSB7XG4gICAgICAgICAgICB2YXIgbWFya2VyID0gdGhpcy5tYXJrZXJzW3Jlc3VsdC5pZF07XG4gICAgICAgICAgICAkKG1hcmtlci5faWNvbikudG9nZ2xlQ2xhc3MoJ21hcmtlci1ob3ZlcmVkJywgcmVzdWx0LmdldCgnaG92ZXJlZCcpKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgXG5cbiAgICBtYXJrZXJDaGFuZ2VTZWxlY3RlZDogZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgIGlmIChyZXN1bHQuaWQgaW4gdGhpcy5tYXJrZXJzKSB7XG4gICAgICAgICAgICB2YXIgbWFya2VyID0gdGhpcy5tYXJrZXJzW3Jlc3VsdC5pZF07XG4gICAgICAgICAgICAkKG1hcmtlci5faWNvbikudG9nZ2xlQ2xhc3MoJ21hcmtlci1zZWxlY3RlZCcsIHJlc3VsdC5nZXQoJ3NlbGVjdGVkJykpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBcbiAgICAvKipcbiAgICAgKiBPbiBtYXJrZXIgdXBkYXRlLiBUaGlzIGhhcHBlbnMgZXh0cmVtZWx5IGluZnJlcXVlbnRseSwgYXMgb24gbmV3IHNlYXJjaGVzIHRoZSB3aG9sZVxuICAgICAqIHJlc3VsdCBjb2xsZWN0aW9ucyBnZXRzIGV4Y2hhbmdlZCAod2hpY2ggdHJpZ2dlcnMgYG1hcmtlcnNSZXNldCgpYClcbiAgICAgKi9cbiAgICBtYXJrZXJVcGRhdGU6IGZ1bmN0aW9uKHJlc3VsdCwgd2hhdCkge1xuICAgICAgICAvLyBkb24ndCB1c2UgdGhpcyB0cmlnZ2VyIHdoZW4gb25seSBob3ZlcmVkL3NlbGVjdGVkIHN0YXRlIHdhcyBjaGFuZ2VkISAtIHRoZXkgaGF2ZSB0aGVpciBvd24gaGFuZGxlcnNcbiAgICAgICAgdmFyIGF0dHJzID0gcmVzdWx0LmNoYW5nZWRBdHRyaWJ1dGVzKCk7XG4gICAgICAgIGlmIChhdHRycyAmJiAoJ3NlbGVjdGVkJyBpbiBhdHRycyB8fCAnaG92ZXJlZCcgaW4gYXR0cnMpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdXRpbC5sb2coJ21hcC12aWV3LmpzOiBUT0RPOiBhY3R1YWxseSAqdXBkYXRlKiB0aGUgbWFya2VyIGFuZCBkb250IGp1c3QgcmVtb3ZlL2FkZCBpdCEnKVxuICAgICAgICBpZiAoIXJlc3VsdC5zZWxlY3RlZCkge1xuICAgICAgICAgICAgdGhpcy5tYXJrZXJSZW1vdmUocmVzdWx0KTtcbiAgICAgICAgICAgIHRoaXMubWFya2VyQWRkKHJlc3VsdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB1dGlsLmxvZygnbWFwLXZpZXcuanM6IFRPRE86OiB3YXMgb3JkZXJlZCB0byByZW1vdmUgYSBtYXJrZXIgdGhhdCBpcyBjdXJyZW50bHkgc2VsZWN0ZWQuIE5PVCBET0lORyBBTllUSElORyBSTiEnKVxuICAgICAgICB9XG4gICAgfSxcbiAgICBcbiAgICAvKiogUmVtb3ZlIGEgbGVhZmxldCBtYXJrZXIgZnJvbSB0aGUgbWFwLiBcbiAgICAgKiAgQWN0cyBhcyBoYW5kbGVyIGZvciBtb2RlbCBSZXN1bHQgcmVtb3ZhbCBmcm9tIHNlbGYuY29sbGVjdGlvbiAqL1xuICAgIG1hcmtlclJlbW92ZTogZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgIGlmIChyZXN1bHQuaWQgaW4gdGhpcy5tYXJrZXJzKSB7XG4gICAgICAgICAgICB2YXIgbWFya2VyID0gdGhpcy5tYXJrZXJzW3Jlc3VsdC5pZF07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLmN1cnJlbnRseUNsdXN0ZXJpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsdXN0ZXJlZE1hcmtlcnMucmVtb3ZlTGF5ZXIobWFya2VyKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sZWFmbGV0LnJlbW92ZUxheWVyKG1hcmtlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5tYXJrZXJzW3Jlc3VsdC5pZF07XG4gICAgICAgICAgICAvL3V0aWwubG9nKCdSZW1vdmVkIG1hcmtlciBhdCAnICsgcmVzdWx0LmdldCgnbGF0JykgKyAnLCAnICsgcmVzdWx0LmdldCgnbG9uJykpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBcbiAgICAvKiogSGFuZGxlciBmb3Igd2hlbiB0aGUgZW50aXJlIGNvbGxlY3Rpb24gY2hhbmdlcyAqL1xuICAgIG1hcmtlcnNSZXNldDogZnVuY3Rpb24ocmVzdWx0Q29sbGVjdGlvbiwgb3B0aW9ucykge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIF8uZWFjaChvcHRpb25zLnByZXZpb3VzTW9kZWxzLCBmdW5jdGlvbihyZXN1bHQpe1xuICAgICAgICAgICAgc2VsZi5tYXJrZXJSZW1vdmUocmVzdWx0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogQ2x1c3RlciByZXN1bHRzIGJ5IG1heGltdW0gcmFkaXVzXG4gICAgICAgICAqIFtcbiAgICAgICAgICogICAgICAgIHsgLy8gY2x1c3RlclxuICAgICAgICAgKiAgICAgICAgICAgIGxvYzoge2xhdDogMCwgbG9uOiAwfSxcbiAgICAgICAgICogICAgICAgICBpdGVtczogWyA8cmVzdWx0PiwgLi4uXVxuICAgICAgICAgKiAgICAgICAgfSxcbiAgICAgICAgICogICAgICAgIC4uLlxuICAgICAgICAgKiBdXG4gICAgICAgICAqL1xuICAgICAgICBcbiAgICAgICAgdmFyIGNsdXN0ZXJzID0gW107XG4gICAgICAgIC8vXy5lYWNoKHJlc3VsdENvbGxlY3Rpb24ubW9kZWxzLCBmdW5jdGlvbihyZXN1bHQpe1xuICAgICAgICBmb3IgKHZhciBpPTA7IGkgPCByZXN1bHRDb2xsZWN0aW9uLm1vZGVscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHJlc3VsdENvbGxlY3Rpb24ubW9kZWxzW2ldO1xuICAgICAgICAgICAgaWYgKCFyZXN1bHQuZ2V0KCdsYXQnKSB8fCAhcmVzdWx0LmdldCgnbG9uJykpIHtcbiAgICAgICAgICAgICAgICAvLyByZXN1bHRzIHdpdGhvdXQgbG9jYXRpb25zIGFyZSBpZ25vcmVkXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vXy5lYWNoKHJlc3VsdENvbGxlY3Rpb24ubW9kZWxzLCBmdW5jdGlvbihjbHVzdGVyKXtcbiAgICAgICAgICAgIGZvciAodmFyIGo9MDsgaiA8IGNsdXN0ZXJzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNsdXN0ZXIgPSBjbHVzdGVyc1tqXTtcbiAgICAgICAgICAgICAgICAvLyBjYWxjdWxhdGUgZGlzdGFuY2UgZnJvbSB0aGlzIHJlc3VsdCB0byBlYWNoIGNsdXN0ZXJcbiAgICAgICAgICAgICAgICB2YXIgZGlzdHggPSBNYXRoLmFicyhjbHVzdGVyWydsb2MnXVsnbG9uJ10gLSByZXN1bHQuZ2V0KCdsb24nKSk7XG4gICAgICAgICAgICAgICAgdmFyIGRpc3R5ID0gTWF0aC5hYnMoY2x1c3RlclsnbG9jJ11bJ2xhdCddIC0gcmVzdWx0LmdldCgnbGF0JykpO1xuICAgICAgICAgICAgICAgIGlmIChkaXN0eCA8IHNlbGYub3B0aW9ucy5yZXN1bHRNYXJrZXJDbHVzdGVyRGlzdGFuY2VbJ3gnXSAmJiBkaXN0eSA8IHNlbGYub3B0aW9ucy5yZXN1bHRNYXJrZXJDbHVzdGVyRGlzdGFuY2VbJ3knXSkge1xuICAgICAgICAgICAgICAgICAgICAvLyByZXN1bHQgbGllcyB3aXRoaW4gcmFkaXVzIG9mIGNsdXN0ZXJcbiAgICAgICAgICAgICAgICAgICAgY2x1c3RlclsnaXRlbXMnXS5wdXNoKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH0gXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gcmVzdWx0IGRpZG4ndCBsaWUgd2l0aGluIHJhZGl1cyBvZiBjbHVzdGVyLCBtYWtlIGEgbmV3IG9uZVxuICAgICAgICAgICAgaWYgKHJlc3VsdCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY2x1c3RlcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGxvYzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGF0OiByZXN1bHQuZ2V0KCdsYXQnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvbjogcmVzdWx0LmdldCgnbG9uJylcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgaXRlbXM6IFtyZXN1bHRdXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICAvLyByZW1vdmUgYWxsIHNpbmdsZS1yZXN1bHQgY2x1c3RlcnMgYW5kIGFkZCB0aGVpciByZXN1bHRzIGludG8gYSBzaW5nbGUgbGlzdFxuICAgICAgICB2YXIgc2luZ2xlUmVzdWx0cyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBrPWNsdXN0ZXJzLmxlbmd0aC0xOyBrID49IDA7IGstLSkge1xuICAgICAgICAgICAgdmFyIGNsdXN0ZXIgPSBjbHVzdGVyc1trXTtcbiAgICAgICAgICAgIGlmIChjbHVzdGVyWydpdGVtcyddLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgc2luZ2xlUmVzdWx0cy5wdXNoKGNsdXN0ZXJbJ2l0ZW1zJ11bMF0pO1xuICAgICAgICAgICAgICAgIGNsdXN0ZXJzLnNwbGljZShrLCAxKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gc29ydCB0aGUgaXRlbXMgaW5zaWRlIGEgY2x1c3RlciwgbW9zdCBpbXBvcnRhbnQgbGFzdCAoaGlnaGVzdCBpbiBzdGFjaylcbiAgICAgICAgICAgICAgICBjbHVzdGVyWydpdGVtcyddLnNvcnQoZnVuY3Rpb24oYSwgYikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYS5nZXQoJ3JlbGV2YW5jZScpIC0gYi5nZXQoJ3JlbGV2YW5jZScpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBhbGwgY2x1c3RlciBiYXNlcyBhcmUgbGFyZ2UgbWFya2Vyc1xuICAgICAgICB2YXIgcmVtYWluaW5nTGFyZ2VNYXJrZXJzID0gc2VsZi5vcHRpb25zLk1BUktFUl9OVU1CRVJfT0ZfTEFSR0VfTUFSS0VSUztcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpIDwgY2x1c3RlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjbHVzdGVyID0gY2x1c3RlcnNbaV07XG4gICAgICAgICAgICAvLyBmb3IgZWFjaCBjbHVzdGVyLCBhZGQgYWxsIHJlc3VsdHMgaW4gYSBzdGFja2luZyBvZmZzZXRcbiAgICAgICAgICAgIGZvciAodmFyIGo9Y2x1c3RlclsnaXRlbXMnXS5sZW5ndGgtMTsgaiA+PSAwOyBqLS0pIHtcbiAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IGNsdXN0ZXJbJ2l0ZW1zJ11bal07XG4gICAgICAgICAgICAgICAgc2VsZi5tYXJrZXJBZGQoaXRlbSwgZmFsc2UsIGosIGNsdXN0ZXJbJ2xvYyddKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlbWFpbmluZ0xhcmdlTWFya2VycyAtPSAxO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBzb3J0IChieSByZWxldmFuY2UpIGFuZCBhZGQgdGhlIHJlc3VsdHMgdGhhdCBhcmVuJ3QgaW4gYSBjbHVzdGVyXG4gICAgICAgIHNpbmdsZVJlc3VsdHMuc29ydChmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gYi5nZXQoJ3JlbGV2YW5jZScpIC0gYS5nZXQoJ3JlbGV2YW5jZScpO1xuICAgICAgICB9KTtcbiAgICAgICAgXy5lYWNoKHNpbmdsZVJlc3VsdHMsIGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgICAgICAgICBpZiAocmVtYWluaW5nTGFyZ2VNYXJrZXJzID4gMCkge1xuICAgICAgICAgICAgICAgIHNlbGYubWFya2VyQWRkKHJlc3VsdCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgcmVtYWluaW5nTGFyZ2VNYXJrZXJzIC09IDE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNlbGYubWFya2VyQWRkKHJlc3VsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgXG4gICAgLyoqIEFjdGl2YXRlcyB0aGUgTWFwLU1hcmtlci1QbGFjZSBtb2RlIHdoZXJlIGEgZHJhZ2dhYmxlIG1hcmtlciBpcyBzaG93blxuICAgICAqIGluIHRoZSBjZW50ZXIgb2YgdGhlIG1hcCBhbmQgYWxsIG90aGVyIG1hcmtlcnMgYXJlIGhpZGRlbi4gKi9cbiAgICBhY3RpdmF0ZURyYWdnYWJsZU1hcmtlcjogZnVuY3Rpb24gKHJlc3VsdFR5cGUpIHtcbiAgICBcdHZhciBzZWxmID0gdGhpcztcbiAgICBcdC8vIGhpZGUgYWxsIG90aGVyIG1hcmtlcnNcbiAgICBcdCQoJy5sZWFmbGV0LW1hcmtlci1wYW5lJykuYWRkQ2xhc3MoJ21hcmtlci1wbGFjZS1tb2RlJyk7XG4gICAgXHR2YXIgd2lkdGggPSB0aGlzLm9wdGlvbnMucmVzdWx0TWFya2VyU2l6ZXNbJ3dpZHRoTGFyZ2UnXTtcbiAgICBcdHZhciBoZWlnaHQgPSB0aGlzLm9wdGlvbnMucmVzdWx0TWFya2VyU2l6ZXNbJ2hlaWdodExhcmdlJ11cbiAgICBcdFxuICAgIFx0dGhpcy5kcmFnZ2FibGVNYXJrZXIgPSBMLm1hcmtlcih0aGlzLmxlYWZsZXQuZ2V0Q2VudGVyKCksIHtcbiAgICAgICAgICAgIGljb246IEwuZGl2SWNvbih7XG4gICAgICAgICAgICAgICAgaWNvblNpemU6IFt3aWR0aCwgdGhpcy5vcHRpb25zLnJlc3VsdE1hcmtlclNpemVzWydoZWlnaHRMYXJnZSddXSxcbiAgICAgICAgICAgICAgICBpY29uQW5jaG9yOiBbd2lkdGggLyAyLCBoZWlnaHRdLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ2RyYWdnYWJsZS1wbGFjZW1hcmsgcGxhY2VtYXJrIGwgaWNvbiAnICsgcmVzdWx0VHlwZSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgcmlzZU9uSG92ZXI6IGZhbHNlLFxuICAgICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlLFxuICAgICAgICAgICAga2V5Ym9hcmQ6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgIFx0dGhpcy5kcmFnZ2FibGVNYXJrZXIub24oXCJkcmFnZW5kXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICBcdCAgICB2YXIgbWFya2VyID0gZS50YXJnZXQ7XG4gICAgXHQgICAgc2VsZi5sZWFmbGV0LnBhblRvKG1hcmtlci5nZXRMYXRMbmcoKSk7XG4gICAgXHR9KTtcbiAgICBcdHRoaXMuZHJhZ2dhYmxlTWFya2VyLmFkZFRvKHRoaXMubGVhZmxldCk7XG4gICAgfSxcbiAgICBcbiAgICAvKiogRGVhY3RpdmF0ZXMgdGhlIE1hcC1NYXJrZXItUGxhY2UgbW9kZS4gKi9cbiAgICBkZWFjdGl2YXRlRHJhZ2dhYmxlTWFya2VyOiBmdW5jdGlvbiAoKSB7XG4gICAgXHR0aGlzLmxlYWZsZXQucmVtb3ZlTGF5ZXIodGhpcy5kcmFnZ2FibGVNYXJrZXIpO1xuICAgIFx0dGhpcy5kcmFnZ2FibGVNYXJrZXIgPSBudWxsO1xuICAgIFx0Ly8gc2hvdyBvdGhlciBtYXJrZXJzIGFnYWluXG4gICAgXHQkKCcubGVhZmxldC1tYXJrZXItcGFuZScpLnJlbW92ZUNsYXNzKCdtYXJrZXItcGxhY2UtbW9kZScpO1xuICAgIH0sXG4gICAgXG4gICAgLyoqIElmIHRoZSBNYXAtTWFya2VyLVBsYWNlIG1vZGUgaXMgYWN0aXZlLCByZXR1cm4gdGhlIExhdExuZyBvYmplY3Qgb2ZcbiAgICAgKiAgdGhlIGRyYWdnYWJsZSBtYXJrZXIsIGVsc2UgcmV0dXJuIG51bGwuICovXG4gICAgZ2V0RHJhZ2dhYmxlTWFya2VyTGF0TG5nOiBmdW5jdGlvbiAoKSB7XG4gICAgXHRpZiAodGhpcy5kcmFnZ2FibGVNYXJrZXIpIHtcbiAgICBcdFx0cmV0dXJuIHRoaXMuZHJhZ2dhYmxlTWFya2VyLmdldExhdExuZygpO1xuICAgIFx0fSBlbHNlIHtcbiAgICBcdFx0cmV0dXJuIG51bGw7XG4gICAgXHR9XG4gICAgfSxcbiAgICBcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZSBleHBhbmQgYnV0dG9uIGlzIGNsaWNrZWQgZm9yIGV4cGFuZGluZyBvciBjb250cmFjdGluZ1xuICAgICAqIHRoZSBtYXAgKHNwbGl0c2NyZWVuIHZzIG1heGltaXplZCkuXG4gICAgICovXG4gICAgb25FeHBhbmRCdXR0b25DbGlja2VkOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBcdHRoaXMuQXBwLmNvbnRyb2xWaWV3LnN3aXRjaERpc3BsYXlTdGF0ZSh0cnVlLCAhdGhpcy5vcHRpb25zLnNwbGl0c2NyZWVuKTtcbiAgICB9LFxuICAgIFxuICAgIFxuICAgIC8qKiBTaG93cyBhbmQgcmVsb2FkcyB0aGUgbWFwIHdpdGggY3VycmVudCBzZXR0aW5ncyAqL1xuICAgIHJlbG9hZDogZnVuY3Rpb24gKCkge1xuICAgIFx0dXRpbC5sb2coJyoqKiBSZWxvYWRpbmcgTWFwIFZpZXcgKioqJylcbiAgICAgICAgdGhpcy4kZWwudG9nZ2xlQ2xhc3MoJ21hcC1zcGxpdHNjcmVlbicsIHRoaXMub3B0aW9ucy5zcGxpdHNjcmVlbik7XG4gICAgXHR0aGlzLiRlbC5zaG93KCk7XG4gICAgICAgIEJhY2tib25lLm1lZGlhdG9yLnB1Ymxpc2goJ3Jlc2l6ZTp3aW5kb3cnKTtcbiAgICB9LFxuICAgIFxuICAgIC8qKiBIaWRlcyB0aGUgbWFwICovXG4gICAgaGlkZTogZnVuY3Rpb24gKCkge1xuICAgIFx0dXRpbC5sb2coJyoqKiBIaWRpbmcgTWFwIFZpZXcgKioqJylcbiAgICBcdHRoaXMuJGVsLmhpZGUoKTtcbiAgICB9LFxuXG4gICAgLy8gUHJpdmF0ZVxuICAgIC8vIC0tLS0tLS1cblxuICAgIHJlbmRlck1hcDogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIFxuICAgICAgICB1dGlsLmxvZygnKysrKysrIG1hcC12aWV3LmpzIHJlbmRlck1hcCBjYWxsZWQhIFRoaXMgc2hvdWxkIG9ubHkgaGFwcGVuIG9uY2UgYXQgaW5pdCEgKysrKysrKysrKysrKysrKysrKycpXG4gICAgICAgIFxuICAgICAgICB2YXIgb3B0aW9ucyA9IHt9O1xuICAgICAgICBpZiAoc2VsZi5zdGF0ZS5tb2JpbGVTYWZlSW50ZXJhY3Rpb25zKSB7XG4gICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIHNjcm9sbFdoZWVsWm9vbTogZmFsc2UsXG4gICAgICAgICAgICAgICAgLy8gZHJhZ2dpbmc6IGZhbHNlLCAvLyB0aGlzIG9ubHkgZGlzYWJsZXMgdGhlIGFjdHVhbCBkcmFnZ2luZywgYnV0IG5vdCB0aGUgaGFuZGxlcnMsIHNvIHNjcm9sbGluZyBvbiBtb2JpbGUgaXMgc3RpbGwgbm90IHBvc3NpYmxlIGV2ZW4gd2l0aCB0aGlzIHNldCB0byBmYWxzZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxlYWZsZXQgPSBMLm1hcCgnbWFwLWNvbnRhaW5lcicsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLnNldExheWVyKHRoaXMub3B0aW9ucy5sYXllcik7XG4gICAgICAgIFxuICAgICAgICBpZiAoc2VsZi5nZW9SZWdpb25VcmwpIHtcbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxuICAgICAgICAgICAgICAgIHVybDogc2VsZi5nZW9SZWdpb25VcmwsXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBzdHlsZSBzZWUgaHR0cHM6Ly9sZWFmbGV0anMuY29tL3JlZmVyZW5jZS0xLjMuMC5odG1sI3BhdGgtb3B0aW9uXG4gICAgICAgICAgICAgICAgICAgIHZhciBkaXN0cmljdF9ib3VuZGFyeSA9IG5ldyBMLmdlb0pzb24obnVsbCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHV0aWwuaWZ1bmRlZihDT1NJTk5VU19NQVBfT1BUSU9OUy5nZW9qc29uX3N0eWxlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDAuNSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuMDM1LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgZGlzdHJpY3RfYm91bmRhcnkuYWRkVG8oc2VsZi5sZWFmbGV0KTtcbiAgICAgICAgICAgICAgICAgICAgJChkYXRhLmZlYXR1cmVzKS5lYWNoKGZ1bmN0aW9uKGtleSwgZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzdHJpY3RfYm91bmRhcnkuYWRkRGF0YShkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkuZXJyb3IoZnVuY3Rpb24oKSB7fSk7XG4gICAgICAgICAgICBcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuY2x1c3RlcmluZ0VuYWJsZWQpIHtcbiAgICAgICAgICAgIC8vIFNldHVwIHRoZSBjbHVzdGVyIGxheWVyXG4gICAgICAgICAgICB0aGlzLmNsdXN0ZXJlZE1hcmtlcnMgPSBMLm1hcmtlckNsdXN0ZXJHcm91cCh7XG4gICAgICAgICAgICAgICAgbWF4Q2x1c3RlclJhZGl1czogdGhpcy5vcHRpb25zLm1heENsdXN0ZXJSYWRpdXNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5jbHVzdGVyZWRNYXJrZXJzLm9uKCdzcGlkZXJmaWVkJywgdGhpcy5oYW5kbGVTcGlkZXJmaWVkLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMubGVhZmxldC5hZGRMYXllcih0aGlzLmNsdXN0ZXJlZE1hcmtlcnMpO1xuICAgICAgICAgICAgdGhpcy5zZXRDbHVzdGVyU3RhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gaWYgYW4gaW5pdGlhbCBsb2NhdGlvbiB3YXMgZGVmaW5lZCwgc2V0IHRoYXQgbG9jYXRpb24gYW5kIHpvb20gYXMgaW5pdGlhbCB2aWV3cG9ydFxuICAgICAgICAvLyBvdGhlcndpc2UsIHVzZSBmaXRCb3VuZHMgdG8gYWRqdXN0IHRoZSB2aWV3cG9ydCB0byB0aGUgb25lIFxuICAgICAgICAvLyBkZWZpbmVkIGluIGBzdGF0ZWAgd2l0aCBgQ09TSU5OVVNfTUFQX09QVElPTlMuZGVmYXVsdF9jb29yZGluYXRlcy5uZV9sYXRgXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMubG9jYXRpb24gJiYgdGhpcy5vcHRpb25zLmxvY2F0aW9uLmxlbmd0aCA9PSAyKSB7XG4gICAgICAgIFx0dGhpcy5sZWFmbGV0LnNldFZpZXcodGhpcy5vcHRpb25zLmxvY2F0aW9uLCB0aGlzLm9wdGlvbnMuem9vbSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgIFx0dGhpcy5maXRCb3VuZHMoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZUNsdXN0ZXJEaXN0YW5jZXMoKTtcblxuICAgICAgICB0aGlzLmxlYWZsZXQub24oJ3pvb21lbmQnLCB0aGlzLmhhbmRsZVZpZXdwb3J0Q2hhbmdlLCB0aGlzKTtcbiAgICAgICAgdGhpcy5sZWFmbGV0Lm9uKCdkcmFnZW5kJywgdGhpcy5oYW5kbGVWaWV3cG9ydENoYW5nZSwgdGhpcyk7XG4gICAgICAgIHRoaXMubGVhZmxldC5vbigncG9wdXBvcGVuJywgdGhpcy5oYW5kbGVQb3B1cCwgdGhpcyk7XG4gICAgICAgIHRoaXMubGVhZmxldC5vbigncG9wdXBjbG9zZScsIHRoaXMuaGFuZGxlUG9wdXAsIHRoaXMpO1xuICAgICAgICBcbiAgICAgICAgLy8gZGlzYWJsZSBkcmFnIGRyb3BwaW5nIGluc2lkZSBtYXAgY29udHJvbHNcbiAgICAgICAgdmFyIGRpdiA9IHRoaXMuJGVsLmZpbmQoJy5tYXAtY29udHJvbHMnKVswXTtcbiAgICAgICAgaWYgKGRpdikge1xuICAgICAgICAgICAgaWYgKCFMLkJyb3dzZXIudG91Y2gpIHtcbiAgICAgICAgICAgICAgICBMLkRvbUV2ZW50LmRpc2FibGVDbGlja1Byb3BhZ2F0aW9uKGRpdik7XG4gICAgICAgICAgICAgICAgTC5Eb21FdmVudC5vbihkaXYsICdtb3VzZXdoZWVsJywgTC5Eb21FdmVudC5zdG9wUHJvcGFnYXRpb24pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBMLkRvbUV2ZW50Lm9uKGRpdiwgJ2NsaWNrJywgTC5Eb21FdmVudC5zdG9wUHJvcGFnYXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB0aGlzLnVwZGF0ZUJvdW5kcygpO1xuICAgIH0sXG5cbiAgICBzZXRMYXllcjogZnVuY3Rpb24gKGxheWVyKSB7XG4gICAgICAgIHRoaXMuc3RhdGUuY3VycmVudExheWVyICYmIHRoaXMubGVhZmxldC5yZW1vdmVMYXllcih0aGlzLnN0YXRlLmN1cnJlbnRMYXllcik7XG4gICAgICAgIGlmIChDT1NJTk5VU19NQVBfVVNFX01PREVSTl9USUxFU0VUID09IHRydWUpe1xuICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSBfKHRoaXMubGF5ZXJzTW9kZXJuVGlsZXNldFtsYXllcl0ub3B0aW9ucykuZXh0ZW5kKHtcbiAgICAgICAgICAgICAgICBtYXhab29tOiAxNSxcbiAgICAgICAgICAgICAgICBtaW5ab29tOjNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5jdXJyZW50TGF5ZXIgPSBMLnRpbGVMYXllcih0aGlzLmxheWVyc01vZGVyblRpbGVzZXRbbGF5ZXJdLnVybCwgb3B0aW9ucylcbiAgICAgICAgICAgICAgICAuYWRkVG8odGhpcy5sZWFmbGV0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBvcHRpb25zID0gXyh0aGlzLmxheWVyc1tsYXllcl0ub3B0aW9ucykuZXh0ZW5kKHtcbiAgICAgICAgICAgICAgICBtYXhab29tOiAxNSxcbiAgICAgICAgICAgICAgICBtaW5ab29tOjNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5jdXJyZW50TGF5ZXIgPSBMLnRpbGVMYXllcih0aGlzLmxheWVyc1tsYXllcl0udXJsLCBvcHRpb25zKVxuICAgICAgICAgICAgICAgIC5hZGRUbyh0aGlzLmxlYWZsZXQpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHVwZGF0ZUJvdW5kczogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYm91bmRzID0gdGhpcy5sZWFmbGV0LmdldEJvdW5kcygpXG4gICAgICAgIHZhciBwYWRkZWRCb3VuZHMgPSBib3VuZHMucGFkKHRoaXMub3B0aW9ucy5sYXRMbmdCdWZmZXIpO1xuICAgICAgICBfLmV4dGVuZCh0aGlzLnN0YXRlLCB7XG4gICAgICAgICAgICBzb3V0aDogTC5VdGlsLmZvcm1hdE51bShib3VuZHMuZ2V0U291dGgoKSwgdGhpcy5vcHRpb25zLmxhdExuZ1JvdW5kVG9EZWNpbWFscyksXG4gICAgICAgICAgICBwYWRkZWRTb3V0aDogTC5VdGlsLmZvcm1hdE51bShwYWRkZWRCb3VuZHMuZ2V0U291dGgoKSwgdGhpcy5vcHRpb25zLmxhdExuZ1JvdW5kVG9EZWNpbWFscyksXG4gICAgICAgICAgICB3ZXN0OiBMLlV0aWwuZm9ybWF0TnVtKGJvdW5kcy5nZXRXZXN0KCksIHRoaXMub3B0aW9ucy5sYXRMbmdSb3VuZFRvRGVjaW1hbHMpLFxuICAgICAgICAgICAgcGFkZGVkV2VzdDogTC5VdGlsLmZvcm1hdE51bShwYWRkZWRCb3VuZHMuZ2V0V2VzdCgpLCB0aGlzLm9wdGlvbnMubGF0TG5nUm91bmRUb0RlY2ltYWxzKSxcbiAgICAgICAgICAgIG5vcnRoOiBMLlV0aWwuZm9ybWF0TnVtKGJvdW5kcy5nZXROb3J0aCgpLCB0aGlzLm9wdGlvbnMubGF0TG5nUm91bmRUb0RlY2ltYWxzKSxcbiAgICAgICAgICAgIHBhZGRlZE5vcnRoOiBMLlV0aWwuZm9ybWF0TnVtKHBhZGRlZEJvdW5kcy5nZXROb3J0aCgpLCB0aGlzLm9wdGlvbnMubGF0TG5nUm91bmRUb0RlY2ltYWxzKSxcbiAgICAgICAgICAgIGVhc3Q6IEwuVXRpbC5mb3JtYXROdW0oYm91bmRzLmdldEVhc3QoKSwgdGhpcy5vcHRpb25zLmxhdExuZ1JvdW5kVG9EZWNpbWFscyksXG4gICAgICAgICAgICBwYWRkZWRFYXN0OiBMLlV0aWwuZm9ybWF0TnVtKHBhZGRlZEJvdW5kcy5nZXRFYXN0KCksIHRoaXMub3B0aW9ucy5sYXRMbmdSb3VuZFRvRGVjaW1hbHMpXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnN0YXRlLnpvb20gPSB0aGlzLmxlYWZsZXQuX3pvb207XG4gICAgfSxcblxuICAgIHNldENsdXN0ZXJTdGF0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNsdXN0ZXJpbmdFbmFibGVkKSB7XG4gICAgICAgICAgICAvLyBTZXQgY2x1c3RlcmluZyBzdGF0ZTogY2x1c3RlciBvbmx5IHdoZW4gem9vbWVkIGluIGVub3VnaC5cbiAgICAgICAgICAgIHZhciB6b29tID0gdGhpcy5sZWFmbGV0LmdldFpvb20oKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuY3VycmVudGx5Q2x1c3RlcmluZyA9IHpvb20gPiB0aGlzLm9wdGlvbnMuY2x1c3Rlclpvb21UaHJlc2hvbGQ7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIFxuICAgIC8qKiBHZXRzIGEgZGljdCBvZiB7aWNvblVybDogPHN0cj4sIGljb25XaWR0aDogPGludD4sIGljb25IZWlnaHQ6IDxpbnQ+fVxuICAgICAqICBmb3IgYSBnaXZlbiB0eXBlIGNvcnJlc3BvbmRpbmcgdG8gbW9kZWwgUmVzdWx0LnR5cGUuICovXG4gICAgZ2V0TWFya2VySWNvbkZvclR5cGU6IGZ1bmN0aW9uKHJlc3VsdFR5cGUsIGlzTGFyZ2VNYXJrZXIsIGlzU3RhY2tlZE1hcmtlciwgaXNCYXNlTWFya2VyKSB7XG4gICAgICAgIHZhciBtYXJrZXJJY29uO1xuICAgICAgICB2YXIgc3VmZml4ID0gJyc7XG4gICAgICAgIHZhciBjbGFzc05hbWUgPSAncGxhY2VtYXJrJztcbiAgICAgICAgXG4gICAgICAgIGlmIChpc0Jhc2VNYXJrZXIpIHtcbiAgICAgICAgICAgIHN1ZmZpeCA9ICdCYXNlJztcbiAgICAgICAgICAgIGNsYXNzTmFtZSArPSAnIGwnO1xuICAgICAgICB9IGVsc2UgaWYgKGlzU3RhY2tlZE1hcmtlcikge1xuICAgICAgICAgICAgc3VmZml4ID0gJ1N0YWNrZWQnO1xuICAgICAgICAgICAgY2xhc3NOYW1lICs9ICcgbSc7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNMYXJnZU1hcmtlcikge1xuICAgICAgICAgICAgc3VmZml4ID0gJ0xhcmdlJztcbiAgICAgICAgICAgIGNsYXNzTmFtZSArPSAnIGwgaWNvbic7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjbGFzc05hbWUgKz0gJyBzJztcbiAgICAgICAgfVxuICAgICAgICAvLyB0eXBlIG9mIHRoZSBtYXJrZXJcbiAgICAgICAgY2xhc3NOYW1lICs9ICcgJyArIHJlc3VsdFR5cGU7XG4gICAgICAgIFxuICAgICAgICBtYXJrZXJJY29uID0ge1xuICAgICAgICAgICAgaWNvbldpZHRoOiB0aGlzLm9wdGlvbnMucmVzdWx0TWFya2VyU2l6ZXNbJ3dpZHRoJyArIHN1ZmZpeF0sXG4gICAgICAgICAgICBpY29uSGVpZ2h0OiB0aGlzLm9wdGlvbnMucmVzdWx0TWFya2VyU2l6ZXNbJ2hlaWdodCcgKyBzdWZmaXhdLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG1hcmtlckljb247XG4gICAgfSxcblxuICAgIG1hcmtlck5vdFBvcHVwOiBmdW5jdGlvbiAobWFya2VyKSB7XG4gICAgICAgIHZhciBwID0gdGhpcy5wb3B1cDtcbiAgICAgICAgcmV0dXJuICFwIHx8ICFfKHAuZ2V0TGF0TG5nKCkpLmlzRXF1YWwobWFya2VyLmdldExhdExuZygpKTtcbiAgICB9LFxuXG4gICAgbWFya2VyTm90U3BpZGVyZmllZDogZnVuY3Rpb24gKG1hcmtlcikge1xuICAgICAgICB2YXIgcyA9IHRoaXMuc3RhdGUuY3VycmVudFNwaWRlcmZpZWQ7XG4gICAgICAgIHZhciByZXQgPSAhcyB8fCAhXyhzLmdldEFsbENoaWxkTWFya2VycygpKS5maW5kKGZ1bmN0aW9uIChtKSB7XG4gICAgICAgICAgICByZXR1cm4gXyhtLmdldExhdExuZygpKS5pc0VxdWFsKG1hcmtlci5nZXRMYXRMbmcoKSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH0sXG5cbiAgICAvLyBFdmVudCBIYW5kbGVyc1xuICAgIC8vIC0tLS0tLS0tLS0tLS0tXG5cbiAgICAvLyBSZW5kZXIgdGhlIHNlYXJjaCByZXN1bHRzIGFzIG1hcmtlcnMgb24gdGhlIG1hcC5cbiAgICAvLyBUT0RPOiByZW1vdmUhIGRlcHJlY2F0ZWQgYW5kIHVudXNlZC5cbiAgICAvKlxuICAgIHVwZGF0ZU1hcmtlcnM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICAgICAgcmVzdWx0cyA9IHNlbGYubW9kZWwuZ2V0KCdyZXN1bHRzJyk7XG5cbiAgICAgICAgLy8gUmVtb3ZlIHByZXZpb3VzIG1hcmtlcnMgZnJvbSBtYXAgYmFzZWQgb24gY3VycmVudCBjbHVzdGVyaW5nIHN0YXRlLlxuICAgICAgICBpZiAoc2VsZi5tYXJrZXJzKSB7XG4gICAgICAgICAgICBfKHNlbGYubWFya2VycykuZWFjaChmdW5jdGlvbiAobWFya2VyKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXNlbGYub3B0aW9ucy5rZWVwT3Blbk1hcmtlcnNBZnRlclJlc3VsdENoYW5nZSB8fCAoc2VsZi5tYXJrZXJOb3RQb3B1cChtYXJrZXIpICYmIHNlbGYubWFya2VyTm90U3BpZGVyZmllZChtYXJrZXIpKSkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnJlbW92ZU1hcmtlcihtYXJrZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsZi5zZXRDbHVzdGVyU3RhdGUoKTtcbiAgICAgICAgc2VsZi5tYXJrZXJzID0gW107XG5cbiAgICAgICAgLy8gRW5zdXJlIHBvcHVwIGFuZCBzcGlkZXJmaWVkIG1hcmtlcnMgYXJlIGluIHRoZSBtYXJrZXJzIGFycmF5O1xuICAgICAgICAvLyBldmVuIHdoZW4gdGhleSBhcmVuJ3QgaW5jbHVkZWQgaW4gdGhlIGxhdGVzdCByZXN1bHRzLlxuICAgICAgICBpZiAoc2VsZi5vcHRpb25zLmtlZXBPcGVuTWFya2Vyc0FmdGVyUmVzdWx0Q2hhbmdlKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5wb3B1cCkge1xuICAgICAgICAgICAgICAgIHNlbGYubWFya2Vycy5wdXNoKHNlbGYucG9wdXAuX3NvdXJjZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNlbGYuc3RhdGUuY3VycmVudFNwaWRlcmZpZWQpIHtcbiAgICAgICAgICAgICAgICBfKHNlbGYuc3RhdGUuY3VycmVudFNwaWRlcmZpZWQuZ2V0QWxsQ2hpbGRNYXJrZXJzKCkpLmVhY2goZnVuY3Rpb24gKG0pIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5tYXJrZXJzLnB1c2gobSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgdGhlIGluZGl2aWR1YWwgbWFya2Vycy5cbiAgICAgICAgXyh0aGlzLm1vZGVsLmFjdGl2ZUZpbHRlckxpc3QoKSkuZWFjaChmdW5jdGlvbiAocmVzdWx0VHlwZSkge1xuICAgICAgICAgICAgXyhyZXN1bHRzW3Jlc3VsdFR5cGVdKS5lYWNoKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmFkZE1hcmtlcihyZXN1bHQsIHJlc3VsdFR5cGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgKi9cblxuICAgIGhhbmRsZVZpZXdwb3J0Q2hhbmdlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2V0Q2x1c3RlclN0YXRlKCk7XG4gICAgICAgIHRoaXMudXBkYXRlQm91bmRzKCk7XG4gICAgICAgIHRoaXMudXBkYXRlQ2x1c3RlckRpc3RhbmNlcygpO1xuICAgICAgICBCYWNrYm9uZS5tZWRpYXRvci5wdWJsaXNoKCdhcHA6c3RhbGUtcmVzdWx0cycsIHtyZWFzb246ICd2aWV3cG9ydC1jaGFuZ2VkJ30pO1xuICAgIH0sXG4gICAgXG4gICAgLyoqIFJlY2FsY3VsYXRlIGNsdXN0ZXJpbmcgZGlzdGFuY2VzIGJhc2VkIG9uIGN1cnJlbnQgbWFwIGFyZWEgYW5kIHpvb20gKi9cbiAgICB1cGRhdGVDbHVzdGVyRGlzdGFuY2VzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBucyA9IE1hdGguYWJzKHRoaXMuc3RhdGUuc291dGggLSB0aGlzLnN0YXRlLm5vcnRoKSAvIHRoaXMuJGVsLmhlaWdodCgpO1xuICAgICAgICB2YXIgd2UgPSBNYXRoLmFicyh0aGlzLnN0YXRlLmVhc3QgLSB0aGlzLnN0YXRlLndlc3QpIC8gdGhpcy4kZWwud2lkdGgoKTtcbiAgICAgICAgdGhpcy5vcHRpb25zLnJlc3VsdE1hcmtlckNsdXN0ZXJEaXN0YW5jZVsneCddID0gd2UgKiB0aGlzLm9wdGlvbnMucmVzdWx0TWFya2VyU2l6ZXNbJ3dpZHRoTGFyZ2UnXSAqIHRoaXMub3B0aW9ucy5NQVJLRVJfQ0xVU1RFUl9SQURJVVNfTElNSVQ7XG4gICAgICAgIHRoaXMub3B0aW9ucy5yZXN1bHRNYXJrZXJDbHVzdGVyRGlzdGFuY2VbJ3knXSA9IG5zICogdGhpcy5vcHRpb25zLnJlc3VsdE1hcmtlclNpemVzWydoZWlnaHRMYXJnZSddICogdGhpcy5vcHRpb25zLk1BUktFUl9DTFVTVEVSX1JBRElVU19MSU1JVDtcbiAgICAgICAgdGhpcy5vcHRpb25zLnJlc3VsdE1hcmtlckNsdXN0ZXJEaXN0YW5jZVsncGVyWm9vbSddID0gMSAvIChNYXRoLnBvdygyLCB0aGlzLmxlYWZsZXQuZ2V0Wm9vbSgpKSk7XG4gICAgfSxcblxuICAgIC8vIEhhbmRsZSBjaGFuZ2UgYm91bmRzIChmcm9tIFVSTCkuXG4gICAgZml0Qm91bmRzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmxlYWZsZXQpIHtcbiAgICAgICAgICAgIHV0aWwubG9nKCdtYXAtdmlldy5qczogZml0Qm91bmRzIGNhbGxlZCcpXG4gICAgICAgICAgICB0aGlzLmxlYWZsZXQuZml0Qm91bmRzKEwubGF0TG5nQm91bmRzKFxuICAgICAgICAgICAgICAgICAgICBMLmxhdExuZyh0aGlzLnN0YXRlLnNvdXRoLCB0aGlzLnN0YXRlLndlc3QpLFxuICAgICAgICAgICAgICAgICAgICBMLmxhdExuZyh0aGlzLnN0YXRlLm5vcnRoLCB0aGlzLnN0YXRlLmVhc3QpXG4gICAgICAgICAgICApKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHV0aWwubG9nKCdtYXAtdmlldy5qczogZml0Qm91bmRzIGZpenpsZWQnKVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIGhhbmRsZVBvcHVwOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICdwb3B1cG9wZW4nKSB7XG4gICAgICAgICAgICB0aGlzLnBvcHVwID0gZXZlbnQucG9wdXA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgcG9wTGF0TG5nID0gdGhpcy5wb3B1cC5nZXRMYXRMbmcoKTtcbiAgICAgICAgICAgIHZhciBtYXJrZXIgPSBldmVudC5wb3B1cC5fc291cmNlO1xuICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSBwb3B1cCdzIG1hcmtlciBpZiBpdCdzIG5vdyBvZmYgc2NyZWVuLlxuICAgICAgICAgICAgLypcbiAgICAgICAgICAgIGlmICghdGhpcy5sZWFmbGV0LmdldEJvdW5kcygpLnBhZCh0aGlzLm9wdGlvbnMubGF0TG5nQnVmZmVyKS5jb250YWlucyhwb3BMYXRMbmcpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVNYXJrZXIobWFya2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLnBvcHVwID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBoYW5kbGVTcGlkZXJmaWVkOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5jdXJyZW50U3BpZGVyZmllZCA9IGV2ZW50LmNsdXN0ZXI7XG4gICAgfVxufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Nvc2lubnVzL2NsaWVudC92aWV3cy9tYXAtdmlldy5qc1xuLy8gbW9kdWxlIGlkID0gMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbnZhciBCYXNlVmlldyA9IHJlcXVpcmUoJ3ZpZXdzL2Jhc2UvdmlldycpO1xudmFyIHV0aWwgPSByZXF1aXJlKCdsaWIvdXRpbCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEJhc2VWaWV3LmV4dGVuZCh7XG4gICAgXG4gICAgLy8gcmVmZXJlbmNlIGJhY2sgdG8gdGhlIG1haW4gQXBwXG4gICAgQXBwOiBudWxsLFxuICAgIFxuICAgIC8vIHRoZSByZXN1bHRDb2xsZWN0aW9uIGRhdGEgc291cmNlIHRoaXMgdmlldyBvcGVyYXRlcyBvbi5cbiAgICAvLyBvZnRlbiB0aGUgc2FtZSBjb2xsZWN0aW9uIG90aGVyIHZpZXdzIHVzZSBhcyB3ZWxsXG4gICAgY29sbGVjdGlvbjogbnVsbCxcblxuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIChvcHRpb25zLCBhcHAsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBCYXNlVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHNlbGYsIG9wdGlvbnMpO1xuICAgICAgICBzZWxmLkFwcCA9IGFwcDtcbiAgICAgICAgc2VsZi5jb2xsZWN0aW9uID0gY29sbGVjdGlvbjtcbiAgICB9LFxuICAgIFxuICAgIC8qKiBDYWxsZWQgYXQgdGhlIGVuZCBvZiBpbml0aWFsaXphdGlvbi5cbiAgICAgKiBcbiAgICAgKiAgUHVycG9zZSBpcyB0byBpbml0aWFsaXplIHRoZSBjb21iaW5lZCBwYXJhbWV0ZXJzIGZyb20gVVJMIGFuZCBpbml0aWFsIEFwcCBvcHRpb25zXG4gICAgICogIGludG8gc2VsZi5zdGF0ZSA9IHt9LCBzbyB0aGF0IHRoZXkgYXJlIHJlYWR5IHRvIGJlIGJ1aWx0IGludG8gYSBzZWFyY2ggQVBJIFVSTCBcbiAgICAgKiAgdXNpbmcgcGFyYW1zIGZyb20gZWFjaCBDb250ZW50Q29udHJvbFZpZXcncyBgY29udHJpYnV0ZVRvU2VhcmNoUGFyYW1ldGVycygpYCBcbiAgICAgKiAgXG4gICAgICogICovXG4gICAgYXBwbHlVcmxTZWFyY2hQYXJhbWV0ZXJzOiBmdW5jdGlvbih1cmxQYXJhbXMpIHtcbiAgICAgICAgLy8gc3R1YiwgZXh0ZW5kIHRoaXMgaW4gdGhlIGluaGVyaXRpbmcgdmlld1xuICAgIH0sXG4gICAgXG4gICAgLyoqIEFkZCBhbGwgcmVsZXZhbnQgc2VhcmNoIHBhcmFtZXRlcnMgdG8gdGhlIHNlYXJjaCBBUEkgcXVlcnkgZm9yIHlvdXIgdmlldy5cbiAgICAgKiAgQW55dGhpbmcgaGFwcGVuaW5nIGluIHlvdXIgdmlldyB0aGF0IGFmZmVjdHMgdGhlIHNlYXJjaCBzaG91bGQgYmUgaW52b2x2ZWQgaGVyZS5cbiAgICAgKiAgXG4gICAgICogIEBwYXJhbSBmb3JBUEk6IGlmIHRydWUsIGNvbnRhaW5zIGFsbCBzZWFyY2ggcGFyYW1ldGVycy5cbiAgICAgKiAgICAgICAgIGlmIGZhbHNlLCBjb250YWlucyBvbmx5IHRoZXNlIHRoYXQgc2hvdWxkIGJlIHZpc2libGUgaW4gdGhlIGJyb3dzZXIgVVJMIFxuICAgICAqICBAcmV0dXJuOiBkaWN0IG9mIHBhcmFtcyBcbiAgICAgKi9cbiAgICBjb250cmlidXRlVG9TZWFyY2hQYXJhbWV0ZXJzOiBmdW5jdGlvbihmb3JBUEkpIHtcbiAgICAgICAgLy8gc3R1YiwgZXh0ZW5kIHRoaXMgaW4gdGhlIGluaGVyaXRpbmcgdmlld1xuICAgICAgICByZXR1cm4ge31cbiAgICB9LFxuICAgIFxuICAgIC8qKiBDYWxsZWQgZHVyaW5nIHNlYXJjaCAqL1xuICAgIGRpc2FibGVJbnB1dDogZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIHN0dWIsIGV4dGVuZCB0aGlzIGluIHRoZSBpbmhlcml0aW5nIHZpZXdcbiAgICB9LFxuICAgIFxuICAgIC8qKiBDYWxsZWQgd2hlbiBzZWFyY2hlcyBlbmQgKi9cbiAgICBlbmFibGVJbnB1dDogZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIHN0dWIsIGV4dGVuZCB0aGlzIGluIHRoZSBpbmhlcml0aW5nIHZpZXdcbiAgICB9LFxuICAgIFxuICAgIC8vIHByaXZhdGVcblxuICAgIHBhcnNlVXJsOiBmdW5jdGlvbiAodXJsKSB7XG4gICAgICAgIGlmICh1cmwuaW5kZXhPZignPycpID49IDApIHtcbiAgICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZSgne1wiJyArIGRlY29kZVVSSSh1cmwucmVwbGFjZSgvXFwlMkMvZywgJywnKS5yZXBsYWNlKC9cXCsvZywnICcpLnJlcGxhY2UoL1teP10qXFw/LywgJycpLnJlcGxhY2UoLyYvZywgXCJcXFwiLFxcXCJcIikucmVwbGFjZSgvPS9nLFwiXFxcIjpcXFwiXCIpKSArICdcIn0nKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGpzb24gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBfKF8oanNvbikua2V5cygpKS5lYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIGlmIChqc29uW2tleV0gIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAganNvbltrZXldID0gSlNPTi5wYXJzZShqc29uW2tleV0pO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge31cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0eXBlb2YganNvblsndG9waWNzJ10gPT09IFwibnVtYmVyXCIgfHwgKHR5cGVvZiBqc29uWyd0b3BpY3MnXSA9PT0gXCJzdHJpbmdcIiAmJiBqc29uWyd0b3BpY3MnXS5sZW5ndGggPiAwKSkge1xuICAgICAgICAgICAganNvblsndG9waWNzJ10gPSBqc29uWyd0b3BpY3MnXS50b1N0cmluZygpLnNwbGl0KCcsJykubWFwKE51bWJlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBqc29uWyd0ZXh0X3RvcGljcyddID09PSBcIm51bWJlclwiIHx8ICh0eXBlb2YganNvblsndGV4dF90b3BpY3MnXSA9PT0gXCJzdHJpbmdcIiAmJiBqc29uWyd0ZXh0X3RvcGljcyddLmxlbmd0aCA+IDApKSB7XG4gICAgICAgICAgICBqc29uWyd0ZXh0X3RvcGljcyddID0ganNvblsndGV4dF90b3BpY3MnXS50b1N0cmluZygpLnNwbGl0KCcsJykubWFwKE51bWJlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBqc29uWydzZGdzJ10gPT09IFwibnVtYmVyXCIgfHwgKHR5cGVvZiBqc29uWydzZGdzJ10gPT09IFwic3RyaW5nXCIgJiYganNvblsnc2RncyddLmxlbmd0aCA+IDApKSB7XG4gICAgICAgICAgICBqc29uWydzZGdzJ10gPSBqc29uWydzZGdzJ10udG9TdHJpbmcoKS5zcGxpdCgnLCcpLm1hcChOdW1iZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YganNvblsnbWFuYWdlZF90YWdzJ10gPT09IFwibnVtYmVyXCIgfHwgKHR5cGVvZiBqc29uWydtYW5hZ2VkX3RhZ3MnXSA9PT0gXCJzdHJpbmdcIiAmJiBqc29uWydtYW5hZ2VkX3RhZ3MnXS5sZW5ndGggPiAwKSkge1xuICAgICAgICAgICAganNvblsnbWFuYWdlZF90YWdzJ10gPSBqc29uWydtYW5hZ2VkX3RhZ3MnXS50b1N0cmluZygpLnNwbGl0KCcsJykubWFwKE51bWJlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGpzb247XG4gICAgfSxcbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy9jbGllbnQvdmlld3MvYmFzZS9jb250ZW50LWNvbnRyb2wtdmlldy5qc1xuLy8gbW9kdWxlIGlkID0gM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlsID0gcmVxdWlyZSgnbGliL3V0aWwuanMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG4gICAgXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGVzZSB2YWx1ZXMgb24gdGhlIHZpZXc6XG4gICAgICogIC0gc2VsZi5vcHRpb25zOiBcbiAgICAgKiAgICAgIC0gcHVycG9zZTogdGhlIGdlbmVyYWwgYmVoYXZpb3VyYWwgc2V0dGluZ3MgZm9yIHRoZSB2aWV3LiBvbmx5IGRpZmZlciBmcm9tIGRlZmF1bHRcbiAgICAgKiAgICAgICAgICBpZiBwYXNzZWQgdGhyb3VnaCBhcyBWaWV3LmluaXQob3B0aW9ucykuIGRvbid0IGNoYW5nZSBkdXJpbmcgcnVudGltZVxuICAgICAqICAgICAgLSB2YWx1ZTogZXh0ZW5kZWQgc2VsZi5kZWZhdWx0cyB3aXRoIHRoZSBwYXJhbWV0ZXIgb3B0aW9uc1xuICAgICAqICAtIHNlbGYuc3RhdGU6XG4gICAgICogICAgICAtIHB1cnBvc2U6IGN1cnJlbnQgc3RhdGUgdmFyaWFibGVzIG9mIHRoZSB2aWV3LiBkZWZhdWx0cyBjYW4gYmUgc2V0IGluIFxuICAgICAqICAgICAgICAgIHNlbGYuZGVmYXVsdHMuc3RhdGUsIG9yIHBhc3NlZCB0aHJvdWdoIFZpZXcuaW5pdChvcHRpb25zLnN0YXRlKS5cbiAgICAgKiAgICAgICAgICBjb25zdGFudGx5IGNoYW5nZSB3aXRoIHRoZSB2aWV3J3MgY3VycmVudCBzdGF0ZVxuICAgICAqICAgICAgLSB2YWx1ZTogc2VsZi5vcHRpb25zLnN0YXRlIGlmIGV4aXN0cyBvciB7fVxuICAgICAqL1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9ICQuZXh0ZW5kKHRydWUsIHt9LCB0aGlzLmRlZmF1bHRzLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHRoaXMub3B0aW9ucyAmJiB0aGlzLm9wdGlvbnMuc3RhdGUgfHwge307XG4gICAgfSxcbiAgICBcbiAgICAvKipcbiAgICAgKiBJZiBzZWxmLm9wdGlvbnMuZWxQYXJlbnQgaXMgc2V0LFxuICAgICAqICAgICAgICAgdGhlIGdpdmVuIGVsIGlzIGlnbm9yZWQgYXQgZmlyc3QgYW5kIGVsUGFyZW50IGlzIGNvbnNpZGVyZWQgdGhlIFxuICAgICAqICAgICAgICAgcGFyZW50IGVsZW1lbnQsIHNvXG4gICAgICogICAgICAgICBpbnN0ZWFkIG9mIGNyZWF0aW5nIHRoaXMgdGVtcGxhdGUgYnkgZmlsbGluZyBhIGdpdmluZyBlbGVtZW50LFxuICAgICAqICAgICAgICAgdGhlIGNvbXBsZXRlIHJlbmRlcmVkIHRlbXBsYXRlIHdpbGwgYXBwZW5kZWQgdG8gdGhlIGdpdmVuICRlbCxcbiAgICAgKiAgICAgICAgIGFuZCB0aGVuIGJlY29tZSB0aGlzIHZpZXdzIGFjdHVhbCAkZWwhXG4gICAgICovXG4gICAgcmVuZGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgLy8gQ29sbGVjdCB0aGUgZGF0YSB0byBiZSByZW5kZXJlZDsgY2FuIGJlIG92ZXJyaWRkZW4gaW4gY2hpbGQgdmlldy5cbiAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmdldFRlbXBsYXRlRGF0YSgpO1xuICAgICAgICAvLyBVc2UgbnVuanVja3MgdG8gcmVuZGVyIHRoZSB0ZW1wbGF0ZSAoc3BlY2lmaWVkIGluIGNoaWxkIHZpZXcpLlxuICAgICAgICBpZiAodGhpcy50ZW1wbGF0ZSAmJiB0aGlzLnRlbXBsYXRlLnJlbmRlciAmJlxuICAgICAgICAgICAgdHlwZW9mIHRoaXMudGVtcGxhdGUucmVuZGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB2YXIgcmVuZGVyZWQgPSB0aGlzLnRlbXBsYXRlLnJlbmRlcihkYXRhKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHNlbGYub3B0aW9ucy5lbFBhcmVudCkge1xuICAgICAgICAgICAgICAgIC8vIGlmIHRoaXMgZWxlbWVudCBpcyBub3QgaW4gcGxhY2UgeWV0LCBhcHBlbmQgaXQgdG8gdGhlIHBhcmVudFxuICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSByZXBsYWNlIGl0XG4gICAgICAgICAgICAgICAgcmVuZGVyZWQgPSAkKHJlbmRlcmVkKTtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi4kZWwucGFyZW50KCkubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgJChzZWxmLm9wdGlvbnMuZWxQYXJlbnQpLmFwcGVuZChyZW5kZXJlZCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi4kZWwucmVwbGFjZVdpdGgocmVuZGVyZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnNldEVsZW1lbnQocmVuZGVyZWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRlbC5odG1sKHJlbmRlcmVkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJC5jb3Npbm51cy50aXRsZWRieSh0aGlzLiRlbCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWZ0ZXIgYSByZXBhaW50ICh0byBhbGxvdyBmdXJ0aGVyIHJlbmRlcmluZyBpbiAjYWZ0ZXJSZW5kZXIpLFxuICAgICAgICAvLyBjYWxsIHRoZSBhZnRlciByZW5kZXIgbWV0aG9kIGlmIGl0IGV4aXN0cy5cbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZWxmLmFmdGVyUmVuZGVyICYmIHNlbGYuYWZ0ZXJSZW5kZXIoKTtcbiAgICAgICAgfSwgMCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiAgRGVmYXVsdCBpbXBsZW1lbnRhdGlvbiB0byByZXRyaWV2ZSBkYXRhIHRvIGJlIHJlbmRlcmVkLlxuICAgICAqICBJZiBhIG1vZGVsIGlzIHNldCwgcmV0dXJuIGl0cyBhdHRyaWJ1dGVzIGFzIEpTT04sIG90aGVyd2lzZVxuICAgICAqICBhbiBlbXB0eSBvYmplY3Qgd2l0aCBhbnkgb3B0aW9ucyBhbmQgc3RhdGUgYXR0cmlidXRlcyBvbiB0aGUgXG4gICAgICogIHZpZXcgbWl4ZWQgaW4uXG4gICAgICovXG4gICAgZ2V0VGVtcGxhdGVEYXRhOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBtb2RlbERhdGEgPSB0aGlzLm1vZGVsICYmIHRoaXMubW9kZWwudG9KU09OKCkgfHwgeydub01vZGVsJzogdHJ1ZX07XG4gICAgICAgIHZhciBkYXRhID0gXy5leHRlbmQoXG4gICAgICAgICAgICBtb2RlbERhdGEsXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgICB0aGlzLnN0YXRlLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICdjb3Npbm51c19hY3RpdmVfdXNlcic6IGNvc2lubnVzX2FjdGl2ZV91c2VyLFxuICAgICAgICAgICAgICAgICdDT1NJTk5VU19JREVBU19FTkFCTEVEJzogQ09TSU5OVVNfSURFQVNfRU5BQkxFRCxcbiAgICAgICAgICAgICAgICAnQ09TSU5OVVNfT1JHQU5JWkFUSU9OU19FTkFCTEVEJzogQ09TSU5OVVNfT1JHQU5JWkFUSU9OU19FTkFCTEVELFxuICAgICAgICAgICAgICAgICdDT1NJTk5VU19DT05GRVJFTkNFU19FTkFCTEVEJzogQ09TSU5OVVNfQ09ORkVSRU5DRVNfRU5BQkxFRCxcbiAgICAgICAgICAgICAgICAnQ09TSU5OVVNfRVhDSEFOR0VfRU5BQkxFRCc6IENPU0lOTlVTX0VYQ0hBTkdFX0VOQUJMRUQsXG4gICAgICAgICAgICAgICAgJ0NPU0lOTlVTX0VYQ0hBTkdFX1BPUlRBTF9JRCc6IENPU0lOTlVTX0VYQ0hBTkdFX1BPUlRBTF9JRCxcbiAgICAgICAgICAgICAgICAnQ09TSU5OVVNfU0hPV19QUk9KRUNUX0FORF9HUk9VUF9DUkVBVEVfQlVUVE9OUyc6IENPU0lOTlVTX1NIT1dfUFJPSkVDVF9BTkRfR1JPVVBfQ1JFQVRFX0JVVFRPTlMsXG4gICAgICAgICAgICAgICAgJ0NPU0lOTlVTX1NIT1dfU1VQRVJVU0VSX0NPTlRST0xTJzogQ09TSU5OVVNfU0hPV19TVVBFUlVTRVJfQ09OVFJPTFMsXG4gICAgICAgICAgICAgICAgJ0NPU0lOTlVTX1VTRVJfQ0FOX0NSRUFURV9DT05GRVJFTkNFJzogQ09TSU5OVVNfVVNFUl9DQU5fQ1JFQVRFX0NPTkZFUkVOQ0UsXG4gICAgICAgICAgICAgICAgJ0NPU0lOTlVTX1VTRVJfRVhURVJOQUxfVVNFUlNfRk9SQklEREVOJzogQ09TSU5OVVNfVVNFUl9FWFRFUk5BTF9VU0VSU19GT1JCSURERU4sXG4gICAgICAgICAgICAgICAgJ0NPU0lOTlVTX1RSQU5TJzoge1xuICAgICAgICAgICAgICAgICAgICAnQ09TSU5OVVNfVFJBTlNfTVlfQ09ORkVSRU5DRVMnOiBDT1NJTk5VU19UUkFOU19NWV9DT05GRVJFTkNFUyxcbiAgICAgICAgICAgICAgICAgICAgJ0NPU0lOTlVTX1RSQU5TX01ZX0NPTkZFUkVOQ0VTX0VNUFRZJzogQ09TSU5OVVNfVFJBTlNfTVlfQ09ORkVSRU5DRVNfRU1QVFksXG4gICAgICAgICAgICAgICAgICAgICdDT1NJTk5VU19UUkFOU19DT05GRVJFTkNFJzogQ09TSU5OVVNfVFJBTlNfQ09ORkVSRU5DRSxcbiAgICAgICAgICAgICAgICAgICAgJ0NPU0lOTlVTX1RSQU5TX0NPTkZFUkVOQ0VTJzogQ09TSU5OVVNfVFJBTlNfQ09ORkVSRU5DRVMsXG4gICAgICAgICAgICAgICAgICAgICdDT1NJTk5VU19UUkFOU19BTExfQ09ORkVSRU5DRVMnOiBDT1NJTk5VU19UUkFOU19BTExfQ09ORkVSRU5DRVMsXG4gICAgICAgICAgICAgICAgICAgICdDT1NJTk5VU19UUkFOU19CUk9XU0VfQUxMX0NPTkZFUkVOQ0VTJzogQ09TSU5OVVNfVFJBTlNfQlJPV1NFX0FMTF9DT05GRVJFTkNFUyxcbiAgICAgICAgICAgICAgICAgICAgJ0NPU0lOTlVTX1RSQU5TX0NSRUFURV9DT05GRVJFTkNFJzogQ09TSU5OVVNfVFJBTlNfQ1JFQVRFX0NPTkZFUkVOQ0UsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9LFxuICAgIFxuICAgIC8qKiBXcmFwIHlvdSBzaWduYWwgaGFuZGxlcnMgaW4gdGhpcyBmdW5jdGlvbiBpbnNpZGUgdmlld3MgdG8gcmV0YWluXG4gICAgICogIHRoZSB2aWV3IGFzIGB0aGlzYCBhcyBjb250ZXh0LlxuICAgICAqICBFeGFtcGxlOiBcbiAgICAgKiAgICAgIGNvbGxlY3Rpb24ub24oe1xuICAgICAqICAgICAgICAgJ2FkZCcgOiBzZWxmLnRoaXNDb250ZXh0KHNlbGYubXlDYWxsKVxuICAgICAqICAgICAgfSk7XG4gICAgICogID09PiAgbXlDYWxsKC4uLikgd2lsbCBoYXZlIGB0aGlzYCBzZXQgdG8gYHNlbGZgXG4gICAgKi9cbiAgICB0aGlzQ29udGV4dDogZnVuY3Rpb24oZnVuYykge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgZnVuYy5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xuICAgICAgICB9O1xuICAgIH1cbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy9jbGllbnQvdmlld3MvYmFzZS92aWV3LmpzXG4vLyBtb2R1bGUgaWQgPSA0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgcHJvdG9jb2w6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbDtcbiAgICB9LFxuICAgIFxuICAgIGlzSWdub3JhYmxlS2V5OiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIGtleWNvZGVzID0gW1xuICAgICAgICAgICAgOSwgIC8vIHRhYlxuICAgICAgICAgICAgMTMsIC8vIGVudGVyXG4gICAgICAgICAgICAxNiwgLy8gc2hpZnRcbiAgICAgICAgICAgIDE3LCAvLyBjdHJsXG4gICAgICAgICAgICAxOCwgLy8gYWx0XG4gICAgICAgICAgICAxOSwgLy8gcGF1c2UvYnJlYWtcbiAgICAgICAgICAgIDIwLCAvLyBjYXBzbG9ja1xuICAgICAgICAgICAgMjcsIC8vIGVzY2FwZVxuICAgICAgICAgICAgMzMsIC8vIHBhZ2V1cFxuICAgICAgICAgICAgMzQsIC8vIHBhZ2Vkb3duXG4gICAgICAgICAgICAzNSwgLy8gZW5kXG4gICAgICAgICAgICAzNiwgLy8gaG9tZVxuICAgICAgICAgICAgMzcsIC8vIGxlZnRhcnJvd1xuICAgICAgICAgICAgMzgsIC8vIHVwYXJyb3dcbiAgICAgICAgICAgIDM5LCAvLyByaWdodGFycm93XG4gICAgICAgICAgICA0MCwgLy8gZG93bmFycm93XG4gICAgICAgICAgICA0NSwgLy8gaW5zZXJ0XG4gICAgICAgICAgICA0NiAvLyBkZWxldGVcbiAgICAgICAgXTtcbiAgICAgICAgcmV0dXJuIF8oa2V5Y29kZXMpLmNvbnRhaW5zKGV2ZW50LmtleUNvZGUpO1xuICAgIH0sXG4gICAgXG4gICAgLyoqIFJldHVybnMgYSBpZiBpdCBpcyBkZWZpbmVkLCBlbHNlIGIgKi9cbiAgICBpZnVuZGVmOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgYSA9PSBcInVuZGVmaW5lZFwiID8gYiA6IGE7XG4gICAgfSxcbiAgICBcbiAgICBsb2c6IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAvLyBkZXRlcm1pbmUgdGVzdC9wcm9kIGVudmlyb25tZW50XG4gICAgICAgIGlmIChERUJVRykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmogPT0gXCJzdHJpbmdcIiAmJiBuZXcgRXJyb3IoKS5zdGFjaykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKG9iaiArICcgICAgfHwgZnJvbTogICcgKyBuZXcgRXJyb3IoKS5zdGFjay5yZXBsYWNlKC8oPzpcXHJcXG58XFxyfFxcbikvZywgJycpLnNwbGl0KCcgYXQgJylbMl0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhvYmopO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBcbiAgICAvKiogUmV0dXJucyBhIHN0YXR1c0RhdGEgZGljdCBvZiBpbXBvcnRhbnQgc3RhdGUgZGF0YSBvZiBhIHRleHQgaW5wdXQsXG4gICAgICogIHRvIGJlIHJlc3RvcmVkIGxhdGVyIHVzaW5nIGByZXN0b3JlSW5wdXRTdGF0dXMoKWAgKi9cbiAgICBzYXZlSW5wdXRTdGF0dXM6IGZ1bmN0aW9uICgkaW5wdXQpIHtcbiAgICAgICAgdmFyIGVsZW0gPSAkaW5wdXRbMF07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBoYWRGb2N1czogJGlucHV0LmlzKFwiOmZvY3VzXCIpLFxuICAgICAgICAgICAgdmFsOiBlbGVtLnZhbHVlLFxuICAgICAgICAgICAgc3RhcnQ6IGVsZW0uc2VsZWN0aW9uU3RhcnQsXG4gICAgICAgICAgICBlbmQ6IGVsZW0uc2VsZWN0aW9uRW5kXG4gICAgICAgIH1cbiAgICB9LFxuICAgIFxuICAgIC8qKiBSZXN0b3JlcyBhIHRleHQgaW5wdXQncyBzdGF0ZSBzYXZlZCB3aXRoIGBzYXZlSW5wdXRTdGF0dXNgICovXG4gICAgcmVzdG9yZUlucHV0U3RhdHVzOiBmdW5jdGlvbiAoJGlucHV0LCBzdGF0dXNEYXRhKSB7XG4gICAgICAgIHZhciBlbGVtID0gJGlucHV0WzBdO1xuICAgICAgICBlbGVtLnZhbHVlID0gc3RhdHVzRGF0YVsndmFsJ107XG4gICAgICAgIGVsZW0uc2V0U2VsZWN0aW9uUmFuZ2Uoc3RhdHVzRGF0YVsnc3RhcnQnXSwgc3RhdHVzRGF0YVsnZW5kJ10pO1xuICAgICAgICBpZiAoc3RhdHVzRGF0YVsnaGFkRm9jdXMnXSkge1xuICAgICAgICAgICAgJGlucHV0LmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIFxuICAgIC8qKiBQYXJzZXMgYSBjb21iaW5lZCBSZXN1bHQgaWQgZnJvbSB0aGUgYmFja2VuZCBpbnRvIGl0cyBwYXJ0cy5cbiAgICAgKiBcdEV4YW1wbGU6IFwiMS5ldmVudHMuZm9ydW0qdG9sbGVzLWV2ZW50XCIgb3IgXCIxLmdyb3Vwcy5mb3J1bVwiLlxuICAgICAqIFx0UmV0dXJuczogQSBkaWN0IG9mIHBhcnRzOlxuICAgICAqICB7XG4gICAgICogXHRcdHBvcnRhbDogaW50LFxuICAgICAqIFx0XHR0eXBlOiBzdHIsXG4gICAgICogXHRcdHNsdWc6IHN0cixcbiAgICAgKiAgfSovXG4gICAgcGFyc2VEaXJlY3RJdGVtSWQ6IGZ1bmN0aW9uIChkaXJlY3RJdGVtSWRTdHIpIHtcbiAgICBcdHZhciBkYXRhID0gZGlyZWN0SXRlbUlkU3RyLnNwbGl0KCcuJyk7XG4gICAgICAgIGRhdGEgPSB7XG4gICAgICAgICAgICBwb3J0YWw6IGRhdGFbMF0sXG4gICAgICAgICAgICB0eXBlOiBkYXRhWzFdLFxuICAgICAgICAgICAgc2x1ZzogZGF0YVsyXSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSxcbiAgICBcbiAgICAvKiogQ3JlYXRlIGEgY29tYmluZWQgUmVzdWx0IGlkIGZvciB0aGUgYmFja2VuZCBmcm9tIGl0cyBwYXJ0cyAqL1xuICAgIG1ha2VEaXJlY3RJdGVtSWQ6IGZ1bmN0aW9uIChwb3J0YWwsIHR5cGUsIHNsdWcpIHtcbiAgICBcdHJldHVybiBwb3J0YWwgKyAnLicgKyB0eXBlICsgJy4nICsgc2x1ZztcbiAgICB9LFxuICAgIFxuICAgIGdldEFQSURhdGFGb3JEaXJlY3RJdGVtSWQ6IGZ1bmN0aW9uIChkaXJlY3RJdGVtSWQpIHtcbiAgICBcdHZhciBkYXRhID0gdGhpcy5wYXJzZURpcmVjdEl0ZW1JZChkaXJlY3RJdGVtSWQpO1xuICAgICAgICB2YXIgYXBpRGF0YSA9IHt9O1xuICAgIFx0aWYgKGRhdGEudHlwZSA9PSAnaWRlYXMnKSB7XG4gICAgXHRcdGFwaURhdGEgPSB7XG4gICAgXHRcdFx0Y3Q6ICdjb3Npbm51cy5Db3Npbm51c0lkZWEnLFxuICAgIFx0XHRcdHNsdWc6IGRhdGEuc2x1ZyxcbiAgICBcdFx0fTtcbiAgICBcdH0gZWxzZSBpZiAoZGF0YS50eXBlID09ICdvcmdhbml6YXRpb25zJykge1xuICAgIFx0XHRhcGlEYXRhID0ge1xuXHRcdFx0XHRjdDogJ2Nvc2lubnVzLkNvc2lubnVzT3JnYW5pemF0aW9uJyxcblx0XHRcdFx0c2x1ZzogZGF0YS5zbHVnLFxuICAgIFx0XHR9O1xuICAgIFx0fSBlbHNlIGlmIChkYXRhLnR5cGUgPT0gJ2V2ZW50cycpIHtcbiAgICBcdFx0YXBpRGF0YSA9IHtcblx0XHRcdFx0Y3Q6ICdjb3Npbm51c19ldmVudC5FdmVudCcsXG5cdFx0XHRcdHNsdWc6IGRhdGEuc2x1ZyxcbiAgICBcdFx0fTtcbiAgICBcdH0gZWxzZSBpZiAoZGF0YS50eXBlID09ICdwcm9qZWN0cycpIHtcbiAgICBcdFx0YXBpRGF0YSA9IHtcblx0XHRcdFx0Y3Q6ICdjb3Npbm51cy5Db3Npbm51c1Byb2plY3QnLFxuXHRcdFx0XHRzbHVnOiBkYXRhLnNsdWcsXG4gICAgXHRcdH07XG4gICAgXHR9IGVsc2UgaWYgKGRhdGEudHlwZSA9PSAnZ3JvdXBzJykge1xuICAgICAgICAgICAgYXBpRGF0YSA9IHtcbiAgICAgICAgICAgICAgICBjdDogJ2Nvc2lubnVzLkNvc2lubnVzU29jaWV0eScsXG4gICAgICAgICAgICAgICAgc2x1ZzogZGF0YS5zbHVnLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT0gJ2NvbmZlcmVuY2VzJykge1xuICAgICAgICAgICAgYXBpRGF0YSA9IHtcbiAgICAgICAgICAgICAgICBjdDogJ2Nvc2lubnVzLkNvc2lubnVzQ29uZmVyZW5jZScsXG4gICAgICAgICAgICAgICAgc2x1ZzogZGF0YS5zbHVnLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT0gJ3Blb3BsZScpIHtcbiAgICBcdFx0YXBpRGF0YSA9IHtcbiAgICAgICAgICAgICAgICBzbHVnOiBkYXRhLnNsdWcsXG4gICAgICAgICAgICAgICAgY3Q6ICdwZW9wbGUnXG4gICAgXHRcdH07XG4gICAgXHR9IGVsc2Uge1xuICAgIFx0XHRyZXR1cm4gbnVsbDtcbiAgICBcdH1cbiAgICBcdHJldHVybiBhcGlEYXRhO1xuICAgIH0sXG4gICAgXG4gICAgLyoqIENhc2UgaW5zZW5zaXRpdmUgc3RyaW5nIHJlcGxhY2UgKi9cbiAgICBpUmVwbGFjZTogZnVuY3Rpb24gKHN0clNvdWNlLCBzdHJSZXBsYWNlLCBzdHJXaXRoKSB7XG4gICAgICAgIHZhciBlc2MgPSBzdHJSZXBsYWNlLnJlcGxhY2UoL1stXFwvXFxcXF4kKis/LigpfFtcXF17fV0vZywgJ1xcXFwkJicpO1xuICAgICAgICB2YXIgcmVnID0gbmV3IFJlZ0V4cCgnKCcgKyBlc2MgKyAnKScsICdpZycpO1xuICAgICAgICByZXR1cm4gc3RyU291Y2UucmVwbGFjZShyZWcsIHN0cldpdGgpO1xuICAgIH0sXG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy9jbGllbnQvbGliL3V0aWwuanNcbi8vIG1vZHVsZSBpZCA9IDVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgQmFzZVZpZXcgPSByZXF1aXJlKCd2aWV3cy9iYXNlL3ZpZXcnKTtcbnZhciB1dGlsID0gcmVxdWlyZSgnbGliL3V0aWwuanMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBCYXNlVmlldy5leHRlbmQoe1xuICAgIFxuICAgIHRlbXBsYXRlOiByZXF1aXJlKCdtYXAvbWFwLWxheWVyLWJ1dHRvbnMnKSxcbiAgICBcbiAgICBtYXBWaWV3OiBudWxsLFxuICAgIFxuICAgIC8vIHdpbGwgYmUgc2V0IHRvIHNlbGYub3B0aW9ucyBkdXJpbmcgaW5pdGlhbGl6YXRpb25cbiAgICBkZWZhdWx0czoge1xuICAgICAgICAvLyB3aWxsIGJlIHNldCB0byBzZWxmLnN0YXRlIGR1cmluZyBpbml0aWFsaXphdGlvblxuICAgICAgICBzdGF0ZToge1xuICAgICAgICAgICAgbGF5ZXI6IG51bGxcbiAgICAgICAgfVxuICAgIH0sXG4gICAgXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBCYXNlVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHNlbGYsIG9wdGlvbnMpO1xuICAgICAgICBcbiAgICAgICAgc2VsZi5zdGF0ZS5sYXllciA9IG9wdGlvbnMubGF5ZXI7XG4gICAgICAgIHNlbGYubWFwVmlldyA9IG9wdGlvbnMubWFwVmlldztcbiAgICB9LFxuXG4gICAgZXZlbnRzOiB7XG4gICAgICAgICdjbGljayAubGF5ZXItYnV0dG9uJzogJ3N3aXRjaExheWVyQ2xpY2tlZCcsXG4gICAgfSxcblxuICAgIC8vIEV2ZW50IEhhbmRsZXJzXG4gICAgLy8gLS0tLS0tLS0tLS0tLS1cblxuICAgIC8vIFN3aXRjaCBsYXllcnMgaWYgY2xpY2tlZCBsYXllciBpc24ndCB0aGUgYWN0aXZlIGxheWVyLlxuICAgIHN3aXRjaExheWVyQ2xpY2tlZDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBsYXllciA9ICQoZXZlbnQuY3VycmVudFRhcmdldCkuZGF0YSgnbGF5ZXInKTtcbiAgICAgICAgaWYgKHRoaXMubWFwVmlldy5vcHRpb25zLmxheWVyICE9PSBsYXllcikge1xuICAgICAgICAgICAgdGhpcy5tYXBWaWV3Lm9wdGlvbnMubGF5ZXIgPSBsYXllcjtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUubGF5ZXIgPSBsYXllcjtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgICAgICBCYWNrYm9uZS5tZWRpYXRvci5wdWJsaXNoKCdjaGFuZ2U6bGF5ZXInLCBsYXllcik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIFxufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Nvc2lubnVzL2NsaWVudC92aWV3cy9tYXAtbGF5ZXItYnV0dG9ucy12aWV3LmpzXG4vLyBtb2R1bGUgaWQgPSA2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBudW5qdWNrcyA9IHJlcXVpcmUoXCJudW5qdWNrcy9icm93c2VyL251bmp1Y2tzLXNsaW1cIik7XG52YXIgZW52O1xuaWYgKCFudW5qdWNrcy5jdXJyZW50RW52KXtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudiA9IG5ldyBudW5qdWNrcy5FbnZpcm9ubWVudChbXSwgdW5kZWZpbmVkKTtcbn0gZWxzZSB7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnY7XG59XG52YXIgY29uZmlndXJlID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uLy4uL251bmp1Y2tzLmNvbmZpZy5qc1wiKShlbnYpO1xudmFyIGRlcGVuZGVuY2llcyA9IG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgfHwgKG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgPSB7fSk7XG5cblxuXG5cbnZhciBzaGltID0gcmVxdWlyZShcIi9ob21lL3Nhc2NoYS9wci9jb3Npbm51cy1jb3JlL25vZGVfbW9kdWxlcy9udW5qdWNrcy1sb2FkZXIvcnVudGltZS1zaGltXCIpO1xuXG5cbihmdW5jdGlvbigpIHsobnVuanVja3MubnVuanVja3NQcmVjb21waWxlZCA9IG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgfHwge30pW1wiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC9tYXAvbWFwLWxheWVyLWJ1dHRvbnMuaHRtbFwiXSA9IChmdW5jdGlvbigpIHtcbmZ1bmN0aW9uIHJvb3QoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbnZhciBwYXJlbnRUZW1wbGF0ZSA9IG51bGw7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJwYXNzVGhyb3VnaFwiKVtcInJ1blwiXShjb250ZXh0LHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiaTE4blwiKSksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cIjtcbmlmKGZhbHNlKSB7XG5vdXRwdXQgKz0gXCIgXCI7XG5vdXRwdXQgKz0gXCJcXG48ZGl2PlxcbiAgICA8ZGl2IGRhdGEtbGF5ZXI9XFxcInN0cmVldFxcXCJcXG4gICAgICAgIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbiByb3VuZGVkLWJ1dHRvbi1zbWFsbCBidXR0b24tYWN0aW9uIGxheWVyLWJ1dHRvbiBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibGF5ZXJcIikgPT0gXCJzdHJlZXRcIikge1xub3V0cHV0ICs9IFwiIHNlbGVjdGVkIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxcIj5cXG4gICAgICAgIDxzcGFuIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbi1pbm5lclxcXCI+XFxuICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJTdHJlZXRcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIDwvc3Bhbj5cXG4gICAgPC9kaXY+XFxuPC9kaXY+XFxuXCI7XG47XG59XG5pZihwYXJlbnRUZW1wbGF0ZSkge1xucGFyZW50VGVtcGxhdGUucm9vdFJlbmRlckZ1bmMoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpO1xufSBlbHNlIHtcbmNiKG51bGwsIG91dHB1dCk7XG59XG47XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxucmV0dXJuIHtcbnJvb3Q6IHJvb3Rcbn07XG5cbn0pKCk7XG59KSgpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBzaGltKG51bmp1Y2tzLCBlbnYsIG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWRbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL21hcC9tYXAtbGF5ZXItYnV0dG9ucy5odG1sXCJdICwgZGVwZW5kZW5jaWVzKVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC9tYXAvbWFwLWxheWVyLWJ1dHRvbnMuaHRtbFxuLy8gbW9kdWxlIGlkID0gN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKiEgQnJvd3NlciBidW5kbGUgb2YgbnVuanVja3MgMi41LjIgKHNsaW0sIG9ubHkgd29ya3Mgd2l0aCBwcmVjb21waWxlZCB0ZW1wbGF0ZXMpICovXG4oZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJudW5qdWNrc1wiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJudW5qdWNrc1wiXSA9IGZhY3RvcnkoKTtcbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuIC8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG5cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9LFxuLyoqKioqKi8gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bG9hZGVkOiBmYWxzZVxuLyoqKioqKi8gXHRcdH07XG5cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG5cblxuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIGxpYiA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdHZhciBlbnYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHR2YXIgTG9hZGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cdHZhciBsb2FkZXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0dmFyIHByZWNvbXBpbGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG5cdG1vZHVsZS5leHBvcnRzID0ge307XG5cdG1vZHVsZS5leHBvcnRzLkVudmlyb25tZW50ID0gZW52LkVudmlyb25tZW50O1xuXHRtb2R1bGUuZXhwb3J0cy5UZW1wbGF0ZSA9IGVudi5UZW1wbGF0ZTtcblxuXHRtb2R1bGUuZXhwb3J0cy5Mb2FkZXIgPSBMb2FkZXI7XG5cdG1vZHVsZS5leHBvcnRzLkZpbGVTeXN0ZW1Mb2FkZXIgPSBsb2FkZXJzLkZpbGVTeXN0ZW1Mb2FkZXI7XG5cdG1vZHVsZS5leHBvcnRzLlByZWNvbXBpbGVkTG9hZGVyID0gbG9hZGVycy5QcmVjb21waWxlZExvYWRlcjtcblx0bW9kdWxlLmV4cG9ydHMuV2ViTG9hZGVyID0gbG9hZGVycy5XZWJMb2FkZXI7XG5cblx0bW9kdWxlLmV4cG9ydHMuY29tcGlsZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRtb2R1bGUuZXhwb3J0cy5wYXJzZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRtb2R1bGUuZXhwb3J0cy5sZXhlciA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdG1vZHVsZS5leHBvcnRzLnJ1bnRpbWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHRtb2R1bGUuZXhwb3J0cy5saWIgPSBsaWI7XG5cdG1vZHVsZS5leHBvcnRzLm5vZGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxuXHRtb2R1bGUuZXhwb3J0cy5pbnN0YWxsSmluamFDb21wYXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcblxuXHQvLyBBIHNpbmdsZSBpbnN0YW5jZSBvZiBhbiBlbnZpcm9ubWVudCwgc2luY2UgdGhpcyBpcyBzbyBjb21tb25seSB1c2VkXG5cblx0dmFyIGU7XG5cdG1vZHVsZS5leHBvcnRzLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uKHRlbXBsYXRlc1BhdGgsIG9wdHMpIHtcblx0ICAgIG9wdHMgPSBvcHRzIHx8IHt9O1xuXHQgICAgaWYobGliLmlzT2JqZWN0KHRlbXBsYXRlc1BhdGgpKSB7XG5cdCAgICAgICAgb3B0cyA9IHRlbXBsYXRlc1BhdGg7XG5cdCAgICAgICAgdGVtcGxhdGVzUGF0aCA9IG51bGw7XG5cdCAgICB9XG5cblx0ICAgIHZhciBUZW1wbGF0ZUxvYWRlcjtcblx0ICAgIGlmKGxvYWRlcnMuRmlsZVN5c3RlbUxvYWRlcikge1xuXHQgICAgICAgIFRlbXBsYXRlTG9hZGVyID0gbmV3IGxvYWRlcnMuRmlsZVN5c3RlbUxvYWRlcih0ZW1wbGF0ZXNQYXRoLCB7XG5cdCAgICAgICAgICAgIHdhdGNoOiBvcHRzLndhdGNoLFxuXHQgICAgICAgICAgICBub0NhY2hlOiBvcHRzLm5vQ2FjaGVcblx0ICAgICAgICB9KTtcblx0ICAgIH1cblx0ICAgIGVsc2UgaWYobG9hZGVycy5XZWJMb2FkZXIpIHtcblx0ICAgICAgICBUZW1wbGF0ZUxvYWRlciA9IG5ldyBsb2FkZXJzLldlYkxvYWRlcih0ZW1wbGF0ZXNQYXRoLCB7XG5cdCAgICAgICAgICAgIHVzZUNhY2hlOiBvcHRzLndlYiAmJiBvcHRzLndlYi51c2VDYWNoZSxcblx0ICAgICAgICAgICAgYXN5bmM6IG9wdHMud2ViICYmIG9wdHMud2ViLmFzeW5jXG5cdCAgICAgICAgfSk7XG5cdCAgICB9XG5cblx0ICAgIGUgPSBuZXcgZW52LkVudmlyb25tZW50KFRlbXBsYXRlTG9hZGVyLCBvcHRzKTtcblxuXHQgICAgaWYob3B0cyAmJiBvcHRzLmV4cHJlc3MpIHtcblx0ICAgICAgICBlLmV4cHJlc3Mob3B0cy5leHByZXNzKTtcblx0ICAgIH1cblxuXHQgICAgcmV0dXJuIGU7XG5cdH07XG5cblx0bW9kdWxlLmV4cG9ydHMuY29tcGlsZSA9IGZ1bmN0aW9uKHNyYywgZW52LCBwYXRoLCBlYWdlckNvbXBpbGUpIHtcblx0ICAgIGlmKCFlKSB7XG5cdCAgICAgICAgbW9kdWxlLmV4cG9ydHMuY29uZmlndXJlKCk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gbmV3IG1vZHVsZS5leHBvcnRzLlRlbXBsYXRlKHNyYywgZW52LCBwYXRoLCBlYWdlckNvbXBpbGUpO1xuXHR9O1xuXG5cdG1vZHVsZS5leHBvcnRzLnJlbmRlciA9IGZ1bmN0aW9uKG5hbWUsIGN0eCwgY2IpIHtcblx0ICAgIGlmKCFlKSB7XG5cdCAgICAgICAgbW9kdWxlLmV4cG9ydHMuY29uZmlndXJlKCk7XG5cdCAgICB9XG5cblx0ICAgIHJldHVybiBlLnJlbmRlcihuYW1lLCBjdHgsIGNiKTtcblx0fTtcblxuXHRtb2R1bGUuZXhwb3J0cy5yZW5kZXJTdHJpbmcgPSBmdW5jdGlvbihzcmMsIGN0eCwgY2IpIHtcblx0ICAgIGlmKCFlKSB7XG5cdCAgICAgICAgbW9kdWxlLmV4cG9ydHMuY29uZmlndXJlKCk7XG5cdCAgICB9XG5cblx0ICAgIHJldHVybiBlLnJlbmRlclN0cmluZyhzcmMsIGN0eCwgY2IpO1xuXHR9O1xuXG5cdGlmKHByZWNvbXBpbGUpIHtcblx0ICAgIG1vZHVsZS5leHBvcnRzLnByZWNvbXBpbGUgPSBwcmVjb21waWxlLnByZWNvbXBpbGU7XG5cdCAgICBtb2R1bGUuZXhwb3J0cy5wcmVjb21waWxlU3RyaW5nID0gcHJlY29tcGlsZS5wcmVjb21waWxlU3RyaW5nO1xuXHR9XG5cblxuLyoqKi8gfSxcbi8qIDEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgQXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZTtcblx0dmFyIE9ialByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuXHR2YXIgZXNjYXBlTWFwID0ge1xuXHQgICAgJyYnOiAnJmFtcDsnLFxuXHQgICAgJ1wiJzogJyZxdW90OycsXG5cdCAgICAnXFwnJzogJyYjMzk7Jyxcblx0ICAgICc8JzogJyZsdDsnLFxuXHQgICAgJz4nOiAnJmd0Oydcblx0fTtcblxuXHR2YXIgZXNjYXBlUmVnZXggPSAvWyZcIic8Pl0vZztcblxuXHR2YXIgbG9va3VwRXNjYXBlID0gZnVuY3Rpb24oY2gpIHtcblx0ICAgIHJldHVybiBlc2NhcGVNYXBbY2hdO1xuXHR9O1xuXG5cdHZhciBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuXHRleHBvcnRzLnByZXR0aWZ5RXJyb3IgPSBmdW5jdGlvbihwYXRoLCB3aXRoSW50ZXJuYWxzLCBlcnIpIHtcblx0ICAgIC8vIGpzaGludCAtVzAyMlxuXHQgICAgLy8gaHR0cDovL2pzbGludGVycm9ycy5jb20vZG8tbm90LWFzc2lnbi10by10aGUtZXhjZXB0aW9uLXBhcmFtZXRlclxuXHQgICAgaWYgKCFlcnIuVXBkYXRlKSB7XG5cdCAgICAgICAgLy8gbm90IG9uZSBvZiBvdXJzLCBjYXN0IGl0XG5cdCAgICAgICAgZXJyID0gbmV3IGV4cG9ydHMuVGVtcGxhdGVFcnJvcihlcnIpO1xuXHQgICAgfVxuXHQgICAgZXJyLlVwZGF0ZShwYXRoKTtcblxuXHQgICAgLy8gVW5sZXNzIHRoZXkgbWFya2VkIHRoZSBkZXYgZmxhZywgc2hvdyB0aGVtIGEgdHJhY2UgZnJvbSBoZXJlXG5cdCAgICBpZiAoIXdpdGhJbnRlcm5hbHMpIHtcblx0ICAgICAgICB2YXIgb2xkID0gZXJyO1xuXHQgICAgICAgIGVyciA9IG5ldyBFcnJvcihvbGQubWVzc2FnZSk7XG5cdCAgICAgICAgZXJyLm5hbWUgPSBvbGQubmFtZTtcblx0ICAgIH1cblxuXHQgICAgcmV0dXJuIGVycjtcblx0fTtcblxuXHRleHBvcnRzLlRlbXBsYXRlRXJyb3IgPSBmdW5jdGlvbihtZXNzYWdlLCBsaW5lbm8sIGNvbG5vKSB7XG5cdCAgICB2YXIgZXJyID0gdGhpcztcblxuXHQgICAgaWYgKG1lc3NhZ2UgaW5zdGFuY2VvZiBFcnJvcikgeyAvLyBmb3IgY2FzdGluZyByZWd1bGFyIGpzIGVycm9yc1xuXHQgICAgICAgIGVyciA9IG1lc3NhZ2U7XG5cdCAgICAgICAgbWVzc2FnZSA9IG1lc3NhZ2UubmFtZSArICc6ICcgKyBtZXNzYWdlLm1lc3NhZ2U7XG5cblx0ICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICBpZihlcnIubmFtZSA9ICcnKSB7fVxuXHQgICAgICAgIH1cblx0ICAgICAgICBjYXRjaChlKSB7XG5cdCAgICAgICAgICAgIC8vIElmIHdlIGNhbid0IHNldCB0aGUgbmFtZSBvZiB0aGUgZXJyb3Igb2JqZWN0IGluIHRoaXNcblx0ICAgICAgICAgICAgLy8gZW52aXJvbm1lbnQsIGRvbid0IHVzZSBpdFxuXHQgICAgICAgICAgICBlcnIgPSB0aGlzO1xuXHQgICAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgaWYoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIHtcblx0ICAgICAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UoZXJyKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cblx0ICAgIGVyci5uYW1lID0gJ1RlbXBsYXRlIHJlbmRlciBlcnJvcic7XG5cdCAgICBlcnIubWVzc2FnZSA9IG1lc3NhZ2U7XG5cdCAgICBlcnIubGluZW5vID0gbGluZW5vO1xuXHQgICAgZXJyLmNvbG5vID0gY29sbm87XG5cdCAgICBlcnIuZmlyc3RVcGRhdGUgPSB0cnVlO1xuXG5cdCAgICBlcnIuVXBkYXRlID0gZnVuY3Rpb24ocGF0aCkge1xuXHQgICAgICAgIHZhciBtZXNzYWdlID0gJygnICsgKHBhdGggfHwgJ3Vua25vd24gcGF0aCcpICsgJyknO1xuXG5cdCAgICAgICAgLy8gb25seSBzaG93IGxpbmVubyArIGNvbG5vIG5leHQgdG8gcGF0aCBvZiB0ZW1wbGF0ZVxuXHQgICAgICAgIC8vIHdoZXJlIGVycm9yIG9jY3VycmVkXG5cdCAgICAgICAgaWYgKHRoaXMuZmlyc3RVcGRhdGUpIHtcblx0ICAgICAgICAgICAgaWYodGhpcy5saW5lbm8gJiYgdGhpcy5jb2xubykge1xuXHQgICAgICAgICAgICAgICAgbWVzc2FnZSArPSAnIFtMaW5lICcgKyB0aGlzLmxpbmVubyArICcsIENvbHVtbiAnICsgdGhpcy5jb2xubyArICddJztcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBlbHNlIGlmKHRoaXMubGluZW5vKSB7XG5cdCAgICAgICAgICAgICAgICBtZXNzYWdlICs9ICcgW0xpbmUgJyArIHRoaXMubGluZW5vICsgJ10nO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgbWVzc2FnZSArPSAnXFxuICc7XG5cdCAgICAgICAgaWYgKHRoaXMuZmlyc3RVcGRhdGUpIHtcblx0ICAgICAgICAgICAgbWVzc2FnZSArPSAnICc7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZSArICh0aGlzLm1lc3NhZ2UgfHwgJycpO1xuXHQgICAgICAgIHRoaXMuZmlyc3RVcGRhdGUgPSBmYWxzZTtcblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH07XG5cblx0ICAgIHJldHVybiBlcnI7XG5cdH07XG5cblx0ZXhwb3J0cy5UZW1wbGF0ZUVycm9yLnByb3RvdHlwZSA9IEVycm9yLnByb3RvdHlwZTtcblxuXHRleHBvcnRzLmVzY2FwZSA9IGZ1bmN0aW9uKHZhbCkge1xuXHQgIHJldHVybiB2YWwucmVwbGFjZShlc2NhcGVSZWdleCwgbG9va3VwRXNjYXBlKTtcblx0fTtcblxuXHRleHBvcnRzLmlzRnVuY3Rpb24gPSBmdW5jdGlvbihvYmopIHtcblx0ICAgIHJldHVybiBPYmpQcm90by50b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXSc7XG5cdH07XG5cblx0ZXhwb3J0cy5pc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbihvYmopIHtcblx0ICAgIHJldHVybiBPYmpQcm90by50b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEFycmF5XSc7XG5cdH07XG5cblx0ZXhwb3J0cy5pc1N0cmluZyA9IGZ1bmN0aW9uKG9iaikge1xuXHQgICAgcmV0dXJuIE9ialByb3RvLnRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgU3RyaW5nXSc7XG5cdH07XG5cblx0ZXhwb3J0cy5pc09iamVjdCA9IGZ1bmN0aW9uKG9iaikge1xuXHQgICAgcmV0dXJuIE9ialByb3RvLnRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgT2JqZWN0XSc7XG5cdH07XG5cblx0ZXhwb3J0cy5ncm91cEJ5ID0gZnVuY3Rpb24ob2JqLCB2YWwpIHtcblx0ICAgIHZhciByZXN1bHQgPSB7fTtcblx0ICAgIHZhciBpdGVyYXRvciA9IGV4cG9ydHMuaXNGdW5jdGlvbih2YWwpID8gdmFsIDogZnVuY3Rpb24ob2JqKSB7IHJldHVybiBvYmpbdmFsXTsgfTtcblx0ICAgIGZvcih2YXIgaT0wOyBpPG9iai5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIHZhciB2YWx1ZSA9IG9ialtpXTtcblx0ICAgICAgICB2YXIga2V5ID0gaXRlcmF0b3IodmFsdWUsIGkpO1xuXHQgICAgICAgIChyZXN1bHRba2V5XSB8fCAocmVzdWx0W2tleV0gPSBbXSkpLnB1c2godmFsdWUpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHJlc3VsdDtcblx0fTtcblxuXHRleHBvcnRzLnRvQXJyYXkgPSBmdW5jdGlvbihvYmopIHtcblx0ICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChvYmopO1xuXHR9O1xuXG5cdGV4cG9ydHMud2l0aG91dCA9IGZ1bmN0aW9uKGFycmF5KSB7XG5cdCAgICB2YXIgcmVzdWx0ID0gW107XG5cdCAgICBpZiAoIWFycmF5KSB7XG5cdCAgICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgIH1cblx0ICAgIHZhciBpbmRleCA9IC0xLFxuXHQgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuXHQgICAgY29udGFpbnMgPSBleHBvcnRzLnRvQXJyYXkoYXJndW1lbnRzKS5zbGljZSgxKTtcblxuXHQgICAgd2hpbGUoKytpbmRleCA8IGxlbmd0aCkge1xuXHQgICAgICAgIGlmKGV4cG9ydHMuaW5kZXhPZihjb250YWlucywgYXJyYXlbaW5kZXhdKSA9PT0gLTEpIHtcblx0ICAgICAgICAgICAgcmVzdWx0LnB1c2goYXJyYXlbaW5kZXhdKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcmVzdWx0O1xuXHR9O1xuXG5cdGV4cG9ydHMuZXh0ZW5kID0gZnVuY3Rpb24ob2JqLCBvYmoyKSB7XG5cdCAgICBmb3IodmFyIGsgaW4gb2JqMikge1xuXHQgICAgICAgIG9ialtrXSA9IG9iajJba107XG5cdCAgICB9XG5cdCAgICByZXR1cm4gb2JqO1xuXHR9O1xuXG5cdGV4cG9ydHMucmVwZWF0ID0gZnVuY3Rpb24oY2hhcl8sIG4pIHtcblx0ICAgIHZhciBzdHIgPSAnJztcblx0ICAgIGZvcih2YXIgaT0wOyBpPG47IGkrKykge1xuXHQgICAgICAgIHN0ciArPSBjaGFyXztcblx0ICAgIH1cblx0ICAgIHJldHVybiBzdHI7XG5cdH07XG5cblx0ZXhwb3J0cy5lYWNoID0gZnVuY3Rpb24ob2JqLCBmdW5jLCBjb250ZXh0KSB7XG5cdCAgICBpZihvYmogPT0gbnVsbCkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblxuXHQgICAgaWYoQXJyYXlQcm90by5lYWNoICYmIG9iai5lYWNoID09PSBBcnJheVByb3RvLmVhY2gpIHtcblx0ICAgICAgICBvYmouZm9yRWFjaChmdW5jLCBjb250ZXh0KTtcblx0ICAgIH1cblx0ICAgIGVsc2UgaWYob2JqLmxlbmd0aCA9PT0gK29iai5sZW5ndGgpIHtcblx0ICAgICAgICBmb3IodmFyIGk9MCwgbD1vYmoubGVuZ3RoOyBpPGw7IGkrKykge1xuXHQgICAgICAgICAgICBmdW5jLmNhbGwoY29udGV4dCwgb2JqW2ldLCBpLCBvYmopO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0fTtcblxuXHRleHBvcnRzLm1hcCA9IGZ1bmN0aW9uKG9iaiwgZnVuYykge1xuXHQgICAgdmFyIHJlc3VsdHMgPSBbXTtcblx0ICAgIGlmKG9iaiA9PSBudWxsKSB7XG5cdCAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG5cdCAgICB9XG5cblx0ICAgIGlmKEFycmF5UHJvdG8ubWFwICYmIG9iai5tYXAgPT09IEFycmF5UHJvdG8ubWFwKSB7XG5cdCAgICAgICAgcmV0dXJuIG9iai5tYXAoZnVuYyk7XG5cdCAgICB9XG5cblx0ICAgIGZvcih2YXIgaT0wOyBpPG9iai5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIHJlc3VsdHNbcmVzdWx0cy5sZW5ndGhdID0gZnVuYyhvYmpbaV0sIGkpO1xuXHQgICAgfVxuXG5cdCAgICBpZihvYmoubGVuZ3RoID09PSArb2JqLmxlbmd0aCkge1xuXHQgICAgICAgIHJlc3VsdHMubGVuZ3RoID0gb2JqLmxlbmd0aDtcblx0ICAgIH1cblxuXHQgICAgcmV0dXJuIHJlc3VsdHM7XG5cdH07XG5cblx0ZXhwb3J0cy5hc3luY0l0ZXIgPSBmdW5jdGlvbihhcnIsIGl0ZXIsIGNiKSB7XG5cdCAgICB2YXIgaSA9IC0xO1xuXG5cdCAgICBmdW5jdGlvbiBuZXh0KCkge1xuXHQgICAgICAgIGkrKztcblxuXHQgICAgICAgIGlmKGkgPCBhcnIubGVuZ3RoKSB7XG5cdCAgICAgICAgICAgIGl0ZXIoYXJyW2ldLCBpLCBuZXh0LCBjYik7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICBjYigpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgbmV4dCgpO1xuXHR9O1xuXG5cdGV4cG9ydHMuYXN5bmNGb3IgPSBmdW5jdGlvbihvYmosIGl0ZXIsIGNiKSB7XG5cdCAgICB2YXIga2V5cyA9IGV4cG9ydHMua2V5cyhvYmopO1xuXHQgICAgdmFyIGxlbiA9IGtleXMubGVuZ3RoO1xuXHQgICAgdmFyIGkgPSAtMTtcblxuXHQgICAgZnVuY3Rpb24gbmV4dCgpIHtcblx0ICAgICAgICBpKys7XG5cdCAgICAgICAgdmFyIGsgPSBrZXlzW2ldO1xuXG5cdCAgICAgICAgaWYoaSA8IGxlbikge1xuXHQgICAgICAgICAgICBpdGVyKGssIG9ialtrXSwgaSwgbGVuLCBuZXh0KTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICAgIGNiKCk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXG5cdCAgICBuZXh0KCk7XG5cdH07XG5cblx0Ly8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvaW5kZXhPZiNQb2x5ZmlsbFxuXHRleHBvcnRzLmluZGV4T2YgPSBBcnJheS5wcm90b3R5cGUuaW5kZXhPZiA/XG5cdCAgICBmdW5jdGlvbiAoYXJyLCBzZWFyY2hFbGVtZW50LCBmcm9tSW5kZXgpIHtcblx0ICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChhcnIsIHNlYXJjaEVsZW1lbnQsIGZyb21JbmRleCk7XG5cdCAgICB9IDpcblx0ICAgIGZ1bmN0aW9uIChhcnIsIHNlYXJjaEVsZW1lbnQsIGZyb21JbmRleCkge1xuXHQgICAgICAgIHZhciBsZW5ndGggPSB0aGlzLmxlbmd0aCA+Pj4gMDsgLy8gSGFjayB0byBjb252ZXJ0IG9iamVjdC5sZW5ndGggdG8gYSBVSW50MzJcblxuXHQgICAgICAgIGZyb21JbmRleCA9ICtmcm9tSW5kZXggfHwgMDtcblxuXHQgICAgICAgIGlmKE1hdGguYWJzKGZyb21JbmRleCkgPT09IEluZmluaXR5KSB7XG5cdCAgICAgICAgICAgIGZyb21JbmRleCA9IDA7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgaWYoZnJvbUluZGV4IDwgMCkge1xuXHQgICAgICAgICAgICBmcm9tSW5kZXggKz0gbGVuZ3RoO1xuXHQgICAgICAgICAgICBpZiAoZnJvbUluZGV4IDwgMCkge1xuXHQgICAgICAgICAgICAgICAgZnJvbUluZGV4ID0gMDtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblxuXHQgICAgICAgIGZvcig7ZnJvbUluZGV4IDwgbGVuZ3RoOyBmcm9tSW5kZXgrKykge1xuXHQgICAgICAgICAgICBpZiAoYXJyW2Zyb21JbmRleF0gPT09IHNlYXJjaEVsZW1lbnQpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBmcm9tSW5kZXg7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cblx0ICAgICAgICByZXR1cm4gLTE7XG5cdCAgICB9O1xuXG5cdGlmKCFBcnJheS5wcm90b3R5cGUubWFwKSB7XG5cdCAgICBBcnJheS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdtYXAgaXMgdW5pbXBsZW1lbnRlZCBmb3IgdGhpcyBqcyBlbmdpbmUnKTtcblx0ICAgIH07XG5cdH1cblxuXHRleHBvcnRzLmtleXMgPSBmdW5jdGlvbihvYmopIHtcblx0ICAgIGlmKE9iamVjdC5wcm90b3R5cGUua2V5cykge1xuXHQgICAgICAgIHJldHVybiBvYmoua2V5cygpO1xuXHQgICAgfVxuXHQgICAgZWxzZSB7XG5cdCAgICAgICAgdmFyIGtleXMgPSBbXTtcblx0ICAgICAgICBmb3IodmFyIGsgaW4gb2JqKSB7XG5cdCAgICAgICAgICAgIGlmKG9iai5oYXNPd25Qcm9wZXJ0eShrKSkge1xuXHQgICAgICAgICAgICAgICAga2V5cy5wdXNoKGspO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBrZXlzO1xuXHQgICAgfVxuXHR9O1xuXG5cdGV4cG9ydHMuaW5PcGVyYXRvciA9IGZ1bmN0aW9uIChrZXksIHZhbCkge1xuXHQgICAgaWYgKGV4cG9ydHMuaXNBcnJheSh2YWwpKSB7XG5cdCAgICAgICAgcmV0dXJuIGV4cG9ydHMuaW5kZXhPZih2YWwsIGtleSkgIT09IC0xO1xuXHQgICAgfSBlbHNlIGlmIChleHBvcnRzLmlzT2JqZWN0KHZhbCkpIHtcblx0ICAgICAgICByZXR1cm4ga2V5IGluIHZhbDtcblx0ICAgIH0gZWxzZSBpZiAoZXhwb3J0cy5pc1N0cmluZyh2YWwpKSB7XG5cdCAgICAgICAgcmV0dXJuIHZhbC5pbmRleE9mKGtleSkgIT09IC0xO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCB1c2UgXCJpblwiIG9wZXJhdG9yIHRvIHNlYXJjaCBmb3IgXCInXG5cdCAgICAgICAgICAgICsga2V5ICsgJ1wiIGluIHVuZXhwZWN0ZWQgdHlwZXMuJyk7XG5cdCAgICB9XG5cdH07XG5cblxuLyoqKi8gfSxcbi8qIDIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgcGF0aCA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdHZhciBhc2FwID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0dmFyIGxpYiA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdHZhciBPYmogPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHR2YXIgY29tcGlsZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHR2YXIgYnVpbHRpbl9maWx0ZXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0dmFyIGJ1aWx0aW5fbG9hZGVycyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdHZhciBydW50aW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0dmFyIGdsb2JhbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHR2YXIgRnJhbWUgPSBydW50aW1lLkZyYW1lO1xuXHR2YXIgVGVtcGxhdGU7XG5cblx0Ly8gVW5jb25kaXRpb25hbGx5IGxvYWQgaW4gdGhpcyBsb2FkZXIsIGV2ZW4gaWYgbm8gb3RoZXIgb25lcyBhcmVcblx0Ly8gaW5jbHVkZWQgKHBvc3NpYmxlIGluIHRoZSBzbGltIGJyb3dzZXIgYnVpbGQpXG5cdGJ1aWx0aW5fbG9hZGVycy5QcmVjb21waWxlZExvYWRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXG5cdC8vIElmIHRoZSB1c2VyIGlzIHVzaW5nIHRoZSBhc3luYyBBUEksICphbHdheXMqIGNhbGwgaXRcblx0Ly8gYXN5bmNocm9ub3VzbHkgZXZlbiBpZiB0aGUgdGVtcGxhdGUgd2FzIHN5bmNocm9ub3VzLlxuXHRmdW5jdGlvbiBjYWxsYmFja0FzYXAoY2IsIGVyciwgcmVzKSB7XG5cdCAgICBhc2FwKGZ1bmN0aW9uKCkgeyBjYihlcnIsIHJlcyk7IH0pO1xuXHR9XG5cblx0dmFyIEVudmlyb25tZW50ID0gT2JqLmV4dGVuZCh7XG5cdCAgICBpbml0OiBmdW5jdGlvbihsb2FkZXJzLCBvcHRzKSB7XG5cdCAgICAgICAgLy8gVGhlIGRldiBmbGFnIGRldGVybWluZXMgdGhlIHRyYWNlIHRoYXQnbGwgYmUgc2hvd24gb24gZXJyb3JzLlxuXHQgICAgICAgIC8vIElmIHNldCB0byB0cnVlLCByZXR1cm5zIHRoZSBmdWxsIHRyYWNlIGZyb20gdGhlIGVycm9yIHBvaW50LFxuXHQgICAgICAgIC8vIG90aGVyd2lzZSB3aWxsIHJldHVybiB0cmFjZSBzdGFydGluZyBmcm9tIFRlbXBsYXRlLnJlbmRlclxuXHQgICAgICAgIC8vICh0aGUgZnVsbCB0cmFjZSBmcm9tIHdpdGhpbiBudW5qdWNrcyBtYXkgY29uZnVzZSBkZXZlbG9wZXJzIHVzaW5nXG5cdCAgICAgICAgLy8gIHRoZSBsaWJyYXJ5KVxuXHQgICAgICAgIC8vIGRlZmF1bHRzIHRvIGZhbHNlXG5cdCAgICAgICAgb3B0cyA9IHRoaXMub3B0cyA9IG9wdHMgfHwge307XG5cdCAgICAgICAgdGhpcy5vcHRzLmRldiA9ICEhb3B0cy5kZXY7XG5cblx0ICAgICAgICAvLyBUaGUgYXV0b2VzY2FwZSBmbGFnIHNldHMgZ2xvYmFsIGF1dG9lc2NhcGluZy4gSWYgdHJ1ZSxcblx0ICAgICAgICAvLyBldmVyeSBzdHJpbmcgdmFyaWFibGUgd2lsbCBiZSBlc2NhcGVkIGJ5IGRlZmF1bHQuXG5cdCAgICAgICAgLy8gSWYgZmFsc2UsIHN0cmluZ3MgY2FuIGJlIG1hbnVhbGx5IGVzY2FwZWQgdXNpbmcgdGhlIGBlc2NhcGVgIGZpbHRlci5cblx0ICAgICAgICAvLyBkZWZhdWx0cyB0byB0cnVlXG5cdCAgICAgICAgdGhpcy5vcHRzLmF1dG9lc2NhcGUgPSBvcHRzLmF1dG9lc2NhcGUgIT0gbnVsbCA/IG9wdHMuYXV0b2VzY2FwZSA6IHRydWU7XG5cblx0ICAgICAgICAvLyBJZiB0cnVlLCB0aGlzIHdpbGwgbWFrZSB0aGUgc3lzdGVtIHRocm93IGVycm9ycyBpZiB0cnlpbmdcblx0ICAgICAgICAvLyB0byBvdXRwdXQgYSBudWxsIG9yIHVuZGVmaW5lZCB2YWx1ZVxuXHQgICAgICAgIHRoaXMub3B0cy50aHJvd09uVW5kZWZpbmVkID0gISFvcHRzLnRocm93T25VbmRlZmluZWQ7XG5cdCAgICAgICAgdGhpcy5vcHRzLnRyaW1CbG9ja3MgPSAhIW9wdHMudHJpbUJsb2Nrcztcblx0ICAgICAgICB0aGlzLm9wdHMubHN0cmlwQmxvY2tzID0gISFvcHRzLmxzdHJpcEJsb2NrcztcblxuXHQgICAgICAgIHRoaXMubG9hZGVycyA9IFtdO1xuXG5cdCAgICAgICAgaWYoIWxvYWRlcnMpIHtcblx0ICAgICAgICAgICAgLy8gVGhlIGZpbGVzeXN0ZW0gbG9hZGVyIGlzIG9ubHkgYXZhaWxhYmxlIHNlcnZlci1zaWRlXG5cdCAgICAgICAgICAgIGlmKGJ1aWx0aW5fbG9hZGVycy5GaWxlU3lzdGVtTG9hZGVyKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLmxvYWRlcnMgPSBbbmV3IGJ1aWx0aW5fbG9hZGVycy5GaWxlU3lzdGVtTG9hZGVyKCd2aWV3cycpXTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBlbHNlIGlmKGJ1aWx0aW5fbG9hZGVycy5XZWJMb2FkZXIpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMubG9hZGVycyA9IFtuZXcgYnVpbHRpbl9sb2FkZXJzLldlYkxvYWRlcignL3ZpZXdzJyldO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICB0aGlzLmxvYWRlcnMgPSBsaWIuaXNBcnJheShsb2FkZXJzKSA/IGxvYWRlcnMgOiBbbG9hZGVyc107XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgLy8gSXQncyBlYXN5IHRvIHVzZSBwcmVjb21waWxlZCB0ZW1wbGF0ZXM6IGp1c3QgaW5jbHVkZSB0aGVtXG5cdCAgICAgICAgLy8gYmVmb3JlIHlvdSBjb25maWd1cmUgbnVuanVja3MgYW5kIHRoaXMgd2lsbCBhdXRvbWF0aWNhbGx5XG5cdCAgICAgICAgLy8gcGljayBpdCB1cCBhbmQgdXNlIGl0XG5cdCAgICAgICAgaWYoKHRydWUpICYmIHdpbmRvdy5udW5qdWNrc1ByZWNvbXBpbGVkKSB7XG5cdCAgICAgICAgICAgIHRoaXMubG9hZGVycy51bnNoaWZ0KFxuXHQgICAgICAgICAgICAgICAgbmV3IGJ1aWx0aW5fbG9hZGVycy5QcmVjb21waWxlZExvYWRlcih3aW5kb3cubnVuanVja3NQcmVjb21waWxlZClcblx0ICAgICAgICAgICAgKTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICB0aGlzLmluaXRDYWNoZSgpO1xuXG5cdCAgICAgICAgdGhpcy5nbG9iYWxzID0gZ2xvYmFscygpO1xuXHQgICAgICAgIHRoaXMuZmlsdGVycyA9IHt9O1xuXHQgICAgICAgIHRoaXMuYXN5bmNGaWx0ZXJzID0gW107XG5cdCAgICAgICAgdGhpcy5leHRlbnNpb25zID0ge307XG5cdCAgICAgICAgdGhpcy5leHRlbnNpb25zTGlzdCA9IFtdO1xuXG5cdCAgICAgICAgZm9yKHZhciBuYW1lIGluIGJ1aWx0aW5fZmlsdGVycykge1xuXHQgICAgICAgICAgICB0aGlzLmFkZEZpbHRlcihuYW1lLCBidWlsdGluX2ZpbHRlcnNbbmFtZV0pO1xuXHQgICAgICAgIH1cblx0ICAgIH0sXG5cblx0ICAgIGluaXRDYWNoZTogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgLy8gQ2FjaGluZyBhbmQgY2FjaGUgYnVzdGluZ1xuXHQgICAgICAgIGxpYi5lYWNoKHRoaXMubG9hZGVycywgZnVuY3Rpb24obG9hZGVyKSB7XG5cdCAgICAgICAgICAgIGxvYWRlci5jYWNoZSA9IHt9O1xuXG5cdCAgICAgICAgICAgIGlmKHR5cGVvZiBsb2FkZXIub24gPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICAgICAgICAgIGxvYWRlci5vbigndXBkYXRlJywgZnVuY3Rpb24odGVtcGxhdGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICBsb2FkZXIuY2FjaGVbdGVtcGxhdGVdID0gbnVsbDtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cdCAgICB9LFxuXG5cdCAgICBhZGRFeHRlbnNpb246IGZ1bmN0aW9uKG5hbWUsIGV4dGVuc2lvbikge1xuXHQgICAgICAgIGV4dGVuc2lvbi5fbmFtZSA9IG5hbWU7XG5cdCAgICAgICAgdGhpcy5leHRlbnNpb25zW25hbWVdID0gZXh0ZW5zaW9uO1xuXHQgICAgICAgIHRoaXMuZXh0ZW5zaW9uc0xpc3QucHVzaChleHRlbnNpb24pO1xuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfSxcblxuXHQgICAgcmVtb3ZlRXh0ZW5zaW9uOiBmdW5jdGlvbihuYW1lKSB7XG5cdCAgICAgICAgdmFyIGV4dGVuc2lvbiA9IHRoaXMuZ2V0RXh0ZW5zaW9uKG5hbWUpO1xuXHQgICAgICAgIGlmICghZXh0ZW5zaW9uKSByZXR1cm47XG5cblx0ICAgICAgICB0aGlzLmV4dGVuc2lvbnNMaXN0ID0gbGliLndpdGhvdXQodGhpcy5leHRlbnNpb25zTGlzdCwgZXh0ZW5zaW9uKTtcblx0ICAgICAgICBkZWxldGUgdGhpcy5leHRlbnNpb25zW25hbWVdO1xuXHQgICAgfSxcblxuXHQgICAgZ2V0RXh0ZW5zaW9uOiBmdW5jdGlvbihuYW1lKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuZXh0ZW5zaW9uc1tuYW1lXTtcblx0ICAgIH0sXG5cblx0ICAgIGhhc0V4dGVuc2lvbjogZnVuY3Rpb24obmFtZSkge1xuXHQgICAgICAgIHJldHVybiAhIXRoaXMuZXh0ZW5zaW9uc1tuYW1lXTtcblx0ICAgIH0sXG5cblx0ICAgIGFkZEdsb2JhbDogZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcblx0ICAgICAgICB0aGlzLmdsb2JhbHNbbmFtZV0gPSB2YWx1ZTtcblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH0sXG5cblx0ICAgIGdldEdsb2JhbDogZnVuY3Rpb24obmFtZSkge1xuXHQgICAgICAgIGlmKHR5cGVvZiB0aGlzLmdsb2JhbHNbbmFtZV0gPT09ICd1bmRlZmluZWQnKSB7XG5cdCAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZ2xvYmFsIG5vdCBmb3VuZDogJyArIG5hbWUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gdGhpcy5nbG9iYWxzW25hbWVdO1xuXHQgICAgfSxcblxuXHQgICAgYWRkRmlsdGVyOiBmdW5jdGlvbihuYW1lLCBmdW5jLCBhc3luYykge1xuXHQgICAgICAgIHZhciB3cmFwcGVkID0gZnVuYztcblxuXHQgICAgICAgIGlmKGFzeW5jKSB7XG5cdCAgICAgICAgICAgIHRoaXMuYXN5bmNGaWx0ZXJzLnB1c2gobmFtZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHRoaXMuZmlsdGVyc1tuYW1lXSA9IHdyYXBwZWQ7XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9LFxuXG5cdCAgICBnZXRGaWx0ZXI6IGZ1bmN0aW9uKG5hbWUpIHtcblx0ICAgICAgICBpZighdGhpcy5maWx0ZXJzW25hbWVdKSB7XG5cdCAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZmlsdGVyIG5vdCBmb3VuZDogJyArIG5hbWUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gdGhpcy5maWx0ZXJzW25hbWVdO1xuXHQgICAgfSxcblxuXHQgICAgcmVzb2x2ZVRlbXBsYXRlOiBmdW5jdGlvbihsb2FkZXIsIHBhcmVudE5hbWUsIGZpbGVuYW1lKSB7XG5cdCAgICAgICAgdmFyIGlzUmVsYXRpdmUgPSAobG9hZGVyLmlzUmVsYXRpdmUgJiYgcGFyZW50TmFtZSk/IGxvYWRlci5pc1JlbGF0aXZlKGZpbGVuYW1lKSA6IGZhbHNlO1xuXHQgICAgICAgIHJldHVybiAoaXNSZWxhdGl2ZSAmJiBsb2FkZXIucmVzb2x2ZSk/IGxvYWRlci5yZXNvbHZlKHBhcmVudE5hbWUsIGZpbGVuYW1lKSA6IGZpbGVuYW1lO1xuXHQgICAgfSxcblxuXHQgICAgZ2V0VGVtcGxhdGU6IGZ1bmN0aW9uKG5hbWUsIGVhZ2VyQ29tcGlsZSwgcGFyZW50TmFtZSwgaWdub3JlTWlzc2luZywgY2IpIHtcblx0ICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG5cdCAgICAgICAgdmFyIHRtcGwgPSBudWxsO1xuXHQgICAgICAgIGlmKG5hbWUgJiYgbmFtZS5yYXcpIHtcblx0ICAgICAgICAgICAgLy8gdGhpcyBmaXhlcyBhdXRvZXNjYXBlIGZvciB0ZW1wbGF0ZXMgcmVmZXJlbmNlZCBpbiBzeW1ib2xzXG5cdCAgICAgICAgICAgIG5hbWUgPSBuYW1lLnJhdztcblx0ICAgICAgICB9XG5cblx0ICAgICAgICBpZihsaWIuaXNGdW5jdGlvbihwYXJlbnROYW1lKSkge1xuXHQgICAgICAgICAgICBjYiA9IHBhcmVudE5hbWU7XG5cdCAgICAgICAgICAgIHBhcmVudE5hbWUgPSBudWxsO1xuXHQgICAgICAgICAgICBlYWdlckNvbXBpbGUgPSBlYWdlckNvbXBpbGUgfHwgZmFsc2U7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgaWYobGliLmlzRnVuY3Rpb24oZWFnZXJDb21waWxlKSkge1xuXHQgICAgICAgICAgICBjYiA9IGVhZ2VyQ29tcGlsZTtcblx0ICAgICAgICAgICAgZWFnZXJDb21waWxlID0gZmFsc2U7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgaWYgKG5hbWUgaW5zdGFuY2VvZiBUZW1wbGF0ZSkge1xuXHQgICAgICAgICAgICAgdG1wbCA9IG5hbWU7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsc2UgaWYodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndGVtcGxhdGUgbmFtZXMgbXVzdCBiZSBhIHN0cmluZzogJyArIG5hbWUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxvYWRlcnMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgIHZhciBfbmFtZSA9IHRoaXMucmVzb2x2ZVRlbXBsYXRlKHRoaXMubG9hZGVyc1tpXSwgcGFyZW50TmFtZSwgbmFtZSk7XG5cdCAgICAgICAgICAgICAgICB0bXBsID0gdGhpcy5sb2FkZXJzW2ldLmNhY2hlW19uYW1lXTtcblx0ICAgICAgICAgICAgICAgIGlmICh0bXBsKSBicmVhaztcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblxuXHQgICAgICAgIGlmKHRtcGwpIHtcblx0ICAgICAgICAgICAgaWYoZWFnZXJDb21waWxlKSB7XG5cdCAgICAgICAgICAgICAgICB0bXBsLmNvbXBpbGUoKTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIGlmKGNiKSB7XG5cdCAgICAgICAgICAgICAgICBjYihudWxsLCB0bXBsKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB0bXBsO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdmFyIHN5bmNSZXN1bHQ7XG5cdCAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cblx0ICAgICAgICAgICAgdmFyIGNyZWF0ZVRlbXBsYXRlID0gZnVuY3Rpb24oZXJyLCBpbmZvKSB7XG5cdCAgICAgICAgICAgICAgICBpZighaW5mbyAmJiAhZXJyKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYoIWlnbm9yZU1pc3NpbmcpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZXJyID0gbmV3IEVycm9yKCd0ZW1wbGF0ZSBub3QgZm91bmQ6ICcgKyBuYW1lKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcblx0ICAgICAgICAgICAgICAgICAgICBpZihjYikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBjYihlcnIpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciB0bXBsO1xuXHQgICAgICAgICAgICAgICAgICAgIGlmKGluZm8pIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdG1wbCA9IG5ldyBUZW1wbGF0ZShpbmZvLnNyYywgX3RoaXMsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5mby5wYXRoLCBlYWdlckNvbXBpbGUpO1xuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFpbmZvLm5vQ2FjaGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZm8ubG9hZGVyLmNhY2hlW25hbWVdID0gdG1wbDtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdG1wbCA9IG5ldyBUZW1wbGF0ZSgnJywgX3RoaXMsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJycsIGVhZ2VyQ29tcGlsZSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICAgICAgaWYoY2IpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY2IobnVsbCwgdG1wbCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBzeW5jUmVzdWx0ID0gdG1wbDtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH07XG5cblx0ICAgICAgICAgICAgbGliLmFzeW5jSXRlcih0aGlzLmxvYWRlcnMsIGZ1bmN0aW9uKGxvYWRlciwgaSwgbmV4dCwgZG9uZSkge1xuXHQgICAgICAgICAgICAgICAgZnVuY3Rpb24gaGFuZGxlKGVyciwgc3JjKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYoZXJyKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGRvbmUoZXJyKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgZWxzZSBpZihzcmMpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgc3JjLmxvYWRlciA9IGxvYWRlcjtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZG9uZShudWxsLCBzcmMpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCgpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgLy8gUmVzb2x2ZSBuYW1lIHJlbGF0aXZlIHRvIHBhcmVudE5hbWVcblx0ICAgICAgICAgICAgICAgIG5hbWUgPSB0aGF0LnJlc29sdmVUZW1wbGF0ZShsb2FkZXIsIHBhcmVudE5hbWUsIG5hbWUpO1xuXG5cdCAgICAgICAgICAgICAgICBpZihsb2FkZXIuYXN5bmMpIHtcblx0ICAgICAgICAgICAgICAgICAgICBsb2FkZXIuZ2V0U291cmNlKG5hbWUsIGhhbmRsZSk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICBoYW5kbGUobnVsbCwgbG9hZGVyLmdldFNvdXJjZShuYW1lKSk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0sIGNyZWF0ZVRlbXBsYXRlKTtcblxuXHQgICAgICAgICAgICByZXR1cm4gc3luY1Jlc3VsdDtcblx0ICAgICAgICB9XG5cdCAgICB9LFxuXG5cdCAgICBleHByZXNzOiBmdW5jdGlvbihhcHApIHtcblx0ICAgICAgICB2YXIgZW52ID0gdGhpcztcblxuXHQgICAgICAgIGZ1bmN0aW9uIE51bmp1Y2tzVmlldyhuYW1lLCBvcHRzKSB7XG5cdCAgICAgICAgICAgIHRoaXMubmFtZSAgICAgICAgICA9IG5hbWU7XG5cdCAgICAgICAgICAgIHRoaXMucGF0aCAgICAgICAgICA9IG5hbWU7XG5cdCAgICAgICAgICAgIHRoaXMuZGVmYXVsdEVuZ2luZSA9IG9wdHMuZGVmYXVsdEVuZ2luZTtcblx0ICAgICAgICAgICAgdGhpcy5leHQgICAgICAgICAgID0gcGF0aC5leHRuYW1lKG5hbWUpO1xuXHQgICAgICAgICAgICBpZiAoIXRoaXMuZXh0ICYmICF0aGlzLmRlZmF1bHRFbmdpbmUpIHRocm93IG5ldyBFcnJvcignTm8gZGVmYXVsdCBlbmdpbmUgd2FzIHNwZWNpZmllZCBhbmQgbm8gZXh0ZW5zaW9uIHdhcyBwcm92aWRlZC4nKTtcblx0ICAgICAgICAgICAgaWYgKCF0aGlzLmV4dCkgdGhpcy5uYW1lICs9ICh0aGlzLmV4dCA9ICgnLicgIT09IHRoaXMuZGVmYXVsdEVuZ2luZVswXSA/ICcuJyA6ICcnKSArIHRoaXMuZGVmYXVsdEVuZ2luZSk7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgTnVuanVja3NWaWV3LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbihvcHRzLCBjYikge1xuXHQgICAgICAgICAgZW52LnJlbmRlcih0aGlzLm5hbWUsIG9wdHMsIGNiKTtcblx0ICAgICAgICB9O1xuXG5cdCAgICAgICAgYXBwLnNldCgndmlldycsIE51bmp1Y2tzVmlldyk7XG5cdCAgICAgICAgYXBwLnNldCgnbnVuanVja3NFbnYnLCB0aGlzKTtcblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH0sXG5cblx0ICAgIHJlbmRlcjogZnVuY3Rpb24obmFtZSwgY3R4LCBjYikge1xuXHQgICAgICAgIGlmKGxpYi5pc0Z1bmN0aW9uKGN0eCkpIHtcblx0ICAgICAgICAgICAgY2IgPSBjdHg7XG5cdCAgICAgICAgICAgIGN0eCA9IG51bGw7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgLy8gV2Ugc3VwcG9ydCBhIHN5bmNocm9ub3VzIEFQSSB0byBtYWtlIGl0IGVhc2llciB0byBtaWdyYXRlXG5cdCAgICAgICAgLy8gZXhpc3RpbmcgY29kZSB0byBhc3luYy4gVGhpcyB3b3JrcyBiZWNhdXNlIGlmIHlvdSBkb24ndCBkb1xuXHQgICAgICAgIC8vIGFueXRoaW5nIGFzeW5jIHdvcmssIHRoZSB3aG9sZSB0aGluZyBpcyBhY3R1YWxseSBydW5cblx0ICAgICAgICAvLyBzeW5jaHJvbm91c2x5LlxuXHQgICAgICAgIHZhciBzeW5jUmVzdWx0ID0gbnVsbDtcblxuXHQgICAgICAgIHRoaXMuZ2V0VGVtcGxhdGUobmFtZSwgZnVuY3Rpb24oZXJyLCB0bXBsKSB7XG5cdCAgICAgICAgICAgIGlmKGVyciAmJiBjYikge1xuXHQgICAgICAgICAgICAgICAgY2FsbGJhY2tBc2FwKGNiLCBlcnIpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGVsc2UgaWYoZXJyKSB7XG5cdCAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBzeW5jUmVzdWx0ID0gdG1wbC5yZW5kZXIoY3R4LCBjYik7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9KTtcblxuXHQgICAgICAgIHJldHVybiBzeW5jUmVzdWx0O1xuXHQgICAgfSxcblxuXHQgICAgcmVuZGVyU3RyaW5nOiBmdW5jdGlvbihzcmMsIGN0eCwgb3B0cywgY2IpIHtcblx0ICAgICAgICBpZihsaWIuaXNGdW5jdGlvbihvcHRzKSkge1xuXHQgICAgICAgICAgICBjYiA9IG9wdHM7XG5cdCAgICAgICAgICAgIG9wdHMgPSB7fTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgb3B0cyA9IG9wdHMgfHwge307XG5cblx0ICAgICAgICB2YXIgdG1wbCA9IG5ldyBUZW1wbGF0ZShzcmMsIHRoaXMsIG9wdHMucGF0aCk7XG5cdCAgICAgICAgcmV0dXJuIHRtcGwucmVuZGVyKGN0eCwgY2IpO1xuXHQgICAgfVxuXHR9KTtcblxuXHR2YXIgQ29udGV4dCA9IE9iai5leHRlbmQoe1xuXHQgICAgaW5pdDogZnVuY3Rpb24oY3R4LCBibG9ja3MsIGVudikge1xuXHQgICAgICAgIC8vIEhhcyB0byBiZSB0aWVkIHRvIGFuIGVudmlyb25tZW50IHNvIHdlIGNhbiB0YXAgaW50byBpdHMgZ2xvYmFscy5cblx0ICAgICAgICB0aGlzLmVudiA9IGVudiB8fCBuZXcgRW52aXJvbm1lbnQoKTtcblxuXHQgICAgICAgIC8vIE1ha2UgYSBkdXBsaWNhdGUgb2YgY3R4XG5cdCAgICAgICAgdGhpcy5jdHggPSB7fTtcblx0ICAgICAgICBmb3IodmFyIGsgaW4gY3R4KSB7XG5cdCAgICAgICAgICAgIGlmKGN0eC5oYXNPd25Qcm9wZXJ0eShrKSkge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5jdHhba10gPSBjdHhba107XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cblx0ICAgICAgICB0aGlzLmJsb2NrcyA9IHt9O1xuXHQgICAgICAgIHRoaXMuZXhwb3J0ZWQgPSBbXTtcblxuXHQgICAgICAgIGZvcih2YXIgbmFtZSBpbiBibG9ja3MpIHtcblx0ICAgICAgICAgICAgdGhpcy5hZGRCbG9jayhuYW1lLCBibG9ja3NbbmFtZV0pO1xuXHQgICAgICAgIH1cblx0ICAgIH0sXG5cblx0ICAgIGxvb2t1cDogZnVuY3Rpb24obmFtZSkge1xuXHQgICAgICAgIC8vIFRoaXMgaXMgb25lIG9mIHRoZSBtb3N0IGNhbGxlZCBmdW5jdGlvbnMsIHNvIG9wdGltaXplIGZvclxuXHQgICAgICAgIC8vIHRoZSB0eXBpY2FsIGNhc2Ugd2hlcmUgdGhlIG5hbWUgaXNuJ3QgaW4gdGhlIGdsb2JhbHNcblx0ICAgICAgICBpZihuYW1lIGluIHRoaXMuZW52Lmdsb2JhbHMgJiYgIShuYW1lIGluIHRoaXMuY3R4KSkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5lbnYuZ2xvYmFsc1tuYW1lXTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLmN0eFtuYW1lXTtcblx0ICAgICAgICB9XG5cdCAgICB9LFxuXG5cdCAgICBzZXRWYXJpYWJsZTogZnVuY3Rpb24obmFtZSwgdmFsKSB7XG5cdCAgICAgICAgdGhpcy5jdHhbbmFtZV0gPSB2YWw7XG5cdCAgICB9LFxuXG5cdCAgICBnZXRWYXJpYWJsZXM6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLmN0eDtcblx0ICAgIH0sXG5cblx0ICAgIGFkZEJsb2NrOiBmdW5jdGlvbihuYW1lLCBibG9jaykge1xuXHQgICAgICAgIHRoaXMuYmxvY2tzW25hbWVdID0gdGhpcy5ibG9ja3NbbmFtZV0gfHwgW107XG5cdCAgICAgICAgdGhpcy5ibG9ja3NbbmFtZV0ucHVzaChibG9jayk7XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9LFxuXG5cdCAgICBnZXRCbG9jazogZnVuY3Rpb24obmFtZSkge1xuXHQgICAgICAgIGlmKCF0aGlzLmJsb2Nrc1tuYW1lXSkge1xuXHQgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vua25vd24gYmxvY2sgXCInICsgbmFtZSArICdcIicpO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHJldHVybiB0aGlzLmJsb2Nrc1tuYW1lXVswXTtcblx0ICAgIH0sXG5cblx0ICAgIGdldFN1cGVyOiBmdW5jdGlvbihlbnYsIG5hbWUsIGJsb2NrLCBmcmFtZSwgcnVudGltZSwgY2IpIHtcblx0ICAgICAgICB2YXIgaWR4ID0gbGliLmluZGV4T2YodGhpcy5ibG9ja3NbbmFtZV0gfHwgW10sIGJsb2NrKTtcblx0ICAgICAgICB2YXIgYmxrID0gdGhpcy5ibG9ja3NbbmFtZV1baWR4ICsgMV07XG5cdCAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzO1xuXG5cdCAgICAgICAgaWYoaWR4ID09PSAtMSB8fCAhYmxrKSB7XG5cdCAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignbm8gc3VwZXIgYmxvY2sgYXZhaWxhYmxlIGZvciBcIicgKyBuYW1lICsgJ1wiJyk7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgYmxrKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKTtcblx0ICAgIH0sXG5cblx0ICAgIGFkZEV4cG9ydDogZnVuY3Rpb24obmFtZSkge1xuXHQgICAgICAgIHRoaXMuZXhwb3J0ZWQucHVzaChuYW1lKTtcblx0ICAgIH0sXG5cblx0ICAgIGdldEV4cG9ydGVkOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgZXhwb3J0ZWQgPSB7fTtcblx0ICAgICAgICBmb3IodmFyIGk9MDsgaTx0aGlzLmV4cG9ydGVkLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgIHZhciBuYW1lID0gdGhpcy5leHBvcnRlZFtpXTtcblx0ICAgICAgICAgICAgZXhwb3J0ZWRbbmFtZV0gPSB0aGlzLmN0eFtuYW1lXTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGV4cG9ydGVkO1xuXHQgICAgfVxuXHR9KTtcblxuXHRUZW1wbGF0ZSA9IE9iai5leHRlbmQoe1xuXHQgICAgaW5pdDogZnVuY3Rpb24gKHNyYywgZW52LCBwYXRoLCBlYWdlckNvbXBpbGUpIHtcblx0ICAgICAgICB0aGlzLmVudiA9IGVudiB8fCBuZXcgRW52aXJvbm1lbnQoKTtcblxuXHQgICAgICAgIGlmKGxpYi5pc09iamVjdChzcmMpKSB7XG5cdCAgICAgICAgICAgIHN3aXRjaChzcmMudHlwZSkge1xuXHQgICAgICAgICAgICBjYXNlICdjb2RlJzogdGhpcy50bXBsUHJvcHMgPSBzcmMub2JqOyBicmVhaztcblx0ICAgICAgICAgICAgY2FzZSAnc3RyaW5nJzogdGhpcy50bXBsU3RyID0gc3JjLm9iajsgYnJlYWs7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgZWxzZSBpZihsaWIuaXNTdHJpbmcoc3JjKSkge1xuXHQgICAgICAgICAgICB0aGlzLnRtcGxTdHIgPSBzcmM7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NyYyBtdXN0IGJlIGEgc3RyaW5nIG9yIGFuIG9iamVjdCBkZXNjcmliaW5nICcgK1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RoZSBzb3VyY2UnKTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICB0aGlzLnBhdGggPSBwYXRoO1xuXG5cdCAgICAgICAgaWYoZWFnZXJDb21waWxlKSB7XG5cdCAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdCAgICAgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgICAgICBfdGhpcy5fY29tcGlsZSgpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGNhdGNoKGVycikge1xuXHQgICAgICAgICAgICAgICAgdGhyb3cgbGliLnByZXR0aWZ5RXJyb3IodGhpcy5wYXRoLCB0aGlzLmVudi5vcHRzLmRldiwgZXJyKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgdGhpcy5jb21waWxlZCA9IGZhbHNlO1xuXHQgICAgICAgIH1cblx0ICAgIH0sXG5cblx0ICAgIHJlbmRlcjogZnVuY3Rpb24oY3R4LCBwYXJlbnRGcmFtZSwgY2IpIHtcblx0ICAgICAgICBpZiAodHlwZW9mIGN0eCA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgICAgICBjYiA9IGN0eDtcblx0ICAgICAgICAgICAgY3R4ID0ge307XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBwYXJlbnRGcmFtZSA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgICAgICBjYiA9IHBhcmVudEZyYW1lO1xuXHQgICAgICAgICAgICBwYXJlbnRGcmFtZSA9IG51bGw7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgdmFyIGZvcmNlQXN5bmMgPSB0cnVlO1xuXHQgICAgICAgIGlmKHBhcmVudEZyYW1lKSB7XG5cdCAgICAgICAgICAgIC8vIElmIHRoZXJlIGlzIGEgZnJhbWUsIHdlIGFyZSBiZWluZyBjYWxsZWQgZnJvbSBpbnRlcm5hbFxuXHQgICAgICAgICAgICAvLyBjb2RlIG9mIGFub3RoZXIgdGVtcGxhdGUsIGFuZCB0aGUgaW50ZXJuYWwgc3lzdGVtXG5cdCAgICAgICAgICAgIC8vIGRlcGVuZHMgb24gdGhlIHN5bmMvYXN5bmMgbmF0dXJlIG9mIHRoZSBwYXJlbnQgdGVtcGxhdGVcblx0ICAgICAgICAgICAgLy8gdG8gYmUgaW5oZXJpdGVkLCBzbyBmb3JjZSBhbiBhc3luYyBjYWxsYmFja1xuXHQgICAgICAgICAgICBmb3JjZUFzeW5jID0gZmFsc2U7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblx0ICAgICAgICAvLyBDYXRjaCBjb21waWxlIGVycm9ycyBmb3IgYXN5bmMgcmVuZGVyaW5nXG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgX3RoaXMuY29tcGlsZSgpO1xuXHQgICAgICAgIH0gY2F0Y2ggKF9lcnIpIHtcblx0ICAgICAgICAgICAgdmFyIGVyciA9IGxpYi5wcmV0dGlmeUVycm9yKHRoaXMucGF0aCwgdGhpcy5lbnYub3B0cy5kZXYsIF9lcnIpO1xuXHQgICAgICAgICAgICBpZiAoY2IpIHJldHVybiBjYWxsYmFja0FzYXAoY2IsIGVycik7XG5cdCAgICAgICAgICAgIGVsc2UgdGhyb3cgZXJyO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHZhciBjb250ZXh0ID0gbmV3IENvbnRleHQoY3R4IHx8IHt9LCBfdGhpcy5ibG9ja3MsIF90aGlzLmVudik7XG5cdCAgICAgICAgdmFyIGZyYW1lID0gcGFyZW50RnJhbWUgPyBwYXJlbnRGcmFtZS5wdXNoKHRydWUpIDogbmV3IEZyYW1lKCk7XG5cdCAgICAgICAgZnJhbWUudG9wTGV2ZWwgPSB0cnVlO1xuXHQgICAgICAgIHZhciBzeW5jUmVzdWx0ID0gbnVsbDtcblxuXHQgICAgICAgIF90aGlzLnJvb3RSZW5kZXJGdW5jKFxuXHQgICAgICAgICAgICBfdGhpcy5lbnYsXG5cdCAgICAgICAgICAgIGNvbnRleHQsXG5cdCAgICAgICAgICAgIGZyYW1lIHx8IG5ldyBGcmFtZSgpLFxuXHQgICAgICAgICAgICBydW50aW1lLFxuXHQgICAgICAgICAgICBmdW5jdGlvbihlcnIsIHJlcykge1xuXHQgICAgICAgICAgICAgICAgaWYoZXJyKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgZXJyID0gbGliLnByZXR0aWZ5RXJyb3IoX3RoaXMucGF0aCwgX3RoaXMuZW52Lm9wdHMuZGV2LCBlcnIpO1xuXHQgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICBpZihjYikge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmKGZvcmNlQXN5bmMpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tBc2FwKGNiLCBlcnIsIHJlcyk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBjYihlcnIsIHJlcyk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYoZXJyKSB7IHRocm93IGVycjsgfVxuXHQgICAgICAgICAgICAgICAgICAgIHN5bmNSZXN1bHQgPSByZXM7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICApO1xuXG5cdCAgICAgICAgcmV0dXJuIHN5bmNSZXN1bHQ7XG5cdCAgICB9LFxuXG5cblx0ICAgIGdldEV4cG9ydGVkOiBmdW5jdGlvbihjdHgsIHBhcmVudEZyYW1lLCBjYikge1xuXHQgICAgICAgIGlmICh0eXBlb2YgY3R4ID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgICAgIGNiID0gY3R4O1xuXHQgICAgICAgICAgICBjdHggPSB7fTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICBpZiAodHlwZW9mIHBhcmVudEZyYW1lID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgICAgIGNiID0gcGFyZW50RnJhbWU7XG5cdCAgICAgICAgICAgIHBhcmVudEZyYW1lID0gbnVsbDtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICAvLyBDYXRjaCBjb21waWxlIGVycm9ycyBmb3IgYXN5bmMgcmVuZGVyaW5nXG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgdGhpcy5jb21waWxlKCk7XG5cdCAgICAgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgICAgICBpZiAoY2IpIHJldHVybiBjYihlKTtcblx0ICAgICAgICAgICAgZWxzZSB0aHJvdyBlO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHZhciBmcmFtZSA9IHBhcmVudEZyYW1lID8gcGFyZW50RnJhbWUucHVzaCgpIDogbmV3IEZyYW1lKCk7XG5cdCAgICAgICAgZnJhbWUudG9wTGV2ZWwgPSB0cnVlO1xuXG5cdCAgICAgICAgLy8gUnVuIHRoZSByb290UmVuZGVyRnVuYyB0byBwb3B1bGF0ZSB0aGUgY29udGV4dCB3aXRoIGV4cG9ydGVkIHZhcnNcblx0ICAgICAgICB2YXIgY29udGV4dCA9IG5ldyBDb250ZXh0KGN0eCB8fCB7fSwgdGhpcy5ibG9ja3MsIHRoaXMuZW52KTtcblx0ICAgICAgICB0aGlzLnJvb3RSZW5kZXJGdW5jKHRoaXMuZW52LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dCxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyYW1lLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVudGltZSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGVycikge1xuXHQgICAgICAgIFx0XHQgICAgICAgIGlmICggZXJyICkge1xuXHQgICAgICAgIFx0XHRcdCAgICBjYihlcnIsIG51bGwpO1xuXHQgICAgICAgIFx0XHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgXHRcdFx0ICAgIGNiKG51bGwsIGNvbnRleHQuZ2V0RXhwb3J0ZWQoKSk7XG5cdCAgICAgICAgXHRcdCAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cdCAgICB9LFxuXG5cdCAgICBjb21waWxlOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICBpZighdGhpcy5jb21waWxlZCkge1xuXHQgICAgICAgICAgICB0aGlzLl9jb21waWxlKCk7XG5cdCAgICAgICAgfVxuXHQgICAgfSxcblxuXHQgICAgX2NvbXBpbGU6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHZhciBwcm9wcztcblxuXHQgICAgICAgIGlmKHRoaXMudG1wbFByb3BzKSB7XG5cdCAgICAgICAgICAgIHByb3BzID0gdGhpcy50bXBsUHJvcHM7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICB2YXIgc291cmNlID0gY29tcGlsZXIuY29tcGlsZSh0aGlzLnRtcGxTdHIsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW52LmFzeW5jRmlsdGVycyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbnYuZXh0ZW5zaW9uc0xpc3QsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGF0aCxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbnYub3B0cyk7XG5cblx0ICAgICAgICAgICAgLyoganNsaW50IGV2aWw6IHRydWUgKi9cblx0ICAgICAgICAgICAgdmFyIGZ1bmMgPSBuZXcgRnVuY3Rpb24oc291cmNlKTtcblx0ICAgICAgICAgICAgcHJvcHMgPSBmdW5jKCk7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgdGhpcy5ibG9ja3MgPSB0aGlzLl9nZXRCbG9ja3MocHJvcHMpO1xuXHQgICAgICAgIHRoaXMucm9vdFJlbmRlckZ1bmMgPSBwcm9wcy5yb290O1xuXHQgICAgICAgIHRoaXMuY29tcGlsZWQgPSB0cnVlO1xuXHQgICAgfSxcblxuXHQgICAgX2dldEJsb2NrczogZnVuY3Rpb24ocHJvcHMpIHtcblx0ICAgICAgICB2YXIgYmxvY2tzID0ge307XG5cblx0ICAgICAgICBmb3IodmFyIGsgaW4gcHJvcHMpIHtcblx0ICAgICAgICAgICAgaWYoay5zbGljZSgwLCAyKSA9PT0gJ2JfJykge1xuXHQgICAgICAgICAgICAgICAgYmxvY2tzW2suc2xpY2UoMildID0gcHJvcHNba107XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cblx0ICAgICAgICByZXR1cm4gYmxvY2tzO1xuXHQgICAgfVxuXHR9KTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0ICAgIEVudmlyb25tZW50OiBFbnZpcm9ubWVudCxcblx0ICAgIFRlbXBsYXRlOiBUZW1wbGF0ZVxuXHR9O1xuXG5cbi8qKiovIH0sXG4vKiAzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcblxuLyoqKi8gfSxcbi8qIDQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdC8vIHJhd0FzYXAgcHJvdmlkZXMgZXZlcnl0aGluZyB3ZSBuZWVkIGV4Y2VwdCBleGNlcHRpb24gbWFuYWdlbWVudC5cblx0dmFyIHJhd0FzYXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHQvLyBSYXdUYXNrcyBhcmUgcmVjeWNsZWQgdG8gcmVkdWNlIEdDIGNodXJuLlxuXHR2YXIgZnJlZVRhc2tzID0gW107XG5cdC8vIFdlIHF1ZXVlIGVycm9ycyB0byBlbnN1cmUgdGhleSBhcmUgdGhyb3duIGluIHJpZ2h0IG9yZGVyIChGSUZPKS5cblx0Ly8gQXJyYXktYXMtcXVldWUgaXMgZ29vZCBlbm91Z2ggaGVyZSwgc2luY2Ugd2UgYXJlIGp1c3QgZGVhbGluZyB3aXRoIGV4Y2VwdGlvbnMuXG5cdHZhciBwZW5kaW5nRXJyb3JzID0gW107XG5cdHZhciByZXF1ZXN0RXJyb3JUaHJvdyA9IHJhd0FzYXAubWFrZVJlcXVlc3RDYWxsRnJvbVRpbWVyKHRocm93Rmlyc3RFcnJvcik7XG5cblx0ZnVuY3Rpb24gdGhyb3dGaXJzdEVycm9yKCkge1xuXHQgICAgaWYgKHBlbmRpbmdFcnJvcnMubGVuZ3RoKSB7XG5cdCAgICAgICAgdGhyb3cgcGVuZGluZ0Vycm9ycy5zaGlmdCgpO1xuXHQgICAgfVxuXHR9XG5cblx0LyoqXG5cdCAqIENhbGxzIGEgdGFzayBhcyBzb29uIGFzIHBvc3NpYmxlIGFmdGVyIHJldHVybmluZywgaW4gaXRzIG93biBldmVudCwgd2l0aCBwcmlvcml0eVxuXHQgKiBvdmVyIG90aGVyIGV2ZW50cyBsaWtlIGFuaW1hdGlvbiwgcmVmbG93LCBhbmQgcmVwYWludC4gQW4gZXJyb3IgdGhyb3duIGZyb20gYW5cblx0ICogZXZlbnQgd2lsbCBub3QgaW50ZXJydXB0LCBub3IgZXZlbiBzdWJzdGFudGlhbGx5IHNsb3cgZG93biB0aGUgcHJvY2Vzc2luZyBvZlxuXHQgKiBvdGhlciBldmVudHMsIGJ1dCB3aWxsIGJlIHJhdGhlciBwb3N0cG9uZWQgdG8gYSBsb3dlciBwcmlvcml0eSBldmVudC5cblx0ICogQHBhcmFtIHt7Y2FsbH19IHRhc2sgQSBjYWxsYWJsZSBvYmplY3QsIHR5cGljYWxseSBhIGZ1bmN0aW9uIHRoYXQgdGFrZXMgbm9cblx0ICogYXJndW1lbnRzLlxuXHQgKi9cblx0bW9kdWxlLmV4cG9ydHMgPSBhc2FwO1xuXHRmdW5jdGlvbiBhc2FwKHRhc2spIHtcblx0ICAgIHZhciByYXdUYXNrO1xuXHQgICAgaWYgKGZyZWVUYXNrcy5sZW5ndGgpIHtcblx0ICAgICAgICByYXdUYXNrID0gZnJlZVRhc2tzLnBvcCgpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICByYXdUYXNrID0gbmV3IFJhd1Rhc2soKTtcblx0ICAgIH1cblx0ICAgIHJhd1Rhc2sudGFzayA9IHRhc2s7XG5cdCAgICByYXdBc2FwKHJhd1Rhc2spO1xuXHR9XG5cblx0Ly8gV2Ugd3JhcCB0YXNrcyB3aXRoIHJlY3ljbGFibGUgdGFzayBvYmplY3RzLiAgQSB0YXNrIG9iamVjdCBpbXBsZW1lbnRzXG5cdC8vIGBjYWxsYCwganVzdCBsaWtlIGEgZnVuY3Rpb24uXG5cdGZ1bmN0aW9uIFJhd1Rhc2soKSB7XG5cdCAgICB0aGlzLnRhc2sgPSBudWxsO1xuXHR9XG5cblx0Ly8gVGhlIHNvbGUgcHVycG9zZSBvZiB3cmFwcGluZyB0aGUgdGFzayBpcyB0byBjYXRjaCB0aGUgZXhjZXB0aW9uIGFuZCByZWN5Y2xlXG5cdC8vIHRoZSB0YXNrIG9iamVjdCBhZnRlciBpdHMgc2luZ2xlIHVzZS5cblx0UmF3VGFzay5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHRyeSB7XG5cdCAgICAgICAgdGhpcy50YXNrLmNhbGwoKTtcblx0ICAgIH0gY2F0Y2ggKGVycm9yKSB7XG5cdCAgICAgICAgaWYgKGFzYXAub25lcnJvcikge1xuXHQgICAgICAgICAgICAvLyBUaGlzIGhvb2sgZXhpc3RzIHB1cmVseSBmb3IgdGVzdGluZyBwdXJwb3Nlcy5cblx0ICAgICAgICAgICAgLy8gSXRzIG5hbWUgd2lsbCBiZSBwZXJpb2RpY2FsbHkgcmFuZG9taXplZCB0byBicmVhayBhbnkgY29kZSB0aGF0XG5cdCAgICAgICAgICAgIC8vIGRlcGVuZHMgb24gaXRzIGV4aXN0ZW5jZS5cblx0ICAgICAgICAgICAgYXNhcC5vbmVycm9yKGVycm9yKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAvLyBJbiBhIHdlYiBicm93c2VyLCBleGNlcHRpb25zIGFyZSBub3QgZmF0YWwuIEhvd2V2ZXIsIHRvIGF2b2lkXG5cdCAgICAgICAgICAgIC8vIHNsb3dpbmcgZG93biB0aGUgcXVldWUgb2YgcGVuZGluZyB0YXNrcywgd2UgcmV0aHJvdyB0aGUgZXJyb3IgaW4gYVxuXHQgICAgICAgICAgICAvLyBsb3dlciBwcmlvcml0eSB0dXJuLlxuXHQgICAgICAgICAgICBwZW5kaW5nRXJyb3JzLnB1c2goZXJyb3IpO1xuXHQgICAgICAgICAgICByZXF1ZXN0RXJyb3JUaHJvdygpO1xuXHQgICAgICAgIH1cblx0ICAgIH0gZmluYWxseSB7XG5cdCAgICAgICAgdGhpcy50YXNrID0gbnVsbDtcblx0ICAgICAgICBmcmVlVGFza3NbZnJlZVRhc2tzLmxlbmd0aF0gPSB0aGlzO1xuXHQgICAgfVxuXHR9O1xuXG5cbi8qKiovIH0sXG4vKiA1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oZ2xvYmFsKSB7XCJ1c2Ugc3RyaWN0XCI7XG5cblx0Ly8gVXNlIHRoZSBmYXN0ZXN0IG1lYW5zIHBvc3NpYmxlIHRvIGV4ZWN1dGUgYSB0YXNrIGluIGl0cyBvd24gdHVybiwgd2l0aFxuXHQvLyBwcmlvcml0eSBvdmVyIG90aGVyIGV2ZW50cyBpbmNsdWRpbmcgSU8sIGFuaW1hdGlvbiwgcmVmbG93LCBhbmQgcmVkcmF3XG5cdC8vIGV2ZW50cyBpbiBicm93c2Vycy5cblx0Ly9cblx0Ly8gQW4gZXhjZXB0aW9uIHRocm93biBieSBhIHRhc2sgd2lsbCBwZXJtYW5lbnRseSBpbnRlcnJ1cHQgdGhlIHByb2Nlc3Npbmcgb2Zcblx0Ly8gc3Vic2VxdWVudCB0YXNrcy4gVGhlIGhpZ2hlciBsZXZlbCBgYXNhcGAgZnVuY3Rpb24gZW5zdXJlcyB0aGF0IGlmIGFuXG5cdC8vIGV4Y2VwdGlvbiBpcyB0aHJvd24gYnkgYSB0YXNrLCB0aGF0IHRoZSB0YXNrIHF1ZXVlIHdpbGwgY29udGludWUgZmx1c2hpbmcgYXNcblx0Ly8gc29vbiBhcyBwb3NzaWJsZSwgYnV0IGlmIHlvdSB1c2UgYHJhd0FzYXBgIGRpcmVjdGx5LCB5b3UgYXJlIHJlc3BvbnNpYmxlIHRvXG5cdC8vIGVpdGhlciBlbnN1cmUgdGhhdCBubyBleGNlcHRpb25zIGFyZSB0aHJvd24gZnJvbSB5b3VyIHRhc2ssIG9yIHRvIG1hbnVhbGx5XG5cdC8vIGNhbGwgYHJhd0FzYXAucmVxdWVzdEZsdXNoYCBpZiBhbiBleGNlcHRpb24gaXMgdGhyb3duLlxuXHRtb2R1bGUuZXhwb3J0cyA9IHJhd0FzYXA7XG5cdGZ1bmN0aW9uIHJhd0FzYXAodGFzaykge1xuXHQgICAgaWYgKCFxdWV1ZS5sZW5ndGgpIHtcblx0ICAgICAgICByZXF1ZXN0Rmx1c2goKTtcblx0ICAgICAgICBmbHVzaGluZyA9IHRydWU7XG5cdCAgICB9XG5cdCAgICAvLyBFcXVpdmFsZW50IHRvIHB1c2gsIGJ1dCBhdm9pZHMgYSBmdW5jdGlvbiBjYWxsLlxuXHQgICAgcXVldWVbcXVldWUubGVuZ3RoXSA9IHRhc2s7XG5cdH1cblxuXHR2YXIgcXVldWUgPSBbXTtcblx0Ly8gT25jZSBhIGZsdXNoIGhhcyBiZWVuIHJlcXVlc3RlZCwgbm8gZnVydGhlciBjYWxscyB0byBgcmVxdWVzdEZsdXNoYCBhcmVcblx0Ly8gbmVjZXNzYXJ5IHVudGlsIHRoZSBuZXh0IGBmbHVzaGAgY29tcGxldGVzLlxuXHR2YXIgZmx1c2hpbmcgPSBmYWxzZTtcblx0Ly8gYHJlcXVlc3RGbHVzaGAgaXMgYW4gaW1wbGVtZW50YXRpb24tc3BlY2lmaWMgbWV0aG9kIHRoYXQgYXR0ZW1wdHMgdG8ga2lja1xuXHQvLyBvZmYgYSBgZmx1c2hgIGV2ZW50IGFzIHF1aWNrbHkgYXMgcG9zc2libGUuIGBmbHVzaGAgd2lsbCBhdHRlbXB0IHRvIGV4aGF1c3Rcblx0Ly8gdGhlIGV2ZW50IHF1ZXVlIGJlZm9yZSB5aWVsZGluZyB0byB0aGUgYnJvd3NlcidzIG93biBldmVudCBsb29wLlxuXHR2YXIgcmVxdWVzdEZsdXNoO1xuXHQvLyBUaGUgcG9zaXRpb24gb2YgdGhlIG5leHQgdGFzayB0byBleGVjdXRlIGluIHRoZSB0YXNrIHF1ZXVlLiBUaGlzIGlzXG5cdC8vIHByZXNlcnZlZCBiZXR3ZWVuIGNhbGxzIHRvIGBmbHVzaGAgc28gdGhhdCBpdCBjYW4gYmUgcmVzdW1lZCBpZlxuXHQvLyBhIHRhc2sgdGhyb3dzIGFuIGV4Y2VwdGlvbi5cblx0dmFyIGluZGV4ID0gMDtcblx0Ly8gSWYgYSB0YXNrIHNjaGVkdWxlcyBhZGRpdGlvbmFsIHRhc2tzIHJlY3Vyc2l2ZWx5LCB0aGUgdGFzayBxdWV1ZSBjYW4gZ3Jvd1xuXHQvLyB1bmJvdW5kZWQuIFRvIHByZXZlbnQgbWVtb3J5IGV4aGF1c3Rpb24sIHRoZSB0YXNrIHF1ZXVlIHdpbGwgcGVyaW9kaWNhbGx5XG5cdC8vIHRydW5jYXRlIGFscmVhZHktY29tcGxldGVkIHRhc2tzLlxuXHR2YXIgY2FwYWNpdHkgPSAxMDI0O1xuXG5cdC8vIFRoZSBmbHVzaCBmdW5jdGlvbiBwcm9jZXNzZXMgYWxsIHRhc2tzIHRoYXQgaGF2ZSBiZWVuIHNjaGVkdWxlZCB3aXRoXG5cdC8vIGByYXdBc2FwYCB1bmxlc3MgYW5kIHVudGlsIG9uZSBvZiB0aG9zZSB0YXNrcyB0aHJvd3MgYW4gZXhjZXB0aW9uLlxuXHQvLyBJZiBhIHRhc2sgdGhyb3dzIGFuIGV4Y2VwdGlvbiwgYGZsdXNoYCBlbnN1cmVzIHRoYXQgaXRzIHN0YXRlIHdpbGwgcmVtYWluXG5cdC8vIGNvbnNpc3RlbnQgYW5kIHdpbGwgcmVzdW1lIHdoZXJlIGl0IGxlZnQgb2ZmIHdoZW4gY2FsbGVkIGFnYWluLlxuXHQvLyBIb3dldmVyLCBgZmx1c2hgIGRvZXMgbm90IG1ha2UgYW55IGFycmFuZ2VtZW50cyB0byBiZSBjYWxsZWQgYWdhaW4gaWYgYW5cblx0Ly8gZXhjZXB0aW9uIGlzIHRocm93bi5cblx0ZnVuY3Rpb24gZmx1c2goKSB7XG5cdCAgICB3aGlsZSAoaW5kZXggPCBxdWV1ZS5sZW5ndGgpIHtcblx0ICAgICAgICB2YXIgY3VycmVudEluZGV4ID0gaW5kZXg7XG5cdCAgICAgICAgLy8gQWR2YW5jZSB0aGUgaW5kZXggYmVmb3JlIGNhbGxpbmcgdGhlIHRhc2suIFRoaXMgZW5zdXJlcyB0aGF0IHdlIHdpbGxcblx0ICAgICAgICAvLyBiZWdpbiBmbHVzaGluZyBvbiB0aGUgbmV4dCB0YXNrIHRoZSB0YXNrIHRocm93cyBhbiBlcnJvci5cblx0ICAgICAgICBpbmRleCA9IGluZGV4ICsgMTtcblx0ICAgICAgICBxdWV1ZVtjdXJyZW50SW5kZXhdLmNhbGwoKTtcblx0ICAgICAgICAvLyBQcmV2ZW50IGxlYWtpbmcgbWVtb3J5IGZvciBsb25nIGNoYWlucyBvZiByZWN1cnNpdmUgY2FsbHMgdG8gYGFzYXBgLlxuXHQgICAgICAgIC8vIElmIHdlIGNhbGwgYGFzYXBgIHdpdGhpbiB0YXNrcyBzY2hlZHVsZWQgYnkgYGFzYXBgLCB0aGUgcXVldWUgd2lsbFxuXHQgICAgICAgIC8vIGdyb3csIGJ1dCB0byBhdm9pZCBhbiBPKG4pIHdhbGsgZm9yIGV2ZXJ5IHRhc2sgd2UgZXhlY3V0ZSwgd2UgZG9uJ3Rcblx0ICAgICAgICAvLyBzaGlmdCB0YXNrcyBvZmYgdGhlIHF1ZXVlIGFmdGVyIHRoZXkgaGF2ZSBiZWVuIGV4ZWN1dGVkLlxuXHQgICAgICAgIC8vIEluc3RlYWQsIHdlIHBlcmlvZGljYWxseSBzaGlmdCAxMDI0IHRhc2tzIG9mZiB0aGUgcXVldWUuXG5cdCAgICAgICAgaWYgKGluZGV4ID4gY2FwYWNpdHkpIHtcblx0ICAgICAgICAgICAgLy8gTWFudWFsbHkgc2hpZnQgYWxsIHZhbHVlcyBzdGFydGluZyBhdCB0aGUgaW5kZXggYmFjayB0byB0aGVcblx0ICAgICAgICAgICAgLy8gYmVnaW5uaW5nIG9mIHRoZSBxdWV1ZS5cblx0ICAgICAgICAgICAgZm9yICh2YXIgc2NhbiA9IDAsIG5ld0xlbmd0aCA9IHF1ZXVlLmxlbmd0aCAtIGluZGV4OyBzY2FuIDwgbmV3TGVuZ3RoOyBzY2FuKyspIHtcblx0ICAgICAgICAgICAgICAgIHF1ZXVlW3NjYW5dID0gcXVldWVbc2NhbiArIGluZGV4XTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBxdWV1ZS5sZW5ndGggLT0gaW5kZXg7XG5cdCAgICAgICAgICAgIGluZGV4ID0gMDtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBxdWV1ZS5sZW5ndGggPSAwO1xuXHQgICAgaW5kZXggPSAwO1xuXHQgICAgZmx1c2hpbmcgPSBmYWxzZTtcblx0fVxuXG5cdC8vIGByZXF1ZXN0Rmx1c2hgIGlzIGltcGxlbWVudGVkIHVzaW5nIGEgc3RyYXRlZ3kgYmFzZWQgb24gZGF0YSBjb2xsZWN0ZWQgZnJvbVxuXHQvLyBldmVyeSBhdmFpbGFibGUgU2F1Y2VMYWJzIFNlbGVuaXVtIHdlYiBkcml2ZXIgd29ya2VyIGF0IHRpbWUgb2Ygd3JpdGluZy5cblx0Ly8gaHR0cHM6Ly9kb2NzLmdvb2dsZS5jb20vc3ByZWFkc2hlZXRzL2QvMW1HLTVVWUd1cDVxeEdkRU1Xa2hQNkJXQ3owNTNOVWIyRTFRb1VUVTE2dUEvZWRpdCNnaWQ9NzgzNzI0NTkzXG5cblx0Ly8gU2FmYXJpIDYgYW5kIDYuMSBmb3IgZGVza3RvcCwgaVBhZCwgYW5kIGlQaG9uZSBhcmUgdGhlIG9ubHkgYnJvd3NlcnMgdGhhdFxuXHQvLyBoYXZlIFdlYktpdE11dGF0aW9uT2JzZXJ2ZXIgYnV0IG5vdCB1bi1wcmVmaXhlZCBNdXRhdGlvbk9ic2VydmVyLlxuXHQvLyBNdXN0IHVzZSBgZ2xvYmFsYCBpbnN0ZWFkIG9mIGB3aW5kb3dgIHRvIHdvcmsgaW4gYm90aCBmcmFtZXMgYW5kIHdlYlxuXHQvLyB3b3JrZXJzLiBgZ2xvYmFsYCBpcyBhIHByb3Zpc2lvbiBvZiBCcm93c2VyaWZ5LCBNciwgTXJzLCBvciBNb3AuXG5cdHZhciBCcm93c2VyTXV0YXRpb25PYnNlcnZlciA9IGdsb2JhbC5NdXRhdGlvbk9ic2VydmVyIHx8IGdsb2JhbC5XZWJLaXRNdXRhdGlvbk9ic2VydmVyO1xuXG5cdC8vIE11dGF0aW9uT2JzZXJ2ZXJzIGFyZSBkZXNpcmFibGUgYmVjYXVzZSB0aGV5IGhhdmUgaGlnaCBwcmlvcml0eSBhbmQgd29ya1xuXHQvLyByZWxpYWJseSBldmVyeXdoZXJlIHRoZXkgYXJlIGltcGxlbWVudGVkLlxuXHQvLyBUaGV5IGFyZSBpbXBsZW1lbnRlZCBpbiBhbGwgbW9kZXJuIGJyb3dzZXJzLlxuXHQvL1xuXHQvLyAtIEFuZHJvaWQgNC00LjNcblx0Ly8gLSBDaHJvbWUgMjYtMzRcblx0Ly8gLSBGaXJlZm94IDE0LTI5XG5cdC8vIC0gSW50ZXJuZXQgRXhwbG9yZXIgMTFcblx0Ly8gLSBpUGFkIFNhZmFyaSA2LTcuMVxuXHQvLyAtIGlQaG9uZSBTYWZhcmkgNy03LjFcblx0Ly8gLSBTYWZhcmkgNi03XG5cdGlmICh0eXBlb2YgQnJvd3Nlck11dGF0aW9uT2JzZXJ2ZXIgPT09IFwiZnVuY3Rpb25cIikge1xuXHQgICAgcmVxdWVzdEZsdXNoID0gbWFrZVJlcXVlc3RDYWxsRnJvbU11dGF0aW9uT2JzZXJ2ZXIoZmx1c2gpO1xuXG5cdC8vIE1lc3NhZ2VDaGFubmVscyBhcmUgZGVzaXJhYmxlIGJlY2F1c2UgdGhleSBnaXZlIGRpcmVjdCBhY2Nlc3MgdG8gdGhlIEhUTUxcblx0Ly8gdGFzayBxdWV1ZSwgYXJlIGltcGxlbWVudGVkIGluIEludGVybmV0IEV4cGxvcmVyIDEwLCBTYWZhcmkgNS4wLTEsIGFuZCBPcGVyYVxuXHQvLyAxMS0xMiwgYW5kIGluIHdlYiB3b3JrZXJzIGluIG1hbnkgZW5naW5lcy5cblx0Ly8gQWx0aG91Z2ggbWVzc2FnZSBjaGFubmVscyB5aWVsZCB0byBhbnkgcXVldWVkIHJlbmRlcmluZyBhbmQgSU8gdGFza3MsIHRoZXlcblx0Ly8gd291bGQgYmUgYmV0dGVyIHRoYW4gaW1wb3NpbmcgdGhlIDRtcyBkZWxheSBvZiB0aW1lcnMuXG5cdC8vIEhvd2V2ZXIsIHRoZXkgZG8gbm90IHdvcmsgcmVsaWFibHkgaW4gSW50ZXJuZXQgRXhwbG9yZXIgb3IgU2FmYXJpLlxuXG5cdC8vIEludGVybmV0IEV4cGxvcmVyIDEwIGlzIHRoZSBvbmx5IGJyb3dzZXIgdGhhdCBoYXMgc2V0SW1tZWRpYXRlIGJ1dCBkb2VzXG5cdC8vIG5vdCBoYXZlIE11dGF0aW9uT2JzZXJ2ZXJzLlxuXHQvLyBBbHRob3VnaCBzZXRJbW1lZGlhdGUgeWllbGRzIHRvIHRoZSBicm93c2VyJ3MgcmVuZGVyZXIsIGl0IHdvdWxkIGJlXG5cdC8vIHByZWZlcnJhYmxlIHRvIGZhbGxpbmcgYmFjayB0byBzZXRUaW1lb3V0IHNpbmNlIGl0IGRvZXMgbm90IGhhdmVcblx0Ly8gdGhlIG1pbmltdW0gNG1zIHBlbmFsdHkuXG5cdC8vIFVuZm9ydHVuYXRlbHkgdGhlcmUgYXBwZWFycyB0byBiZSBhIGJ1ZyBpbiBJbnRlcm5ldCBFeHBsb3JlciAxMCBNb2JpbGUgKGFuZFxuXHQvLyBEZXNrdG9wIHRvIGEgbGVzc2VyIGV4dGVudCkgdGhhdCByZW5kZXJzIGJvdGggc2V0SW1tZWRpYXRlIGFuZFxuXHQvLyBNZXNzYWdlQ2hhbm5lbCB1c2VsZXNzIGZvciB0aGUgcHVycG9zZXMgb2YgQVNBUC5cblx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL2tyaXNrb3dhbC9xL2lzc3Vlcy8zOTZcblxuXHQvLyBUaW1lcnMgYXJlIGltcGxlbWVudGVkIHVuaXZlcnNhbGx5LlxuXHQvLyBXZSBmYWxsIGJhY2sgdG8gdGltZXJzIGluIHdvcmtlcnMgaW4gbW9zdCBlbmdpbmVzLCBhbmQgaW4gZm9yZWdyb3VuZFxuXHQvLyBjb250ZXh0cyBpbiB0aGUgZm9sbG93aW5nIGJyb3dzZXJzLlxuXHQvLyBIb3dldmVyLCBub3RlIHRoYXQgZXZlbiB0aGlzIHNpbXBsZSBjYXNlIHJlcXVpcmVzIG51YW5jZXMgdG8gb3BlcmF0ZSBpbiBhXG5cdC8vIGJyb2FkIHNwZWN0cnVtIG9mIGJyb3dzZXJzLlxuXHQvL1xuXHQvLyAtIEZpcmVmb3ggMy0xM1xuXHQvLyAtIEludGVybmV0IEV4cGxvcmVyIDYtOVxuXHQvLyAtIGlQYWQgU2FmYXJpIDQuM1xuXHQvLyAtIEx5bnggMi44Ljdcblx0fSBlbHNlIHtcblx0ICAgIHJlcXVlc3RGbHVzaCA9IG1ha2VSZXF1ZXN0Q2FsbEZyb21UaW1lcihmbHVzaCk7XG5cdH1cblxuXHQvLyBgcmVxdWVzdEZsdXNoYCByZXF1ZXN0cyB0aGF0IHRoZSBoaWdoIHByaW9yaXR5IGV2ZW50IHF1ZXVlIGJlIGZsdXNoZWQgYXNcblx0Ly8gc29vbiBhcyBwb3NzaWJsZS5cblx0Ly8gVGhpcyBpcyB1c2VmdWwgdG8gcHJldmVudCBhbiBlcnJvciB0aHJvd24gaW4gYSB0YXNrIGZyb20gc3RhbGxpbmcgdGhlIGV2ZW50XG5cdC8vIHF1ZXVlIGlmIHRoZSBleGNlcHRpb24gaGFuZGxlZCBieSBOb2RlLmpz4oCZc1xuXHQvLyBgcHJvY2Vzcy5vbihcInVuY2F1Z2h0RXhjZXB0aW9uXCIpYCBvciBieSBhIGRvbWFpbi5cblx0cmF3QXNhcC5yZXF1ZXN0Rmx1c2ggPSByZXF1ZXN0Rmx1c2g7XG5cblx0Ly8gVG8gcmVxdWVzdCBhIGhpZ2ggcHJpb3JpdHkgZXZlbnQsIHdlIGluZHVjZSBhIG11dGF0aW9uIG9ic2VydmVyIGJ5IHRvZ2dsaW5nXG5cdC8vIHRoZSB0ZXh0IG9mIGEgdGV4dCBub2RlIGJldHdlZW4gXCIxXCIgYW5kIFwiLTFcIi5cblx0ZnVuY3Rpb24gbWFrZVJlcXVlc3RDYWxsRnJvbU11dGF0aW9uT2JzZXJ2ZXIoY2FsbGJhY2spIHtcblx0ICAgIHZhciB0b2dnbGUgPSAxO1xuXHQgICAgdmFyIG9ic2VydmVyID0gbmV3IEJyb3dzZXJNdXRhdGlvbk9ic2VydmVyKGNhbGxiYWNrKTtcblx0ICAgIHZhciBub2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJcIik7XG5cdCAgICBvYnNlcnZlci5vYnNlcnZlKG5vZGUsIHtjaGFyYWN0ZXJEYXRhOiB0cnVlfSk7XG5cdCAgICByZXR1cm4gZnVuY3Rpb24gcmVxdWVzdENhbGwoKSB7XG5cdCAgICAgICAgdG9nZ2xlID0gLXRvZ2dsZTtcblx0ICAgICAgICBub2RlLmRhdGEgPSB0b2dnbGU7XG5cdCAgICB9O1xuXHR9XG5cblx0Ly8gVGhlIG1lc3NhZ2UgY2hhbm5lbCB0ZWNobmlxdWUgd2FzIGRpc2NvdmVyZWQgYnkgTWFsdGUgVWJsIGFuZCB3YXMgdGhlXG5cdC8vIG9yaWdpbmFsIGZvdW5kYXRpb24gZm9yIHRoaXMgbGlicmFyeS5cblx0Ly8gaHR0cDovL3d3dy5ub25ibG9ja2luZy5pby8yMDExLzA2L3dpbmRvd25leHR0aWNrLmh0bWxcblxuXHQvLyBTYWZhcmkgNi4wLjUgKGF0IGxlYXN0KSBpbnRlcm1pdHRlbnRseSBmYWlscyB0byBjcmVhdGUgbWVzc2FnZSBwb3J0cyBvbiBhXG5cdC8vIHBhZ2UncyBmaXJzdCBsb2FkLiBUaGFua2Z1bGx5LCB0aGlzIHZlcnNpb24gb2YgU2FmYXJpIHN1cHBvcnRzXG5cdC8vIE11dGF0aW9uT2JzZXJ2ZXJzLCBzbyB3ZSBkb24ndCBuZWVkIHRvIGZhbGwgYmFjayBpbiB0aGF0IGNhc2UuXG5cblx0Ly8gZnVuY3Rpb24gbWFrZVJlcXVlc3RDYWxsRnJvbU1lc3NhZ2VDaGFubmVsKGNhbGxiYWNrKSB7XG5cdC8vICAgICB2YXIgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuXHQvLyAgICAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBjYWxsYmFjaztcblx0Ly8gICAgIHJldHVybiBmdW5jdGlvbiByZXF1ZXN0Q2FsbCgpIHtcblx0Ly8gICAgICAgICBjaGFubmVsLnBvcnQyLnBvc3RNZXNzYWdlKDApO1xuXHQvLyAgICAgfTtcblx0Ly8gfVxuXG5cdC8vIEZvciByZWFzb25zIGV4cGxhaW5lZCBhYm92ZSwgd2UgYXJlIGFsc28gdW5hYmxlIHRvIHVzZSBgc2V0SW1tZWRpYXRlYFxuXHQvLyB1bmRlciBhbnkgY2lyY3Vtc3RhbmNlcy5cblx0Ly8gRXZlbiBpZiB3ZSB3ZXJlLCB0aGVyZSBpcyBhbm90aGVyIGJ1ZyBpbiBJbnRlcm5ldCBFeHBsb3JlciAxMC5cblx0Ly8gSXQgaXMgbm90IHN1ZmZpY2llbnQgdG8gYXNzaWduIGBzZXRJbW1lZGlhdGVgIHRvIGByZXF1ZXN0Rmx1c2hgIGJlY2F1c2Vcblx0Ly8gYHNldEltbWVkaWF0ZWAgbXVzdCBiZSBjYWxsZWQgKmJ5IG5hbWUqIGFuZCB0aGVyZWZvcmUgbXVzdCBiZSB3cmFwcGVkIGluIGFcblx0Ly8gY2xvc3VyZS5cblx0Ly8gTmV2ZXIgZm9yZ2V0LlxuXG5cdC8vIGZ1bmN0aW9uIG1ha2VSZXF1ZXN0Q2FsbEZyb21TZXRJbW1lZGlhdGUoY2FsbGJhY2spIHtcblx0Ly8gICAgIHJldHVybiBmdW5jdGlvbiByZXF1ZXN0Q2FsbCgpIHtcblx0Ly8gICAgICAgICBzZXRJbW1lZGlhdGUoY2FsbGJhY2spO1xuXHQvLyAgICAgfTtcblx0Ly8gfVxuXG5cdC8vIFNhZmFyaSA2LjAgaGFzIGEgcHJvYmxlbSB3aGVyZSB0aW1lcnMgd2lsbCBnZXQgbG9zdCB3aGlsZSB0aGUgdXNlciBpc1xuXHQvLyBzY3JvbGxpbmcuIFRoaXMgcHJvYmxlbSBkb2VzIG5vdCBpbXBhY3QgQVNBUCBiZWNhdXNlIFNhZmFyaSA2LjAgc3VwcG9ydHNcblx0Ly8gbXV0YXRpb24gb2JzZXJ2ZXJzLCBzbyB0aGF0IGltcGxlbWVudGF0aW9uIGlzIHVzZWQgaW5zdGVhZC5cblx0Ly8gSG93ZXZlciwgaWYgd2UgZXZlciBlbGVjdCB0byB1c2UgdGltZXJzIGluIFNhZmFyaSwgdGhlIHByZXZhbGVudCB3b3JrLWFyb3VuZFxuXHQvLyBpcyB0byBhZGQgYSBzY3JvbGwgZXZlbnQgbGlzdGVuZXIgdGhhdCBjYWxscyBmb3IgYSBmbHVzaC5cblxuXHQvLyBgc2V0VGltZW91dGAgZG9lcyBub3QgY2FsbCB0aGUgcGFzc2VkIGNhbGxiYWNrIGlmIHRoZSBkZWxheSBpcyBsZXNzIHRoYW5cblx0Ly8gYXBwcm94aW1hdGVseSA3IGluIHdlYiB3b3JrZXJzIGluIEZpcmVmb3ggOCB0aHJvdWdoIDE4LCBhbmQgc29tZXRpbWVzIG5vdFxuXHQvLyBldmVuIHRoZW4uXG5cblx0ZnVuY3Rpb24gbWFrZVJlcXVlc3RDYWxsRnJvbVRpbWVyKGNhbGxiYWNrKSB7XG5cdCAgICByZXR1cm4gZnVuY3Rpb24gcmVxdWVzdENhbGwoKSB7XG5cdCAgICAgICAgLy8gV2UgZGlzcGF0Y2ggYSB0aW1lb3V0IHdpdGggYSBzcGVjaWZpZWQgZGVsYXkgb2YgMCBmb3IgZW5naW5lcyB0aGF0XG5cdCAgICAgICAgLy8gY2FuIHJlbGlhYmx5IGFjY29tbW9kYXRlIHRoYXQgcmVxdWVzdC4gVGhpcyB3aWxsIHVzdWFsbHkgYmUgc25hcHBlZFxuXHQgICAgICAgIC8vIHRvIGEgNCBtaWxpc2Vjb25kIGRlbGF5LCBidXQgb25jZSB3ZSdyZSBmbHVzaGluZywgdGhlcmUncyBubyBkZWxheVxuXHQgICAgICAgIC8vIGJldHdlZW4gZXZlbnRzLlxuXHQgICAgICAgIHZhciB0aW1lb3V0SGFuZGxlID0gc2V0VGltZW91dChoYW5kbGVUaW1lciwgMCk7XG5cdCAgICAgICAgLy8gSG93ZXZlciwgc2luY2UgdGhpcyB0aW1lciBnZXRzIGZyZXF1ZW50bHkgZHJvcHBlZCBpbiBGaXJlZm94XG5cdCAgICAgICAgLy8gd29ya2Vycywgd2UgZW5saXN0IGFuIGludGVydmFsIGhhbmRsZSB0aGF0IHdpbGwgdHJ5IHRvIGZpcmVcblx0ICAgICAgICAvLyBhbiBldmVudCAyMCB0aW1lcyBwZXIgc2Vjb25kIHVudGlsIGl0IHN1Y2NlZWRzLlxuXHQgICAgICAgIHZhciBpbnRlcnZhbEhhbmRsZSA9IHNldEludGVydmFsKGhhbmRsZVRpbWVyLCA1MCk7XG5cblx0ICAgICAgICBmdW5jdGlvbiBoYW5kbGVUaW1lcigpIHtcblx0ICAgICAgICAgICAgLy8gV2hpY2hldmVyIHRpbWVyIHN1Y2NlZWRzIHdpbGwgY2FuY2VsIGJvdGggdGltZXJzIGFuZFxuXHQgICAgICAgICAgICAvLyBleGVjdXRlIHRoZSBjYWxsYmFjay5cblx0ICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRIYW5kbGUpO1xuXHQgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsSGFuZGxlKTtcblx0ICAgICAgICAgICAgY2FsbGJhY2soKTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHR9XG5cblx0Ly8gVGhpcyBpcyBmb3IgYGFzYXAuanNgIG9ubHkuXG5cdC8vIEl0cyBuYW1lIHdpbGwgYmUgcGVyaW9kaWNhbGx5IHJhbmRvbWl6ZWQgdG8gYnJlYWsgYW55IGNvZGUgdGhhdCBkZXBlbmRzIG9uXG5cdC8vIGl0cyBleGlzdGVuY2UuXG5cdHJhd0FzYXAubWFrZVJlcXVlc3RDYWxsRnJvbVRpbWVyID0gbWFrZVJlcXVlc3RDYWxsRnJvbVRpbWVyO1xuXG5cdC8vIEFTQVAgd2FzIG9yaWdpbmFsbHkgYSBuZXh0VGljayBzaGltIGluY2x1ZGVkIGluIFEuIFRoaXMgd2FzIGZhY3RvcmVkIG91dFxuXHQvLyBpbnRvIHRoaXMgQVNBUCBwYWNrYWdlLiBJdCB3YXMgbGF0ZXIgYWRhcHRlZCB0byBSU1ZQIHdoaWNoIG1hZGUgZnVydGhlclxuXHQvLyBhbWVuZG1lbnRzLiBUaGVzZSBkZWNpc2lvbnMsIHBhcnRpY3VsYXJseSB0byBtYXJnaW5hbGl6ZSBNZXNzYWdlQ2hhbm5lbCBhbmRcblx0Ly8gdG8gY2FwdHVyZSB0aGUgTXV0YXRpb25PYnNlcnZlciBpbXBsZW1lbnRhdGlvbiBpbiBhIGNsb3N1cmUsIHdlcmUgaW50ZWdyYXRlZFxuXHQvLyBiYWNrIGludG8gQVNBUCBwcm9wZXIuXG5cdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS90aWxkZWlvL3JzdnAuanMvYmxvYi9jZGRmNzIzMjU0NmE5Y2Y4NTg1MjRiNzVjZGU2ZjllZGY3MjYyMGE3L2xpYi9yc3ZwL2FzYXAuanNcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgKGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSgpKSkpXG5cbi8qKiovIH0sXG4vKiA2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0Ly8gQSBzaW1wbGUgY2xhc3Mgc3lzdGVtLCBtb3JlIGRvY3VtZW50YXRpb24gdG8gY29tZVxuXG5cdGZ1bmN0aW9uIGV4dGVuZChjbHMsIG5hbWUsIHByb3BzKSB7XG5cdCAgICAvLyBUaGlzIGRvZXMgdGhhdCBzYW1lIHRoaW5nIGFzIE9iamVjdC5jcmVhdGUsIGJ1dCB3aXRoIHN1cHBvcnQgZm9yIElFOFxuXHQgICAgdmFyIEYgPSBmdW5jdGlvbigpIHt9O1xuXHQgICAgRi5wcm90b3R5cGUgPSBjbHMucHJvdG90eXBlO1xuXHQgICAgdmFyIHByb3RvdHlwZSA9IG5ldyBGKCk7XG5cblx0ICAgIC8vIGpzaGludCB1bmRlZjogZmFsc2Vcblx0ICAgIHZhciBmblRlc3QgPSAveHl6Ly50ZXN0KGZ1bmN0aW9uKCl7IHh5ejsgfSkgPyAvXFxicGFyZW50XFxiLyA6IC8uKi87XG5cdCAgICBwcm9wcyA9IHByb3BzIHx8IHt9O1xuXG5cdCAgICBmb3IodmFyIGsgaW4gcHJvcHMpIHtcblx0ICAgICAgICB2YXIgc3JjID0gcHJvcHNba107XG5cdCAgICAgICAgdmFyIHBhcmVudCA9IHByb3RvdHlwZVtrXTtcblxuXHQgICAgICAgIGlmKHR5cGVvZiBwYXJlbnQgPT09ICdmdW5jdGlvbicgJiZcblx0ICAgICAgICAgICB0eXBlb2Ygc3JjID09PSAnZnVuY3Rpb24nICYmXG5cdCAgICAgICAgICAgZm5UZXN0LnRlc3Qoc3JjKSkge1xuXHQgICAgICAgICAgICAvKmpzaGludCAtVzA4MyAqL1xuXHQgICAgICAgICAgICBwcm90b3R5cGVba10gPSAoZnVuY3Rpb24gKHNyYywgcGFyZW50KSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gU2F2ZSB0aGUgY3VycmVudCBwYXJlbnQgbWV0aG9kXG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIHRtcCA9IHRoaXMucGFyZW50O1xuXG5cdCAgICAgICAgICAgICAgICAgICAgLy8gU2V0IHBhcmVudCB0byB0aGUgcHJldmlvdXMgbWV0aG9kLCBjYWxsLCBhbmQgcmVzdG9yZVxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciByZXMgPSBzcmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IHRtcDtcblxuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG5cdCAgICAgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICB9KShzcmMsIHBhcmVudCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICBwcm90b3R5cGVba10gPSBzcmM7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXG5cdCAgICBwcm90b3R5cGUudHlwZW5hbWUgPSBuYW1lO1xuXG5cdCAgICB2YXIgbmV3X2NscyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIGlmKHByb3RvdHlwZS5pbml0KSB7XG5cdCAgICAgICAgICAgIHByb3RvdHlwZS5pbml0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblxuXHQgICAgbmV3X2Nscy5wcm90b3R5cGUgPSBwcm90b3R5cGU7XG5cdCAgICBuZXdfY2xzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IG5ld19jbHM7XG5cblx0ICAgIG5ld19jbHMuZXh0ZW5kID0gZnVuY3Rpb24obmFtZSwgcHJvcHMpIHtcblx0ICAgICAgICBpZih0eXBlb2YgbmFtZSA9PT0gJ29iamVjdCcpIHtcblx0ICAgICAgICAgICAgcHJvcHMgPSBuYW1lO1xuXHQgICAgICAgICAgICBuYW1lID0gJ2Fub255bW91cyc7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBleHRlbmQobmV3X2NscywgbmFtZSwgcHJvcHMpO1xuXHQgICAgfTtcblxuXHQgICAgcmV0dXJuIG5ld19jbHM7XG5cdH1cblxuXHRtb2R1bGUuZXhwb3J0cyA9IGV4dGVuZChPYmplY3QsICdPYmplY3QnLCB7fSk7XG5cblxuLyoqKi8gfSxcbi8qIDcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgbGliID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0dmFyIHIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG5cdGZ1bmN0aW9uIG5vcm1hbGl6ZSh2YWx1ZSwgZGVmYXVsdFZhbHVlKSB7XG5cdCAgICBpZih2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSBmYWxzZSkge1xuXHQgICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdmFsdWU7XG5cdH1cblxuXHR2YXIgZmlsdGVycyA9IHtcblx0ICAgIGFiczogZnVuY3Rpb24obikge1xuXHQgICAgICAgIHJldHVybiBNYXRoLmFicyhuKTtcblx0ICAgIH0sXG5cblx0ICAgIGJhdGNoOiBmdW5jdGlvbihhcnIsIGxpbmVjb3VudCwgZmlsbF93aXRoKSB7XG5cdCAgICAgICAgdmFyIGk7XG5cdCAgICAgICAgdmFyIHJlcyA9IFtdO1xuXHQgICAgICAgIHZhciB0bXAgPSBbXTtcblxuXHQgICAgICAgIGZvcihpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICBpZihpICUgbGluZWNvdW50ID09PSAwICYmIHRtcC5sZW5ndGgpIHtcblx0ICAgICAgICAgICAgICAgIHJlcy5wdXNoKHRtcCk7XG5cdCAgICAgICAgICAgICAgICB0bXAgPSBbXTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIHRtcC5wdXNoKGFycltpXSk7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgaWYodG1wLmxlbmd0aCkge1xuXHQgICAgICAgICAgICBpZihmaWxsX3dpdGgpIHtcblx0ICAgICAgICAgICAgICAgIGZvcihpID0gdG1wLmxlbmd0aDsgaSA8IGxpbmVjb3VudDsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdG1wLnB1c2goZmlsbF93aXRoKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIHJlcy5wdXNoKHRtcCk7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgcmV0dXJuIHJlcztcblx0ICAgIH0sXG5cblx0ICAgIGNhcGl0YWxpemU6IGZ1bmN0aW9uKHN0cikge1xuXHQgICAgICAgIHN0ciA9IG5vcm1hbGl6ZShzdHIsICcnKTtcblx0ICAgICAgICB2YXIgcmV0ID0gc3RyLnRvTG93ZXJDYXNlKCk7XG5cdCAgICAgICAgcmV0dXJuIHIuY29weVNhZmVuZXNzKHN0ciwgcmV0LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcmV0LnNsaWNlKDEpKTtcblx0ICAgIH0sXG5cblx0ICAgIGNlbnRlcjogZnVuY3Rpb24oc3RyLCB3aWR0aCkge1xuXHQgICAgICAgIHN0ciA9IG5vcm1hbGl6ZShzdHIsICcnKTtcblx0ICAgICAgICB3aWR0aCA9IHdpZHRoIHx8IDgwO1xuXG5cdCAgICAgICAgaWYoc3RyLmxlbmd0aCA+PSB3aWR0aCkge1xuXHQgICAgICAgICAgICByZXR1cm4gc3RyO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHZhciBzcGFjZXMgPSB3aWR0aCAtIHN0ci5sZW5ndGg7XG5cdCAgICAgICAgdmFyIHByZSA9IGxpYi5yZXBlYXQoJyAnLCBzcGFjZXMvMiAtIHNwYWNlcyAlIDIpO1xuXHQgICAgICAgIHZhciBwb3N0ID0gbGliLnJlcGVhdCgnICcsIHNwYWNlcy8yKTtcblx0ICAgICAgICByZXR1cm4gci5jb3B5U2FmZW5lc3Moc3RyLCBwcmUgKyBzdHIgKyBwb3N0KTtcblx0ICAgIH0sXG5cblx0ICAgICdkZWZhdWx0JzogZnVuY3Rpb24odmFsLCBkZWYsIGJvb2wpIHtcblx0ICAgICAgICBpZihib29sKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB2YWwgPyB2YWwgOiBkZWY7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICByZXR1cm4gKHZhbCAhPT0gdW5kZWZpbmVkKSA/IHZhbCA6IGRlZjtcblx0ICAgICAgICB9XG5cdCAgICB9LFxuXG5cdCAgICBkaWN0c29ydDogZnVuY3Rpb24odmFsLCBjYXNlX3NlbnNpdGl2ZSwgYnkpIHtcblx0ICAgICAgICBpZiAoIWxpYi5pc09iamVjdCh2YWwpKSB7XG5cdCAgICAgICAgICAgIHRocm93IG5ldyBsaWIuVGVtcGxhdGVFcnJvcignZGljdHNvcnQgZmlsdGVyOiB2YWwgbXVzdCBiZSBhbiBvYmplY3QnKTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICB2YXIgYXJyYXkgPSBbXTtcblx0ICAgICAgICBmb3IgKHZhciBrIGluIHZhbCkge1xuXHQgICAgICAgICAgICAvLyBkZWxpYmVyYXRlbHkgaW5jbHVkZSBwcm9wZXJ0aWVzIGZyb20gdGhlIG9iamVjdCdzIHByb3RvdHlwZVxuXHQgICAgICAgICAgICBhcnJheS5wdXNoKFtrLHZhbFtrXV0pO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHZhciBzaTtcblx0ICAgICAgICBpZiAoYnkgPT09IHVuZGVmaW5lZCB8fCBieSA9PT0gJ2tleScpIHtcblx0ICAgICAgICAgICAgc2kgPSAwO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoYnkgPT09ICd2YWx1ZScpIHtcblx0ICAgICAgICAgICAgc2kgPSAxO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHRocm93IG5ldyBsaWIuVGVtcGxhdGVFcnJvcihcblx0ICAgICAgICAgICAgICAgICdkaWN0c29ydCBmaWx0ZXI6IFlvdSBjYW4gb25seSBzb3J0IGJ5IGVpdGhlciBrZXkgb3IgdmFsdWUnKTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICBhcnJheS5zb3J0KGZ1bmN0aW9uKHQxLCB0Mikge1xuXHQgICAgICAgICAgICB2YXIgYSA9IHQxW3NpXTtcblx0ICAgICAgICAgICAgdmFyIGIgPSB0MltzaV07XG5cblx0ICAgICAgICAgICAgaWYgKCFjYXNlX3NlbnNpdGl2ZSkge1xuXHQgICAgICAgICAgICAgICAgaWYgKGxpYi5pc1N0cmluZyhhKSkge1xuXHQgICAgICAgICAgICAgICAgICAgIGEgPSBhLnRvVXBwZXJDYXNlKCk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICBpZiAobGliLmlzU3RyaW5nKGIpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgYiA9IGIudG9VcHBlckNhc2UoKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIHJldHVybiBhID4gYiA/IDEgOiAoYSA9PT0gYiA/IDAgOiAtMSk7XG5cdCAgICAgICAgfSk7XG5cblx0ICAgICAgICByZXR1cm4gYXJyYXk7XG5cdCAgICB9LFxuXG5cdCAgICBkdW1wOiBmdW5jdGlvbihvYmopIHtcblx0ICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkob2JqKTtcblx0ICAgIH0sXG5cblx0ICAgIGVzY2FwZTogZnVuY3Rpb24oc3RyKSB7XG5cdCAgICAgICAgaWYoc3RyIGluc3RhbmNlb2Ygci5TYWZlU3RyaW5nKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBzdHI7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHN0ciA9IChzdHIgPT09IG51bGwgfHwgc3RyID09PSB1bmRlZmluZWQpID8gJycgOiBzdHI7XG5cdCAgICAgICAgcmV0dXJuIHIubWFya1NhZmUobGliLmVzY2FwZShzdHIudG9TdHJpbmcoKSkpO1xuXHQgICAgfSxcblxuXHQgICAgc2FmZTogZnVuY3Rpb24oc3RyKSB7XG5cdCAgICAgICAgaWYgKHN0ciBpbnN0YW5jZW9mIHIuU2FmZVN0cmluZykge1xuXHQgICAgICAgICAgICByZXR1cm4gc3RyO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBzdHIgPSAoc3RyID09PSBudWxsIHx8IHN0ciA9PT0gdW5kZWZpbmVkKSA/ICcnIDogc3RyO1xuXHQgICAgICAgIHJldHVybiByLm1hcmtTYWZlKHN0ci50b1N0cmluZygpKTtcblx0ICAgIH0sXG5cblx0ICAgIGZpcnN0OiBmdW5jdGlvbihhcnIpIHtcblx0ICAgICAgICByZXR1cm4gYXJyWzBdO1xuXHQgICAgfSxcblxuXHQgICAgZ3JvdXBieTogZnVuY3Rpb24oYXJyLCBhdHRyKSB7XG5cdCAgICAgICAgcmV0dXJuIGxpYi5ncm91cEJ5KGFyciwgYXR0cik7XG5cdCAgICB9LFxuXG5cdCAgICBpbmRlbnQ6IGZ1bmN0aW9uKHN0ciwgd2lkdGgsIGluZGVudGZpcnN0KSB7XG5cdCAgICAgICAgc3RyID0gbm9ybWFsaXplKHN0ciwgJycpO1xuXG5cdCAgICAgICAgaWYgKHN0ciA9PT0gJycpIHJldHVybiAnJztcblxuXHQgICAgICAgIHdpZHRoID0gd2lkdGggfHwgNDtcblx0ICAgICAgICB2YXIgcmVzID0gJyc7XG5cdCAgICAgICAgdmFyIGxpbmVzID0gc3RyLnNwbGl0KCdcXG4nKTtcblx0ICAgICAgICB2YXIgc3AgPSBsaWIucmVwZWF0KCcgJywgd2lkdGgpO1xuXG5cdCAgICAgICAgZm9yKHZhciBpPTA7IGk8bGluZXMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgaWYoaSA9PT0gMCAmJiAhaW5kZW50Zmlyc3QpIHtcblx0ICAgICAgICAgICAgICAgIHJlcyArPSBsaW5lc1tpXSArICdcXG4nO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgcmVzICs9IHNwICsgbGluZXNbaV0gKyAnXFxuJztcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHJldHVybiByLmNvcHlTYWZlbmVzcyhzdHIsIHJlcyk7XG5cdCAgICB9LFxuXG5cdCAgICBqb2luOiBmdW5jdGlvbihhcnIsIGRlbCwgYXR0cikge1xuXHQgICAgICAgIGRlbCA9IGRlbCB8fCAnJztcblxuXHQgICAgICAgIGlmKGF0dHIpIHtcblx0ICAgICAgICAgICAgYXJyID0gbGliLm1hcChhcnIsIGZ1bmN0aW9uKHYpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB2W2F0dHJdO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICByZXR1cm4gYXJyLmpvaW4oZGVsKTtcblx0ICAgIH0sXG5cblx0ICAgIGxhc3Q6IGZ1bmN0aW9uKGFycikge1xuXHQgICAgICAgIHJldHVybiBhcnJbYXJyLmxlbmd0aC0xXTtcblx0ICAgIH0sXG5cblx0ICAgIGxlbmd0aDogZnVuY3Rpb24odmFsKSB7XG5cdCAgICAgICAgdmFyIHZhbHVlID0gbm9ybWFsaXplKHZhbCwgJycpO1xuXG5cdCAgICAgICAgaWYodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICBpZihcblx0ICAgICAgICAgICAgICAgICh0eXBlb2YgTWFwID09PSAnZnVuY3Rpb24nICYmIHZhbHVlIGluc3RhbmNlb2YgTWFwKSB8fFxuXHQgICAgICAgICAgICAgICAgKHR5cGVvZiBTZXQgPT09ICdmdW5jdGlvbicgJiYgdmFsdWUgaW5zdGFuY2VvZiBTZXQpXG5cdCAgICAgICAgICAgICkge1xuXHQgICAgICAgICAgICAgICAgLy8gRUNNQVNjcmlwdCAyMDE1IE1hcHMgYW5kIFNldHNcblx0ICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZS5zaXplO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlmKGxpYi5pc09iamVjdCh2YWx1ZSkgJiYgISh2YWx1ZSBpbnN0YW5jZW9mIHIuU2FmZVN0cmluZykpIHtcblx0ICAgICAgICAgICAgICAgIC8vIE9iamVjdHMgKGJlc2lkZXMgU2FmZVN0cmluZ3MpLCBub24tcHJpbWF0aXZlIEFycmF5c1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHZhbHVlKS5sZW5ndGg7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcmV0dXJuIHZhbHVlLmxlbmd0aDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIDA7XG5cdCAgICB9LFxuXG5cdCAgICBsaXN0OiBmdW5jdGlvbih2YWwpIHtcblx0ICAgICAgICBpZihsaWIuaXNTdHJpbmcodmFsKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gdmFsLnNwbGl0KCcnKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgZWxzZSBpZihsaWIuaXNPYmplY3QodmFsKSkge1xuXHQgICAgICAgICAgICB2YXIga2V5cyA9IFtdO1xuXG5cdCAgICAgICAgICAgIGlmKE9iamVjdC5rZXlzKSB7XG5cdCAgICAgICAgICAgICAgICBrZXlzID0gT2JqZWN0LmtleXModmFsKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIGZvcih2YXIgayBpbiB2YWwpIHtcblx0ICAgICAgICAgICAgICAgICAgICBrZXlzLnB1c2goayk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICByZXR1cm4gbGliLm1hcChrZXlzLCBmdW5jdGlvbihrKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4geyBrZXk6IGssXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsW2tdIH07XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBlbHNlIGlmKGxpYi5pc0FycmF5KHZhbCkpIHtcblx0ICAgICAgICAgIHJldHVybiB2YWw7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICB0aHJvdyBuZXcgbGliLlRlbXBsYXRlRXJyb3IoJ2xpc3QgZmlsdGVyOiB0eXBlIG5vdCBpdGVyYWJsZScpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sXG5cblx0ICAgIGxvd2VyOiBmdW5jdGlvbihzdHIpIHtcblx0ICAgICAgICBzdHIgPSBub3JtYWxpemUoc3RyLCAnJyk7XG5cdCAgICAgICAgcmV0dXJuIHN0ci50b0xvd2VyQ2FzZSgpO1xuXHQgICAgfSxcblxuXHQgICAgcmFuZG9tOiBmdW5jdGlvbihhcnIpIHtcblx0ICAgICAgICByZXR1cm4gYXJyW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGFyci5sZW5ndGgpXTtcblx0ICAgIH0sXG5cblx0ICAgIHJlamVjdGF0dHI6IGZ1bmN0aW9uKGFyciwgYXR0cikge1xuXHQgICAgICByZXR1cm4gYXJyLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgICAgIHJldHVybiAhaXRlbVthdHRyXTtcblx0ICAgICAgfSk7XG5cdCAgICB9LFxuXG5cdCAgICBzZWxlY3RhdHRyOiBmdW5jdGlvbihhcnIsIGF0dHIpIHtcblx0ICAgICAgcmV0dXJuIGFyci5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgICAgICByZXR1cm4gISFpdGVtW2F0dHJdO1xuXHQgICAgICB9KTtcblx0ICAgIH0sXG5cblx0ICAgIHJlcGxhY2U6IGZ1bmN0aW9uKHN0ciwgb2xkLCBuZXdfLCBtYXhDb3VudCkge1xuXHQgICAgICAgIHZhciBvcmlnaW5hbFN0ciA9IHN0cjtcblxuXHQgICAgICAgIGlmIChvbGQgaW5zdGFuY2VvZiBSZWdFeHApIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKG9sZCwgbmV3Xyk7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgaWYodHlwZW9mIG1heENvdW50ID09PSAndW5kZWZpbmVkJyl7XG5cdCAgICAgICAgICAgIG1heENvdW50ID0gLTE7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgdmFyIHJlcyA9ICcnOyAgLy8gT3V0cHV0XG5cblx0ICAgICAgICAvLyBDYXN0IE51bWJlcnMgaW4gdGhlIHNlYXJjaCB0ZXJtIHRvIHN0cmluZ1xuXHQgICAgICAgIGlmKHR5cGVvZiBvbGQgPT09ICdudW1iZXInKXtcblx0ICAgICAgICAgICAgb2xkID0gb2xkICsgJyc7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsc2UgaWYodHlwZW9mIG9sZCAhPT0gJ3N0cmluZycpIHtcblx0ICAgICAgICAgICAgLy8gSWYgaXQgaXMgc29tZXRoaW5nIG90aGVyIHRoYW4gbnVtYmVyIG9yIHN0cmluZyxcblx0ICAgICAgICAgICAgLy8gcmV0dXJuIHRoZSBvcmlnaW5hbCBzdHJpbmdcblx0ICAgICAgICAgICAgcmV0dXJuIHN0cjtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICAvLyBDYXN0IG51bWJlcnMgaW4gdGhlIHJlcGxhY2VtZW50IHRvIHN0cmluZ1xuXHQgICAgICAgIGlmKHR5cGVvZiBzdHIgPT09ICdudW1iZXInKXtcblx0ICAgICAgICAgICAgc3RyID0gc3RyICsgJyc7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgLy8gSWYgYnkgbm93LCB3ZSBkb24ndCBoYXZlIGEgc3RyaW5nLCB0aHJvdyBpdCBiYWNrXG5cdCAgICAgICAgaWYodHlwZW9mIHN0ciAhPT0gJ3N0cmluZycgJiYgIShzdHIgaW5zdGFuY2VvZiByLlNhZmVTdHJpbmcpKXtcblx0ICAgICAgICAgICAgcmV0dXJuIHN0cjtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICAvLyBTaG9ydENpcmN1aXRzXG5cdCAgICAgICAgaWYob2xkID09PSAnJyl7XG5cdCAgICAgICAgICAgIC8vIE1pbWljIHRoZSBweXRob24gYmVoYXZpb3VyOiBlbXB0eSBzdHJpbmcgaXMgcmVwbGFjZWRcblx0ICAgICAgICAgICAgLy8gYnkgcmVwbGFjZW1lbnQgZS5nLiBcImFiY1wifHJlcGxhY2UoXCJcIiwgXCIuXCIpIC0+IC5hLmIuYy5cblx0ICAgICAgICAgICAgcmVzID0gbmV3XyArIHN0ci5zcGxpdCgnJykuam9pbihuZXdfKSArIG5ld187XG5cdCAgICAgICAgICAgIHJldHVybiByLmNvcHlTYWZlbmVzcyhzdHIsIHJlcyk7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgdmFyIG5leHRJbmRleCA9IHN0ci5pbmRleE9mKG9sZCk7XG5cdCAgICAgICAgLy8gaWYgIyBvZiByZXBsYWNlbWVudHMgdG8gcGVyZm9ybSBpcyAwLCBvciB0aGUgc3RyaW5nIHRvIGRvZXNcblx0ICAgICAgICAvLyBub3QgY29udGFpbiB0aGUgb2xkIHZhbHVlLCByZXR1cm4gdGhlIHN0cmluZ1xuXHQgICAgICAgIGlmKG1heENvdW50ID09PSAwIHx8IG5leHRJbmRleCA9PT0gLTEpe1xuXHQgICAgICAgICAgICByZXR1cm4gc3RyO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHZhciBwb3MgPSAwO1xuXHQgICAgICAgIHZhciBjb3VudCA9IDA7IC8vICMgb2YgcmVwbGFjZW1lbnRzIG1hZGVcblxuXHQgICAgICAgIHdoaWxlKG5leHRJbmRleCAgPiAtMSAmJiAobWF4Q291bnQgPT09IC0xIHx8IGNvdW50IDwgbWF4Q291bnQpKXtcblx0ICAgICAgICAgICAgLy8gR3JhYiB0aGUgbmV4dCBjaHVuayBvZiBzcmMgc3RyaW5nIGFuZCBhZGQgaXQgd2l0aCB0aGVcblx0ICAgICAgICAgICAgLy8gcmVwbGFjZW1lbnQsIHRvIHRoZSByZXN1bHRcblx0ICAgICAgICAgICAgcmVzICs9IHN0ci5zdWJzdHJpbmcocG9zLCBuZXh0SW5kZXgpICsgbmV3Xztcblx0ICAgICAgICAgICAgLy8gSW5jcmVtZW50IG91ciBwb2ludGVyIGluIHRoZSBzcmMgc3RyaW5nXG5cdCAgICAgICAgICAgIHBvcyA9IG5leHRJbmRleCArIG9sZC5sZW5ndGg7XG5cdCAgICAgICAgICAgIGNvdW50Kys7XG5cdCAgICAgICAgICAgIC8vIFNlZSBpZiB0aGVyZSBhcmUgYW55IG1vcmUgcmVwbGFjZW1lbnRzIHRvIGJlIG1hZGVcblx0ICAgICAgICAgICAgbmV4dEluZGV4ID0gc3RyLmluZGV4T2Yob2xkLCBwb3MpO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIC8vIFdlJ3ZlIGVpdGhlciByZWFjaGVkIHRoZSBlbmQsIG9yIGRvbmUgdGhlIG1heCAjIG9mXG5cdCAgICAgICAgLy8gcmVwbGFjZW1lbnRzLCB0YWNrIG9uIGFueSByZW1haW5pbmcgc3RyaW5nXG5cdCAgICAgICAgaWYocG9zIDwgc3RyLmxlbmd0aCkge1xuXHQgICAgICAgICAgICByZXMgKz0gc3RyLnN1YnN0cmluZyhwb3MpO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHJldHVybiByLmNvcHlTYWZlbmVzcyhvcmlnaW5hbFN0ciwgcmVzKTtcblx0ICAgIH0sXG5cblx0ICAgIHJldmVyc2U6IGZ1bmN0aW9uKHZhbCkge1xuXHQgICAgICAgIHZhciBhcnI7XG5cdCAgICAgICAgaWYobGliLmlzU3RyaW5nKHZhbCkpIHtcblx0ICAgICAgICAgICAgYXJyID0gZmlsdGVycy5saXN0KHZhbCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICAvLyBDb3B5IGl0XG5cdCAgICAgICAgICAgIGFyciA9IGxpYi5tYXAodmFsLCBmdW5jdGlvbih2KSB7IHJldHVybiB2OyB9KTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICBhcnIucmV2ZXJzZSgpO1xuXG5cdCAgICAgICAgaWYobGliLmlzU3RyaW5nKHZhbCkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHIuY29weVNhZmVuZXNzKHZhbCwgYXJyLmpvaW4oJycpKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGFycjtcblx0ICAgIH0sXG5cblx0ICAgIHJvdW5kOiBmdW5jdGlvbih2YWwsIHByZWNpc2lvbiwgbWV0aG9kKSB7XG5cdCAgICAgICAgcHJlY2lzaW9uID0gcHJlY2lzaW9uIHx8IDA7XG5cdCAgICAgICAgdmFyIGZhY3RvciA9IE1hdGgucG93KDEwLCBwcmVjaXNpb24pO1xuXHQgICAgICAgIHZhciByb3VuZGVyO1xuXG5cdCAgICAgICAgaWYobWV0aG9kID09PSAnY2VpbCcpIHtcblx0ICAgICAgICAgICAgcm91bmRlciA9IE1hdGguY2VpbDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgZWxzZSBpZihtZXRob2QgPT09ICdmbG9vcicpIHtcblx0ICAgICAgICAgICAgcm91bmRlciA9IE1hdGguZmxvb3I7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICByb3VuZGVyID0gTWF0aC5yb3VuZDtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICByZXR1cm4gcm91bmRlcih2YWwgKiBmYWN0b3IpIC8gZmFjdG9yO1xuXHQgICAgfSxcblxuXHQgICAgc2xpY2U6IGZ1bmN0aW9uKGFyciwgc2xpY2VzLCBmaWxsV2l0aCkge1xuXHQgICAgICAgIHZhciBzbGljZUxlbmd0aCA9IE1hdGguZmxvb3IoYXJyLmxlbmd0aCAvIHNsaWNlcyk7XG5cdCAgICAgICAgdmFyIGV4dHJhID0gYXJyLmxlbmd0aCAlIHNsaWNlcztcblx0ICAgICAgICB2YXIgb2Zmc2V0ID0gMDtcblx0ICAgICAgICB2YXIgcmVzID0gW107XG5cblx0ICAgICAgICBmb3IodmFyIGk9MDsgaTxzbGljZXM7IGkrKykge1xuXHQgICAgICAgICAgICB2YXIgc3RhcnQgPSBvZmZzZXQgKyBpICogc2xpY2VMZW5ndGg7XG5cdCAgICAgICAgICAgIGlmKGkgPCBleHRyYSkge1xuXHQgICAgICAgICAgICAgICAgb2Zmc2V0Kys7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgdmFyIGVuZCA9IG9mZnNldCArIChpICsgMSkgKiBzbGljZUxlbmd0aDtcblxuXHQgICAgICAgICAgICB2YXIgc2xpY2UgPSBhcnIuc2xpY2Uoc3RhcnQsIGVuZCk7XG5cdCAgICAgICAgICAgIGlmKGZpbGxXaXRoICYmIGkgPj0gZXh0cmEpIHtcblx0ICAgICAgICAgICAgICAgIHNsaWNlLnB1c2goZmlsbFdpdGgpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJlcy5wdXNoKHNsaWNlKTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICByZXR1cm4gcmVzO1xuXHQgICAgfSxcblxuXHQgICAgc3VtOiBmdW5jdGlvbihhcnIsIGF0dHIsIHN0YXJ0KSB7XG5cdCAgICAgICAgdmFyIHN1bSA9IDA7XG5cblx0ICAgICAgICBpZih0eXBlb2Ygc3RhcnQgPT09ICdudW1iZXInKXtcblx0ICAgICAgICAgICAgc3VtICs9IHN0YXJ0O1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIGlmKGF0dHIpIHtcblx0ICAgICAgICAgICAgYXJyID0gbGliLm1hcChhcnIsIGZ1bmN0aW9uKHYpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB2W2F0dHJdO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgIHN1bSArPSBhcnJbaV07XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgcmV0dXJuIHN1bTtcblx0ICAgIH0sXG5cblx0ICAgIHNvcnQ6IHIubWFrZU1hY3JvKFsndmFsdWUnLCAncmV2ZXJzZScsICdjYXNlX3NlbnNpdGl2ZScsICdhdHRyaWJ1dGUnXSwgW10sIGZ1bmN0aW9uKGFyciwgcmV2ZXJzZSwgY2FzZVNlbnMsIGF0dHIpIHtcblx0ICAgICAgICAgLy8gQ29weSBpdFxuXHQgICAgICAgIGFyciA9IGxpYi5tYXAoYXJyLCBmdW5jdGlvbih2KSB7IHJldHVybiB2OyB9KTtcblxuXHQgICAgICAgIGFyci5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcblx0ICAgICAgICAgICAgdmFyIHgsIHk7XG5cblx0ICAgICAgICAgICAgaWYoYXR0cikge1xuXHQgICAgICAgICAgICAgICAgeCA9IGFbYXR0cl07XG5cdCAgICAgICAgICAgICAgICB5ID0gYlthdHRyXTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHggPSBhO1xuXHQgICAgICAgICAgICAgICAgeSA9IGI7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICBpZighY2FzZVNlbnMgJiYgbGliLmlzU3RyaW5nKHgpICYmIGxpYi5pc1N0cmluZyh5KSkge1xuXHQgICAgICAgICAgICAgICAgeCA9IHgudG9Mb3dlckNhc2UoKTtcblx0ICAgICAgICAgICAgICAgIHkgPSB5LnRvTG93ZXJDYXNlKCk7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICBpZih4IDwgeSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHJldmVyc2UgPyAxIDogLTE7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgZWxzZSBpZih4ID4geSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHJldmVyc2UgPyAtMTogMTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiAwO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cblx0ICAgICAgICByZXR1cm4gYXJyO1xuXHQgICAgfSksXG5cblx0ICAgIHN0cmluZzogZnVuY3Rpb24ob2JqKSB7XG5cdCAgICAgICAgcmV0dXJuIHIuY29weVNhZmVuZXNzKG9iaiwgb2JqKTtcblx0ICAgIH0sXG5cblx0ICAgIHN0cmlwdGFnczogZnVuY3Rpb24oaW5wdXQsIHByZXNlcnZlX2xpbmVicmVha3MpIHtcblx0ICAgICAgICBpbnB1dCA9IG5vcm1hbGl6ZShpbnB1dCwgJycpO1xuXHQgICAgICAgIHByZXNlcnZlX2xpbmVicmVha3MgPSBwcmVzZXJ2ZV9saW5lYnJlYWtzIHx8IGZhbHNlO1xuXHQgICAgICAgIHZhciB0YWdzID0gLzxcXC8/KFthLXpdW2EtejAtOV0qKVxcYltePl0qPnw8IS0tW1xcc1xcU10qPy0tPi9naTtcblx0ICAgICAgICB2YXIgdHJpbW1lZElucHV0ID0gZmlsdGVycy50cmltKGlucHV0LnJlcGxhY2UodGFncywgJycpKTtcblx0ICAgICAgICB2YXIgcmVzID0gJyc7XG5cdCAgICAgICAgaWYgKHByZXNlcnZlX2xpbmVicmVha3MpIHtcblx0ICAgICAgICAgICAgcmVzID0gdHJpbW1lZElucHV0XG5cdCAgICAgICAgICAgICAgICAucmVwbGFjZSgvXiArfCArJC9nbSwgJycpICAgICAvLyByZW1vdmUgbGVhZGluZyBhbmQgdHJhaWxpbmcgc3BhY2VzXG5cdCAgICAgICAgICAgICAgICAucmVwbGFjZSgvICsvZywgJyAnKSAgICAgICAgICAvLyBzcXVhc2ggYWRqYWNlbnQgc3BhY2VzXG5cdCAgICAgICAgICAgICAgICAucmVwbGFjZSgvKFxcclxcbikvZywgJ1xcbicpICAgICAvLyBub3JtYWxpemUgbGluZWJyZWFrcyAoQ1JMRiAtPiBMRilcblx0ICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXG5cXG5cXG4rL2csICdcXG5cXG4nKTsgLy8gc3F1YXNoIGFibm9ybWFsIGFkamFjZW50IGxpbmVicmVha3Ncblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICByZXMgPSB0cmltbWVkSW5wdXQucmVwbGFjZSgvXFxzKy9naSwgJyAnKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHIuY29weVNhZmVuZXNzKGlucHV0LCByZXMpO1xuXHQgICAgfSxcblxuXHQgICAgdGl0bGU6IGZ1bmN0aW9uKHN0cikge1xuXHQgICAgICAgIHN0ciA9IG5vcm1hbGl6ZShzdHIsICcnKTtcblx0ICAgICAgICB2YXIgd29yZHMgPSBzdHIuc3BsaXQoJyAnKTtcblx0ICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgd29yZHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgd29yZHNbaV0gPSBmaWx0ZXJzLmNhcGl0YWxpemUod29yZHNbaV0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gci5jb3B5U2FmZW5lc3Moc3RyLCB3b3Jkcy5qb2luKCcgJykpO1xuXHQgICAgfSxcblxuXHQgICAgdHJpbTogZnVuY3Rpb24oc3RyKSB7XG5cdCAgICAgICAgcmV0dXJuIHIuY29weVNhZmVuZXNzKHN0ciwgc3RyLnJlcGxhY2UoL15cXHMqfFxccyokL2csICcnKSk7XG5cdCAgICB9LFxuXG5cdCAgICB0cnVuY2F0ZTogZnVuY3Rpb24oaW5wdXQsIGxlbmd0aCwga2lsbHdvcmRzLCBlbmQpIHtcblx0ICAgICAgICB2YXIgb3JpZyA9IGlucHV0O1xuXHQgICAgICAgIGlucHV0ID0gbm9ybWFsaXplKGlucHV0LCAnJyk7XG5cdCAgICAgICAgbGVuZ3RoID0gbGVuZ3RoIHx8IDI1NTtcblxuXHQgICAgICAgIGlmIChpbnB1dC5sZW5ndGggPD0gbGVuZ3RoKVxuXHQgICAgICAgICAgICByZXR1cm4gaW5wdXQ7XG5cblx0ICAgICAgICBpZiAoa2lsbHdvcmRzKSB7XG5cdCAgICAgICAgICAgIGlucHV0ID0gaW5wdXQuc3Vic3RyaW5nKDAsIGxlbmd0aCk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdmFyIGlkeCA9IGlucHV0Lmxhc3RJbmRleE9mKCcgJywgbGVuZ3RoKTtcblx0ICAgICAgICAgICAgaWYoaWR4ID09PSAtMSkge1xuXHQgICAgICAgICAgICAgICAgaWR4ID0gbGVuZ3RoO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgaW5wdXQgPSBpbnB1dC5zdWJzdHJpbmcoMCwgaWR4KTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICBpbnB1dCArPSAoZW5kICE9PSB1bmRlZmluZWQgJiYgZW5kICE9PSBudWxsKSA/IGVuZCA6ICcuLi4nO1xuXHQgICAgICAgIHJldHVybiByLmNvcHlTYWZlbmVzcyhvcmlnLCBpbnB1dCk7XG5cdCAgICB9LFxuXG5cdCAgICB1cHBlcjogZnVuY3Rpb24oc3RyKSB7XG5cdCAgICAgICAgc3RyID0gbm9ybWFsaXplKHN0ciwgJycpO1xuXHQgICAgICAgIHJldHVybiBzdHIudG9VcHBlckNhc2UoKTtcblx0ICAgIH0sXG5cblx0ICAgIHVybGVuY29kZTogZnVuY3Rpb24ob2JqKSB7XG5cdCAgICAgICAgdmFyIGVuYyA9IGVuY29kZVVSSUNvbXBvbmVudDtcblx0ICAgICAgICBpZiAobGliLmlzU3RyaW5nKG9iaikpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGVuYyhvYmopO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHZhciBwYXJ0cztcblx0ICAgICAgICAgICAgaWYgKGxpYi5pc0FycmF5KG9iaikpIHtcblx0ICAgICAgICAgICAgICAgIHBhcnRzID0gb2JqLm1hcChmdW5jdGlvbihpdGVtKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVuYyhpdGVtWzBdKSArICc9JyArIGVuYyhpdGVtWzFdKTtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgcGFydHMgPSBbXTtcblx0ICAgICAgICAgICAgICAgIGZvciAodmFyIGsgaW4gb2JqKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrKSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKGVuYyhrKSArICc9JyArIGVuYyhvYmpba10pKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcmV0dXJuIHBhcnRzLmpvaW4oJyYnKTtcblx0ICAgICAgICB9XG5cdCAgICB9LFxuXG5cdCAgICB1cmxpemU6IGZ1bmN0aW9uKHN0ciwgbGVuZ3RoLCBub2ZvbGxvdykge1xuXHQgICAgICAgIGlmIChpc05hTihsZW5ndGgpKSBsZW5ndGggPSBJbmZpbml0eTtcblxuXHQgICAgICAgIHZhciBub0ZvbGxvd0F0dHIgPSAobm9mb2xsb3cgPT09IHRydWUgPyAnIHJlbD1cIm5vZm9sbG93XCInIDogJycpO1xuXG5cdCAgICAgICAgLy8gRm9yIHRoZSBqaW5qYSByZWdleHAsIHNlZVxuXHQgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9taXRzdWhpa28vamluamEyL2Jsb2IvZjE1YjgxNGRjYmE2YWExMmJjNzRkMWY3ZDBjODgxZDU1ZjcxMjZiZS9qaW5qYTIvdXRpbHMucHkjTDIwLUwyM1xuXHQgICAgICAgIHZhciBwdW5jUkUgPSAvXig/OlxcKHw8fCZsdDspPyguKj8pKD86XFwufCx8XFwpfFxcbnwmZ3Q7KT8kLztcblx0ICAgICAgICAvLyBmcm9tIGh0dHA6Ly9ibG9nLmdlcnYubmV0LzIwMTEvMDUvaHRtbDVfZW1haWxfYWRkcmVzc19yZWdleHAvXG5cdCAgICAgICAgdmFyIGVtYWlsUkUgPSAvXltcXHcuISMkJSYnKitcXC1cXC89P1xcXmB7fH1+XStAW2EtelxcZFxcLV0rKFxcLlthLXpcXGRcXC1dKykrJC9pO1xuXHQgICAgICAgIHZhciBodHRwSHR0cHNSRSA9IC9eaHR0cHM/OlxcL1xcLy4qJC87XG5cdCAgICAgICAgdmFyIHd3d1JFID0gL153d3dcXC4vO1xuXHQgICAgICAgIHZhciB0bGRSRSA9IC9cXC4oPzpvcmd8bmV0fGNvbSkoPzpcXDp8XFwvfCQpLztcblxuXHQgICAgICAgIHZhciB3b3JkcyA9IHN0ci5zcGxpdCgvKFxccyspLykuZmlsdGVyKGZ1bmN0aW9uKHdvcmQpIHtcblx0ICAgICAgICAgIC8vIElmIHRoZSB3b3JkIGhhcyBubyBsZW5ndGgsIGJhaWwuIFRoaXMgY2FuIGhhcHBlbiBmb3Igc3RyIHdpdGhcblx0ICAgICAgICAgIC8vIHRyYWlsaW5nIHdoaXRlc3BhY2UuXG5cdCAgICAgICAgICByZXR1cm4gd29yZCAmJiB3b3JkLmxlbmd0aDtcblx0ICAgICAgICB9KS5tYXAoZnVuY3Rpb24od29yZCkge1xuXHQgICAgICAgICAgdmFyIG1hdGNoZXMgPSB3b3JkLm1hdGNoKHB1bmNSRSk7XG5cdCAgICAgICAgICB2YXIgcG9zc2libGVVcmwgPSBtYXRjaGVzICYmIG1hdGNoZXNbMV0gfHwgd29yZDtcblxuXHQgICAgICAgICAgLy8gdXJsIHRoYXQgc3RhcnRzIHdpdGggaHR0cCBvciBodHRwc1xuXHQgICAgICAgICAgaWYgKGh0dHBIdHRwc1JFLnRlc3QocG9zc2libGVVcmwpKVxuXHQgICAgICAgICAgICByZXR1cm4gJzxhIGhyZWY9XCInICsgcG9zc2libGVVcmwgKyAnXCInICsgbm9Gb2xsb3dBdHRyICsgJz4nICsgcG9zc2libGVVcmwuc3Vic3RyKDAsIGxlbmd0aCkgKyAnPC9hPic7XG5cblx0ICAgICAgICAgIC8vIHVybCB0aGF0IHN0YXJ0cyB3aXRoIHd3dy5cblx0ICAgICAgICAgIGlmICh3d3dSRS50ZXN0KHBvc3NpYmxlVXJsKSlcblx0ICAgICAgICAgICAgcmV0dXJuICc8YSBocmVmPVwiaHR0cDovLycgKyBwb3NzaWJsZVVybCArICdcIicgKyBub0ZvbGxvd0F0dHIgKyAnPicgKyBwb3NzaWJsZVVybC5zdWJzdHIoMCwgbGVuZ3RoKSArICc8L2E+JztcblxuXHQgICAgICAgICAgLy8gYW4gZW1haWwgYWRkcmVzcyBvZiB0aGUgZm9ybSB1c2VybmFtZUBkb21haW4udGxkXG5cdCAgICAgICAgICBpZiAoZW1haWxSRS50ZXN0KHBvc3NpYmxlVXJsKSlcblx0ICAgICAgICAgICAgcmV0dXJuICc8YSBocmVmPVwibWFpbHRvOicgKyBwb3NzaWJsZVVybCArICdcIj4nICsgcG9zc2libGVVcmwgKyAnPC9hPic7XG5cblx0ICAgICAgICAgIC8vIHVybCB0aGF0IGVuZHMgaW4gLmNvbSwgLm9yZyBvciAubmV0IHRoYXQgaXMgbm90IGFuIGVtYWlsIGFkZHJlc3Ncblx0ICAgICAgICAgIGlmICh0bGRSRS50ZXN0KHBvc3NpYmxlVXJsKSlcblx0ICAgICAgICAgICAgcmV0dXJuICc8YSBocmVmPVwiaHR0cDovLycgKyBwb3NzaWJsZVVybCArICdcIicgKyBub0ZvbGxvd0F0dHIgKyAnPicgKyBwb3NzaWJsZVVybC5zdWJzdHIoMCwgbGVuZ3RoKSArICc8L2E+JztcblxuXHQgICAgICAgICAgcmV0dXJuIHdvcmQ7XG5cblx0ICAgICAgICB9KTtcblxuXHQgICAgICAgIHJldHVybiB3b3Jkcy5qb2luKCcnKTtcblx0ICAgIH0sXG5cblx0ICAgIHdvcmRjb3VudDogZnVuY3Rpb24oc3RyKSB7XG5cdCAgICAgICAgc3RyID0gbm9ybWFsaXplKHN0ciwgJycpO1xuXHQgICAgICAgIHZhciB3b3JkcyA9IChzdHIpID8gc3RyLm1hdGNoKC9cXHcrL2cpIDogbnVsbDtcblx0ICAgICAgICByZXR1cm4gKHdvcmRzKSA/IHdvcmRzLmxlbmd0aCA6IG51bGw7XG5cdCAgICB9LFxuXG5cdCAgICAnZmxvYXQnOiBmdW5jdGlvbih2YWwsIGRlZikge1xuXHQgICAgICAgIHZhciByZXMgPSBwYXJzZUZsb2F0KHZhbCk7XG5cdCAgICAgICAgcmV0dXJuIGlzTmFOKHJlcykgPyBkZWYgOiByZXM7XG5cdCAgICB9LFxuXG5cdCAgICAnaW50JzogZnVuY3Rpb24odmFsLCBkZWYpIHtcblx0ICAgICAgICB2YXIgcmVzID0gcGFyc2VJbnQodmFsLCAxMCk7XG5cdCAgICAgICAgcmV0dXJuIGlzTmFOKHJlcykgPyBkZWYgOiByZXM7XG5cdCAgICB9XG5cdH07XG5cblx0Ly8gQWxpYXNlc1xuXHRmaWx0ZXJzLmQgPSBmaWx0ZXJzWydkZWZhdWx0J107XG5cdGZpbHRlcnMuZSA9IGZpbHRlcnMuZXNjYXBlO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZmlsdGVycztcblxuXG4vKioqLyB9LFxuLyogOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBsaWIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHR2YXIgT2JqID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblxuXHQvLyBGcmFtZXMga2VlcCB0cmFjayBvZiBzY29waW5nIGJvdGggYXQgY29tcGlsZS10aW1lIGFuZCBydW4tdGltZSBzb1xuXHQvLyB3ZSBrbm93IGhvdyB0byBhY2Nlc3MgdmFyaWFibGVzLiBCbG9jayB0YWdzIGNhbiBpbnRyb2R1Y2Ugc3BlY2lhbFxuXHQvLyB2YXJpYWJsZXMsIGZvciBleGFtcGxlLlxuXHR2YXIgRnJhbWUgPSBPYmouZXh0ZW5kKHtcblx0ICAgIGluaXQ6IGZ1bmN0aW9uKHBhcmVudCwgaXNvbGF0ZVdyaXRlcykge1xuXHQgICAgICAgIHRoaXMudmFyaWFibGVzID0ge307XG5cdCAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG5cdCAgICAgICAgdGhpcy50b3BMZXZlbCA9IGZhbHNlO1xuXHQgICAgICAgIC8vIGlmIHRoaXMgaXMgdHJ1ZSwgd3JpdGVzIChzZXQpIHNob3VsZCBuZXZlciBwcm9wYWdhdGUgdXB3YXJkcyBwYXN0XG5cdCAgICAgICAgLy8gdGhpcyBmcmFtZSB0byBpdHMgcGFyZW50ICh0aG91Z2ggcmVhZHMgbWF5KS5cblx0ICAgICAgICB0aGlzLmlzb2xhdGVXcml0ZXMgPSBpc29sYXRlV3JpdGVzO1xuXHQgICAgfSxcblxuXHQgICAgc2V0OiBmdW5jdGlvbihuYW1lLCB2YWwsIHJlc29sdmVVcCkge1xuXHQgICAgICAgIC8vIEFsbG93IHZhcmlhYmxlcyB3aXRoIGRvdHMgYnkgYXV0b21hdGljYWxseSBjcmVhdGluZyB0aGVcblx0ICAgICAgICAvLyBuZXN0ZWQgc3RydWN0dXJlXG5cdCAgICAgICAgdmFyIHBhcnRzID0gbmFtZS5zcGxpdCgnLicpO1xuXHQgICAgICAgIHZhciBvYmogPSB0aGlzLnZhcmlhYmxlcztcblx0ICAgICAgICB2YXIgZnJhbWUgPSB0aGlzO1xuXG5cdCAgICAgICAgaWYocmVzb2x2ZVVwKSB7XG5cdCAgICAgICAgICAgIGlmKChmcmFtZSA9IHRoaXMucmVzb2x2ZShwYXJ0c1swXSwgdHJ1ZSkpKSB7XG5cdCAgICAgICAgICAgICAgICBmcmFtZS5zZXQobmFtZSwgdmFsKTtcblx0ICAgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblxuXHQgICAgICAgIGZvcih2YXIgaT0wOyBpPHBhcnRzLmxlbmd0aCAtIDE7IGkrKykge1xuXHQgICAgICAgICAgICB2YXIgaWQgPSBwYXJ0c1tpXTtcblxuXHQgICAgICAgICAgICBpZighb2JqW2lkXSkge1xuXHQgICAgICAgICAgICAgICAgb2JqW2lkXSA9IHt9O1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIG9iaiA9IG9ialtpZF07XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgb2JqW3BhcnRzW3BhcnRzLmxlbmd0aCAtIDFdXSA9IHZhbDtcblx0ICAgIH0sXG5cblx0ICAgIGdldDogZnVuY3Rpb24obmFtZSkge1xuXHQgICAgICAgIHZhciB2YWwgPSB0aGlzLnZhcmlhYmxlc1tuYW1lXTtcblx0ICAgICAgICBpZih2YWwgIT09IHVuZGVmaW5lZCAmJiB2YWwgIT09IG51bGwpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHZhbDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9LFxuXG5cdCAgICBsb29rdXA6IGZ1bmN0aW9uKG5hbWUpIHtcblx0ICAgICAgICB2YXIgcCA9IHRoaXMucGFyZW50O1xuXHQgICAgICAgIHZhciB2YWwgPSB0aGlzLnZhcmlhYmxlc1tuYW1lXTtcblx0ICAgICAgICBpZih2YWwgIT09IHVuZGVmaW5lZCAmJiB2YWwgIT09IG51bGwpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHZhbDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHAgJiYgcC5sb29rdXAobmFtZSk7XG5cdCAgICB9LFxuXG5cdCAgICByZXNvbHZlOiBmdW5jdGlvbihuYW1lLCBmb3JXcml0ZSkge1xuXHQgICAgICAgIHZhciBwID0gKGZvcldyaXRlICYmIHRoaXMuaXNvbGF0ZVdyaXRlcykgPyB1bmRlZmluZWQgOiB0aGlzLnBhcmVudDtcblx0ICAgICAgICB2YXIgdmFsID0gdGhpcy52YXJpYWJsZXNbbmFtZV07XG5cdCAgICAgICAgaWYodmFsICE9PSB1bmRlZmluZWQgJiYgdmFsICE9PSBudWxsKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gcCAmJiBwLnJlc29sdmUobmFtZSk7XG5cdCAgICB9LFxuXG5cdCAgICBwdXNoOiBmdW5jdGlvbihpc29sYXRlV3JpdGVzKSB7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBGcmFtZSh0aGlzLCBpc29sYXRlV3JpdGVzKTtcblx0ICAgIH0sXG5cblx0ICAgIHBvcDogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50O1xuXHQgICAgfVxuXHR9KTtcblxuXHRmdW5jdGlvbiBtYWtlTWFjcm8oYXJnTmFtZXMsIGt3YXJnTmFtZXMsIGZ1bmMpIHtcblx0ICAgIHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgYXJnQ291bnQgPSBudW1BcmdzKGFyZ3VtZW50cyk7XG5cdCAgICAgICAgdmFyIGFyZ3M7XG5cdCAgICAgICAgdmFyIGt3YXJncyA9IGdldEtleXdvcmRBcmdzKGFyZ3VtZW50cyk7XG5cdCAgICAgICAgdmFyIGk7XG5cblx0ICAgICAgICBpZihhcmdDb3VudCA+IGFyZ05hbWVzLmxlbmd0aCkge1xuXHQgICAgICAgICAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwLCBhcmdOYW1lcy5sZW5ndGgpO1xuXG5cdCAgICAgICAgICAgIC8vIFBvc2l0aW9uYWwgYXJndW1lbnRzIHRoYXQgc2hvdWxkIGJlIHBhc3NlZCBpbiBhc1xuXHQgICAgICAgICAgICAvLyBrZXl3b3JkIGFyZ3VtZW50cyAoZXNzZW50aWFsbHkgZGVmYXVsdCB2YWx1ZXMpXG5cdCAgICAgICAgICAgIHZhciB2YWxzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCBhcmdzLmxlbmd0aCwgYXJnQ291bnQpO1xuXHQgICAgICAgICAgICBmb3IoaSA9IDA7IGkgPCB2YWxzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICBpZihpIDwga3dhcmdOYW1lcy5sZW5ndGgpIHtcblx0ICAgICAgICAgICAgICAgICAgICBrd2FyZ3Nba3dhcmdOYW1lc1tpXV0gPSB2YWxzW2ldO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgYXJncy5wdXNoKGt3YXJncyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsc2UgaWYoYXJnQ291bnQgPCBhcmdOYW1lcy5sZW5ndGgpIHtcblx0ICAgICAgICAgICAgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCwgYXJnQ291bnQpO1xuXG5cdCAgICAgICAgICAgIGZvcihpID0gYXJnQ291bnQ7IGkgPCBhcmdOYW1lcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgdmFyIGFyZyA9IGFyZ05hbWVzW2ldO1xuXG5cdCAgICAgICAgICAgICAgICAvLyBLZXl3b3JkIGFyZ3VtZW50cyB0aGF0IHNob3VsZCBiZSBwYXNzZWQgYXNcblx0ICAgICAgICAgICAgICAgIC8vIHBvc2l0aW9uYWwgYXJndW1lbnRzLCBpLmUuIHRoZSBjYWxsZXIgZXhwbGljaXRseVxuXHQgICAgICAgICAgICAgICAgLy8gdXNlZCB0aGUgbmFtZSBvZiBhIHBvc2l0aW9uYWwgYXJnXG5cdCAgICAgICAgICAgICAgICBhcmdzLnB1c2goa3dhcmdzW2FyZ10pO1xuXHQgICAgICAgICAgICAgICAgZGVsZXRlIGt3YXJnc1thcmddO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgYXJncy5wdXNoKGt3YXJncyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICBhcmdzID0gYXJndW1lbnRzO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuXHQgICAgfTtcblx0fVxuXG5cdGZ1bmN0aW9uIG1ha2VLZXl3b3JkQXJncyhvYmopIHtcblx0ICAgIG9iai5fX2tleXdvcmRzID0gdHJ1ZTtcblx0ICAgIHJldHVybiBvYmo7XG5cdH1cblxuXHRmdW5jdGlvbiBnZXRLZXl3b3JkQXJncyhhcmdzKSB7XG5cdCAgICB2YXIgbGVuID0gYXJncy5sZW5ndGg7XG5cdCAgICBpZihsZW4pIHtcblx0ICAgICAgICB2YXIgbGFzdEFyZyA9IGFyZ3NbbGVuIC0gMV07XG5cdCAgICAgICAgaWYobGFzdEFyZyAmJiBsYXN0QXJnLmhhc093blByb3BlcnR5KCdfX2tleXdvcmRzJykpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGxhc3RBcmc7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIHt9O1xuXHR9XG5cblx0ZnVuY3Rpb24gbnVtQXJncyhhcmdzKSB7XG5cdCAgICB2YXIgbGVuID0gYXJncy5sZW5ndGg7XG5cdCAgICBpZihsZW4gPT09IDApIHtcblx0ICAgICAgICByZXR1cm4gMDtcblx0ICAgIH1cblxuXHQgICAgdmFyIGxhc3RBcmcgPSBhcmdzW2xlbiAtIDFdO1xuXHQgICAgaWYobGFzdEFyZyAmJiBsYXN0QXJnLmhhc093blByb3BlcnR5KCdfX2tleXdvcmRzJykpIHtcblx0ICAgICAgICByZXR1cm4gbGVuIC0gMTtcblx0ICAgIH1cblx0ICAgIGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBsZW47XG5cdCAgICB9XG5cdH1cblxuXHQvLyBBIFNhZmVTdHJpbmcgb2JqZWN0IGluZGljYXRlcyB0aGF0IHRoZSBzdHJpbmcgc2hvdWxkIG5vdCBiZVxuXHQvLyBhdXRvZXNjYXBlZC4gVGhpcyBoYXBwZW5zIG1hZ2ljYWxseSBiZWNhdXNlIGF1dG9lc2NhcGluZyBvbmx5XG5cdC8vIG9jY3VycyBvbiBwcmltaXRpdmUgc3RyaW5nIG9iamVjdHMuXG5cdGZ1bmN0aW9uIFNhZmVTdHJpbmcodmFsKSB7XG5cdCAgICBpZih0eXBlb2YgdmFsICE9PSAnc3RyaW5nJykge1xuXHQgICAgICAgIHJldHVybiB2YWw7XG5cdCAgICB9XG5cblx0ICAgIHRoaXMudmFsID0gdmFsO1xuXHQgICAgdGhpcy5sZW5ndGggPSB2YWwubGVuZ3RoO1xuXHR9XG5cblx0U2FmZVN0cmluZy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFN0cmluZy5wcm90b3R5cGUsIHtcblx0ICAgIGxlbmd0aDogeyB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB2YWx1ZTogMCB9XG5cdH0pO1xuXHRTYWZlU3RyaW5nLnByb3RvdHlwZS52YWx1ZU9mID0gZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gdGhpcy52YWw7XG5cdH07XG5cdFNhZmVTdHJpbmcucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gdGhpcy52YWw7XG5cdH07XG5cblx0ZnVuY3Rpb24gY29weVNhZmVuZXNzKGRlc3QsIHRhcmdldCkge1xuXHQgICAgaWYoZGVzdCBpbnN0YW5jZW9mIFNhZmVTdHJpbmcpIHtcblx0ICAgICAgICByZXR1cm4gbmV3IFNhZmVTdHJpbmcodGFyZ2V0KTtcblx0ICAgIH1cblx0ICAgIHJldHVybiB0YXJnZXQudG9TdHJpbmcoKTtcblx0fVxuXG5cdGZ1bmN0aW9uIG1hcmtTYWZlKHZhbCkge1xuXHQgICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsO1xuXG5cdCAgICBpZih0eXBlID09PSAnc3RyaW5nJykge1xuXHQgICAgICAgIHJldHVybiBuZXcgU2FmZVN0cmluZyh2YWwpO1xuXHQgICAgfVxuXHQgICAgZWxzZSBpZih0eXBlICE9PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgcmV0dXJuIHZhbDtcblx0ICAgIH1cblx0ICAgIGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgdmFyIHJldCA9IHZhbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG5cdCAgICAgICAgICAgIGlmKHR5cGVvZiByZXQgPT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFNhZmVTdHJpbmcocmV0KTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIHJldHVybiByZXQ7XG5cdCAgICAgICAgfTtcblx0ICAgIH1cblx0fVxuXG5cdGZ1bmN0aW9uIHN1cHByZXNzVmFsdWUodmFsLCBhdXRvZXNjYXBlKSB7XG5cdCAgICB2YWwgPSAodmFsICE9PSB1bmRlZmluZWQgJiYgdmFsICE9PSBudWxsKSA/IHZhbCA6ICcnO1xuXG5cdCAgICBpZihhdXRvZXNjYXBlICYmICEodmFsIGluc3RhbmNlb2YgU2FmZVN0cmluZykpIHtcblx0ICAgICAgICB2YWwgPSBsaWIuZXNjYXBlKHZhbC50b1N0cmluZygpKTtcblx0ICAgIH1cblxuXHQgICAgcmV0dXJuIHZhbDtcblx0fVxuXG5cdGZ1bmN0aW9uIGVuc3VyZURlZmluZWQodmFsLCBsaW5lbm8sIGNvbG5vKSB7XG5cdCAgICBpZih2YWwgPT09IG51bGwgfHwgdmFsID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICB0aHJvdyBuZXcgbGliLlRlbXBsYXRlRXJyb3IoXG5cdCAgICAgICAgICAgICdhdHRlbXB0ZWQgdG8gb3V0cHV0IG51bGwgb3IgdW5kZWZpbmVkIHZhbHVlJyxcblx0ICAgICAgICAgICAgbGluZW5vICsgMSxcblx0ICAgICAgICAgICAgY29sbm8gKyAxXG5cdCAgICAgICAgKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiB2YWw7XG5cdH1cblxuXHRmdW5jdGlvbiBtZW1iZXJMb29rdXAob2JqLCB2YWwpIHtcblx0ICAgIG9iaiA9IG9iaiB8fCB7fTtcblxuXHQgICAgaWYodHlwZW9mIG9ialt2YWxdID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gb2JqW3ZhbF0uYXBwbHkob2JqLCBhcmd1bWVudHMpO1xuXHQgICAgICAgIH07XG5cdCAgICB9XG5cblx0ICAgIHJldHVybiBvYmpbdmFsXTtcblx0fVxuXG5cdGZ1bmN0aW9uIGNhbGxXcmFwKG9iaiwgbmFtZSwgY29udGV4dCwgYXJncykge1xuXHQgICAgaWYoIW9iaikge1xuXHQgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNhbGwgYCcgKyBuYW1lICsgJ2AsIHdoaWNoIGlzIHVuZGVmaW5lZCBvciBmYWxzZXknKTtcblx0ICAgIH1cblx0ICAgIGVsc2UgaWYodHlwZW9mIG9iaiAhPT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNhbGwgYCcgKyBuYW1lICsgJ2AsIHdoaWNoIGlzIG5vdCBhIGZ1bmN0aW9uJyk7XG5cdCAgICB9XG5cblx0ICAgIC8vIGpzaGludCB2YWxpZHRoaXM6IHRydWVcblx0ICAgIHJldHVybiBvYmouYXBwbHkoY29udGV4dCwgYXJncyk7XG5cdH1cblxuXHRmdW5jdGlvbiBjb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgbmFtZSkge1xuXHQgICAgdmFyIHZhbCA9IGZyYW1lLmxvb2t1cChuYW1lKTtcblx0ICAgIHJldHVybiAodmFsICE9PSB1bmRlZmluZWQgJiYgdmFsICE9PSBudWxsKSA/XG5cdCAgICAgICAgdmFsIDpcblx0ICAgICAgICBjb250ZXh0Lmxvb2t1cChuYW1lKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGhhbmRsZUVycm9yKGVycm9yLCBsaW5lbm8sIGNvbG5vKSB7XG5cdCAgICBpZihlcnJvci5saW5lbm8pIHtcblx0ICAgICAgICByZXR1cm4gZXJyb3I7XG5cdCAgICB9XG5cdCAgICBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gbmV3IGxpYi5UZW1wbGF0ZUVycm9yKGVycm9yLCBsaW5lbm8sIGNvbG5vKTtcblx0ICAgIH1cblx0fVxuXG5cdGZ1bmN0aW9uIGFzeW5jRWFjaChhcnIsIGRpbWVuLCBpdGVyLCBjYikge1xuXHQgICAgaWYobGliLmlzQXJyYXkoYXJyKSkge1xuXHQgICAgICAgIHZhciBsZW4gPSBhcnIubGVuZ3RoO1xuXG5cdCAgICAgICAgbGliLmFzeW5jSXRlcihhcnIsIGZ1bmN0aW9uKGl0ZW0sIGksIG5leHQpIHtcblx0ICAgICAgICAgICAgc3dpdGNoKGRpbWVuKSB7XG5cdCAgICAgICAgICAgIGNhc2UgMTogaXRlcihpdGVtLCBpLCBsZW4sIG5leHQpOyBicmVhaztcblx0ICAgICAgICAgICAgY2FzZSAyOiBpdGVyKGl0ZW1bMF0sIGl0ZW1bMV0sIGksIGxlbiwgbmV4dCk7IGJyZWFrO1xuXHQgICAgICAgICAgICBjYXNlIDM6IGl0ZXIoaXRlbVswXSwgaXRlbVsxXSwgaXRlbVsyXSwgaSwgbGVuLCBuZXh0KTsgYnJlYWs7XG5cdCAgICAgICAgICAgIGRlZmF1bHQ6XG5cdCAgICAgICAgICAgICAgICBpdGVtLnB1c2goaSwgbmV4dCk7XG5cdCAgICAgICAgICAgICAgICBpdGVyLmFwcGx5KHRoaXMsIGl0ZW0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSwgY2IpO1xuXHQgICAgfVxuXHQgICAgZWxzZSB7XG5cdCAgICAgICAgbGliLmFzeW5jRm9yKGFyciwgZnVuY3Rpb24oa2V5LCB2YWwsIGksIGxlbiwgbmV4dCkge1xuXHQgICAgICAgICAgICBpdGVyKGtleSwgdmFsLCBpLCBsZW4sIG5leHQpO1xuXHQgICAgICAgIH0sIGNiKTtcblx0ICAgIH1cblx0fVxuXG5cdGZ1bmN0aW9uIGFzeW5jQWxsKGFyciwgZGltZW4sIGZ1bmMsIGNiKSB7XG5cdCAgICB2YXIgZmluaXNoZWQgPSAwO1xuXHQgICAgdmFyIGxlbiwgaTtcblx0ICAgIHZhciBvdXRwdXRBcnI7XG5cblx0ICAgIGZ1bmN0aW9uIGRvbmUoaSwgb3V0cHV0KSB7XG5cdCAgICAgICAgZmluaXNoZWQrKztcblx0ICAgICAgICBvdXRwdXRBcnJbaV0gPSBvdXRwdXQ7XG5cblx0ICAgICAgICBpZihmaW5pc2hlZCA9PT0gbGVuKSB7XG5cdCAgICAgICAgICAgIGNiKG51bGwsIG91dHB1dEFyci5qb2luKCcnKSk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXG5cdCAgICBpZihsaWIuaXNBcnJheShhcnIpKSB7XG5cdCAgICAgICAgbGVuID0gYXJyLmxlbmd0aDtcblx0ICAgICAgICBvdXRwdXRBcnIgPSBuZXcgQXJyYXkobGVuKTtcblxuXHQgICAgICAgIGlmKGxlbiA9PT0gMCkge1xuXHQgICAgICAgICAgICBjYihudWxsLCAnJyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICBmb3IoaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgIHZhciBpdGVtID0gYXJyW2ldO1xuXG5cdCAgICAgICAgICAgICAgICBzd2l0Y2goZGltZW4pIHtcblx0ICAgICAgICAgICAgICAgIGNhc2UgMTogZnVuYyhpdGVtLCBpLCBsZW4sIGRvbmUpOyBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgMjogZnVuYyhpdGVtWzBdLCBpdGVtWzFdLCBpLCBsZW4sIGRvbmUpOyBicmVhaztcblx0ICAgICAgICAgICAgICAgIGNhc2UgMzogZnVuYyhpdGVtWzBdLCBpdGVtWzFdLCBpdGVtWzJdLCBpLCBsZW4sIGRvbmUpOyBicmVhaztcblx0ICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG5cdCAgICAgICAgICAgICAgICAgICAgaXRlbS5wdXNoKGksIGRvbmUpO1xuXHQgICAgICAgICAgICAgICAgICAgIC8vIGpzaGludCB2YWxpZHRoaXM6IHRydWVcblx0ICAgICAgICAgICAgICAgICAgICBmdW5jLmFwcGx5KHRoaXMsIGl0ZW0pO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgZWxzZSB7XG5cdCAgICAgICAgdmFyIGtleXMgPSBsaWIua2V5cyhhcnIpO1xuXHQgICAgICAgIGxlbiA9IGtleXMubGVuZ3RoO1xuXHQgICAgICAgIG91dHB1dEFyciA9IG5ldyBBcnJheShsZW4pO1xuXG5cdCAgICAgICAgaWYobGVuID09PSAwKSB7XG5cdCAgICAgICAgICAgIGNiKG51bGwsICcnKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICAgIGZvcihpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgIHZhciBrID0ga2V5c1tpXTtcblx0ICAgICAgICAgICAgICAgIGZ1bmMoaywgYXJyW2tdLCBpLCBsZW4sIGRvbmUpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHR9XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7XG5cdCAgICBGcmFtZTogRnJhbWUsXG5cdCAgICBtYWtlTWFjcm86IG1ha2VNYWNybyxcblx0ICAgIG1ha2VLZXl3b3JkQXJnczogbWFrZUtleXdvcmRBcmdzLFxuXHQgICAgbnVtQXJnczogbnVtQXJncyxcblx0ICAgIHN1cHByZXNzVmFsdWU6IHN1cHByZXNzVmFsdWUsXG5cdCAgICBlbnN1cmVEZWZpbmVkOiBlbnN1cmVEZWZpbmVkLFxuXHQgICAgbWVtYmVyTG9va3VwOiBtZW1iZXJMb29rdXAsXG5cdCAgICBjb250ZXh0T3JGcmFtZUxvb2t1cDogY29udGV4dE9yRnJhbWVMb29rdXAsXG5cdCAgICBjYWxsV3JhcDogY2FsbFdyYXAsXG5cdCAgICBoYW5kbGVFcnJvcjogaGFuZGxlRXJyb3IsXG5cdCAgICBpc0FycmF5OiBsaWIuaXNBcnJheSxcblx0ICAgIGtleXM6IGxpYi5rZXlzLFxuXHQgICAgU2FmZVN0cmluZzogU2FmZVN0cmluZyxcblx0ICAgIGNvcHlTYWZlbmVzczogY29weVNhZmVuZXNzLFxuXHQgICAgbWFya1NhZmU6IG1hcmtTYWZlLFxuXHQgICAgYXN5bmNFYWNoOiBhc3luY0VhY2gsXG5cdCAgICBhc3luY0FsbDogYXN5bmNBbGwsXG5cdCAgICBpbk9wZXJhdG9yOiBsaWIuaW5PcGVyYXRvclxuXHR9O1xuXG5cbi8qKiovIH0sXG4vKiA5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0ZnVuY3Rpb24gY3ljbGVyKGl0ZW1zKSB7XG5cdCAgICB2YXIgaW5kZXggPSAtMTtcblxuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgICBjdXJyZW50OiBudWxsLFxuXHQgICAgICAgIHJlc2V0OiBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgaW5kZXggPSAtMTtcblx0ICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gbnVsbDtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgbmV4dDogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIGluZGV4Kys7XG5cdCAgICAgICAgICAgIGlmKGluZGV4ID49IGl0ZW1zLmxlbmd0aCkge1xuXHQgICAgICAgICAgICAgICAgaW5kZXggPSAwO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gaXRlbXNbaW5kZXhdO1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50O1xuXHQgICAgICAgIH0sXG5cdCAgICB9O1xuXG5cdH1cblxuXHRmdW5jdGlvbiBqb2luZXIoc2VwKSB7XG5cdCAgICBzZXAgPSBzZXAgfHwgJywnO1xuXHQgICAgdmFyIGZpcnN0ID0gdHJ1ZTtcblxuXHQgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHZhciB2YWwgPSBmaXJzdCA/ICcnIDogc2VwO1xuXHQgICAgICAgIGZpcnN0ID0gZmFsc2U7XG5cdCAgICAgICAgcmV0dXJuIHZhbDtcblx0ICAgIH07XG5cdH1cblxuXHQvLyBNYWtpbmcgdGhpcyBhIGZ1bmN0aW9uIGluc3RlYWQgc28gaXQgcmV0dXJucyBhIG5ldyBvYmplY3Rcblx0Ly8gZWFjaCB0aW1lIGl0J3MgY2FsbGVkLiBUaGF0IHdheSwgaWYgc29tZXRoaW5nIGxpa2UgYW4gZW52aXJvbm1lbnRcblx0Ly8gdXNlcyBpdCwgdGhleSB3aWxsIGVhY2ggaGF2ZSB0aGVpciBvd24gY29weS5cblx0ZnVuY3Rpb24gZ2xvYmFscygpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgICAgcmFuZ2U6IGZ1bmN0aW9uKHN0YXJ0LCBzdG9wLCBzdGVwKSB7XG5cdCAgICAgICAgICAgIGlmKHR5cGVvZiBzdG9wID09PSAndW5kZWZpbmVkJykge1xuXHQgICAgICAgICAgICAgICAgc3RvcCA9IHN0YXJ0O1xuXHQgICAgICAgICAgICAgICAgc3RhcnQgPSAwO1xuXHQgICAgICAgICAgICAgICAgc3RlcCA9IDE7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgZWxzZSBpZighc3RlcCkge1xuXHQgICAgICAgICAgICAgICAgc3RlcCA9IDE7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICB2YXIgYXJyID0gW107XG5cdCAgICAgICAgICAgIHZhciBpO1xuXHQgICAgICAgICAgICBpZiAoc3RlcCA+IDApIHtcblx0ICAgICAgICAgICAgICAgIGZvciAoaT1zdGFydDsgaTxzdG9wOyBpKz1zdGVwKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgYXJyLnB1c2goaSk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBmb3IgKGk9c3RhcnQ7IGk+c3RvcDsgaSs9c3RlcCkge1xuXHQgICAgICAgICAgICAgICAgICAgIGFyci5wdXNoKGkpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiBhcnI7XG5cdCAgICAgICAgfSxcblxuXHQgICAgICAgIC8vIGxpcHN1bTogZnVuY3Rpb24obiwgaHRtbCwgbWluLCBtYXgpIHtcblx0ICAgICAgICAvLyB9LFxuXG5cdCAgICAgICAgY3ljbGVyOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGN5Y2xlcihBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgam9pbmVyOiBmdW5jdGlvbihzZXApIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGpvaW5lcihzZXApO1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cdH1cblxuXHRtb2R1bGUuZXhwb3J0cyA9IGdsb2JhbHM7XG5cblxuLyoqKi8gfSxcbi8qIDEwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIExvYWRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXG5cdHZhciBQcmVjb21waWxlZExvYWRlciA9IExvYWRlci5leHRlbmQoe1xuXHQgICAgaW5pdDogZnVuY3Rpb24oY29tcGlsZWRUZW1wbGF0ZXMpIHtcblx0ICAgICAgICB0aGlzLnByZWNvbXBpbGVkID0gY29tcGlsZWRUZW1wbGF0ZXMgfHwge307XG5cdCAgICB9LFxuXG5cdCAgICBnZXRTb3VyY2U6IGZ1bmN0aW9uKG5hbWUpIHtcblx0ICAgICAgICBpZiAodGhpcy5wcmVjb21waWxlZFtuYW1lXSkge1xuXHQgICAgICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgICAgICAgc3JjOiB7IHR5cGU6ICdjb2RlJyxcblx0ICAgICAgICAgICAgICAgICAgICAgICBvYmo6IHRoaXMucHJlY29tcGlsZWRbbmFtZV0gfSxcblx0ICAgICAgICAgICAgICAgIHBhdGg6IG5hbWVcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdH0pO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gUHJlY29tcGlsZWRMb2FkZXI7XG5cblxuLyoqKi8gfSxcbi8qIDExICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIHBhdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHR2YXIgT2JqID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0dmFyIGxpYiA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cblx0dmFyIExvYWRlciA9IE9iai5leHRlbmQoe1xuXHQgICAgb246IGZ1bmN0aW9uKG5hbWUsIGZ1bmMpIHtcblx0ICAgICAgICB0aGlzLmxpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzIHx8IHt9O1xuXHQgICAgICAgIHRoaXMubGlzdGVuZXJzW25hbWVdID0gdGhpcy5saXN0ZW5lcnNbbmFtZV0gfHwgW107XG5cdCAgICAgICAgdGhpcy5saXN0ZW5lcnNbbmFtZV0ucHVzaChmdW5jKTtcblx0ICAgIH0sXG5cblx0ICAgIGVtaXQ6IGZ1bmN0aW9uKG5hbWUgLyosIGFyZzEsIGFyZzIsIC4uLiovKSB7XG5cdCAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuXG5cdCAgICAgICAgaWYodGhpcy5saXN0ZW5lcnMgJiYgdGhpcy5saXN0ZW5lcnNbbmFtZV0pIHtcblx0ICAgICAgICAgICAgbGliLmVhY2godGhpcy5saXN0ZW5lcnNbbmFtZV0sIGZ1bmN0aW9uKGxpc3RlbmVyKSB7XG5cdCAgICAgICAgICAgICAgICBsaXN0ZW5lci5hcHBseShudWxsLCBhcmdzKTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSxcblxuXHQgICAgcmVzb2x2ZTogZnVuY3Rpb24oZnJvbSwgdG8pIHtcblx0ICAgICAgICByZXR1cm4gcGF0aC5yZXNvbHZlKHBhdGguZGlybmFtZShmcm9tKSwgdG8pO1xuXHQgICAgfSxcblxuXHQgICAgaXNSZWxhdGl2ZTogZnVuY3Rpb24oZmlsZW5hbWUpIHtcblx0ICAgICAgICByZXR1cm4gKGZpbGVuYW1lLmluZGV4T2YoJy4vJykgPT09IDAgfHwgZmlsZW5hbWUuaW5kZXhPZignLi4vJykgPT09IDApO1xuXHQgICAgfVxuXHR9KTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IExvYWRlcjtcblxuXG4vKioqLyB9LFxuLyogMTIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdGZ1bmN0aW9uIGluc3RhbGxDb21wYXQoKSB7XG5cdCAgJ3VzZSBzdHJpY3QnO1xuXG5cdCAgLy8gVGhpcyBtdXN0IGJlIGNhbGxlZCBsaWtlIGBudW5qdWNrcy5pbnN0YWxsQ29tcGF0YCBzbyB0aGF0IGB0aGlzYFxuXHQgIC8vIHJlZmVyZW5jZXMgdGhlIG51bmp1Y2tzIGluc3RhbmNlXG5cdCAgdmFyIHJ1bnRpbWUgPSB0aGlzLnJ1bnRpbWU7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXHQgIHZhciBsaWIgPSB0aGlzLmxpYjsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cblx0ICB2YXIgb3JpZ19jb250ZXh0T3JGcmFtZUxvb2t1cCA9IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXA7XG5cdCAgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cCA9IGZ1bmN0aW9uKGNvbnRleHQsIGZyYW1lLCBrZXkpIHtcblx0ICAgIHZhciB2YWwgPSBvcmlnX2NvbnRleHRPckZyYW1lTG9va3VwLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgICBpZiAodmFsID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgc3dpdGNoIChrZXkpIHtcblx0ICAgICAgY2FzZSAnVHJ1ZSc6XG5cdCAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgIGNhc2UgJ0ZhbHNlJzpcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgIGNhc2UgJ05vbmUnOlxuXHQgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgICB9XG5cdCAgICB9XG5cblx0ICAgIHJldHVybiB2YWw7XG5cdCAgfTtcblxuXHQgIHZhciBvcmlnX21lbWJlckxvb2t1cCA9IHJ1bnRpbWUubWVtYmVyTG9va3VwO1xuXHQgIHZhciBBUlJBWV9NRU1CRVJTID0ge1xuXHQgICAgcG9wOiBmdW5jdGlvbihpbmRleCkge1xuXHQgICAgICBpZiAoaW5kZXggPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLnBvcCgpO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChpbmRleCA+PSB0aGlzLmxlbmd0aCB8fCBpbmRleCA8IDApIHtcblx0ICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0tleUVycm9yJyk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHRoaXMuc3BsaWNlKGluZGV4LCAxKTtcblx0ICAgIH0sXG5cdCAgICByZW1vdmU6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgaWYgKHRoaXNbaV0gPT09IGVsZW1lbnQpIHtcblx0ICAgICAgICAgIHJldHVybiB0aGlzLnNwbGljZShpLCAxKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKCdWYWx1ZUVycm9yJyk7XG5cdCAgICB9LFxuXHQgICAgY291bnQ6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcblx0ICAgICAgdmFyIGNvdW50ID0gMDtcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgaWYgKHRoaXNbaV0gPT09IGVsZW1lbnQpIHtcblx0ICAgICAgICAgIGNvdW50Kys7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBjb3VudDtcblx0ICAgIH0sXG5cdCAgICBpbmRleDogZnVuY3Rpb24oZWxlbWVudCkge1xuXHQgICAgICB2YXIgaTtcblx0ICAgICAgaWYgKChpID0gdGhpcy5pbmRleE9mKGVsZW1lbnQpKSA9PT0gLTEpIHtcblx0ICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1ZhbHVlRXJyb3InKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gaTtcblx0ICAgIH0sXG5cdCAgICBmaW5kOiBmdW5jdGlvbihlbGVtZW50KSB7XG5cdCAgICAgIHJldHVybiB0aGlzLmluZGV4T2YoZWxlbWVudCk7XG5cdCAgICB9LFxuXHQgICAgaW5zZXJ0OiBmdW5jdGlvbihpbmRleCwgZWxlbSkge1xuXHQgICAgICByZXR1cm4gdGhpcy5zcGxpY2UoaW5kZXgsIDAsIGVsZW0pO1xuXHQgICAgfVxuXHQgIH07XG5cdCAgdmFyIE9CSkVDVF9NRU1CRVJTID0ge1xuXHQgICAgaXRlbXM6IGZ1bmN0aW9uKCkge1xuXHQgICAgICB2YXIgcmV0ID0gW107XG5cdCAgICAgIGZvcih2YXIgayBpbiB0aGlzKSB7XG5cdCAgICAgICAgcmV0LnB1c2goW2ssIHRoaXNba11dKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gcmV0O1xuXHQgICAgfSxcblx0ICAgIHZhbHVlczogZnVuY3Rpb24oKSB7XG5cdCAgICAgIHZhciByZXQgPSBbXTtcblx0ICAgICAgZm9yKHZhciBrIGluIHRoaXMpIHtcblx0ICAgICAgICByZXQucHVzaCh0aGlzW2tdKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gcmV0O1xuXHQgICAgfSxcblx0ICAgIGtleXM6IGZ1bmN0aW9uKCkge1xuXHQgICAgICB2YXIgcmV0ID0gW107XG5cdCAgICAgIGZvcih2YXIgayBpbiB0aGlzKSB7XG5cdCAgICAgICAgcmV0LnB1c2goayk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHJldDtcblx0ICAgIH0sXG5cdCAgICBnZXQ6IGZ1bmN0aW9uKGtleSwgZGVmKSB7XG5cdCAgICAgIHZhciBvdXRwdXQgPSB0aGlzW2tleV07XG5cdCAgICAgIGlmIChvdXRwdXQgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIG91dHB1dCA9IGRlZjtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gb3V0cHV0O1xuXHQgICAgfSxcblx0ICAgIGhhc19rZXk6IGZ1bmN0aW9uKGtleSkge1xuXHQgICAgICByZXR1cm4gdGhpcy5oYXNPd25Qcm9wZXJ0eShrZXkpO1xuXHQgICAgfSxcblx0ICAgIHBvcDogZnVuY3Rpb24oa2V5LCBkZWYpIHtcblx0ICAgICAgdmFyIG91dHB1dCA9IHRoaXNba2V5XTtcblx0ICAgICAgaWYgKG91dHB1dCA9PT0gdW5kZWZpbmVkICYmIGRlZiAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgb3V0cHV0ID0gZGVmO1xuXHQgICAgICB9IGVsc2UgaWYgKG91dHB1dCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdLZXlFcnJvcicpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGRlbGV0ZSB0aGlzW2tleV07XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIG91dHB1dDtcblx0ICAgIH0sXG5cdCAgICBwb3BpdGVtOiBmdW5jdGlvbigpIHtcblx0ICAgICAgZm9yICh2YXIgayBpbiB0aGlzKSB7XG5cdCAgICAgICAgLy8gUmV0dXJuIHRoZSBmaXJzdCBvYmplY3QgcGFpci5cblx0ICAgICAgICB2YXIgdmFsID0gdGhpc1trXTtcblx0ICAgICAgICBkZWxldGUgdGhpc1trXTtcblx0ICAgICAgICByZXR1cm4gW2ssIHZhbF07XG5cdCAgICAgIH1cblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKCdLZXlFcnJvcicpO1xuXHQgICAgfSxcblx0ICAgIHNldGRlZmF1bHQ6IGZ1bmN0aW9uKGtleSwgZGVmKSB7XG5cdCAgICAgIGlmIChrZXkgaW4gdGhpcykge1xuXHQgICAgICAgIHJldHVybiB0aGlzW2tleV07XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKGRlZiA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgZGVmID0gbnVsbDtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gdGhpc1trZXldID0gZGVmO1xuXHQgICAgfSxcblx0ICAgIHVwZGF0ZTogZnVuY3Rpb24oa3dhcmdzKSB7XG5cdCAgICAgIGZvciAodmFyIGsgaW4ga3dhcmdzKSB7XG5cdCAgICAgICAgdGhpc1trXSA9IGt3YXJnc1trXTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gbnVsbDsgIC8vIEFsd2F5cyByZXR1cm5zIE5vbmVcblx0ICAgIH1cblx0ICB9O1xuXHQgIE9CSkVDVF9NRU1CRVJTLml0ZXJpdGVtcyA9IE9CSkVDVF9NRU1CRVJTLml0ZW1zO1xuXHQgIE9CSkVDVF9NRU1CRVJTLml0ZXJ2YWx1ZXMgPSBPQkpFQ1RfTUVNQkVSUy52YWx1ZXM7XG5cdCAgT0JKRUNUX01FTUJFUlMuaXRlcmtleXMgPSBPQkpFQ1RfTUVNQkVSUy5rZXlzO1xuXHQgIHJ1bnRpbWUubWVtYmVyTG9va3VwID0gZnVuY3Rpb24ob2JqLCB2YWwsIGF1dG9lc2NhcGUpIHsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cdCAgICBvYmogPSBvYmogfHwge307XG5cblx0ICAgIC8vIElmIHRoZSBvYmplY3QgaXMgYW4gb2JqZWN0LCByZXR1cm4gYW55IG9mIHRoZSBtZXRob2RzIHRoYXQgUHl0aG9uIHdvdWxkXG5cdCAgICAvLyBvdGhlcndpc2UgcHJvdmlkZS5cblx0ICAgIGlmIChsaWIuaXNBcnJheShvYmopICYmIEFSUkFZX01FTUJFUlMuaGFzT3duUHJvcGVydHkodmFsKSkge1xuXHQgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7cmV0dXJuIEFSUkFZX01FTUJFUlNbdmFsXS5hcHBseShvYmosIGFyZ3VtZW50cyk7fTtcblx0ICAgIH1cblxuXHQgICAgaWYgKGxpYi5pc09iamVjdChvYmopICYmIE9CSkVDVF9NRU1CRVJTLmhhc093blByb3BlcnR5KHZhbCkpIHtcblx0ICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge3JldHVybiBPQkpFQ1RfTUVNQkVSU1t2YWxdLmFwcGx5KG9iaiwgYXJndW1lbnRzKTt9O1xuXHQgICAgfVxuXG5cdCAgICByZXR1cm4gb3JpZ19tZW1iZXJMb29rdXAuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICB9O1xuXHR9XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBpbnN0YWxsQ29tcGF0O1xuXG5cbi8qKiovIH1cbi8qKioqKiovIF0pXG59KTtcbjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbnVuanVja3MvYnJvd3Nlci9udW5qdWNrcy1zbGltLmpzXG4vLyBtb2R1bGUgaWQgPSA4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZW52KXtcbiAgICBmdW5jdGlvbiBwYXJzZSAocGFyc2VyLCBub2RlcywgbGV4ZXIpIHtcbiAgICAgICAgdmFyIHRvayA9IHBhcnNlci5uZXh0VG9rZW4oKTtcbiAgICAgICAga2V5ID0gcGFyc2VyLnBhcnNlU2lnbmF0dXJlKG51bGwsIHRydWUpO1xuICAgICAgICBwYXJzZXIuYWR2YW5jZUFmdGVyQmxvY2tFbmQodG9rLnZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBub2Rlcy5DYWxsRXh0ZW5zaW9uKHRoaXMsICdydW4nLCBrZXkpO1xuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiBUcmFuc2xhdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudGFncyA9IFsndHJhbnMnXTtcbiAgICAgICAgdGhpcy5wYXJzZSA9IHBhcnNlO1xuICAgICAgICB0aGlzLnJ1biA9IGZ1bmN0aW9uIChjdHgsIGtleSkge1xuICAgICAgICBcdC8vIGNvc2lubnVzX2N1cnJlbnRfbGFuZ3VhZ2UgaXMgZGVmaW5lZCBpbiBiYXNlLmh0bWxcbiAgICAgICAgXHQvLyBDT1NJTk5VU19QT19UUkFOUyBpcyBkZWZpbmVkIGluIHdlYnBhY2svc2hhcmVkLmNvbmZpZy5qc1xuICAgICAgICBcdGlmIChjb3Npbm51c19jdXJyZW50X2xhbmd1YWdlIGluIENPU0lOTlVTX1BPX1RSQU5TICYmIGtleSBpbiBDT1NJTk5VU19QT19UUkFOU1tjb3Npbm51c19jdXJyZW50X2xhbmd1YWdlXSkge1xuICAgICAgICBcdFx0dmFyIHRyYW5zID0gQ09TSU5OVVNfUE9fVFJBTlNbY29zaW5udXNfY3VycmVudF9sYW5ndWFnZV1ba2V5XTtcbiAgICAgICAgXHRcdGlmICh0cmFucyAmJiB0cmFucy5sZW5ndGggPiAwKSB7XG4gICAgICAgIFx0XHRcdHJldHVybiB0cmFucztcbiAgICAgICAgXHRcdH1cbiAgICAgICAgXHR9XG4gICAgICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIElnbm9yZSAoKSB7XG4gICAgICAgIHRoaXMudGFncyA9IFsnbG9hZCddO1xuICAgICAgICB0aGlzLnBhcnNlID0gcGFyc2U7XG4gICAgICAgIHRoaXMucnVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGVudi5hZGRFeHRlbnNpb24oJ3RyYW5zbGF0aW9uJywgbmV3IFRyYW5zbGF0aW9uKCkpO1xuICAgIGVudi5hZGRFeHRlbnNpb24oJ3Bhc3NUaHJvdWdoJywgbmV3IElnbm9yZSgpKTtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbnVuanVja3MuY29uZmlnLmpzXG4vLyBtb2R1bGUgaWQgPSA5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG51bmp1Y2tzLCBlbnYsIG9iaiwgZGVwZW5kZW5jaWVzKXtcblxuICAgIHZhciBvbGRSb290ID0gb2JqLnJvb3Q7XG5cbiAgICBvYmoucm9vdCA9IGZ1bmN0aW9uKCBlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBpZ25vcmVNaXNzaW5nLCBjYiApIHtcbiAgICAgICAgdmFyIG9sZEdldFRlbXBsYXRlID0gZW52LmdldFRlbXBsYXRlO1xuICAgICAgICBlbnYuZ2V0VGVtcGxhdGUgPSBmdW5jdGlvbiAobmFtZSwgZWMsIHBhcmVudE5hbWUsIGlnbm9yZU1pc3NpbmcsIGNiKSB7XG4gICAgICAgICAgICBpZiggdHlwZW9mIGVjID09PSBcImZ1bmN0aW9uXCIgKSB7XG4gICAgICAgICAgICAgICAgY2IgPSBlYyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIF9yZXF1aXJlID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAvLyBhZGQgYSByZWZlcmVuY2UgdG8gdGhlIGFscmVhZHkgcmVzb2x2ZWQgZGVwZW5kZW5jeSBoZXJlXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkZXBlbmRlbmNpZXNbbmFtZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmcmFtZS5nZXQoXCJfcmVxdWlyZVwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZyYW1lLmdldChcIl9yZXF1aXJlXCIpKG5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdDb3VsZCBub3QgbG9hZCB0ZW1wbGF0ZSBcIiVzXCInLCBuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciB0bXBsID0gX3JlcXVpcmUobmFtZSk7XG4gICAgICAgICAgICBmcmFtZS5zZXQoXCJfcmVxdWlyZVwiLCBfcmVxdWlyZSk7XG5cbiAgICAgICAgICAgIGlmKCBlYyApIHRtcGwuY29tcGlsZSgpO1xuICAgICAgICAgICAgY2IoIG51bGwsIHRtcGwgKTtcbiAgICAgICAgfTtcblxuICAgICAgICBvbGRSb290KGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGlnbm9yZU1pc3NpbmcsIGZ1bmN0aW9uIChlcnIsIHJlcykge1xuICAgICAgICAgICAgZW52LmdldFRlbXBsYXRlID0gb2xkR2V0VGVtcGxhdGU7XG4gICAgICAgICAgICBjYiggZXJyLCByZXMgKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBzcmMgPSB7XG4gICAgICAgIG9iajogb2JqLFxuICAgICAgICB0eXBlOiAnY29kZSdcbiAgICB9O1xuXG4gICAgcmV0dXJuIG5ldyBudW5qdWNrcy5UZW1wbGF0ZShzcmMsIGVudik7XG5cbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L251bmp1Y2tzLWxvYWRlci9ydW50aW1lLXNoaW0uanNcbi8vIG1vZHVsZSBpZCA9IDEwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBudW5qdWNrcyA9IHJlcXVpcmUoXCJudW5qdWNrcy9icm93c2VyL251bmp1Y2tzLXNsaW1cIik7XG52YXIgZW52O1xuaWYgKCFudW5qdWNrcy5jdXJyZW50RW52KXtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudiA9IG5ldyBudW5qdWNrcy5FbnZpcm9ubWVudChbXSwgdW5kZWZpbmVkKTtcbn0gZWxzZSB7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnY7XG59XG52YXIgY29uZmlndXJlID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uLy4uL251bmp1Y2tzLmNvbmZpZy5qc1wiKShlbnYpO1xudmFyIGRlcGVuZGVuY2llcyA9IG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgfHwgKG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgPSB7fSk7XG5cblxuXG5cbnZhciBzaGltID0gcmVxdWlyZShcIi9ob21lL3Nhc2NoYS9wci9jb3Npbm51cy1jb3JlL25vZGVfbW9kdWxlcy9udW5qdWNrcy1sb2FkZXIvcnVudGltZS1zaGltXCIpO1xuXG5cbihmdW5jdGlvbigpIHsobnVuanVja3MubnVuanVja3NQcmVjb21waWxlZCA9IG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgfHwge30pW1wiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC9tYXAvcG9wdXAuaHRtbFwiXSA9IChmdW5jdGlvbigpIHtcbmZ1bmN0aW9uIHJvb3QoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbnZhciBwYXJlbnRUZW1wbGF0ZSA9IG51bGw7XG5vdXRwdXQgKz0gXCI8ZGl2IGNsYXNzPVxcXCJwb3B1cFxcXCI+XFxuICAgIDxpbWcgc3JjPVxcXCJcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJpbWFnZVVSTFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiIC8+XFxuICAgIDxkaXYgY2xhc3M9XFxcImRldGFpbHNcXFwiPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwibGlua1xcXCI+XFxuICAgICAgICAgICAgPGEgaHJlZj1cXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwidXJsXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiPlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInRpdGxlXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIjwvYT5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiYWRkcmVzc1xcXCI+XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWRkcmVzc1wiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCI8L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImRlc2NyaXB0aW9uXFxcIj5cIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJkZXNjcmlwdGlvblwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCI8L2Rpdj5cXG4gICAgPC9kaXY+XFxuPC9kaXY+XFxuXCI7XG5pZihwYXJlbnRUZW1wbGF0ZSkge1xucGFyZW50VGVtcGxhdGUucm9vdFJlbmRlckZ1bmMoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpO1xufSBlbHNlIHtcbmNiKG51bGwsIG91dHB1dCk7XG59XG47XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxucmV0dXJuIHtcbnJvb3Q6IHJvb3Rcbn07XG5cbn0pKCk7XG59KSgpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBzaGltKG51bmp1Y2tzLCBlbnYsIG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWRbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL21hcC9wb3B1cC5odG1sXCJdICwgZGVwZW5kZW5jaWVzKVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC9tYXAvcG9wdXAuaHRtbFxuLy8gbW9kdWxlIGlkID0gMTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIG51bmp1Y2tzID0gcmVxdWlyZShcIm51bmp1Y2tzL2Jyb3dzZXIvbnVuanVja3Mtc2xpbVwiKTtcbnZhciBlbnY7XG5pZiAoIW51bmp1Y2tzLmN1cnJlbnRFbnYpe1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52ID0gbmV3IG51bmp1Y2tzLkVudmlyb25tZW50KFtdLCB1bmRlZmluZWQpO1xufSBlbHNlIHtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudjtcbn1cbnZhciBjb25maWd1cmUgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vLi4vbnVuanVja3MuY29uZmlnLmpzXCIpKGVudik7XG52YXIgZGVwZW5kZW5jaWVzID0gbnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyB8fCAobnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyA9IHt9KTtcblxuXG5cblxudmFyIHNoaW0gPSByZXF1aXJlKFwiL2hvbWUvc2FzY2hhL3ByL2Nvc2lubnVzLWNvcmUvbm9kZV9tb2R1bGVzL251bmp1Y2tzLWxvYWRlci9ydW50aW1lLXNoaW1cIik7XG5cblxuKGZ1bmN0aW9uKCkgeyhudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkID0gbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZCB8fCB7fSlbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL21hcC9tYXAuaHRtbFwiXSA9IChmdW5jdGlvbigpIHtcbmZ1bmN0aW9uIHJvb3QoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbnZhciBwYXJlbnRUZW1wbGF0ZSA9IG51bGw7XG5vdXRwdXQgKz0gXCI8ZGl2IGlkPVxcXCJtYXAtY29udGFpbmVyXFxcIiBjbGFzcz1cXFwibWFwLXJvb3QgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImZ1bGxzY3JlZW5cIikpIHtcbm91dHB1dCArPSBcIiBtYXAtZnVsbHNjcmVlbiBcIjtcbjtcbn1cbmVsc2Uge1xub3V0cHV0ICs9IFwiIG1hcC1lbWJlZCBcIjtcbjtcbn1cbm91dHB1dCArPSBcIiAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNwbGl0c2NyZWVuXCIpKSB7XG5vdXRwdXQgKz0gXCIgbWFwLXNwbGl0c2NyZWVuIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiIG1vYmlsZS12aWV3IG1vYmlsZS12aWV3LW1hcC12aXNpYmxlLWJsb2NrIG1vYmlsZS12aWV3LXNlYXJjaC12aXNpYmxlLWJsb2NrIG1vYmlsZS12aWV3LWxpc3QtdmlzaWJsZS1ibG9jayBtb2JpbGUtdmlldy1kZXRhaWwtdmlzaWJsZS1ibG9jayBtb2JpbGUtdmlldy1pZGVhLWNyZWF0ZS0xLXZpc2libGUtYmxvY2sgbW9iaWxlLXZpZXctaWRlYS1jcmVhdGUtMi12aXNpYmxlLWJsb2NrXFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwibWFwLWxheWVycy1idXR0b25zXFxcIj48L2Rpdj5cXG4gICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvbnRyb2xzRW5hYmxlZFwiKSkge1xub3V0cHV0ICs9IFwiXFxuXFx0ICAgIDxhIGNsYXNzPVxcXCJtYXAtZXhwYW5kLWJ1dHRvbiBtb2JpbGUtaGlkZGVuXFxcIj5cXG5cXHQgICAgXFx0PGkgY2xhc3M9XFxcImZhIGZhLWZ3IGZhLWNhcmV0LXJpZ2h0IGV4cGFuZGVkXFxcIj48L2k+XFx0XFxuXFx0ICAgIFxcdDxpIGNsYXNzPVxcXCJmYSBmYS1mdyBmYS1zZWFyY2ggY29udHJhY3RlZFxcXCI+PC9pPlxcdFxcblxcdCAgICA8L2E+XFxuICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuPC9kaXY+XCI7XG5pZihwYXJlbnRUZW1wbGF0ZSkge1xucGFyZW50VGVtcGxhdGUucm9vdFJlbmRlckZ1bmMoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpO1xufSBlbHNlIHtcbmNiKG51bGwsIG91dHB1dCk7XG59XG47XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxucmV0dXJuIHtcbnJvb3Q6IHJvb3Rcbn07XG5cbn0pKCk7XG59KSgpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBzaGltKG51bmp1Y2tzLCBlbnYsIG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWRbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL21hcC9tYXAuaHRtbFwiXSAsIGRlcGVuZGVuY2llcylcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Nvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvbWFwL21hcC5odG1sXG4vLyBtb2R1bGUgaWQgPSAxMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbi8vIFB1Yi1zdWIgZXZlbnQgbWVkaWF0b3IgYW5kICBkYXRhIHN0b3JlLlxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgcHVibGlzaDogZnVuY3Rpb24gKGV2ZW50TmFtZSwgZGF0YSkge1xuICAgICAgICBCYWNrYm9uZS50cmlnZ2VyKGV2ZW50TmFtZSwgZGF0YSk7XG4gICAgfSxcblxuICAgIHN1YnNjcmliZTogZnVuY3Rpb24gKGV2ZW50LCBjYWxsYmFjaywgY29udGV4dCkge1xuICAgICAgICBCYWNrYm9uZS5vbihldmVudCwgY2FsbGJhY2ssIGNvbnRleHQpO1xuICAgIH1cbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Nvc2lubnVzL2NsaWVudC9tZWRpYXRvci5qc1xuLy8gbW9kdWxlIGlkID0gMTNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgQ29udGVudENvbnRyb2xWaWV3ID0gcmVxdWlyZSgndmlld3MvYmFzZS9jb250ZW50LWNvbnRyb2wtdmlldycpO1xudmFyIEVycm9yVmlldyA9IHJlcXVpcmUoJ3ZpZXdzL2Vycm9yLXZpZXcnKTtcbnZhciBQYWdpbmF0aW9uQ29udHJvbFZpZXcgPSByZXF1aXJlKCd2aWV3cy9wYWdpbmF0aW9uLWNvbnRyb2wtdmlldycpO1xudmFyIE1vYmlsZUNvbnRyb2xWaWV3ID0gcmVxdWlyZSgndmlld3MvbW9iaWxlLWNvbnRyb2wtdmlldycpO1xudmFyIENyZWF0ZUlkZWFWaWV3ID0gcmVxdWlyZSgndmlld3MvY3JlYXRlLWlkZWEtdmlldycpO1xuXG52YXIgUmVzdWx0Q29sbGVjdGlvbiA9IHJlcXVpcmUoJ2NvbGxlY3Rpb25zL3Jlc3VsdC1jb2xsZWN0aW9uJyk7XG52YXIgUmVzdWx0ID0gcmVxdWlyZSgnbW9kZWxzL3Jlc3VsdCcpO1xuXG52YXIgdXRpbCA9IHJlcXVpcmUoJ2xpYi91dGlsLmpzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gQ29udGVudENvbnRyb2xWaWV3LmV4dGVuZCh7XG4gICAgXG4gICAgdGVtcGxhdGU6IHJlcXVpcmUoJ21hcC9tYXAtY29udHJvbHMnKSxcbiAgICBcbiAgICBhY3RpdmVGaWx0ZXJzVGVtcGxhdGU6IHJlcXVpcmUoJ21hcC9tYXAtY29udHJvbHMtYWN0aXZlLWZpbHRlcnMnKSxcbiAgICBcbiAgICAvLyB3aWxsIGJlIHNldCB0byBzZWxmLm9wdGlvbnMgZHVyaW5nIGluaXRpYWxpemF0aW9uXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgYXZhaWxhYmxlRmlsdGVyczoge1xuICAgICAgICAgICAgcGVvcGxlOiB0cnVlLFxuICAgICAgICAgICAgcHJvamVjdHM6IHRydWUsXG4gICAgICAgICAgICBncm91cHM6IHRydWUsXG4gICAgICAgICAgICBldmVudHM6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICAgIGFjdGl2ZUZpbHRlcnM6IHtcbiAgICAgICAgICAgIHBlb3BsZTogdHJ1ZSxcbiAgICAgICAgICAgIHByb2plY3RzOiB0cnVlLFxuICAgICAgICAgICAgZ3JvdXBzOiB0cnVlLFxuICAgICAgICAgICAgZXZlbnRzOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgICBhdmFpbGFibGVGaWx0ZXJMaXN0OiBbXSwgLy8gY29udGFpbnMgYXZhaWxhYmxlRmlsdGVycyBrZXlzIHRoYXQgYXJlIHRydWUsIGdlbmVyYXRlZCBvbiBpbml0aWFsaXplXG4gICAgICAgIFxuICAgICAgICBhbGxUb3BpY3M6IHt9LCAgLy8gdGhlIGRpY3Qgb2YgYWxsIHNlYXJjaGFibGUgdG9waWNzXG4gICAgICAgIGFsbFRleHRUb3BpY3M6IHt9LFxuICAgICAgICBhbGxTREdTOiB7fSwgLy8gdGhlIGRpY3Qgb2YgYWxsIHNlYXJjaGFibGUgU0RHc1xuICAgICAgICBhbGxNYW5hZ2VkVGFnczoge30sIC8vIHRoZSBkaWN0IG9mIGFsbCBzZWFyY2hhYmxlIENvc2lubnVzTWFuYWdlZFRhZ3NcbiAgICAgICAgbWFuYWdlZFRhZ3NMYWJlbHM6IHt9LCAvLyB0aGUgbGFiZWxzIGRpY3QgZm9yIENvc2lubnVzTWFuYWdlZFRhZ3NcbiAgICAgICAgc2hvd01hbmFnZWRUYWdzT25UeXBlc1NlbGVjdGVkOiBbXSxcbiAgICAgICAgc2hvd1RleHRUb3BpY3NPblR5cGVzU2VsZWN0ZWQ6IFtdLFxuICAgICAgICBwb3J0YWxJbmZvOiB7fSwgLy8gcG9ydGFsIGluZm8gYnkgcG9ydGFsLWlkLCBmcm9tIGBnZXRfY29zaW5udXNfcG9ydGFsX2luZm8oKWBcbiAgICAgICAgY29udHJvbHNFbmFibGVkOiB0cnVlLFxuICAgICAgICBmaWx0ZXJHcm91cDogbnVsbCxcbiAgICAgICAgZmlsdGVyTWFuYWdlZFRhZzogbnVsbCwgLy8gdXNlZCBvbmx5IGZvciBpbml0aWFsbHkgc2V0dGluZyB0aGUgc3RhdGUuYWN0aXZlTWFuYWdlZFRhZ3NJZHNcbiAgICAgICAgZnVsbHNjcmVlbjogZmFsc2UsXG4gICAgICAgIHNwbGl0c2NyZWVuOiBmYWxzZSxcbiAgICAgICAgc2hvd01pbmU6IGZhbHNlLCAvLyBVUkwgcGFyYW0uIGlmIHRydWUsIG9ubHkgdGhlIGN1cnJlbnQgdXNlcidzIG93biByZXN1bHRzIHdpbGwgYmUgc2hvd24uIGlnbm9yZWQgYXdheSBpZiB1c2VyIGlzIG5vdCBsb2dnZWQgaW4uXG4gICAgICAgIGhpZGVUb3BpY3M6IGZhbHNlLFxuICAgICAgICBcbiAgICAgICAgcGFnaW5hdGlvbkNvbnRyb2xzRW5hYmxlZDogdHJ1ZSwgXG4gICAgICAgIHBhZ2luYXRpb25Db250cm9sc1VzZUluZmluaXRlU2Nyb2xsOiBmYWxzZSwgLy8gaWYgdHJ1ZSwgdGhlIHBhZ2luYXRpb24gY29udHJvbHMgd2lsbCBiZSBoaWRkZW4gYW5kIGluZmluaXRlIHNjcm9sbCB3aWxsIGJlIHVzZWRcbiAgICAgICAgXG4gICAgICAgIC8vIGluIGZ1bGxzY3JlZW4gbW9kZSwgdGhpcyBtdXN0IGFsd2F5cyBiZSB0aGUgYmFzZSBVUkwgd2Ugc3RhcnRlZCBhdFxuICAgICAgICBiYXNlUGFnZVVSTDogJy9tYXAvJyxcbiAgICAgICAgXG4gICAgICAgIC8vIHdpbGwgYmUgc2V0IHRvIHNlbGYuc3RhdGUgZHVyaW5nIGluaXRpYWxpemF0aW9uXG4gICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgICAvLyBjdXJyZW50IHF1ZXJ5XG4gICAgICAgICAgICBxOiAnJywgLy8gVVJMIHBhcmFtLiBcbiAgICAgICAgICAgIGFjdGl2ZVRvcGljSWRzOiBbXSxcbiAgICAgICAgICAgIGFjdGl2ZVRleHRUb3BpY0lkczogW10sXG4gICAgICAgICAgICBhY3RpdmVTREdJZHM6IFtdLFxuICAgICAgICAgICAgYWN0aXZlTWFuYWdlZFRhZ3NJZHM6IFtdLFxuICAgICAgICAgICAgZmlsdGVyc0FjdGl2ZTogZmFsc2UsIC8vIFVSTCBwYXJhbS4gIGlmIHRydWUsIGFueSBmaWx0ZXIgaXMgYWN0aXZlIGFuZCB3ZSBkaXNwbGF5IGEgcmVzZXQtZmlsdGVyIGJ1dHRvblxuICAgICAgICAgICAgdHlwZUZpbHRlcnNBY3RpdmU6IGZhbHNlLCAvLyBVUkwgcGFyYW0uICBhIHJlc3VsdCB0eXBlIGZpbHRlciBpcyBhY3RpdmVcbiAgICAgICAgICAgIHRvcGljRmlsdGVyc0FjdGl2ZTogZmFsc2UsIC8vIFVSTCBwYXJhbS4gIGEgdG9waWMgZmlsdGVyIGlzIGFjdGl2ZVxuICAgICAgICAgICAgZGF0ZUZpbHRlcnNBY3RpdmU6IGZhbHNlLCAvLyBpZiB0aGUgZGF0ZXRpbWUgd2lkZ2V0IHBpY2tlcnMgYW5kIGRhdGUgZmlsdGVycyBhcmUgYWN0aXZlLiBvbmx5IHRydWUgaWYgb25seSBldmVudC1saWtlIHR5cGVzIGFyZSBhY3RpdmVcbiAgICAgICAgICAgIHRleHRUb3BpY0ZpbHRlcnNBY3RpdmU6IGZhbHNlLFxuICAgICAgICAgICAgc2RnRmlsdGVyc0FjdGl2ZTogZmFsc2UsXG4gICAgICAgICAgICBtYW5hZ2VkVGFnc0ZpbHRlcnNBY3RpdmU6IGZhbHNlLFxuICAgICAgICAgICAgaWdub3JlTG9jYXRpb246IGZhbHNlLCAvLyBpZiB0cnVlLCBzZWFyY2ggaWdub3JlcyBhbGwgZ2VvLWxvYyBhbmQgZXZlbiBzaG93cyByZXN1bHRzIHdpdGhvdXQgdGFnZ2VkIGxvY2F0aW9uXG4gICAgICAgICAgICBleGNoYW5nZTogZmFsc2UsIC8vIGlmIHRydWUsIHNlYXJjaCBpbmNsdWRlcyBjb250ZW50cyBmcm9tIGV4dGVybmFsIHBsYXRmb3Jtc1xuICAgICAgICAgICAgc2VhcmNoaW5nOiBmYWxzZSxcbiAgICAgICAgICAgIHNlYXJjaEhhZEVycm9yczogZmFsc2UsXG4gICAgICAgICAgICBzZWFyY2hSZXN1bHRMaW1pdDogMjAsXG4gICAgICAgICAgICBwYWdlOiBudWxsLCAgLy8gVVJMIHBhcmFtLiBcbiAgICAgICAgICAgIHBhZ2VJbmRleDogMCxcbiAgICAgICAgICAgIHNlYXJjaE9uU2Nyb2xsOiB0cnVlLFxuICAgICAgICAgICAgcmVzdWx0c1N0YWxlOiBmYWxzZSxcbiAgICAgICAgICAgIHVybFNlbGVjdGVkUmVzdWx0SWQ6IG51bGwsIC8vIFVSTCBwYXJhbS4gdGhlIGN1cnJlbnRseSBzZWxlY3RlZCByZXN1bHQsIGdpdmVuIGluIHRoZSB1cmxcbiAgICAgICAgICAgIGZpbHRlclBhbmVsVmlzaWJsZTogZmFsc2UsXG4gICAgICAgICAgICBsYXN0Vmlld0JlZm9yZURldGFpbFdhc0xpc3RWaWV3OiBmYWxzZSwgLy8gYSBzYXZlc3RhdGUgc28gd2Uga25vdyB3aGljaCB2aWV3IHRvIHJldHVybiB0byBhZnRlciBjbG9zaW5nIHRoZSBkZXRhaWwgdmlldyBvbiBtb2JpbGUsXG4gICAgICAgICAgICBkaXNwbGF5TWFuYWdlZFRhZ3NGaWx0ZXI6IHRydWUsXG4gICAgICAgICAgICBkaXNwbGF5VGV4dFRvcGNGaWx0ZXI6IHRydWUsXG4gICAgICAgICAgICBmcm9tRGF0ZTogbnVsbCxcbiAgICAgICAgICAgIGZyb21UaW1lOiBudWxsLFxuICAgICAgICAgICAgdG9EYXRlOiBudWxsLFxuICAgICAgICAgICAgdG9UaW1lOiBudWxsXG4gICAgICAgIH1cbiAgICB9LFxuICAgIFxuICAgIC8vIHRoZSBtYWluIFJlc3VsdENvbGxlY3Rpb24gb2YgYWxsIGRpc3BsYXllZCByZXN1bHRzXG4gICAgY29sbGVjdGlvbjogbnVsbCxcblxuICAgIHBhZ2luYXRpb25Db250cm9sVmlldzogbnVsbCxcbiAgICBtb2JpbGVDb250cm9sVmlldzogbnVsbCxcbiAgICBjcmVhdGVJZGVhVmlldzogbnVsbCxcbiAgICBcbiAgICAvLyB0aGUgY3VycmVudGx5IGhvdmVyZWQgb24gYW5kIHNlbGVjdGVkIFJlc3VsdCBpdGVtc1xuICAgIHNlbGVjdGVkUmVzdWx0OiBudWxsLFxuICAgIGhvdmVyZWRSZXN1bHQ6IG51bGwsXG4gICAgZGV0YWlsUmVzdWx0OiBudWxsLCAvLyB0aGUgUmVzdWx0IGRpc3BsYXllZCBhcyBEZXRhaWxWaWV3IHJlc3VsdC4gbm90IHRoZSBzYW1lIGFzIGBzZWxlY3RlZFJlc3VsdGAhXG4gICAgZGV0YWlsUmVzdWx0Q2FjaGU6IHt9LFxuICAgIFxuICAgIHNlYXJjaEVuZHBvaW50VVJMOiAnL21hcC9zZWFyY2gvJyxcbiAgICBkZXRhaWxFbmRwb2ludFVSTDogJy9tYXAvZGV0YWlsLycsXG4gICAgc2VhcmNoRGVsYXk6IDEsIC8vIHNpbmNlIHdlIGFyZSBjYW5jZWxsaW5nIHhocnMgcHJvcGVybHksIHdlIGRvIG5vdCBuZWVkIHRvIGRlbGF5IHNlYXJjaGVzIGFueW1vcmUuIGJ1dCBsZWF2aW5nIGl0IGluIGlmIHdlIGV2ZXIgZG8gYWdhaW4uXG4gICAgc2VhcmNoWEhSVGltZW91dDogMTUwMDAsXG4gICAgY3VycmVudFNlYXJjaEh0dHBSZXF1ZXN0OiBudWxsLCBcbiAgICBjdXJyZW50RGV0YWlsSHR0cFJlcXVlc3Q6IG51bGwsXG4gICAgXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gKG9wdGlvbnMsIGFwcCwgY29sbGVjdGlvbikge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIC8vIGFkZCBjb25mZXJlbmNlcyBtb2RlbHMgaWYgYWN0aXZlXG4gICAgICAgIGlmIChDT1NJTk5VU19DT05GRVJFTkNFU19FTkFCTEVEKSB7XG4gICAgICAgICAgICBzZWxmLmRlZmF1bHRzLmF2YWlsYWJsZUZpbHRlcnNbJ2NvbmZlcmVuY2VzJ10gPSB0cnVlO1xuICAgICAgICAgICAgc2VsZi5kZWZhdWx0cy5hY3RpdmVGaWx0ZXJzWydjb25mZXJlbmNlcyddID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhZGQgaWRlYSBtb2RlbHMgaWYgYWN0aXZlXG4gICAgICAgIGlmIChDT1NJTk5VU19JREVBU19FTkFCTEVEKSB7XG4gICAgICAgIFx0c2VsZi5kZWZhdWx0cy5hdmFpbGFibGVGaWx0ZXJzWydpZGVhcyddID0gdHJ1ZTtcbiAgICAgICAgXHRzZWxmLmRlZmF1bHRzLmFjdGl2ZUZpbHRlcnNbJ2lkZWFzJ10gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFkZCBvcmdhbml6YXRpb24gbW9kZWxzIGlmIGFjdGl2ZVxuICAgICAgICBpZiAoQ09TSU5OVVNfT1JHQU5JWkFUSU9OU19FTkFCTEVEKSB7XG4gICAgICAgICAgICBzZWxmLmRlZmF1bHRzLmF2YWlsYWJsZUZpbHRlcnNbJ29yZ2FuaXphdGlvbnMnXSA9IHRydWU7XG4gICAgICAgICAgICBzZWxmLmRlZmF1bHRzLmFjdGl2ZUZpbHRlcnNbJ29yZ2FuaXphdGlvbnMnXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKENPU0lOTlVTX0NMT1VEX0VOQUJMRUQpIHtcbiAgICAgICAgICAgIHNlbGYuZGVmYXVsdHMuYXZhaWxhYmxlRmlsdGVyTGlzdFsnY2xvdWRmaWxlcyddID0gdHJ1ZTtcbiAgICAgICAgICAgIHNlbGYuZGVmYXVsdHMuYWN0aXZlRmlsdGVyc1snY2xvdWRmaWxlcyddID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgQ29udGVudENvbnRyb2xWaWV3LnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwoc2VsZiwgb3B0aW9ucywgYXBwLCBjb2xsZWN0aW9uKTtcbiAgICAgICAgXG4gICAgICAgIF8uZWFjaCh0aGlzLm9wdGlvbnMuYXZhaWxhYmxlRmlsdGVycywgZnVuY3Rpb24oYWN0aXZlLCB0eXBlKXtcbiAgICAgICAgICAgIGlmIChhY3RpdmUpIHtcbiAgICAgICAgICAgIFx0c2VsZi5vcHRpb25zLmF2YWlsYWJsZUZpbHRlckxpc3QucHVzaCh0eXBlKTsgXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoQ09TSU5OVVNfTUFQX09QVElPTlNbJ2ZpbHRlcl9wYW5lbF9kZWZhdWx0X3Zpc2libGUnXSkge1xuICAgICAgICAgICAgc2VsZi5zdGF0ZS5maWx0ZXJQYW5lbFZpc2libGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChDT1NJTk5VU19NQVBfT1BUSU9OU1snaWdub3JlX2xvY2F0aW9uX2RlZmF1bHRfYWN0aXZhdGVkJ10pIHtcbiAgICAgICAgICAgIHNlbGYuc3RhdGUuaWdub3JlTG9jYXRpb24gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChDT1NJTk5VU19NQVBfT1BUSU9OU1snZXhjaGFuZ2VfZGVmYXVsdF9hY3RpdmF0ZWQnXSkge1xuICAgICAgICAgICAgc2VsZi5zdGF0ZS5leGNoYW5nZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmICghc2VsZi5jb2xsZWN0aW9uKSB7XG4gICAgICAgICAgICBzZWxmLmNvbGxlY3Rpb24gPSBuZXcgUmVzdWx0Q29sbGVjdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLnNlYXJjaFJlc3VsdExpbWl0ICYmICFpc05hTihvcHRpb25zLnNlYXJjaFJlc3VsdExpbWl0KSkge1xuICAgICAgICBcdHZhciBzZWFyY2hSZXN1bHRMaW1pdCA9IHBhcnNlSW50KG9wdGlvbnMuc2VhcmNoUmVzdWx0TGltaXQpO1xuICAgICAgICBcdGlmIChzZWFyY2hSZXN1bHRMaW1pdCA+IDApIHtcbiAgICAgICAgXHRcdHNlbGYuc3RhdGUuc2VhcmNoUmVzdWx0TGltaXQgPSBvcHRpb25zLnNlYXJjaFJlc3VsdExpbWl0O1xuICAgICAgICBcdH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgQmFja2JvbmUubWVkaWF0b3Iuc3Vic2NyaWJlKCd3YW50OnNlYXJjaCcsIHNlbGYuaGFuZGxlU3RhcnRTZWFyY2gsIHNlbGYpO1xuICAgICAgICBCYWNrYm9uZS5tZWRpYXRvci5zdWJzY3JpYmUoJ2VuZDpzZWFyY2gnLCBzZWxmLmhhbmRsZUVuZFNlYXJjaCwgc2VsZik7XG4gICAgICAgIEJhY2tib25lLm1lZGlhdG9yLnN1YnNjcmliZSgnYXBwOnJlYWR5Jywgc2VsZi5oYW5kbGVBcHBSZWFkeSwgc2VsZik7XG4gICAgICAgIEJhY2tib25lLm1lZGlhdG9yLnN1YnNjcmliZSgnYXBwOnN0YWxlLXJlc3VsdHMnLCBzZWxmLmhhbmRsZVN0YWxlUmVzdWx0cywgc2VsZik7XG4gICAgICAgIFxuICAgICAgICBzZWxmLnRyaWdnZXJNb2JpbGVEZWZhdWx0VmlldygpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmZpbHRlck1hbmFnZWRUYWcgIT0gbnVsbCkge1xuICAgICAgICAgICAgc2VsZi5kZWZhdWx0cy5maWx0ZXJNYW5hZ2VkVGFnID0gb3B0aW9ucy5maWx0ZXJNYW5hZ2VkVGFnO1xuICAgICAgICB9IFxuICAgICAgICBcbiAgICAgICAgdXRpbC5sb2coJ2NvbnRyb2wtdmlldy5qczogaW5pdGlhbGl6ZWQuIHdpdGggc2VsZi5BcHA9JyArIHNlbGYuQXBwKVxuICAgIH0sXG5cbiAgICBldmVudHM6IHtcbiAgICAgICAgJ2NsaWNrIC5yZXN1bHQtZmlsdGVyLWJ1dHRvbic6ICd0b2dnbGVGaWx0ZXJCdXR0b24nLFxuICAgICAgICAnY2xpY2sgLnRvcGljLWJ1dHRvbic6ICd0b2dnbGVGaWx0ZXJCdXR0b24nLFxuICAgICAgICAnY2xpY2sgLnRleHQtdG9waWMtYnV0dG9uJzogJ3RvZ2dsZUZpbHRlckJ1dHRvbicsXG4gICAgICAgICdjbGljayAucmVzZXQtYWxsJzogJ3Jlc2V0QWxsQ2xpY2tlZCcsXG4gICAgICAgICdjbGljayAucXVlcnktc2VhcmNoLWJ1dHRvbiAnOiAndHJpZ2dlclF1ZXJ5U2VhcmNoJyxcbiAgICAgICAgJ2NsaWNrIC5pY29uLWZpbHRlcnMnOiAndG9nZ2xlRmlsdGVyUGFuZWwnLFxuICAgICAgICAnZm9jdXMgLnEnOiAnc2hvd0ZpbHRlclBhbmVsJyxcbiAgICAgICAgJ2NsaWNrIC5yZXNldC10eXBlLWZpbHRlcnMnOiAncmVzZXRUeXBlRmlsdGVyc0NsaWNrZWQnLFxuICAgICAgICAnY2xpY2sgLnJlc2V0LXRvcGljLWZpbHRlcnMnOiAncmVzZXRUb3BpY0ZpbHRlcnNDbGlja2VkJyxcbiAgICAgICAgJ2NsaWNrIC5yZXNldC10ZXh0LXRvcGljLWZpbHRlcnMnOiAncmVzZXRUZXh0VG9waWNGaWx0ZXJzQ2xpY2tlZCcsXG4gICAgICAgICdjbGljayAucmVzZXQtc2RnLWZpbHRlcnMnOiAncmVzZXRTREdGaWx0ZXJzQ2xpY2tlZCcsXG4gICAgICAgICdjbGljayAucmVzZXQtbWFuYWdlZC10YWctZmlsdGVycyc6ICdyZXNldE1hbmFnZWRUYWdzRmlsdGVyc0NsaWNrZWQnLFxuICAgICAgICAnY2xpY2sgLnJlc2V0LXEnOiAncmVzZXRRQ2xpY2tlZCcsXG4gICAgICAgICdjbGljayAucmVzZXQtdHlwZS1hbmQtdG9waWMtZmlsdGVycyc6ICdyZXNldEFsbENsaWNrZWQnLCAvLyB1c2UgdGhpcyB0byBvbmx5IHJlc2V0IHRoZSBmaWx0ZXJzIGJveDogJ3Jlc2V0VHlwZUFuZFRvcGljRmlsdGVyc0NsaWNrZWQnLFxuICAgICAgICAnY2xpY2sgLmFjdGl2ZS1maWx0ZXJzJzogJ3Nob3dGaWx0ZXJQYW5lbCcsXG4gICAgICAgICdjaGFuZ2UgLmNoZWNrLWlnbm9yZS1sb2NhdGlvbic6ICdtYXJrU2VhcmNoQm94U2VhcmNoYWJsZScsXG4gICAgICAgICdjaGFuZ2UgLmNoZWNrLWV4Y2hhbmdlJzogJ21hcmtTZWFyY2hCb3hTZWFyY2hhYmxlJyxcbiAgICAgICAgXG4gICAgICAgICdrZXl1cCAucSc6ICdoYW5kbGVUeXBpbmcnLFxuICAgICAgICAna2V5ZG93biAucSc6ICdoYW5kbGVLZXlEb3duJyxcblxuICAgICAgICAnY2xpY2sgLnNkZy1idXR0b24nOiAndG9nZ2xlU0RHRmlsdGVyQnV0dG9uJyxcbiAgICAgICAgJ2NsaWNrIC5tYW5hZ2VkLXRhZy1idXR0b24nOiAndG9nZ2xlTWFuYWdlZFRhZ3NGaWx0ZXJCdXR0b24nLFxuICAgICAgICAnbW91c2VlbnRlciAuaG92ZXItaW1hZ2UtYnV0dG9uJzogJ3Nob3dIb3Zlckljb24nLFxuICAgICAgICAnbW91c2VsZWF2ZSAuaG92ZXItaW1hZ2UtYnV0dG9uJzogJ2hpZGVIb3Zlckljb24nLFxuICAgICAgICAnbW91c2VlbnRlciAuaG92ZXItaW1hZ2UtaWNvbic6ICdoaWRlSG92ZXJJY29uJ1xuICAgIH0sXG5cbiAgICAvLyBFdmVudCBIYW5kbGVyc1xuICAgIC8vIC0tLS0tLS0tLS0tLS0tXG5cbiAgICB0b2dnbGVGaWx0ZXJCdXR0b246IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgJGJ1dHRvbiA9ICQoZXZlbnQuY3VycmVudFRhcmdldCk7XG4gICAgICAgIC8vIGNoZWNrIGlmIGFsbCBidXR0b25zIG9mIHRoaXMgdHlwZSBhcmUgc2VsZWN0ZWQuXG4gICAgICAgIC8vICBpZiBzbywgbWFrZSB0aGlzIGNsaWNrIG9ubHkgc2VsZWN0IHRoaXMgYnV0dG9uIChkZXNlbGVjdCBhbGwgb3RoZXJzKVxuICAgICAgICBpZiAoJGJ1dHRvbi5oYXNDbGFzcygncmVzdWx0LWZpbHRlci1idXR0b24nKSAmJlxuICAgICAgICAgICAgdGhpcy4kZWwuZmluZCgnLnJlc3VsdC1maWx0ZXItYnV0dG9uJykubGVuZ3RoID09IHRoaXMuJGVsLmZpbmQoJy5yZXN1bHQtZmlsdGVyLWJ1dHRvbi5zZWxlY3RlZCcpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuJGVsLmZpbmQoJy5yZXN1bHQtZmlsdGVyLWJ1dHRvbicpLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpO1xuICAgICAgICB9IGVsc2UgaWYgKCRidXR0b24uaGFzQ2xhc3MoJ3RvcGljLWJ1dHRvbicpICYmXG4gICAgICAgICAgICB0aGlzLiRlbC5maW5kKCcudG9waWMtYnV0dG9uJykubGVuZ3RoID09IHRoaXMuJGVsLmZpbmQoJy50b3BpYy1idXR0b24uc2VsZWN0ZWQnKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRlbC5maW5kKCcudG9waWMtYnV0dG9uJykucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoJGJ1dHRvbi5oYXNDbGFzcygndGV4dC10b3BpYy1idXR0b24nKSAmJlxuICAgICAgICAgICAgdGhpcy4kZWwuZmluZCgnLnRleHQtdG9waWMtYnV0dG9uJykubGVuZ3RoID09IHRoaXMuJGVsLmZpbmQoJy50ZXh0LXRvcGljLWJ1dHRvbi5zZWxlY3RlZCcpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuJGVsLmZpbmQoJy50ZXh0LXRvcGljLWJ1dHRvbicpLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG9nZ2xlIHRoZSBidXR0b25cbiAgICAgICAgJGJ1dHRvbi50b2dnbGVDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMudG9nZ2xlRGF0ZVRpbWVQaWNrZXIoKTtcbiAgICAgICAgdGhpcy50b2dnbGVNYW5hZ2VkVGFnc09uVHlwZSgpO1xuICAgICAgICB0aGlzLnRvZ2dsZVRleHRUb3BpY3NPblR5cGUoKTtcbiAgICAgICAgLy8gbWFyayBzZWFyY2ggYm94IGFzIHNlYXJjaGFibGVcbiAgICAgICAgdGhpcy5tYXJrU2VhcmNoQm94U2VhcmNoYWJsZSgpO1xuICAgIH0sXG5cbiAgICB0b2dnbGVNYW5hZ2VkVGFnc09uVHlwZTogZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNob3dNYW5hZ2VkVGFnc09uVHlwZXNTZWxlY3RlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgdHlwZXNGb3JNYW5hZ2VkVGFncyA9IHRoaXMub3B0aW9ucy5zaG93TWFuYWdlZFRhZ3NPblR5cGVzU2VsZWN0ZWQ7XG4gICAgICAgICAgICB2YXIgc2hvd01hbmFnZWRUYWdzID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZEJ1dHRvbnMgPSAkKCcucmVzdWx0LWZpbHRlci1idXR0b24uc2VsZWN0ZWQnKTtcblxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkQnV0dG9ucy5sZW5ndGggPT0gMCl7XG4gICAgICAgICAgICAgICAgc2hvd01hbmFnZWRUYWdzID0gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkQnV0dG9ucy5lYWNoKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc0F0dHJpYnV0ZSgnZGF0YS1yZXN1bHQtZmlsdGVyLXR5cGUnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHR5cGUgPSB0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS1yZXN1bHQtZmlsdGVyLXR5cGUnKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQuaW5BcnJheSh0eXBlLCB0eXBlc0Zvck1hbmFnZWRUYWdzKSA9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dNYW5hZ2VkVGFncyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHNob3dNYW5hZ2VkVGFncykge1xuICAgICAgICAgICAgICAgICQoJy5tYW5hZ2VkLXRhZ3MtYnV0dG9ucycpLnNob3coKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJCgnLm1hbmFnZWQtdGFncy1idXR0b25zJykuaGlkZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIHRvZ2dsZVRleHRUb3BpY3NPblR5cGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaG93VGV4dFRvcGljc09uVHlwZXNTZWxlY3RlZC5sZW5ndGggPiAwICkge1xuICAgICAgICAgICAgdmFyIHR5cGVzRm9yVGV4dFRvcGljcyA9IHRoaXMub3B0aW9ucy5zaG93VGV4dFRvcGljc09uVHlwZXNTZWxlY3RlZDtcbiAgICAgICAgICAgIHZhciBzaG93VGV4dFRvcGljcyA9IHRydWU7XG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWRCdXR0b25zID0gJCgnLnJlc3VsdC1maWx0ZXItYnV0dG9uLnNlbGVjdGVkJyk7XG5cbiAgICAgICAgICAgIGlmIChzZWxlY3RlZEJ1dHRvbnMubGVuZ3RoID09IDApe1xuICAgICAgICAgICAgICAgIHNob3dUZXh0VG9waWNzID0gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkQnV0dG9ucy5lYWNoKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc0F0dHJpYnV0ZSgnZGF0YS1yZXN1bHQtZmlsdGVyLXR5cGUnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHR5cGUgPSB0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS1yZXN1bHQtZmlsdGVyLXR5cGUnKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQuaW5BcnJheSh0eXBlLCB0eXBlc0ZvclRleHRUb3BpY3MpID09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1RleHRUb3BpY3MgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2hvd1RleHRUb3BpY3MpIHtcbiAgICAgICAgICAgICAgICAkKCcudGV4dC10b3BpYy1idXR0b25zJykuc2hvdygpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkKCcudGV4dC10b3BpYy1idXR0b25zJykuaGlkZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKiBXaWxsIHNldCBzdGF0ZS5kYXRlRmlsdGVyc0FjdGl2ZSBiYXNlZCBvbiBpZiBvbmx5IGRhdGUtbGlrZSBjb250ZW50IHR5cGVzIGFyZSBzaG93biAqL1xuICAgIHRvZ2dsZURhdGVUaW1lUGlja2VyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHR5cGVzV2l0aERhdGVzID0gWydldmVudHMnLCAnY29uZmVyZW5jZXMnXTtcbiAgICAgICAgdmFyIG9ubHlEYXRlVHlwZXNBdmFpbGFibGUgPSB0cnVlO1xuICAgICAgICBfLmVhY2godGhpcy5vcHRpb25zLmF2YWlsYWJsZUZpbHRlcnMsIGZ1bmN0aW9uKGF2YWlsYWJsZSwgdHlwZSl7XG4gICAgICAgICAgICBpZiAoYXZhaWxhYmxlICYmICQuaW5BcnJheSh0eXBlLCB0eXBlc1dpdGhEYXRlcykgPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBvbmx5RGF0ZVR5cGVzQXZhaWxhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgb25seURhdGVUeXBlc0FjdGl2ZSA9IHRydWU7XG4gICAgICAgIHZhciBzZWxlY3RlZEJ1dHRvbnMgPSAkKCcucmVzdWx0LWZpbHRlci1idXR0b24uc2VsZWN0ZWQnKTtcbiAgICAgICAgaWYgKHNlbGVjdGVkQnV0dG9ucy5sZW5ndGggPT0gMCl7XG4gICAgICAgICAgICBvbmx5RGF0ZVR5cGVzQWN0aXZlID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZWxlY3RlZEJ1dHRvbnMuZWFjaChmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc0F0dHJpYnV0ZSgnZGF0YS1yZXN1bHQtZmlsdGVyLXR5cGUnKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLXJlc3VsdC1maWx0ZXItdHlwZScpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoJC5pbkFycmF5KHR5cGUsIHR5cGVzV2l0aERhdGVzKSA9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb25seURhdGVUeXBlc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgICB0aGlzLnN0YXRlLmRhdGVGaWx0ZXJzQWN0aXZlID0gb25seURhdGVUeXBlc0F2YWlsYWJsZSB8fCBvbmx5RGF0ZVR5cGVzQWN0aXZlO1xuICAgICAgICB0aGlzLnNob3dPckhpZGVEYXRlVGltZVBpY2tlcih0aGlzLnN0YXRlLmRhdGVGaWx0ZXJzQWN0aXZlKTtcbiAgICB9LFxuXG4gICAgc2hvd09ySGlkZURhdGVUaW1lUGlja2VyOiBmdW5jdGlvbiAoc2hvd0RhdGVUaW1lUGlja2VyKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIGRhdGVUaW1lUGlja2VyID0gJCgnI2RhdGUtdGltZS1maWx0ZXInKTtcbiAgICAgICAgaWYgKHNob3dEYXRlVGltZVBpY2tlcikge1xuICAgICAgICAgICAgZGF0ZVRpbWVQaWNrZXIuc2hvdygpO1xuICAgICAgICAgICAgaWYgKCFkYXRlVGltZVBpY2tlci5hdHRyKCdpbml0ZWQnKSAmJiBkYXRlVGltZVBpY2tlci5pcyhcIjp2aXNpYmxlXCIpKSB7XG4gICAgICAgICAgICAgICAgJC5jb3Npbm51cy5mdWxsY2FsZW5kYXIoKTtcbiAgICAgICAgICAgICAgICAkLmNvc2lubnVzLmluaXRDYWxlbmRhckRheVRpbWVDaG9vc2VyV2lkZ2V0KCk7XG4gICAgICAgICAgICAgICAgJCgnLmNhbGVuZGFyLWRhdGUtdGltZS1jaG9vc2VyIC5zbWFsbC1jYWxlbmRhcicpLm9uKFwiZnVsbENhbGVuZGFyRGF5Q2xpY2tcIiwgZnVuY3Rpb24oZXZlbnQsIGRhdGUsIGpzRXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5tYXJrU2VhcmNoQm94U2VhcmNoYWJsZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICQoJy5jYWxlbmRhci1kYXRlLXRpbWUtY2hvb3NlciBpbnB1dCcpLm9uKFwia2V5dXAgY2hhbmdlXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLm1hcmtTZWFyY2hCb3hTZWFyY2hhYmxlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgZGF0ZVRpbWVQaWNrZXIuYXR0cignaW5pdGVkJywgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkYXRlVGltZVBpY2tlci5oaWRlKCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgdG9nZ2xlU0RHRmlsdGVyQnV0dG9uOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyICRidXR0b24gPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpO1xuICAgICAgICAvLyBjaGVjayBpZiBhbGwgYnV0dG9ucyBvZiB0aGlzIHR5cGUgYXJlIHNlbGVjdGVkLlxuICAgICAgICAvLyAgaWYgc28sIG1ha2UgdGhpcyBjbGljayBvbmx5IHNlbGVjdCB0aGlzIGJ1dHRvbiAoZGVzZWxlY3QgYWxsIG90aGVycylcbiAgICAgICAgaWYgKCRidXR0b24uaGFzQ2xhc3MoJ3Jlc3VsdC1maWx0ZXItYnV0dG9uJykgJiZcbiAgICAgICAgICAgIHRoaXMuJGVsLmZpbmQoJy5yZXN1bHQtZmlsdGVyLWJ1dHRvbicpLmxlbmd0aCA9PSB0aGlzLiRlbC5maW5kKCcucmVzdWx0LWZpbHRlci1idXR0b24uc2VsZWN0ZWQnKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuJGVsLmZpbmQoJy5yZXN1bHQtZmlsdGVyLWJ1dHRvbicpLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpO1xuICAgICAgICB9IGVsc2UgaWYgKCRidXR0b24uaGFzQ2xhc3MoJ3NkZy1idXR0b24nKSAmJlxuICAgICAgICAgICAgdGhpcy4kZWwuZmluZCgnLnNkZy1idXR0b24nKS5sZW5ndGggPT0gdGhpcy4kZWwuZmluZCgnLnNkZy1idXR0b24uc2VsZWN0ZWQnKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuJGVsLmZpbmQoJy5zZGctYnV0dG9uJykucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdG9nZ2xlIHRoZSBidXR0b25cbiAgICAgICAgJGJ1dHRvbi50b2dnbGVDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICAgICAgLy8gbWFyayBzZWFyY2ggYm94IGFzIHNlYXJjaGFibGVcbiAgICAgICAgdGhpcy5tYXJrU2VhcmNoQm94U2VhcmNoYWJsZSgpO1xuICAgIH0sXG4gICAgXG4gICAgdG9nZ2xlTWFuYWdlZFRhZ3NGaWx0ZXJCdXR0b246IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgJGJ1dHRvbiA9ICQoZXZlbnQuY3VycmVudFRhcmdldCk7XG4gICAgICAgIC8vIGNoZWNrIGlmIGFsbCBidXR0b25zIG9mIHRoaXMgdHlwZSBhcmUgc2VsZWN0ZWQuXG4gICAgICAgIC8vICBpZiBzbywgbWFrZSB0aGlzIGNsaWNrIG9ubHkgc2VsZWN0IHRoaXMgYnV0dG9uIChkZXNlbGVjdCBhbGwgb3RoZXJzKVxuICAgICAgICBpZiAoJGJ1dHRvbi5oYXNDbGFzcygncmVzdWx0LWZpbHRlci1idXR0b24nKSAmJlxuICAgICAgICAgICAgdGhpcy4kZWwuZmluZCgnLnJlc3VsdC1maWx0ZXItYnV0dG9uJykubGVuZ3RoID09IHRoaXMuJGVsLmZpbmQoJy5yZXN1bHQtZmlsdGVyLWJ1dHRvbi5zZWxlY3RlZCcpLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy4kZWwuZmluZCgnLnJlc3VsdC1maWx0ZXItYnV0dG9uJykucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoJGJ1dHRvbi5oYXNDbGFzcygnbWFuYWdlZFRhZ3MtYnV0dG9uJykgJiZcbiAgICAgICAgICAgIHRoaXMuJGVsLmZpbmQoJy5tYW5hZ2VkVGFncy1idXR0b24nKS5sZW5ndGggPT0gdGhpcy4kZWwuZmluZCgnLm1hbmFnZWRUYWdzLWJ1dHRvbi5zZWxlY3RlZCcpLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy4kZWwuZmluZCgnLm1hbmFnZWRUYWdzLWJ1dHRvbicpLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRvZ2dsZSB0aGUgYnV0dG9uXG4gICAgICAgICRidXR0b24udG9nZ2xlQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgICAgIC8vIG1hcmsgc2VhcmNoIGJveCBhcyBzZWFyY2hhYmxlXG4gICAgICAgIHRoaXMubWFya1NlYXJjaEJveFNlYXJjaGFibGUoKTtcbiAgICB9LFxuICAgIFxuICAgIC8qKiBSZXNldCBhbGwgdHlwZXMgb2YgaW5wdXQgZmlsdGVycyBhbmQgdHJpZ2dlciBhIG5ldyBzZWFyY2ggKi9cbiAgICByZXNldEFsbENsaWNrZWQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLnJlc2V0QWxsKCk7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgIHZhciBzZWFyY2hSZWFzb24gPSAncmVzZXQtZmlsdGVycy1zZWFyY2gnO1xuICAgICAgICB0aGlzLnRyaWdnZXJEZWxheWVkU2VhcmNoKHRydWUsIGZhbHNlLCBmYWxzZSwgc2VhcmNoUmVhc29uKTtcbiAgICB9LFxuICAgIFxuICAgIC8qKiBSZXNldHMgYWxsIGZpbHRlciBzdGF0ZXMgKi9cbiAgICByZXNldEFsbDogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnN0YXRlLnEgPSAnJztcbiAgICAgICAgdGhpcy5yZXNldFRvcGljcygpO1xuICAgICAgICB0aGlzLnJlc2V0VGV4dFRvcGljcygpO1xuICAgICAgICB0aGlzLnJlc2V0U0RHUygpO1xuICAgICAgICB0aGlzLnJlc2V0TWFuYWdlZFRhZ3MoKTtcbiAgICAgICAgdGhpcy5yZXNldERhdGVUaW1lV2lkZ2V0KCk7XG4gICAgICAgIHRoaXMucmVzZXRUeXBlRmlsdGVycygpO1xuICAgICAgICB0aGlzLmNsZWFyRGV0YWlsUmVzdWx0Q2FjaGUoKTtcbiAgICB9LFxuICAgIFxuICAgIC8qKiBJbnRlcm5hbCBzdGF0ZSByZXNldCBvZiBmcm9tRGF0ZSwgZnJvbVRpbWUsIHRvRGF0ZSwgdG9UaW1lICovXG4gICAgcmVzZXREYXRlVGltZVdpZGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB0b2RheSA9IG1vbWVudCgpLmZvcm1hdCgnWVlZWS1NTS1ERCcpO1xuICAgICAgICB2YXIgaW5fdGhyZWVfbW9udGhzID0gbW9tZW50KCkuYWRkKDMsICdNJykuZm9ybWF0KCdZWVlZLU1NLUREJyk7XG4gICAgICAgIHRoaXMuc3RhdGUuZnJvbURhdGUgPSAgdG9kYXk7XG4gICAgICAgIHRoaXMuc3RhdGUuZnJvbVRpbWUgPSBcIjAwOjAwXCI7XG4gICAgICAgIHRoaXMuc3RhdGUudG9EYXRlID0gaW5fdGhyZWVfbW9udGhzO1xuICAgICAgICB0aGlzLnN0YXRlLnRvVGltZSA9IFwiMjM6NTlcIjtcbiAgICB9LFxuICAgIFxuICAgIC8qKiBJbnRlcm5hbCBzdGF0ZSByZXNldCBvZiBmaWx0ZXJlZCB0b3BpY3MgKi9cbiAgICByZXNldFRvcGljczogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnN0YXRlLmFjdGl2ZVRvcGljSWRzID0gW107XG4gICAgfSxcblxuICAgIHJlc2V0VGV4dFRvcGljczogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnN0YXRlLmFjdGl2ZVRleHRUb3BpY0lkcyA9IFtdO1xuICAgIH0sXG5cbiAgICByZXNldFNER1M6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5hY3RpdmVTREdJZHMgPSBbXTtcbiAgICB9LFxuICAgIFxuICAgIHJlc2V0TWFuYWdlZFRhZ3M6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGVmYXVsdHMuZmlsdGVyTWFuYWdlZFRhZyAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyBhcHBseSBpbml0aWFsIG1hbmFnZWQgdGFncyBvbmNlXG4gICAgICAgICAgICB0aGlzLnN0YXRlLmFjdGl2ZU1hbmFnZWRUYWdzSWRzID0gW3RoaXMuZGVmYXVsdHMuZmlsdGVyTWFuYWdlZFRhZ107XG4gICAgICAgICAgICB0aGlzLmRlZmF1bHRzLmZpbHRlck1hbmFnZWRUYWcgPSBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5hY3RpdmVNYW5hZ2VkVGFnc0lkcyA9IFtdO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBcbiAgICAvKiogSW50ZXJuYWwgc3RhdGUgcmVzZXQgb2YgZmlsdGVyZWQgcmVzdWx0IHR5cGVzICovXG4gICAgcmVzZXRUeXBlRmlsdGVyczogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnN0YXRlLmFjdGl2ZUZpbHRlcnMgPSBfKHRoaXMub3B0aW9ucy5hdmFpbGFibGVGaWx0ZXJzKS5jbG9uZSgpO1xuICAgICAgICB0aGlzLnN0YXRlLnR5cGVGaWx0ZXJzQWN0aXZlID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2hvd1RleHRUb3BpY3NPblR5cGVzU2VsZWN0ZWQubGVuZ3RoID4gMCApIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXRUZXh0VG9waWNzKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaG93TWFuYWdlZFRhZ3NPblR5cGVzU2VsZWN0ZWQubGVuZ3RoID4gMCApIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXRNYW5hZ2VkVGFncygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudG9nZ2xlRGF0ZVRpbWVQaWNrZXIoKTtcbiAgICB9LFxuXG4gICAgcmVzZXRUeXBlRmlsdGVyc0NsaWNrZWQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgdGhpcy5yZXNldFR5cGVGaWx0ZXJzKCk7XG4gICAgICAgIHRoaXMucmVzZXREYXRlVGltZVdpZGdldCgpO1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICB0aGlzLmNsZWFyRGV0YWlsUmVzdWx0Q2FjaGUoKTtcbiAgICAgICAgdmFyIHNlYXJjaFJlYXNvbiA9ICdyZXNldC1maWx0ZXJzLXNlYXJjaCc7XG4gICAgICAgIHRoaXMudHJpZ2dlckRlbGF5ZWRTZWFyY2godHJ1ZSwgZmFsc2UsIGZhbHNlLCBzZWFyY2hSZWFzb24pO1xuICAgIH0sXG5cbiAgICByZXNldFRvcGljRmlsdGVyc0NsaWNrZWQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgdGhpcy5yZXNldFRvcGljcygpO1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICB0aGlzLmNsZWFyRGV0YWlsUmVzdWx0Q2FjaGUoKTtcbiAgICAgICAgdmFyIHNlYXJjaFJlYXNvbiA9ICdyZXNldC1maWx0ZXJzLXNlYXJjaCc7XG4gICAgICAgIHRoaXMudHJpZ2dlckRlbGF5ZWRTZWFyY2godHJ1ZSwgZmFsc2UsIGZhbHNlLCBzZWFyY2hSZWFzb24pO1xuICAgIH0sXG5cbiAgICByZXNldFRleHRUb3BpY0ZpbHRlcnNDbGlja2VkOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHRoaXMucmVzZXRUZXh0VG9waWNzKCk7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgIHRoaXMuY2xlYXJEZXRhaWxSZXN1bHRDYWNoZSgpO1xuICAgICAgICB2YXIgc2VhcmNoUmVhc29uID0gJ3Jlc2V0LWZpbHRlcnMtc2VhcmNoJztcbiAgICAgICAgdGhpcy50cmlnZ2VyRGVsYXllZFNlYXJjaCh0cnVlLCBmYWxzZSwgZmFsc2UsIHNlYXJjaFJlYXNvbik7XG4gICAgfSxcblxuICAgIHJlc2V0U0RHRmlsdGVyc0NsaWNrZWQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgdGhpcy5yZXNldFNER1MoKTtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgdGhpcy5jbGVhckRldGFpbFJlc3VsdENhY2hlKCk7XG4gICAgICAgIHZhciBzZWFyY2hSZWFzb24gPSAncmVzZXQtZmlsdGVycy1zZWFyY2gnO1xuICAgICAgICB0aGlzLnRyaWdnZXJEZWxheWVkU2VhcmNoKHRydWUsIGZhbHNlLCBmYWxzZSwgc2VhcmNoUmVhc29uKTtcbiAgICB9LFxuICAgIFxuICAgIHJlc2V0TWFuYWdlZFRhZ3NGaWx0ZXJzQ2xpY2tlZDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB0aGlzLnJlc2V0TWFuYWdlZFRhZ3MoKTtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgdGhpcy5jbGVhckRldGFpbFJlc3VsdENhY2hlKCk7XG4gICAgICAgIHZhciBzZWFyY2hSZWFzb24gPSAncmVzZXQtZmlsdGVycy1zZWFyY2gnO1xuICAgICAgICB0aGlzLnRyaWdnZXJEZWxheWVkU2VhcmNoKHRydWUsIGZhbHNlLCBmYWxzZSwgc2VhcmNoUmVhc29uKTtcbiAgICB9LFxuXG4gICAgcmVzZXRRQ2xpY2tlZDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB0aGlzLnN0YXRlLnEgPSAnJztcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgdGhpcy5jbGVhckRldGFpbFJlc3VsdENhY2hlKCk7XG4gICAgICAgIHZhciBzZWFyY2hSZWFzb24gPSAncmVzZXQtZmlsdGVycy1zZWFyY2gnO1xuICAgICAgICB0aGlzLnRyaWdnZXJEZWxheWVkU2VhcmNoKHRydWUsIGZhbHNlLCBmYWxzZSwgc2VhcmNoUmVhc29uKTtcbiAgICB9LFxuICAgIFxuICAgIHJlc2V0VHlwZUFuZFRvcGljRmlsdGVyc0NsaWNrZWQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgdGhpcy5yZXNldFR5cGVGaWx0ZXJzKCk7XG4gICAgICAgIHRoaXMucmVzZXRUb3BpY3MoKTtcbiAgICAgICAgdGhpcy5yZXNldERhdGVUaW1lV2lkZ2V0KCk7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgIHRoaXMuY2xlYXJEZXRhaWxSZXN1bHRDYWNoZSgpO1xuICAgICAgICB2YXIgc2VhcmNoUmVhc29uID0gJ3Jlc2V0LWZpbHRlcnMtc2VhcmNoJztcbiAgICAgICAgdGhpcy50cmlnZ2VyRGVsYXllZFNlYXJjaCh0cnVlLCBmYWxzZSwgZmFsc2UsIHNlYXJjaFJlYXNvbik7XG4gICAgfSxcbiAgICBcbiAgICBcbiAgICAvKiogVGhpcyBkb2Vzbid0IGxpc3RlbiB0byBldmVudHMgaW4gdGhpcyB2aWV3LCBidXQgcmF0aGVyIGlzIHRoZSB0YXJnZXQgZm9yIFxuICAgICAqICAgICBkZWxlZ2F0ZWQgZXZlbnRzIGZyb20gdGlsZS12aWV3IGFuZCB0aWxlLWRldGFpbC12aWV3ICovXG4gICAgb25Ub3BpY0xpbmtDbGlja2VkOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgdmFyICRsaW5rID0gJChldmVudC50YXJnZXQpO1xuICAgICAgICB2YXIgdG9waWNJZCA9ICRsaW5rLmF0dHIoJ2RhdGEtdG9waWMtaWQnKTtcbiAgICAgICAgdGhpcy5yZXNldEFsbCgpO1xuICAgICAgICB0aGlzLnN0YXRlLmFjdGl2ZVRvcGljSWRzID0gW3BhcnNlSW50KHRvcGljSWQpXTtcbiAgICAgICAgdGhpcy5jbGVhckRldGFpbFJlc3VsdENhY2hlKCk7XG4gICAgICAgIHRoaXMudHJpZ2dlckRlbGF5ZWRTZWFyY2godHJ1ZSk7XG4gICAgfSxcblxuICAgIG9uVGV4dFRvcGljTGlua0NsaWNrZWQ6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB2YXIgJGxpbmsgPSAkKGV2ZW50LnRhcmdldCk7XG4gICAgICAgIHZhciB0ZXh0VG9waWNJZCA9ICRsaW5rLmF0dHIoJ2RhdGEtdGV4dC10b3BpYy1pZCcpO1xuICAgICAgICB0aGlzLnJlc2V0QWxsKCk7XG4gICAgICAgIHRoaXMuc3RhdGUuYWN0aXZlVGV4dFRvcGljSWRzID0gW3BhcnNlSW50KHRleHRUb3BpY0lkKV07XG4gICAgICAgIHRoaXMuY2xlYXJEZXRhaWxSZXN1bHRDYWNoZSgpO1xuICAgICAgICB0aGlzLnRyaWdnZXJEZWxheWVkU2VhcmNoKHRydWUpO1xuICAgIH0sXG4gICAgXG4gICAgLyoqIFRoaXMgZG9lc24ndCBsaXN0ZW4gdG8gZXZlbnRzIGluIHRoaXMgdmlldywgYnV0IHJhdGhlciBpcyB0aGUgdGFyZ2V0IGZvciBcbiAgICAgKiAgICAgZGVsZWdhdGVkIGV2ZW50cyBmcm9tIHRpbGUtdmlldyBhbmQgdGlsZS1kZXRhaWwtdmlldyAqL1xuICAgIG9uTWFuYWdlZFRhZ0xpbmtDbGlja2VkOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgdmFyICRsaW5rID0gJChldmVudC50YXJnZXQpO1xuICAgICAgICB2YXIgbWFuYWdlZFRhZ0lkID0gJGxpbmsuYXR0cignZGF0YS1tYW5hZ2VkLXRhZy1pZCcpO1xuICAgICAgICB0aGlzLnJlc2V0QWxsKCk7XG4gICAgICAgIHRoaXMuc3RhdGUuYWN0aXZlTWFuYWdlZFRhZ3NJZHMgPSBbcGFyc2VJbnQobWFuYWdlZFRhZ0lkKV07XG4gICAgICAgIHRoaXMuY2xlYXJEZXRhaWxSZXN1bHRDYWNoZSgpO1xuICAgICAgICB0aGlzLnRyaWdnZXJEZWxheWVkU2VhcmNoKHRydWUpO1xuICAgIH0sXG4gICAgXG4gICAgdG9nZ2xlU2VhcmNoT25TY3JvbGxDbGlja2VkOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5zZWFyY2hPblNjcm9sbCA9ICF0aGlzLnN0YXRlLnNlYXJjaE9uU2Nyb2xsO1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5zZWFyY2hPblNjcm9sbCA9PSB0cnVlICYmIHRoaXMuc3RhdGUucmVzdWx0c1N0YWxlKSB7XG4gICAgICAgICAgICB0aGlzLnN0YWxlU2VhcmNoQnV0dG9uQ2xpY2tlZChldmVudCk7XG4gICAgICAgIH0gXG4gICAgfSxcbiAgICBcbiAgICBzdGFsZVNlYXJjaEJ1dHRvbkNsaWNrZWQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmNsZWFyRGV0YWlsUmVzdWx0Q2FjaGUoKTtcbiAgICAgICAgdGhpcy50cmlnZ2VyRGVsYXllZFNlYXJjaCh0cnVlKTtcbiAgICAgICAgLy8gd2UgY2hlYXQgdGhpcyBpbiBiZWNhdXNlIHdlIGtub3cgdGhlIHNlYXJjaCB3aWxsIGRvIGl0IGFueXdheXMgaW4gYSBtaWxsaXNlY29uZCxcbiAgICAgICAgLy8gYnV0IHdpdGhvdXQgdGhpcyBpdCB3b24ndCBiZSBpbiB0aW1lIGZvciB0aGUgcmVuZGVyKCkgb2YgdGhlIGNvbnRyb2xzXG4gICAgICAgIHRoaXMuc3RhdGUucmVzdWx0c1N0YWxlID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLnBhZ2luYXRpb25Db250cm9sVmlldykge1xuICAgICAgICBcdHRoaXMucGFnaW5hdGlvbkNvbnRyb2xWaWV3LnJlbmRlcigpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBcbiAgICBwYWdpbmF0aW9uRm9yd2FyZENsaWNrZWQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIFx0aWYgKGV2ZW50KSB7XG4gICAgXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgXHR9XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnBhZ2UuaGFzX25leHQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUucGFnZUluZGV4ICs9IDE7XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJEZWxheWVkU2VhcmNoKHRydWUsIHRydWUsIGZhbHNlLCAncGFnaW5hdGUtc2VhcmNoJyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIFxuICAgIHBhZ2luYXRpb25CYWNrQ2xpY2tlZDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgXHRpZiAoZXZlbnQpIHtcbiAgICBcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBcdH1cbiAgICAgICAgaWYgKHRoaXMuc3RhdGUucGFnZS5oYXNfcHJldmlvdXMgJiYgdGhpcy5zdGF0ZS5wYWdlSW5kZXggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLnBhZ2VJbmRleCAtPSAxO1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyRGVsYXllZFNlYXJjaCh0cnVlLCB0cnVlLCBmYWxzZSwgJ3BhZ2luYXRlLXNlYXJjaCcpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBcbiAgICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0gIERpc3BsYXktcmVsYXRlZCBsb2dpYyAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4gICAgXG4gICAgXG4gICAgLyoqIE9wZW4gdGhlIENyZWF0ZS1JZGVhIHZpZXcgKi9cbiAgICBvcGVuQ3JlYXRlSWRlYVZpZXc6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIFx0dmFyIHNlbGYgPSB0aGlzO1xuICAgIFx0aWYgKENPU0lOTlVTX0lERUFTX0VOQUJMRUQpIHtcbiAgICBcdFx0aWYgKCFzZWxmLmNyZWF0ZUlkZWFWaWV3KSB7XG4gICAgXHRcdFx0c2VsZi5jcmVhdGVJZGVhVmlldyA9IG5ldyBDcmVhdGVJZGVhVmlldyh7XG4gICAgXHRcdFx0XHRlbFBhcmVudDogc2VsZi5BcHAuZWwsXG4gICAgXHRcdFx0fSwgXG4gICAgXHRcdFx0c2VsZi5BcHAsXG4gICAgXHRcdFx0c2VsZlxuICAgIFx0XHRcdCkucmVuZGVyKCk7XG4gICAgXHRcdH0gZWxzZSB7XG4gICAgXHRcdFx0c2VsZi5jcmVhdGVJZGVhVmlldy4kZWwucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuICAgIFx0XHR9XG4gICAgICAgICAgICBCYWNrYm9uZS5tZWRpYXRvci5wdWJsaXNoKCdpZGVhczpjcmVhdGUtdmlldy1vcGVuZWQnKTtcbiAgICBcdH1cbiAgICB9LFxuICAgIFxuICAgIC8qKiBPcGVuIHRoZSBDcmVhdGUtSWRlYSB2aWV3ICovXG4gICAgY2xvc2VDcmVhdGVJZGVhVmlldzogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgXHR2YXIgc2VsZiA9IHRoaXM7XG4gICAgXHRzZWxmLmNyZWF0ZUlkZWFWaWV3LiRlbC5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgXHRzZWxmLnVudHJpZ2dlck1vYmlsZUlkZWFDcmVhdGVWaWV3KGV2ZW50KTtcbiAgICBcdEJhY2tib25lLm1lZGlhdG9yLnB1Ymxpc2goJ2lkZWFzOmNyZWF0ZS12aWV3LWNsb3NlZCcpO1xuICAgIH0sXG4gICAgXG4gICAgLyoqIE1vYmlsZSB2aWV3IHN3aXRjaCBidXR0b25zICovXG4gICAgX3Jlc2V0TW9iaWxlVmlldzogZnVuY3Rpb24gKGV2ZW50LCBkb250UmVzZXREZXRhaWxSZXN1bHQpIHtcbiAgICAgICAgLy8gdW5zZWxlY3QgdGhlIGRldGFpbCB2aWV3IGlmIG9uZSBpcyBvcGVuXG4gICAgICAgIGlmICh0aGlzLmRldGFpbFJlc3VsdCAmJiAhZG9udFJlc2V0RGV0YWlsUmVzdWx0KSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlEZXRhaWxSZXN1bHQobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5BcHAuJGVsLnJlbW92ZUNsYXNzKCdtb2JpbGUtdmlldy1tYXAgbW9iaWxlLXZpZXctc2VhcmNoIG1vYmlsZS12aWV3LWxpc3QgbW9iaWxlLXZpZXctZGV0YWlsIG1vYmlsZS12aWV3LWlkZWEtY3JlYXRlLTEgbW9iaWxlLXZpZXctaWRlYS1jcmVhdGUtMicpO1xuICAgIH0sXG4gICAgXG4gICAgdHJpZ2dlck1vYmlsZURlZmF1bHRWaWV3OiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBcdGlmICh0aGlzLm9wdGlvbnMuc3BsaXRzY3JlZW4pIHtcbiAgICBcdFx0dGhpcy50cmlnZ2VyTW9iaWxlTWFwVmlldyhldmVudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgIFx0dGhpcy50cmlnZ2VyTW9iaWxlTGlzdFZpZXcoZXZlbnQpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBcbiAgICB0cmlnZ2VyTW9iaWxlTGlzdFZpZXc6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB0aGlzLl9yZXNldE1vYmlsZVZpZXcoKTtcbiAgICAgICAgdGhpcy5BcHAuJGVsLmFkZENsYXNzKCdtb2JpbGUtdmlldy1saXN0Jyk7XG4gICAgICAgIGlmICh0aGlzLkFwcC50aWxlTGlzdFZpZXcpIHsgLy8gbWlnaHQgbm90IGJlIGxvYWRlZCB5ZXRcbiAgICAgICAgXHR0aGlzLkFwcC50aWxlTGlzdFZpZXcuZ3JpZFJlZnJlc2goKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICB0cmlnZ2VyTW9iaWxlU2VhcmNoVmlldzogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuX3Jlc2V0TW9iaWxlVmlldygpO1xuICAgICAgICB0aGlzLkFwcC4kZWwuYWRkQ2xhc3MoJ21vYmlsZS12aWV3LXNlYXJjaCcpO1xuICAgICAgICB0aGlzLiRlbC5maW5kKCcucScpLmZvY3VzKCk7XG4gICAgfSxcblxuICAgIHRyaWdnZXJNb2JpbGVNYXBWaWV3OiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5fcmVzZXRNb2JpbGVWaWV3KCk7XG4gICAgICAgIHRoaXMuQXBwLiRlbC5hZGRDbGFzcygnbW9iaWxlLXZpZXctbWFwJyk7XG4gICAgfSxcblxuICAgIHRyaWdnZXJNb2JpbGVEZXRhaWxWaWV3OiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBcdC8vIHNhdmUgdGhlIGN1cnJlbnQgdmlldyBcbiAgICBcdC8vIChpZiBpdCB3YXMgbGlzdCB2aWV3IHdlIHdhbnQgdG8gcmV0dXJuIHRvIHRoYXQgaW5zdGVhZCBvZiBtYXAgdmlldyB3aGVuIGNsb3NpbmcgZGV0YWlsKVxuICAgIFx0dGhpcy5zdGF0ZS5sYXN0Vmlld0JlZm9yZURldGFpbFdhc0xpc3RWaWV3ID0gdGhpcy5BcHAuJGVsLmhhc0NsYXNzKCdtb2JpbGUtdmlldy1saXN0Jyk7XG4gICAgXHR0aGlzLl9yZXNldE1vYmlsZVZpZXcoZXZlbnQsIHRydWUpO1xuICAgIFx0dGhpcy5BcHAuJGVsLmFkZENsYXNzKCdtb2JpbGUtdmlldy1kZXRhaWwnKTtcbiAgICB9LFxuXG4gICAgdHJpZ2dlck1vYmlsZUlkZWFDcmVhdGUxVmlldzogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuX3Jlc2V0TW9iaWxlVmlldygpO1xuICAgICAgICB0aGlzLm9wZW5DcmVhdGVJZGVhVmlldyhldmVudCk7XG4gICAgICAgIHRoaXMuQXBwLiRlbC5hZGRDbGFzcygnbW9iaWxlLXZpZXctaWRlYS1jcmVhdGUtMScpO1xuICAgIH0sXG5cbiAgICB0cmlnZ2VyTW9iaWxlSWRlYUNyZWF0ZTJWaWV3OiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5fcmVzZXRNb2JpbGVWaWV3KCk7XG4gICAgICAgIHRoaXMuQXBwLiRlbC5hZGRDbGFzcygnbW9iaWxlLXZpZXctaWRlYS1jcmVhdGUtMicpO1xuICAgIH0sXG5cbiAgICB1bnRyaWdnZXJNb2JpbGVJZGVhQ3JlYXRlVmlldzogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHRoaXMudHJpZ2dlck1vYmlsZURlZmF1bHRWaWV3KGV2ZW50KTtcbiAgICB9LFxuXG4gICAgdW50cmlnZ2VyTW9iaWxlRGV0YWlsVmlldzogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmxhc3RWaWV3QmVmb3JlRGV0YWlsV2FzTGlzdFZpZXcpIHtcbiAgICAgICAgXHR0aGlzLnRyaWdnZXJNb2JpbGVMaXN0VmlldyhldmVudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgIFx0dGhpcy50cmlnZ2VyTW9iaWxlTWFwVmlldyhldmVudCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgc2hvd0hvdmVySWNvbjogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBpY29uID0gJChldmVudC50YXJnZXQucXVlcnlTZWxlY3RvcignaW1nJykpXG4gICAgICAgIGljb24ucmVtb3ZlQ2xhc3MoJ2hvdmVyLWltYWdlLWljb24taGlkZGVuJylcbiAgICB9LFxuXG4gICAgaGlkZUhvdmVySWNvbjogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC50YXJnZXQudGFnTmFtZSA9PSAnSU1HJykge1xuICAgICAgICAgICAgJChldmVudC50YXJnZXQpLmFkZENsYXNzKCdob3Zlci1pbWFnZS1pY29uLWhpZGRlbicpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkKGV2ZW50LnRhcmdldC5xdWVyeVNlbGVjdG9yKCdpbWcnKSkuYWRkQ2xhc3MoJ2hvdmVyLWltYWdlLWljb24taGlkZGVuJylcbiAgICAgICAgfVxuICAgIH0sXG4gICAgLyoqXG4gICAgICogVG9nZ2xlcyB0aGUgc3RhdGUgb2YgdGhlIHZpZXdzIGJldHdlZW4gc3BsaXR2aWV3LCBtYXAtZnVsbHNjcmVlbiBvciB0aWxlLWZ1bGxzY3JlZW4uXG4gICAgICovXG4gICAgc3dpdGNoRGlzcGxheVN0YXRlOiBmdW5jdGlvbiAoc2hvd01hcCwgc2hvd1RpbGVzKSB7XG4gICAgXHRpZiAoIXNob3dNYXAgJiYgIXNob3dUaWxlcykge1xuICAgICAgICAgICAgdXRpbC5sb2coJ2NvbnRyb2wtdmlldy5qczogY2FudCBoaWRlIGJvdGggdGlsZSBhbmQgbWFwIHZpZXdzIGF0IHRoZSBzYW1lIHRpbWUhJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgXHR9XG4gICAgXHR0aGlzLkFwcC5kaXNwbGF5T3B0aW9ucy5zaG93TWFwID0gc2hvd01hcDtcbiAgICBcdHRoaXMuQXBwLmRpc3BsYXlPcHRpb25zLnNob3dUaWxlcyA9IHNob3dUaWxlcztcbiAgICBcdHRoaXMub3B0aW9ucy5zcGxpdHNjcmVlbiA9IHNob3dNYXAgJiYgc2hvd1RpbGVzO1xuICAgIFx0dGhpcy5BcHAubG9hZFRpbGVWaWV3KCk7XG4gICAgXHR0aGlzLkFwcC5sb2FkTWFwVmlldygpO1xuICAgIH0sXG5cbiAgICBcbiAgICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0gIEZ1bmN0aW9uYWwgbG9naWMgICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuICAgIFxuICAgIFxuICAgIC8qKlxuICAgICAqIFdpbGwgc3RhcnQgYSBmcmVzaCBzZWFyY2ggd2l0aCB0aGUgY3VycmVudCBxdWVyeSBvZiB0aGUgc2VhcmNoIHRleHRib3guXG4gICAgICovXG4gICAgdHJpZ2dlclF1ZXJ5U2VhcmNoOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBxdWVyeSA9IHRoaXMuJGVsLmZpbmQoJy5xJykudmFsKCk7XG4gICAgICAgIHRoaXMuc3RhdGUucSA9IHF1ZXJ5O1xuICAgICAgICB0aGlzLmFwcGx5RmlsdGVycygpO1xuICAgICAgICB0aGlzLnN0YXRlLmlnbm9yZUxvY2F0aW9uID0gIXRoaXMuJGVsLmZpbmQoJy5jaGVjay1pZ25vcmUtbG9jYXRpb24nKS5pcygnOmNoZWNrZWQnKTtcbiAgICAgICAgdGhpcy5zdGF0ZS5leGNoYW5nZSA9IHRoaXMuJGVsLmZpbmQoJy5jaGVjay1leGNoYW5nZScpLmlzKCc6Y2hlY2tlZCcpO1xuICAgICAgICB0aGlzLmNsZWFyRGV0YWlsUmVzdWx0Q2FjaGUoKTtcbiAgICAgICAgdmFyIHNlYXJjaFJlYXNvbiA9ICdtYW51YWwtc2VhcmNoJztcbiAgICAgICAgdGhpcy50cmlnZ2VyRGVsYXllZFNlYXJjaCh0cnVlLCBmYWxzZSwgZmFsc2UsIHNlYXJjaFJlYXNvbik7XG4gICAgfSxcbiAgICBcbiAgICAvKiogRGVsZXRlIHRoZSBkZXRhaWwgcmVzdWx0IGNhY2hlLCBzaG91bGQgb25seSBoYXBwZW4gb24gdm9sdW50YXJ5IHVzZXIgXCJuZXcgc2VhcmNoXCIgYWN0aW9ucyEgKi9cbiAgICBjbGVhckRldGFpbFJlc3VsdENhY2hlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNlbGYuZGV0YWlsUmVzdWx0Q2FjaGUgPSB7fTtcbiAgICB9LFxuICAgIFxuICAgIC8qKiBUcmlnZ2VycyBvbiBjbGljayBvZiBhIGxpbmsgdGhhdCBvcGVucyBhIHJlc3VsdCBkZXRhaWwgdmlldy5cbiAgICAgKiAgQ2FuIGJlIHRyaWdnZXJlZCBmcm9tIG11bHRpcGxlIHZpZXdzLiAqL1xuICAgIG9uUmVzdWx0TGlua0NsaWNrZWQ6IGZ1bmN0aW9uIChldmVudCwgZGlyZWN0SXRlbUlkLCBub05hdmlnYXRlKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgaWYgKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcGFyc2UgdGhlIHRhcmdldCBvYmplY3QgZnJvbSB0aGUgbGlua1xuICAgICAgICB2YXIgZGF0YSA9IG51bGw7XG4gICAgICAgIGlmICghZGlyZWN0SXRlbUlkICYmIGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgJHRhciA9ICQoZXZlbnQudGFyZ2V0KS5jbG9zZXN0KCcucmVzdWx0LWxpbmsnKTtcbiAgICAgICAgICAgIHZhciBkYXRhID0ge1xuICAgICAgICAgICAgICAgIHBvcnRhbDogJHRhci5hdHRyKCdkYXRhLXBvcnRhbCcpIHx8IDAsXG4gICAgICAgICAgICAgICAgdHlwZTogJHRhci5hdHRyKCdkYXRhLXR5cGUnKSxcbiAgICAgICAgICAgICAgICBzbHVnOiAkdGFyLmF0dHIoJ2RhdGEtc2x1ZycpLFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGlyZWN0SXRlbUlkID0gdXRpbC5tYWtlRGlyZWN0SXRlbUlkKGRhdGFbJ3BvcnRhbCddLCBkYXRhWyd0eXBlJ10sIGRhdGFbJ3NsdWcnXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHV0aWwucGFyc2VEaXJlY3RJdGVtSWQoZGlyZWN0SXRlbUlkKTtcbiAgICAgICAgfVxuICAgICAgICB1dGlsLmxvZygndGlsZS12aWV3LmpzOiBnb3QgYSBzZWxlY3QgY2xpY2sgZXZlbnQhIGRhdGE6ICcgKyBKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gICAgICAgIGlmIChkYXRhLnR5cGUgPT0gXCJjbG91ZGZpbGVcIikge1xuICAgICAgICAgICAgd2luZG93Lm9wZW4oZGF0YS5zbHVnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBjaGVjayBpZiB0aGlzIGl0ZW0gaXMgaW4gdGhlIGxvY2FsIGRldGFpbCBSZXN1bHQgY2FjaGVcbiAgICAgICAgdmFyIHJlc3VsdCA9IG51bGw7XG4gICAgICAgIGlmIChkaXJlY3RJdGVtSWQgaW4gc2VsZi5kZXRhaWxSZXN1bHRDYWNoZSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gc2VsZi5kZXRhaWxSZXN1bHRDYWNoZVtkaXJlY3RJdGVtSWRdO1xuICAgICAgICAgICAgc2VsZi5kaXNwbGF5RGV0YWlsUmVzdWx0KHJlc3VsdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBpZiBub3QsIGxvYWQgaXQgZnJvbSB0aGUgc2VydmVyXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIGJ1aWxkIGRldGFpbCBVUkxcbiAgICAgICAgICAgIHZhciBxdWVyeSA9ICQucGFyYW0oZGF0YSk7XG4gICAgICAgICAgICB2YXIgdXJsID0gdGhpcy5kZXRhaWxFbmRwb2ludFVSTCArICc/JyArIHF1ZXJ5O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBjYW5jZWwgdGhlIGN1cnJlbnRseSBvbmdvaW5nIHJlcXVlc3RcbiAgICAgICAgICAgIGlmIChzZWxmLmN1cnJlbnREZXRhaWxIdHRwUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgIHV0aWwubG9nKCdjb250cm9sLXZpZXcuanM6IE5ldyBkZXRhaWwgcmVxdWVzdCEgQWJvcnRpbmcgY3VycmVudCByZXF1ZXN0LicpXG4gICAgICAgICAgICAgICAgc2VsZi5jdXJyZW50RGV0YWlsSHR0cFJlcXVlc3QuYWJvcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIGRldGFpbEhhZEVycm9ycyA9IGZhbHNlO1xuICAgICAgICAgICAgc2VsZi5jdXJyZW50RGV0YWlsSHR0cFJlcXVlc3QgPSAkLmFqYXgodXJsLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICAgICAgICAgICAgdGltZW91dDogc2VsZi5zZWFyY2hYSFJUaW1lb3V0LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhLCB0ZXh0U3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB1dGlsLmxvZygnZ290IHJlc3VsdHNzc3MgZm9yIGRldGFpbCcpXG4gICAgICAgICAgICAgICAgICAgIHV0aWwubG9nKGRhdGEpXG4gICAgICAgICAgICAgICAgICAgIHV0aWwubG9nKHRleHRTdGF0dXMpXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoJ3Jlc3VsdCcgaW4gZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gbmV3IFJlc3VsdChkYXRhLnJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwdXQgaXRlbSBpbiByZXN1bHQgY2FjaGVcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZGV0YWlsUmVzdWx0Q2FjaGVbcmVzdWx0LmlkXSA9IHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZGlzcGxheURldGFpbFJlc3VsdChyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWRkIGEgcm91dGUgbmF2aWdhdGUgaGlzdG9yeSBzdGF0ZT9cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBcHAuZGlzcGxheU9wdGlvbnMucm91dGVOYXZpZ2F0aW9uICYmICFub05hdmlnYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRpbC5sb2coJ2NvbnRyb2wtdmlldy5qczogKysrKysrKysrKysrKysrKysgc2luY2Ugd2UgYXJlIGZ1bGxzY3JlZW4sIHB1Ymxpc2hpbmcgZGV0YWlsIHJvdXRlciBVUkwgdXBkYXRlIScpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5hZGRDdXJyZW50SGlzdG9yeVN0YXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IFxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlIHJlc3VsdCBjYW1lIGJhY2sgZW1wdHksIGl0IG1pZ2h0IGhhdmUgYmVlbiBkZWxldGVkIG9uIHRoZSBzZXJ2ZXIsIHNob3cgYW4gZXJyb3IgbWVzc2FnZSBhbmQgY2xvc2UgZGV0YWlsIHZpZXdcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbEhhZEVycm9ycyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCB0ZXh0U3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHV0aWwubG9nKCdjb250cm9sLXZpZXcuanM6IERldGFpbCBYSFIgZmFpbGVkLicpXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0U3RhdHVzID09PSAnYWJvcnQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsSGFkRXJyb3JzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoeGhyLCB0ZXh0U3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHV0aWwubG9nKCdjb250cm9sLXZpZXcuanM6IFNlYXJjaCBjb21wbGV0ZTogJyArIHRleHRTdGF0dXMpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRleHRTdGF0dXMgPT09ICdhYm9ydCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGV4dFN0YXR1cyAhPT0gJ3N1Y2Nlc3MnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxIYWRFcnJvcnMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY3VycmVudERldGFpbEh0dHBSZXF1ZXN0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRldGFpbEhhZEVycm9ycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPT0gNDAzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5kaXNwbGF5RGV0YWlsUmVzdWx0KG5ldyBSZXN1bHQoe3R5cGU6ICdlcnJvci00MDMnfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmRpc3BsYXlEZXRhaWxSZXN1bHQobmV3IFJlc3VsdCh7dHlwZTogJ2Vycm9yJ30pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBcbiAgICAgICAgfVxuICAgIH0sXG4gICAgXG4gICAgLy8gaWQgaXM6IFwiMS5ldmVudHMuZm9ydW0qdG9sbGVzLWV2ZW50XCJcbiAgICBcbiAgICAvKiogV2lsbCBsaWtlL3VubGlrZSBhIGdpdmVuIHJlc3VsdCwgZGVwZW5kaW5nIG9uIHRoZSBjdXJyZW50IGxpa2VkIHN0YXR1cyAqL1xuICAgIHRyaWdnZXJSZXN1bHRMaWtlT3JVbmxpa2U6IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICBcdHZhciBzZWxmID0gdGhpcztcbiAgICBcdHZhciB1cmwgPSAnL2xpa2Vmb2xsb3dzdGFyLydcbiAgICBcdFx0XG4gICAgXHR2YXIgZGF0YSA9IHV0aWwuZ2V0QVBJRGF0YUZvckRpcmVjdEl0ZW1JZChyZXN1bHQuZ2V0KCdpZCcpKTtcbiAgICBcdGlmIChkYXRhID09IG51bGwgfHwgIShyZXN1bHQuZ2V0KCd0eXBlJykgPT0gJ2lkZWFzJyB8fCByZXN1bHQuZ2V0KCd0eXBlJykgPT0gJ2V2ZW50cycpKSB7XG4gICAgXHRcdHV0aWwubG9nKCdMaWtpbmcgY2FuY2VsbGVkIC0gaW52YWxpZCByZXN1bHQgdHlwZSBmb3IgbGlraW5nOiAnICsgcmVzdWx0LmdldCgndHlwZScpKVxuICAgIFx0XHRyZXR1cm47XG4gICAgXHR9XG4gICAgXHRcbiAgICBcdHZhciB0b19saWtlID0gcmVzdWx0LmdldCgnbGlrZWQnKSA/ICcwJyA6ICcxJztcbiAgICBcdHZhciB1bmxpa2VkX2NvdW50ID0gcmVzdWx0LmdldCgncGFydGljaXBhbnRfY291bnQnKSAtIChyZXN1bHQuZ2V0KCdsaWtlZCcpID8gMSA6IDApO1xuICAgIFx0ZGF0YVsnbGlrZSddID0gdG9fbGlrZTtcbiAgICBcdC8vIGlmIHdlIHVubGlrZSBhbiBpZGVhLCBhbHNvIHVuZm9sbG93IGl0XG4gICAgXHRpZiAodG9fbGlrZSA9PSAnMCcgJiYgcmVzdWx0LmdldCgndHlwZScpID09ICdpZGVhcycpIHtcbiAgICBcdFx0ZGF0YVsnZm9sbG93J10gPSAnMCc7XG4gICAgXHR9XG4gICAgXHRcbiAgICBcdHV0aWwubG9nKCdTZW5kaW5nIGxpa2UgcmVxdWVzdCBmb3Igc2x1ZyBcIicgKyByZXN1bHQuZ2V0KCdzbHVnJykgKyAnXCIgYW5kIGxpa2U6ICcgKyB0b19saWtlKTtcbiAgICBcdHZhciBsaWtlSGFkRXJyb3JzID0gZmFsc2U7XG4gICAgXHRzZWxmLmN1cnJlbnREZXRhaWxIdHRwUmVxdWVzdCA9ICQuYWpheCh1cmwsIHtcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgIHRpbWVvdXQ6IHNlbGYuc2VhcmNoWEhSVGltZW91dCxcbiAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSwgdGV4dFN0YXR1cykge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHV0aWwubG9nKCdnb3QgcmVzdWx0c3NzcyBmb3IgbGlrZScpXG4gICAgICAgICAgICAgICAgdXRpbC5sb2coZGF0YSlcbiAgICAgICAgICAgICAgICB1dGlsLmxvZyh0ZXh0U3RhdHVzKVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmICgnbGlrZWQnIGluIGRhdGEpIHtcbiAgICAgICAgICAgICAgICBcdC8vIGZvciBpZGVhcywgXCJwYXJ0aWNpcGFudHNcIiBhcmUgdGhlIGxpa2Vyc1xuICAgICAgICAgICAgICAgIFx0aWYgKHJlc3VsdC5nZXQoJ3R5cGUnKSA9PSAnaWRlYXMnKSB7XG4gICAgICAgICAgICAgICAgXHRcdHJlc3VsdC5zZXQoJ3BhcnRpY2lwYW50X2NvdW50JywgdW5saWtlZF9jb3VudCArIChkYXRhLmxpa2VkID8gMSA6IDApKTtcbiAgICAgICAgICAgICAgICBcdH1cbiAgICAgICAgICAgICAgICBcdC8vIGdyYXBoaWNzIHVwZGF0ZSBoYXBwZW5zIGhlcmUsIHZpYSBzdWJzY3JpcHRpb25zIG9uIGNoYW5nZTpsaWtlZFxuICAgICAgICAgICAgICAgIFx0cmVzdWx0LnNldCgnbGlrZWQnLCBkYXRhLmxpa2VkKTtcbiAgICAgICAgICAgICAgICBcdHJlc3VsdC5zZXQoJ2ZvbGxvd2VkJywgZGF0YS5mb2xsb3dlZCk7XG5cbiAgICAgICAgICAgICAgICBcdC8vIGZvciBpZGVhcywgYSBsaWtlIHRyaWdnZXJzIGEgZm9sbG93LCBzbyBzaG93IHRoZSBub3ctZm9sbG93aW5nIG1lc3NhZ2VcbiAgICAgICAgICAgICAgICBcdGlmIChyZXN1bHQuZ2V0KCd0eXBlJykgPT0gJ2lkZWFzJyAmJiBkYXRhLmZvbGxvd2VkKSB7XG4gICAgICAgICAgICAgICAgXHRcdHNlbGYuQXBwLiRlbC5maW5kKCcubm93LWZvbGxvd2luZy1tZXNzYWdlJykuc2hvdygpO1xuICAgICAgICAgICAgICAgIFx0fVxuICAgICAgICAgICAgICAgIH0gXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIHRleHRTdGF0dXMpIHtcbiAgICAgICAgICAgICAgICB1dGlsLmxvZygnY29udHJvbC12aWV3LmpzOiBMaWtlIFhIUiBmYWlsZWQuJylcbiAgICAgICAgICAgICAgICBsaWtlSGFkRXJyb3JzID0gdHJ1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKHhociwgdGV4dFN0YXR1cykge1xuICAgICAgICAgICAgICAgIHV0aWwubG9nKCdjb250cm9sLXZpZXcuanM6IExpa2UgY29tcGxldGU6ICcgKyB0ZXh0U3RhdHVzKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAodGV4dFN0YXR1cyAhPT0gJ3N1Y2Nlc3MnKSB7XG4gICAgICAgICAgICAgICAgXHRsaWtlSGFkRXJyb3JzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGxpa2VIYWRFcnJvcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnLmxpa2UtYnV0dG9uLWVycm9yJykuc2hvdygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBcblxuICAgIC8qKiBXaWxsIGZvbGxvdy91bmZvbGxvdyBhIGdpdmVuIHJlc3VsdCwgZGVwZW5kaW5nIG9uIHRoZSBjdXJyZW50IGZvbGxvd2VkIHN0YXR1cyAqL1xuICAgIHRyaWdnZXJSZXN1bHRGb2xsb3dPclVuZm9sbG93OiBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgXHR2YXIgc2VsZiA9IHRoaXM7XG4gICAgXHR2YXIgdXJsID0gJy9saWtlZm9sbG93c3Rhci8nXG4gICAgXHRcdFxuICAgICAgICB2YXIgZGF0YSA9IHV0aWwuZ2V0QVBJRGF0YUZvckRpcmVjdEl0ZW1JZChyZXN1bHQuZ2V0KCdpZCcpKTtcblxuICAgIFx0aWYgKGRhdGEgPT0gbnVsbCkge1xuICAgIFx0XHR1dGlsLmxvZygnRm9sbG93aW5nIGNhbmNlbGxlZCAtIGludmFsaWQgcmVzdWx0IHR5cGUgZm9yIGxpa2luZzogJyArIHJlc3VsdC5nZXQoJ3R5cGUnKSk7XG4gICAgXHRcdHJldHVybjtcbiAgICBcdH1cbiAgICBcdHZhciB0b19mb2xsb3cgPSByZXN1bHQuZ2V0KCdmb2xsb3dlZCcpID8gJzAnIDogMTtcbiAgICBcdGRhdGFbJ2ZvbGxvdyddID0gdG9fZm9sbG93O1xuICAgIFx0XG4gICAgXHR1dGlsLmxvZygnU2VuZGluZyBmb2xsb3cgcmVxdWVzdCBmb3Igc2x1ZyBcIicgKyByZXN1bHQuZ2V0KCdzbHVnJykgKyAnXCIgYW5kIGZvbGxvdzogJyArIHRvX2ZvbGxvdyk7XG4gICAgXHR2YXIgZm9sbG93SGFkRXJyb3JzID0gZmFsc2U7XG4gICAgXHRzZWxmLmN1cnJlbnREZXRhaWxIdHRwUmVxdWVzdCA9ICQuYWpheCh1cmwsIHtcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgIHRpbWVvdXQ6IHNlbGYuc2VhcmNoWEhSVGltZW91dCxcbiAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSwgdGV4dFN0YXR1cykge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHV0aWwubG9nKCdnb3QgcmVzdWx0c3NzcyBmb3IgZm9sbG93JylcbiAgICAgICAgICAgICAgICB1dGlsLmxvZyhkYXRhKVxuICAgICAgICAgICAgICAgIHV0aWwubG9nKHRleHRTdGF0dXMpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKCdmb2xsb3dlZCcgaW4gZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuc2V0KCdmb2xsb3dlZCcsIGRhdGEuZm9sbG93ZWQpO1xuICAgICAgICAgICAgICAgICAgICAvLyBncmFwaGljcyB1cGRhdGUgaGFwcGVucyB2aWEgc3Vic2NyaXB0aW9ucyBvbiBjaGFuZ2U6Zm9sbG93ZWRcbiAgICAgICAgICAgICAgICBcdGlmIChkYXRhLmZvbGxvd2VkKSB7XG4gICAgICAgICAgICAgICAgXHRcdHNlbGYuQXBwLiRlbC5maW5kKCcubm93LWZvbGxvd2luZy1tZXNzYWdlJykuc2hvdygpO1xuICAgICAgICAgICAgICAgIFx0fVxuICAgICAgICAgICAgICAgIH0gXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIHRleHRTdGF0dXMpIHtcbiAgICAgICAgICAgICAgICB1dGlsLmxvZygnY29udHJvbC12aWV3LmpzOiBGb2xsb3cgWEhSIGZhaWxlZC4nKVxuICAgICAgICAgICAgICAgIGZvbGxvd0hhZEVycm9ycyA9IHRydWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICh4aHIsIHRleHRTdGF0dXMpIHtcbiAgICAgICAgICAgICAgICB1dGlsLmxvZygnY29udHJvbC12aWV3LmpzOiBGb2xsb3cgY29tcGxldGU6ICcgKyB0ZXh0U3RhdHVzKTtcblxuICAgICAgICAgICAgICAgIGlmICh0ZXh0U3RhdHVzICE9PSAnc3VjY2VzcycpIHtcbiAgICAgICAgICAgICAgICBcdGZvbGxvd0hhZEVycm9ycyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChmb2xsb3dIYWRFcnJvcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnLmZvbGxvdy1idXR0b24tZXJyb3InKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgdHJpZ2dlclJlc3VsdFN0YXJPclVuc3RhcjogZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciB1cmwgPSAnL2xpa2Vmb2xsb3dzdGFyLydcblxuICAgICAgICB2YXIgZGF0YSA9IHV0aWwuZ2V0QVBJRGF0YUZvckRpcmVjdEl0ZW1JZChyZXN1bHQuZ2V0KCdpZCcpKTtcbiAgICBcdGlmIChkYXRhID09IG51bGwpIHtcbiAgICBcdFx0dXRpbC5sb2coJ01hcmtpbmcgY2FuY2VsbGVkIC0gaW52YWxpZCByZXN1bHQgdHlwZSBmb3Igc3RhcnJpbmc6ICcgKyByZXN1bHQuZ2V0KCd0eXBlJykpO1xuICAgIFx0XHRyZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdG9fc3RhciA9IHJlc3VsdC5nZXQoJ3N0YXJyZWQnKSA/ICcwJyA6IDE7XG4gICAgICAgIGRhdGFbJ3N0YXInXSA9IHRvX3N0YXI7XG5cbiAgICAgICAgdXRpbC5sb2coJ1NlbmRpbmcgc3RhciByZXF1ZXN0IGZvciBzbHVnIFwiJyArIHJlc3VsdC5nZXQoJ3NsdWcnKSArICdcIiBhbmQgc3RhcjogJyArIHRvX3N0YXIpO1xuXG4gICAgICAgIHZhciBzdGFySGFkRXJyb3JzID0gZmFsc2U7XG4gICAgICAgIHNlbGYuY3VycmVudERldGFpbEh0dHBSZXF1ZXN0ID0gJC5hamF4KHVybCwge1xuICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgdGltZW91dDogc2VsZi5zZWFyY2hYSFJUaW1lb3V0LFxuICAgICAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhLCB0ZXh0U3RhdHVzKSB7XG5cbiAgICAgICAgICAgICAgICB1dGlsLmxvZygnZ290IHJlc3VsdHNzc3MgZm9yIHN0YXInKVxuICAgICAgICAgICAgICAgIHV0aWwubG9nKGRhdGEpXG4gICAgICAgICAgICAgICAgdXRpbC5sb2codGV4dFN0YXR1cylcblxuICAgICAgICAgICAgICAgIGlmICgnc3RhcnJlZCcgaW4gZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuc2V0KCdzdGFycmVkJywgZGF0YS5zdGFycmVkKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHhociwgdGV4dFN0YXR1cykge1xuICAgICAgICAgICAgICAgIHV0aWwubG9nKCdjb250cm9sLXZpZXcuanM6IFN0YXIgWEhSIGZhaWxlZC4nKVxuICAgICAgICAgICAgICAgIHN0YXJIYWRFcnJvcnMgPSB0cnVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoeGhyLCB0ZXh0U3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgdXRpbC5sb2coJ2NvbnRyb2wtdmlldy5qczogU3RhciBjb21wbGV0ZTogJyArIHRleHRTdGF0dXMpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRleHRTdGF0dXMgIT09ICdzdWNjZXNzJykge1xuICAgICAgICAgICAgICAgIFx0c3RhckhhZEVycm9ycyAgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc3RhckhhZEVycm9ycykge1xuICAgICAgICAgICAgICAgICAgICAkKCcuc3Rhci1idXR0b24tZXJyb3InKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuXG4gICAgfSxcbiAgICAvKiogQ2FsbGVkIG1hbnVhbGx5IG9yIGRlZmVycmVkbHkgYWZ0ZXIgbG9hZGluZyBhIFJlc3VsdCBmcm9tIHRoZSBzZXJ2ZXIsXG4gICAgICogIHRvIGJlIHNob3duIGFzIHRoZSBEZXRhaWwgVmlldy5cbiAgICAgKiAgQHBhcmFtIHJlc3VsdDogVGhpcyBtdXN0IGJlICphIGRldGFpbGVkKiBSZXN1bHQgbW9kZWwsIG9yIG51bGwhXG4gICAgICogIENhbGxpbmcgdGhpcyB3aXRoIGBudWxsYCBhcyBwYXJhbWV0ZXIgY2xvc2VzIGFueSBvcGVuIGRldGFpbCB2aWV3LiAqL1xuICAgIGRpc3BsYXlEZXRhaWxSZXN1bHQ6IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgLy8gd2Ugc2ltcGx5IHVuc2VsZWN0IHRoZSBjdXJyZW50IHJlc3VsdFxuICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgdGhpcy5fc2V0U2VsZWN0ZWRSZXN1bHQobnVsbCk7XG4gICAgICAgICAgICB0aGlzLmRldGFpbFJlc3VsdCA9IG51bGw7XG4gICAgICAgICAgICBCYWNrYm9uZS5tZWRpYXRvci5wdWJsaXNoKCdyZXN1bHQ6ZGV0YWlsLWNsb3NlZCcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyB0cnkgdG8gZmluZCB0aGUgcmVzdWx0IHdpdGggdGhpcyBzaG9ydCBpZCBpbiBvdXIgY29sbGVjdGlvbiBhbmQgc2V0IGl0IHRvIHNlbGVjdGVkXG4gICAgICAgIHZhciBjb2xsZWN0aW9uTW9kZWwgPSB0aGlzLmNvbGxlY3Rpb24uZ2V0KHJlc3VsdC5pZCk7XG4gICAgICAgIGlmIChjb2xsZWN0aW9uTW9kZWwpIHtcbiAgICAgICAgICAgIHRoaXMuX3NldFNlbGVjdGVkUmVzdWx0KGNvbGxlY3Rpb25Nb2RlbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRTZWxlY3RlZFJlc3VsdChudWxsKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBwdWJsaXNoIHRoZSBvcGVuaW5nIGludGVudCBmb3IgdGhlIGRldGFpbCB2aWV3IChpdCBkb2VzIG5vdCBuZWVkIHRvIGJlIGluIG91ciBjb2xsZWN0aW9uKVxuICAgICAgICB0aGlzLmRldGFpbFJlc3VsdCA9IHJlc3VsdDtcbiAgICAgICAgQmFja2JvbmUubWVkaWF0b3IucHVibGlzaCgncmVzdWx0OmRldGFpbC1vcGVuZWQnLCByZXN1bHQpO1xuICAgIH0sXG4gICAgXG4gICAgLyoqIFN0YXRlIHN3aXRjaGVyIGZvciB0aGUgZmlsdGVyIGZyYW1lICovXG4gICAgdG9nZ2xlRmlsdGVyUGFuZWw6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuZmlsdGVyUGFuZWxWaXNpYmxlKSB7XG4gICAgICAgICAgICB0aGlzLmhpZGVGaWx0ZXJQYW5lbChldmVudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNob3dGaWx0ZXJQYW5lbChldmVudCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqIFN0YXRlIHN3aXRjaGVyIGZvciB0aGUgZmlsdGVyIGZyYW1lICovXG4gICAgc2hvd0ZpbHRlclBhbmVsOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhdGUuZmlsdGVyUGFuZWxWaXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy4kZWwuZmluZCgnLm1hcC1jb250cm9scy1maWx0ZXJzJykuc2xpZGVEb3duKDI1MCk7XG4gICAgICAgIHRoaXMuJGVsLmZpbmQoJy5pY29uLWZpbHRlcnMnKS5hZGRDbGFzcygnb3BlbicpO1xuICAgICAgICB0aGlzLiRlbC5wYXJlbnRzKCkuZmluZCgnLmNvbnRyb2xzJykuYWRkQ2xhc3MoJ29wZW4nKTtcbiAgICAgICAgdGhpcy50b2dnbGVEYXRlVGltZVBpY2tlcigpO1xuICAgIH0sXG5cbiAgICAvKiogU3RhdGUgc3dpdGNoZXIgZm9yIHRoZSBmaWx0ZXIgZnJhbWUgKi9cbiAgICBoaWRlRmlsdGVyUGFuZWw6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGF0ZS5maWx0ZXJQYW5lbFZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy4kZWwuZmluZCgnLm1hcC1jb250cm9scy1maWx0ZXJzJykuc2xpZGVVcCgyNTApO1xuICAgICAgICB0aGlzLiRlbC5maW5kKCcuaWNvbi1maWx0ZXJzJykucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcbiAgICAgICAgdGhpcy4kZWwucGFyZW50cygpLmZpbmQoJy5jb250cm9scycpLnJlbW92ZUNsYXNzKCdvcGVuJyk7XG4gICAgfSxcbiAgICBcbiAgICBoYW5kbGVUeXBpbmc6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIGlmICh1dGlsLmlzSWdub3JhYmxlS2V5KGV2ZW50KSkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLm1hcmtTZWFyY2hCb3hTZWFyY2hhYmxlKCk7XG4gICAgfSxcbiAgICBcbiAgICBoYW5kbGVLZXlEb3duOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gMTMpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJRdWVyeVNlYXJjaCgpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBcbiAgICBtYXJrU2VhcmNoQm94U2VhcmNoYWJsZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyB0cmlnZ2VyIHRoaXMgd2hlbiBuZXcgZGF0YS9zdGF0ZXMgYXJlIGVudGVyZWQgdG8gZW5hYmxlIHRoZSBzZWFyY2ggYnV0dG9uXG4gICAgICAgIHRoaXMuJGVsLmZpbmQoJy5pY29uLXNlYXJjaCcpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgdGhpcy4kZWwuZmluZCgnLmJ1dHRvbi1zZWFyY2gnKS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcbiAgICB9LFxuXG4gICAgaGFuZGxlU3RhcnRTZWFyY2g6IGZ1bmN0aW9uIChzZWFyY2hSZWFzb24pIHtcbiAgICAgICAgdGhpcy4kZWwuZmluZCgnLmljb24tbG9hZGluZycpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgdGhpcy4kZWwuZmluZCgnLmljb24tcmVzZXQnKS5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgIHRoaXMuJGVsLmZpbmQoJy5xJykuYmx1cigpO1xuICAgICAgICAvLyBkaXNhYmxlIGlucHV0IGluIGNvbnRlbnQgdmlld3MgZHVyaW5nIHNlYXJjaCAodXAgdG8gdGhlIHZpZXdzIHRvIGRlY2lkZSB3aGF0IHRvIGRpc2FibGUpXG4gICAgICAgIC8vIGV4Y2VwdCBpZiB3ZSBhcmUgb25seSBhZGRpbmcgc29tZSByZXN1bHRzIGFmdGVyIGFuIGluZmluaXRlIHNjcm9sbCBldmVudFxuICAgICAgICBpZiAoISh0aGlzLm9wdGlvbnMucGFnaW5hdGlvbkNvbnRyb2xzVXNlSW5maW5pdGVTY3JvbGwgJiYgc2VhcmNoUmVhc29uID09ICdwYWdpbmF0ZS1zZWFyY2gnKSkge1xuICAgICAgICBcdF8uZWFjaCh0aGlzLkFwcC5jb250ZW50Vmlld3MsIGZ1bmN0aW9uKHZpZXcpe1xuICAgICAgICBcdFx0dmlldy5kaXNhYmxlSW5wdXQoKTtcbiAgICAgICAgXHR9KTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICB9LFxuXG4gICAgaGFuZGxlRW5kU2VhcmNoOiBmdW5jdGlvbiAoc2VhcmNoUmVhc29uKSB7XG4gICAgICAgIHRoaXMuJGVsLmZpbmQoJy5pY29uLWxvYWRpbmcnKS5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgIHRoaXMuJGVsLmZpbmQoJy5pY29uLXJlc2V0JykudG9nZ2xlQ2xhc3MoJ2hpZGRlbicsICghdGhpcy5zdGF0ZS5maWx0ZXJzQWN0aXZlICYmICF0aGlzLnN0YXRlLnEpKTtcbiAgICAgICAgLy8gZW5hYmxlIGlucHV0IGluIGNvbnRlbnQgdmlld3MgZHVyaW5nIHNlYXJjaCAodXAgdG8gdGhlIHZpZXdzIHRvIGRlY2lkZSB3aGF0IHRvIGVuYWJsZSlcbiAgICAgICAgXy5lYWNoKHRoaXMuQXBwLmNvbnRlbnRWaWV3cywgZnVuY3Rpb24odmlldyl7XG4gICAgICAgICAgICB2aWV3LmVuYWJsZUlucHV0KCk7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKiogQ2FsbGVkIHdoZW4gdGhlIEFwcCBpcyBmdWxseSBsb2FkZWQgZm9yIHRoZSBmaXJzdCB0aW1lLlxuICAgICAqIFx0VGhpcyBpcyB0aGUgaW5pdGlhbCBzZWFyY2guXG4gICAgICogICAgIFdBUk5JTkc6IER1ZSB0byB0aGUgdGhyZWFkZWQgYWZ0ZXJfcmVuZGVyKCkgbWV0aG9kLCB0aGlzIG1heVxuICAgICAqICAgICAgICAgY3VycmVudGx5IGFjdHVhbGx5IGhhcHBlbiBiZWZvcmUgYSBmdWxsIGxvYWQuXG4gICAgICogICovXG4gICAgaGFuZGxlQXBwUmVhZHk6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB1dGlsLmxvZygnY29udHJvbC12aWV3LmpzOiBhcHAgaXMgcmVhZHkgdG8gc2VhcmNoLiBzdGFydGluZyBzZWFyY2ggZnJvbSBVUkwhJylcbiAgICAgICAgdGhpcy50cmlnZ2VyU2VhcmNoRnJvbVVybCgpO1xuICAgIH0sXG4gICAgXG4gICAgLyoqIEV4ZWN1dGVkICpldmVyeSB0aW1lKiBhZnRlciByZW5kZXIgKi9cbiAgICBhZnRlclJlbmRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIFxuICAgICAgICAvLyBDcmVhdGUgdGhlIHBhZ2luYXRpb24gY29udHJvbCB2aWV3IGlmIG5vdCBleGlzdHNcbiAgICAgICAgaWYgKCFzZWxmLnBhZ2luYXRpb25Db250cm9sVmlldyAmJiBzZWxmLm9wdGlvbnMucGFnaW5hdGlvbkNvbnRyb2xzRW5hYmxlZCAmJiBzZWxmLkFwcC50aWxlTGlzdFZpZXcpIHtcbiAgICAgICAgICAgIHNlbGYucGFnaW5hdGlvbkNvbnRyb2xWaWV3ID0gbmV3IFBhZ2luYXRpb25Db250cm9sVmlldyh7XG4gICAgICAgICAgICAgICAgbW9kZWw6IG51bGwsXG4gICAgICAgICAgICAgICAgZWw6IHNlbGYuQXBwLnRpbGVMaXN0Vmlldy4kZWwuZmluZCgnLnBhZ2luYXRpb24tY29udHJvbHMnKSxcbiAgICAgICAgICAgICAgICBmdWxsc2NyZWVuOiBzZWxmLkFwcC5kaXNwbGF5T3B0aW9ucy5mdWxsc2NyZWVuLFxuICAgICAgICAgICAgICAgIHNwbGl0c2NyZWVuOiBzZWxmLkFwcC5kaXNwbGF5T3B0aW9ucy5zaG93TWFwICYmIHNlbGYuQXBwLmRpc3BsYXlPcHRpb25zLnNob3dUaWxlc1xuICAgICAgICAgICAgfSwgXG4gICAgICAgICAgICBzZWxmLkFwcCxcbiAgICAgICAgICAgIHNlbGZcbiAgICAgICAgICAgICkucmVuZGVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzZWxmLm1vYmlsZUNvbnRyb2xWaWV3KSB7XG4gICAgICAgICAgICAvLyByZW5kZXIgbW9iaWxlIHZpZXcgYnV0dG9uc1xuICAgICAgICAgICAgc2VsZi5tb2JpbGVDb250cm9sVmlldyA9IG5ldyBNb2JpbGVDb250cm9sVmlldyh7XG4gICAgICAgICAgICAgICAgbW9kZWw6IG51bGwsXG4gICAgICAgICAgICAgICAgZWxQYXJlbnQ6IHNlbGYuQXBwLmVsLFxuICAgICAgICAgICAgfSwgXG4gICAgICAgICAgICBzZWxmLkFwcCxcbiAgICAgICAgICAgIHNlbGZcbiAgICAgICAgICAgICkucmVuZGVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRhdGVUaW1lUGlja2VyID0gJCgnI2RhdGUtdGltZS1maWx0ZXInKTtcbiAgICAgICAgZGF0ZVRpbWVQaWNrZXIuZmluZCgnI2lkX3N0YXJ0XzAnKS52YWwodGhpcy5zdGF0ZS5mcm9tRGF0ZSk7XG4gICAgICAgIGRhdGVUaW1lUGlja2VyLmZpbmQoJyNpZF9zdGFydF8xJykudmFsKHRoaXMuc3RhdGUuZnJvbVRpbWUpO1xuICAgICAgICBkYXRlVGltZVBpY2tlci5maW5kKCcjaWRfZW5kXzAnKS52YWwodGhpcy5zdGF0ZS50b0RhdGUpO1xuICAgICAgICBkYXRlVGltZVBpY2tlci5maW5kKCcjaWRfZW5kXzEnKS52YWwodGhpcy5zdGF0ZS50b1RpbWUpO1xuICAgICAgICB0aGlzLnRvZ2dsZURhdGVUaW1lUGlja2VyKCk7XG4gICAgfSxcbiAgICBcbiAgICAvKipcbiAgICAgKiBMZXQgYWxsIGNvbnRlbnQgdmlld3MgcGFyc2UgdGhlIFVSTCBwYXJhbWV0ZXJzIHRoZXkgYXJlIGludGVyZXN0ZWQgaW4sIGFuZCB0aGVuIHN0YXJ0IFxuICAgICAqIGEgZnJlc2ggc2VhcmNoLlxuICAgICAqL1xuICAgIHRyaWdnZXJTZWFyY2hGcm9tVXJsOiBmdW5jdGlvbiAobm9OZXdOYXZpZ2F0ZUV2ZW50KSB7XG4gICAgICAgIHRoaXMucmVzZXRBbGwoKTtcbiAgICAgICAgdmFyIHVybFBhcmFtcyA9IHRoaXMucGFyc2VVcmwod2luZG93LmxvY2F0aW9uLmhyZWYucmVwbGFjZSh3aW5kb3cubG9jYXRpb24ub3JpZ2luLCAnJykpO1xuICAgICAgICAvLyBpZiBpbmZpbml0ZSBzY3JvbGwgaXMgZW5hYmxlZCwgYWx3YXlzIHNob3cgdGhlIGluaXRpYWwgcGFnZSwgdW5zY3JvbGxlZCBhbmQgdW5wYWdpbmF0ZWRcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5wYWdpbmF0aW9uQ29udHJvbHNVc2VJbmZpbml0ZVNjcm9sbCAmJiAncGFnZScgaW4gdXJsUGFyYW1zKSB7XG4gICAgICAgIFx0ZGVsZXRlIHVybFBhcmFtcy5wYWdlO1xuICAgICAgICB9XG4gICAgICAgIF8uZWFjaCh0aGlzLkFwcC5jb250ZW50Vmlld3MsIGZ1bmN0aW9uKHZpZXcpe1xuICAgICAgICAgICAgdmlldy5hcHBseVVybFNlYXJjaFBhcmFtZXRlcnModXJsUGFyYW1zKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGV0ZXJtaW5lQWN0aXZlRmlsdGVyU3RhdHVzZXMoKTtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgdGhpcy50cmlnZ2VyRGVsYXllZFNlYXJjaCh0cnVlLCB0cnVlLCBub05ld05hdmlnYXRlRXZlbnQsICdpbml0aWFsLXNlYXJjaCcpO1xuICAgIH0sXG4gICAgXG4gICAgLyoqXG4gICAgICogVGhlIGNvbnRleHQgY2FuIGNvbnRhaW4gYHJlYXNvbmAgZm9yIGEgc2lnbmFsIGZvciBvdXQtb2YtZGF0ZSByZXN1bHQgc2V0czpcbiAgICAgKiAtIHZpZXdwb3J0LWNoYW5nZWQ6IFRoZSBtYXAgd2FzIHNjcm9sbGVkIG9yIHdpbmRvdyB3YXMgcmVzaXplZFxuICAgICAqIC0gbWFwLW5hdmlnYXRlOiBSb3V0ZXIgbmF2aWdhdGUgb24gdGhlIG1hcCAobm90IGNhbGxlZCBkdXJpbmcgaW5pdGlhbCBuYXZpZ2F0aW9uKVxuICAgICAqIC0gLi4uXG4gICAgICovXG4gICAgaGFuZGxlU3RhbGVSZXN1bHRzOiBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICBpZiAoY29udGV4dC5yZWFzb24gPT0gJ3ZpZXdwb3J0LWNoYW5nZWQnKSB7XG4gICAgICAgICAgICB1dGlsLmxvZygnKioqIGNvbnRyb2wtdmlldy5qczogUmVjZWl2ZWQgc2lnbmFsIGZvciBzdGFsZSByZXN1bHRzIGJjIG9mIHZpZXdwb3J0IGNoYW5nZScpXG4gICAgICAgIH0gZWxzZSBpZiAoY29udGV4dC5yZWFzb24gPT0gJ21hcC1uYXZpZ2F0ZScpIHtcbiAgICAgICAgICAgIHV0aWwubG9nKCcqKiogY29udHJvbC12aWV3LmpzOiBSZWNlaXZlZCBzaWduYWwgZm9yIHN0YWxlIHJlc3VsdHMgYmMgb2YgbWFwLW5hdmlnYXRlJylcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gcHJldmVudCByZWZyZXNoaW5nIHJlc3VsdHMgb24gdmlld3BvcnQgY2hhbmdlcyB3aGVuIHRoZSBtb2JpbGUgdmlldyBzZWFyY2ggcGFuZWwgaXMgb3BlbixcbiAgICAgICAgLy8gYXMgdGhpcyBpcyB0cmlnZ2VyZWQgYnkgb25zY3JlZW4ga2V5Ym9hcmRzIGFuZCBsZWFkcyB0byBjaG9wcHkgYmVoYXZpb3VyXG4gICAgICAgIGlmIChjb250ZXh0LnJlYXNvbiA9PSAndmlld3BvcnQtY2hhbmdlZCcgJiYgdGhpcy5BcHAuJGVsLmhhc0NsYXNzKCdtb2JpbGUtdmlldy1zZWFyY2gnKSkge1xuICAgICAgICBcdHV0aWwubG9nKCcqKiogY29udHJvbC12aWV3LmpzOiBQcmV2ZW50ZWQgcmVmcmVzaCBvZiByZXN1bHRzIHdoaWxlIHNlYXJjaCBwYW5lbCBpcyBvcGVuLicpXG4gICAgICAgIFx0cmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB2YXIgc3RhbGVCZWZvcmUgPSB0aGlzLnN0YXRlLnJlc3VsdHNTdGFsZTtcbiAgICAgICAgdGhpcy5zdGF0ZS5yZXN1bHRzU3RhbGUgPSB0cnVlO1xuICAgICAgICBcbiAgICAgICAgaWYgKGNvbnRleHQucmVhc29uID09ICdtYXAtbmF2aWdhdGUnKSB7XG4gICAgICAgICAgICAvLyBvbiBhIG5hdmlnYXRlIGV2ZW50IHdlIGhhdmUgdG8gcmUtcmVhZCB0aGUgVVJMIChidXQgYWRkIG5vIGhpc3Rvcnkgc3RhdGUpXG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJTZWFyY2hGcm9tVXJsKHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gc2VhcmNoIG9yIGRvIG5vdGhpbmcsIGRlcGVuZGluZyBvbiBpZiB3ZSByZS1zZWFyY2ggb24gc2Nyb2xsXG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5zZWFyY2hPblNjcm9sbCkge1xuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGJlZm9yZSBhdXRvLXJlcmVuZGVyaW5nIHRoYXQgdGhlIGlucHV0LWJveCBpcyBub3QgZm9jdXNlZCFcbiAgICAgICAgICAgICAgICAvLyBpZiBzbywgb24gbW9iaWxlIHRoaXMgc2VhcmNoIHdvdWxkIHB1bGwgZG93biB0aGUga2V5Ym9hcmRcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuJGVsLmZpbmQoJy5xJykuaXMoXCI6Zm9jdXNcIikpIHtcbiAgICAgICAgICAgICAgICBcdHZhciBub1BhZ2luYXRpb25SZXNldCA9IGNvbnRleHQucmVhc29uID09ICd2aWV3cG9ydC1jaGFuZ2VkJztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyRGVsYXllZFNlYXJjaChmYWxzZSwgbm9QYWdpbmF0aW9uUmVzZXQsIGZhbHNlLCBjb250ZXh0LnJlYXNvbik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdXRpbC5sb2coJ2NvbnRyb2wtdmlldy5qczogUHJldmVudGVkIGEgc2VhcmNoIHdoaWxlIGlucHV0IGlzIGZvY3VzZWQhJylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHJlLXJlbmRlciBjb250cm9scyBzbyB0aGUgbWFudWFsIHNlYXJjaCBidXR0b24gd2lsbCBiZSBlbmFibGVkXG4gICAgICAgICAgICAgICAgaWYgKCFzdGFsZUJlZm9yZSkge1xuICAgICAgICAgICAgICAgIFx0aWYgKHRoaXMucGFnaW5hdGlvbkNvbnRyb2xWaWV3KSB7XG4gICAgICAgICAgICAgICAgXHRcdHRoaXMucGFnaW5hdGlvbkNvbnRyb2xWaWV3LnJlbmRlcigpO1xuICAgICAgICAgICAgICAgIFx0fVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgXG4gICAgLyoqIEFkZHMgdGhlIGN1cnJlbnQgc2VhcmNoIHN0YXRlLCBpbmNsdWRpbmcgYWxsIHBhcmFtZXRlcnMgYW5kIGRldGFpbCB2aWV3IHN0YXRlIFxuICAgICAqICBhcyBhIFVSTCBoaXN0b3J5IHN0YXRlLlxuICAgICAqL1xuICAgIGFkZEN1cnJlbnRIaXN0b3J5U3RhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBCYWNrYm9uZS5tZWRpYXRvci5wdWJsaXNoKCduYXZpZ2F0ZTpyb3V0ZXInLCBzZWxmLmJ1aWxkU2VhcmNoUXVlcnlVUkwoZmFsc2UpLnJlcGxhY2Uoc2VsZi5zZWFyY2hFbmRwb2ludFVSTCwgJy8nKSlcbiAgICB9LFxuICAgIFxuICAgIC8vIGNhbGxlZCB3aXRoIGEgbGlzdCBvZiBkaWN0cyBvZiByZXN1bHRzIGZyZXNobHkgcmV0dXJuZWQgYWZ0ZXIgYSBzZWFyY2hcbiAgICBwcm9jZXNzU2VhcmNoUmVzdWx0czogZnVuY3Rpb24gKGpzb25SZXN1bHRMaXN0LCBzZWFyY2hSZWFzb24pIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBcbiAgICAgICAgdmFyIHJlc3VsdE1vZGVscyA9IFtdO1xuICAgICAgICBfLmVhY2goanNvblJlc3VsdExpc3QsIGZ1bmN0aW9uKHJlcyl7XG4gICAgICAgICAgICB2YXIgbmV3bW9kID0gbmV3IFJlc3VsdChyZXMpO1xuICAgICAgICAgICAgcmVzdWx0TW9kZWxzLnB1c2gobmV3bW9kKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIHRha2UgdGhlIGN1cnJlbnQgc2VsZWN0ZWQgbW9kZWwgYW5kIGNoZWNrIGlmIGl0IGlzIGluIHRoZSBuZXcgcmVzdWx0IGxpc3RcbiAgICAgICAgLy8gaWYgc28sIHNldCB0aGF0IHRvIHNlbGVjdGVkXG4gICAgICAgIC8vIGlmIG5vdDogYWRkIGl0IHRvIGl0XG4gICAgICAgIGlmIChzZWxmLnNlbGVjdGVkUmVzdWx0KSB7XG4gICAgICAgICAgICB2YXIgcG9zaXRpb24gPSByZXN1bHRNb2RlbHMubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlkO30pLmluZGV4T2Yoc2VsZi5zZWxlY3RlZFJlc3VsdC5pZCk7XG4gICAgICAgICAgICBpZiAocG9zaXRpb24gPiAtMSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdE1vZGVsc1twb3NpdGlvbl0uc2V0KCdzZWxlY3RlZCcsIHRydWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXN1bHRNb2RlbHMucHVzaChzZWxmLnNlbGVjdGVkUmVzdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyB0YWtlIHRoZSBjdXJyZW50IGhvdmVyZWQgbW9kZWwgYW5kIGNoZWNrIGlmIGl0IGlzIGluIHRoZSBuZXcgcmVzdWx0IGxpc3RcbiAgICAgICAgLy8gaWYgc28sIHNldCB0aGF0IHRvIGhvdmVyZWRcbiAgICAgICAgLy8gaWYgbm90OiBhZGQgaXQgdG8gaXRcbiAgICAgICAgaWYgKHNlbGYuaG92ZXJlZFJlc3VsdCkge1xuICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gcmVzdWx0TW9kZWxzLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5pZDt9KS5pbmRleE9mKHNlbGYuaG92ZXJlZFJlc3VsdC5pZCk7XG4gICAgICAgICAgICBpZiAocG9zaXRpb24gPiAtMSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdE1vZGVsc1twb3NpdGlvbl0uc2V0KCdob3ZlcmVkJywgdHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc3VsdE1vZGVscy5wdXNoKHNlbGYuaG92ZXJlZFJlc3VsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHV0aWwubG9nKCdjb250cm9sLXZpZXcuanM6cHJvY2Vzc1NlYXJjaFJlc3VsdHM6IGNoZWNrIHRoYXQgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBvYmplY3QgaXMga2VwdCBpbiB0aGUgY29sbGVjdGlvbiEnKVxuICAgICAgICB1dGlsLmxvZygnY29udHJvbC12aWV3LmpzOiBnb3QgdGhlIHJlc3VsdHMgYmFjayBhbmQgdXBkYXRlZCB0aGUgY29sbGVjdGlvbiEnKVxuICAgICAgICB1dGlsLmxvZyhzZWxmLmNvbGxlY3Rpb24udG9KU09OKCkpO1xuICAgICAgICBcbiAgICAgICAgLy8gaWYgaW5maW5pdGUtc2Nyb2xsIGlzIGFjdGl2ZSwgYW5kIHRoaXMgc2VhcmNoIGhhcyBiZWVuIHRyaWdnZXJlZCBieSBhIHBhZ2luYXRlIGV2ZW50LFxuICAgICAgICAvLyB3ZSBhZGQgdGhlIHJlc3VsdHMgdG8gdGhlIGNvbGxlY3Rpb24gaW5zdGVhZCBvZiByZXBsYWNpbmcgdGhlbS5cbiAgICAgICAgaWYgKHNlbGYub3B0aW9ucy5wYWdpbmF0aW9uQ29udHJvbHNVc2VJbmZpbml0ZVNjcm9sbCAmJiBzZWFyY2hSZWFzb24gPT0gJ3BhZ2luYXRlLXNlYXJjaCcpIHtcbiAgICAgICAgXHRzZWxmLmNvbGxlY3Rpb24uYWRkKHJlc3VsdE1vZGVscyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgIFx0c2VsZi5jb2xsZWN0aW9uLnJlc2V0KHJlc3VsdE1vZGVscyk7XG4gICAgICAgIFx0XG4gICAgICAgIFx0Ly8gaWYgd2UgaGFkIGEgbmF2aWdhdGUgZXZlbnQgYW5kIHdlIHN0aWxsIGhhdmUgYSBkZXRhaWwtdmlldyBvcGVuLCBidXQgaXQncyBub3QgaW4gdGhlIFVSTCwgY2xvc2UgaXRcbiAgICAgICAgXHQvLyBoYXBwZW5zIG9uIGJhY2svZm9yd2FyZCBidXR0b25zLCBidXQgYWxzbyBvbiBzY3JvbGwgZXZlbnRzICh3aGVyZSB3ZSBkb24ndCB3YW50IHRvIGNsb3NlIHRoZSBkZXRhaWwgdmlldylcbiAgICAgICAgXHRpZiAoc2VsZi5kZXRhaWxSZXN1bHQgJiYgIXNlbGYuc3RhdGUudXJsU2VsZWN0ZWRSZXN1bHRJZCAmJiAhKHNlYXJjaFJlYXNvbiA9PSAndmlld3BvcnQtY2hhbmdlZCcpKSB7XG4gICAgICAgIFx0XHRzZWxmLmRpc3BsYXlEZXRhaWxSZXN1bHQobnVsbCk7XG4gICAgICAgIFx0fSBcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gaWYgb3VyIFVSTCBwb2ludHMgZGlyZWN0bHkgYXQgYW4gaXRlbSwgc2VsZWN0IGl0LlxuICAgICAgICAvLyB0aGUgQVBJIHNob3VsZCB0YWtlIGNhcmUgdGhhdCBpdCBpcyAqYWx3YXlzKiBpbiB0aGUgcmVzdWx0IHNldFxuICAgICAgICBpZiAoc2VsZi5zdGF0ZS51cmxTZWxlY3RlZFJlc3VsdElkICYmICghc2VsZi5kZXRhaWxSZXN1bHQgfHwgc2VsZi5zdGF0ZS51cmxTZWxlY3RlZFJlc3VsdElkICE9IHNlbGYuZGV0YWlsUmVzdWx0LmlkKSkge1xuICAgICAgICAgICAgc2VsZi5vblJlc3VsdExpbmtDbGlja2VkKG51bGwsIHNlbGYuc3RhdGUudXJsU2VsZWN0ZWRSZXN1bHRJZCwgdHJ1ZSk7XG4gICAgICAgICAgICBzZWxmLnN0YXRlLnVybFNlbGVjdGVkUmVzdWx0SWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgIH0sXG4gICAgXG4gICAgLy8gcHVibGljIGZ1bmN0aW9uc1xuICAgIFxuICAgIC8qKlxuICAgICAqIFdpbGwgc2V0IGEgbmV3IHNlbGVjdGVkIHJlc3VsdCBhbmQgdW4tc2V0IHRoZSBvbGQgb25lLlxuICAgICAqIElmIHJlc3VsdCA9PSBudWxsLCB3aWxsIGp1c3QgdW4tc2V0IHRoZSBjdXJyZW50IG9uZS5cbiAgICAgKi9cbiAgICBfc2V0U2VsZWN0ZWRSZXN1bHQ6IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRSZXN1bHQgIT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gdW5zZWxlY3QgcHJldmlvdXNseSBzZWxlY3RlZCByZXN1bHRcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRSZXN1bHQuc2V0KCdzZWxlY3RlZCcsIGZhbHNlKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIHdlJ3JlIGluc3RhbnRseSBzZWxlY3RpbmcgYSBuZXcgcmVzdWx0XG4gICAgICAgICAgICAgICAgQmFja2JvbmUubWVkaWF0b3IucHVibGlzaCgncmVzdWx0OnJlc2VsZWN0ZWQnLCByZXN1bHQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBqdXN0IHVuc2VsZWN0aW5nLCB3aXRob3V0IHNlbGVjdGluZyBhIG5ldyByZXN1bHRcbiAgICAgICAgICAgICAgICBCYWNrYm9uZS5tZWRpYXRvci5wdWJsaXNoKCdyZXN1bHQ6dW5zZWxlY3RlZCcsIHRoaXMuc2VsZWN0ZWRSZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdCAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyB3ZSBzZWxlY3QgYSBuZXcgcmVzdWx0IHdpdGhvdXQgYSBwcmV2aW91cyBvbmUgaGF2aW5nIGJlZW4gc2VsZWN0ZWRcbiAgICAgICAgICAgIEJhY2tib25lLm1lZGlhdG9yLnB1Ymxpc2goJ3Jlc3VsdDpzZWxlY3RlZCcsIHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZWxlY3RlZFJlc3VsdCA9IHJlc3VsdDtcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRSZXN1bHQgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFJlc3VsdC5zZXQoJ3NlbGVjdGVkJywgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLnNldEhvdmVyZWRSZXN1bHQobnVsbCk7IC8vIGFsd2F5cyB1bmhvdmVyIG9uIHNlbGVjdFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvKiogdGhpcyBubyBsb25nZXIgaGFzIGFueSB2YWxpZGl0eVxuICAgICAgICAgICAgLy8gc2VsZWN0aW5nIGEgcmVzdWx0IGNoYW5nZXMgdGhlIFVSTCBzbyByZXN1bHRzIGNhbiBiZSBkaXJlY3RseSBsaW5rZWRcbiAgICAgICAgICAgIGlmIChBcHAuZGlzcGxheU9wdGlvbnMucm91dGVOYXZpZ2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5ld1VybCA9IHRoaXMuYnVpbGRTZWFyY2hRdWVyeVVSTChmYWxzZSkucmVwbGFjZSh0aGlzLnNlYXJjaEVuZHBvaW50VVJMLCB0aGlzLm9wdGlvbnMuYmFzZVBhZ2VVUkwpO1xuICAgICAgICAgICAgICAgIEFwcC5yb3V0ZXIucmVwbGFjZVVybChuZXdVcmwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgKi9cbiAgICAgICAgfVxuICAgIH0sXG4gICAgXG4gICAgLyoqXG4gICAgICogV2lsbCBzZXQgYSBuZXcgaG92ZXJlZCByZXN1bHQgYW5kIHVuLXNldCB0aGUgb2xkIG9uZS5cbiAgICAgKiBJZiByZXN1bHQgPT0gbnVsbCwgd2lsbCBqdXN0IHVuLXNldCB0aGUgY3VycmVudCBvbmUuXG4gICAgICovXG4gICAgc2V0SG92ZXJlZFJlc3VsdDogZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdCA9PSB0aGlzLnNlbGVjdGVkUmVzdWx0KSB7XG4gICAgICAgICAgICByZXR1cm47IC8vIHByZXZlbnQgc2V0dGluZyBob3ZlcmVkIHN0YXRlIG9uIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgcmVzdWx0XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaG92ZXJlZFJlc3VsdCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmhvdmVyZWRSZXN1bHQuc2V0KCdob3ZlcmVkJywgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaG92ZXJlZFJlc3VsdCA9IHJlc3VsdDtcbiAgICAgICAgaWYgKHRoaXMuaG92ZXJlZFJlc3VsdCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmhvdmVyZWRSZXN1bHQuc2V0KCdob3ZlcmVkJywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIFxuICAgIFxuICAgIC8qKiBkZXRlcm1pbmUgaWYgYW55IGZpbHRlcmluZyBtZXRob2QgaXMgYWN0aXZlICh0b3BpY3Mgb3IgcmVzdWx0IHR5cGVzKSAqL1xuICAgIGRldGVybWluZUFjdGl2ZUZpbHRlclN0YXR1c2VzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgc2VsZi5zdGF0ZS5maWx0ZXJzQWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHNlbGYuc3RhdGUudGV4dFRvcGljRmlsdGVyc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICBzZWxmLnN0YXRlLnRvcGljRmlsdGVyc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICBzZWxmLnN0YXRlLnNkZ0ZpbHRlcnNBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgc2VsZi5zdGF0ZS5tYW5hZ2VkVGFnc0ZpbHRlcnNBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgc2VsZi5zdGF0ZS50eXBlRmlsdGVyc0FjdGl2ZSA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChzZWxmLnN0YXRlLmFjdGl2ZVRvcGljSWRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHNlbGYuc3RhdGUuZmlsdGVyc0FjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICBzZWxmLnN0YXRlLnRvcGljRmlsdGVyc0FjdGl2ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlbGYuc3RhdGUuYWN0aXZlVGV4dFRvcGljSWRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHNlbGYuc3RhdGUuZmlsdGVyc0FjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICBzZWxmLnN0YXRlLnRleHRUb3BpY0ZpbHRlcnNBY3RpdmUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZWxmLnN0YXRlLmFjdGl2ZVNER0lkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBzZWxmLnN0YXRlLmZpbHRlcnNBY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgc2VsZi5zdGF0ZS5zZGdGaWx0ZXJzQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VsZi5zdGF0ZS5hY3RpdmVNYW5hZ2VkVGFnc0lkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBzZWxmLnN0YXRlLmZpbHRlcnNBY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgc2VsZi5zdGF0ZS5tYW5hZ2VkVGFnc0ZpbHRlcnNBY3RpdmUgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgXy5lYWNoKE9iamVjdC5rZXlzKHNlbGYub3B0aW9ucy5hdmFpbGFibGVGaWx0ZXJzKSwgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5vcHRpb25zLmF2YWlsYWJsZUZpbHRlcnNba2V5XSAhPSBzZWxmLnN0YXRlLmFjdGl2ZUZpbHRlcnNba2V5XSkge1xuICAgICAgICAgICAgICAgIHNlbGYuc3RhdGUuZmlsdGVyc0FjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgc2VsZi5zdGF0ZS50eXBlRmlsdGVyc0FjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBzZWFyY2g6IGZ1bmN0aW9uIChub05hdmlnYXRlLCBzZWFyY2hSZWFzb24pIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBzZWxmLnN0YXRlLnJlc3VsdHNTdGFsZSA9IGZhbHNlO1xuICAgICAgICBcbiAgICAgICAgdmFyIHVybCA9IHNlbGYuYnVpbGRTZWFyY2hRdWVyeVVSTCh0cnVlKTtcbiAgICAgICAgc2VsZi5zdGF0ZS5zZWFyY2hpbmcgPSB0cnVlO1xuICAgICAgICBcbiAgICAgICAgLy8gY2FuY2VsIHRoZSBjdXJyZW50bHkgb25nb2luZyByZXF1ZXN0XG4gICAgICAgIGlmIChzZWxmLmN1cnJlbnRTZWFyY2hIdHRwUmVxdWVzdCkge1xuICAgICAgICAgICAgdXRpbC5sb2coJ2NvbnRyb2wtdmlldy5qczogTmV3IHNlYXJjaCEgQWJvcnRpbmcgY3VycmVudCBzZWFyY2ggcmVxdWVzdC4nKVxuICAgICAgICAgICAgc2VsZi5jdXJyZW50U2VhcmNoSHR0cFJlcXVlc3QuYWJvcnQoKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgc2VsZi5jdXJyZW50U2VhcmNoSHR0cFJlcXVlc3QgPSAkLmFqYXgodXJsLCB7XG4gICAgICAgICAgICB0eXBlOiAnR0VUJyxcbiAgICAgICAgICAgIHRpbWVvdXQ6IHNlbGYuc2VhcmNoWEhSVGltZW91dCxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhLCB0ZXh0U3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgLy8gU2F2ZSB0aGUgc2VhcmNoIHN0YXRlIGluIHRoZSB1cmwuXG4gICAgICAgICAgICAgICAgaWYgKEFwcC5kaXNwbGF5T3B0aW9ucy5yb3V0ZU5hdmlnYXRpb24gJiYgIW5vTmF2aWdhdGUgJiYgIXNlbGYuc2VsZWN0ZWRSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgdXRpbC5sb2coJ2NvbnRyb2wtdmlldy5qczogKysrKysrKysrKysrKysrKysgc2luY2Ugd2UgYXJlIGZ1bGxzY3JlZW4sIHB1Ymxpc2hpbmcgcm91dGVyIFVSTCB1cGRhdGUhJylcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5hZGRDdXJyZW50SGlzdG9yeVN0YXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHV0aWwubG9nKCdnb3QgcmVzdWx0c3NzcycpXG4gICAgICAgICAgICAgICAgdXRpbC5sb2coZGF0YSlcbiAgICAgICAgICAgICAgICB1dGlsLmxvZyh0ZXh0U3RhdHVzKVxuICAgICAgICAgICAgICAgIHZhciByZXN1bHRzID0gZGF0YS5yZXN1bHRzO1xuICAgICAgICAgICAgICAgIHNlbGYucHJvY2Vzc1NlYXJjaFJlc3VsdHMocmVzdWx0cywgc2VhcmNoUmVhc29uKTtcbiAgICAgICAgICAgICAgICBzZWxmLnN0YXRlLnBhZ2UgPSBkYXRhLnBhZ2U7XG4gICAgICAgICAgICAgICAgc2VsZi5zdGF0ZS5wYWdlSW5kZXggPSBkYXRhLnBhZ2UgJiYgZGF0YS5wYWdlLmluZGV4IHx8IDA7XG4gICAgICAgICAgICAgICAgc2VsZi5zdGF0ZS5zZWFyY2hIYWRFcnJvcnMgPSBmYWxzZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHhociwgdGV4dFN0YXR1cykge1xuICAgICAgICAgICAgICAgIHV0aWwubG9nKCdjb250cm9sLXZpZXcuanM6IFNlYXJjaCBYSFIgZmFpbGVkLicpXG4gICAgICAgICAgICAgICAgaWYgKHRleHRTdGF0dXMgPT09ICdhYm9ydCcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBCYWNrYm9uZS5tZWRpYXRvci5wdWJsaXNoKCdlcnJvcjpzZWFyY2gnKTtcbiAgICAgICAgICAgICAgICBzZWxmLnN0YXRlLnNlYXJjaEhhZEVycm9ycyA9IHRydWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICh4aHIsIHRleHRTdGF0dXMpIHtcbiAgICAgICAgICAgICAgICB1dGlsLmxvZygnY29udHJvbC12aWV3LmpzOiBTZWFyY2ggY29tcGxldGU6ICcgKyB0ZXh0U3RhdHVzKVxuICAgICAgICAgICAgICAgIGlmICh0ZXh0U3RhdHVzID09PSAnYWJvcnQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRleHRTdGF0dXMgIT09ICdzdWNjZXNzJykge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnN0YXRlLnNlYXJjaEhhZEVycm9ycyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNlbGYuc3RhdGUuc2VhcmNoaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKHNlbGYub3B0aW9ucy5jb250cm9sc0VuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5kZXRlcm1pbmVBY3RpdmVGaWx0ZXJTdGF0dXNlcygpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnJlZnJlc2hTZWFyY2hDb250cm9scygpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VhcmNoUmVhc29uID09ICdtYW51YWwtc2VhcmNoJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5oaWRlRmlsdGVyUGFuZWwoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzZWxmLnJlbmRlckFjdGl2ZUZpbHRlcnMoKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVmcmVzaCBwYWdpbmF0aW9uIGNvbnRyb2xzXG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLnBhZ2luYXRpb25Db250cm9sVmlldykge1xuICAgICAgICAgICAgICAgICAgICBcdHNlbGYucGFnaW5hdGlvbkNvbnRyb2xWaWV3LnJlbmRlcigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHdlIGhhdmUgZG9uZSBhIG1hbnVhbCBzZWFyY2gsIHNldCB0aGUgdmlldyB0byBkZWZhdWx0IVxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VhcmNoUmVhc29uID09ICdtYW51YWwtc2VhcmNoJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi50cmlnZ2VyTW9iaWxlRGVmYXVsdFZpZXcoZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIHNjcm9sbCB0aWxlIGxpc3QgdG8gdG9wIG9uIG1hbnVhbCBzZWFyY2hlc1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VhcmNoUmVhc29uID09ICdtYW51YWwtc2VhcmNoJyB8fCBzZWFyY2hSZWFzb24gPT0gJ3Jlc2V0LWZpbHRlcnMtc2VhcmNoJyB8fCAoc2VhcmNoUmVhc29uID09ICdwYWdpbmF0ZS1zZWFyY2gnICYmICFzZWxmLm9wdGlvbnMucGFnaW5hdGlvbkNvbnRyb2xzVXNlSW5maW5pdGVTY3JvbGwpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcudGlsZS1jb250ZW50cycpLnNjcm9sbFRvcCgwKTsgLy8gc2Nyb2xsIHRvIHRvcCBvbiB0aWxlIGxpc3RcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBzZWxmLmN1cnJlbnRTZWFyY2hIdHRwUmVxdWVzdCA9IG51bGw7XG4gICAgICAgICAgICAgICAgQmFja2JvbmUubWVkaWF0b3IucHVibGlzaCgnZW5kOnNlYXJjaCcsIHNlYXJjaFJlYXNvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgXG4gICAgcmVmcmVzaFNlYXJjaENvbnRyb2xzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgc2VsZi4kZWwuZmluZCgnLmljb24tZmlsdGVycycpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnLCBzZWxmLnN0YXRlLmZpbHRlcnNBY3RpdmUpO1xuICAgICAgICBzZWxmLiRlbC5maW5kKCcuaWNvbi1yZXNldCcpLnRvZ2dsZUNsYXNzKCdoaWRkZW4nLCAoIXNlbGYuc3RhdGUuZmlsdGVyc0FjdGl2ZSAmJiAhc2VsZi5zdGF0ZS5xKSk7XG4gICAgICAgIHNlbGYuJGVsLmZpbmQoJy5pY29uLXNlYXJjaCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgc2VsZi4kZWwuZmluZCgnLmJ1dHRvbi1zZWFyY2gnKS5hZGRDbGFzcygnZGlzYWJsZWQnKTtcbiAgICB9LFxuICAgIFxuICAgIHJlbmRlckFjdGl2ZUZpbHRlcnM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuZmlsdGVyc0FjdGl2ZSB8fCB0aGlzLnN0YXRlLnEpIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gdGhpcy5nZXRUZW1wbGF0ZURhdGEoKTtcbiAgICAgICAgICAgIHZhciByZW5kZXJlZCA9IHRoaXMuYWN0aXZlRmlsdGVyc1RlbXBsYXRlLnJlbmRlcihkYXRhKTtcbiAgICAgICAgICAgIHRoaXMuJGVsLmZpbmQoJy5tYXAtY29udHJvbHMtYWN0aXZlLWZpbHRlcnMnKS5odG1sKHJlbmRlcmVkKS5zaG93KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLiRlbC5maW5kKCcubWFwLWNvbnRyb2xzLWFjdGl2ZS1maWx0ZXJzJykuaGlkZSgpLmVtcHR5KCk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIFxuICAgIC8qKiBVbnVzZWQsIHJlbW92ZSBpZiBub3QgbmVlZGVkICovXG4gICAgLyoqIE9sZCB2ZXJzaW9uOiB3ZSBkbyBub3QgcmUtcmVuZGVyIHRoZSBzZWFyY2ggY29udHJvbHMgYW55IG1vcmUgYmVjYXVzZSBvZiBsb3NzXG4gICAgICogIG9mIG5ldyBzZWFyY2ggaW5wdXQgZm9yIHRoZSB1c2VyXG4gICAgcmVmcmVzaFNlYXJjaENvbnRyb2xzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIHJlc3RvcmUgdGhlIHNlYXJjaCB0ZXh0Ym94IGFmdGVyIHRoZSByZW5kZXIgc28gd2UgZG9uJ3QgdGhyb3cgdGhlIHVzZXIgb3V0XG4gICAgICAgIHZhciBxZGF0YSA9IHV0aWwuc2F2ZUlucHV0U3RhdHVzKHNlbGYuJGVsLmZpbmQoJy5xJykpO1xuICAgICAgICBzZWxmLnJlbmRlcigpO1xuICAgICAgICB1dGlsLnJlc3RvcmVJbnB1dFN0YXR1cyhzZWxmLiRlbC5maW5kKCcucScpLCBxZGF0YSk7XG4gICAgfSxcbiAgICAqL1xuICAgIFxuICAgIC8vIGV4dGVuZGVkIGZyb20gY29udGVudC1jb250cm9sLXZpZXcuanNcbiAgICBhcHBseVVybFNlYXJjaFBhcmFtZXRlcnM6IGZ1bmN0aW9uICh1cmxQYXJhbXMpIHtcbiAgICAgICAgXy5leHRlbmQodGhpcy5zdGF0ZSwge1xuICAgICAgICAgICAgYWN0aXZlRmlsdGVyczoge1xuICAgICAgICAgICAgICAgIHBlb3BsZTogdGhpcy5vcHRpb25zLmF2YWlsYWJsZUZpbHRlcnMucGVvcGxlID8gdXRpbC5pZnVuZGVmKHVybFBhcmFtcy5wZW9wbGUsIHRoaXMub3B0aW9ucy5hY3RpdmVGaWx0ZXJzLnBlb3BsZSkgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBldmVudHM6IHRoaXMub3B0aW9ucy5hdmFpbGFibGVGaWx0ZXJzLmV2ZW50cyA/IHV0aWwuaWZ1bmRlZih1cmxQYXJhbXMuZXZlbnRzLCB0aGlzLm9wdGlvbnMuYWN0aXZlRmlsdGVycy5ldmVudHMpIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgcHJvamVjdHM6IHRoaXMub3B0aW9ucy5hdmFpbGFibGVGaWx0ZXJzLnByb2plY3RzID8gdXRpbC5pZnVuZGVmKHVybFBhcmFtcy5wcm9qZWN0cywgdGhpcy5vcHRpb25zLmFjdGl2ZUZpbHRlcnMucHJvamVjdHMpIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgZ3JvdXBzOiB0aGlzLm9wdGlvbnMuYXZhaWxhYmxlRmlsdGVycy5ncm91cHMgPyB1dGlsLmlmdW5kZWYodXJsUGFyYW1zLmdyb3VwcywgdGhpcy5vcHRpb25zLmFjdGl2ZUZpbHRlcnMuZ3JvdXBzKSA6IGZhbHNlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcTogdXRpbC5pZnVuZGVmKHVybFBhcmFtcy5xLCB0aGlzLnN0YXRlLnEpLFxuICAgICAgICAgICAgaWdub3JlTG9jYXRpb246IHV0aWwuaWZ1bmRlZih1cmxQYXJhbXMuaWdub3JlX2xvY2F0aW9uLCB0aGlzLnN0YXRlLmlnbm9yZUxvY2F0aW9uKSxcbiAgICAgICAgICAgIGV4Y2hhbmdlOiB1dGlsLmlmdW5kZWYodXJsUGFyYW1zLmV4Y2hhbmdlLCB0aGlzLnN0YXRlLmV4Y2hhbmdlKSxcbiAgICAgICAgICAgIHNlYXJjaFJlc3VsdExpbWl0OiB1dGlsLmlmdW5kZWYodXJsUGFyYW1zLmxpbWl0LCB0aGlzLnN0YXRlLnNlYXJjaFJlc3VsdExpbWl0KSxcbiAgICAgICAgICAgIGFjdGl2ZVRvcGljSWRzOiB1dGlsLmlmdW5kZWYodXJsUGFyYW1zLnRvcGljcywgdGhpcy5zdGF0ZS5hY3RpdmVUb3BpY0lkcyksXG4gICAgICAgICAgICBhY3RpdmVUZXh0VG9waWNJZHM6IHV0aWwuaWZ1bmRlZih1cmxQYXJhbXMudGV4dF90b3BpY3MsIHRoaXMuc3RhdGUuYWN0aXZlVGV4dFRvcGljSWRzKSxcbiAgICAgICAgICAgIGFjdGl2ZVNER0lkczogdXRpbC5pZnVuZGVmKHVybFBhcmFtcy5zZGdzLCB0aGlzLnN0YXRlLmFjdGl2ZVNER0lkcyksXG4gICAgICAgICAgICBhY3RpdmVNYW5hZ2VkVGFnc0lkczogdXRpbC5pZnVuZGVmKHVybFBhcmFtcy5tYW5hZ2VkX3RhZ3MsIHRoaXMuc3RhdGUuYWN0aXZlTWFuYWdlZFRhZ3NJZHMpLFxuICAgICAgICAgICAgcGFnZUluZGV4OiB1dGlsLmlmdW5kZWYodXJsUGFyYW1zLnBhZ2UsIHRoaXMuc3RhdGUucGFnZUluZGV4KSxcbiAgICAgICAgICAgIHVybFNlbGVjdGVkUmVzdWx0SWQ6IHV0aWwuaWZ1bmRlZih1cmxQYXJhbXMuaXRlbSwgdGhpcy5zdGF0ZS51cmxTZWxlY3RlZFJlc3VsdElkKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChDT1NJTk5VU19JREVBU19FTkFCTEVEKSB7XG4gICAgICAgIFx0dGhpcy5zdGF0ZS5hY3RpdmVGaWx0ZXJzWydpZGVhcyddID0gdGhpcy5vcHRpb25zLmF2YWlsYWJsZUZpbHRlcnMuaWRlYXMgPyB1dGlsLmlmdW5kZWYodXJsUGFyYW1zLmlkZWFzLCB0aGlzLm9wdGlvbnMuYWN0aXZlRmlsdGVycy5pZGVhcykgOiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQ09TSU5OVVNfT1JHQU5JWkFUSU9OU19FTkFCTEVEKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmFjdGl2ZUZpbHRlcnNbJ29yZ2FuaXphdGlvbnMnXSA9IHRoaXMub3B0aW9ucy5hdmFpbGFibGVGaWx0ZXJzLm9yZ2FuaXphdGlvbnMgPyB1dGlsLmlmdW5kZWYodXJsUGFyYW1zLm9yZ2FuaXphdGlvbnMsIHRoaXMub3B0aW9ucy5hY3RpdmVGaWx0ZXJzLm9yZ2FuaXphdGlvbnMpIDogZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKENPU0lOTlVTX0NPTkZFUkVOQ0VTX0VOQUJMRUQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuYWN0aXZlRmlsdGVyc1snY29uZmVyZW5jZXMnXSA9IHRoaXMub3B0aW9ucy5hdmFpbGFibGVGaWx0ZXJzLmNvbmZlcmVuY2VzID8gdXRpbC5pZnVuZGVmKHVybFBhcmFtcy5jb25mZXJlbmNlcywgdGhpcy5vcHRpb25zLmFjdGl2ZUZpbHRlcnMuY29uZmVyZW5jZXMpIDogZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKENPU0lOTlVTX0NMT1VEX0VOQUJMRUQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuYWN0aXZlRmlsdGVyc1snY2xvdWRmaWxlcyddID0gdGhpcy5vcHRpb25zLmF2YWlsYWJsZUZpbHRlckxpc3QuY2xvdWRmaWxlcyA/IHV0aWwuaWZ1bmRlZih1cmxQYXJhbXMuY2xvdWRmaWxlcywgdGhpcy5vcHRpb25zLmFjdGl2ZUZpbHRlcnMuY2xvdWRmaWxlcykgOiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb3Npbm51c19hY3RpdmVfdXNlcikge1xuICAgICAgICBcdHRoaXMub3B0aW9ucy5zaG93TWluZSA9IHV0aWwuaWZ1bmRlZih1cmxQYXJhbXMubWluZSwgdGhpcy5vcHRpb25zLnNob3dNaW5lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3RhdGUudHlwZUZpbHRlcnNBY3RpdmUgPSBPYmplY3QudmFsdWVzKHRoaXMuc3RhdGUuYWN0aXZlRmlsdGVycykuaW5kZXhPZihmYWxzZSkgPiAtMVxuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2hvd01hbmFnZWRUYWdzT25UeXBlc1NlbGVjdGVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciBhY3RpdmVGaWx0ZXJzID0gdGhpcy5zdGF0ZS5hY3RpdmVGaWx0ZXJzXG4gICAgICAgICAgICB2YXIgc2hvd01hbmFnZWRUYWdzID0gXy5zb21lKHRoaXMub3B0aW9ucy5zaG93TWFuYWdlZFRhZ3NPblR5cGVzU2VsZWN0ZWQsIGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoYWN0aXZlRmlsdGVyc1t0eXBlXSkge1xuICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmRpc3BsYXlNYW5hZ2VkVGFnc0ZpbHRlciA9IHNob3dNYW5hZ2VkVGFncyAmJiB0aGlzLnN0YXRlLnR5cGVGaWx0ZXJzQWN0aXZlXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNob3dUZXh0VG9waWNzT25UeXBlc1NlbGVjdGVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciBhY3RpdmVGaWx0ZXJzID0gdGhpcy5zdGF0ZS5hY3RpdmVGaWx0ZXJzXG4gICAgICAgICAgICB2YXIgc2hvd1RleHRUb3BpY3MgPSBfLnNvbWUodGhpcy5vcHRpb25zLnNob3dUZXh0VG9waWNzT25UeXBlc1NlbGVjdGVkLCBmdW5jdGlvbih0eXBlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFjdGl2ZUZpbHRlcnNbdHlwZV0pIHtcbiAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5kaXNwbGF5VGV4dFRvcGNGaWx0ZXIgPSBzaG93VGV4dFRvcGljcyAmJiB0aGlzLnN0YXRlLnR5cGVGaWx0ZXJzQWN0aXZlXG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdG9kYXkgPSBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQnKTtcbiAgICAgICAgdmFyIGluX3RocmVlX21vbnRocyA9IG1vbWVudCgpLmFkZCgzLCAnTScpLmZvcm1hdCgnWVlZWS1NTS1ERCcpO1xuICAgICAgICB0aGlzLnN0YXRlLmZyb21EYXRlID0gIHV0aWwuaWZ1bmRlZih1cmxQYXJhbXMuZnJvbURhdGUsIHRvZGF5KTtcbiAgICAgICAgdGhpcy5zdGF0ZS5mcm9tVGltZSA9IHV0aWwuaWZ1bmRlZih1cmxQYXJhbXMuZnJvbVRpbWUsIFwiMDA6MDBcIikucmVwbGFjZShcIiUzQVwiLCBcIjpcIik7XG4gICAgICAgIHRoaXMuc3RhdGUudG9EYXRlID0gdXRpbC5pZnVuZGVmKHVybFBhcmFtcy50b0RhdGUsIGluX3RocmVlX21vbnRocyk7XG4gICAgICAgIHRoaXMuc3RhdGUudG9UaW1lID0gdXRpbC5pZnVuZGVmKHVybFBhcmFtcy50b1RpbWUsIFwiMjM6NTlcIikucmVwbGFjZShcIiUzQVwiLCBcIjpcIik7XG4gICAgfSxcblxuICAgIC8vIGV4dGVuZGVkIGZyb20gY29udGVudC1jb250cm9sLXZpZXcuanNcbiAgICBjb250cmlidXRlVG9TZWFyY2hQYXJhbWV0ZXJzOiBmdW5jdGlvbihmb3JBUEkpIHtcbiAgICAgICAgdmFyIHNlYXJjaFBhcmFtcyA9IHtcbiAgICAgICAgICAgIHE6IHRoaXMuc3RhdGUucSxcbiAgICAgICAgICAgIHBlb3BsZTogdGhpcy5zdGF0ZS5hY3RpdmVGaWx0ZXJzLnBlb3BsZSxcbiAgICAgICAgICAgIGV2ZW50czogdGhpcy5zdGF0ZS5hY3RpdmVGaWx0ZXJzLmV2ZW50cyxcbiAgICAgICAgICAgIHByb2plY3RzOiB0aGlzLnN0YXRlLmFjdGl2ZUZpbHRlcnMucHJvamVjdHMsXG4gICAgICAgICAgICBncm91cHM6IHRoaXMuc3RhdGUuYWN0aXZlRmlsdGVycy5ncm91cHMsXG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5kYXRlRmlsdGVyc0FjdGl2ZSkge1xuICAgICAgICAgICAgdmFyIGRhdGVUaW1lUGlja2VyID0gJCgnI2RhdGUtdGltZS1maWx0ZXInKTtcbiAgICAgICAgICAgIHZhciBmcm9tRGF0ZSA9IGRhdGVUaW1lUGlja2VyLmZpbmQoJyNpZF9zdGFydF8wJykudmFsKCkgfHwgdGhpcy5zdGF0ZS5mcm9tRGF0ZTtcbiAgICAgICAgICAgIHZhciBmcm9tVGltZSA9IGRhdGVUaW1lUGlja2VyLmZpbmQoJyNpZF9zdGFydF8xJykudmFsKCkgfHwgdGhpcy5zdGF0ZS5mcm9tVGltZTtcbiAgICAgICAgICAgIHZhciB0b0RhdGUgPSBkYXRlVGltZVBpY2tlci5maW5kKCcjaWRfZW5kXzAnKS52YWwoKSB8fCB0aGlzLnN0YXRlLnRvRGF0ZTtcbiAgICAgICAgICAgIHZhciB0b1RpbWUgPSBkYXRlVGltZVBpY2tlci5maW5kKCcjaWRfZW5kXzEnKS52YWwoKSB8fCB0aGlzLnN0YXRlLmZyb21EYXRlO1xuICAgICAgICAgICAgaWYgKCFmcm9tVGltZS5pbmNsdWRlcygnOicpKSB7XG4gICAgICAgICAgICAgICAgZnJvbVRpbWUgKz0gJzowMCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRvVGltZS5pbmNsdWRlcygnOicpKSB7XG4gICAgICAgICAgICAgICAgdG9UaW1lICs9ICc6MDAnO1xuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgaWYgKGZyb21EYXRlKSB7XG4gICAgICAgICAgICAgICAgXy5leHRlbmQoc2VhcmNoUGFyYW1zLCB7XG4gICAgICAgICAgICAgICAgICAgIGZyb21EYXRlOiBmcm9tRGF0ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChmcm9tVGltZSkge1xuICAgICAgICAgICAgICAgICAgICBfLmV4dGVuZChzZWFyY2hQYXJhbXMsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyb21UaW1lOiBmcm9tVGltZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICBpZiAodG9EYXRlKSB7XG4gICAgICAgICAgICAgICAgXy5leHRlbmQoc2VhcmNoUGFyYW1zLCB7XG4gICAgICAgICAgICAgICAgICAgIHRvRGF0ZTogdG9EYXRlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHRvVGltZSkge1xuICAgICAgICAgICAgICAgICAgICBfLmV4dGVuZChzZWFyY2hQYXJhbXMsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvVGltZTogdG9UaW1lXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChDT1NJTk5VU19JREVBU19FTkFCTEVEKSB7XG4gICAgICAgIFx0Xy5leHRlbmQoc2VhcmNoUGFyYW1zLCB7XG4gICAgICAgICAgICAgICAgaWRlYXM6IHRoaXMuc3RhdGUuYWN0aXZlRmlsdGVycy5pZGVhc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKENPU0lOTlVTX09SR0FOSVpBVElPTlNfRU5BQkxFRCkge1xuICAgICAgICAgICAgXy5leHRlbmQoc2VhcmNoUGFyYW1zLCB7XG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uczogdGhpcy5zdGF0ZS5hY3RpdmVGaWx0ZXJzLm9yZ2FuaXphdGlvbnNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChDT1NJTk5VU19DT05GRVJFTkNFU19FTkFCTEVEKSB7XG4gICAgICAgICAgICBfLmV4dGVuZChzZWFyY2hQYXJhbXMsIHtcbiAgICAgICAgICAgICAgICBjb25mZXJlbmNlczogdGhpcy5zdGF0ZS5hY3RpdmVGaWx0ZXJzLmNvbmZlcmVuY2VzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQ09TSU5OVVNfQ0xPVURfRU5BQkxFRCkge1xuICAgICAgICAgICAgXy5leHRlbmQoc2VhcmNoUGFyYW1zLCB7XG4gICAgICAgICAgICAgICAgY2xvdWRmaWxlczogdGhpcy5zdGF0ZS5hY3RpdmVGaWx0ZXJzLmNsb3VkZmlsZXNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmFjdGl2ZVRvcGljSWRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIF8uZXh0ZW5kKHNlYXJjaFBhcmFtcywge1xuICAgICAgICAgICAgICAgIHRvcGljczogdGhpcy5zdGF0ZS5hY3RpdmVUb3BpY0lkcy5qb2luKCcsJylcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuYWN0aXZlVGV4dFRvcGljSWRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIF8uZXh0ZW5kKHNlYXJjaFBhcmFtcywge1xuICAgICAgICAgICAgICAgIHRleHRfdG9waWNzOiB0aGlzLnN0YXRlLmFjdGl2ZVRleHRUb3BpY0lkcy5qb2luKCcsJylcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmFjdGl2ZVNER0lkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBfLmV4dGVuZChzZWFyY2hQYXJhbXMsIHtcbiAgICAgICAgICAgICAgICBzZGdzOiB0aGlzLnN0YXRlLmFjdGl2ZVNER0lkcy5qb2luKCcsJylcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmFjdGl2ZU1hbmFnZWRUYWdzSWRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIF8uZXh0ZW5kKHNlYXJjaFBhcmFtcywge1xuICAgICAgICAgICAgICAgIG1hbmFnZWRfdGFnczogdGhpcy5zdGF0ZS5hY3RpdmVNYW5hZ2VkVGFnc0lkcy5qb2luKCcsJylcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnBhZ2VJbmRleCA+IDApIHtcbiAgICAgICAgICAgIF8uZXh0ZW5kKHNlYXJjaFBhcmFtcywge1xuICAgICAgICAgICAgICAgIHBhZ2U6IHRoaXMuc3RhdGUucGFnZUluZGV4XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kZXRhaWxSZXN1bHQpIHtcbiAgICAgICAgICAgIF8uZXh0ZW5kKHNlYXJjaFBhcmFtcywge1xuICAgICAgICAgICAgICAgIGl0ZW06IHRoaXMuZGV0YWlsUmVzdWx0LmlkXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLnVybFNlbGVjdGVkUmVzdWx0SWQpIHtcbiAgICAgICAgICAgIF8uZXh0ZW5kKHNlYXJjaFBhcmFtcywge1xuICAgICAgICAgICAgICAgIGl0ZW06IHRoaXMuc3RhdGUudXJsU2VsZWN0ZWRSZXN1bHRJZFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaG93TWluZSkge1xuICAgICAgICAgICAgXy5leHRlbmQoc2VhcmNoUGFyYW1zLCB7XG4gICAgICAgICAgICBcdG1pbmU6IDFcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmlnbm9yZUxvY2F0aW9uKSB7XG4gICAgICAgICAgICBfLmV4dGVuZChzZWFyY2hQYXJhbXMsIHtcbiAgICAgICAgICAgICAgICBpZ25vcmVfbG9jYXRpb246IDFcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmV4Y2hhbmdlKSB7XG4gICAgICAgICAgICBfLmV4dGVuZChzZWFyY2hQYXJhbXMsIHtcbiAgICAgICAgICAgICAgICBleGNoYW5nZTogMVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvckFQSSkge1xuICAgICAgICAgICAgXy5leHRlbmQoc2VhcmNoUGFyYW1zLCB7XG4gICAgICAgICAgICAgICAgbGltaXQ6IHRoaXMuc3RhdGUuc2VhcmNoUmVzdWx0TGltaXRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB1dGlsLmxvZygnY29udHJvbC12aWV3LmpzOiByZXR1cm5pbmcgc2VhcmNoIHBhcmFtczonKVxuICAgICAgICB1dGlsLmxvZyhzZWFyY2hQYXJhbXMpXG4gICAgICAgIHJldHVybiBzZWFyY2hQYXJhbXNcbiAgICB9LFxuICAgIFxuICAgIC8qKlxuICAgICAqIEJ1aWxkIHRoZSBVUkwgY29udGFpbmluZyBhbGwgcGFyYW1ldGVycyBmb3IgdGhlIGN1cnJlbnQgdmlld1xuICAgICAqIFxuICAgICAqIEBwYXJhbSBmb3JBUEk6IGlmIHRydWUsIGNvbnRhaW5zIGFsbCBzZWFyY2ggcGFyYW1ldGVycy5cbiAgICAgKiAgICAgICAgIGlmIGZhbHNlLCBjb250YWlucyBvbmx5IHRoZXNlIHRoYXQgc2hvdWxkIGJlIHZpc2libGUgaW4gdGhlIGJyb3dzZXIgVVJMIFxuICAgICAqL1xuICAgIGJ1aWxkU2VhcmNoUXVlcnlVUkw6IGZ1bmN0aW9uIChmb3JBUEkpIHtcbiAgICAgICAgLy8gY29sbGVjdCBhbGwgc2VhcmNoIHBhcmFtZXRlcnMgZnJvbSBjb250ZW50IHZpZXdzIHRoYXQgYWZmZWN0IHRoZW1cbiAgICAgICAgdmFyIHNlYXJjaFBhcmFtcyA9IHt9O1xuICAgICAgICBfLmVhY2godGhpcy5BcHAuY29udGVudFZpZXdzLCBmdW5jdGlvbih2aWV3KXtcbiAgICAgICAgICAgIF8uZXh0ZW5kKHNlYXJjaFBhcmFtcywgdmlldy5jb250cmlidXRlVG9TZWFyY2hQYXJhbWV0ZXJzKGZvckFQSSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIHF1ZXJ5ID0gJC5wYXJhbShzZWFyY2hQYXJhbXMpO1xuICAgICAgICBcbiAgICAgICAgdmFyIHVybCA9IHRoaXMuc2VhcmNoRW5kcG9pbnRVUkw7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZmlsdGVyR3JvdXApIHtcbiAgICAgICAgICAgIHVybCA9IHVybCArIHRoaXMub3B0aW9ucy5maWx0ZXJHcm91cCArICcvJztcbiAgICAgICAgfVxuICAgICAgICB1cmwgPSB1cmwgKyAnPycgKyBxdWVyeTtcbiAgICAgICAgXG4gICAgICAgIHV0aWwubG9nKCcgKioqKioqKioqKioqICBCVUlMRCBTRUFSQ0ggUVVFUlkgVVJMIFJFVFVSTkVEIChmb3JBUEkpOiAnICsgZm9yQVBJKVxuICAgICAgICB1dGlsLmxvZyh1cmwpXG4gICAgICAgIHJldHVybiB1cmw7XG4gICAgfSxcbiAgICBcbiAgICAvKiogQ29sbGVjdHMgYWxsIHRvZ2dsZWQgc3RhdGVzIG9mIGZpbHRlciBidXR0b25zIGFuZCBhcHBsaWVzIHRoZW0gb250byB0aGUgY3VycmVudCBjb250cm9sLXZpZXcgc3RhdGUgKi9cbiAgICBhcHBseUZpbHRlcnM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIC8vIFJlc3VsdCB0eXBlc1xuICAgICAgICB2YXIgYWxsX2Rlc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICBzZWxmLiRlbC5maW5kKCcucmVzdWx0LWZpbHRlci1idXR0b24nKS5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB2YXIgJGJ1dHRvbiA9ICQodGhpcyk7XG4gICAgICAgICAgICB2YXIgcmVzdWx0VHlwZSA9ICRidXR0b24uYXR0cignZGF0YS1yZXN1bHQtZmlsdGVyLXR5cGUnKTtcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZCA9ICRidXR0b24uaGFzQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgICBzZWxmLnN0YXRlLmFjdGl2ZUZpbHRlcnNbcmVzdWx0VHlwZV0gPSBzZWxlY3RlZDtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgIGFsbF9kZXNlbGVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBpZiB3ZSBzZWxlY3QgYWxsIHR5cGVzLCBkcm9wIHRoZSBmaWx0ZXIgKHNlbGVjdCBhbGwgaXMgZGVmYXVsdCkuXG4gICAgICAgIGlmIChhbGxfZGVzZWxlY3RlZCkge1xuICAgICAgICAgICAgc2VsZi5yZXNldFR5cGVGaWx0ZXJzKCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFRvcGljc1xuICAgICAgICBzZWxmLnJlc2V0VG9waWNzKCk7XG4gICAgICAgIHNlbGYuJGVsLmZpbmQoJy50b3BpYy1idXR0b24uc2VsZWN0ZWQnKS5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB2YXIgJGJ1dHRvbiA9ICQodGhpcyk7XG4gICAgICAgICAgICB2YXIgYmlkID0gcGFyc2VJbnQoJGJ1dHRvbi5hdHRyKCdkYXRhLXRvcGljLWlkJykpO1xuICAgICAgICAgICAgc2VsZi5zdGF0ZS5hY3RpdmVUb3BpY0lkcy5wdXNoKGJpZCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vVGV4dFRvcGljc1xuICAgICAgICBzZWxmLnJlc2V0VGV4dFRvcGljcygpO1xuICAgICAgICBzZWxmLiRlbC5maW5kKCcudGV4dC10b3BpYy1idXR0b24uc2VsZWN0ZWQnKS5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB2YXIgJGJ1dHRvbiA9ICQodGhpcyk7XG4gICAgICAgICAgICB2YXIgYmlkID0gcGFyc2VJbnQoJGJ1dHRvbi5hdHRyKCdkYXRhLXRleHQtdG9waWMtaWQnKSk7XG4gICAgICAgICAgICBzZWxmLnN0YXRlLmFjdGl2ZVRleHRUb3BpY0lkcy5wdXNoKGJpZCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFNER3NcbiAgICAgICAgc2VsZi5yZXNldFNER1MoKTtcbiAgICAgICAgc2VsZi4kZWwuZmluZCgnLnNkZy1idXR0b24uc2VsZWN0ZWQnKS5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB2YXIgJGJ1dHRvbiA9ICQodGhpcyk7XG4gICAgICAgICAgICB2YXIgYmlkID0gcGFyc2VJbnQoJGJ1dHRvbi5hdHRyKCdkYXRhLXNkZy1pZCcpKTtcbiAgICAgICAgICAgIHNlbGYuc3RhdGUuYWN0aXZlU0RHSWRzLnB1c2goYmlkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBNYW5hZ2VkVGFnc1xuICAgICAgICBzZWxmLnJlc2V0TWFuYWdlZFRhZ3MoKTtcbiAgICAgICAgc2VsZi4kZWwuZmluZCgnLm1hbmFnZWQtdGFnLWJ1dHRvbi5zZWxlY3RlZCcpLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHZhciAkYnV0dG9uID0gJCh0aGlzKTtcbiAgICAgICAgICAgIHZhciBiaWQgPSBwYXJzZUludCgkYnV0dG9uLmF0dHIoJ2RhdGEtbWFuYWdlZC10YWctaWQnKSk7XG4gICAgICAgICAgICBzZWxmLnN0YXRlLmFjdGl2ZU1hbmFnZWRUYWdzSWRzLnB1c2goYmlkKTtcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8vIFRPRE8gUkVNT1ZFXG4gICAgdG9nZ2xlRmlsdGVyOiBmdW5jdGlvbiAocmVzdWx0VHlwZSkge1xuICAgICAgICB2YXIgYWN0aXZlRmlsdGVycyA9IHRoaXMuc3RhdGUuYWN0aXZlRmlsdGVycztcbiAgICAgICAgYWN0aXZlRmlsdGVyc1tyZXN1bHRUeXBlXSA9ICFhY3RpdmVGaWx0ZXJzW3Jlc3VsdFR5cGVdO1xuICAgICAgICB0aGlzLnN0YXRlLmFjdGl2ZUZpbHRlcnMgPSBhY3RpdmVGaWx0ZXJzO1xuICAgICAgICB0aGlzLnRyaWdnZXJEZWxheWVkU2VhcmNoKHRydWUpO1xuICAgIH0sXG5cbiAgICAvLyBSZWdpc3RlciBhIGNoYW5nZSBpbiB0aGUgY29udHJvbHMgb3IgdGhlIG1hcCBVSSB3aGljaCBzaG91bGQgcXVldWVcbiAgICAvLyBhIHNlYXJjaCBhdHRlbXB0IGFmdGVyIGEgZGVsYXkuXG4gICAgdHJpZ2dlckRlbGF5ZWRTZWFyY2g6IGZ1bmN0aW9uIChmaXJlSW1tZWRpYXRlbHlJZlBvc3NpYmxlLCBub1BhZ2VSZXNldCwgbm9OYXZpZ2F0ZSwgc2VhcmNoUmVhc29uKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgXG4gICAgICAgIHZhciBkZWxheSA9IHNlbGYuc2VhcmNoRGVsYXk7XG4gICAgICAgIGlmIChmaXJlSW1tZWRpYXRlbHlJZlBvc3NpYmxlKSB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFub1BhZ2VSZXNldCkge1xuICAgICAgICAgICAgc2VsZi5zdGF0ZS5wYWdlSW5kZXggPSAwO1xuICAgICAgICB9XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnNlYXJjaFRpbWVvdXQpO1xuICAgIFx0QmFja2JvbmUubWVkaWF0b3IucHVibGlzaCgnd2FudDpzZWFyY2gnLCBzZWFyY2hSZWFzb24pO1xuICAgICAgICBzZWxmLnNlYXJjaFRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNlbGYuc2VhcmNoKG5vTmF2aWdhdGUsIHNlYXJjaFJlYXNvbik7XG4gICAgICAgIH0sIGRlbGF5KTtcbiAgICB9LFxuXG4gICAgYWN0aXZlRmlsdGVyTGlzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXyhfKHRoaXMuc3RhdGUuYWN0aXZlRmlsdGVycykua2V5cygpKS5zZWxlY3QoZnVuY3Rpb24gKGZpbHRlcikge1xuICAgICAgICAgICAgcmV0dXJuICEhZmlsdGVyO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIFxufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Nvc2lubnVzL2NsaWVudC92aWV3cy9jb250cm9sLXZpZXcuanNcbi8vIG1vZHVsZSBpZCA9IDE0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxudmFyIFZpZXcgPSByZXF1aXJlKCd2aWV3cy9iYXNlL3ZpZXcnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBWaWV3LmV4dGVuZCh7XG4gICAgXG4gICAgdGVtcGxhdGU6IHJlcXVpcmUoJ3hoci1lcnJvcicpLCAgICBcbiAgICBcbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIFZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbChzZWxmLCBvcHRpb25zKTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuc3RhdGUubWVzc2FnZSA9IG9wdGlvbnMubWVzc2FnZTtcbiAgICB9XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29zaW5udXMvY2xpZW50L3ZpZXdzL2Vycm9yLXZpZXcuanNcbi8vIG1vZHVsZSBpZCA9IDE1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBudW5qdWNrcyA9IHJlcXVpcmUoXCJudW5qdWNrcy9icm93c2VyL251bmp1Y2tzLXNsaW1cIik7XG52YXIgZW52O1xuaWYgKCFudW5qdWNrcy5jdXJyZW50RW52KXtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudiA9IG5ldyBudW5qdWNrcy5FbnZpcm9ubWVudChbXSwgdW5kZWZpbmVkKTtcbn0gZWxzZSB7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnY7XG59XG52YXIgY29uZmlndXJlID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL251bmp1Y2tzLmNvbmZpZy5qc1wiKShlbnYpO1xudmFyIGRlcGVuZGVuY2llcyA9IG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgfHwgKG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgPSB7fSk7XG5cblxuXG5cbnZhciBzaGltID0gcmVxdWlyZShcIi9ob21lL3Nhc2NoYS9wci9jb3Npbm51cy1jb3JlL25vZGVfbW9kdWxlcy9udW5qdWNrcy1sb2FkZXIvcnVudGltZS1zaGltXCIpO1xuXG5cbihmdW5jdGlvbigpIHsobnVuanVja3MubnVuanVja3NQcmVjb21waWxlZCA9IG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgfHwge30pW1wiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC94aHItZXJyb3IuaHRtbFwiXSA9IChmdW5jdGlvbigpIHtcbmZ1bmN0aW9uIHJvb3QoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbnZhciBwYXJlbnRUZW1wbGF0ZSA9IG51bGw7XG5vdXRwdXQgKz0gXCI8ZGl2IGNsYXNzPVxcXCJlcnJvclxcXCI+XFxuICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm1lc3NhZ2VcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuPC9kaXY+XFxuXCI7XG5pZihwYXJlbnRUZW1wbGF0ZSkge1xucGFyZW50VGVtcGxhdGUucm9vdFJlbmRlckZ1bmMoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpO1xufSBlbHNlIHtcbmNiKG51bGwsIG91dHB1dCk7XG59XG47XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxucmV0dXJuIHtcbnJvb3Q6IHJvb3Rcbn07XG5cbn0pKCk7XG59KSgpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBzaGltKG51bmp1Y2tzLCBlbnYsIG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWRbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3hoci1lcnJvci5odG1sXCJdICwgZGVwZW5kZW5jaWVzKVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC94aHItZXJyb3IuaHRtbFxuLy8gbW9kdWxlIGlkID0gMTZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgQmFzZVZpZXcgPSByZXF1aXJlKCd2aWV3cy9iYXNlL3ZpZXcnKTtcbnZhciB1dGlsID0gcmVxdWlyZSgnbGliL3V0aWwnKTtcblxudmFyIHBhZ2luYXRpb25Db250cm9sc1RlbXBsYXRlID0gcmVxdWlyZSgnbWFwL3BhZ2luYXRpb24tY29udHJvbHMnKTtcblxuXG4vKiogXG4gKiBBIHNtYWxsIHZpZXcsIGJhc2ljYWxseSBqdXN0IHRvIGVuY2Fwc3VsYXRlIHRoZSBwYWdpbmF0aW9uIGNvbnRyb2xcbiAqIHRlbXBsYXRlIGFuZCBidXR0b25zLCB0byBiZSBhYmxlIHRvIHJlbmRlciBhbmQgcmVmcmVzaCB0aGVtIGluZGVwZW5kZW50bHlcbiAqIG9mIHRoZSBzZWFyY2ggY29udHJvbHMuIFxuICogVGhpcyBpcyBjb250YWluZWQgYnkgYW5kIGRlbGVnYXRlcyBhbG1vc3QgZXZlcnl0aGluZyBiYWNrIHRvIHRoZSBjb250cm9sLXZpZXcuXG4gKiAqL1xubW9kdWxlLmV4cG9ydHMgPSBCYXNlVmlldy5leHRlbmQoe1xuICAgIFxuICAgIC8vIHJlZmVyZW5jZSBiYWNrIHRvIHRoZSBtYWluIEFwcFxuICAgIEFwcDogbnVsbCxcbiAgICBcbiAgICBjb250cm9sVmlldzogbnVsbCxcbiAgICBcbiAgICB0ZW1wbGF0ZTogcGFnaW5hdGlvbkNvbnRyb2xzVGVtcGxhdGUsXG4gICAgXG4gICAgZGVmYXVsdHM6IHtcbiAgICBcdGluZmluaXRlU2Nyb2xsSGFzVHJpZ2dlcmVkOiBmYWxzZSxcbiAgICB9LFxuICAgIFxuICAgIC8vIFRoZSBET00gZXZlbnRzIHNwZWNpZmljIHRvIGFuIGl0ZW0uXG4gICAgZXZlbnRzOiB7XG4gICAgICAgICdjbGljayAudG9nZ2xlLXNlYXJjaC1vbi1zY3JvbGwnOiAndG9nZ2xlU2VhcmNoT25TY3JvbGxDbGlja2VkJyxcbiAgICAgICAgJ2NsaWNrIC5zdGFsZS1zZWFyY2gtYnV0dG9uJzogJ3N0YWxlU2VhcmNoQnV0dG9uQ2xpY2tlZCcsXG4gICAgICAgICdjbGljayAudHJpZ2dlci1wYWdpbmF0aW9uLWZvcndhcmQnOiAncGFnaW5hdGlvbkZvcndhcmRDbGlja2VkJyxcbiAgICAgICAgJ2NsaWNrIC50cmlnZ2VyLXBhZ2luYXRpb24tYmFja3dhcmQnOiAncGFnaW5hdGlvbkJhY2tDbGlja2VkJyxcbiAgICAgICAgJ2NsaWNrIC50cmlnZ2VyLWNyZWF0ZS1pZGVhJzogJ2NyZWF0ZUlkZWFDbGlja2VkJyxcbiAgICB9LFxuICAgIFxuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIChvcHRpb25zLCBhcHAsIGNvbnRyb2xWaWV3KSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgQmFzZVZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbChzZWxmLCBvcHRpb25zKTtcbiAgICAgICAgc2VsZi5BcHAgPSBhcHA7XG4gICAgICAgIHNlbGYuY29udHJvbFZpZXcgPSBjb250cm9sVmlldztcbiAgICAgICAgXG4gICAgICAgIGlmIChzZWxmLmNvbnRyb2xWaWV3Lm9wdGlvbnMucGFnaW5hdGlvbkNvbnRyb2xzVXNlSW5maW5pdGVTY3JvbGwpIHtcbiAgICAgICAgXHRCYWNrYm9uZS5tZWRpYXRvci5zdWJzY3JpYmUoJ3RpbGUtbGlzdDpzY3JvbGwtZW5kLXJlYWNoZWQnLCBzZWxmLmhhbmRsZUluZmluaXRlU2Nyb2xsVHJpZ2dlcmVkLCBzZWxmKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgXG4gICAgLyoqIEV4dGVuZCB0aGUgdGVtcGxhdGUgZGF0YSBieSB0aGUgY29udHJvbFZpZXcncyBvcHRpb25zIGFuZCBzdGF0ZSAqL1xuICAgIGdldFRlbXBsYXRlRGF0YTogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBkYXRhID0gQmFzZVZpZXcucHJvdG90eXBlLmdldFRlbXBsYXRlRGF0YS5jYWxsKHNlbGYpO1xuICAgICAgICB2YXIgc2hvd19pZGVhX2J1dHRvbiA9IENPU0lOTlVTX0lERUFTX0VOQUJMRUQgJiYgc2VsZi5BcHAuZGlzcGxheU9wdGlvbnMuc2hvd01hcCAmJiAhc2VsZi5BcHAubWFwVmlldy5kcmFnZ2FibGVNYXJrZXI7XG4gICAgICAgIFxuICAgICAgICBkYXRhID0gXy5leHRlbmQoXG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgc2VsZi5jb250cm9sVmlldy5vcHRpb25zLFxuICAgICAgICAgICAgc2VsZi5jb250cm9sVmlldy5zdGF0ZSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgIFx0c2hvd19pZGVhX2J1dHRvbjogc2hvd19pZGVhX2J1dHRvblxuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9LFxuICAgIFxuICAgIGFmdGVyUmVuZGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgXHQvLyByZXNldCBpbmZpbml0ZSBzY3JvbGwgbG9ja1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHNlbGYuc3RhdGUuaW5maW5pdGVTY3JvbGxIYXNUcmlnZ2VyZWQgPSBmYWxzZTtcbiAgICB9LFxuICAgIFxuICAgIC8vIEV2ZW50cyAgLS0tLS0tLS0tLS0tLVxuICAgIFxuICAgIC8qKiBDYWxsZWQgd2hlbiB0aGUgZW5kIG9mIHRoZSBzY3JvbGwgbGlzdCBpcyByZWFjaGVkLlxuICAgICAqIFx0Q2FuIGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcywgYW5kIGV2ZW4gd2hlbiB0aGUgZnVsbCBsaXN0IGlzIGFscmVhZHkgbG9hZGVkLiAqL1xuICAgIGhhbmRsZUluZmluaXRlU2Nyb2xsVHJpZ2dlcmVkOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBcdGlmICghdGhpcy5jb250cm9sVmlldy5zdGF0ZS5zZWFyY2hpbmcgJiYgIXRoaXMuc3RhdGUuaW5maW5pdGVTY3JvbGxIYXNUcmlnZ2VyZWQpIHtcbiAgICBcdFx0dGhpcy5zdGF0ZS5pbmZpbml0ZVNjcm9sbEhhc1RyaWdnZXJlZCA9IHRydWU7XG4gICAgXHRcdHRoaXMucGFnaW5hdGlvbkZvcndhcmRDbGlja2VkKCk7XG4gICAgXHR9XG4gICAgfSxcblxuICAgIC8vIGRlbGVnYXRlIHRvIGNvbnRyb2xWaWV3XG4gICAgdG9nZ2xlU2VhcmNoT25TY3JvbGxDbGlja2VkOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5jb250cm9sVmlldy50b2dnbGVTZWFyY2hPblNjcm9sbENsaWNrZWQoZXZlbnQpO1xuICAgIH0sXG4gICAgXG4gICAgLy8gZGVsZWdhdGUgdG8gY29udHJvbFZpZXdcbiAgICBzdGFsZVNlYXJjaEJ1dHRvbkNsaWNrZWQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIFx0dGhpcy5jb250cm9sVmlldy5zdGFsZVNlYXJjaEJ1dHRvbkNsaWNrZWQoZXZlbnQpO1xuICAgIH0sXG4gICAgXG4gICAgLy8gZGVsZWdhdGUgdG8gY29udHJvbFZpZXdcbiAgICBwYWdpbmF0aW9uRm9yd2FyZENsaWNrZWQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIFx0dGhpcy5jb250cm9sVmlldy5wYWdpbmF0aW9uRm9yd2FyZENsaWNrZWQoZXZlbnQpO1xuICAgIH0sXG4gICAgXG4gICAgLy8gZGVsZWdhdGUgdG8gY29udHJvbFZpZXdcbiAgICBwYWdpbmF0aW9uQmFja0NsaWNrZWQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIFx0dGhpcy5jb250cm9sVmlldy5wYWdpbmF0aW9uQmFja0NsaWNrZWQoZXZlbnQpO1xuICAgIH0sXG4gICAgXG4gICAgLy8gZGVsZWdhdGUgdG8gY29udHJvbFZpZXdcbiAgICBjcmVhdGVJZGVhQ2xpY2tlZDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgXHR0aGlzLmNvbnRyb2xWaWV3Lm9wZW5DcmVhdGVJZGVhVmlldyhldmVudCk7XG4gICAgfSxcbiAgICBcbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy9jbGllbnQvdmlld3MvcGFnaW5hdGlvbi1jb250cm9sLXZpZXcuanNcbi8vIG1vZHVsZSBpZCA9IDE3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBudW5qdWNrcyA9IHJlcXVpcmUoXCJudW5qdWNrcy9icm93c2VyL251bmp1Y2tzLXNsaW1cIik7XG52YXIgZW52O1xuaWYgKCFudW5qdWNrcy5jdXJyZW50RW52KXtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudiA9IG5ldyBudW5qdWNrcy5FbnZpcm9ubWVudChbXSwgdW5kZWZpbmVkKTtcbn0gZWxzZSB7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnY7XG59XG52YXIgY29uZmlndXJlID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uLy4uL251bmp1Y2tzLmNvbmZpZy5qc1wiKShlbnYpO1xudmFyIGRlcGVuZGVuY2llcyA9IG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgfHwgKG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgPSB7fSk7XG5cblxuXG5cbnZhciBzaGltID0gcmVxdWlyZShcIi9ob21lL3Nhc2NoYS9wci9jb3Npbm51cy1jb3JlL25vZGVfbW9kdWxlcy9udW5qdWNrcy1sb2FkZXIvcnVudGltZS1zaGltXCIpO1xuXG5cbihmdW5jdGlvbigpIHsobnVuanVja3MubnVuanVja3NQcmVjb21waWxlZCA9IG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgfHwge30pW1wiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC9tYXAvcGFnaW5hdGlvbi1jb250cm9scy5odG1sXCJdID0gKGZ1bmN0aW9uKCkge1xuZnVuY3Rpb24gcm9vdChlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xudmFyIHBhcmVudFRlbXBsYXRlID0gbnVsbDtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInBhc3NUaHJvdWdoXCIpW1wicnVuXCJdKGNvbnRleHQscnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJpMThuXCIpKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcblwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJwYWdpbmF0aW9uQ29udHJvbHNFbmFibGVkXCIpICYmICFydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInBhZ2luYXRpb25Db250cm9sc1VzZUluZmluaXRlU2Nyb2xsXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgPGRpdiBjbGFzcz1cXFwibWFwLXBhZ2luYXRpb24tY29udHJvbHMgbW9iaWxlLXZpZXcgbW9iaWxlLXZpZXctbGlzdC12aXNpYmxlLWJsb2NrXFxcIj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImxpbmVcXFwiPlxcbiAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJwYWdlXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwicm91bmRlZC1idXR0b24gcm91bmRlZC1idXR0b24tY2lyY3VsYXIgYnV0dG9uLWFjdGlvbiB0cmlnZ2VyLXBhZ2luYXRpb24tYmFja3dhcmQgXCI7XG5pZighcnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicGFnZVwiKSksXCJoYXNfcHJldmlvdXNcIikpIHtcbm91dHB1dCArPSBcImRpc2FibGVkIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbi1pbm5lclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWZ3IGZhLWNoZXZyb24tbGVmdFxcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiaW5saW5lLXNwYWNlclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicGFnZVwiKSksXCJzdGFydFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCIgLSBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicGFnZVwiKSksXCJlbmRcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgICAgICAgICAgICBcIjtcbmlmKDEpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwib2ZcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicGFnZVwiKSksXCJ0b3RhbF9jb3VudFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIlJlc3VsdHNcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImlubGluZS1zcGFjZXIgcm91bmRlZC1idXR0b24gcm91bmRlZC1idXR0b24tY2lyY3VsYXIgYnV0dG9uLWFjdGlvbiB0cmlnZ2VyLXBhZ2luYXRpb24tZm9yd2FyZCBcIjtcbmlmKCFydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJwYWdlXCIpKSxcImhhc19uZXh0XCIpKSB7XG5vdXRwdXQgKz0gXCJkaXNhYmxlZCBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwicm91bmRlZC1idXR0b24taW5uZXJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1mdyBmYS1jaGV2cm9uLXJpZ2h0XFxcIj48L2k+XFxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwic3BhY2VyXFxcIj48L2Rpdj5cXG4gICAgICAgICAgICAgICAgPGk+XFxuICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiTm8gcmVzdWx0cyBmb3VuZC5cIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgPC9pPlxcbiAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgXFxuICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2VhcmNoSGFkRXJyb3JzXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJtZXNzYWdlLWVycm9yXFxcIj5cXG4gICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLXdhcm5pbmdcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiQ291bGQgbm90IGNvbXBsZXRlIHRoZSBzZWFyY2ggZHVlIHRvIGFuIGVycm9yLlwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIFxcbiAgICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcblwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXFxuXCI7XG5vdXRwdXQgKz0gXCJcXG5cIjtcbmlmKDAgJiYgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzY3JvbGxDb250cm9sc0VuYWJsZWRcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJtYXAtc2Nyb2xsLWNvbnRyb2xzIG1vYmlsZS1oaWRkZW5cXFwiPlxcbiAgICAgICAgPHRhYmxlIGNsYXNzPVxcXCJvbm9mZnN3aXRjaC1mcmFtZVxcXCI+XFxuICAgICAgICAgICAgPHRyPlxcbiAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcIm9ub2Zmc3dpdGNoLXRleHQtbGFiZWxcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIlNlYXJjaCB3aGVuIG1vdmluZyB0aGUgbWFwXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIDwvdGQ+XFxuICAgICAgICAgICAgICAgIDx0ZD5cXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcIm9ub2Zmc3dpdGNoXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIG5hbWU9XFxcIm9ub2Zmc3dpdGNoLXNlYXJjaC1vbi1zY3JvbGxcXFwiIGNsYXNzPVxcXCJvbm9mZnN3aXRjaC1jaGVja2JveCB0b2dnbGUtc2VhcmNoLW9uLXNjcm9sbFxcXCIgaWQ9XFxcImNoZWNrLXNlYXJjaC1vbi1zY3JvbGxcXFwiIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzZWFyY2hPblNjcm9sbFwiKSkge1xub3V0cHV0ICs9IFwiY2hlY2tlZFwiO1xuO1xufVxub3V0cHV0ICs9IFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cXFwib25vZmZzd2l0Y2gtbGFiZWxcXFwiIGZvcj1cXFwiY2hlY2stc2VhcmNoLW9uLXNjcm9sbFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJvbm9mZnN3aXRjaC1pbm5lclxcXCI+PC9zcGFuPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwib25vZmZzd2l0Y2gtc3dpdGNoXFxcIj48L3NwYW4+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICA8L3RkPlxcbiAgICAgICAgICAgIDwvdHI+XFxuICAgICAgICA8L3RhYmxlPlxcbiAgICAgICAgXFxuICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgXCI7XG5pZigwICYmICFydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNlYXJjaE9uU2Nyb2xsXCIpICYmIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicmVzdWx0c1N0YWxlXCIpICYmICFydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNlYXJjaGluZ1wiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwicm91bmRlZC1idXR0b24gYnV0dG9uLWNvbG9yLWFjdGlvbiBzdGFsZS1zZWFyY2gtYnV0dG9uXFxcIj5cXG4gICAgICAgICAgICAgICA8c3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiU2VhcmNoIHRoaXMgYXJlYVwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgIDwvZGl2PlxcblwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXFxuICAgICAgICAgICAgXFxuPGRpdiBjbGFzcz1cXFwibWFwLWNyZWF0ZS1pZGVhLWJ1dHRvbi1mcmFtZSBtb2JpbGUtaGlkZGVuXFxcIj5cXG4gICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNob3dfaWRlYV9idXR0b25cIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgXFxuXFx0ICAgIFxcblxcdCAgICA8YSBcIjtcbmlmKCFydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvc2lubnVzX2FjdGl2ZV91c2VyXCIpKSB7XG5vdXRwdXQgKz0gXCJocmVmPVxcXCIvc2lnbnVwLz9hY2NfcmVxX21zZz0xJm5leHQ9L21hcC9cXFwiIGNsYXNzPVxcXCJcIjtcbjtcbn1cbmVsc2Uge1xub3V0cHV0ICs9IFwiY2xhc3M9XFxcInRyaWdnZXItY3JlYXRlLWlkZWFcIjtcbjtcbn1cbm91dHB1dCArPSBcIiByb3VuZGVkLWJ1dHRvbiBidXR0b24tY29sb3ItaWRlYXMtaW52ZXJ0ZWQgc2hhZG93ZWQtYnV0dG9uXFxcIj5cXG5cXHQgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbi1pbm5lclxcXCI+XFxuXFx0ICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWxpZ2h0YnVsYi1vXFxcIj48L2k+XFxuXFx0ICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJDcmVhdGUgSWRlYVwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdCAgICAgICAgPC9zcGFuPlxcblxcdCAgICA8L2E+XFxuICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgIFxcbiAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic3BsaXRzY3JlZW5cIikgJiYgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJDT1NJTk5VU19TSE9XX1BST0pFQ1RfQU5EX0dST1VQX0NSRUFURV9CVVRUT05TXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgPGEgaHJlZj1cXFwiXCI7XG5pZighcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb3Npbm51c19hY3RpdmVfdXNlclwiKSkge1xub3V0cHV0ICs9IFwiL3NpZ251cC8/YWNjX3JlcV9tc2c9MSZuZXh0PVwiO1xuO1xufVxub3V0cHV0ICs9IFwiL3Byb2plY3RzL2FkZC9cXFwiIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbiBidXR0b24tY29sb3ItcHJvamVjdHMtaW52ZXJ0ZWQgc2hhZG93ZWQtYnV0dG9uXFxcIj5cXG5cXHQgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbi1pbm5lclxcXCI+XFxuXFx0ICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWdyb3VwXFxcIj48L2k+XFxuXFx0ICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJDcmVhdGUgUHJvamVjdFwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdCAgICAgICAgPC9zcGFuPlxcblxcdCAgICA8L2E+XFxuICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuPC9kaXY+XFxuXCI7XG5pZihwYXJlbnRUZW1wbGF0ZSkge1xucGFyZW50VGVtcGxhdGUucm9vdFJlbmRlckZ1bmMoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpO1xufSBlbHNlIHtcbmNiKG51bGwsIG91dHB1dCk7XG59XG47XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxucmV0dXJuIHtcbnJvb3Q6IHJvb3Rcbn07XG5cbn0pKCk7XG59KSgpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBzaGltKG51bmp1Y2tzLCBlbnYsIG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWRbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL21hcC9wYWdpbmF0aW9uLWNvbnRyb2xzLmh0bWxcIl0gLCBkZXBlbmRlbmNpZXMpXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL21hcC9wYWdpbmF0aW9uLWNvbnRyb2xzLmh0bWxcbi8vIG1vZHVsZSBpZCA9IDE4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxudmFyIEJhc2VWaWV3ID0gcmVxdWlyZSgndmlld3MvYmFzZS92aWV3Jyk7XG52YXIgdXRpbCA9IHJlcXVpcmUoJ2xpYi91dGlsJyk7XG5cbnZhciBtb2JpbGVDb250cm9sc1RlbXBsYXRlID0gcmVxdWlyZSgnbWFwL21vYmlsZS1jb250cm9scycpO1xuXG5cbi8qKiBcbiAqIEEgc21hbGwgdmlldywgYmFzaWNhbGx5IGp1c3QgdG8gZW5jYXBzdWxhdGUgdGhlIG1vYmlsZSBjb250cm9sXG4gKiB0ZW1wbGF0ZSBhbmQgYnV0dG9ucywgdG8gYmUgYWJsZSB0byByZW5kZXIgYW5kIHJlZnJlc2ggdGhlbSBpbmRlcGVuZGVudGx5XG4gKiBvZiB0aGUgc2VhcmNoIGNvbnRyb2xzLiBcbiAqIFRoaXMgaXMgY29udGFpbmVkIGJ5IGFuZCBkZWxlZ2F0ZXMgYWxtb3N0IGV2ZXJ5dGhpbmcgYmFjayB0byB0aGUgY29udHJvbC12aWV3LlxuICogKi9cbm1vZHVsZS5leHBvcnRzID0gQmFzZVZpZXcuZXh0ZW5kKHtcbiAgICBcbiAgICAvLyByZWZlcmVuY2UgYmFjayB0byB0aGUgbWFpbiBBcHBcbiAgICBBcHA6IG51bGwsXG4gICAgXG4gICAgY29udHJvbFZpZXc6IG51bGwsXG4gICAgXG4gICAgdGVtcGxhdGU6IG1vYmlsZUNvbnRyb2xzVGVtcGxhdGUsXG4gICAgXG4gICAgLy8gVGhlIERPTSBldmVudHMgc3BlY2lmaWMgdG8gYW4gaXRlbS5cbiAgICBldmVudHM6IHtcbiAgICAgICAgJ2NsaWNrIC50cmlnZ2VyLW1vYmlsZS1saXN0LXZpZXcnOiAndHJpZ2dlck1vYmlsZUxpc3RWaWV3JyxcbiAgICAgICAgJ2NsaWNrIC50cmlnZ2VyLW1vYmlsZS1zZWFyY2gtdmlldyc6ICd0cmlnZ2VyTW9iaWxlU2VhcmNoVmlldycsXG4gICAgICAgICdjbGljayAudHJpZ2dlci1tb2JpbGUtbWFwLXZpZXcnOiAndHJpZ2dlck1vYmlsZU1hcFZpZXcnLFxuICAgICAgICAnY2xpY2sgLnRyaWdnZXItbW9iaWxlLWlkZWEtY3JlYXRlLTEtdmlldyc6ICd0cmlnZ2VyTW9iaWxlSWRlYUNyZWF0ZTFWaWV3JyxcbiAgICAgICAgJ2NsaWNrIC50cmlnZ2VyLW1vYmlsZS1pZGVhLWNyZWF0ZS0yLXZpZXcnOiAndHJpZ2dlck1vYmlsZUlkZWFDcmVhdGUyVmlldydcbiAgICB9LFxuICAgIFxuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIChvcHRpb25zLCBhcHAsIGNvbnRyb2xWaWV3KSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgQmFzZVZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbChzZWxmLCBvcHRpb25zKTtcbiAgICAgICAgc2VsZi5BcHAgPSBhcHA7XG4gICAgICAgIHNlbGYuY29udHJvbFZpZXcgPSBjb250cm9sVmlldztcbiAgICB9LFxuICAgIFxuICAgIC8qKiBFeHRlbmQgdGhlIHRlbXBsYXRlIGRhdGEgYnkgdGhlIGNvbnRyb2xWaWV3J3Mgb3B0aW9ucyBhbmQgc3RhdGUgKi9cbiAgICBnZXRUZW1wbGF0ZURhdGE6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB2YXIgZGF0YSA9IEJhc2VWaWV3LnByb3RvdHlwZS5nZXRUZW1wbGF0ZURhdGEuY2FsbChzZWxmKTtcbiAgICAgICAgZGF0YSA9IF8uZXh0ZW5kKFxuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIHNlbGYuY29udHJvbFZpZXcub3B0aW9ucyxcbiAgICAgICAgICAgIHNlbGYuY29udHJvbFZpZXcuc3RhdGVcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSxcbiAgICBcbiAgICBcbiAgICAvLyBFdmVudHMgIC0tLS0tLS0tLS0tLS1cbiAgICBcblxuICAgIC8vIGRlbGVnYXRlIHRvIGNvbnRyb2xWaWV3XG4gICAgdHJpZ2dlck1vYmlsZUxpc3RWaWV3OiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5jb250cm9sVmlldy50cmlnZ2VyTW9iaWxlTGlzdFZpZXcoKTtcbiAgICB9LFxuXG4gICAgLy8gZGVsZWdhdGUgdG8gY29udHJvbFZpZXdcbiAgICB0cmlnZ2VyTW9iaWxlU2VhcmNoVmlldzogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgXHR0aGlzLmNvbnRyb2xWaWV3LnRyaWdnZXJNb2JpbGVTZWFyY2hWaWV3KCk7XG4gICAgfSxcblxuICAgIC8vIGRlbGVnYXRlIHRvIGNvbnRyb2xWaWV3XG4gICAgdHJpZ2dlck1vYmlsZU1hcFZpZXc6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIFx0dGhpcy5jb250cm9sVmlldy50cmlnZ2VyTW9iaWxlTWFwVmlldygpO1xuICAgIH0sXG4gICAgXG4gICAgLy8gZGVsZWdhdGUgdG8gY29udHJvbFZpZXdcbiAgICB0cmlnZ2VyTW9iaWxlSWRlYUNyZWF0ZTFWaWV3OiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBcdHRoaXMuY29udHJvbFZpZXcudHJpZ2dlck1vYmlsZUlkZWFDcmVhdGUxVmlldygpO1xuICAgIH0sXG5cbiAgICAvLyBkZWxlZ2F0ZSB0byBjb250cm9sVmlld1xuICAgIHRyaWdnZXJNb2JpbGVJZGVhQ3JlYXRlMlZpZXc6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIFx0dGhpcy5jb250cm9sVmlldy50cmlnZ2VyTW9iaWxlSWRlYUNyZWF0ZTJWaWV3KCk7XG4gICAgfSxcbiAgICBcbiAgICBcbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy9jbGllbnQvdmlld3MvbW9iaWxlLWNvbnRyb2wtdmlldy5qc1xuLy8gbW9kdWxlIGlkID0gMTlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIG51bmp1Y2tzID0gcmVxdWlyZShcIm51bmp1Y2tzL2Jyb3dzZXIvbnVuanVja3Mtc2xpbVwiKTtcbnZhciBlbnY7XG5pZiAoIW51bmp1Y2tzLmN1cnJlbnRFbnYpe1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52ID0gbmV3IG51bmp1Y2tzLkVudmlyb25tZW50KFtdLCB1bmRlZmluZWQpO1xufSBlbHNlIHtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudjtcbn1cbnZhciBjb25maWd1cmUgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vLi4vbnVuanVja3MuY29uZmlnLmpzXCIpKGVudik7XG52YXIgZGVwZW5kZW5jaWVzID0gbnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyB8fCAobnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyA9IHt9KTtcblxuXG5cblxudmFyIHNoaW0gPSByZXF1aXJlKFwiL2hvbWUvc2FzY2hhL3ByL2Nvc2lubnVzLWNvcmUvbm9kZV9tb2R1bGVzL251bmp1Y2tzLWxvYWRlci9ydW50aW1lLXNoaW1cIik7XG5cblxuKGZ1bmN0aW9uKCkgeyhudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkID0gbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZCB8fCB7fSlbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL21hcC9tb2JpbGUtY29udHJvbHMuaHRtbFwiXSA9IChmdW5jdGlvbigpIHtcbmZ1bmN0aW9uIHJvb3QoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbnZhciBwYXJlbnRUZW1wbGF0ZSA9IG51bGw7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIkNPU0lOTlVTX0lERUFTX0VOQUJMRURcIikpIHtcbm91dHB1dCArPSBcIlxcblxcdDxkaXYgY2xhc3M9XFxcIm1hcC1tb2JpbGUtY29udHJvbHMgbGVmdC1zaWRlIG1vYmlsZS1vbmx5IG1vYmlsZS12aWV3IG1vYmlsZS12aWV3LW1hcC12aXNpYmxlLWJsb2NrXFxcIj5cXG5cXHRcXHQ8YSBcIjtcbmlmKCFydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvc2lubnVzX2FjdGl2ZV91c2VyXCIpKSB7XG5vdXRwdXQgKz0gXCJocmVmPVxcXCIvc2lnbnVwLz9hY2NfcmVxX21zZz0xJm5leHQ9L21hcC9cXFwiIGNsYXNzPVxcXCJcIjtcbjtcbn1cbmVsc2Uge1xub3V0cHV0ICs9IFwiY2xhc3M9XFxcInRyaWdnZXItbW9iaWxlLWlkZWEtY3JlYXRlLTEtdmlld1wiO1xuO1xufVxub3V0cHV0ICs9IFwiIHB1bGwtbGVmdCByb3VuZGVkLWJ1dHRvbiBidXR0b24tYWN0aW9uLWZhZGVkIHNoYWRvd2VkLWJ1dHRvblxcXCI+XFxuXFx0XFx0ICAgIDxzcGFuIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbi1pbm5lclxcXCI+XFxuXFx0XFx0ICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtZncgZmEtbGlnaHRidWxiLW8gYXBwbHktY29sb3ItaWRlYXNcXFwiPjwvaT5cXG5cXHRcXHQgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0ICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJDcmVhdGUgaWRlYVwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdCAgICA8L3NwYW4+XFxuXFx0XFx0PC9hPlxcblxcdDwvZGl2PlxcblxcdFxcblxcdDxkaXYgY2xhc3M9XFxcIm1hcC1tb2JpbGUtY29udHJvbHMgbWFwLXBhZ2luYXRpb24tY29udHJvbHMgZnVsbC13aWR0aCB2ZXJ0aWNhbC1jZW50ZXItcGFyZW50ICAgbW9iaWxlLW9ubHkgbW9iaWxlLXZpZXcgbW9iaWxlLXZpZXctaWRlYS1jcmVhdGUtMS12aXNpYmxlLWJsb2NrXFxcIj5cXG4gICAgICAgIDxhIGNsYXNzPVxcXCJ0cmlnZ2VyLW1vYmlsZS1pZGVhLWNyZWF0ZS0yLXZpZXcgcm91bmRlZC1idXR0b24gYnV0dG9uLWNvbG9yLWFjdGlvbiBwdWxsLXJpZ2h0IGlubGluZS1zcGFjZXIgdmVydGljYWwtY2VudGVyLWNoaWxkXFxcIj5cXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwicm91bmRlZC1idXR0b24taW5uZXJcXFwiPlxcbiAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJOZXh0XCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgPC9hPlxcblxcdCAgICA8ZGl2IGNsYXNzPVxcXCJjb250cm9scy1kZXNjcmlwdGlvbiB2ZXJ0aWNhbC1jZW50ZXItY2hpbGRcXFwiPlxcblxcdCAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJDaG9vc2UgYSBsb2NhdGlvbiBmb3IgeW91ciBpZGVhIGJ5IGRyYWdnaW5nIHRoZSBtYXJrZXIhXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0ICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG5cXHRcXG5cIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblxcbjxkaXYgY2xhc3M9XFxcIm1hcC1tb2JpbGUtY29udHJvbHMgbW9iaWxlLW9ubHlcXFwiPlxcbiAgICBcIjtcbmlmKCFydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImZ1bGxzY3JlZW5cIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbiByb3VuZGVkLWJ1dHRvbi1jaXJjdWxhciBidXR0b24tYWN0aW9uLWZhZGVkIHNoYWRvd2VkLWJ1dHRvbiB0cmlnZ2VyLW1vYmlsZS1zZWFyY2gtdmlldyAgIG1vYmlsZS12aWV3IG1vYmlsZS12aWV3LWxpc3QtdmlzaWJsZS1pbmxpbmUtYmxvY2sgIG1vYmlsZS12aWV3LW1hcC12aXNpYmxlLWlubGluZS1ibG9jayBtb2JpbGUtdmlldy1kZXRhaWwtdmlzaWJsZS1pbmxpbmUtYmxvY2tcXFwiPlxcbiAgICAgICAgPHNwYW4gY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uLWlubmVyXFxcIj5cXG4gICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtZncgZmEtc2VhcmNoXFxcIj48L2k+XFxuICAgICAgICA8L3NwYW4+XFxuICAgIDwvZGl2PlxcbiAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic3BsaXRzY3JlZW5cIikpIHtcbm91dHB1dCArPSBcIlxcblxcdCAgICA8ZGl2IGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbiByb3VuZGVkLWJ1dHRvbi1jaXJjdWxhciBidXR0b24tYWN0aW9uLWZhZGVkIHNoYWRvd2VkLWJ1dHRvbiB0cmlnZ2VyLW1vYmlsZS1tYXAtdmlldyAgIG1vYmlsZS12aWV3IG1vYmlsZS12aWV3LXNlYXJjaC12aXNpYmxlLWlubGluZS1ibG9jayAgbW9iaWxlLXZpZXctbGlzdC12aXNpYmxlLWlubGluZS1ibG9jayBtb2JpbGUtdmlldy1kZXRhaWwtdmlzaWJsZS1pbmxpbmUtYmxvY2tcXFwiPlxcblxcdCAgICAgICAgPHNwYW4gY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uLWlubmVyXFxcIj5cXG5cXHQgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtZncgZmEtbWFwLW1hcmtlclxcXCI+PC9pPlxcblxcdCAgICAgICAgPC9zcGFuPlxcblxcdCAgICA8L2Rpdj5cXG4gICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgPGRpdiBjbGFzcz1cXFwicm91bmRlZC1idXR0b24gcm91bmRlZC1idXR0b24tY2lyY3VsYXIgYnV0dG9uLWFjdGlvbi1mYWRlZCBzaGFkb3dlZC1idXR0b24gdHJpZ2dlci1tb2JpbGUtbGlzdC12aWV3ICAgbW9iaWxlLXZpZXcgbW9iaWxlLXZpZXctbWFwLXZpc2libGUtaW5saW5lLWJsb2NrICBtb2JpbGUtdmlldy1zZWFyY2gtdmlzaWJsZS1pbmxpbmUtYmxvY2sgbW9iaWxlLXZpZXctZGV0YWlsLXZpc2libGUtaW5saW5lLWJsb2NrXFxcIj5cXG4gICAgICAgIDxzcGFuIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbi1pbm5lclxcXCI+XFxuICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWZ3IGZhLWxpc3QtdWxcXFwiPjwvaT5cXG4gICAgICAgIDwvc3Bhbj5cXG4gICAgPC9kaXY+XFxuPC9kaXY+XCI7XG5pZihwYXJlbnRUZW1wbGF0ZSkge1xucGFyZW50VGVtcGxhdGUucm9vdFJlbmRlckZ1bmMoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpO1xufSBlbHNlIHtcbmNiKG51bGwsIG91dHB1dCk7XG59XG47XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxucmV0dXJuIHtcbnJvb3Q6IHJvb3Rcbn07XG5cbn0pKCk7XG59KSgpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBzaGltKG51bmp1Y2tzLCBlbnYsIG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWRbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL21hcC9tb2JpbGUtY29udHJvbHMuaHRtbFwiXSAsIGRlcGVuZGVuY2llcylcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Nvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvbWFwL21vYmlsZS1jb250cm9scy5odG1sXG4vLyBtb2R1bGUgaWQgPSAyMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbnZhciBCYXNlVmlldyA9IHJlcXVpcmUoJ3ZpZXdzL2Jhc2UvdmlldycpO1xudmFyIHV0aWwgPSByZXF1aXJlKCdsaWIvdXRpbCcpO1xuXG5cbm1vZHVsZS5leHBvcnRzID0gQmFzZVZpZXcuZXh0ZW5kKHtcbiAgICBcbiAgICAvLyByZWZlcmVuY2UgYmFjayB0byB0aGUgbWFpbiBBcHBcbiAgICBBcHA6IG51bGwsXG4gICAgXG4gICAgY29udHJvbFZpZXc6IG51bGwsXG4gICAgXG4gICAgbW9kZWw6IG51bGwsXG5cbiAgICB0ZW1wbGF0ZTogcmVxdWlyZSgndGlsZXMvdGlsZS1kZXRhaWwtY3JlYXRlLWlkZWEnKSxcbiAgICBcbiAgICAvLyBUaGUgRE9NIGV2ZW50cyBzcGVjaWZpYyB0byBhbiBpdGVtLlxuICAgIGV2ZW50czoge1xuICAgICAgICAnY2xpY2sgLnRpbGUtY2xvc2UtYnV0dG9uJzogJ29uQ2xvc2VDbGlja2VkJyxcbiAgICAgICAgJ2NsaWNrIC50cmlnZ2VyLWNyZWF0ZS1pZGVhLXN1Ym1pdCc6ICdvblN1Ym1pdENsaWNrZWQnLFxuICAgICAgICAnY2xpY2sgLnRyaWdnZXItbW9iaWxlLWlkZWEtYmFjayc6ICdvbk1vYmlsZUlkZWFCYWNrQ2xpY2tlZCcsXG4gICAgfSxcbiAgICBcbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbiAob3B0aW9ucywgYXBwLCBjb250cm9sVmlldykge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIEJhc2VWaWV3LnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwoc2VsZiwgb3B0aW9ucyk7XG4gICAgICAgIHNlbGYuQXBwID0gYXBwO1xuICAgICAgICBzZWxmLmNvbnRyb2xWaWV3ID0gY29udHJvbFZpZXc7XG4gICAgICAgIFxuICAgICAgICBCYWNrYm9uZS5tZWRpYXRvci5zdWJzY3JpYmUoJ2lkZWFzOmNyZWF0ZS12aWV3LW9wZW5lZCcsIHNlbGYub25WaWV3T3BlbmVkLCBzZWxmKTtcbiAgICAgICAgQmFja2JvbmUubWVkaWF0b3Iuc3Vic2NyaWJlKCdpZGVhczpjcmVhdGUtdmlldy1jbG9zZWQnLCBzZWxmLm9uVmlld0Nsb3NlZCwgc2VsZik7XG4gICAgfSxcblxuICAgIC8qKiBFeHRlbmQgdGhlIHRlbXBsYXRlIGRhdGEgYnkgdGhlIGNvbnRyb2xWaWV3J3Mgb3B0aW9ucyBhbmQgc3RhdGUgKi9cbiAgICBnZXRUZW1wbGF0ZURhdGE6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB2YXIgZGF0YSA9IEJhc2VWaWV3LnByb3RvdHlwZS5nZXRUZW1wbGF0ZURhdGEuY2FsbChzZWxmKTtcbiAgICAgICAgZGF0YVsnY29udHJvbFZpZXcnXSA9IF8uZXh0ZW5kKFxuICAgICAgICAgICAge30sXG4gICAgICAgICAgICBzZWxmLkFwcC5jb250cm9sVmlldy5vcHRpb25zLFxuICAgICAgICAgICAgc2VsZi5BcHAuY29udHJvbFZpZXcuc3RhdGVcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSxcbiAgICBcbiAgICBhZnRlclJlbmRlcjogZnVuY3Rpb24gKCkge1xuICAgIFx0aW5pdF9zaW1wbGVtZGUoJCgnI2lkZWEtY3JlYXRlLWRlc2NyaXB0aW9uJylbMF0pO1xuICAgIH0sXG4gICAgXG4gICAgb25WaWV3T3BlbmVkOiBmdW5jdGlvbiAoKSB7XG4gICAgXHR0aGlzLiRlbC5maW5kKCcjaWRlYS1jcmVhdGUtdGl0bGUnKS5mb2N1cygpO1xuICAgIFx0dGhpcy5BcHAubWFwVmlldy5hY3RpdmF0ZURyYWdnYWJsZU1hcmtlcignaWRlYXMnKTtcbiAgICBcdCQoJy50cmlnZ2VyLWNyZWF0ZS1pZGVhJykuaGlkZSgpO1xuICAgICAgICBCYWNrYm9uZS5tZWRpYXRvci5wdWJsaXNoKCd0aWxlLWRldGFpbDpvcGVuZWQnKTtcbiAgICB9LFxuICAgIFxuICAgIG9uVmlld0Nsb3NlZDogZnVuY3Rpb24gKCkge1xuICAgIFx0dGhpcy5BcHAubWFwVmlldy5kZWFjdGl2YXRlRHJhZ2dhYmxlTWFya2VyKCk7XG4gICAgXHQkKCcudHJpZ2dlci1jcmVhdGUtaWRlYScpLnNob3coKTtcbiAgICAgICAgQmFja2JvbmUubWVkaWF0b3IucHVibGlzaCgndGlsZS1kZXRhaWw6Y2xvc2VkJyk7XG4gICAgfSxcbiAgICBcbiAgICAvLyB0aGUgdmlldyBpcyBiZWluZyBjbG9zZWRcbiAgICBvbkNsb3NlQ2xpY2tlZDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgXHR0aGlzLmNvbnRyb2xWaWV3LmNsb3NlQ3JlYXRlSWRlYVZpZXcoZXZlbnQpO1xuICAgIH0sXG4gICAgXG4gICAgLy8gc3VibWl0IGJ1dHRvbiB3YXMgY2xpY2tlZFxuICAgIG9uU3VibWl0Q2xpY2tlZDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgXHQvLyBjb2xsZWN0IFwiZm9ybVwiIHZhbHVlcyBhbmQgbmF2aWdhdGUgdG8gdGhlIHJlYWwgY3JlYXRlIFVSTFxuICAgIFx0dmFyIHRpdGxlID0gdGhpcy4kZWwuZmluZCgnI2lkZWEtY3JlYXRlLXRpdGxlJykudmFsKCk7XG4gICAgXHR2YXIgZGVzY3JpcHRpb24gPSBpbml0ZWRfc2ltcGxlbWRlLnZhbHVlKCk7XG4gICAgXHR2YXIgbGF0bG5nID0gdGhpcy5BcHAubWFwVmlldy5nZXREcmFnZ2FibGVNYXJrZXJMYXRMbmcoKTtcbiAgICBcdHZhciB1cmwgPSAnL2lkZWFzL2FkZC8/JyArIFxuXHQgICAgXHQndGl0bGU9JyArIGVuY29kZVVSSUNvbXBvbmVudCh0aXRsZSkgKyAnJicgKyBcblx0ICAgIFx0J2xhdD0nICsgbGF0bG5nLmxhdCArICcmJyArIFxuXHQgICAgXHQnbG9uPScgKyBsYXRsbmcubG5nICsgJyYnICtcblx0ICAgIFx0J2Rlc2NyaXB0aW9uPScgKyBlbmNvZGVVUklDb21wb25lbnQoZGVzY3JpcHRpb24pOyBcbiAgICBcdHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gdXJsO1xuICAgIH0sXG4gICAgXG4gICAgb25Nb2JpbGVJZGVhQmFja0NsaWNrZWQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIFx0dGhpcy5jb250cm9sVmlldy50cmlnZ2VyTW9iaWxlSWRlYUNyZWF0ZTFWaWV3KGV2ZW50KTtcbiAgICB9XG4gICAgXG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29zaW5udXMvY2xpZW50L3ZpZXdzL2NyZWF0ZS1pZGVhLXZpZXcuanNcbi8vIG1vZHVsZSBpZCA9IDIxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBudW5qdWNrcyA9IHJlcXVpcmUoXCJudW5qdWNrcy9icm93c2VyL251bmp1Y2tzLXNsaW1cIik7XG52YXIgZW52O1xuaWYgKCFudW5qdWNrcy5jdXJyZW50RW52KXtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudiA9IG5ldyBudW5qdWNrcy5FbnZpcm9ubWVudChbXSwgdW5kZWZpbmVkKTtcbn0gZWxzZSB7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnY7XG59XG52YXIgY29uZmlndXJlID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uLy4uL251bmp1Y2tzLmNvbmZpZy5qc1wiKShlbnYpO1xudmFyIGRlcGVuZGVuY2llcyA9IG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgfHwgKG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgPSB7fSk7XG5kZXBlbmRlbmNpZXNbXCJpbmNsdWRlL21hY3Jvcy5odG1sXCJdID0gcmVxdWlyZSggXCJpbmNsdWRlL21hY3Jvcy5odG1sXCIgKTtcblxuXG5cblxudmFyIHNoaW0gPSByZXF1aXJlKFwiL2hvbWUvc2FzY2hhL3ByL2Nvc2lubnVzLWNvcmUvbm9kZV9tb2R1bGVzL251bmp1Y2tzLWxvYWRlci9ydW50aW1lLXNoaW1cIik7XG5cblxuKGZ1bmN0aW9uKCkgeyhudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkID0gbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZCB8fCB7fSlbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtZGV0YWlsLWNyZWF0ZS1pZGVhLmh0bWxcIl0gPSAoZnVuY3Rpb24oKSB7XG5mdW5jdGlvbiByb290KGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG52YXIgcGFyZW50VGVtcGxhdGUgPSBudWxsO1xuZW52LmdldFRlbXBsYXRlKFwiaW5jbHVkZS9tYWNyb3MuaHRtbFwiLCBmYWxzZSwgXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtZGV0YWlsLWNyZWF0ZS1pZGVhLmh0bWxcIiwgZmFsc2UsIGZ1bmN0aW9uKHRfMix0XzEpIHtcbmlmKHRfMikgeyBjYih0XzIpOyByZXR1cm47IH1cbnRfMS5nZXRFeHBvcnRlZChmdW5jdGlvbih0XzMsdF8xKSB7XG5pZih0XzMpIHsgY2IodF8zKTsgcmV0dXJuOyB9XG5jb250ZXh0LnNldFZhcmlhYmxlKFwibWFjcm9zXCIsIHRfMSk7XG5vdXRwdXQgKz0gXCJcXG5cXG48ZGl2IGNsYXNzPVxcXCJ0aWxlLWRldGFpbCB0aWxlLWlkZWEgdGlsZS1jcmVhdGUtaWRlYSBtb2JpbGUtdmlldyBtb2JpbGUtdmlldy1pZGVhLWNyZWF0ZS0yLXZpc2libGUtYmxvY2tcXFwiPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLWNsb3NlLWJ1dHRvbiBtb3JlLXBhZGRpbmdcXFwiPlxcbiAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWZ3IGZhLWNsb3NlXFxcIj48L2k+XFxuICAgIDwvZGl2PlxcbiAgICBcXG4gICAgXFxuICAgIFwiO1xuKHBhcmVudFRlbXBsYXRlID8gZnVuY3Rpb24oZSwgYywgZiwgciwgY2IpIHsgY2IoXCJcIik7IH0gOiBjb250ZXh0LmdldEJsb2NrKFwidGl0bGVcIikpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfNSx0XzQpIHtcbmlmKHRfNSkgeyBjYih0XzUpOyByZXR1cm47IH1cbm91dHB1dCArPSB0XzQ7XG5vdXRwdXQgKz0gXCJcXG4gICAgXFxuICAgIFwiO1xuKHBhcmVudFRlbXBsYXRlID8gZnVuY3Rpb24oZSwgYywgZiwgciwgY2IpIHsgY2IoXCJcIik7IH0gOiBjb250ZXh0LmdldEJsb2NrKFwiZm9ybVwiKSkoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF83LHRfNikge1xuaWYodF83KSB7IGNiKHRfNyk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfNjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgXFxuICAgIFxcbiAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJzcGFjZXIgbW9iaWxlLW9ubHlcXFwiPiZuYnNwOzwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJzcGFjZXIgbW9iaWxlLW9ubHlcXFwiPiZuYnNwOzwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJzcGFjZXIgbW9iaWxlLW9ubHlcXFwiPiZuYnNwOzwvZGl2PlxcbjwvZGl2PlxcblwiO1xuaWYocGFyZW50VGVtcGxhdGUpIHtcbnBhcmVudFRlbXBsYXRlLnJvb3RSZW5kZXJGdW5jKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKTtcbn0gZWxzZSB7XG5jYihudWxsLCBvdXRwdXQpO1xufVxufSl9KX0pfSk7XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl90aXRsZShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLXNlY3Rpb24gbm8tdG9wLXNwYWNpbmcgdGl0bGVcXFwiPlxcbiAgICAgICAgICAgIDxoMT5cXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiQ3JlYXRlIGlkZWFcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICA8L2gxPlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICBcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcInRpbGUtc2VjdGlvbiBtb2JpbGUtaGlkZGVuXFxcIj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJwdWxsLWxlZnQgbXVsdGktc3BhbiBub24tbWFwLXBsYWNlbWFyayBwbGFjZW1hcmsgbCBpY29uIGlkZWFzXFxcIj48L2Rpdj5cXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPVxcXCJvdmVyZmxvdzogaGlkZGVuO1xcXCI+XFxuICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkNob29zZSBhIGxvY2F0aW9uIGZvciB5b3VyIGlkZWEgYnkgZHJhZ2dpbmcgJiBkcm9wcGluZyB0aGUgbWFya2VyLiBZb3UgY2FuIHN0aWxsIGNoYW5nZSB0aGlzIGxvY2F0aW9uIGxhdGVyIG9uLlwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICBcXG4gICAgXCI7XG5jYihudWxsLCBvdXRwdXQpO1xuO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfZm9ybShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLWRldGFpbC1mb3JtXFxcIj5cXG5cXHQgICAgICAgIDxkaXYgY2xhc3M9XFxcInRpbGUtc2VjdGlvblxcXCI+XFxuXFx0ICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJjYXBzXFxcIiBmb3I9XFxcImlkZWEtY3JlYXRlLXRpdGxlXFxcIj5cXG5cXHQgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiVGl0bGVcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgICAgICAgICA8L2xhYmVsPiBcXG5cXHQgICAgICAgICAgICA8aW5wdXQgaWQ9XFxcImlkZWEtY3JlYXRlLXRpdGxlXFxcIiB0eXBlPVxcXCJ0ZXh0XFxcIiAvPlxcblxcdCAgICAgICAgPC9kaXY+XFxuXFx0ICAgICAgICBcXG5cXHQgICAgICAgIDxkaXYgY2xhc3M9XFxcInRpbGUtc2VjdGlvblxcXCI+XFxuXFx0ICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJjYXBzXFxcIiBmb3I9XFxcImlkZWEtY3JlYXRlLWRlc2NyaXB0aW9uXFxcIj5cXG5cXHQgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiRGVzY3JpcHRpb25cIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgICAgICAgICA8L2xhYmVsPiBcXG5cXHQgICAgICAgICAgICA8dGV4dGFyZWEgaWQ9XFxcImlkZWEtY3JlYXRlLWRlc2NyaXB0aW9uXFxcIiBuYW1lPVxcXCJkZXNjcmlwdGlvblxcXCI+PC90ZXh0YXJlYT5cXG5cXHQgICAgICAgIDwvZGl2PlxcblxcdCAgICAgICAgXFxuXFx0ICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLXNlY3Rpb24gdGlsZS1zZWN0aW9uLWJ1dHRvbi1saXN0XFxcIj5cXG5cXHQgICAgICAgICAgICA8YSBjbGFzcz1cXFwicHVsbC1yaWdodCByb3VuZGVkLWJ1dHRvbiBidXR0b24tY29sb3ItYWN0aW9uIHRyaWdnZXItY3JlYXRlLWlkZWEtc3VibWl0XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbi1pbm5lclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJOZXh0XCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgICAgICAgIDwvYT5cXG4gICAgICAgICAgICAgICAgPGEgY2xhc3M9XFxcInB1bGwtcmlnaHQgcm91bmRlZC1idXR0b24gYnV0dG9uLWFjdGlvbiB0cmlnZ2VyLW1vYmlsZS1pZGVhLWJhY2sgbW9iaWxlLW9ubHlcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uLWlubmVyXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkJhY2sgdG8gbG9jYXRpb24gc2VsZWN0aW9uXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgICAgICAgIDwvYT5cXG5cXHQgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9kaXY+XFxuICAgIFwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5yZXR1cm4ge1xuYl90aXRsZTogYl90aXRsZSxcbmJfZm9ybTogYl9mb3JtLFxucm9vdDogcm9vdFxufTtcblxufSkoKTtcbn0pKCk7XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHNoaW0obnVuanVja3MsIGVudiwgbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZFtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtY3JlYXRlLWlkZWEuaHRtbFwiXSAsIGRlcGVuZGVuY2llcylcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Nvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtY3JlYXRlLWlkZWEuaHRtbFxuLy8gbW9kdWxlIGlkID0gMjJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIG51bmp1Y2tzID0gcmVxdWlyZShcIm51bmp1Y2tzL2Jyb3dzZXIvbnVuanVja3Mtc2xpbVwiKTtcbnZhciBlbnY7XG5pZiAoIW51bmp1Y2tzLmN1cnJlbnRFbnYpe1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52ID0gbmV3IG51bmp1Y2tzLkVudmlyb25tZW50KFtdLCB1bmRlZmluZWQpO1xufSBlbHNlIHtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudjtcbn1cbnZhciBjb25maWd1cmUgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vLi4vbnVuanVja3MuY29uZmlnLmpzXCIpKGVudik7XG52YXIgZGVwZW5kZW5jaWVzID0gbnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyB8fCAobnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyA9IHt9KTtcblxuXG5cblxudmFyIHNoaW0gPSByZXF1aXJlKFwiL2hvbWUvc2FzY2hhL3ByL2Nvc2lubnVzLWNvcmUvbm9kZV9tb2R1bGVzL251bmp1Y2tzLWxvYWRlci9ydW50aW1lLXNoaW1cIik7XG5cblxuKGZ1bmN0aW9uKCkgeyhudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkID0gbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZCB8fCB7fSlbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL2luY2x1ZGUvbWFjcm9zLmh0bWxcIl0gPSAoZnVuY3Rpb24oKSB7XG5mdW5jdGlvbiByb290KGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG52YXIgcGFyZW50VGVtcGxhdGUgPSBudWxsO1xudmFyIG1hY3JvX3RfMSA9IHJ1bnRpbWUubWFrZU1hY3JvKFxuW1widHlwZVwiXSwgXG5bXCJjbGFzc2VzXCIsIFwic2luZ3VsYXJcIiwgXCJidXR0b25cIiwgXCJ1c2VTdHlsZXNcIiwgXCJjb2xvblwiLCBcInNob3dJY29uXCIsIFwibWluZVwiLCBcImFsbFwiLCBcImNyZWF0ZVwiLCBcIkNPU0lOTlVTX1RSQU5TXCJdLCBcbmZ1bmN0aW9uIChsX3R5cGUsIGt3YXJncykge1xuZnJhbWUgPSBmcmFtZS5wdXNoKHRydWUpO1xua3dhcmdzID0ga3dhcmdzIHx8IHt9O1xuaWYgKGt3YXJncy5oYXNPd25Qcm9wZXJ0eShcImNhbGxlclwiKSkge1xuZnJhbWUuc2V0KFwiY2FsbGVyXCIsIGt3YXJncy5jYWxsZXIpOyB9XG5mcmFtZS5zZXQoXCJ0eXBlXCIsIGxfdHlwZSk7XG5mcmFtZS5zZXQoXCJjbGFzc2VzXCIsIGt3YXJncy5oYXNPd25Qcm9wZXJ0eShcImNsYXNzZXNcIikgPyBrd2FyZ3NbXCJjbGFzc2VzXCJdIDogXCJcIik7XG5mcmFtZS5zZXQoXCJzaW5ndWxhclwiLCBrd2FyZ3MuaGFzT3duUHJvcGVydHkoXCJzaW5ndWxhclwiKSA/IGt3YXJnc1tcInNpbmd1bGFyXCJdIDogMCk7XG5mcmFtZS5zZXQoXCJidXR0b25cIiwga3dhcmdzLmhhc093blByb3BlcnR5KFwiYnV0dG9uXCIpID8ga3dhcmdzW1wiYnV0dG9uXCJdIDogMCk7XG5mcmFtZS5zZXQoXCJ1c2VTdHlsZXNcIiwga3dhcmdzLmhhc093blByb3BlcnR5KFwidXNlU3R5bGVzXCIpID8ga3dhcmdzW1widXNlU3R5bGVzXCJdIDogMSk7XG5mcmFtZS5zZXQoXCJjb2xvblwiLCBrd2FyZ3MuaGFzT3duUHJvcGVydHkoXCJjb2xvblwiKSA/IGt3YXJnc1tcImNvbG9uXCJdIDogMCk7XG5mcmFtZS5zZXQoXCJzaG93SWNvblwiLCBrd2FyZ3MuaGFzT3duUHJvcGVydHkoXCJzaG93SWNvblwiKSA/IGt3YXJnc1tcInNob3dJY29uXCJdIDogMSk7XG5mcmFtZS5zZXQoXCJtaW5lXCIsIGt3YXJncy5oYXNPd25Qcm9wZXJ0eShcIm1pbmVcIikgPyBrd2FyZ3NbXCJtaW5lXCJdIDogZmFsc2UpO1xuZnJhbWUuc2V0KFwiYWxsXCIsIGt3YXJncy5oYXNPd25Qcm9wZXJ0eShcImFsbFwiKSA/IGt3YXJnc1tcImFsbFwiXSA6IGZhbHNlKTtcbmZyYW1lLnNldChcImNyZWF0ZVwiLCBrd2FyZ3MuaGFzT3duUHJvcGVydHkoXCJjcmVhdGVcIikgPyBrd2FyZ3NbXCJjcmVhdGVcIl0gOiBmYWxzZSk7XG5mcmFtZS5zZXQoXCJDT1NJTk5VU19UUkFOU1wiLCBrd2FyZ3MuaGFzT3duUHJvcGVydHkoXCJDT1NJTk5VU19UUkFOU1wiKSA/IGt3YXJnc1tcIkNPU0lOTlVTX1RSQU5TXCJdIDoge30pO1xudmFyIHRfMiA9IFwiXCI7dF8yICs9IFwiXFxuICAgIDxzcGFuIGNsYXNzPVxcXCJcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwidXNlU3R5bGVzXCIpID09IDEpIHtcbnRfMiArPSBcInJlc3VsdC10eXBlLXNwYW4gXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImJ1dHRvblwiKSkge1xudF8yICs9IFwiYnV0dG9uXCI7XG47XG59XG5lbHNlIHtcbnRfMiArPSBcImFwcGx5XCI7XG47XG59XG50XzIgKz0gXCItY29sb3ItXCI7XG50XzIgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGxfdHlwZSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG47XG59XG50XzIgKz0gXCIgXCI7XG50XzIgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY2xhc3Nlc1wiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG50XzIgKz0gXCJcXFwiPlxcbiAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm1pbmVcIikpIHtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgIFwiO1xuaWYobF90eXBlID09IFwicGVvcGxlXCIpIHtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2hvd0ljb25cIikgPT0gMSkge1xudF8yICs9IFwiPGkgY2xhc3M9XFxcImZhIGZhLXVzZXJcXFwiPjwvaT5cIjtcbjtcbn1cbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbnRfMiArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJNeSBVc2Vyc1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29sb25cIikgPT0gMSkge1xudF8yICs9IFwiOlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbmlmKGxfdHlwZSA9PSBcImV2ZW50c1wiKSB7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNob3dJY29uXCIpID09IDEpIHtcbnRfMiArPSBcIjxpIGNsYXNzPVxcXCJmYSBmYS1jYWxlbmRhclxcXCI+PC9pPlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIk15IEV2ZW50c1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29sb25cIikgPT0gMSkge1xudF8yICs9IFwiOlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbmlmKGxfdHlwZSA9PSBcInByb2plY3RzXCIpIHtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2hvd0ljb25cIikgPT0gMSkge1xudF8yICs9IFwiPGkgY2xhc3M9XFxcImZhIGZhLWdyb3VwXFxcIj48L2k+XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiTXkgUHJvamVjdHNcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvbG9uXCIpID09IDEpIHtcbnRfMiArPSBcIjpcIjtcbjtcbn1cbnRfMiArPSBcIlxcbiAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5pZihsX3R5cGUgPT0gXCJncm91cHNcIikge1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzaG93SWNvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI8aSBjbGFzcz1cXFwiZmEgZmEtc2l0ZW1hcFxcXCI+PC9pPlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIk15IEdyb3Vwc1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29sb25cIikgPT0gMSkge1xudF8yICs9IFwiOlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbmlmKGxfdHlwZSA9PSBcImNvbmZlcmVuY2VzXCIpIHtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2hvd0ljb25cIikgPT0gMSkge1xudF8yICs9IFwiPGkgY2xhc3M9XFxcImZhIGZhLWNhbGVuZGFyXFxcIj48L2k+XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIkNPU0lOTlVTX1RSQU5TXCIpKSxcIkNPU0lOTlVTX1RSQU5TX01ZX0NPTkZFUkVOQ0VTXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29sb25cIikgPT0gMSkge1xudF8yICs9IFwiOlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbmlmKGxfdHlwZSA9PSBcImlkZWFzXCIpIHtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2hvd0ljb25cIikgPT0gMSkge1xudF8yICs9IFwiPGkgY2xhc3M9XFxcImZhIGZhLWxpZ2h0YnVsYi1vXFxcIj48L2k+XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiTXkgSWRlYXNcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvbG9uXCIpID09IDEpIHtcbnRfMiArPSBcIjpcIjtcbjtcbn1cbnRfMiArPSBcIlxcbiAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5pZihsX3R5cGUgPT0gXCJvcmdhbml6YXRpb25zXCIpIHtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2hvd0ljb25cIikgPT0gMSkge1xudF8yICs9IFwiPGkgY2xhc3M9XFxcImZhIGZhLWJ1aWxkaW5nXFxcIj48L2k+XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiTXkgT3JnYW5pemF0aW9uc1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29sb25cIikgPT0gMSkge1xudF8yICs9IFwiOlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbmlmKGxfdHlwZSA9PSBcImNsb3VkZmlsZXNcIikge1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzaG93SWNvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI8aSBjbGFzcz1cXFwiZmEgZmEtY2xvdWRcXFwiPjwvaT5cIjtcbjtcbn1cbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbnRfMiArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJNeSBDbG91ZCBGaWxlc1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29sb25cIikgPT0gMSkge1xudF8yICs9IFwiOlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgXCI7XG47XG59XG47XG59XG47XG59XG47XG59XG47XG59XG47XG59XG47XG59XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImFsbFwiKSkge1xudF8yICs9IFwiXFxuICAgICAgICAgICAgXCI7XG5pZihsX3R5cGUgPT0gXCJwZW9wbGVcIikge1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzaG93SWNvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI8aSBjbGFzcz1cXFwiZmEgZmEtdXNlclxcXCI+PC9pPlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkFsbCBVc2Vyc1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29sb25cIikgPT0gMSkge1xudF8yICs9IFwiOlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbmlmKGxfdHlwZSA9PSBcImV2ZW50c1wiKSB7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNob3dJY29uXCIpID09IDEpIHtcbnRfMiArPSBcIjxpIGNsYXNzPVxcXCJmYSBmYS1jYWxlbmRhclxcXCI+PC9pPlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkFsbCBFdmVudHNcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvbG9uXCIpID09IDEpIHtcbnRfMiArPSBcIjpcIjtcbjtcbn1cbnRfMiArPSBcIlxcbiAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5pZihsX3R5cGUgPT0gXCJwcm9qZWN0c1wiKSB7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNob3dJY29uXCIpID09IDEpIHtcbnRfMiArPSBcIjxpIGNsYXNzPVxcXCJmYSBmYS1ncm91cFxcXCI+PC9pPlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkFsbCBQcm9qZWN0c1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29sb25cIikgPT0gMSkge1xudF8yICs9IFwiOlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbmlmKGxfdHlwZSA9PSBcImdyb3Vwc1wiKSB7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNob3dJY29uXCIpID09IDEpIHtcbnRfMiArPSBcIjxpIGNsYXNzPVxcXCJmYSBmYS1zaXRlbWFwXFxcIj48L2k+XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiQWxsIEdyb3Vwc1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29sb25cIikgPT0gMSkge1xudF8yICs9IFwiOlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbmlmKGxfdHlwZSA9PSBcImNvbmZlcmVuY2VzXCIpIHtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2hvd0ljb25cIikgPT0gMSkge1xudF8yICs9IFwiPGkgY2xhc3M9XFxcImZhIGZhLWNhbGVuZGFyXFxcIj48L2k+XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIkNPU0lOTlVTX1RSQU5TXCIpKSxcIkNPU0lOTlVTX1RSQU5TX0FMTF9DT05GRVJFTkNFU1wiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvbG9uXCIpID09IDEpIHtcbnRfMiArPSBcIjpcIjtcbjtcbn1cbnRfMiArPSBcIlxcbiAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5pZihsX3R5cGUgPT0gXCJpZGVhc1wiKSB7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNob3dJY29uXCIpID09IDEpIHtcbnRfMiArPSBcIjxpIGNsYXNzPVxcXCJmYSBmYS1saWdodGJ1bGItb1xcXCI+PC9pPlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkFsbCBJZGVhc1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29sb25cIikgPT0gMSkge1xudF8yICs9IFwiOlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbmlmKGxfdHlwZSA9PSBcIm9yZ2FuaXphdGlvbnNcIikge1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzaG93SWNvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI8aSBjbGFzcz1cXFwiZmEgZmEtYnVpbGRpbmdcXFwiPjwvaT5cIjtcbjtcbn1cbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbnRfMiArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJBbGwgT3JnYW5pemF0aW9uc1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29sb25cIikgPT0gMSkge1xudF8yICs9IFwiOlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbmlmKGxfdHlwZSA9PSBcImNsb3VkZmlsZXNcIikge1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzaG93SWNvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI8aSBjbGFzcz1cXFwiZmEgZmEtY2xvdWRcXFwiPjwvaT5cIjtcbjtcbn1cbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbnRfMiArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJDbG91ZCBGaWxlc1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29sb25cIikgPT0gMSkge1xudF8yICs9IFwiOlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgXCI7XG47XG59XG47XG59XG47XG59XG47XG59XG47XG59XG47XG59XG47XG59XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNpbmd1bGFyXCIpKSB7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbmlmKGxfdHlwZSA9PSBcInBlb3BsZVwiKSB7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNob3dJY29uXCIpID09IDEpIHtcbnRfMiArPSBcIjxpIGNsYXNzPVxcXCJmYSBmYS11c2VyXFxcIj48L2k+XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiVXNlclwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29sb25cIikgPT0gMSkge1xudF8yICs9IFwiOlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbmlmKGxfdHlwZSA9PSBcImV2ZW50c1wiKSB7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNob3dJY29uXCIpID09IDEpIHtcbnRfMiArPSBcIjxpIGNsYXNzPVxcXCJmYSBmYS1jYWxlbmRhclxcXCI+PC9pPlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkV2ZW50XCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb2xvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI6XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xuaWYobF90eXBlID09IFwicHJvamVjdHNcIikge1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzaG93SWNvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI8aSBjbGFzcz1cXFwiZmEgZmEtZ3JvdXBcXFwiPjwvaT5cIjtcbjtcbn1cbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbnRfMiArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJQcm9qZWN0XCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb2xvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI6XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xuaWYobF90eXBlID09IFwiZ3JvdXBzXCIpIHtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2hvd0ljb25cIikgPT0gMSkge1xudF8yICs9IFwiPGkgY2xhc3M9XFxcImZhIGZhLXNpdGVtYXBcXFwiPjwvaT5cIjtcbjtcbn1cbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbnRfMiArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJHcm91cFwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29sb25cIikgPT0gMSkge1xudF8yICs9IFwiOlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbmlmKGxfdHlwZSA9PSBcImNvbmZlcmVuY2VzXCIpIHtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2hvd0ljb25cIikgPT0gMSkge1xudF8yICs9IFwiPGkgY2xhc3M9XFxcImZhIGZhLWNhbGVuZGFyXFxcIj48L2k+XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIkNPU0lOTlVTX1RSQU5TXCIpKSxcIkNPU0lOTlVTX1RSQU5TX0NPTkZFUkVOQ0VcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb2xvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI6XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xuaWYobF90eXBlID09IFwiaWRlYXNcIikge1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzaG93SWNvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI8aSBjbGFzcz1cXFwiZmEgZmEtbGlnaHRidWxiLW9cXFwiPjwvaT5cIjtcbjtcbn1cbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbnRfMiArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJJZGVhXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb2xvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI6XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xuaWYobF90eXBlID09IFwib3JnYW5pemF0aW9uc1wiKSB7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNob3dJY29uXCIpID09IDEpIHtcbnRfMiArPSBcIjxpIGNsYXNzPVxcXCJmYSBmYS1idWlsZGluZ1xcXCI+PC9pPlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIk9yZ2FuaXphdGlvblwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29sb25cIikgPT0gMSkge1xudF8yICs9IFwiOlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbmlmKGxfdHlwZSA9PSBcImNsb3VkZmlsZXNcIikge1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzaG93SWNvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI8aSBjbGFzcz1cXFwiZmEgZmEtY2xvdWRcXFwiPjwvaT5cIjtcbjtcbn1cbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbnRfMiArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJDbG91ZCBGaWxlXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb2xvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI6XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbjtcbn1cbjtcbn1cbjtcbn1cbjtcbn1cbjtcbn1cbjtcbn1cbjtcbn1cbjtcbn1cbnRfMiArPSBcIlxcbiAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY3JlYXRlXCIpKSB7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbmlmKGxfdHlwZSA9PSBcInBlb3BsZVwiKSB7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNob3dJY29uXCIpID09IDEpIHtcbnRfMiArPSBcIjxpIGNsYXNzPVxcXCJmYSBmYS11c2VyXFxcIj48L2k+XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiQ3JlYXRlIFVzZXJcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvbG9uXCIpID09IDEpIHtcbnRfMiArPSBcIjpcIjtcbjtcbn1cbnRfMiArPSBcIlxcbiAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5pZihsX3R5cGUgPT0gXCJldmVudHNcIikge1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzaG93SWNvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI8aSBjbGFzcz1cXFwiZmEgZmEtY2FsZW5kYXJcXFwiPjwvaT5cIjtcbjtcbn1cbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbnRfMiArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJDcmVhdGUgRXZlbnRcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvbG9uXCIpID09IDEpIHtcbnRfMiArPSBcIjpcIjtcbjtcbn1cbnRfMiArPSBcIlxcbiAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5pZihsX3R5cGUgPT0gXCJwcm9qZWN0c1wiKSB7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNob3dJY29uXCIpID09IDEpIHtcbnRfMiArPSBcIjxpIGNsYXNzPVxcXCJmYSBmYS1ncm91cFxcXCI+PC9pPlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkNyZWF0ZSBQcm9qZWN0XCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb2xvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI6XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xuaWYobF90eXBlID09IFwiZ3JvdXBzXCIpIHtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2hvd0ljb25cIikgPT0gMSkge1xudF8yICs9IFwiPGkgY2xhc3M9XFxcImZhIGZhLXNpdGVtYXBcXFwiPjwvaT5cIjtcbjtcbn1cbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbnRfMiArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJDcmVhdGUgR3JvdXBcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvbG9uXCIpID09IDEpIHtcbnRfMiArPSBcIjpcIjtcbjtcbn1cbnRfMiArPSBcIlxcbiAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5pZihsX3R5cGUgPT0gXCJjb25mZXJlbmNlc1wiKSB7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNob3dJY29uXCIpID09IDEpIHtcbnRfMiArPSBcIjxpIGNsYXNzPVxcXCJmYSBmYS1jYWxlbmRhclxcXCI+PC9pPlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJDT1NJTk5VU19UUkFOU1wiKSksXCJDT1NJTk5VU19UUkFOU19DUkVBVEVfQ09ORkVSRU5DRVwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvbG9uXCIpID09IDEpIHtcbnRfMiArPSBcIjpcIjtcbjtcbn1cbnRfMiArPSBcIlxcbiAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5pZihsX3R5cGUgPT0gXCJpZGVhc1wiKSB7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNob3dJY29uXCIpID09IDEpIHtcbnRfMiArPSBcIjxpIGNsYXNzPVxcXCJmYSBmYS1saWdodGJ1bGItb1xcXCI+PC9pPlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkNyZWF0ZSBJZGVhXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb2xvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI6XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xuaWYobF90eXBlID09IFwib3JnYW5pemF0aW9uc1wiKSB7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNob3dJY29uXCIpID09IDEpIHtcbnRfMiArPSBcIjxpIGNsYXNzPVxcXCJmYSBmYS1idWlsZGluZ1xcXCI+PC9pPlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkNyZWF0ZSBPcmdhbml6YXRpb25cIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvbG9uXCIpID09IDEpIHtcbnRfMiArPSBcIjpcIjtcbjtcbn1cbnRfMiArPSBcIlxcbiAgICAgICAgICAgIFwiO1xuO1xufVxuO1xufVxuO1xufVxuO1xufVxuO1xufVxuO1xufVxuO1xufVxudF8yICs9IFwiXFxuICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xudF8yICs9IFwiXFxuICAgICAgICAgICAgXCI7XG5pZihsX3R5cGUgPT0gXCJwZW9wbGVcIikge1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzaG93SWNvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI8aSBjbGFzcz1cXFwiZmEgZmEtdXNlclxcXCI+PC9pPlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIlBlb3BsZVwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29sb25cIikgPT0gMSkge1xudF8yICs9IFwiOlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbmlmKGxfdHlwZSA9PSBcImV2ZW50c1wiKSB7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNob3dJY29uXCIpID09IDEpIHtcbnRfMiArPSBcIjxpIGNsYXNzPVxcXCJmYSBmYS1jYWxlbmRhclxcXCI+PC9pPlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkV2ZW50c1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29sb25cIikgPT0gMSkge1xudF8yICs9IFwiOlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbmlmKGxfdHlwZSA9PSBcInByb2plY3RzXCIpIHtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2hvd0ljb25cIikgPT0gMSkge1xudF8yICs9IFwiPGkgY2xhc3M9XFxcImZhIGZhLWdyb3VwXFxcIj48L2k+XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiUHJvamVjdHNcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvbG9uXCIpID09IDEpIHtcbnRfMiArPSBcIjpcIjtcbjtcbn1cbnRfMiArPSBcIlxcbiAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5pZihsX3R5cGUgPT0gXCJncm91cHNcIikge1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzaG93SWNvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI8aSBjbGFzcz1cXFwiZmEgZmEtc2l0ZW1hcFxcXCI+PC9pPlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8yICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkdyb3Vwc1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29sb25cIikgPT0gMSkge1xudF8yICs9IFwiOlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbmlmKGxfdHlwZSA9PSBcImNvbmZlcmVuY2VzXCIpIHtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2hvd0ljb25cIikgPT0gMSkge1xudF8yICs9IFwiPGkgY2xhc3M9XFxcImZhIGZhLWNhbGVuZGFyXFxcIj48L2k+XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIkNPU0lOTlVTX1RSQU5TXCIpKSxcIkNPU0lOTlVTX1RSQU5TX0NPTkZFUkVOQ0VTXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29sb25cIikgPT0gMSkge1xudF8yICs9IFwiOlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbmlmKGxfdHlwZSA9PSBcImlkZWFzXCIpIHtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2hvd0ljb25cIikgPT0gMSkge1xudF8yICs9IFwiPGkgY2xhc3M9XFxcImZhIGZhLWxpZ2h0YnVsYi1vXFxcIj48L2k+XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiSWRlYXNcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvbG9uXCIpID09IDEpIHtcbnRfMiArPSBcIjpcIjtcbjtcbn1cbnRfMiArPSBcIlxcbiAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5pZihsX3R5cGUgPT0gXCJvcmdhbml6YXRpb25zXCIpIHtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2hvd0ljb25cIikgPT0gMSkge1xudF8yICs9IFwiPGkgY2xhc3M9XFxcImZhIGZhLWJ1aWxkaW5nXFxcIj48L2k+XCI7XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzIgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiT3JnYW5pemF0aW9uc1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29sb25cIikgPT0gMSkge1xudF8yICs9IFwiOlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbmlmKGxfdHlwZSA9PSBcImNsb3VkZmlsZXNcIikge1xudF8yICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzaG93SWNvblwiKSA9PSAxKSB7XG50XzIgKz0gXCI8aSBjbGFzcz1cXFwiZmEgZmEtY2xvdWRcXFwiPjwvaT5cIjtcbjtcbn1cbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbnRfMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbnRfMiArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJDbG91ZCBGaWxlc1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29sb25cIikgPT0gMSkge1xudF8yICs9IFwiOlwiO1xuO1xufVxudF8yICs9IFwiXFxuICAgICAgICAgICAgXCI7XG47XG59XG47XG59XG47XG59XG47XG59XG47XG59XG47XG59XG47XG59XG47XG59XG50XzIgKz0gXCJcXG4gICAgICAgIFwiO1xuO1xufVxuO1xufVxuO1xufVxuO1xufVxudF8yICs9IFwiXFxuICAgIDwvc3Bhbj5cXG5cIjtcbjtcbmZyYW1lID0gZnJhbWUucG9wKCk7XG5yZXR1cm4gbmV3IHJ1bnRpbWUuU2FmZVN0cmluZyh0XzIpO1xufSk7XG5jb250ZXh0LmFkZEV4cG9ydChcInR5cGVMYWJlbFwiKTtcbmNvbnRleHQuc2V0VmFyaWFibGUoXCJ0eXBlTGFiZWxcIiwgbWFjcm9fdF8xKTtcbm91dHB1dCArPSBcIlxcblxcblwiO1xudmFyIG1hY3JvX3RfMyA9IHJ1bnRpbWUubWFrZU1hY3JvKFxuW1wicG9ydGFsXCIsIFwic2x1Z1wiLCBcIm5hbWVcIiwgXCJ0eXBlXCJdLCBcbltcImdyb3VwX3NsdWdcIiwgXCJpbmxpbmVfb25seVwiXSwgXG5mdW5jdGlvbiAobF9wb3J0YWwsIGxfc2x1ZywgbF9uYW1lLCBsX3R5cGUsIGt3YXJncykge1xuZnJhbWUgPSBmcmFtZS5wdXNoKHRydWUpO1xua3dhcmdzID0ga3dhcmdzIHx8IHt9O1xuaWYgKGt3YXJncy5oYXNPd25Qcm9wZXJ0eShcImNhbGxlclwiKSkge1xuZnJhbWUuc2V0KFwiY2FsbGVyXCIsIGt3YXJncy5jYWxsZXIpOyB9XG5mcmFtZS5zZXQoXCJwb3J0YWxcIiwgbF9wb3J0YWwpO1xuZnJhbWUuc2V0KFwic2x1Z1wiLCBsX3NsdWcpO1xuZnJhbWUuc2V0KFwibmFtZVwiLCBsX25hbWUpO1xuZnJhbWUuc2V0KFwidHlwZVwiLCBsX3R5cGUpO1xuZnJhbWUuc2V0KFwiZ3JvdXBfc2x1Z1wiLCBrd2FyZ3MuaGFzT3duUHJvcGVydHkoXCJncm91cF9zbHVnXCIpID8ga3dhcmdzW1wiZ3JvdXBfc2x1Z1wiXSA6IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibnVsbFwiKSk7XG5mcmFtZS5zZXQoXCJpbmxpbmVfb25seVwiLCBrd2FyZ3MuaGFzT3duUHJvcGVydHkoXCJpbmxpbmVfb25seVwiKSA/IGt3YXJnc1tcImlubGluZV9vbmx5XCJdIDogMCk7XG52YXIgdF80ID0gXCJcIjt0XzQgKz0gXCJcXG4gICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImlubGluZV9vbmx5XCIpID09IDEpIHtcbnRfNCArPSBcIlxcbiAgICAgICAgZGF0YS1wb3J0YWw9XFxcIlwiO1xudF80ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShsX3BvcnRhbCwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG50XzQgKz0gXCJcXFwiIGRhdGEtc2x1Zz1cXFwiXCI7XG5pZihsX3R5cGUgPT0gXCJldmVudHNcIiAmJiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImdyb3VwX3NsdWdcIikpIHtcbnRfNCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJncm91cF9zbHVnXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbnRfNCArPSBcIipcIjtcbjtcbn1cbnRfNCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUobF9zbHVnLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbnRfNCArPSBcIlxcXCIgZGF0YS10eXBlPVxcXCJcIjtcbnRfNCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUobF90eXBlLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbnRfNCArPSBcIlxcXCJcXG4gICAgXCI7XG47XG59XG5lbHNlIHtcbnRfNCArPSBcIlxcbiAgICAgICAgPGEgY2xhc3M9XFxcInJlc3VsdC1saW5rXFxcIiBkYXRhLXBvcnRhbD1cXFwiXCI7XG50XzQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGxfcG9ydGFsLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbnRfNCArPSBcIlxcXCIgZGF0YS1zbHVnPVxcXCJcIjtcbmlmKGxfdHlwZSA9PSBcImV2ZW50c1wiICYmIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZ3JvdXBfc2x1Z1wiKSkge1xudF80ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImdyb3VwX3NsdWdcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xudF80ICs9IFwiKlwiO1xuO1xufVxudF80ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShsX3NsdWcsIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xudF80ICs9IFwiXFxcIiBkYXRhLXR5cGU9XFxcIlwiO1xudF80ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShsX3R5cGUsIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xudF80ICs9IFwiXFxcIj5cIjtcbnRfNCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUobF9uYW1lLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbnRfNCArPSBcIjwvYT5cXG4gICAgXCI7XG47XG59XG50XzQgKz0gXCJcXG5cIjtcbjtcbmZyYW1lID0gZnJhbWUucG9wKCk7XG5yZXR1cm4gbmV3IHJ1bnRpbWUuU2FmZVN0cmluZyh0XzQpO1xufSk7XG5jb250ZXh0LmFkZEV4cG9ydChcInJlc3VsdExpbmtcIik7XG5jb250ZXh0LnNldFZhcmlhYmxlKFwicmVzdWx0TGlua1wiLCBtYWNyb190XzMpO1xub3V0cHV0ICs9IFwiXFxuXFxuXCI7XG52YXIgbWFjcm9fdF81ID0gcnVudGltZS5tYWtlTWFjcm8oXG5bXCJwb3J0YWxcIiwgXCJzbHVnXCIsIFwidGl0bGVcIiwgXCJ0eXBlXCJdLCBcbltcImltYWdlVXJsXCIsIFwic2xvdDFkYXRhXCIsIFwic2xvdDFpY29uXCIsIFwic2xvdDJkYXRhXCIsIFwic2xvdDJpY29uXCIsIFwiY29zaW5udXNfYWN0aXZlX3VzZXJcIiwgXCJncm91cF9zbHVnXCJdLCBcbmZ1bmN0aW9uIChsX3BvcnRhbCwgbF9zbHVnLCBsX3RpdGxlLCBsX3R5cGUsIGt3YXJncykge1xuZnJhbWUgPSBmcmFtZS5wdXNoKHRydWUpO1xua3dhcmdzID0ga3dhcmdzIHx8IHt9O1xuaWYgKGt3YXJncy5oYXNPd25Qcm9wZXJ0eShcImNhbGxlclwiKSkge1xuZnJhbWUuc2V0KFwiY2FsbGVyXCIsIGt3YXJncy5jYWxsZXIpOyB9XG5mcmFtZS5zZXQoXCJwb3J0YWxcIiwgbF9wb3J0YWwpO1xuZnJhbWUuc2V0KFwic2x1Z1wiLCBsX3NsdWcpO1xuZnJhbWUuc2V0KFwidGl0bGVcIiwgbF90aXRsZSk7XG5mcmFtZS5zZXQoXCJ0eXBlXCIsIGxfdHlwZSk7XG5mcmFtZS5zZXQoXCJpbWFnZVVybFwiLCBrd2FyZ3MuaGFzT3duUHJvcGVydHkoXCJpbWFnZVVybFwiKSA/IGt3YXJnc1tcImltYWdlVXJsXCJdIDogcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJudWxsXCIpKTtcbmZyYW1lLnNldChcInNsb3QxZGF0YVwiLCBrd2FyZ3MuaGFzT3duUHJvcGVydHkoXCJzbG90MWRhdGFcIikgPyBrd2FyZ3NbXCJzbG90MWRhdGFcIl0gOiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm51bGxcIikpO1xuZnJhbWUuc2V0KFwic2xvdDFpY29uXCIsIGt3YXJncy5oYXNPd25Qcm9wZXJ0eShcInNsb3QxaWNvblwiKSA/IGt3YXJnc1tcInNsb3QxaWNvblwiXSA6IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibnVsbFwiKSk7XG5mcmFtZS5zZXQoXCJzbG90MmRhdGFcIiwga3dhcmdzLmhhc093blByb3BlcnR5KFwic2xvdDJkYXRhXCIpID8ga3dhcmdzW1wic2xvdDJkYXRhXCJdIDogcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJudWxsXCIpKTtcbmZyYW1lLnNldChcInNsb3QyaWNvblwiLCBrd2FyZ3MuaGFzT3duUHJvcGVydHkoXCJzbG90Mmljb25cIikgPyBrd2FyZ3NbXCJzbG90Mmljb25cIl0gOiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm51bGxcIikpO1xuZnJhbWUuc2V0KFwiY29zaW5udXNfYWN0aXZlX3VzZXJcIiwga3dhcmdzLmhhc093blByb3BlcnR5KFwiY29zaW5udXNfYWN0aXZlX3VzZXJcIikgPyBrd2FyZ3NbXCJjb3Npbm51c19hY3RpdmVfdXNlclwiXSA6IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibnVsbFwiKSk7XG5mcmFtZS5zZXQoXCJncm91cF9zbHVnXCIsIGt3YXJncy5oYXNPd25Qcm9wZXJ0eShcImdyb3VwX3NsdWdcIikgPyBrd2FyZ3NbXCJncm91cF9zbHVnXCJdIDogcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJudWxsXCIpKTtcbnZhciB0XzYgPSBcIlwiO3RfNiArPSBcIlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjYXJkIFwiO1xuaWYobF90eXBlID09IFwicGVvcGxlXCIgJiYgIXJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29zaW5udXNfYWN0aXZlX3VzZXJcIikpIHtcbnRfNiArPSBcIlxcXCIgaHJlZj1cXFwiL3NpZ251cC8/YWNjX3JlcV9tc2c9MSZuZXh0PS9tYXAvXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCJcIjtcbjtcbn1cbmVsc2Uge1xudF82ICs9IFwicmVzdWx0LWxpbmtcXFwiIFwiO1xudF82ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSgobGluZW5vID0gMTc2LCBjb2xubyA9IDE1OSwgcnVudGltZS5jYWxsV3JhcChtYWNyb190XzMsIFwicmVzdWx0TGlua1wiLCBjb250ZXh0LCBbbF9wb3J0YWwsbF9zbHVnLGxfdGl0bGUsbF90eXBlLHJ1bnRpbWUubWFrZUtleXdvcmRBcmdzKHtcImlubGluZV9vbmx5XCI6IDEsXCJncm91cF9zbHVnXCI6IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZ3JvdXBfc2x1Z1wiKX0pXSkpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbjtcbn1cbnRfNiArPSBcIj5cXG4gICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJpbWFnZVVybFwiKSkge1xudF82ICs9IFwiXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY2FyZC1pbWFnZVxcXCI+XFxuICAgICAgICAgICAgICAgIDxpbWcgc3JjPVxcXCJcIjtcbnRfNiArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJpbWFnZVVybFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG50XzYgKz0gXCJcXFwiPlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgXCI7XG47XG59XG50XzYgKz0gXCJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImNhcmQtdGl0bGVcXFwiPlxcbiAgICAgICAgICAgIFwiO1xuaWYobF90eXBlID09IFwicGVvcGxlXCIgJiYgIXJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29zaW5udXNfYWN0aXZlX3VzZXJcIikpIHtcbnRfNiArPSBcIlxcbiAgICAgICAgICAgICAgICA8YSBocmVmPVxcXCIvc2lnbnVwLz9hY2NfcmVxX21zZz0xJm5leHQ9L21hcC9cXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIj5cIjtcbnRfNiArPSBydW50aW1lLnN1cHByZXNzVmFsdWUobF90aXRsZSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG50XzYgKz0gXCI8L2E+XFxuICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbnRfNiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbnRfNiArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoKGxpbmVubyA9IDE4NiwgY29sbm8gPSAyNywgcnVudGltZS5jYWxsV3JhcChtYWNyb190XzMsIFwicmVzdWx0TGlua1wiLCBjb250ZXh0LCBbbF9wb3J0YWwsbF9zbHVnLGxfdGl0bGUsbF90eXBlLHJ1bnRpbWUubWFrZUtleXdvcmRBcmdzKHtcImdyb3VwX3NsdWdcIjogcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJncm91cF9zbHVnXCIpfSldKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xudF82ICs9IFwiXFxuICAgICAgICAgICAgXCI7XG47XG59XG50XzYgKz0gXCJcXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiY2FyZC1kYXRhXFxcIj5cXG4gICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2xvdDFkYXRhXCIpIHx8IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2xvdDJkYXRhXCIpKSB7XG50XzYgKz0gXCJcXG4gICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2xvdDFkYXRhXCIpICYmIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2xvdDFpY29uXCIpKSB7XG50XzYgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIFwiO1xudF82ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNsb3QxaWNvblwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG50XzYgKz0gXCJcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgICAgPHNwYW4+XCI7XG50XzYgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2xvdDFkYXRhXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbnRfNiArPSBcIjwvc3Bhbj5cXG4gICAgICAgICAgICAgICBcIjtcbjtcbn1cbnRfNiArPSBcIlxcbiAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzbG90MmRhdGFcIikgJiYgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzbG90Mmljb25cIikpIHtcbnRfNiArPSBcIlxcbiAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgXCI7XG50XzYgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2xvdDJpY29uXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbnRfNiArPSBcIlxcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICAgICA8c3Bhbj5cIjtcbnRfNiArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzbG90MmRhdGFcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xudF82ICs9IFwiPC9zcGFuPlxcbiAgICAgICAgICAgICAgIFwiO1xuO1xufVxudF82ICs9IFwiXFxuICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbnRfNiArPSBcIlxcbiAgICAgICAgICAgICAgIDxwPjwvcD5cXG4gICAgICAgICAgICBcIjtcbjtcbn1cbnRfNiArPSBcIlxcbiAgICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcblwiO1xuO1xuZnJhbWUgPSBmcmFtZS5wb3AoKTtcbnJldHVybiBuZXcgcnVudGltZS5TYWZlU3RyaW5nKHRfNik7XG59KTtcbmNvbnRleHQuYWRkRXhwb3J0KFwiaXRlbUNhcmRcIik7XG5jb250ZXh0LnNldFZhcmlhYmxlKFwiaXRlbUNhcmRcIiwgbWFjcm9fdF81KTtcbm91dHB1dCArPSBcIlxcblxcblxcblwiO1xudmFyIG1hY3JvX3RfNyA9IHJ1bnRpbWUubWFrZU1hY3JvKFxuW1widGV4dFwiLCBcInVybFwiLCBcImljb25cIl0sIFxuW1wic3VidGV4dFwiLCBcImFubm90YXRpb25cIiwgXCJhbm5vdGF0aW9uSWNvblwiLCBcImluY2x1ZGVVbmRlcmRyb3BcIiwgXCJpc19lbXBoYXNpemVkXCIsIFwiaW5hY3RpdmVcIiwgXCJwYWRkZWRcIiwgXCJtYWtlU2FmZVwiXSwgXG5mdW5jdGlvbiAobF90ZXh0LCBsX3VybCwgbF9pY29uLCBrd2FyZ3MpIHtcbmZyYW1lID0gZnJhbWUucHVzaCh0cnVlKTtcbmt3YXJncyA9IGt3YXJncyB8fCB7fTtcbmlmIChrd2FyZ3MuaGFzT3duUHJvcGVydHkoXCJjYWxsZXJcIikpIHtcbmZyYW1lLnNldChcImNhbGxlclwiLCBrd2FyZ3MuY2FsbGVyKTsgfVxuZnJhbWUuc2V0KFwidGV4dFwiLCBsX3RleHQpO1xuZnJhbWUuc2V0KFwidXJsXCIsIGxfdXJsKTtcbmZyYW1lLnNldChcImljb25cIiwgbF9pY29uKTtcbmZyYW1lLnNldChcInN1YnRleHRcIiwga3dhcmdzLmhhc093blByb3BlcnR5KFwic3VidGV4dFwiKSA/IGt3YXJnc1tcInN1YnRleHRcIl0gOiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm51bGxcIikpO1xuZnJhbWUuc2V0KFwiYW5ub3RhdGlvblwiLCBrd2FyZ3MuaGFzT3duUHJvcGVydHkoXCJhbm5vdGF0aW9uXCIpID8ga3dhcmdzW1wiYW5ub3RhdGlvblwiXSA6IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibnVsbFwiKSk7XG5mcmFtZS5zZXQoXCJhbm5vdGF0aW9uSWNvblwiLCBrd2FyZ3MuaGFzT3duUHJvcGVydHkoXCJhbm5vdGF0aW9uSWNvblwiKSA/IGt3YXJnc1tcImFubm90YXRpb25JY29uXCJdIDogcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJudWxsXCIpKTtcbmZyYW1lLnNldChcImluY2x1ZGVVbmRlcmRyb3BcIiwga3dhcmdzLmhhc093blByb3BlcnR5KFwiaW5jbHVkZVVuZGVyZHJvcFwiKSA/IGt3YXJnc1tcImluY2x1ZGVVbmRlcmRyb3BcIl0gOiBmYWxzZSk7XG5mcmFtZS5zZXQoXCJpc19lbXBoYXNpemVkXCIsIGt3YXJncy5oYXNPd25Qcm9wZXJ0eShcImlzX2VtcGhhc2l6ZWRcIikgPyBrd2FyZ3NbXCJpc19lbXBoYXNpemVkXCJdIDogZmFsc2UpO1xuZnJhbWUuc2V0KFwiaW5hY3RpdmVcIiwga3dhcmdzLmhhc093blByb3BlcnR5KFwiaW5hY3RpdmVcIikgPyBrd2FyZ3NbXCJpbmFjdGl2ZVwiXSA6IGZhbHNlKTtcbmZyYW1lLnNldChcInBhZGRlZFwiLCBrd2FyZ3MuaGFzT3duUHJvcGVydHkoXCJwYWRkZWRcIikgPyBrd2FyZ3NbXCJwYWRkZWRcIl0gOiBmYWxzZSk7XG5mcmFtZS5zZXQoXCJtYWtlU2FmZVwiLCBrd2FyZ3MuaGFzT3duUHJvcGVydHkoXCJtYWtlU2FmZVwiKSA/IGt3YXJnc1tcIm1ha2VTYWZlXCJdIDogdHJ1ZSk7XG52YXIgdF84ID0gXCJcIjt0XzggKz0gXCJcXG4gICAgPGxpPlxcblxcdFxcdDxhIGNsYXNzPVxcXCJsaXN0LWl0ZW0gXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInBhZGRlZFwiKSkge1xudF84ICs9IFwibGlzdC1pdGVtLXBhZGRlZCBcIjtcbjtcbn1cbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiaW5hY3RpdmVcIikpIHtcbnRfOCArPSBcImluYWN0aXZlIG5vLXNlbGVjdCBcIjtcbjtcbn1cbnRfOCArPSBcIlxcXCIgaHJlZj1cXFwiXCI7XG50XzggKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGxfdXJsLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbnRfOCArPSBcIlxcXCIgcm9sZT1cXFwiYnV0dG9uXFxcIiB0aXRsZWRieT1cXFwiXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInN1YnRleHRcIikpIHtcbnRfOCArPSBcIi5pdGVtLXRleHQtcHJpbWFyeVwiO1xuO1xufVxuZWxzZSB7XG50XzggKz0gXCIuaXRlbS10ZXh0XCI7XG47XG59XG50XzggKz0gXCJcXFwiPiBcXG5cXHRcXHRcXHQ8ZGl2IGNsYXNzPVxcXCJpdGVtLWljb24gXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInN1YnRleHRcIikpIHtcbnRfOCArPSBcIml0ZW0taWNvbi1vZmZzZXRcIjtcbjtcbn1cbnRfOCArPSBcIlxcXCI+XFxuICAgIFxcdFxcdFxcdFwiO1xuaWYobF9pY29uICYmIHJ1bnRpbWUuaW5PcGVyYXRvcihcIi9cIixsX2ljb24pKSB7XG50XzggKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVxcXCJcIjtcbnRfOCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUobF9pY29uLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbnRfOCArPSBcIlxcXCI+PC9pbWc+XFxuICAgICAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG50XzggKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYXMgZmEtZncgXCI7XG50XzggKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGxfaWNvbiwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG50XzggKz0gXCJcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgXCI7XG47XG59XG50XzggKz0gXCJcXG4gICAgXFx0XFx0PC9kaXY+XFxuICAgIFxcdFxcdFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzdWJ0ZXh0XCIpKSB7XG50XzggKz0gXCJcXG5cXHQgICAgXFx0XFx0PGRpdiBjbGFzcz1cXFwiaXRlbS10ZXh0IGl0ZW0tdGV4dC1kdWFsXFxcIj5cXG5cXHQgICAgXFx0XFx0XFx0PGRpdiBjbGFzcz1cXFwiaXRlbS10ZXh0LXByaW1hcnkgdGV4dC1ib2xkXFxcIj5cXG5cXHQgICAgXFx0XFx0XFx0XFx0XCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm1ha2VTYWZlXCIpKSB7XG50XzggKz0gXCJcXG5cXHQgICAgXFx0XFx0XFx0XFx0XFx0XCI7XG50XzggKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRGaWx0ZXIoXCJzYWZlXCIpLmNhbGwoY29udGV4dCwgbF90ZXh0KSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG50XzggKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHRcIjtcbjtcbn1cbmVsc2Uge1xudF84ICs9IFwiXFxuXFx0XFx0ICAgIFxcdFxcdFxcdFxcdFwiO1xudF84ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShsX3RleHQsIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xudF84ICs9IFwiIFxcblxcdCAgICBcXHRcXHRcXHRcXHRcIjtcbjtcbn1cbnRfOCArPSBcIlxcbiAgICBcXHRcXHRcXHRcXHQ8L2Rpdj5cXG5cXHQgICAgXFx0XFx0XFx0XCI7XG5pZihydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzdWJ0ZXh0XCIpKSxcImlzX2RhdGVcIikpIHtcbnRfOCArPSBcIlxcblxcdCAgICBcXHRcXHRcXHRcXHQ8ZGl2IGNsYXNzPVxcXCJtb21lbnQtZGF0YS1kYXRlXFxcIiBkYXRhLWRhdGU9XFxcIlwiO1xudF84ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzdWJ0ZXh0XCIpKSxcImRhdGVcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xudF84ICs9IFwiXFxcIj48L2Rpdj5cXG5cXHQgICAgXFx0XFx0XFx0XCI7XG47XG59XG5lbHNlIHtcbnRfOCArPSBcIlxcblxcdCAgICBcXHRcXHRcXHRcXHQ8ZGl2PlxcblxcdFxcdCAgICBcXHRcXHRcXHRcXHRcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibWFrZVNhZmVcIikpIHtcbnRfOCArPSBcIlxcblxcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbnRfOCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEZpbHRlcihcInNhZmVcIikuY2FsbChjb250ZXh0LCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInN1YnRleHRcIikpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbnRfOCArPSBcIlxcblxcdCAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG50XzggKz0gXCJcXG5cXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG50XzggKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic3VidGV4dFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG50XzggKz0gXCIgXFxuXFx0ICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG50XzggKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG5cXHQgICAgXFx0XFx0XFx0XCI7XG47XG59XG50XzggKz0gXCJcXG5cXHQgICAgXFx0XFx0PC9kaXY+XFxuICAgIFxcdFxcdFwiO1xuO1xufVxuZWxzZSB7XG50XzggKz0gXCJcXG4gICAgXFx0XFx0XFx0PGRpdiBjbGFzcz1cXFwiaXRlbS10ZXh0IFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJpc19lbXBoYXNpemVkXCIpKSB7XG50XzggKz0gXCJ0ZXh0LWJvbGRcIjtcbjtcbn1cbnRfOCArPSBcIlxcXCI+XFxuICAgIFxcdFxcdFxcdFxcdFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJtYWtlU2FmZVwiKSkge1xudF84ICs9IFwiXFxuICAgIFxcdFxcdFxcdFxcdFxcdFwiO1xudF84ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RmlsdGVyKFwic2FmZVwiKS5jYWxsKGNvbnRleHQsIGxfdGV4dCksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xudF84ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XCI7XG47XG59XG5lbHNlIHtcbnRfOCArPSBcIlxcblxcdCAgICBcXHRcXHRcXHRcXHRcIjtcbnRfOCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUobF90ZXh0LCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbnRfOCArPSBcIiBcXG4gICAgXFx0XFx0XFx0XFx0XCI7XG47XG59XG50XzggKz0gXCJcXG5cXHQgICAgXFx0XFx0PC9kaXY+XFxuICAgIFxcdFxcdFwiO1xuO1xufVxudF84ICs9IFwiXFxuICAgIFxcdFxcdFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJhbm5vdGF0aW9uXCIpKSB7XG50XzggKz0gXCJcXG4gICAgXFx0XFx0XFx0PGRpdiBjbGFzcz1cXFwicmlnaHQtc2lkZS1hbm5vdGF0aW9uIHRydW5jYXRlZC1vbmVsaW5lXFxcIj5cXG4gICAgXFx0XFx0XFx0XFx0XCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImFubm90YXRpb25JY29uXCIpKSB7XG50XzggKz0gXCJcXG4gICAgXFx0XFx0XFx0XFx0XFx0PGkgY2xhc3M9XFxcImZhcyBmYS1mdyBcIjtcbnRfOCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJhbm5vdGF0aW9uSWNvblwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG50XzggKz0gXCJcXFwiPjwvaT5cXG4gICAgXFx0XFx0XFx0XFx0XCI7XG47XG59XG50XzggKz0gXCJcXG5cXHQgICAgXFx0XFx0XFx0XCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm1ha2VTYWZlXCIpKSB7XG50XzggKz0gXCJcXG4gICAgXFx0XFx0XFx0XFx0XFx0XCI7XG50XzggKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRGaWx0ZXIoXCJzYWZlXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJhbm5vdGF0aW9uXCIpKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG50XzggKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcIjtcbjtcbn1cbmVsc2Uge1xudF84ICs9IFwiXFxuXFx0ICAgIFxcdFxcdFxcdFxcdFwiO1xudF84ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImFubm90YXRpb25cIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xudF84ICs9IFwiIFxcbiAgICBcXHRcXHRcXHRcXHRcIjtcbjtcbn1cbnRfOCArPSBcIlxcblxcdCAgICBcXHRcXHQ8L2Rpdj5cXG4gICAgXFx0XFx0XCI7XG47XG59XG50XzggKz0gXCJcXG4gICAgXFx0XFx0XCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImluY2x1ZGVVbmRlcmRyb3BcIikpIHtcbnRfOCArPSBcIlxcbiAgICBcXHRcXHRcXHQ8ZGl2IGNsYXNzPVxcXCJsaS11bmRlcmRyb3BcXFwiPjwvZGl2PlxcbiAgICBcXHRcXHRcIjtcbjtcbn1cbnRfOCArPSBcIlxcblxcdFxcdDwvYT5cXG5cXHQ8L2xpPlxcblwiO1xuO1xuZnJhbWUgPSBmcmFtZS5wb3AoKTtcbnJldHVybiBuZXcgcnVudGltZS5TYWZlU3RyaW5nKHRfOCk7XG59KTtcbmNvbnRleHQuYWRkRXhwb3J0KFwibGlzdEl0ZW1cIik7XG5jb250ZXh0LnNldFZhcmlhYmxlKFwibGlzdEl0ZW1cIiwgbWFjcm9fdF83KTtcbm91dHB1dCArPSBcIlxcblxcblwiO1xudmFyIG1hY3JvX3RfOSA9IHJ1bnRpbWUubWFrZU1hY3JvKFxuW1wiaXRlbVwiXSwgXG5bXCJtYWtlU2FmZVwiXSwgXG5mdW5jdGlvbiAobF9pdGVtLCBrd2FyZ3MpIHtcbmZyYW1lID0gZnJhbWUucHVzaCh0cnVlKTtcbmt3YXJncyA9IGt3YXJncyB8fCB7fTtcbmlmIChrd2FyZ3MuaGFzT3duUHJvcGVydHkoXCJjYWxsZXJcIikpIHtcbmZyYW1lLnNldChcImNhbGxlclwiLCBrd2FyZ3MuY2FsbGVyKTsgfVxuZnJhbWUuc2V0KFwiaXRlbVwiLCBsX2l0ZW0pO1xuZnJhbWUuc2V0KFwibWFrZVNhZmVcIiwga3dhcmdzLmhhc093blByb3BlcnR5KFwibWFrZVNhZmVcIikgPyBrd2FyZ3NbXCJtYWtlU2FmZVwiXSA6IHRydWUpO1xudmFyIHRfMTAgPSBcIlwiO3RfMTAgKz0gXCJcXG48bGk+XFxuICAgIDxhIGNsYXNzPVxcXCJsaXN0LWl0ZW1cXFwiIGhyZWY9XFxcIlwiO1xudF8xMCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5tZW1iZXJMb29rdXAoKGxfaXRlbSksXCJ1cmxcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xudF8xMCArPSBcIlxcXCIgdGl0bGVkYnk9XFxcIi5pdGVtLXRleHRcXFwiPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiaXRlbS1pY29uXFxcIj5cXG4gICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUubWVtYmVyTG9va3VwKChsX2l0ZW0pLFwiaWNvblwiKSAmJiBydW50aW1lLmluT3BlcmF0b3IoXCIvXCIscnVudGltZS5tZW1iZXJMb29rdXAoKGxfaXRlbSksXCJpY29uXCIpKSkge1xudF8xMCArPSBcIlxcbiAgICAgICAgICAgICAgICA8aW1nIHNyYz1cXFwiXCI7XG50XzEwICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLm1lbWJlckxvb2t1cCgobF9pdGVtKSxcImljb25cIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xudF8xMCArPSBcIlxcXCI+PC9pbWc+XFxuICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbnRfMTAgKz0gXCJcXG4gICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhcyBmYS1mdyBcIjtcbnRfMTAgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUubWVtYmVyTG9va3VwKChsX2l0ZW0pLFwiaWNvblwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG50XzEwICs9IFwiXFxcIj48L2k+XFxuICAgICAgICAgICAgXCI7XG47XG59XG50XzEwICs9IFwiXFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcIml0ZW0tdGV4dFxcXCI+XFxuICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm1ha2VTYWZlXCIpKSB7XG50XzEwICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xudF8xMCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEZpbHRlcihcInNhZmVcIikuY2FsbChjb250ZXh0LCBydW50aW1lLm1lbWJlckxvb2t1cCgobF9pdGVtKSxcInRleHRcIikpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbnRfMTAgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xudF8xMCArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbnRfMTAgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUubWVtYmVyTG9va3VwKChsX2l0ZW0pLFwidGV4dFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG50XzEwICs9IFwiIFxcbiAgICAgICAgICAgIFwiO1xuO1xufVxudF8xMCArPSBcIlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJyaWdodC1zaWRlLWFubm90YXRpb24gcmlnaHQtc2lkZS1hY3Rpb24gdHJ1bmNhdGVkLW9uZWxpbmVcXFwiPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImxpa2Vmb2xsb3dzdGFyLWJ1dHRvbiBhY3Rpb24tZG8tbGlrZWZvbGxvd3N0YXIgbGlrZWZvbGxvd3N0YXItYnV0dG9uLXNpbXBsZSBzZWxlY3RlZFxcXCIgZGF0YS10eXBlPVxcXCJzdGFyXFxcIiBkYXRhLWN0PVxcXCJcIjtcbnRfMTAgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUubWVtYmVyTG9va3VwKChsX2l0ZW0pLFwiY3RcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xudF8xMCArPSBcIlxcXCIgZGF0YS1pZD1cXFwiXCI7XG50XzEwICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLm1lbWJlckxvb2t1cCgobF9pdGVtKSxcImlkXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbnRfMTAgKz0gXCJcXFwiPlxcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwic2hvdy11bnNlbGVjdGVkXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYXIgZmEtc3RhciBwcmV2ZW50LWNsaWNrXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInNob3ctc2VsZWN0ZWRcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhcyBmYS1zdGFyIHByZXZlbnQtY2xpY2tcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9kaXY+XFxuICAgIDwvYT5cXG48L2xpPlxcblwiO1xuO1xuZnJhbWUgPSBmcmFtZS5wb3AoKTtcbnJldHVybiBuZXcgcnVudGltZS5TYWZlU3RyaW5nKHRfMTApO1xufSk7XG5jb250ZXh0LmFkZEV4cG9ydChcInN0YXJyZWRsaXN0SXRlbVwiKTtcbmNvbnRleHQuc2V0VmFyaWFibGUoXCJzdGFycmVkbGlzdEl0ZW1cIiwgbWFjcm9fdF85KTtcbm91dHB1dCArPSBcIlxcblxcblwiO1xudmFyIG1hY3JvX3RfMTEgPSBydW50aW1lLm1ha2VNYWNybyhcbltcIml0ZW1cIl0sIFxuW1wibWFrZVNhZmVcIl0sIFxuZnVuY3Rpb24gKGxfaXRlbSwga3dhcmdzKSB7XG5mcmFtZSA9IGZyYW1lLnB1c2godHJ1ZSk7XG5rd2FyZ3MgPSBrd2FyZ3MgfHwge307XG5pZiAoa3dhcmdzLmhhc093blByb3BlcnR5KFwiY2FsbGVyXCIpKSB7XG5mcmFtZS5zZXQoXCJjYWxsZXJcIiwga3dhcmdzLmNhbGxlcik7IH1cbmZyYW1lLnNldChcIml0ZW1cIiwgbF9pdGVtKTtcbmZyYW1lLnNldChcIm1ha2VTYWZlXCIsIGt3YXJncy5oYXNPd25Qcm9wZXJ0eShcIm1ha2VTYWZlXCIpID8ga3dhcmdzW1wibWFrZVNhZmVcIl0gOiB0cnVlKTtcbnZhciB0XzEyID0gXCJcIjt0XzEyICs9IFwiXFxuPGxpPlxcbiAgICA8YSBjbGFzcz1cXFwibGlzdC1pdGVtXFxcIiBocmVmPVxcXCJcIjtcbnRfMTIgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUubWVtYmVyTG9va3VwKChsX2l0ZW0pLFwidXJsXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbnRfMTIgKz0gXCJcXFwiIHRpdGxlZGJ5PVxcXCIuaXRlbS10ZXh0XFxcIj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcIml0ZW0taWNvblxcXCI+XFxuICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLm1lbWJlckxvb2t1cCgobF9pdGVtKSxcImljb25cIikgJiYgcnVudGltZS5pbk9wZXJhdG9yKFwiL1wiLHJ1bnRpbWUubWVtYmVyTG9va3VwKChsX2l0ZW0pLFwiaWNvblwiKSkpIHtcbnRfMTIgKz0gXCJcXG4gICAgICAgICAgICAgICAgPGltZyBzcmM9XFxcIlwiO1xudF8xMiArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5tZW1iZXJMb29rdXAoKGxfaXRlbSksXCJpY29uXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbnRfMTIgKz0gXCJcXFwiPjwvaW1nPlxcbiAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG50XzEyICs9IFwiXFxuICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYXMgZmEtZncgXCI7XG50XzEyICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLm1lbWJlckxvb2t1cCgobF9pdGVtKSxcImljb25cIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xudF8xMiArPSBcIlxcXCI+PC9pPlxcbiAgICAgICAgICAgIFwiO1xuO1xufVxudF8xMiArPSBcIlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJpdGVtLXRleHRcXFwiPlxcbiAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJtYWtlU2FmZVwiKSkge1xudF8xMiArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbnRfMTIgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRGaWx0ZXIoXCJzYWZlXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5tZW1iZXJMb29rdXAoKGxfaXRlbSksXCJ0ZXh0XCIpKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG50XzEyICs9IFwiXFxuICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbnRfMTIgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG50XzEyICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLm1lbWJlckxvb2t1cCgobF9pdGVtKSxcInRleHRcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xudF8xMiArPSBcIiBcXG4gICAgICAgICAgICBcIjtcbjtcbn1cbnRfMTIgKz0gXCJcXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwicmlnaHQtc2lkZS1hbm5vdGF0aW9uIHJpZ2h0LXNpZGUtYWN0aW9uIHRydW5jYXRlZC1vbmVsaW5lXFxcIj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJsaWtlZm9sbG93c3Rhci1idXR0b24gYWN0aW9uLWRvLWxpa2Vmb2xsb3dzdGFyIGxpa2Vmb2xsb3dzdGFyLWJ1dHRvbi1zaW1wbGUgc2VsZWN0ZWRcXFwiIGRhdGEtdHlwZT1cXFwiZm9sbG93XFxcIiBkYXRhLWN0PVxcXCJcIjtcbnRfMTIgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUubWVtYmVyTG9va3VwKChsX2l0ZW0pLFwiY3RcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xudF8xMiArPSBcIlxcXCIgZGF0YS1pZD1cXFwiXCI7XG50XzEyICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLm1lbWJlckxvb2t1cCgobF9pdGVtKSxcImlkXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbnRfMTIgKz0gXCJcXFwiPlxcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwic2hvdy11bnNlbGVjdGVkXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYXIgZmEtYmVsbCBwcmV2ZW50LWNsaWNrXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInNob3ctc2VsZWN0ZWRcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhcyBmYS1iZWxsIHByZXZlbnQtY2xpY2tcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9kaXY+XFxuICAgIDwvYT5cXG48L2xpPlxcblwiO1xuO1xuZnJhbWUgPSBmcmFtZS5wb3AoKTtcbnJldHVybiBuZXcgcnVudGltZS5TYWZlU3RyaW5nKHRfMTIpO1xufSk7XG5jb250ZXh0LmFkZEV4cG9ydChcImZvbGxvd2VkbGlzdEl0ZW1cIik7XG5jb250ZXh0LnNldFZhcmlhYmxlKFwiZm9sbG93ZWRsaXN0SXRlbVwiLCBtYWNyb190XzExKTtcbm91dHB1dCArPSBcIlxcblxcblwiO1xuaWYocGFyZW50VGVtcGxhdGUpIHtcbnBhcmVudFRlbXBsYXRlLnJvb3RSZW5kZXJGdW5jKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKTtcbn0gZWxzZSB7XG5jYihudWxsLCBvdXRwdXQpO1xufVxuO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbnJldHVybiB7XG5yb290OiByb290XG59O1xuXG59KSgpO1xufSkoKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gc2hpbShudW5qdWNrcywgZW52LCBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkW1wiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC9pbmNsdWRlL21hY3Jvcy5odG1sXCJdICwgZGVwZW5kZW5jaWVzKVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC9pbmNsdWRlL21hY3Jvcy5odG1sXG4vLyBtb2R1bGUgaWQgPSAyM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbnZhciBSZXN1bHQgPSByZXF1aXJlKCdtb2RlbHMvcmVzdWx0Jyk7XG52YXIgdXRpbCA9IHJlcXVpcmUoJ2xpYi91dGlsLmpzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gQmFja2JvbmUuQ29sbGVjdGlvbi5leHRlbmQoe1xuICAgIFxuICAgIG1vZGVsOiBSZXN1bHQsXG4gICAgXG4gICAgLyoqIFJlc3VsdHMgYXJlIGFsd2F5cyBzb3J0ZWQgYnkgcmVsZXZhbmNlICovXG4gICAgY29tcGFyYXRvcjogZnVuY3Rpb24gKHJlc3VsdF8xLCByZXN1bHRfMikge1xuICAgICAgICBpZiAocmVzdWx0XzEuZ2V0KCdyZWxldmFuY2UnKSA9PSByZXN1bHRfMi5nZXQoJ3JlbGV2YW5jZScpKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfSBlbHNlIGlmIChyZXN1bHRfMS5nZXQoJ3JlbGV2YW5jZScpID4gcmVzdWx0XzIuZ2V0KCdyZWxldmFuY2UnKSkge1xuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG59KTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Nvc2lubnVzL2NsaWVudC9jb2xsZWN0aW9ucy9yZXN1bHQtY29sbGVjdGlvbi5qc1xuLy8gbW9kdWxlIGlkID0gMjRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbCA9IHJlcXVpcmUoJ2xpYi91dGlsLmpzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gQmFja2JvbmUuTW9kZWwuZXh0ZW5kKHtcbiAgICBcbiAgICBkZWZhdWx0czoge1xuICAgICAgICAvKiogaWQ6IFJlc3VsdHMgZ2V0IGFuIGlkIGluIHRoZSBmb3JtIG9mIFwiPHJlc3VsdF90eXBlPi48cmVzdWx0X2lkPlwiIGZyb20gdGhlIGJhY2tlbmQuXG4gICAgICAgICAqICAgICAgICAgRXhhbXBsZTogIFwiMy4yMTVcIiAgKi9cbiAgICAgICAgXG4gICAgICAgIC8qKiAgT2JqZWN0IHR5cGUgb2YgdGhlIHJlc3VsdC4gY3VycmVudGx5OlxuICAgICAgICAgKiAgJ2dyb3VwcycsICdwcm9qZWN0cycsICdldmVudHMnLCAncGVvcGxlJy5cbiAgICAgICAgICogIEFuZCB0aGUgc3BlY2lhbCByZXN1bHQgdHlwZTogJ2Vycm9yJyAqL1xuICAgICAgICB0eXBlOiBudWxsLFxuICAgICAgICBcbiAgICAgICAgLyoqIENlbnRyYWxpc2VkIGhvdmVyZWQgc3RhdGUgb2YgdGhpcyByZXN1bHQgaW4gdGhlIHZpZXdzLiBcbiAgICAgICAgICogIFVzZWQgdG8gdHJhbnNwb3J0IGhvdmVyZWQgc3RhdGUgb3ZlciB0aGUgc2FtZSByZXN1bHQsIGV2ZW4gaWYgZGlzcGxheWVkIGluIGRpZmZlcmVudCBcbiAgICAgICAgICogIHZpZXdzICh0aWxlLCBtYXAsIGV0YykuIFRoZSBjb3JyZXNwb25kaW5nIGNoYW5nZTpob3ZlcmVkIHNpZ25hbCBjYW4gYmUgc3Vic2NyaWJlZCB0byBcbiAgICAgICAgICogIHRvIHJlZ2lzdGVyIHZpc3VhbCBjaGFuZ2VzIGluIHRoZSB2aWV3cy4gICovXG4gICAgICAgIGhvdmVyZWQ6IGZhbHNlLFxuICAgICAgICBcbiAgICAgICAgLyoqIENlbnRyYWxpc2VkIHNlbGVjdGVkL2NsaWNrZWQgc3RhdGUgb2YgdGhpcyByZXN1bHQgaW4gdGhlIHZpZXdzLiBcbiAgICAgICAgICogIFVzZWQgdG8gdHJhbnNwb3J0IHNlbGVjdGVkIHN0YXRlIG92ZXIgdGhlIHNhbWUgcmVzdWx0LCBldmVuIGlmIGRpc3BsYXllZCBpbiBkaWZmZXJlbnQgXG4gICAgICAgICAqICB2aWV3cyAodGlsZSwgbWFwLCBldGMpLiBUaGUgY29ycmVzcG9uZGluZyBzZWxlY3RlZCBzaWduYWwgY2FuIGJlIHN1YnNjcmliZWQgdG8gdG8gXG4gICAgICAgICAqICByZWdpc3RlciB2aXN1YWwgY2hhbmdlcyBpbiB0aGUgdmlld3MuICAqL1xuICAgICAgICBzZWxlY3RlZDogZmFsc2UsXG5cbiAgICAgICAgLyoqIExhdGl0dWRlL2xvbmdpdHVkZSBjb29yZGluYXRlcy4gXG4gICAgICAgICAqICBJZiBudWxsLCB0aGlzIFJlc3VsdCBoYXMgbm8gbG9jYXRpb24sIGJ1dCBjYW4gc3RpbGwgYmUgZGlzcGxheWVkIGluIGZvciBleGFtcGxlIHRoZSBUaWxlIFZpZXcuICovXG4gICAgICAgIGxhdDogbnVsbCxcbiAgICAgICAgbG9uOiBudWxsLFxuICAgICAgICBcbiAgICAgICAgLyoqIFJlc3VsdCByZWxldmFuY2UgYXMgZmxvYXQsIDAgb3IgcG9zaXRpdmUsIGNhbiBiZSBsYXJnZXIgdGhhbiAxLjAhICovXG4gICAgICAgIHJlbGV2YW5jZTogMC4wLFxuICAgICAgICBcbiAgICAgICAgLyoqIEFsbCBvdGhlciBhdHRyaWJ1dGVzIGNvbWUgZGlyZWN0bHkgZnJvbSB0aGUgYmFja2VuZCwgYW5kIGFyZW4ndCBsaXN0ZWQgaGVyZSBhc1xuICAgICAgICAgKiAgdGhleSBhcmUgb25seSB1c2VkIGluIHRoZSB0ZW1wbGF0ZXMgZGlyZWN0bHkuICovXG4gICAgfSxcbiAgICBcbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbigpe1xuICAgICAgICBcbiAgICB9LFxuICAgIFxuICAgIGxvY0VxdWFsczogZnVuY3Rpb24ob3RoZXJfcmVzdWx0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldCgnbGF0JykgIT0gbnVsbCBcbiAgICAgICAgICAgICYmIHRoaXMuZ2V0KCdsb24nKSAhPSBudWxsXG4gICAgICAgICAgICAmJiBvdGhlcl9yZXN1bHQuZ2V0KCdsYXQnKSA9PSB0aGlzLmdldCgnbGF0JykgXG4gICAgICAgICAgICAmJiBvdGhlcl9yZXN1bHQuZ2V0KCdsb24nKSA9PSB0aGlzLmdldCgnbG9uJyk7XG4gICAgfSxcbiAgICBcbiAgICBnZXRMb2NzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFt0aGlzLmdldCgnbGF0JyksIHRoaXMuZ2V0KCdsb24nKV07XG4gICAgfVxuXG59KTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Nvc2lubnVzL2NsaWVudC9tb2RlbHMvcmVzdWx0LmpzXG4vLyBtb2R1bGUgaWQgPSAyNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgbnVuanVja3MgPSByZXF1aXJlKFwibnVuanVja3MvYnJvd3Nlci9udW5qdWNrcy1zbGltXCIpO1xudmFyIGVudjtcbmlmICghbnVuanVja3MuY3VycmVudEVudil7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnYgPSBuZXcgbnVuanVja3MuRW52aXJvbm1lbnQoW10sIHVuZGVmaW5lZCk7XG59IGVsc2Uge1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52O1xufVxudmFyIGNvbmZpZ3VyZSA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi8uLi9udW5qdWNrcy5jb25maWcuanNcIikoZW52KTtcbnZhciBkZXBlbmRlbmNpZXMgPSBudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzIHx8IChudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzID0ge30pO1xuZGVwZW5kZW5jaWVzW1wiaW5jbHVkZS9tYWNyb3MuaHRtbFwiXSA9IHJlcXVpcmUoIFwiaW5jbHVkZS9tYWNyb3MuaHRtbFwiICk7XG5cblxuXG5cbnZhciBzaGltID0gcmVxdWlyZShcIi9ob21lL3Nhc2NoYS9wci9jb3Npbm51cy1jb3JlL25vZGVfbW9kdWxlcy9udW5qdWNrcy1sb2FkZXIvcnVudGltZS1zaGltXCIpO1xuXG5cbihmdW5jdGlvbigpIHsobnVuanVja3MubnVuanVja3NQcmVjb21waWxlZCA9IG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgfHwge30pW1wiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC9tYXAvbWFwLWNvbnRyb2xzLmh0bWxcIl0gPSAoZnVuY3Rpb24oKSB7XG5mdW5jdGlvbiByb290KGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG52YXIgcGFyZW50VGVtcGxhdGUgPSBudWxsO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwicGFzc1Rocm91Z2hcIilbXCJydW5cIl0oY29udGV4dCxydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImkxOG5cIikpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXCI7XG5lbnYuZ2V0VGVtcGxhdGUoXCJpbmNsdWRlL21hY3Jvcy5odG1sXCIsIGZhbHNlLCBcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvbWFwL21hcC1jb250cm9scy5odG1sXCIsIGZhbHNlLCBmdW5jdGlvbih0XzIsdF8xKSB7XG5pZih0XzIpIHsgY2IodF8yKTsgcmV0dXJuOyB9XG50XzEuZ2V0RXhwb3J0ZWQoZnVuY3Rpb24odF8zLHRfMSkge1xuaWYodF8zKSB7IGNiKHRfMyk7IHJldHVybjsgfVxuY29udGV4dC5zZXRWYXJpYWJsZShcIm1hY3Jvc1wiLCB0XzEpO1xub3V0cHV0ICs9IFwiXFxuXFxuPGRpdiBjbGFzcz1cXFwibWFwLWNvbnRyb2xzIG1vYmlsZS12aWV3IG1vYmlsZS12aWV3LXNlYXJjaC12aXNpYmxlLWJsb2NrXFxcIj5cXG4gICAgIDxkaXYgY2xhc3M9XFxcIm1hcC1jb250cm9scy1zZWFyY2hcXFwiPlxcbiAgICAgICAgIDxkaXYgY2xhc3M9XFxcInNlYXJjaC1ib3hcXFwiPlxcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBjbGFzcz1cXFwicVxcXCIgbmFtZT1cXFwicVxcXCIgXFxuXFxuXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNwbGl0c2NyZWVuXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG5wbGFjZWhvbGRlcj1cXFwiXCI7XG5vdXRwdXQgKz0gXCJcXG5cIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJTZWFyY2ggZm9yIE5hbWVzLCBUb3BpY3MgYW5kIFBsYWNlcy4uLlwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCJcXG5cIjtcbjtcbn1cbmVsc2Uge1xub3V0cHV0ICs9IFwiXFxucGxhY2Vob2xkZXI9XFxcIlwiO1xub3V0cHV0ICs9IFwiXFxuXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiU2VhcmNoIGZvciBOYW1lcyBhbmQgVG9waWNzLi4uXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxcIlxcblwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT1cXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicVwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiIGF1dG9jb21wbGV0ZT1cXFwib2ZmXFxcIiAvPlxcbiAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1zZWFyY2ggY2xpY2thYmxlLWJ1dHRvbiBxdWVyeS1zZWFyY2gtYnV0dG9uIGljb24tc2VhcmNoIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ3YW50c1RvU2VhcmNoXCIpKSB7XG5vdXRwdXQgKz0gXCJoaWRkZW5cIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcXCI+PC9pPlxcbiAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJjbGlja2FibGUtYnV0dG9uIGljb24tZmlsdGVycyBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZmlsdGVyUGFuZWxWaXNpYmxlXCIpKSB7XG5vdXRwdXQgKz0gXCJvcGVuXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXFwiPlxcbiAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtYmFycyB2aXNpYmxlLWRlZmF1bHRcXFwiPjwvaT5cXG4gICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWNoZXZyb24tdXAgdmlzaWJsZS1vcGVuXFxcIj48L2k+XFxuICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1jaGV2cm9uLXVwIHZpc2libGUtb3Blbi1ob3ZlclxcXCI+PC9pPlxcbiAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtY2xvc2UgY2xpY2thYmxlLWJ1dHRvbiByZXNldC1hbGwgaWNvbi1yZXNldCBcIjtcbmlmKCFydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImZpbHRlcnNBY3RpdmVcIikgJiYgIXJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicVwiKSkge1xub3V0cHV0ICs9IFwiaGlkZGVuXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXFwiPjwvaT5cXG4gICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtc3Bpbm5lciBmYS1wdWxzZSBpY29uLWxvYWRpbmcgXCI7XG5pZighcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ3YW50c1RvU2VhcmNoXCIpKSB7XG5vdXRwdXQgKz0gXCIgaGlkZGVuXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXFwiPjwvaT5cXG4gICAgICAgICA8ZGl2IGNsYXNzPVxcXCJpY29uLWJveCBmaWx0ZXItYnV0dG9uLWJveFxcXCI+XFxuICAgICAgICAgPC9kaXY+XFxuICAgICA8L2Rpdj5cXG4gICAgIFxcbiAgICAgPGRpdiBjbGFzcz1cXFwibWFwLWNvbnRyb2xzLWFjdGl2ZS1maWx0ZXJzXFxcIj48L2Rpdj5cXG4gICAgIFxcbiAgICAgPGRpdiBjbGFzcz1cXFwibWFwLWNvbnRyb2xzLWZpbHRlcnMgbW9iaWxlLWFsd2F5cy12aXNpYmxlXFxcIiBcIjtcbmlmKCFydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImZpbHRlclBhbmVsVmlzaWJsZVwiKSkge1xub3V0cHV0ICs9IFwic3R5bGU9XFxcImRpc3BsYXk6IG5vbmU7XFxcIlwiO1xuO1xufVxub3V0cHV0ICs9IFwiPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwibWFwLWNvbnRyb2xzLWZpbHRlci1maWVsZHNcXFwiPlxcblxcdFxcdFxcdFwiO1xuaWYoZW52LmdldEZpbHRlcihcImxlbmd0aFwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYXZhaWxhYmxlRmlsdGVyTGlzdFwiKSkgPiAxKSB7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHQ8ZGl2IGNsYXNzPVxcXCJidXR0b24tbGlzdFxcXCI+XFxuXFx0XFx0XFx0XFx0XFx0XCI7XG5mcmFtZSA9IGZyYW1lLnB1c2goKTtcbnZhciB0XzYgPSBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImF2YWlsYWJsZUZpbHRlckxpc3RcIik7XG5pZih0XzYpIHt2YXIgdF81ID0gdF82Lmxlbmd0aDtcbmZvcih2YXIgdF80PTA7IHRfNCA8IHRfNi5sZW5ndGg7IHRfNCsrKSB7XG52YXIgdF83ID0gdF82W3RfNF07XG5mcmFtZS5zZXQoXCJmaWx0ZXJfdHlwZVwiLCB0XzcpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleFwiLCB0XzQgKyAxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXgwXCIsIHRfNCk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4XCIsIHRfNSAtIHRfNCk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4MFwiLCB0XzUgLSB0XzQgLSAxKTtcbmZyYW1lLnNldChcImxvb3AuZmlyc3RcIiwgdF80ID09PSAwKTtcbmZyYW1lLnNldChcImxvb3AubGFzdFwiLCB0XzQgPT09IHRfNSAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5sZW5ndGhcIiwgdF81KTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFxcdDxhIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbiBidXR0b24tY29sb3ItXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHRfNywgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCIgcmVzdWx0LWZpbHRlci1idXR0b24gXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInR5cGVGaWx0ZXJzQWN0aXZlXCIpICYmIHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImFjdGl2ZUZpbHRlcnNcIikpLHRfNykpIHtcbm91dHB1dCArPSBcInNlbGVjdGVkXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXFwiIGRhdGEtcmVzdWx0LWZpbHRlci10eXBlPVxcXCJcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUodF83LCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCI+XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKChsaW5lbm8gPSAzNywgY29sbm8gPSAyNCwgcnVudGltZS5jYWxsV3JhcChydW50aW1lLm1lbWJlckxvb2t1cCgodF8xKSxcInR5cGVMYWJlbFwiKSwgXCJtYWNyb3NbXFxcInR5cGVMYWJlbFxcXCJdXCIsIGNvbnRleHQsIFt0XzcsXCJyb3VuZGVkLWJ1dHRvbi1pbm5lclwiLHJ1bnRpbWUubWFrZUtleXdvcmRBcmdzKHtcImJ1dHRvblwiOiAxLFwiQ09TSU5OVVNfVFJBTlNcIjogcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJDT1NJTk5VU19UUkFOU1wiKX0pXSkpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFxcdDwvYT5cXG5cXHRcXHRcXHRcXHRcXHRcIjtcbjtcbn1cbn1cbmZyYW1lID0gZnJhbWUucG9wKCk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHQ8L2Rpdj5cXG5cXHRcXHRcXHRcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblxcblxcdFxcdFxcdDxvbCBpZD1cXFwiZGF0ZS10aW1lLWZpbHRlclxcXCIgY2xhc3M9XFxcImlucHV0LWFyZWFcXFwiICBzdHlsZT1cXFwiZGlzcGxheTogXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImRhdGVGaWx0ZXJzQWN0aXZlXCIpKSB7XG5vdXRwdXQgKz0gXCIgYmxvY2sgXCI7XG47XG59XG5lbHNlIHtcbm91dHB1dCArPSBcIiBub25lIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiO1xcXCI+XFxuXFx0XFx0XFx0XFx0PGxpIGNsYXNzPVxcXCJjYWxlbmRhci1kYXRlLXRpbWUtY2hvb3NlclxcXCI+XFxuXFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJGcm9tXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0PGkgY2xhc3M9XFxcImZhIGZhLWNhbGVuZGFyXFxcIj48L2k+XFxuXFx0XFx0XFx0XFx0XFx0PGlucHV0IHJlYWRvbmx5ID1cXFwicmVhZG9ubHlcXFwiIGNsYXNzPVxcXCJjYWxlbmRhci1kYXRlLXRpbWUtY2hvb3Nlci1kYXRlXFxcIiAvPlxcblxcdFxcdFxcdFxcdFxcdDxpbnB1dCBjbGFzcz1cXFwiY2FsZW5kYXItZGF0ZS10aW1lLWNob29zZXItaGlkZGVuZGF0ZVxcXCIgaWQ9XFxcImlkX3N0YXJ0XzBcXFwiIG5hbWU9XFxcInN0YXJ0XzBcXFwiXFxuXFx0XFx0XFx0XFx0XFx0XFx0dHlwZT1cXFwiaGlkZGVuXFxcIiB2YWx1ZT1cXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZnJvbURhdGVcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxcIlxcblxcdFxcdFxcdFxcdFxcdD5cXG5cXHRcXHRcXHRcXHRcXHQ8aW5wdXQgY2xhc3M9XFxcImNhbGVuZGFyLWRhdGUtdGltZS1jaG9vc2VyLXRpbWVcXFwiIGlkPVxcXCJpZF9zdGFydF8xXFxcIiBuYW1lPVxcXCJzdGFydF8xXFxcIlxcblxcdFxcdFxcdFxcdFxcdFxcdHBsYWNlaG9sZGVyPVxcXCIwMDowMFxcXCIgdHlwZT1cXFwidGV4dFxcXCIgdmFsdWU9XFxcIlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImZyb21UaW1lXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCJcXG5cXHRcXHRcXHRcXHRcXHQ+XFxuXFx0XFx0XFx0XFx0XFx0PGRpdiBjbGFzcz1cXFwic21hbGwtY2FsZW5kYXJcXFwiPjwvZGl2PlxcblxcdFxcdFxcdFxcdDwvbGk+XFxuXFxuXFx0XFx0XFx0XFx0PGxpIGNsYXNzPVxcXCJjYWxlbmRhci1kYXRlLXRpbWUtY2hvb3NlclxcXCI+XFxuXFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJVbnRpbFwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdDxpIGNsYXNzPVxcXCJmYSBmYS1jYWxlbmRhclxcXCI+PC9pPlxcblxcdFxcdFxcdFxcdFxcdDxpbnB1dCByZWFkb25seSA9XFxcInJlYWRvbmx5XFxcIiBjbGFzcz1cXFwiY2FsZW5kYXItZGF0ZS10aW1lLWNob29zZXItZGF0ZVxcXCIgLz5cXG5cXHRcXHRcXHRcXHRcXHQ8aW5wdXQgY2xhc3M9XFxcImNhbGVuZGFyLWRhdGUtdGltZS1jaG9vc2VyLWhpZGRlbmRhdGVcXFwiIGlkPVxcXCJpZF9lbmRfMFxcXCIgbmFtZT1cXFwiZW5kXzBcXFwiXFxuXFx0XFx0XFx0XFx0XFx0XFx0dHlwZT1cXFwiaGlkZGVuXFxcIiB2YWx1ZT1cXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwidG9EYXRlXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCJcXG5cXHRcXHRcXHRcXHRcXHQ+XFxuXFx0XFx0XFx0XFx0XFx0PGlucHV0IGNsYXNzPVxcXCJjYWxlbmRhci1kYXRlLXRpbWUtY2hvb3Nlci10aW1lXFxcIiBpZD1cXFwiaWRfZW5kXzFcXFwiIG5hbWU9XFxcImVuZF8xXFxcIlxcblxcdFxcdFxcdFxcdFxcdFxcdHBsYWNlaG9sZGVyPVxcXCIwMDowMFxcXCIgdHlwZT1cXFwidGV4dFxcXCIgdmFsdWU9XFxcIlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInRvVGltZVwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiXFxuXFx0XFx0XFx0XFx0XFx0PlxcblxcdFxcdFxcdFxcdFxcdDxkaXYgY2xhc3M9XFxcInNtYWxsLWNhbGVuZGFyXFxcIj48L2Rpdj5cXG5cXHRcXHRcXHRcXHQ8L2xpPlxcblxcdFxcdFxcdDwvb2w+XFxuXFxuXFxuXFx0XFx0XFx0XCI7XG5pZihlbnYuZ2V0RmlsdGVyKFwibGVuZ3RoXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJhbGxTREdTXCIpKSA+IDApIHtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdDxoMT5cXG5cXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIlN1c3RhaW5hYmxlIERldmVsb3BtZW50IEdvYWxzXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0PC9oMT5cXG5cXHRcXHRcXG5cXHRcXHRcXHRcXHQ8ZGl2IGNsYXNzPVxcXCJidXR0b24tbGlzdFxcXCI+XFxuXFx0XFx0XFx0XFx0XFx0XCI7XG5mcmFtZSA9IGZyYW1lLnB1c2goKTtcbnZhciB0XzEwID0gcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJhbGxTREdTXCIpO1xuaWYodF8xMCkge3ZhciB0XzkgPSB0XzEwLmxlbmd0aDtcbmZvcih2YXIgdF84PTA7IHRfOCA8IHRfMTAubGVuZ3RoOyB0XzgrKykge1xudmFyIHRfMTEgPSB0XzEwW3RfOF07XG5mcmFtZS5zZXQoXCJzZGdcIiwgdF8xMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfOCArIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleDBcIiwgdF84KTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXhcIiwgdF85IC0gdF84KTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXgwXCIsIHRfOSAtIHRfOCAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzggPT09IDApO1xuZnJhbWUuc2V0KFwibG9vcC5sYXN0XCIsIHRfOCA9PT0gdF85IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzkpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XFx0XCI7XG5pZihydW50aW1lLm1lbWJlckxvb2t1cCgodF8xMSksXCJpZFwiKSAhPSBcIlwiICYmIHRfMTEpIHtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdDxhIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbiBidXR0b24tY29sb3ItdG9waWMgc2RnLWJ1dHRvbiBob3Zlci1pbWFnZS1idXR0b24gXCI7XG5pZihydW50aW1lLmluT3BlcmF0b3IocnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTEpLFwiaWRcIikscnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJhY3RpdmVTREdJZHNcIikpKSB7XG5vdXRwdXQgKz0gXCJzZWxlY3RlZFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxcIiBkYXRhLXNkZy1pZD1cXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzExKSxcImlkXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCI+XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0PHNwYW4gY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uLWlubmVyIGhvdmVyLWltYWdlLWJ1dHRvbi1pbm5lclxcXCI+XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzExKSxcIm5hbWVcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0PGltZyBjbGFzcz1cXFwiaG92ZXItaW1hZ2UtaWNvbiBob3Zlci1pbWFnZS1pY29uLXBvcy1hYnMgaG92ZXItaW1hZ2UtaWNvbi1oaWRkZW5cXFwiIHNyYz1cXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzExKSxcImljb25cIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxcIj5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQ8L3NwYW4+XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0PC9hPlxcblxcdFxcdFxcdFxcdFxcdFxcdFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XCI7XG47XG59XG59XG5mcmFtZSA9IGZyYW1lLnBvcCgpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0PC9kaXY+XFxuXFx0XFx0XFx0XCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cXG5cXHRcXHRcXHRcIjtcbmlmKGVudi5nZXRGaWx0ZXIoXCJsZW5ndGhcIikuY2FsbChjb250ZXh0LCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImFsbE1hbmFnZWRUYWdzXCIpKSA+IDApIHtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdDxkaXYgY2xhc3M9XFxcIm1hbmFnZWQtdGFncy1idXR0b25zXFxcIiBcIjtcbmlmKGVudi5nZXRGaWx0ZXIoXCJsZW5ndGhcIikuY2FsbChjb250ZXh0LCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNob3dNYW5hZ2VkVGFnc09uVHlwZXNTZWxlY3RlZFwiKSkgPiAwICYmICFydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImRpc3BsYXlNYW5hZ2VkVGFnc0ZpbHRlclwiKSkge1xub3V0cHV0ICs9IFwic3R5bGU9XFxcImRpc3BsYXk6IG5vbmU7XFxcIlwiO1xuO1xufVxub3V0cHV0ICs9IFwiPlxcblxcdFxcdFxcdFxcdFxcdDxoMT5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibWFuYWdlZFRhZ3NMYWJlbHNcIikpLFwiTUFOQUdFRF9UQUdfTUFQX0xBQkVMXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdDwvaDE+XFxuXFxuXFx0XFx0XFx0XFx0XFx0PGRpdiBjbGFzcz1cXFwiYnV0dG9uLWxpc3RcXFwiPlxcblxcdFxcdFxcdFxcdFxcdFxcdFwiO1xuZnJhbWUgPSBmcmFtZS5wdXNoKCk7XG52YXIgdF8xNCA9IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWxsTWFuYWdlZFRhZ3NcIik7XG5pZih0XzE0KSB7dmFyIHRfMTMgPSB0XzE0Lmxlbmd0aDtcbmZvcih2YXIgdF8xMj0wOyB0XzEyIDwgdF8xNC5sZW5ndGg7IHRfMTIrKykge1xudmFyIHRfMTUgPSB0XzE0W3RfMTJdO1xuZnJhbWUuc2V0KFwibWFuYWdlZF90YWdcIiwgdF8xNSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfMTIgKyAxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXgwXCIsIHRfMTIpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleFwiLCB0XzEzIC0gdF8xMik7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4MFwiLCB0XzEzIC0gdF8xMiAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzEyID09PSAwKTtcbmZyYW1lLnNldChcImxvb3AubGFzdFwiLCB0XzEyID09PSB0XzEzIC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzEzKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFwiO1xuaWYocnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTUpLFwiaWRcIikgIT0gXCJcIiAmJiB0XzE1KSB7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQ8YSBjbGFzcz1cXFwicm91bmRlZC1idXR0b24gYnV0dG9uLWNvbG9yLXRvcGljIG1hbmFnZWQtdGFnLWJ1dHRvbiBob3Zlci1pbWFnZS1idXR0b24gXCI7XG5pZihydW50aW1lLmluT3BlcmF0b3IocnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTUpLFwiaWRcIikscnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJhY3RpdmVNYW5hZ2VkVGFnc0lkc1wiKSkpIHtcbm91dHB1dCArPSBcInNlbGVjdGVkXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXFwiIGRhdGEtbWFuYWdlZC10YWctaWQ9XFxcIlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLm1lbWJlckxvb2t1cCgodF8xNSksXCJpZFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiPlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdDxzcGFuIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbi1pbm5lciBob3Zlci1pbWFnZS1idXR0b24taW5uZXJcXFwiPlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLm1lbWJlckxvb2t1cCgodF8xNSksXCJuYW1lXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFwiO1xuaWYocnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTUpLFwiaW1hZ2VcIikpIHtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdDxpbWcgY2xhc3M9XFxcIm92ZXItaW1hZ2UtaWNvbiBob3Zlci1pbWFnZS1pY29uLXBvcy1hYnMgaG92ZXItaW1hZ2UtaWNvbi1oaWRkZW5cXFwiIHNyYz1cXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzE1KSxcImltYWdlXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCI+XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQ8L3NwYW4+XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0PC9hPlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XFx0XCI7XG47XG59XG59XG5mcmFtZSA9IGZyYW1lLnBvcCgpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0PC9kaXY+XFxuXFx0XFx0XFx0XFx0PC9kaXY+XFxuXFx0XFx0XFx0XCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cXG5cXHRcXHRcXHRcIjtcbmlmKGVudi5nZXRGaWx0ZXIoXCJsZW5ndGhcIikuY2FsbChjb250ZXh0LCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImFsbFRleHRUb3BpY3NcIikpID4gMCkge1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0PGRpdiBjbGFzcz1cXFwidGV4dC10b3BpYy1idXR0b25zXFxcIiBcIjtcbmlmKGVudi5nZXRGaWx0ZXIoXCJsZW5ndGhcIikuY2FsbChjb250ZXh0LCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNob3dUZXh0VG9waWNzT25UeXBlc1NlbGVjdGVkXCIpKSA+IDAgJiYgIXJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZGlzcGxheVRleHRUb3BjRmlsdGVyXCIpKSB7XG5vdXRwdXQgKz0gXCJzdHlsZT1cXFwiZGlzcGxheTogbm9uZTtcXFwiXCI7XG47XG59XG5vdXRwdXQgKz0gXCI+XFxuXFx0XFx0XFx0XFx0XFx0PGgxPlxcblxcdFxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiQ2F0ZWdvcmllc1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdDwvaDE+XFxuXFx0XFxuXFx0XFx0XFx0XFx0XFx0PGRpdiBjbGFzcz1cXFwiYnV0dG9uLWxpc3RcXFwiPlxcblxcdFxcdFxcdFxcdFxcdFxcdFwiO1xuZnJhbWUgPSBmcmFtZS5wdXNoKCk7XG52YXIgdF8xOCA9IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWxsVGV4dFRvcGljc1wiKTtcbmlmKHRfMTgpIHt2YXIgdF8xNjtcbmlmKHJ1bnRpbWUuaXNBcnJheSh0XzE4KSkge1xudmFyIHRfMTcgPSB0XzE4Lmxlbmd0aDtcbmZvcih0XzE2PTA7IHRfMTYgPCB0XzE4Lmxlbmd0aDsgdF8xNisrKSB7XG52YXIgdF8xOSA9IHRfMThbdF8xNl1bMF1cbmZyYW1lLnNldChcInRleHRUb3BpY19pZFwiLCB0XzE4W3RfMTZdWzBdKTtcbnZhciB0XzIwID0gdF8xOFt0XzE2XVsxXVxuZnJhbWUuc2V0KFwidGV4dFRvcGljXCIsIHRfMThbdF8xNl1bMV0pO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleFwiLCB0XzE2ICsgMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4MFwiLCB0XzE2KTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXhcIiwgdF8xNyAtIHRfMTYpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleDBcIiwgdF8xNyAtIHRfMTYgLSAxKTtcbmZyYW1lLnNldChcImxvb3AuZmlyc3RcIiwgdF8xNiA9PT0gMCk7XG5mcmFtZS5zZXQoXCJsb29wLmxhc3RcIiwgdF8xNiA9PT0gdF8xNyAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5sZW5ndGhcIiwgdF8xNyk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcIjtcbmlmKHRfMTkgIT0gXCJcIiAmJiB0XzIwKSB7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQ8YSBjbGFzcz1cXFwicm91bmRlZC1idXR0b24gYnV0dG9uLWNvbG9yLXRvcGljIHRleHQtdG9waWMtYnV0dG9uIFwiO1xuaWYocnVudGltZS5pbk9wZXJhdG9yKGVudi5nZXRGaWx0ZXIoXCJpbnRcIikuY2FsbChjb250ZXh0LCB0XzE5KSxydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImFjdGl2ZVRleHRUb3BpY0lkc1wiKSkpIHtcbm91dHB1dCArPSBcInNlbGVjdGVkXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXFwiIGRhdGEtdGV4dC10b3BpYy1pZD1cXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHRfMTksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxcIj5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQ8c3BhbiBjbGFzcz1cXFwicm91bmRlZC1idXR0b24taW5uZXJcXFwiPlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSh0XzIwLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdDwvc3Bhbj5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQ8L2E+XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHRcIjtcbjtcbn1cbn0gZWxzZSB7XG50XzE2ID0gLTE7XG52YXIgdF8xNyA9IHJ1bnRpbWUua2V5cyh0XzE4KS5sZW5ndGg7XG5mb3IodmFyIHRfMjEgaW4gdF8xOCkge1xudF8xNisrO1xudmFyIHRfMjIgPSB0XzE4W3RfMjFdO1xuZnJhbWUuc2V0KFwidGV4dFRvcGljX2lkXCIsIHRfMjEpO1xuZnJhbWUuc2V0KFwidGV4dFRvcGljXCIsIHRfMjIpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleFwiLCB0XzE2ICsgMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4MFwiLCB0XzE2KTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXhcIiwgdF8xNyAtIHRfMTYpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleDBcIiwgdF8xNyAtIHRfMTYgLSAxKTtcbmZyYW1lLnNldChcImxvb3AuZmlyc3RcIiwgdF8xNiA9PT0gMCk7XG5mcmFtZS5zZXQoXCJsb29wLmxhc3RcIiwgdF8xNiA9PT0gdF8xNyAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5sZW5ndGhcIiwgdF8xNyk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcIjtcbmlmKHRfMjEgIT0gXCJcIiAmJiB0XzIyKSB7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQ8YSBjbGFzcz1cXFwicm91bmRlZC1idXR0b24gYnV0dG9uLWNvbG9yLXRvcGljIHRleHQtdG9waWMtYnV0dG9uIFwiO1xuaWYocnVudGltZS5pbk9wZXJhdG9yKGVudi5nZXRGaWx0ZXIoXCJpbnRcIikuY2FsbChjb250ZXh0LCB0XzIxKSxydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImFjdGl2ZVRleHRUb3BpY0lkc1wiKSkpIHtcbm91dHB1dCArPSBcInNlbGVjdGVkXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXFwiIGRhdGEtdGV4dC10b3BpYy1pZD1cXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHRfMjEsIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxcIj5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQ8c3BhbiBjbGFzcz1cXFwicm91bmRlZC1idXR0b24taW5uZXJcXFwiPlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSh0XzIyLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdDwvc3Bhbj5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQ8L2E+XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHRcIjtcbjtcbn1cbn1cbn1cbmZyYW1lID0gZnJhbWUucG9wKCk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHQ8L2Rpdj5cXG5cXHRcXHRcXHRcXHQ8L2Rpdj5cXG5cXHRcXHRcXHRcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblxcblxcdFxcdFxcdFwiO1xuaWYoZW52LmdldEZpbHRlcihcImxlbmd0aFwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWxsVG9waWNzXCIpKSA+IDAgJiYgIXJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiaGlkZVRvcGljc1wiKSkge1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0PGgxPlxcblxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiVG9waWNzXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0PC9oMT5cXG5cXHRcXHRcXHRcXG5cXHRcXHRcXHRcXHQ8ZGl2IGNsYXNzPVxcXCJidXR0b24tbGlzdFxcXCI+XFxuXFx0XFx0XFx0XFx0XFx0XCI7XG5mcmFtZSA9IGZyYW1lLnB1c2goKTtcbnZhciB0XzI1ID0gcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJhbGxUb3BpY3NcIik7XG5pZih0XzI1KSB7dmFyIHRfMjM7XG5pZihydW50aW1lLmlzQXJyYXkodF8yNSkpIHtcbnZhciB0XzI0ID0gdF8yNS5sZW5ndGg7XG5mb3IodF8yMz0wOyB0XzIzIDwgdF8yNS5sZW5ndGg7IHRfMjMrKykge1xudmFyIHRfMjYgPSB0XzI1W3RfMjNdWzBdXG5mcmFtZS5zZXQoXCJ0b3BpY19pZFwiLCB0XzI1W3RfMjNdWzBdKTtcbnZhciB0XzI3ID0gdF8yNVt0XzIzXVsxXVxuZnJhbWUuc2V0KFwidG9waWNcIiwgdF8yNVt0XzIzXVsxXSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfMjMgKyAxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXgwXCIsIHRfMjMpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleFwiLCB0XzI0IC0gdF8yMyk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4MFwiLCB0XzI0IC0gdF8yMyAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzIzID09PSAwKTtcbmZyYW1lLnNldChcImxvb3AubGFzdFwiLCB0XzIzID09PSB0XzI0IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzI0KTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFxcdFwiO1xuaWYodF8yNiAhPSBcIlwiICYmIHRfMjcpIHtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdDxhIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbiBidXR0b24tY29sb3ItdG9waWMgdG9waWMtYnV0dG9uIFwiO1xuaWYocnVudGltZS5pbk9wZXJhdG9yKGVudi5nZXRGaWx0ZXIoXCJpbnRcIikuY2FsbChjb250ZXh0LCB0XzI2KSxydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImFjdGl2ZVRvcGljSWRzXCIpKSkge1xub3V0cHV0ICs9IFwic2VsZWN0ZWRcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcXCIgZGF0YS10b3BpYy1pZD1cXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHRfMjYsIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxcIj5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQ8c3BhbiBjbGFzcz1cXFwicm91bmRlZC1idXR0b24taW5uZXJcXFwiPlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSh0XzI3LCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdDwvc3Bhbj5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHQ8L2E+XFxuXFx0XFx0XFx0XFx0XFx0XFx0XCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcIjtcbjtcbn1cbn0gZWxzZSB7XG50XzIzID0gLTE7XG52YXIgdF8yNCA9IHJ1bnRpbWUua2V5cyh0XzI1KS5sZW5ndGg7XG5mb3IodmFyIHRfMjggaW4gdF8yNSkge1xudF8yMysrO1xudmFyIHRfMjkgPSB0XzI1W3RfMjhdO1xuZnJhbWUuc2V0KFwidG9waWNfaWRcIiwgdF8yOCk7XG5mcmFtZS5zZXQoXCJ0b3BpY1wiLCB0XzI5KTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXhcIiwgdF8yMyArIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleDBcIiwgdF8yMyk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4XCIsIHRfMjQgLSB0XzIzKTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXgwXCIsIHRfMjQgLSB0XzIzIC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmZpcnN0XCIsIHRfMjMgPT09IDApO1xuZnJhbWUuc2V0KFwibG9vcC5sYXN0XCIsIHRfMjMgPT09IHRfMjQgLSAxKTtcbmZyYW1lLnNldChcImxvb3AubGVuZ3RoXCIsIHRfMjQpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XFx0XCI7XG5pZih0XzI4ICE9IFwiXCIgJiYgdF8yOSkge1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0PGEgY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uIGJ1dHRvbi1jb2xvci10b3BpYyB0b3BpYy1idXR0b24gXCI7XG5pZihydW50aW1lLmluT3BlcmF0b3IoZW52LmdldEZpbHRlcihcImludFwiKS5jYWxsKGNvbnRleHQsIHRfMjgpLHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWN0aXZlVG9waWNJZHNcIikpKSB7XG5vdXRwdXQgKz0gXCJzZWxlY3RlZFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxcIiBkYXRhLXRvcGljLWlkPVxcXCJcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUodF8yOCwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiPlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdDxzcGFuIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbi1pbm5lclxcXCI+XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHRfMjksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0PC9zcGFuPlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdDwvYT5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFwiO1xuO1xufVxufVxufVxuZnJhbWUgPSBmcmFtZS5wb3AoKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdDwvZGl2PlxcblxcdFxcdFxcdFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFxuXFx0XFx0XFx0XCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIkNPU0lOTlVTX0VYQ0hBTkdFX0VOQUJMRURcIikpIHtcbm91dHB1dCArPSBcIlxcblxcdCAgICAgICAgICAgIDxoMT5cXG5cXHQgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiRXh0ZXJuYWwgY29udGVudHNcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgICAgICAgICA8L2gxPlxcblxcdFxcblxcdCAgICAgICAgICAgIDx0YWJsZSBjbGFzcz1cXFwib25vZmZzd2l0Y2gtZnJhbWUgc21hbGwtc3BhY2VcXFwiPlxcblxcdCAgICAgICAgICAgICAgICA8dHI+XFxuXFx0ICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcIm9ub2Zmc3dpdGNoLXRleHQtbGFiZWxcXFwiPlxcblxcdCAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0ICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiSW5jbHVkZSBjb250ZW50cyBmcm9tIG90aGVyIHBsYXRmb3Jtc1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdCAgICAgICAgICAgICAgICAgICAgPC90ZD5cXG5cXHQgICAgICAgICAgICAgICAgICAgIDx0ZD5cXG5cXHQgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJvbm9mZnN3aXRjaFxcXCI+XFxuXFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJjaGVja2JveFxcXCIgbmFtZT1cXFwib25vZmZzd2l0Y2gtZXhjaGFuZ2VcXFwiIGNsYXNzPVxcXCJvbm9mZnN3aXRjaC1jaGVja2JveCBjaGVjay1leGNoYW5nZVxcXCIgaWQ9XFxcImNoZWNrLWV4Y2hhbmdlXFxcIiBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZXhjaGFuZ2VcIikpIHtcbm91dHB1dCArPSBcImNoZWNrZWRcIjtcbjtcbn1cbm91dHB1dCArPSBcIj5cXG5cXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJvbm9mZnN3aXRjaC1sYWJlbFxcXCIgZm9yPVxcXCJjaGVjay1leGNoYW5nZVxcXCI+XFxuXFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwib25vZmZzd2l0Y2gtaW5uZXJcXFwiPjwvc3Bhbj5cXG5cXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJvbm9mZnN3aXRjaC1zd2l0Y2hcXFwiPjwvc3Bhbj5cXG5cXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cXG5cXHQgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG5cXHQgICAgICAgICAgICAgICAgICAgIDwvdGQ+XFxuXFx0ICAgICAgICAgICAgICAgIDwvdHI+XFxuXFx0ICAgICAgICAgICAgPC90YWJsZT5cXG5cXHQgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXFxuXFx0XFx0XFx0XCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNwbGl0c2NyZWVuXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHQ8aDE+XFxuXFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJXaGVyZVwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdDwvaDE+XFxuXFx0XFx0XFx0XFx0XFxuXFx0XFx0XFx0XFx0PHRhYmxlIGNsYXNzPVxcXCJvbm9mZnN3aXRjaC1mcmFtZSBzbWFsbC1zcGFjZVxcXCI+XFxuXFx0XFx0XFx0XFx0XFx0PHRyPlxcblxcdFxcdFxcdFxcdFxcdFxcdDx0ZCBjbGFzcz1cXFwib25vZmZzd2l0Y2gtdGV4dC1sYWJlbFxcXCI+XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJJbiBtYXAgYXJlYVwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFxcdDwvdGQ+XFxuXFx0XFx0XFx0XFx0XFx0XFx0PHRkPlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdDxkaXYgY2xhc3M9XFxcIm9ub2Zmc3dpdGNoXFxcIj5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQ8aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIG5hbWU9XFxcIm9ub2Zmc3dpdGNoLWlnbm9yZS1sb2NhdGlvblxcXCIgY2xhc3M9XFxcIm9ub2Zmc3dpdGNoLWNoZWNrYm94IGNoZWNrLWlnbm9yZS1sb2NhdGlvblxcXCIgaWQ9XFxcImNoZWNrLWlnbm9yZS1sb2NhdGlvblxcXCIgXCI7XG5pZighcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJpZ25vcmVMb2NhdGlvblwiKSkge1xub3V0cHV0ICs9IFwiY2hlY2tlZFwiO1xuO1xufVxub3V0cHV0ICs9IFwiPlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdDxsYWJlbCBjbGFzcz1cXFwib25vZmZzd2l0Y2gtbGFiZWxcXFwiIGZvcj1cXFwiY2hlY2staWdub3JlLWxvY2F0aW9uXFxcIj5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQ8c3BhbiBjbGFzcz1cXFwib25vZmZzd2l0Y2gtaW5uZXJcXFwiPjwvc3Bhbj5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQ8c3BhbiBjbGFzcz1cXFwib25vZmZzd2l0Y2gtc3dpdGNoXFxcIj48L3NwYW4+XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0PC9sYWJlbD5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHQ8L2Rpdj5cXG5cXHRcXHRcXHRcXHRcXHRcXHQ8L3RkPlxcblxcdFxcdFxcdFxcdFxcdDwvdHI+XFxuXFx0XFx0XFx0XFx0PC90YWJsZT5cXG5cXHRcXHRcXHRcXHQ8ZGl2IGNsYXNzPVxcXCJwYWxlLWNvbG9yXFxcIj5cXG5cXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIklmIGFjdGl2ZSwgc2VhcmNoaW5nIHdpbGwgYmUgcmVzdHJpY3RlZCB0byB0aGUgdmlzaWJsZSBtYXAgYXJlYS5cIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHQ8L2Rpdj5cXG5cXHRcXHRcXHRcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblxcdFxcdDwvZGl2PlxcbiAgICAgICAgXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJzcGFjZXJcXFwiPjwvZGl2PlxcblxcdFxcdFxcblxcdFxcdDxkaXYgY2xhc3M9XFxcImFwcGx5LWJ1dHRvbnNcXFwiPlxcblxcdFxcdFxcdDxkaXYgY2xhc3M9XFxcImJ1dHRvbi1saXN0XFxcIj5cXG5cXHRcXHRcXHRcXHQ8YSBjbGFzcz1cXFwicm91bmRlZC1idXR0b24gYnV0dG9uLWNvbG9yLWFjdGlvbiBidXR0b24tc2VhcmNoIHF1ZXJ5LXNlYXJjaC1idXR0b24gZGlzYWJsZWRcXFwiPlxcblxcdFxcdFxcdFxcdFxcdDxzcGFuIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbi1pbm5lclxcXCI+XFxuXFx0XFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJBcHBseSBGaWx0ZXJzXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0PC9zcGFuPlxcblxcdFxcdFxcdFxcdDwvYT5cXG5cXHRcXHRcXHRcXHRcXG5cXHRcXHRcXHRcXHQ8YSBjbGFzcz1cXFwicm91bmRlZC1idXR0b24gYnV0dG9uLWNvbG9yLWFjdGlvbiByZXNldC10eXBlLWFuZC10b3BpYy1maWx0ZXJzXFxcIj5cXG5cXHRcXHRcXHRcXHRcXHQ8c3BhbiBjbGFzcz1cXFwicm91bmRlZC1idXR0b24taW5uZXJcXFwiPlxcblxcdFxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiQ2xlYXIgRmlsdGVyc1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdDwvc3Bhbj5cXG5cXHRcXHRcXHRcXHQ8L2E+XFxuXFx0XFx0XFx0PC9kaXY+XFxuXFx0XFx0XFx0XFxuXFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHQ8ZGl2IGNsYXNzPVxcXCJzcGFjZXIgbW9iaWxlLW9ubHlcXFwiPiZuYnNwOzwvZGl2PlxcblxcdFxcdFxcdDxkaXYgY2xhc3M9XFxcInNwYWNlciBtb2JpbGUtb25seVxcXCI+Jm5ic3A7PC9kaXY+XFxuXFx0XFx0PC9kaXY+XFxuICAgIFxcbiAgICA8L2Rpdj5cXG4gICAgXFxuICAgICAgICBcXG48L2Rpdj5cXG5cXG5cIjtcbmlmKHBhcmVudFRlbXBsYXRlKSB7XG5wYXJlbnRUZW1wbGF0ZS5yb290UmVuZGVyRnVuYyhlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYik7XG59IGVsc2Uge1xuY2IobnVsbCwgb3V0cHV0KTtcbn1cbn0pfSk7XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxucmV0dXJuIHtcbnJvb3Q6IHJvb3Rcbn07XG5cbn0pKCk7XG59KSgpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBzaGltKG51bmp1Y2tzLCBlbnYsIG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWRbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL21hcC9tYXAtY29udHJvbHMuaHRtbFwiXSAsIGRlcGVuZGVuY2llcylcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Nvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvbWFwL21hcC1jb250cm9scy5odG1sXG4vLyBtb2R1bGUgaWQgPSAyNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgbnVuanVja3MgPSByZXF1aXJlKFwibnVuanVja3MvYnJvd3Nlci9udW5qdWNrcy1zbGltXCIpO1xudmFyIGVudjtcbmlmICghbnVuanVja3MuY3VycmVudEVudil7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnYgPSBuZXcgbnVuanVja3MuRW52aXJvbm1lbnQoW10sIHVuZGVmaW5lZCk7XG59IGVsc2Uge1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52O1xufVxudmFyIGNvbmZpZ3VyZSA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi8uLi9udW5qdWNrcy5jb25maWcuanNcIikoZW52KTtcbnZhciBkZXBlbmRlbmNpZXMgPSBudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzIHx8IChudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzID0ge30pO1xuXG5cblxuXG52YXIgc2hpbSA9IHJlcXVpcmUoXCIvaG9tZS9zYXNjaGEvcHIvY29zaW5udXMtY29yZS9ub2RlX21vZHVsZXMvbnVuanVja3MtbG9hZGVyL3J1bnRpbWUtc2hpbVwiKTtcblxuXG4oZnVuY3Rpb24oKSB7KG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgPSBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkIHx8IHt9KVtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvbWFwL21hcC1jb250cm9scy1hY3RpdmUtZmlsdGVycy5odG1sXCJdID0gKGZ1bmN0aW9uKCkge1xuZnVuY3Rpb24gcm9vdChlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xudmFyIHBhcmVudFRlbXBsYXRlID0gbnVsbDtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInBhc3NUaHJvdWdoXCIpW1wicnVuXCJdKGNvbnRleHQscnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJpMThuXCIpKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcblwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0eXBlRmlsdGVyc0FjdGl2ZVwiKSB8fCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInRvcGljRmlsdGVyc0FjdGl2ZVwiKSB8fCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInRleHRUb3BpY0ZpbHRlcnNBY3RpdmVcIikgfHwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJxXCIpIHx8IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2RnRmlsdGVyc0FjdGl2ZVwiKSB8fCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm1hbmFnZWRUYWdzRmlsdGVyc0FjdGl2ZVwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgIDxkaXYgY2xhc3M9XFxcIm1hcC1jb250cm9scy1hY3RpdmUtZmlsdGVyLWZyYW1lXFxcIj5cXG5cXG4gICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0eXBlRmlsdGVyc0FjdGl2ZVwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiYWN0aXZlLWZpbHRlcnMgYWN0aXZlLWZpbHRlcnMtdHlwZVxcXCI+XFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJhY3RpdmUtZmlsdGVycy1pbm5lclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICBcIjtcbmZyYW1lID0gZnJhbWUucHVzaCgpO1xudmFyIHRfMyA9IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYXZhaWxhYmxlRmlsdGVyc1wiKTtcbmlmKHRfMykge3ZhciB0XzE7XG5pZihydW50aW1lLmlzQXJyYXkodF8zKSkge1xudmFyIHRfMiA9IHRfMy5sZW5ndGg7XG5mb3IodF8xPTA7IHRfMSA8IHRfMy5sZW5ndGg7IHRfMSsrKSB7XG52YXIgdF80ID0gdF8zW3RfMV1bMF1cbmZyYW1lLnNldChcImZpbHRlcl90eXBlXCIsIHRfM1t0XzFdWzBdKTtcbnZhciB0XzUgPSB0XzNbdF8xXVsxXVxuZnJhbWUuc2V0KFwiYXZhaWxhYmxlXCIsIHRfM1t0XzFdWzFdKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXhcIiwgdF8xICsgMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4MFwiLCB0XzEpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleFwiLCB0XzIgLSB0XzEpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleDBcIiwgdF8yIC0gdF8xIC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmZpcnN0XCIsIHRfMSA9PT0gMCk7XG5mcmFtZS5zZXQoXCJsb29wLmxhc3RcIiwgdF8xID09PSB0XzIgLSAxKTtcbmZyYW1lLnNldChcImxvb3AubGVuZ3RoXCIsIHRfMik7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbmlmKHRfNSAmJiBydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJhY3RpdmVGaWx0ZXJzXCIpKSx0XzQpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImFwcGx5LWNvbG9yLVwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSh0XzQsIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuaWYodF80ID09IFwicGVvcGxlXCIpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS11c2VyXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xuaWYodF80ID09IFwiZXZlbnRzXCIpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1jYWxlbmRhclxcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbmlmKHRfNCA9PSBcInByb2plY3RzXCIpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1ncm91cFxcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbmlmKHRfNCA9PSBcImdyb3Vwc1wiKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtc2l0ZW1hcFxcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbmlmKHRfNCA9PSBcImNvbmZlcmVuY2VzXCIpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1jYWxlbmRhclxcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbmlmKHRfNCA9PSBcImlkZWFzXCIpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1saWdodGJ1bGItb1xcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbmlmKHRfNCA9PSBcIm9yZ2FuaXphdGlvbnNcIikge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWJ1aWxkaW5nXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbjtcbn1cbjtcbn1cbjtcbn1cbjtcbn1cbjtcbn1cbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxufSBlbHNlIHtcbnRfMSA9IC0xO1xudmFyIHRfMiA9IHJ1bnRpbWUua2V5cyh0XzMpLmxlbmd0aDtcbmZvcih2YXIgdF82IGluIHRfMykge1xudF8xKys7XG52YXIgdF83ID0gdF8zW3RfNl07XG5mcmFtZS5zZXQoXCJmaWx0ZXJfdHlwZVwiLCB0XzYpO1xuZnJhbWUuc2V0KFwiYXZhaWxhYmxlXCIsIHRfNyk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfMSArIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleDBcIiwgdF8xKTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXhcIiwgdF8yIC0gdF8xKTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXgwXCIsIHRfMiAtIHRfMSAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzEgPT09IDApO1xuZnJhbWUuc2V0KFwibG9vcC5sYXN0XCIsIHRfMSA9PT0gdF8yIC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzIpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5pZih0XzcgJiYgcnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWN0aXZlRmlsdGVyc1wiKSksdF82KSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJhcHBseS1jb2xvci1cIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUodF82LCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbmlmKHRfNiA9PSBcInBlb3BsZVwiKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtdXNlclxcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbmlmKHRfNiA9PSBcImV2ZW50c1wiKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtY2FsZW5kYXJcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5pZih0XzYgPT0gXCJwcm9qZWN0c1wiKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtZ3JvdXBcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5pZih0XzYgPT0gXCJncm91cHNcIikge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLXNpdGVtYXBcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5pZih0XzYgPT0gXCJjb25mZXJlbmNlc1wiKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtY2FsZW5kYXJcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5pZih0XzYgPT0gXCJpZGVhc1wiKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtbGlnaHRidWxiLW9cXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5pZih0XzYgPT0gXCJvcmdhbml6YXRpb25zXCIpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1idWlsZGluZ1xcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG47XG59XG47XG59XG47XG59XG47XG59XG47XG59XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbn1cbn1cbmZyYW1lID0gZnJhbWUucG9wKCk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtY2xvc2UgY2xpY2thYmxlLWJ1dHRvbiByZXNldC10eXBlLWZpbHRlcnNcXFwiPjwvaT5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICBcXG4gICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0ZXh0VG9waWNGaWx0ZXJzQWN0aXZlXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJhY3RpdmUtZmlsdGVycyBhY3RpdmUtZmlsdGVycy10ZXh0LXRvcGljc1xcXCI+XFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJhY3RpdmUtZmlsdGVycy1pbm5lclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiY2Fwc1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJDYXRlZ29yaWVzXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiOlxcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG5mcmFtZSA9IGZyYW1lLnB1c2goKTtcbnZhciB0XzEwID0gcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJhY3RpdmVUZXh0VG9waWNJZHNcIik7XG5pZih0XzEwKSB7dmFyIHRfOSA9IHRfMTAubGVuZ3RoO1xuZm9yKHZhciB0Xzg9MDsgdF84IDwgdF8xMC5sZW5ndGg7IHRfOCsrKSB7XG52YXIgdF8xMSA9IHRfMTBbdF84XTtcbmZyYW1lLnNldChcInRleHRfdG9waWNfaWRcIiwgdF8xMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfOCArIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleDBcIiwgdF84KTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXhcIiwgdF85IC0gdF84KTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXgwXCIsIHRfOSAtIHRfOCAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzggPT09IDApO1xuZnJhbWUuc2V0KFwibG9vcC5sYXN0XCIsIHRfOCA9PT0gdF85IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzkpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG52YXIgdF8xMjtcbnRfMTIgPSBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImxvb3BcIik7XG5mcmFtZS5zZXQoXCJvdXRlcl9sb29wXCIsIHRfMTIsIHRydWUpO1xuaWYoZnJhbWUudG9wTGV2ZWwpIHtcbmNvbnRleHQuc2V0VmFyaWFibGUoXCJvdXRlcl9sb29wXCIsIHRfMTIpO1xufVxuaWYoZnJhbWUudG9wTGV2ZWwpIHtcbmNvbnRleHQuYWRkRXhwb3J0KFwib3V0ZXJfbG9vcFwiLCB0XzEyKTtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuZnJhbWUgPSBmcmFtZS5wdXNoKCk7XG52YXIgdF8xNSA9IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWxsVGV4dFRvcGljc1wiKTtcbmlmKHRfMTUpIHt2YXIgdF8xMztcbmlmKHJ1bnRpbWUuaXNBcnJheSh0XzE1KSkge1xudmFyIHRfMTQgPSB0XzE1Lmxlbmd0aDtcbmZvcih0XzEzPTA7IHRfMTMgPCB0XzE1Lmxlbmd0aDsgdF8xMysrKSB7XG52YXIgdF8xNiA9IHRfMTVbdF8xM11bMF1cbmZyYW1lLnNldChcInRpZFwiLCB0XzE1W3RfMTNdWzBdKTtcbnZhciB0XzE3ID0gdF8xNVt0XzEzXVsxXVxuZnJhbWUuc2V0KFwidGV4dF90b3BpY1wiLCB0XzE1W3RfMTNdWzFdKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXhcIiwgdF8xMyArIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleDBcIiwgdF8xMyk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4XCIsIHRfMTQgLSB0XzEzKTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXgwXCIsIHRfMTQgLSB0XzEzIC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmZpcnN0XCIsIHRfMTMgPT09IDApO1xuZnJhbWUuc2V0KFwibG9vcC5sYXN0XCIsIHRfMTMgPT09IHRfMTQgLSAxKTtcbmZyYW1lLnNldChcImxvb3AubGVuZ3RoXCIsIHRfMTQpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuaWYodF8xNyAmJiB0XzExID09IHRfMTYpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHRfMTcsIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xuaWYoIXJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm91dGVyX2xvb3BcIikpLFwibGFzdFwiKSkge1xub3V0cHV0ICs9IFwiLCBcIjtcbjtcbn1cbm91dHB1dCArPSBcIjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbn0gZWxzZSB7XG50XzEzID0gLTE7XG52YXIgdF8xNCA9IHJ1bnRpbWUua2V5cyh0XzE1KS5sZW5ndGg7XG5mb3IodmFyIHRfMTggaW4gdF8xNSkge1xudF8xMysrO1xudmFyIHRfMTkgPSB0XzE1W3RfMThdO1xuZnJhbWUuc2V0KFwidGlkXCIsIHRfMTgpO1xuZnJhbWUuc2V0KFwidGV4dF90b3BpY1wiLCB0XzE5KTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXhcIiwgdF8xMyArIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleDBcIiwgdF8xMyk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4XCIsIHRfMTQgLSB0XzEzKTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXgwXCIsIHRfMTQgLSB0XzEzIC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmZpcnN0XCIsIHRfMTMgPT09IDApO1xuZnJhbWUuc2V0KFwibG9vcC5sYXN0XCIsIHRfMTMgPT09IHRfMTQgLSAxKTtcbmZyYW1lLnNldChcImxvb3AubGVuZ3RoXCIsIHRfMTQpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuaWYodF8xOSAmJiB0XzExID09IHRfMTgpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHRfMTksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xuaWYoIXJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm91dGVyX2xvb3BcIikpLFwibGFzdFwiKSkge1xub3V0cHV0ICs9IFwiLCBcIjtcbjtcbn1cbm91dHB1dCArPSBcIjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbn1cbn1cbmZyYW1lID0gZnJhbWUucG9wKCk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxufVxuZnJhbWUgPSBmcmFtZS5wb3AoKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1jbG9zZSBjbGlja2FibGUtYnV0dG9uIHJlc2V0LXRleHQtdG9waWMtZmlsdGVyc1xcXCI+PC9pPlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cXG4gICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0b3BpY0ZpbHRlcnNBY3RpdmVcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImFjdGl2ZS1maWx0ZXJzIGFjdGl2ZS1maWx0ZXJzLXRvcGljc1xcXCI+XFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJhY3RpdmUtZmlsdGVycy1pbm5lclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiY2Fwc1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJUb3BpY3NcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCI6XFxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgICAgICAgICAgICBcIjtcbmZyYW1lID0gZnJhbWUucHVzaCgpO1xudmFyIHRfMjIgPSBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImFjdGl2ZVRvcGljSWRzXCIpO1xuaWYodF8yMikge3ZhciB0XzIxID0gdF8yMi5sZW5ndGg7XG5mb3IodmFyIHRfMjA9MDsgdF8yMCA8IHRfMjIubGVuZ3RoOyB0XzIwKyspIHtcbnZhciB0XzIzID0gdF8yMlt0XzIwXTtcbmZyYW1lLnNldChcInRvcGljX2lkXCIsIHRfMjMpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleFwiLCB0XzIwICsgMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4MFwiLCB0XzIwKTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXhcIiwgdF8yMSAtIHRfMjApO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleDBcIiwgdF8yMSAtIHRfMjAgLSAxKTtcbmZyYW1lLnNldChcImxvb3AuZmlyc3RcIiwgdF8yMCA9PT0gMCk7XG5mcmFtZS5zZXQoXCJsb29wLmxhc3RcIiwgdF8yMCA9PT0gdF8yMSAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5sZW5ndGhcIiwgdF8yMSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbnZhciB0XzI0O1xudF8yNCA9IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibG9vcFwiKTtcbmZyYW1lLnNldChcIm91dGVyX2xvb3BcIiwgdF8yNCwgdHJ1ZSk7XG5pZihmcmFtZS50b3BMZXZlbCkge1xuY29udGV4dC5zZXRWYXJpYWJsZShcIm91dGVyX2xvb3BcIiwgdF8yNCk7XG59XG5pZihmcmFtZS50b3BMZXZlbCkge1xuY29udGV4dC5hZGRFeHBvcnQoXCJvdXRlcl9sb29wXCIsIHRfMjQpO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5mcmFtZSA9IGZyYW1lLnB1c2goKTtcbnZhciB0XzI3ID0gcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJhbGxUb3BpY3NcIik7XG5pZih0XzI3KSB7dmFyIHRfMjU7XG5pZihydW50aW1lLmlzQXJyYXkodF8yNykpIHtcbnZhciB0XzI2ID0gdF8yNy5sZW5ndGg7XG5mb3IodF8yNT0wOyB0XzI1IDwgdF8yNy5sZW5ndGg7IHRfMjUrKykge1xudmFyIHRfMjggPSB0XzI3W3RfMjVdWzBdXG5mcmFtZS5zZXQoXCJ0aWRcIiwgdF8yN1t0XzI1XVswXSk7XG52YXIgdF8yOSA9IHRfMjdbdF8yNV1bMV1cbmZyYW1lLnNldChcInRvcGljXCIsIHRfMjdbdF8yNV1bMV0pO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleFwiLCB0XzI1ICsgMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4MFwiLCB0XzI1KTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXhcIiwgdF8yNiAtIHRfMjUpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleDBcIiwgdF8yNiAtIHRfMjUgLSAxKTtcbmZyYW1lLnNldChcImxvb3AuZmlyc3RcIiwgdF8yNSA9PT0gMCk7XG5mcmFtZS5zZXQoXCJsb29wLmxhc3RcIiwgdF8yNSA9PT0gdF8yNiAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5sZW5ndGhcIiwgdF8yNik7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5pZih0XzI5ICYmIHRfMjMgPT0gdF8yOCkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5cIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUodF8yOSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5pZighcnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwib3V0ZXJfbG9vcFwiKSksXCJsYXN0XCIpKSB7XG5vdXRwdXQgKz0gXCIsIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiPC9zcGFuPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxufSBlbHNlIHtcbnRfMjUgPSAtMTtcbnZhciB0XzI2ID0gcnVudGltZS5rZXlzKHRfMjcpLmxlbmd0aDtcbmZvcih2YXIgdF8zMCBpbiB0XzI3KSB7XG50XzI1Kys7XG52YXIgdF8zMSA9IHRfMjdbdF8zMF07XG5mcmFtZS5zZXQoXCJ0aWRcIiwgdF8zMCk7XG5mcmFtZS5zZXQoXCJ0b3BpY1wiLCB0XzMxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXhcIiwgdF8yNSArIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleDBcIiwgdF8yNSk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4XCIsIHRfMjYgLSB0XzI1KTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXgwXCIsIHRfMjYgLSB0XzI1IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmZpcnN0XCIsIHRfMjUgPT09IDApO1xuZnJhbWUuc2V0KFwibG9vcC5sYXN0XCIsIHRfMjUgPT09IHRfMjYgLSAxKTtcbmZyYW1lLnNldChcImxvb3AubGVuZ3RoXCIsIHRfMjYpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuaWYodF8zMSAmJiB0XzIzID09IHRfMzApIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHRfMzEsIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xuaWYoIXJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm91dGVyX2xvb3BcIikpLFwibGFzdFwiKSkge1xub3V0cHV0ICs9IFwiLCBcIjtcbjtcbn1cbm91dHB1dCArPSBcIjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbn1cbn1cbmZyYW1lID0gZnJhbWUucG9wKCk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxufVxuZnJhbWUgPSBmcmFtZS5wb3AoKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1jbG9zZSBjbGlja2FibGUtYnV0dG9uIHJlc2V0LXRvcGljLWZpbHRlcnNcXFwiPjwvaT5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXFxuICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2RnRmlsdGVyc0FjdGl2ZVwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiYWN0aXZlLWZpbHRlcnMgYWN0aXZlLWZpbHRlcnMtc2Rnc1xcXCI+XFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJhY3RpdmUtZmlsdGVycy1pbm5lclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiY2Fwc1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJTREdTXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiOlxcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG5mcmFtZSA9IGZyYW1lLnB1c2goKTtcbnZhciB0XzM0ID0gcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJhY3RpdmVTREdJZHNcIik7XG5pZih0XzM0KSB7dmFyIHRfMzMgPSB0XzM0Lmxlbmd0aDtcbmZvcih2YXIgdF8zMj0wOyB0XzMyIDwgdF8zNC5sZW5ndGg7IHRfMzIrKykge1xudmFyIHRfMzUgPSB0XzM0W3RfMzJdO1xuZnJhbWUuc2V0KFwic2RnX2lkXCIsIHRfMzUpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleFwiLCB0XzMyICsgMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4MFwiLCB0XzMyKTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXhcIiwgdF8zMyAtIHRfMzIpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleDBcIiwgdF8zMyAtIHRfMzIgLSAxKTtcbmZyYW1lLnNldChcImxvb3AuZmlyc3RcIiwgdF8zMiA9PT0gMCk7XG5mcmFtZS5zZXQoXCJsb29wLmxhc3RcIiwgdF8zMiA9PT0gdF8zMyAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5sZW5ndGhcIiwgdF8zMyk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbnZhciB0XzM2O1xudF8zNiA9IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibG9vcFwiKTtcbmZyYW1lLnNldChcIm91dGVyX2xvb3BcIiwgdF8zNiwgdHJ1ZSk7XG5pZihmcmFtZS50b3BMZXZlbCkge1xuY29udGV4dC5zZXRWYXJpYWJsZShcIm91dGVyX2xvb3BcIiwgdF8zNik7XG59XG5pZihmcmFtZS50b3BMZXZlbCkge1xuY29udGV4dC5hZGRFeHBvcnQoXCJvdXRlcl9sb29wXCIsIHRfMzYpO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5mcmFtZSA9IGZyYW1lLnB1c2goKTtcbnZhciB0XzM5ID0gcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJhbGxTREdTXCIpO1xuaWYodF8zOSkge3ZhciB0XzM4ID0gdF8zOS5sZW5ndGg7XG5mb3IodmFyIHRfMzc9MDsgdF8zNyA8IHRfMzkubGVuZ3RoOyB0XzM3KyspIHtcbnZhciB0XzQwID0gdF8zOVt0XzM3XTtcbmZyYW1lLnNldChcInNkZ1wiLCB0XzQwKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXhcIiwgdF8zNyArIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleDBcIiwgdF8zNyk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4XCIsIHRfMzggLSB0XzM3KTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXgwXCIsIHRfMzggLSB0XzM3IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmZpcnN0XCIsIHRfMzcgPT09IDApO1xuZnJhbWUuc2V0KFwibG9vcC5sYXN0XCIsIHRfMzcgPT09IHRfMzggLSAxKTtcbmZyYW1lLnNldChcImxvb3AubGVuZ3RoXCIsIHRfMzgpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuaWYodF80MCAmJiB0XzM1ID09IHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzQwKSxcImlkXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLm1lbWJlckxvb2t1cCgodF80MCksXCJuYW1lXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbmlmKCFydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJvdXRlcl9sb29wXCIpKSxcImxhc3RcIikpIHtcbm91dHB1dCArPSBcIiwgXCI7XG47XG59XG5vdXRwdXQgKz0gXCI8L3NwYW4+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG59XG5mcmFtZSA9IGZyYW1lLnBvcCgpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbn1cbmZyYW1lID0gZnJhbWUucG9wKCk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtY2xvc2UgY2xpY2thYmxlLWJ1dHRvbiByZXNldC1zZGctZmlsdGVyc1xcXCI+PC9pPlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIFxcbiAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm1hbmFnZWRUYWdzRmlsdGVyc0FjdGl2ZVwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiYWN0aXZlLWZpbHRlcnMgYWN0aXZlLWZpbHRlcnMtbWFuYWdlZC10YWdzXFxcIj5cXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImFjdGl2ZS1maWx0ZXJzLWlubmVyXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJjYXBzXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibWFuYWdlZFRhZ3NMYWJlbHNcIikpLFwiTUFOQUdFRF9UQUdfTUFQX0xBQkVMXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIjpcXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuZnJhbWUgPSBmcmFtZS5wdXNoKCk7XG52YXIgdF80MyA9IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWN0aXZlTWFuYWdlZFRhZ3NJZHNcIik7XG5pZih0XzQzKSB7dmFyIHRfNDIgPSB0XzQzLmxlbmd0aDtcbmZvcih2YXIgdF80MT0wOyB0XzQxIDwgdF80My5sZW5ndGg7IHRfNDErKykge1xudmFyIHRfNDQgPSB0XzQzW3RfNDFdO1xuZnJhbWUuc2V0KFwibWFuYWdlZF90YWdfaWRcIiwgdF80NCk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfNDEgKyAxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXgwXCIsIHRfNDEpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleFwiLCB0XzQyIC0gdF80MSk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4MFwiLCB0XzQyIC0gdF80MSAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzQxID09PSAwKTtcbmZyYW1lLnNldChcImxvb3AubGFzdFwiLCB0XzQxID09PSB0XzQyIC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzQyKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xudmFyIHRfNDU7XG50XzQ1ID0gcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJsb29wXCIpO1xuZnJhbWUuc2V0KFwib3V0ZXJfbG9vcFwiLCB0XzQ1LCB0cnVlKTtcbmlmKGZyYW1lLnRvcExldmVsKSB7XG5jb250ZXh0LnNldFZhcmlhYmxlKFwib3V0ZXJfbG9vcFwiLCB0XzQ1KTtcbn1cbmlmKGZyYW1lLnRvcExldmVsKSB7XG5jb250ZXh0LmFkZEV4cG9ydChcIm91dGVyX2xvb3BcIiwgdF80NSk7XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbmZyYW1lID0gZnJhbWUucHVzaCgpO1xudmFyIHRfNDggPSBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImFsbE1hbmFnZWRUYWdzXCIpO1xuaWYodF80OCkge3ZhciB0XzQ3ID0gdF80OC5sZW5ndGg7XG5mb3IodmFyIHRfNDY9MDsgdF80NiA8IHRfNDgubGVuZ3RoOyB0XzQ2KyspIHtcbnZhciB0XzQ5ID0gdF80OFt0XzQ2XTtcbmZyYW1lLnNldChcIm1hbmFnZWRfdGFnXCIsIHRfNDkpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleFwiLCB0XzQ2ICsgMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4MFwiLCB0XzQ2KTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXhcIiwgdF80NyAtIHRfNDYpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleDBcIiwgdF80NyAtIHRfNDYgLSAxKTtcbmZyYW1lLnNldChcImxvb3AuZmlyc3RcIiwgdF80NiA9PT0gMCk7XG5mcmFtZS5zZXQoXCJsb29wLmxhc3RcIiwgdF80NiA9PT0gdF80NyAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5sZW5ndGhcIiwgdF80Nyk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5pZih0XzQ5ICYmIHRfNDQgPT0gcnVudGltZS5tZW1iZXJMb29rdXAoKHRfNDkpLFwiaWRcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzQ5KSxcIm5hbWVcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xuaWYoIXJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm91dGVyX2xvb3BcIikpLFwibGFzdFwiKSkge1xub3V0cHV0ICs9IFwiLCBcIjtcbjtcbn1cbm91dHB1dCArPSBcIjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbn1cbmZyYW1lID0gZnJhbWUucG9wKCk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxufVxuZnJhbWUgPSBmcmFtZS5wb3AoKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1jbG9zZSBjbGlja2FibGUtYnV0dG9uIHJlc2V0LW1hbmFnZWQtdGFnLWZpbHRlcnNcXFwiPjwvaT5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICBcXG4gICAgICAgIFxcbiAgICAgICAgXFxuICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicVwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiYWN0aXZlLWZpbHRlcnMgYWN0aXZlLWZpbHRlcnMtcVxcXCI+XFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJhY3RpdmUtZmlsdGVycy1pbm5lclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICBcXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicVwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiXFxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWNsb3NlIGNsaWNrYWJsZS1idXR0b24gcmVzZXQtcVxcXCI+PC9pPlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgXFxuICAgIDwvZGl2PlxcblwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXFxuXCI7XG5pZihwYXJlbnRUZW1wbGF0ZSkge1xucGFyZW50VGVtcGxhdGUucm9vdFJlbmRlckZ1bmMoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpO1xufSBlbHNlIHtcbmNiKG51bGwsIG91dHB1dCk7XG59XG47XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxucmV0dXJuIHtcbnJvb3Q6IHJvb3Rcbn07XG5cbn0pKCk7XG59KSgpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBzaGltKG51bmp1Y2tzLCBlbnYsIG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWRbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL21hcC9tYXAtY29udHJvbHMtYWN0aXZlLWZpbHRlcnMuaHRtbFwiXSAsIGRlcGVuZGVuY2llcylcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Nvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvbWFwL21hcC1jb250cm9scy1hY3RpdmUtZmlsdGVycy5odG1sXG4vLyBtb2R1bGUgaWQgPSAyN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbnZhciBCYXNlVmlldyA9IHJlcXVpcmUoJ3ZpZXdzL2Jhc2UvdmlldycpO1xudmFyIENvbnRlbnRDb250cm9sVmlldyA9IHJlcXVpcmUoJ3ZpZXdzL2Jhc2UvY29udGVudC1jb250cm9sLXZpZXcnKTtcbnZhciBUaWxlVmlldyA9IHJlcXVpcmUoJ3ZpZXdzL3RpbGUtdmlldycpO1xudmFyIHV0aWwgPSByZXF1aXJlKCdsaWIvdXRpbCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IENvbnRlbnRDb250cm9sVmlldy5leHRlbmQoe1xuXG4gICAgdGVtcGxhdGU6IHJlcXVpcmUoJ3RpbGVzL3RpbGUtbGlzdCcpLFxuICAgIFxuICAgIC8vIE1hcmtlciBzdG9yYWdlIGRpY3Qgb2YgezxyZXN1bHRNb2RlbC5pZD46IHRpbGVWaWV3LCAuLi59XG4gICAgLy8gaWQgY29ycmVzcG9uZHMgdG8gc2VsZi5jb2xsZWN0aW9uLmdldCg8aWQ+KVxuICAgIC8vIHVwZGF0ZWQgdGhyb3VnaCB0aGUgaGFuZGxlcnMgb2Ygc2VsZi5jb2xsZWN0aW9uJ3Mgc2lnbmFsc1xuICAgIHRpbGVzOiB7fSxcbiAgICBcbiAgICAvLyB0aGUgTWFzb25yeSBncmlkIGZvciBvdXIgdGlsZXNcbiAgICBncmlkOiBudWxsLFxuICAgIFxuICAgIC8vIG9uIGV2ZXJ5IGlucHV0cyBkaXNhYmxlLCB0aGF0IHRocmVhZCArMXMgdGhpcyBjb3VudGVyIGl0IGFuZCBtYXkgb25seVxuICAgIC8vIHJlLWVuYWJsZSBpbnB1dHMgaWYgdGhlIGNvdW50ZXIgc3RheWVkIHRoZSBzYW1lIGluIHRoZSBtZWFudGltZVxuICAgIC8vIChpLmUuIG5vIG5ldyB0aHJlYWRzIGFyZSBydW5uaW5nIG5vdykgdG8gcHJldmVudCBlbmFibGVkIGlucHV0cyBvbiB3b3JraW5nIHRocmVhZHNcbiAgICBkaXNhYmxlQ291bnRlcjogMCxcbiAgICBcbiAgICAvLyB3aWxsIGJlIHNldCB0byBzZWxmLm9wdGlvbnMgZHVyaW5nIGluaXRpYWxpemF0aW9uXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgLy8gaXMgdGhlIHdpbmRvdyBpbiBmdWxsLXNjcmVlbiBtb2RlIChpbnN0ZWFkIG9mIGluc2lkZSBhIHdpZGdldCBvciBzaW1pbGFyKVxuICAgICAgICBmdWxsc2NyZWVuOiB0cnVlLFxuICAgICAgICBcbiAgICAgICAgLy8gaXMgdGhpcyB2aWV3IHNob3duIHRvZ2V0aGVyIHdpdGggdGhlIG1hcCB2aWV3IGFzIGEgNTAlIHNwbGl0IHNjcmVlbj9cbiAgICAgICAgc3BsaXRzY3JlZW46IGZhbHNlLFxuICAgICAgICBcbiAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgfSxcbiAgICBcbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbiAob3B0aW9ucywgYXBwLCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgLy8gdGhpcyBjYWxscyBzZWxmLmFwcGx5VXJsU2VhcmNoUGFyYW1ldGVycygpXG4gICAgICAgIENvbnRlbnRDb250cm9sVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHNlbGYsIG9wdGlvbnMsIGFwcCwgY29sbGVjdGlvbik7XG4gICAgICAgIFxuICAgICAgICAvLyByZXN1bHQgZXZlbnRzXG4gICAgICAgIHNlbGYuY29sbGVjdGlvbi5vbih7XG4gICAgICAgICAgICdhZGQnIDogc2VsZi50aGlzQ29udGV4dChzZWxmLnRpbGVBZGQpLFxuICAgICAgICAgICAnY2hhbmdlOmhvdmVyZWQnOiBzZWxmLnRoaXNDb250ZXh0KHNlbGYudGlsZUNoYW5nZUhvdmVyKSxcbiAgICAgICAgICAgJ2NoYW5nZTpzZWxlY3RlZCc6IHNlbGYudGhpc0NvbnRleHQoc2VsZi50aWxlQ2hhbmdlU2VsZWN0ZWQpLFxuICAgICAgICAgICAnY2hhbmdlJzogc2VsZi50aGlzQ29udGV4dChzZWxmLnRpbGVVcGRhdGUpLFxuICAgICAgICAgICAncmVtb3ZlJzogc2VsZi50aGlzQ29udGV4dChzZWxmLnRpbGVSZW1vdmUpLFxuICAgICAgICAgICAndXBkYXRlJzogc2VsZi50aGlzQ29udGV4dChzZWxmLnRpbGVzVXBkYXRlKSxcbiAgICAgICAgICAgJ3Jlc2V0Jzogc2VsZi50aGlzQ29udGV4dChzZWxmLnRpbGVzUmVzZXQpLFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIEJhY2tib25lLm1lZGlhdG9yLnN1YnNjcmliZSgnZXJyb3I6c2VhcmNoJywgc2VsZi5vblNlYXJjaEVycm9yLCBzZWxmKTtcblxuICAgICAgICBCYWNrYm9uZS5tZWRpYXRvci5zdWJzY3JpYmUoJ3RpbGUtZGV0YWlsOm9wZW5lZCcsIHNlbGYub25UaWxlRGV0YWlsT3BlbmVkLCBzZWxmKTtcbiAgICAgICAgQmFja2JvbmUubWVkaWF0b3Iuc3Vic2NyaWJlKCd0aWxlLWRldGFpbDpjbG9zZWQnLCBzZWxmLm9uVGlsZURldGFpbENsb3NlZCwgc2VsZik7XG4gICAgfSxcblxuICAgIHJlbmRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIENvbnRlbnRDb250cm9sVmlldy5wcm90b3R5cGUucmVuZGVyLmNhbGwoc2VsZik7XG4gICAgICAgIFxuICAgICAgICBzZWxmLnJlbmRlclRpbGVzSW5pdGlhbCgpO1xuICAgICAgICBcbiAgICAgICAgLy8gc2Nyb2xsIGxpc3RlbmVyXG4gICAgICAgIHNlbGYuJGVsLmZpbmQoJy50aWxlLWNvbnRlbnRzJykub2ZmKCdzY3JvbGwnKS5vbignc2Nyb2xsJywgc2VsZi5vblRpbGVMaXN0U2Nyb2xsZWQpO1xuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuICAgIFxuICAgIC8qKiBFeHRlbmQgdGhlIHRlbXBsYXRlIGRhdGEgYnkgdGhlIGNvbnRyb2xWaWV3J3Mgb3B0aW9ucyBhbmQgc3RhdGUgKi9cbiAgICBnZXRUZW1wbGF0ZURhdGE6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB2YXIgZGF0YSA9IEJhc2VWaWV3LnByb3RvdHlwZS5nZXRUZW1wbGF0ZURhdGEuY2FsbChzZWxmKTtcbiAgICAgICAgZGF0YVsnY29udHJvbFZpZXcnXSA9IF8uZXh0ZW5kKFxuICAgICAgICAgICAge30sXG4gICAgICAgICAgICBzZWxmLkFwcC5jb250cm9sVmlldy5vcHRpb25zLFxuICAgICAgICAgICAgc2VsZi5BcHAuY29udHJvbFZpZXcuc3RhdGVcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSxcbiAgICBcbiAgICBhZnRlclJlbmRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgfSxcbiAgICBcbiAgICAvKiogU2hvd3MgYW5kIHJlbG9hZHMgdGhlIHRpbGUgdmlldyAqL1xuICAgIHJlbG9hZDogZnVuY3Rpb24gKCkge1xuICAgIFx0dXRpbC5sb2coJyoqKiBSZWxvYWRpbmcgVGlsZSBWaWV3ICoqKicpXG4gICAgXHR0aGlzLiRlbC50b2dnbGVDbGFzcygndGlsZS1saXN0LXNwbGl0c2NyZWVuJywgdGhpcy5vcHRpb25zLnNwbGl0c2NyZWVuKTtcbiAgICBcdHRoaXMuJGVsLnRvZ2dsZUNsYXNzKCd0aWxlLWxpc3QtdGlsZS1mdWxsc2NyZWVuJywgIXRoaXMub3B0aW9ucy5zcGxpdHNjcmVlbik7XG4gICAgICAgIHRoaXMuJGVsLnNob3coKTtcbiAgICB9LFxuICAgIFxuICAgIC8qKiBIaWRlcyB0aGUgdGlsZSB2aWV3ICovXG4gICAgaGlkZTogZnVuY3Rpb24gKCkge1xuICAgIFx0dXRpbC5sb2coJyoqKiBIaWRpbmcgVGlsZSBWaWV3ICoqKicpXG4gICAgXHR0aGlzLiRlbC5oaWRlKCk7XG4gICAgfSxcbiAgICBcbiAgICAvKiogSGFuZGxlcyBldmVudHMgZm9yIGluZmluaXRlIHNjcm9sbCAqL1xuICAgIG9uVGlsZUxpc3RTY3JvbGxlZDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgXHR2YXIgJGxpc3QgPSAkKGV2ZW50LnRhcmdldCk7XG4gICAgXHRpZiAoJGxpc3Quc2Nyb2xsVG9wKCkgKyAkbGlzdC5pbm5lckhlaWdodCgpID49ICRsaXN0WzBdLnNjcm9sbEhlaWdodCAtIDI1MCkge1xuICAgICAgICBcdEJhY2tib25lLm1lZGlhdG9yLnB1Ymxpc2goJ3RpbGUtbGlzdDpzY3JvbGwtZW5kLXJlYWNoZWQnKTtcbiAgICBcdH1cbiAgICB9LFxuICAgIFxuICAgIFxuICAgIC8vIGV4dGVuZGVkIGZyb20gY29udGVudC1jb250cm9sLXZpZXcuanNcbiAgICBhcHBseVVybFNlYXJjaFBhcmFtZXRlcnM6IGZ1bmN0aW9uICh1cmxQYXJhbXMpIHtcbiAgICAgICAgLy8gZG9uJ3QgbmVlZCB0aGlzIGhlcmVcbiAgICB9LFxuICAgIFxuICAgIC8vIGV4dGVuZGVkIGZyb20gY29udGVudC1jb250cm9sLXZpZXcuanNcbiAgICBjb250cmlidXRlVG9TZWFyY2hQYXJhbWV0ZXJzOiBmdW5jdGlvbihmb3JBUEkpIHtcbiAgICAgICAgLy8gZG9uJ3QgbmVlZCB0aGlzIGhlcmVcbiAgICB9LFxuICAgIFxuICAgIFxuICAgIC8vIFJlc3VsdENvbGxlY3Rpb24gRXZlbnQgaGFuZGxlcnNcbiAgICAvLyAtLS0tLS0tLS0tLS0tLVxuXG4gICAgdGlsZUFkZDogZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgIC8vIGFkZGluZyBhIHRpbGUgdGhhdCBpcyBhbHJlYWR5IHRoZXJlPyBpbXBvc3NpYnJ1ISBidXQgYmVzdCBiZSBzdXJlLlxuICAgICAgICBpZiAocmVzdWx0LmlkIGluIHRoaXMudGlsZXMpIHtcbiAgICAgICAgICAgIHRoaXMudGlsZVJlbW92ZShyZXN1bHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRpbGUgPSBuZXcgVGlsZVZpZXcoe1xuXHQgICAgICAgICAgICBtb2RlbDogcmVzdWx0LFxuXHQgICAgICAgICAgICBlbFBhcmVudDogJyN0aWxlLWNvbnRhaW5lcicsXG5cdCAgICAgICAgfSwgXG5cdCAgICAgICAgdGhpcy5BcHApLnJlbmRlcigpO1xuICAgICAgICB0aGlzLnRpbGVzW3Jlc3VsdC5pZF0gPSB0aWxlO1xuICAgIH0sXG5cbiAgICB0aWxlUmVtb3ZlOiBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgaWYgKHJlc3VsdC5nZXQoJ3NlbGVjdGVkJykpIHtcbiAgICAgICAgICAgIHV0aWwubG9nKCd0aWxlLWxpc3Qtdmlldy5qczogVE9ETzo6IHdhcyBvcmRlcmVkIHRvIHJlbW92ZSBhIHRpbGUgdGhhdCBpcyBjdXJyZW50bHkgc2VsZWN0ZWQuIE5PVCBET0lORyBBTllUSElORyBSTiEnKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXN1bHQuaWQgaW4gdGhpcy50aWxlcykge1xuICAgICAgICAgICAgdmFyIHRpbGUgPSB0aGlzLnRpbGVzW3Jlc3VsdC5pZF07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRpbGUucmVtb3ZlKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnRpbGVzW3Jlc3VsdC5pZF07XG4gICAgICAgICAgICB1dGlsLmxvZygnUmVtb3ZlZCB0aWxlIGF0ICcgKyByZXN1bHQuaWQpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHRpbGVDaGFuZ2VIb3ZlcjogZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgIFxuICAgIH0sXG4gICAgXG4gICAgdGlsZUNoYW5nZVNlbGVjdGVkOiBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgXG4gICAgfSxcblxuICAgIHRpbGVVcGRhdGU6IGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAvLyBkb24ndCB1c2UgdGhpcyB0cmlnZ2VyIHdoZW4gb25seSBob3ZlcmVkL3NlbGVjdGVkIHN0YXRlIHdhcyBjaGFuZ2VkIC0gdGhleSBoYXZlIHRoZWlyIG93biBoYW5kbGVyc1xuICAgICAgICB2YXIgYXR0cnMgPSByZXN1bHQuY2hhbmdlZEF0dHJpYnV0ZXMoKTtcbiAgICAgICAgaWYgKGF0dHJzICYmICgnc2VsZWN0ZWQnIGluIGF0dHJzIHx8ICdob3ZlcmVkJyBpbiBhdHRycykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzdWx0LmlkIGluIHRoaXMudGlsZXMpIHtcbiAgICAgICAgICAgIHZhciB0aWxlID0gdGhpcy50aWxlc1tyZXN1bHQuaWRdO1xuICAgICAgICAgICAgdGlsZS5yZW5kZXIoKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgXG4gICAgLyoqIEhhbmRsZXIgZm9yIHdoZW4gdGlsZXMgaGF2ZSBiZWVuIGFkZGVkIHRvIHRoZSBjb2xsZWN0aW9uLCBsaWtlIGFmdGVyIGFuIGluZmluaXRlIHNjcm9sbCBldmVudCAqL1xuICAgIHRpbGVzVXBkYXRlOiBmdW5jdGlvbihyZXN1bHRDb2xsZWN0aW9uLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICBzZWxmLmdyaWRSZWZyZXNoKCk7XG4gICAgICAgIHNlbGYuZW5hYmxlSW5wdXQodHJ1ZSk7XG4gICAgfSxcbiAgICBcbiAgICAvKiogSGFuZGxlciBmb3Igd2hlbiB0aGUgZW50aXJlIGNvbGxlY3Rpb24gY2hhbmdlcyAqL1xuICAgIHRpbGVzUmVzZXQ6IGZ1bmN0aW9uKHJlc3VsdENvbGxlY3Rpb24sIG9wdGlvbnMpIHtcbiAgICAgICAgLy8gb3B0aW9ucy5wcmV2aW91c01vZGVscyBjb250YWlucyB0aGUgb2xkIG1vZGVscyBpZiB3ZSBuZWVkIHRoZW1cbiAgICAgICAgdGhpcy5zd2FwVGlsZXNldChyZXN1bHRDb2xsZWN0aW9uLm1vZGVscyk7XG4gICAgfSxcbiAgICBcbiAgICAvKiogU3dhcHMgb3V0IGEgbmV3IHRpbGUgc2V0IGJ5IGRpc2FibGluZyB0aGUgdGlsZSBsaXN0IGludGVyYWN0aW9uLCBcbiAgICAgKiAgICAgbG9hZGluZyB0aGUgbmV3IHRpbGVzIGludG8gYSBzZXBlcmF0ZSBjb250YWluZXIsIHdhaXRpbmcgdW50aWwgYWxsIHRoZWlyXG4gICAgICogIGltYWdlcyBoYXZlIGxvYWRlZCwgYW5kIHRoZW4gc3dhcHBpbmcgaW4gdGhlIG5ldyBjb250YWluZXIgZm9yIHRoZSBvbGQgb25lLiAqLyBcbiAgICBzd2FwVGlsZXNldDogZnVuY3Rpb24obmV3VGlsZU1vZGVscykge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciAkb2xkX2dyaWQgPSBzZWxmLmdyaWQ7XG4gICAgICAgIHZhciBvbGRfdGlsZXMgPSBzZWxmLnRpbGVzO1xuICAgICAgICBzZWxmLnRpbGVzID0ge307XG4gICAgICAgIFxuICAgICAgICAvLyBkaXNhYmxlIHRpbGUgdmlldywgc2V0IG9sZCBjb250YWluZXIgYXNpZGUgYWJvdmUgdGhlIG5ldyBvbmVcbiAgICAgICAgc2VsZi5kaXNhYmxlSW5wdXQoKTtcbiAgICAgICAgc2VsZi5kaXNhYmxlQ291bnRlciArPSAxO1xuICAgICAgICB2YXIgbG9jYWxEaXNhYmxlQ291bnRlciA9IHNlbGYuZGlzYWJsZUNvdW50ZXI7XG4gICAgICAgIGlmICgkb2xkX2dyaWQpIHtcbiAgICAgICAgICAgICRvbGRfZ3JpZC5yZW1vdmVBdHRyKCdpZCcpLmNzcyh7J3otaW5kZXgnOiAxfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbG9hZCBuZXcgdGlsZXMgaW50byBuZXcgY29udGFpbmVyICh3aGljaCBpcyBjb3ZlcmVkIGJ5IG9sZClcbiAgICAgICAgc2VsZi5ncmlkID0gc2VsZi4kZWwuZmluZCgnI3RpbGUtY29udGFpbmVyLXByb3RvJylcbiAgICAgICAgICAgIC5jbG9uZSgpXG4gICAgICAgICAgICAuYXR0cignaWQnLCAndGlsZS1jb250YWluZXInKVxuICAgICAgICAgICAgLmFwcGVuZFRvKHNlbGYuJGVsLmZpbmQoJyN0aWxlLWNvbnRhaW5lci1wcm90bycpLnBhcmVudCgpKVxuICAgICAgICAgICAgLnNob3coKTtcbiAgICAgICAgLy8gdXNlIGEgbG9jYWwgZ3JpZCB2YXJpYWJsZSBiZWNhdXNlIG5ldyB0aHJlYWRzIG1pZ2h0XG4gICAgICAgIC8vIHN3YXAgb3V0IHNlbGYuZ3JpZCBiZWZvcmUgaW1hZ2VzbG9hZGVkIHJlc29sdmVzXG4gICAgICAgIHZhciBncmlkID0gc2VsZi5ncmlkO1xuICAgICAgICBcbiAgICAgICAgXy5lYWNoKG5ld1RpbGVNb2RlbHMsIGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgICAgICAgICBzZWxmLnRpbGVBZGQocmVzdWx0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBncmlkLmltYWdlc0xvYWRlZCggZnVuY3Rpb24oKSB7IFxuICAgICAgICAgICAgZ3JpZC5tYXNvbnJ5KHtcbiAgICAgICAgICAgICAgICAvLyBzZXQgaXRlbVNlbGVjdG9yIHNvIC5ncmlkLXNpemVyIGlzIG5vdCB1c2VkIGluIGxheW91dFxuICAgICAgICAgICAgICAgIGl0ZW1TZWxlY3RvcjogJy5ncmlkLWl0ZW0nLFxuICAgICAgICAgICAgICAgIC8vIHVzZSBlbGVtZW50IGZvciBvcHRpb25cbiAgICAgICAgICAgICAgICBjb2x1bW5XaWR0aDogJy5ncmlkLXNpemVyJyxcbiAgICAgICAgICAgICAgICBwZXJjZW50UG9zaXRpb246IHRydWUsXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbkR1cmF0aW9uOiAwXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKCRvbGRfZ3JpZCkge1xuICAgICAgICAgICAgICAgICRvbGRfZ3JpZC5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyByZS1lbmFibGUgdGlsZS12aWV3IGlucHV0IHVubGVzcyBhIG5ldyB0aHJlYWQgaXMgbm93IHJ1bm5pbmdcbiAgICAgICAgICAgIGlmIChzZWxmLmRpc2FibGVDb3VudGVyID09IGxvY2FsRGlzYWJsZUNvdW50ZXIpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmVuYWJsZUlucHV0KHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBjbGVhbmx5IHJlbW92ZSBvbGQgdGlsZSB2aWV3cyBhbmQgb2xkIGdyaWQgdG8gbm90IGNhdXNlIGxlYWtzXG4gICAgICAgICAgICBpZiAob2xkX3RpbGVzKSB7XG4gICAgICAgICAgICAgICAgXy5lYWNoKG9sZF90aWxlcywgZnVuY3Rpb24odGlsZSl7XG4gICAgICAgICAgICAgICAgICAgIHRpbGUucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoJG9sZF9ncmlkKSB7XG4gICAgICAgICAgICAgICAgJG9sZF9ncmlkLnJlbW92ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIHV0aWwubG9nKCdUT0RPOiBhZGQgYSBjYXNlIGZvciBpbWFnZXNMb2FkZWQoKSBuZXZlciB0cmlnZ2VyaW5nIScpXG4gICAgfSxcbiAgICBcbiAgICAvKiogT3JkZXJzIE1hc29ucnkgdG8gcmVvcmRlciB0aWxlcyBhZnRlciBhIHJlZnJlc2ggKi9cbiAgICBncmlkUmVmcmVzaDogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHNlbGYuZ3JpZC5pbWFnZXNMb2FkZWQoIGZ1bmN0aW9uKCkgeyBcbiAgICAgICAgICAgIHNlbGYuZ3JpZC5tYXNvbnJ5KCdyZWxvYWRJdGVtcycpO1xuICAgICAgICAgICAgc2VsZi5ncmlkLm1hc29ucnkoJ2xheW91dCcpXG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgXG4gICAgZGlzYWJsZUlucHV0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kZWwuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgfSxcbiAgICBcbiAgICBlbmFibGVJbnB1dDogZnVuY3Rpb24obG9jYWxfZW5hYmxlKSB7XG4gICAgICAgIC8vIHdlIGlnbm9yZSB0aGUgZW5hYmxlIHNpZ25hbCBmcm9tIHRoZSBjb250ZW50IHZpZXcgYW5kIG9ubHlcbiAgICAgICAgLy8gcmUtZW5hYmxlIHRoZSB0aWxlIHZpZXcgb25jZSB3ZSBoYXZlIHJlbmRlcmVkIHRoZSByZXN1bHRzLlxuICAgICAgICBpZiAobG9jYWxfZW5hYmxlKSB7XG4gICAgICAgICAgICB0aGlzLiRlbC5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBvblRpbGVEZXRhaWxPcGVuZWQ6IGZ1bmN0aW9uICgpIHtcbiAgICBcdHRoaXMuQXBwLiRlbC5hZGRDbGFzcygndGlsZS1kZXRhaWwtb3BlbicpO1xuICAgIFx0dGhpcy5BcHAudGlsZUxpc3RWaWV3LmdyaWRSZWZyZXNoKCk7XG4gICAgfSxcbiAgICBcbiAgICBvblRpbGVEZXRhaWxDbG9zZWQ6IGZ1bmN0aW9uICgpIHtcbiAgICBcdHRoaXMuQXBwLiRlbC5yZW1vdmVDbGFzcygndGlsZS1kZXRhaWwtb3BlbicpO1xuICAgIFx0dGhpcy5BcHAudGlsZUxpc3RWaWV3LmdyaWRSZWZyZXNoKCk7XG4gICAgfSxcbiAgICBcbiAgICBcbiAgICBcbiAgICBvblNlYXJjaEVycm9yOiBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gd2hlbiB0aGUgc2VhcmNoIGZhaWxzLCByZS1lbmFibGUgdGhlIHRpbGUtbGlzdFxuICAgICAgICB0aGlzLmVuYWJsZUlucHV0KHRydWUpO1xuICAgIH0sXG4gICAgXG4gICAgLy8gUHJpdmF0ZVxuICAgIC8vIC0tLS0tLS1cblxuICAgIHJlbmRlclRpbGVzSW5pdGlhbDogZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBub3RoaW5nIHRvIGRvIGhlcmUgZm9yIG5vd1xuICAgIH0sXG5cbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy9jbGllbnQvdmlld3MvdGlsZS1saXN0LXZpZXcuanNcbi8vIG1vZHVsZSBpZCA9IDI4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxudmFyIEJhc2VWaWV3ID0gcmVxdWlyZSgndmlld3MvYmFzZS92aWV3Jyk7XG52YXIgUmVzdWx0ID0gcmVxdWlyZSgnbW9kZWxzL3Jlc3VsdCcpO1xudmFyIHV0aWwgPSByZXF1aXJlKCdsaWIvdXRpbCcpO1xuXG52YXIgdGlsZVRlbXBsYXRlRGVmYXVsdCA9IHJlcXVpcmUoJ3RpbGVzL2dyaWQtdGlsZS1kZWZhdWx0Jyk7XG5cbmlmIChDT1NJTk5VU19DTE9VRF9FTkFCTEVEKSB7XG4gICAgdmFyIHRpbGVUZW1wbGF0ZUNsb3VkZmlsZSA9IHJlcXVpcmUoJ3RpbGVzL2dyaWQtdGlsZS1jbG91ZGZpbGUnKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBCYXNlVmlldy5leHRlbmQoe1xuICAgIFxuICAgIC8vIHJlZmVyZW5jZSBiYWNrIHRvIHRoZSBtYWluIEFwcFxuICAgIEFwcDogbnVsbCxcbiAgICBcbiAgICBtb2RlbDogUmVzdWx0LFxuXG4gICAgdGVtcGxhdGU6IHRpbGVUZW1wbGF0ZURlZmF1bHQsIC8vIGRldGVybWluZWQgaW4gYGZpdFRlbXBsYXRlKClgXG4gICAgXG4gICAgLy8gVGhlIERPTSBldmVudHMgc3BlY2lmaWMgdG8gYW4gaXRlbS5cbiAgICBldmVudHM6IHtcbiAgICAgICAgJ2NsaWNrIC5yZXN1bHQtbGluayc6ICdvblJlc3VsdExpbmtDbGlja2VkJyxcbiAgICAgICAgJ2NsaWNrIC50b3BpYy1maWx0ZXItbGluayc6ICdvblRvcGljTGlua0NsaWNrZWQnLFxuICAgICAgICAnY2xpY2sgLnRleHQtdG9waWMtZmlsdGVyLWxpbmsnOiAnb25UZXh0VG9waWNMaW5rQ2xpY2tlZCcsXG5cbiAgICAgICAgJ21vdXNlZW50ZXInOiAnb25Nb3VzZUVudGVyJyxcbiAgICAgICAgJ21vdXNlbGVhdmUnOiAnb25Nb3VzZUxlYXZlJyxcbiAgICB9LFxuICAgIFxuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIChvcHRpb25zLCBhcHApIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBCYXNlVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHNlbGYsIG9wdGlvbnMpO1xuICAgICAgICBzZWxmLkFwcCA9IGFwcDtcbiAgICAgICAgXG4gICAgICAgIHNlbGYubW9kZWwub24oe1xuICAgICAgICAgICAgJ2NoYW5nZTpob3ZlcmVkJzogc2VsZi50aGlzQ29udGV4dChzZWxmLm9uSG92ZXJDaGFuZ2VkKSxcbiAgICAgICAgfSk7XG4gICAgICAgIHNlbGYuZml0VGVtcGxhdGUoKTtcbiAgICB9LFxuICAgIFxuICAgIC8qKiBBZGp1c3QgdGhpcyB2aWV3J3MgdGVtcGxhdGUgYmFzZWQgb24gdGhlIHJlc3VsdCB0eXBlIGl0IGRpc3BsYXlzIChhbmQgb3RoZXIgc3RhdGVzKSAqL1xuICAgIGZpdFRlbXBsYXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgaWYgKHNlbGYubW9kZWwuZ2V0KCd0eXBlJykgPT0gJ2Nsb3VkZmlsZScpIHtcbiAgICAgICAgICAgIHNlbGYudGVtcGxhdGUgPSB0aWxlVGVtcGxhdGVDbG91ZGZpbGU7XG4gICAgICAgICAgICBzZWxmLnN0YXRlLmlzU21hbGwgPSB0cnVlO1xuICAgICAgICAgICAgc2VsZi5zdGF0ZS5ub0ltYWdlID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChzZWxmLm1vZGVsLmdldCgndHlwZScpID09ICdwZW9wbGUnKSB7XG4gICAgICAgICAgICBzZWxmLnN0YXRlLmlzU21hbGwgPSB0cnVlO1xuICAgICAgICB9IFxuICAgICAgICBzZWxmLnN0YXRlLmlzWW91ID0gc2VsZi5tb2RlbC5nZXQoJ3R5cGUnKSA9PSAncGVvcGxlJyAmJiBjb3Npbm51c19hY3RpdmVfdXNlciAmJiBzZWxmLm1vZGVsLmdldCgnc2x1ZycpID09IGNvc2lubnVzX2FjdGl2ZV91c2VyLnVzZXJuYW1lO1xuICAgIH0sXG4gICAgXG4gICAgLyoqIEV4dGVuZCB0aGUgdGVtcGxhdGUgZGF0YSBieSB0aGUgY29udHJvbFZpZXcncyBvcHRpb25zIGFuZCBzdGF0ZSAqL1xuICAgIGdldFRlbXBsYXRlRGF0YTogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBkYXRhID0gQmFzZVZpZXcucHJvdG90eXBlLmdldFRlbXBsYXRlRGF0YS5jYWxsKHNlbGYpO1xuICAgICAgICBkYXRhWydjb250cm9sVmlldyddID0gXy5leHRlbmQoXG4gICAgICAgICAgICB7fSxcbiAgICAgICAgICAgIHNlbGYuQXBwLmNvbnRyb2xWaWV3Lm9wdGlvbnMsXG4gICAgICAgICAgICBzZWxmLkFwcC5jb250cm9sVmlldy5zdGF0ZVxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9LFxuICAgIFxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZSAuaG92ZXJlZCBwcm9wZXJ0eSBvZiB0aGUgUmVzdWx0IG1vZGVsIHdhcyBjaGFuZ2VkLlxuICAgICAqIFdlIGFjdHVhbGx5IGRvIHRoZSBkaXNwbGF5IGFuZCByZS1yZW5kZXIgaGVyZSwgYmVjYXVzZVxuICAgICAqIHRoZSBzZWxlY3RlZCBjaGFuZ2UgbWF5IGJlIHRyaWdnZXJlZCBpbiBvdGhlciB2aWV3cy5cbiAgICAgKi9cbiAgICBvbkhvdmVyQ2hhbmdlZDogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLiRlbC50b2dnbGVDbGFzcygnaG92ZXJlZCcsIHRoaXMubW9kZWwuZ2V0KCdob3ZlcmVkJykpO1xuICAgIH0sXG4gICAgXG4gICAgXG4gICAgb25Nb3VzZUVudGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLm1vZGVsLmdldCgnc2VsZWN0ZWQnKSkge1xuICAgICAgICAgICAgdXRpbC5sb2coJ3RpbGUtdmlldy5qczogZ290IGEgaG92ZXIgZXZlbnQhIGlkOiAnICsgdGhpcy5tb2RlbC5pZCk7XG4gICAgICAgICAgICB0aGlzLkFwcC5jb250cm9sVmlldy5zZXRIb3ZlcmVkUmVzdWx0KHRoaXMubW9kZWwpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBvbk1vdXNlTGVhdmU6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXRoaXMubW9kZWwuZ2V0KCdzZWxlY3RlZCcpKSB7XG4gICAgICAgICAgICB1dGlsLmxvZygndGlsZS12aWV3LmpzOiBnb3QgYW4gdW5ob3ZlciBldmVudCEgaWQ6ICcgKyB0aGlzLm1vZGVsLmlkKTtcbiAgICAgICAgICAgIHRoaXMuQXBwLmNvbnRyb2xWaWV3LnNldEhvdmVyZWRSZXN1bHQobnVsbCk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIFxuICAgIC8qKiBDYWxsZWQgd2hlbiBhIHRvcGljIGxpbmsgaXMgY2xpY2tlZCB0byBmaWx0ZXIgZm9yIHRoYXQgdG9waWMgb25seSAqL1xuICAgIG9uVG9waWNMaW5rQ2xpY2tlZDogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgdGhpcy5BcHAuY29udHJvbFZpZXcub25Ub3BpY0xpbmtDbGlja2VkKGV2ZW50KTtcbiAgICB9LFxuXG4gICAgb25UZXh0VG9waWNMaW5rQ2xpY2tlZDogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgdGhpcy5BcHAuY29udHJvbFZpZXcub25UZXh0VG9waWNMaW5rQ2xpY2tlZChldmVudCk7XG4gICAgfSxcbiAgICBcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiBhIGxpbmsgaXMgY2xpY2tlZCB0aGF0IGxlYWRzIHRvIG9wZW5pbmcgYSBkZXRhaWwgdmlldy5cbiAgICAgKiBXZSBvbmx5IGNoYW5nZSB0aGUgUmVzdWx0IG1vZGVsJ3MgLnNlbGVjdGVkIHByb3BlcnR5IGFuZFxuICAgICAqIGRvbid0IGRvIGFueSByZW5kZXJpbmcgaGVyZS5cbiAgICAgKi9cbiAgICBvblJlc3VsdExpbmtDbGlja2VkOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5BcHAuY29udHJvbFZpZXcub25SZXN1bHRMaW5rQ2xpY2tlZChldmVudCk7XG4gICAgfSxcbiAgICBcbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy9jbGllbnQvdmlld3MvdGlsZS12aWV3LmpzXG4vLyBtb2R1bGUgaWQgPSAyOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgbnVuanVja3MgPSByZXF1aXJlKFwibnVuanVja3MvYnJvd3Nlci9udW5qdWNrcy1zbGltXCIpO1xudmFyIGVudjtcbmlmICghbnVuanVja3MuY3VycmVudEVudil7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnYgPSBuZXcgbnVuanVja3MuRW52aXJvbm1lbnQoW10sIHVuZGVmaW5lZCk7XG59IGVsc2Uge1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52O1xufVxudmFyIGNvbmZpZ3VyZSA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi8uLi9udW5qdWNrcy5jb25maWcuanNcIikoZW52KTtcbnZhciBkZXBlbmRlbmNpZXMgPSBudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzIHx8IChudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzID0ge30pO1xuZGVwZW5kZW5jaWVzW1widGlsZXMvZ3JpZC10aWxlLWJhc2VcIl0gPSByZXF1aXJlKCBcInRpbGVzL2dyaWQtdGlsZS1iYXNlXCIgKTtcbmRlcGVuZGVuY2llc1tcImluY2x1ZGUvbWFjcm9zLmh0bWxcIl0gPSByZXF1aXJlKCBcImluY2x1ZGUvbWFjcm9zLmh0bWxcIiApO1xuXG5cblxuXG52YXIgc2hpbSA9IHJlcXVpcmUoXCIvaG9tZS9zYXNjaGEvcHIvY29zaW5udXMtY29yZS9ub2RlX21vZHVsZXMvbnVuanVja3MtbG9hZGVyL3J1bnRpbWUtc2hpbVwiKTtcblxuXG4oZnVuY3Rpb24oKSB7KG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgPSBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkIHx8IHt9KVtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvZ3JpZC10aWxlLWRlZmF1bHQuaHRtbFwiXSA9IChmdW5jdGlvbigpIHtcbmZ1bmN0aW9uIHJvb3QoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbnZhciBwYXJlbnRUZW1wbGF0ZSA9IG51bGw7XG5lbnYuZ2V0VGVtcGxhdGUoXCJ0aWxlcy9ncmlkLXRpbGUtYmFzZVwiLCB0cnVlLCBcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvZ3JpZC10aWxlLWRlZmF1bHQuaHRtbFwiLCBmYWxzZSwgZnVuY3Rpb24odF8yLF9wYXJlbnRUZW1wbGF0ZSkge1xuaWYodF8yKSB7IGNiKHRfMik7IHJldHVybjsgfVxucGFyZW50VGVtcGxhdGUgPSBfcGFyZW50VGVtcGxhdGVcbmZvcih2YXIgdF8xIGluIHBhcmVudFRlbXBsYXRlLmJsb2Nrcykge1xuY29udGV4dC5hZGRCbG9jayh0XzEsIHBhcmVudFRlbXBsYXRlLmJsb2Nrc1t0XzFdKTtcbn1cbm91dHB1dCArPSBcIlxcblwiO1xuZW52LmdldFRlbXBsYXRlKFwiaW5jbHVkZS9tYWNyb3MuaHRtbFwiLCBmYWxzZSwgXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL2dyaWQtdGlsZS1kZWZhdWx0Lmh0bWxcIiwgZmFsc2UsIGZ1bmN0aW9uKHRfNCx0XzMpIHtcbmlmKHRfNCkgeyBjYih0XzQpOyByZXR1cm47IH1cbnRfMy5nZXRFeHBvcnRlZChmdW5jdGlvbih0XzUsdF8zKSB7XG5pZih0XzUpIHsgY2IodF81KTsgcmV0dXJuOyB9XG5jb250ZXh0LnNldFZhcmlhYmxlKFwibWFjcm9zXCIsIHRfMyk7XG5vdXRwdXQgKz0gXCJcXG5cXG5cIjtcbihwYXJlbnRUZW1wbGF0ZSA/IGZ1bmN0aW9uKGUsIGMsIGYsIHIsIGNiKSB7IGNiKFwiXCIpOyB9IDogY29udGV4dC5nZXRCbG9jayhcImRlc2NyaXB0aW9uX2FyZWFcIikpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfNyx0XzYpIHtcbmlmKHRfNykgeyBjYih0XzcpOyByZXR1cm47IH1cbm91dHB1dCArPSB0XzY7XG5vdXRwdXQgKz0gXCJcXG5cXG5cIjtcbihwYXJlbnRUZW1wbGF0ZSA/IGZ1bmN0aW9uKGUsIGMsIGYsIHIsIGNiKSB7IGNiKFwiXCIpOyB9IDogY29udGV4dC5nZXRCbG9jayhcImljb25fYXJlYVwiKSkoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF85LHRfOCkge1xuaWYodF85KSB7IGNiKHRfOSk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfODtcbm91dHB1dCArPSBcIlxcblwiO1xuaWYocGFyZW50VGVtcGxhdGUpIHtcbnBhcmVudFRlbXBsYXRlLnJvb3RSZW5kZXJGdW5jKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKTtcbn0gZWxzZSB7XG5jYihudWxsLCBvdXRwdXQpO1xufVxufSl9KX0pfSl9KTtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX2Rlc2NyaXB0aW9uX2FyZWEoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcbiAgICA8aDE+XFxuICAgIFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInRpdGxlXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICBcXHRcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiaXNZb3VcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICBcXHRcXHQ8aSBjbGFzcz1cXFwicGFsZS1jb2xvclxcXCI+XFxuICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIChcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJZb3VcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCIpXFxuXFx0XFx0XFx0PC9pPlxcblxcdFxcdFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgIDwvaDE+XFxuICAgIFxcbiAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZ3JvdXBfc2x1Z1wiKSAmJiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImdyb3VwX25hbWVcIikgJiYgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJwb3J0YWxcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwicGFsZS1jb2xvciBvbmUtbGluZVxcXCI+XFxuICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInR5cGVcIikgPT0gXCJwcm9qZWN0c1wiKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKChsaW5lbm8gPSAxNywgY29sbm8gPSAzMywgcnVudGltZS5jYWxsV3JhcChydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJtYWNyb3NcIikpLFwidHlwZUxhYmVsXCIpLCBcIm1hY3Jvc1tcXFwidHlwZUxhYmVsXFxcIl1cIiwgY29udGV4dCwgW1wiZ3JvdXBzXCIscnVudGltZS5tYWtlS2V5d29yZEFyZ3Moe1wic2luZ3VsYXJcIjogMSxcInVzZVN0eWxlc1wiOiAwLFwiY29sb25cIjogMSxcInNob3dJY29uXCI6IDAsXCJDT1NJTk5VU19UUkFOU1wiOiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIkNPU0lOTlVTX1RSQU5TXCIpfSldKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSgobGluZW5vID0gMTgsIGNvbG5vID0gMzQsIHJ1bnRpbWUuY2FsbFdyYXAocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibWFjcm9zXCIpKSxcInJlc3VsdExpbmtcIiksIFwibWFjcm9zW1xcXCJyZXN1bHRMaW5rXFxcIl1cIiwgY29udGV4dCwgW3J1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicG9ydGFsXCIpLHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZ3JvdXBfc2x1Z1wiKSxydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImdyb3VwX25hbWVcIiksXCJncm91cHNcIl0pKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSgobGluZW5vID0gMjAsIGNvbG5vID0gMzMsIHJ1bnRpbWUuY2FsbFdyYXAocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibWFjcm9zXCIpKSxcInR5cGVMYWJlbFwiKSwgXCJtYWNyb3NbXFxcInR5cGVMYWJlbFxcXCJdXCIsIGNvbnRleHQsIFtcInByb2plY3RzXCIscnVudGltZS5tYWtlS2V5d29yZEFyZ3Moe1wic2luZ3VsYXJcIjogMSxcInVzZVN0eWxlc1wiOiAwLFwiY29sb25cIjogMSxcInNob3dJY29uXCI6IDAsXCJDT1NJTk5VU19UUkFOU1wiOiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIkNPU0lOTlVTX1RSQU5TXCIpfSldKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSgobGluZW5vID0gMjEsIGNvbG5vID0gMzQsIHJ1bnRpbWUuY2FsbFdyYXAocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibWFjcm9zXCIpKSxcInJlc3VsdExpbmtcIiksIFwibWFjcm9zW1xcXCJyZXN1bHRMaW5rXFxcIl1cIiwgY29udGV4dCwgW3J1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicG9ydGFsXCIpLHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZ3JvdXBfc2x1Z1wiKSxydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImdyb3VwX25hbWVcIiksXCJwcm9qZWN0c1wiXSkpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICA8L2Rpdj5cXG4gICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgXFxuICAgIFwiO1xuaWYoZW52LmdldEZpbHRlcihcImxlbmd0aFwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwidG9waWNzXCIpKSA+IDApIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uIG9uZS1saW5lXFxcIj5cXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwicGFsZS1jb2xvclxcXCI+XFxuICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIlRvcGljc1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIjpcXG4gICAgICAgICAgICA8L3NwYW4+IFxcbiAgICAgICAgICAgIFwiO1xuZnJhbWUgPSBmcmFtZS5wdXNoKCk7XG52YXIgdF8xMiA9IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwidG9waWNzXCIpO1xuaWYodF8xMikge3ZhciB0XzExID0gdF8xMi5sZW5ndGg7XG5mb3IodmFyIHRfMTA9MDsgdF8xMCA8IHRfMTIubGVuZ3RoOyB0XzEwKyspIHtcbnZhciB0XzEzID0gdF8xMlt0XzEwXTtcbmZyYW1lLnNldChcInRvcGljXCIsIHRfMTMpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleFwiLCB0XzEwICsgMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4MFwiLCB0XzEwKTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXhcIiwgdF8xMSAtIHRfMTApO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleDBcIiwgdF8xMSAtIHRfMTAgLSAxKTtcbmZyYW1lLnNldChcImxvb3AuZmlyc3RcIiwgdF8xMCA9PT0gMCk7XG5mcmFtZS5zZXQoXCJsb29wLmxhc3RcIiwgdF8xMCA9PT0gdF8xMSAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5sZW5ndGhcIiwgdF8xMSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgPGEgY2xhc3M9XFxcInRvcGljLWZpbHRlci1saW5rIFxcXCIgZGF0YS10b3BpYy1pZD1cXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHRfMTMsIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxcIj5cIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvbnRyb2xWaWV3XCIpKSxcImFsbFRvcGljc1wiKSksdF8xMyksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiPC9hPlwiO1xuaWYoIXJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImxvb3BcIikpLFwibGFzdFwiKSkge1xub3V0cHV0ICs9IFwiLFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgXCI7XG47XG59XG59XG5mcmFtZSA9IGZyYW1lLnBvcCgpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICA8L2Rpdj5cXG4gICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgXFxuICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJkZXNjcmlwdGlvblwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLXNlY3Rpb24gdGlsZS1kZXNjcmlwdGlvblxcXCI+XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRGaWx0ZXIoXCJzYWZlXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJkZXNjcmlwdGlvblwiKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiPC9kaXY+XFxuICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXCI7XG5jYihudWxsLCBvdXRwdXQpO1xuO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfaWNvbl9hcmVhKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgXCI7XG5pZigocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0eXBlXCIpID09IFwiZXZlbnRzXCIgJiYgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJwYXJ0aWNpcGFudF9jb3VudFwiKSA+IDEpIHx8IChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInR5cGVcIikgIT0gXCJldmVudHNcIiAmJiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm1lbWJlcl9jb3VudFwiKSA+IDEpIHx8IChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvbnRlbnRfY291bnRcIikgPiAwKSkge1xub3V0cHV0ICs9IFwiXFxuICAgIDxkaXYgY2xhc3M9XFxcInRpbGUtc2VjdGlvbiBwYWxlLWNvbG9yIG9uZS1saW5lXFxcIj5cXG4gICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0eXBlXCIpID09IFwiZXZlbnRzXCIgJiYgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJwYXJ0aWNpcGFudF9jb3VudFwiKSA+IDEpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJtdWx0aS1zcGFuXFxcIiB0aXRsZT1cXFwiXFxuICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIlBhcnRpY2lwYW50c1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIFxcXCI+XFxuICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1ncm91cFxcXCI+PC9pPiBcXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicGFydGljaXBhbnRfY291bnRcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIFxcbiAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInR5cGVcIikgPT0gXCJwZW9wbGVcIiAmJiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm1lbWJlcl9jb3VudFwiKSA+IDEpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJtdWx0aS1zcGFuXFxcIiB0aXRsZT1cXFwiXFxuICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0eXBlXCIpID09IFwicGVvcGxlXCIpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIlByb2plY3RzL0dyb3Vwc1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiTWVtYmVyc1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIFxcXCI+XFxuICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1ncm91cFxcXCI+PC9pPiBcXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibWVtYmVyX2NvdW50XCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICBcXG4gICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0eXBlXCIpID09IFwicHJvamVjdHNcIiB8fCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInR5cGVcIikgPT0gXCJncm91cHNcIikge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm1lbWJlcl9jb3VudFwiKSA+IDEpIHtcbm91dHB1dCArPSBcIlxcblxcdCAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJtdWx0aS1zcGFuXFxcIiB0aXRsZT1cXFwiXFxuXFx0ICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0ICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIk1lbWJlcnNcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgICAgICAgICBcXFwiPlxcblxcdCAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtZ3JvdXBcXFwiPjwvaT4gXFxuXFx0ICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm1lbWJlcl9jb3VudFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb250ZW50X2NvdW50XCIpID4gMCkge1xub3V0cHV0ICs9IFwiXFxuXFx0ICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcIm11bHRpLXNwYW5cXFwiIHRpdGxlPVxcXCJcXG5cXHQgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiRXZlbnRzXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0ICAgICAgICAgICAgXFxcIj5cXG5cXHQgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWNhbGVuZGFyXFxcIj48L2k+IFxcblxcdCAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb250ZW50X2NvdW50XCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdCAgICAgICAgICAgIDwvc3Bhbj5cXG5cXHQgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgXFxuICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwidHlwZVwiKSA9PSBcImlkZWFzXCIgJiYgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJwYXJ0aWNpcGFudF9jb3VudFwiKSA+IDApIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJtdWx0aS1zcGFuXFxcIiB0aXRsZT1cXFwiXFxuICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkxpa2VzXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgXFxcIj5cXG4gICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWhlYXJ0IFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJsaWtlZFwiKSkge1xub3V0cHV0ICs9IFwiYXBwbHktY29sb3ItbGlrZWRcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcXCIgPjwvaT4gXFxuICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInBhcnRpY2lwYW50X2NvdW50XCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwidHlwZVwiKSA9PSBcImlkZWFzXCIgJiYgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb250ZW50X2NvdW50XCIpID4gMCkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcIm11bHRpLXNwYW5cXFwiIHRpdGxlPVxcXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiUHJvamVjdHNcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICBcXFwiPlxcbiAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtZ3JvdXBcXFwiPjwvaT4gXFxuICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvbnRlbnRfY291bnRcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIFxcbiAgICAgICAgXFxuICAgIDwvZGl2PlxcbiAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICBcXG5cIjtcbmNiKG51bGwsIG91dHB1dCk7XG47XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxucmV0dXJuIHtcbmJfZGVzY3JpcHRpb25fYXJlYTogYl9kZXNjcmlwdGlvbl9hcmVhLFxuYl9pY29uX2FyZWE6IGJfaWNvbl9hcmVhLFxucm9vdDogcm9vdFxufTtcblxufSkoKTtcbn0pKCk7XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHNoaW0obnVuanVja3MsIGVudiwgbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZFtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvZ3JpZC10aWxlLWRlZmF1bHQuaHRtbFwiXSAsIGRlcGVuZGVuY2llcylcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Nvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvZ3JpZC10aWxlLWRlZmF1bHQuaHRtbFxuLy8gbW9kdWxlIGlkID0gMzBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIG51bmp1Y2tzID0gcmVxdWlyZShcIm51bmp1Y2tzL2Jyb3dzZXIvbnVuanVja3Mtc2xpbVwiKTtcbnZhciBlbnY7XG5pZiAoIW51bmp1Y2tzLmN1cnJlbnRFbnYpe1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52ID0gbmV3IG51bmp1Y2tzLkVudmlyb25tZW50KFtdLCB1bmRlZmluZWQpO1xufSBlbHNlIHtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudjtcbn1cbnZhciBjb25maWd1cmUgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vLi4vbnVuanVja3MuY29uZmlnLmpzXCIpKGVudik7XG52YXIgZGVwZW5kZW5jaWVzID0gbnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyB8fCAobnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyA9IHt9KTtcbmRlcGVuZGVuY2llc1tcImluY2x1ZGUvbWFjcm9zLmh0bWxcIl0gPSByZXF1aXJlKCBcImluY2x1ZGUvbWFjcm9zLmh0bWxcIiApO1xuXG5cblxuXG52YXIgc2hpbSA9IHJlcXVpcmUoXCIvaG9tZS9zYXNjaGEvcHIvY29zaW5udXMtY29yZS9ub2RlX21vZHVsZXMvbnVuanVja3MtbG9hZGVyL3J1bnRpbWUtc2hpbVwiKTtcblxuXG4oZnVuY3Rpb24oKSB7KG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgPSBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkIHx8IHt9KVtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvZ3JpZC10aWxlLWJhc2UuaHRtbFwiXSA9IChmdW5jdGlvbigpIHtcbmZ1bmN0aW9uIHJvb3QoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbnZhciBwYXJlbnRUZW1wbGF0ZSA9IG51bGw7XG5lbnYuZ2V0VGVtcGxhdGUoXCJpbmNsdWRlL21hY3Jvcy5odG1sXCIsIGZhbHNlLCBcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvZ3JpZC10aWxlLWJhc2UuaHRtbFwiLCBmYWxzZSwgZnVuY3Rpb24odF8yLHRfMSkge1xuaWYodF8yKSB7IGNiKHRfMik7IHJldHVybjsgfVxudF8xLmdldEV4cG9ydGVkKGZ1bmN0aW9uKHRfMyx0XzEpIHtcbmlmKHRfMykgeyBjYih0XzMpOyByZXR1cm47IH1cbmNvbnRleHQuc2V0VmFyaWFibGUoXCJtYWNyb3NcIiwgdF8xKTtcbm91dHB1dCArPSBcIlxcblxcbjxkaXYgY2xhc3M9XFxcInRpbGUgdGlsZS1cIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0eXBlXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIiBncmlkLWl0ZW0gXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNlbGVjdGVkXCIpKSB7XG5vdXRwdXQgKz0gXCJzZWxlY3RlZFwiO1xuO1xufVxub3V0cHV0ICs9IFwiIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJob3ZlcmVkXCIpKSB7XG5vdXRwdXQgKz0gXCJob3ZlcmVkXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXFwiPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLWRldGFpbC1saW5rIHJlc3VsdC1saW5rXFxcIiBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoKGxpbmVubyA9IDMsIGNvbG5vID0gNjQsIHJ1bnRpbWUuY2FsbFdyYXAocnVudGltZS5tZW1iZXJMb29rdXAoKHRfMSksXCJyZXN1bHRMaW5rXCIpLCBcIm1hY3Jvc1tcXFwicmVzdWx0TGlua1xcXCJdXCIsIGNvbnRleHQsIFtydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInBvcnRhbFwiKSxydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNsdWdcIikscnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0aXRsZVwiKSxydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInR5cGVcIikscnVudGltZS5tYWtlS2V5d29yZEFyZ3Moe1wiZ3JvdXBfc2x1Z1wiOiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImdyb3VwX3NsdWdcIiksXCJpbmxpbmVfb25seVwiOiAxfSldKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiPlxcbiAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImlzU21hbGxcIikgJiYgIXJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibm9JbWFnZVwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwic2luZ2xlLXRpbGUtaW1hZ2UgXCI7XG5pZighcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJpY29uSW1hZ2VVcmxcIikpIHtcbm91dHB1dCArPSBcImltYWdlLXBsYWNlaG9sZGVyLWJhY2tncm91bmQgaW1hZ2UtcGxhY2Vob2xkZXItYmFja2dyb3VuZC1cIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0eXBlXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbjtcbn1cbm91dHB1dCArPSBcIlxcXCI+XFxuICAgICAgICAgICAgXFx0XCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImljb25JbWFnZVVybFwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIFxcdDxpbWcgY2xhc3M9XFxcImZyYW1lZC10aWxlLWltYWdlXFxcIiBzcmM9XFxcIlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImljb25JbWFnZVVybFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiIC8+XFxuICAgICAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICBcXG4gICAgICAgIFwiO1xuKHBhcmVudFRlbXBsYXRlID8gZnVuY3Rpb24oZSwgYywgZiwgciwgY2IpIHsgY2IoXCJcIik7IH0gOiBjb250ZXh0LmdldEJsb2NrKFwidHlwZV9hcmVhXCIpKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzUsdF80KSB7XG5pZih0XzUpIHsgY2IodF81KTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF80O1xub3V0cHV0ICs9IFwiXFxuICAgICAgICBcXG4gICAgICAgIFwiO1xuaWYoKCFydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImlzU21hbGxcIikpICYmICghcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJub0ltYWdlXCIpKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uXFxcIj5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZHVhbC10aWxlLWltYWdlIFwiO1xuaWYoIXJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYmFja2dyb3VuZEltYWdlU21hbGxVcmxcIikpIHtcbm91dHB1dCArPSBcImltYWdlLXBsYWNlaG9sZGVyLWJhY2tncm91bmQgaW1hZ2UtcGxhY2Vob2xkZXItYmFja2dyb3VuZC1cIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0eXBlXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbjtcbn1cbm91dHB1dCArPSBcIlxcXCI+XFxuICAgICAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYmFja2dyb3VuZEltYWdlU21hbGxVcmxcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgY2xhc3M9XFxcInRpbGUtaW1hZ2UgdGlsZS1pbWFnZS1iYWNrZ3JvdW5kXFxcIiBzcmM9XFxcIlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImJhY2tncm91bmRJbWFnZVNtYWxsVXJsXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiaWNvbkltYWdlVXJsXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIGNsYXNzPVxcXCJmbG9hdGluZy10aWxlLWltYWdlXFxcIiBzcmM9XFxcIlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImljb25JbWFnZVVybFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICBcXG4gICAgICAgIFwiO1xuKHBhcmVudFRlbXBsYXRlID8gZnVuY3Rpb24oZSwgYywgZiwgciwgY2IpIHsgY2IoXCJcIik7IH0gOiBjb250ZXh0LmdldEJsb2NrKFwiZGVzY3JpcHRpb25fYXJlYVwiKSkoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF83LHRfNikge1xuaWYodF83KSB7IGNiKHRfNyk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfNjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgXFxuICAgICAgICBcIjtcbihwYXJlbnRUZW1wbGF0ZSA/IGZ1bmN0aW9uKGUsIGMsIGYsIHIsIGNiKSB7IGNiKFwiXCIpOyB9IDogY29udGV4dC5nZXRCbG9jayhcImljb25fYXJlYVwiKSkoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF85LHRfOCkge1xuaWYodF85KSB7IGNiKHRfOSk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfODtcbm91dHB1dCArPSBcIlxcbiAgICA8L2Rpdj4gXFxuPC9kaXY+XFxuXCI7XG5pZihwYXJlbnRUZW1wbGF0ZSkge1xucGFyZW50VGVtcGxhdGUucm9vdFJlbmRlckZ1bmMoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpO1xufSBlbHNlIHtcbmNiKG51bGwsIG91dHB1dCk7XG59XG59KX0pfSl9KX0pO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfdHlwZV9hcmVhKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLWhlYWRlci1zZWN0aW9uXFxcIj5cXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKChsaW5lbm8gPSAxNCwgY29sbm8gPSAzMywgcnVudGltZS5jYWxsV3JhcChydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJtYWNyb3NcIikpLFwidHlwZUxhYmVsXCIpLCBcIm1hY3Jvc1tcXFwidHlwZUxhYmVsXFxcIl1cIiwgY29udGV4dCwgW3J1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwidHlwZVwiKSxydW50aW1lLm1ha2VLZXl3b3JkQXJncyh7XCJzaW5ndWxhclwiOiAxLFwiQ09TSU5OVVNfVFJBTlNcIjogcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJDT1NJTk5VU19UUkFOU1wiKX0pXSkpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicG9ydGFsXCIpID09IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiQ09TSU5OVVNfRVhDSEFOR0VfUE9SVEFMX0lEXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgXFx0XCI7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiZnJvbVwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIjogXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic291cmNlXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbmlmKCFydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImlzU21hbGxcIikgJiYgcnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvbnRyb2xWaWV3XCIpKSxcInBvcnRhbEluZm9cIikpLFwiY3VycmVudFwiKSAhPSBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInBvcnRhbFwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJwdWxsLXJpZ2h0XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz1cXFwicG9ydGFsLWlubGluayB1bmNvbG9yZWQtbGlua1xcXCIgaHJlZj1cXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29udHJvbFZpZXdcIikpLFwicG9ydGFsSW5mb1wiKSkscnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJwb3J0YWxcIikpKSxcImRvbWFpblwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIiB0aXRsZT1cXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29udHJvbFZpZXdcIikpLFwicG9ydGFsSW5mb1wiKSkscnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJwb3J0YWxcIikpKSxcIm5hbWVcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29udHJvbFZpZXdcIikpLFwicG9ydGFsSW5mb1wiKSkscnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJwb3J0YWxcIikpKSxcIm5hbWVcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9hPiBcXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgXCI7XG5jYihudWxsLCBvdXRwdXQpO1xuO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfZGVzY3JpcHRpb25fYXJlYShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX2ljb25fYXJlYShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5yZXR1cm4ge1xuYl90eXBlX2FyZWE6IGJfdHlwZV9hcmVhLFxuYl9kZXNjcmlwdGlvbl9hcmVhOiBiX2Rlc2NyaXB0aW9uX2FyZWEsXG5iX2ljb25fYXJlYTogYl9pY29uX2FyZWEsXG5yb290OiByb290XG59O1xuXG59KSgpO1xufSkoKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gc2hpbShudW5qdWNrcywgZW52LCBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkW1wiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy9ncmlkLXRpbGUtYmFzZS5odG1sXCJdICwgZGVwZW5kZW5jaWVzKVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy9ncmlkLXRpbGUtYmFzZS5odG1sXG4vLyBtb2R1bGUgaWQgPSAzMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgbnVuanVja3MgPSByZXF1aXJlKFwibnVuanVja3MvYnJvd3Nlci9udW5qdWNrcy1zbGltXCIpO1xudmFyIGVudjtcbmlmICghbnVuanVja3MuY3VycmVudEVudil7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnYgPSBuZXcgbnVuanVja3MuRW52aXJvbm1lbnQoW10sIHVuZGVmaW5lZCk7XG59IGVsc2Uge1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52O1xufVxudmFyIGNvbmZpZ3VyZSA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi8uLi9udW5qdWNrcy5jb25maWcuanNcIikoZW52KTtcbnZhciBkZXBlbmRlbmNpZXMgPSBudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzIHx8IChudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzID0ge30pO1xuZGVwZW5kZW5jaWVzW1widGlsZXMvZ3JpZC10aWxlLWJhc2VcIl0gPSByZXF1aXJlKCBcInRpbGVzL2dyaWQtdGlsZS1iYXNlXCIgKTtcbmRlcGVuZGVuY2llc1tcImluY2x1ZGUvbWFjcm9zLmh0bWxcIl0gPSByZXF1aXJlKCBcImluY2x1ZGUvbWFjcm9zLmh0bWxcIiApO1xuXG5cblxuXG52YXIgc2hpbSA9IHJlcXVpcmUoXCIvaG9tZS9zYXNjaGEvcHIvY29zaW5udXMtY29yZS9ub2RlX21vZHVsZXMvbnVuanVja3MtbG9hZGVyL3J1bnRpbWUtc2hpbVwiKTtcblxuXG4oZnVuY3Rpb24oKSB7KG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgPSBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkIHx8IHt9KVtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvZ3JpZC10aWxlLWNsb3VkZmlsZS5odG1sXCJdID0gKGZ1bmN0aW9uKCkge1xuZnVuY3Rpb24gcm9vdChlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xudmFyIHBhcmVudFRlbXBsYXRlID0gbnVsbDtcbmVudi5nZXRUZW1wbGF0ZShcInRpbGVzL2dyaWQtdGlsZS1iYXNlXCIsIHRydWUsIFwiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy9ncmlkLXRpbGUtY2xvdWRmaWxlLmh0bWxcIiwgZmFsc2UsIGZ1bmN0aW9uKHRfMixfcGFyZW50VGVtcGxhdGUpIHtcbmlmKHRfMikgeyBjYih0XzIpOyByZXR1cm47IH1cbnBhcmVudFRlbXBsYXRlID0gX3BhcmVudFRlbXBsYXRlXG5mb3IodmFyIHRfMSBpbiBwYXJlbnRUZW1wbGF0ZS5ibG9ja3MpIHtcbmNvbnRleHQuYWRkQmxvY2sodF8xLCBwYXJlbnRUZW1wbGF0ZS5ibG9ja3NbdF8xXSk7XG59XG5vdXRwdXQgKz0gXCJcXG5cIjtcbmVudi5nZXRUZW1wbGF0ZShcImluY2x1ZGUvbWFjcm9zLmh0bWxcIiwgZmFsc2UsIFwiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy9ncmlkLXRpbGUtY2xvdWRmaWxlLmh0bWxcIiwgZmFsc2UsIGZ1bmN0aW9uKHRfNCx0XzMpIHtcbmlmKHRfNCkgeyBjYih0XzQpOyByZXR1cm47IH1cbnRfMy5nZXRFeHBvcnRlZChmdW5jdGlvbih0XzUsdF8zKSB7XG5pZih0XzUpIHsgY2IodF81KTsgcmV0dXJuOyB9XG5jb250ZXh0LnNldFZhcmlhYmxlKFwibWFjcm9zXCIsIHRfMyk7XG5vdXRwdXQgKz0gXCJcXG5cXG5cIjtcbihwYXJlbnRUZW1wbGF0ZSA/IGZ1bmN0aW9uKGUsIGMsIGYsIHIsIGNiKSB7IGNiKFwiXCIpOyB9IDogY29udGV4dC5nZXRCbG9jayhcImRlc2NyaXB0aW9uX2FyZWFcIikpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfNyx0XzYpIHtcbmlmKHRfNykgeyBjYih0XzcpOyByZXR1cm47IH1cbm91dHB1dCArPSB0XzY7XG5vdXRwdXQgKz0gXCJcXG5cXG5cIjtcbihwYXJlbnRUZW1wbGF0ZSA/IGZ1bmN0aW9uKGUsIGMsIGYsIHIsIGNiKSB7IGNiKFwiXCIpOyB9IDogY29udGV4dC5nZXRCbG9jayhcImljb25fYXJlYVwiKSkoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF85LHRfOCkge1xuaWYodF85KSB7IGNiKHRfOSk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfODtcbm91dHB1dCArPSBcIlxcblwiO1xuaWYocGFyZW50VGVtcGxhdGUpIHtcbnBhcmVudFRlbXBsYXRlLnJvb3RSZW5kZXJGdW5jKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKTtcbn0gZWxzZSB7XG5jYihudWxsLCBvdXRwdXQpO1xufVxufSl9KX0pfSl9KTtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX2Rlc2NyaXB0aW9uX2FyZWEoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcbiAgICA8aDE+XFxuICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RmlsdGVyKFwic2FmZVwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwidGl0bGVcIikpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICA8L2gxPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLXNlY3Rpb24gdGlsZS1kZXNjcmlwdGlvblxcXCI+XFxuICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZXhjZXJwdFwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRGaWx0ZXIoXCJzYWZlXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJleGNlcnB0XCIpKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgIDwvZGl2PlxcblwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX2ljb25fYXJlYShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xub3V0cHV0ICs9IFwiXFxuICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1jbG91ZFxcXCI+PC9pPlxcblwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5yZXR1cm4ge1xuYl9kZXNjcmlwdGlvbl9hcmVhOiBiX2Rlc2NyaXB0aW9uX2FyZWEsXG5iX2ljb25fYXJlYTogYl9pY29uX2FyZWEsXG5yb290OiByb290XG59O1xuXG59KSgpO1xufSkoKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gc2hpbShudW5qdWNrcywgZW52LCBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkW1wiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy9ncmlkLXRpbGUtY2xvdWRmaWxlLmh0bWxcIl0gLCBkZXBlbmRlbmNpZXMpXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL2dyaWQtdGlsZS1jbG91ZGZpbGUuaHRtbFxuLy8gbW9kdWxlIGlkID0gMzJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIG51bmp1Y2tzID0gcmVxdWlyZShcIm51bmp1Y2tzL2Jyb3dzZXIvbnVuanVja3Mtc2xpbVwiKTtcbnZhciBlbnY7XG5pZiAoIW51bmp1Y2tzLmN1cnJlbnRFbnYpe1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52ID0gbmV3IG51bmp1Y2tzLkVudmlyb25tZW50KFtdLCB1bmRlZmluZWQpO1xufSBlbHNlIHtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudjtcbn1cbnZhciBjb25maWd1cmUgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vLi4vbnVuanVja3MuY29uZmlnLmpzXCIpKGVudik7XG52YXIgZGVwZW5kZW5jaWVzID0gbnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyB8fCAobnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyA9IHt9KTtcbmRlcGVuZGVuY2llc1tcImluY2x1ZGUvbWFjcm9zLmh0bWxcIl0gPSByZXF1aXJlKCBcImluY2x1ZGUvbWFjcm9zLmh0bWxcIiApO1xuXG5cblxuXG52YXIgc2hpbSA9IHJlcXVpcmUoXCIvaG9tZS9zYXNjaGEvcHIvY29zaW5udXMtY29yZS9ub2RlX21vZHVsZXMvbnVuanVja3MtbG9hZGVyL3J1bnRpbWUtc2hpbVwiKTtcblxuXG4oZnVuY3Rpb24oKSB7KG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgPSBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkIHx8IHt9KVtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1saXN0Lmh0bWxcIl0gPSAoZnVuY3Rpb24oKSB7XG5mdW5jdGlvbiByb290KGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG52YXIgcGFyZW50VGVtcGxhdGUgPSBudWxsO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwicGFzc1Rocm91Z2hcIilbXCJydW5cIl0oY29udGV4dCxydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImkxOG5cIikpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXCI7XG5lbnYuZ2V0VGVtcGxhdGUoXCJpbmNsdWRlL21hY3Jvcy5odG1sXCIsIGZhbHNlLCBcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1saXN0Lmh0bWxcIiwgZmFsc2UsIGZ1bmN0aW9uKHRfMix0XzEpIHtcbmlmKHRfMikgeyBjYih0XzIpOyByZXR1cm47IH1cbnRfMS5nZXRFeHBvcnRlZChmdW5jdGlvbih0XzMsdF8xKSB7XG5pZih0XzMpIHsgY2IodF8zKTsgcmV0dXJuOyB9XG5jb250ZXh0LnNldFZhcmlhYmxlKFwibWFjcm9zXCIsIHRfMSk7XG5vdXRwdXQgKz0gXCJcXG5cXG48ZGl2IGlkPVxcXCJ0aWxlLWxpc3RcXFwiIGNsYXNzPVxcXCJ0aWxlLWxpc3QgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImZ1bGxzY3JlZW5cIikpIHtcbm91dHB1dCArPSBcIiB0aWxlLWxpc3QtZnVsbHNjcmVlbiBcIjtcbjtcbn1cbm91dHB1dCArPSBcIiBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic3BsaXRzY3JlZW5cIikpIHtcbm91dHB1dCArPSBcIiB0aWxlLWxpc3Qtc3BsaXRzY3JlZW4gXCI7XG47XG59XG5lbHNlIHtcbm91dHB1dCArPSBcIiB0aWxlLWxpc3QtdGlsZS1mdWxsc2NyZWVuIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiIG1vYmlsZS12aWV3IG1vYmlsZS12aWV3LWxpc3QtdmlzaWJsZS1mbGV4IG1vYmlsZS12aWV3LXNlYXJjaC12aXNpYmxlLWZsZXhcXFwiPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJvdmVybGF5XFxcIj48L2Rpdj5cXG4gICAgXCI7XG5pZighcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzcGxpdHNjcmVlblwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLWxpc3QtaGVhZGVyXFxcIj5cXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwicHVsbC1yaWdodFxcXCI+XFxuXFx0ICAgICAgICAgICAgXCI7XG5mcmFtZSA9IGZyYW1lLnB1c2goKTtcbnZhciB0XzYgPSBbXCJwcm9qZWN0c1wiLFwiZ3JvdXBzXCIsXCJjb25mZXJlbmNlc1wiLFwiaWRlYXNcIixcIm9yZ2FuaXphdGlvbnNcIl07XG5pZih0XzYpIHt2YXIgdF81ID0gdF82Lmxlbmd0aDtcbmZvcih2YXIgdF80PTA7IHRfNCA8IHRfNi5sZW5ndGg7IHRfNCsrKSB7XG52YXIgdF83ID0gdF82W3RfNF07XG5mcmFtZS5zZXQoXCJ0eXBlXCIsIHRfNyk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfNCArIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleDBcIiwgdF80KTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXhcIiwgdF81IC0gdF80KTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXgwXCIsIHRfNSAtIHRfNCAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzQgPT09IDApO1xuZnJhbWUuc2V0KFwibG9vcC5sYXN0XCIsIHRfNCA9PT0gdF81IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzUpO1xub3V0cHV0ICs9IFwiXFxuXFx0ICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5pbk9wZXJhdG9yKHRfNyxydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb250cm9sVmlld1wiKSksXCJhdmFpbGFibGVGaWx0ZXJMaXN0XCIpKSkge1xub3V0cHV0ICs9IFwiXFxuXFx0ICAgICAgICAgICAgICAgICAgICBcIjtcbmlmKCFydW50aW1lLmluT3BlcmF0b3IodF83LFtcInByb2plY3RzXCIsXCJncm91cHNcIl0pIHx8IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiQ09TSU5OVVNfU0hPV19QUk9KRUNUX0FORF9HUk9VUF9DUkVBVEVfQlVUVE9OU1wiKSkge1xub3V0cHV0ICs9IFwiXFxuXFx0ICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIkNPU0lOTlVTX1VTRVJfQ0FOX0NSRUFURV9DT05GRVJFTkNFXCIpIHx8IHRfNyAhPSBcImNvbmZlcmVuY2VzXCIpIHtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdCAgICAgICAgICAgIDxhIGhyZWY9XFxcIlwiO1xuaWYoIXJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29zaW5udXNfYWN0aXZlX3VzZXJcIikpIHtcbm91dHB1dCArPSBcIi9zaWdudXAvP2FjY19yZXFfbXNnPTEmbmV4dD1cIjtcbjtcbn1cbm91dHB1dCArPSBcIi9cIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUodF83LCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIi9hZGQvXFxcIiBjbGFzcz1cXFwicm91bmRlZC1idXR0b24gYnV0dG9uLWNvbG9yLVwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSh0XzcsIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiLWludmVydGVkXFxcIj5cXG5cXHRcXHRcXHRcXHRcXHRcXHQgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwicm91bmRlZC1idXR0b24taW5uZXJcXFwiPlxcblxcdFxcdFxcdFxcdFxcdFxcdCAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoKGxpbmVubyA9IDE0LCBjb2xubyA9IDM5LCBydW50aW1lLmNhbGxXcmFwKHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzEpLFwidHlwZUxhYmVsXCIpLCBcIm1hY3Jvc1tcXFwidHlwZUxhYmVsXFxcIl1cIiwgY29udGV4dCwgW3RfNyxydW50aW1lLm1ha2VLZXl3b3JkQXJncyh7XCJ1c2VTdHlsZXNcIjogMCxcImNyZWF0ZVwiOiB0cnVlLFwiQ09TSU5OVVNfVFJBTlNcIjogcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJDT1NJTk5VU19UUkFOU1wiKX0pXSkpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFxcdCAgICAgICAgICAgIDwvc3Bhbj5cXG5cXHRcXHRcXHRcXHRcXHRcXHQgICAgICAgIDwvYT5cXG5cXHRcXHRcXHRcXHRcXHQgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0ICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXFx0ICAgICAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXFx0ICAgICAgICAgICAgXCI7XG47XG59XG59XG5mcmFtZSA9IGZyYW1lLnBvcCgpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgICAgIFxcblxcdCAgICAgICAgPGgxIGNsYXNzPVxcXCJuby1zZWxlY3RcXFwiPlxcbiAgICAgICAgICAgICAgICBcIjtcbmZyYW1lID0gZnJhbWUucHVzaCgpO1xudmFyIHRfMTAgPSBydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb250cm9sVmlld1wiKSksXCJhdmFpbGFibGVGaWx0ZXJMaXN0XCIpO1xuaWYodF8xMCkge3ZhciB0XzkgPSB0XzEwLmxlbmd0aDtcbmZvcih2YXIgdF84PTA7IHRfOCA8IHRfMTAubGVuZ3RoOyB0XzgrKykge1xudmFyIHRfMTEgPSB0XzEwW3RfOF07XG5mcmFtZS5zZXQoXCJmaWx0ZXJfdHlwZVwiLCB0XzExKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXhcIiwgdF84ICsgMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4MFwiLCB0XzgpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleFwiLCB0XzkgLSB0XzgpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleDBcIiwgdF85IC0gdF84IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmZpcnN0XCIsIHRfOCA9PT0gMCk7XG5mcmFtZS5zZXQoXCJsb29wLmxhc3RcIiwgdF84ID09PSB0XzkgLSAxKTtcbmZyYW1lLnNldChcImxvb3AubGVuZ3RoXCIsIHRfOSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSgobGluZW5vID0gMjUsIGNvbG5vID0gMzcsIHJ1bnRpbWUuY2FsbFdyYXAocnVudGltZS5tZW1iZXJMb29rdXAoKHRfMSksXCJ0eXBlTGFiZWxcIiksIFwibWFjcm9zW1xcXCJ0eXBlTGFiZWxcXFwiXVwiLCBjb250ZXh0LCBbdF8xMSxydW50aW1lLm1ha2VLZXl3b3JkQXJncyh7XCJtaW5lXCI6IHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvbnRyb2xWaWV3XCIpKSxcInNob3dNaW5lXCIpLFwiYWxsXCI6IHRydWUsXCJDT1NJTk5VU19UUkFOU1wiOiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIkNPU0lOTlVTX1RSQU5TXCIpfSldKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xuO1xufVxufVxuZnJhbWUgPSBmcmFtZS5wb3AoKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIDwvaDE+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgPGRpdiBjbGFzcz1cXFwiY29udHJvbHMgXCI7XG5pZihydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29udHJvbFZpZXdcIikpLFwic3RhdGVcIikpLFwiZmlsdGVyUGFuZWxWaXNpYmxlXCIpKSB7XG5vdXRwdXQgKz0gXCJvcGVuXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXFwiPjwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLWNvbnRlbnRzIG1vYmlsZS12aWV3IG1vYmlsZS12aWV3LWxpc3QtdmlzaWJsZS1ibG9ja1xcXCI+XFxuICAgICAgICA8ZGl2IGlkPVxcXCJ0aWxlLWNvbnRhaW5lci1wcm90b1xcXCIgY2xhc3M9XFxcImdyaWRcXFwiIHN0eWxlPVxcXCJkaXNwbGF5OiBub25lO1xcXCI+XFxuICAgICAgICAgICAgPCEtLSB3aWR0aCBvZiAuZ3JpZC1zaXplciB1c2VkIGZvciBjb2x1bW5XaWR0aCAtLT5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJncmlkLXNpemVyXFxcIj48L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwicGFnaW5hdGlvbi1jb250cm9sc1xcXCI+PC9kaXY+XFxuPC9kaXY+XCI7XG5pZihwYXJlbnRUZW1wbGF0ZSkge1xucGFyZW50VGVtcGxhdGUucm9vdFJlbmRlckZ1bmMoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpO1xufSBlbHNlIHtcbmNiKG51bGwsIG91dHB1dCk7XG59XG59KX0pO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbnJldHVybiB7XG5yb290OiByb290XG59O1xuXG59KSgpO1xufSkoKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gc2hpbShudW5qdWNrcywgZW52LCBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkW1wiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy90aWxlLWxpc3QuaHRtbFwiXSAsIGRlcGVuZGVuY2llcylcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Nvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1saXN0Lmh0bWxcbi8vIG1vZHVsZSBpZCA9IDMzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxudmFyIEJhc2VWaWV3ID0gcmVxdWlyZSgndmlld3MvYmFzZS92aWV3Jyk7XG52YXIgUmVzdWx0ID0gcmVxdWlyZSgnbW9kZWxzL3Jlc3VsdCcpO1xudmFyIHV0aWwgPSByZXF1aXJlKCdsaWIvdXRpbCcpO1xuXG52YXIgdGVtcGxhdGVzID0ge1xuICAgICdwcm9qZWN0cyc6IHJlcXVpcmUoJ3RpbGVzL3RpbGUtZGV0YWlsLXByb2plY3RzJyksXG4gICAgJ2dyb3Vwcyc6IHJlcXVpcmUoJ3RpbGVzL3RpbGUtZGV0YWlsLWdyb3VwcycpLFxuICAgICdjb25mZXJlbmNlcyc6IHJlcXVpcmUoJ3RpbGVzL3RpbGUtZGV0YWlsLWNvbmZlcmVuY2VzJyksXG4gICAgJ3Blb3BsZSc6IHJlcXVpcmUoJ3RpbGVzL3RpbGUtZGV0YWlsLXBlb3BsZScpLFxuICAgICdldmVudHMnOiByZXF1aXJlKCd0aWxlcy90aWxlLWRldGFpbC1ldmVudHMnKSxcbiAgICAnaWRlYXMnOiByZXF1aXJlKCd0aWxlcy90aWxlLWRldGFpbC1pZGVhcycpLFxuICAgICdvcmdhbml6YXRpb25zJzogcmVxdWlyZSgndGlsZXMvdGlsZS1kZXRhaWwtb3JnYW5pemF0aW9ucycpLFxuICAgICdlcnJvci00MDMnOiByZXF1aXJlKCd0aWxlcy90aWxlLWRldGFpbC1lcnJvci00MDMnKSxcbiAgICAnZXJyb3InOiByZXF1aXJlKCd0aWxlcy90aWxlLWRldGFpbC1lcnJvcicpLFxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBCYXNlVmlldy5leHRlbmQoe1xuICAgIFxuICAgIC8vIHJlZmVyZW5jZSBiYWNrIHRvIHRoZSBtYWluIEFwcFxuICAgIEFwcDogbnVsbCxcbiAgICBcbiAgICBtb2RlbDogUmVzdWx0LFxuXG4gICAgdGVtcGxhdGU6IG51bGwsXG4gICAgXG4gICAgLy8gVGhlIERPTSBldmVudHMgc3BlY2lmaWMgdG8gYW4gaXRlbS5cbiAgICBldmVudHM6IHtcbiAgICAgICAgJ2NsaWNrIC5yZXN1bHQtbGluayc6ICdvblJlc3VsdExpbmtDbGlja2VkJyxcbiAgICAgICAgJ2NsaWNrIC50aWxlLWNsb3NlLWJ1dHRvbic6ICdvbkRlc2VsZWN0Q2xpY2tlZCcsXG4gICAgICAgICdjbGljayAudG9waWMtZmlsdGVyLWxpbmsnOiAnb25Ub3BpY0xpbmtDbGlja2VkJyxcbiAgICAgICAgJ2NsaWNrIC50ZXh0LXRvcGljLWZpbHRlci1saW5rJzogJ29uVGV4dFRvcGljTGlua0NsaWNrZWQnLFxuICAgICAgICAnY2xpY2sgLm1hbmFnZWQtdGFnLWZpbHRlci1saW5rJzogJ29uTWFuYWdlZFRhZ0xpbmtDbGlja2VkJyxcbiAgICAgICAgJ2NsaWNrIC5idXR0b24tbGlrZSc6ICdvbkxpa2VCdXR0b25DbGlja2VkJyxcbiAgICAgICAgJ2NsaWNrIC5idXR0b24tZm9sbG93JzogJ29uRm9sbG93QnV0dG9uQ2xpY2tlZCcsXG4gICAgICAgICdjbGljayAuYnV0dG9uLXN0YXInOiAnb25TdGFyQnV0dG9uQ2xpY2tlZCcsXG4gICAgICAgICdjbGljayAuYnV0dG9uLXJlcG9ydC1vYmplY3QnOiAnb25SZXBvcnRCdXR0b25DbGlja2VkJyxcbiAgICB9LFxuICAgIFxuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIChvcHRpb25zLCBhcHApIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBCYXNlVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHNlbGYsIG9wdGlvbnMpO1xuICAgICAgICBzZWxmLkFwcCA9IGFwcDtcbiAgICAgICAgXG4gICAgICAgIEJhY2tib25lLm1lZGlhdG9yLnN1YnNjcmliZSgncmVzdWx0OmRldGFpbC1vcGVuZWQnLCBzZWxmLm9uRGV0YWlsT3BlbmVkLCBzZWxmKTtcbiAgICAgICAgQmFja2JvbmUubWVkaWF0b3Iuc3Vic2NyaWJlKCdyZXN1bHQ6ZGV0YWlsLWNsb3NlZCcsIHNlbGYub25EZXRhaWxDbG9zZWQsIHNlbGYpO1xuICAgIH0sXG5cbiAgICAvKiogRXh0ZW5kIHRoZSB0ZW1wbGF0ZSBkYXRhIGJ5IHRoZSBjb250cm9sVmlldydzIG9wdGlvbnMgYW5kIHN0YXRlICovXG4gICAgZ2V0VGVtcGxhdGVEYXRhOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIGRhdGEgPSBCYXNlVmlldy5wcm90b3R5cGUuZ2V0VGVtcGxhdGVEYXRhLmNhbGwoc2VsZik7XG4gICAgICAgIGRhdGFbJ2NvbnRyb2xWaWV3J10gPSBfLmV4dGVuZChcbiAgICAgICAgICAgIHt9LFxuICAgICAgICAgICAgc2VsZi5BcHAuY29udHJvbFZpZXcub3B0aW9ucyxcbiAgICAgICAgICAgIHNlbGYuQXBwLmNvbnRyb2xWaWV3LnN0YXRlXG4gICAgICAgICk7XG4gICAgICAgIGRhdGFbJ3N0YXJMYWJlbCddID0gQ09TSU5OVVNfU1RBUlJFRF9TVEFSX0xBQkVMXG4gICAgICAgIGRhdGFbJ3N0YXJyaW5nTGFiZWwnXSA9IENPU0lOTlVTX1NUQVJSRURfU1RBUlJJTkdfTEFCRUxcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSxcblxuICAgIC8qKiBBZGp1c3QgdGhpcyB2aWV3J3MgdGVtcGxhdGUgYmFzZWQgb24gdGhlIHJlc3VsdCB0eXBlIGl0IGRpc3BsYXlzIChhbmQgb3RoZXIgc3RhdGVzKSAqL1xuICAgIGZpdFRlbXBsYXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgaWYgKHNlbGYubW9kZWwuZ2V0KCd0eXBlJykgPT0gJ3Blb3BsZScgfHwgc2VsZi5tb2RlbC5nZXQoJ3R5cGUnKSA9PSAnb3JnYW5pemF0aW9ucycpIHtcbiAgICAgICAgICAgIHNlbGYuc3RhdGUuaXNTbWFsbCA9IHRydWU7XG4gICAgICAgIH0gXG4gICAgICAgIHNlbGYuc3RhdGUuaXNZb3UgPSBzZWxmLm1vZGVsLmdldCgndHlwZScpID09ICdwZW9wbGUnICYmIGNvc2lubnVzX2FjdGl2ZV91c2VyICYmIHNlbGYubW9kZWwuZ2V0KCdzbHVnJykgPT0gY29zaW5udXNfYWN0aXZlX3VzZXIudXNlcm5hbWU7XG4gICAgfSxcbiAgICBcbiAgICAvLyBhIG5ldyByZXN1bHQgaXMgYmVpbmcgc2VsZWN0ZWRcbiAgICBvbkRldGFpbE9wZW5lZDogZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHRoaXMubW9kZWwgPSByZXN1bHQ7XG4gICAgICAgIGlmIChyZXN1bHQuZ2V0KCd0eXBlJykgaW4gdGVtcGxhdGVzKSB7XG4gICAgICAgICAgICB0aGlzLnRlbXBsYXRlID0gdGVtcGxhdGVzW3Jlc3VsdC5nZXQoJ3R5cGUnKV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnRlbXBsYXRlID0gdGVtcGxhdGVzWydlcnJvciddO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5tb2RlbC5vbih7XG4gICAgICAgIFx0J2NoYW5nZTpsaWtlZCc6IHNlbGYudGhpc0NvbnRleHQoc2VsZi5yZW5kZXIpLFxuICAgICAgICAgICAgJ2NoYW5nZTpmb2xsb3dlZCc6IHNlbGYudGhpc0NvbnRleHQoc2VsZi5yZW5kZXIpLFxuICAgICAgICAgICAgJ2NoYW5nZTpzdGFycmVkJzogc2VsZi50aGlzQ29udGV4dChzZWxmLnJlbmRlciksXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmZpdFRlbXBsYXRlKCk7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgIHRoaXMuQXBwLmNvbnRyb2xWaWV3LnRyaWdnZXJNb2JpbGVEZXRhaWxWaWV3KCk7XG4gICAgICAgIEJhY2tib25lLm1lZGlhdG9yLnB1Ymxpc2goJ3RpbGUtZGV0YWlsOm9wZW5lZCcpO1xuICAgIH0sXG4gICAgXG4gICAgLy8gYSByZXN1bHQgaXMgYmVpbmcgdW5zZWxlY3RlZFxuICAgIG9uRGV0YWlsQ2xvc2VkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubW9kZWwgPSBudWxsO1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICB0aGlzLkFwcC5jb250cm9sVmlldy51bnRyaWdnZXJNb2JpbGVEZXRhaWxWaWV3KCk7XG4gICAgICAgIHRoaXMuQXBwLmNvbnRyb2xWaWV3LmFkZEN1cnJlbnRIaXN0b3J5U3RhdGUoKTtcbiAgICAgICAgQmFja2JvbmUubWVkaWF0b3IucHVibGlzaCgndGlsZS1kZXRhaWw6Y2xvc2VkJyk7XG4gICAgfSxcbiAgICBcbiAgICBhZnRlclJlbmRlcjogZnVuY3Rpb24gKCkge1xuICAgIFx0Ly8gcmVuZGVyIG1vbWVudCBkYXRlc1xuICAgIFx0JC5jb3Npbm51cy5yZW5kZXJNb21lbnREYXRhRGF0ZSgpO1xuICAgICAgICAkLmNvc2lubnVzLnJlbmRlclRpbWV6b25lQXdhcmVEYXRlcygpO1xuICAgIH0sXG4gICAgXG4gICAgLyoqIENhbGxlZCB3aGVuIGEgdG9waWMgbGluayBpcyBjbGlja2VkIHRvIGZpbHRlciBmb3IgdGhhdCB0b3BpYyBvbmx5ICovXG4gICAgb25Ub3BpY0xpbmtDbGlja2VkOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAvLyBtYWtlIHN1cmUgdG8gY2xvc2VcbiAgICAgICAgdGhpcy5BcHAuY29udHJvbFZpZXcuZGlzcGxheURldGFpbFJlc3VsdChudWxsKTtcbiAgICAgICAgdGhpcy5BcHAuY29udHJvbFZpZXcub25Ub3BpY0xpbmtDbGlja2VkKGV2ZW50KTtcbiAgICB9LFxuXG4gICAgLyoqIENhbGxlZCB3aGVuIGEgdGV4dCB0b3BpYyBsaW5rIGlzIGNsaWNrZWQgdG8gZmlsdGVyIGZvciB0aGF0IHRvcGljIG9ubHkgKi9cbiAgICBvblRleHRUb3BpY0xpbmtDbGlja2VkOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAvLyBtYWtlIHN1cmUgdG8gY2xvc2VcbiAgICAgICAgdGhpcy5BcHAuY29udHJvbFZpZXcuZGlzcGxheURldGFpbFJlc3VsdChudWxsKTtcbiAgICAgICAgdGhpcy5BcHAuY29udHJvbFZpZXcub25UZXh0VG9waWNMaW5rQ2xpY2tlZChldmVudCk7XG4gICAgfSxcbiAgICBcbiAgICAvKiogQ2FsbGVkIHdoZW4gYSBtYW5hZ2VkIHRhZyBsaW5rIGlzIGNsaWNrZWQgdG8gZmlsdGVyIGZvciB0aGF0IHRvcGljIG9ubHkgKi9cbiAgICBvbk1hbmFnZWRUYWdMaW5rQ2xpY2tlZDogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgLy8gbWFrZSBzdXJlIHRvIGNsb3NlXG4gICAgICAgIHRoaXMuQXBwLmNvbnRyb2xWaWV3LmRpc3BsYXlEZXRhaWxSZXN1bHQobnVsbCk7XG4gICAgICAgIHRoaXMuQXBwLmNvbnRyb2xWaWV3Lm9uTWFuYWdlZFRhZ0xpbmtDbGlja2VkKGV2ZW50KTtcbiAgICB9LFxuICAgIFxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIGEgdGlsZSBkZXRhaWwgY2xvc2UgYnV0dG9uIGlzIGNsaWNrZWQuXG4gICAgICogV2Ugb25seSBjaGFuZ2UgdGhlIFJlc3VsdCBtb2RlbCdzIC5zZWxlY3RlZCBwcm9wZXJ0eSBhbmRcbiAgICAgKiBkb24ndCBkbyBhbnkgcmVuZGVyaW5nIGhlcmUgKHRoaXMgaXMgbWVkaWF0ZWQgdGhyb3VnaCBzaWduYWxzIGZyb20gdGhlIGNvbnRyb2wgdmlldykuXG4gICAgICovXG4gICAgb25EZXNlbGVjdENsaWNrZWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdXRpbC5sb2coJ3RpbGUtdmlldy5qczogZ290IGEgZGVzZWxlY3QgY2xpY2sgZXZlbnQhJyk7XG4gICAgICAgIC8vIHRoaXMgdm9sdW50YXJ5IGFjdGlvbiBhZGRzIGEgaGlzdG9yeSBzdGF0ZSFcbiAgICAgICAgdGhpcy5BcHAuY29udHJvbFZpZXcuZGlzcGxheURldGFpbFJlc3VsdChudWxsLCB0cnVlKTtcbiAgICAgICAgaWYgKEFwcC5kaXNwbGF5T3B0aW9ucy5yb3V0ZU5hdmlnYXRpb24pIHtcbiAgICAgICAgICAgIHV0aWwubG9nKCd0aWxlLWRldGFpbC12aWV3LmpzOiArKysrKysrKysrKysrKysrKyBzaW5jZSB3ZSBhcmUgZnVsbHNjcmVlbiwgcHVibGlzaGluZyBkZXRhaWwtY2xvc2Ugcm91dGVyIFVSTCB1cGRhdGUhJylcbiAgICAgICAgICAgIEFwcC5jb250cm9sVmlldy5hZGRDdXJyZW50SGlzdG9yeVN0YXRlKCk7XG4gICAgICAgIH0gXG4gICAgfSxcbiAgICBcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIGEgbGluayBpcyBjbGlja2VkIHRoYXQgbGVhZHMgdG8gb3BlbmluZyBhIGRldGFpbCB2aWV3LlxuICAgICAqIFdlIG9ubHkgY2hhbmdlIHRoZSBSZXN1bHQgbW9kZWwncyAuc2VsZWN0ZWQgcHJvcGVydHkgYW5kXG4gICAgICogZG9uJ3QgZG8gYW55IHJlbmRlcmluZyBoZXJlLlxuICAgICAqL1xuICAgIG9uUmVzdWx0TGlua0NsaWNrZWQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB0aGlzLkFwcC5jb250cm9sVmlldy5vblJlc3VsdExpbmtDbGlja2VkKGV2ZW50KTtcbiAgICB9LFxuICAgIFxuICAgIG9uTGlrZUJ1dHRvbkNsaWNrZWQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIFx0dGhpcy5BcHAuY29udHJvbFZpZXcudHJpZ2dlclJlc3VsdExpa2VPclVubGlrZSh0aGlzLm1vZGVsKTtcbiAgICB9LFxuICAgIFxuICAgIG9uRm9sbG93QnV0dG9uQ2xpY2tlZDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgXHR0aGlzLkFwcC5jb250cm9sVmlldy50cmlnZ2VyUmVzdWx0Rm9sbG93T3JVbmZvbGxvdyh0aGlzLm1vZGVsKTtcbiAgICB9LFxuICAgIG9uU3RhckJ1dHRvbkNsaWNrZWQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIFx0dGhpcy5BcHAuY29udHJvbFZpZXcudHJpZ2dlclJlc3VsdFN0YXJPclVuc3Rhcih0aGlzLm1vZGVsKTtcbiAgICB9LFxuICAgIFxuICAgIC8qKiByZXBvcnQgdGhlIGN1cnJlbnRseSBvcGVuIGRldGFpbCB2aWV3IG9iamVjdCAqL1xuICAgIG9uUmVwb3J0QnV0dG9uQ2xpY2tlZDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgXHQkLmNvc2lubnVzLkZlZWRiYWNrLmNvc2lubnVzX3JlcG9ydF9vYmplY3QodGhpcy5tb2RlbC5nZXQoXCJyZXBvcnRfbW9kZWxcIiksIHRoaXMubW9kZWwuZ2V0KFwicmVwb3J0X2lkXCIpLCB0aGlzLm1vZGVsLmdldChcInRpdGxlXCIpKTtcbiAgICB9XG4gICAgXG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29zaW5udXMvY2xpZW50L3ZpZXdzL3RpbGUtZGV0YWlsLXZpZXcuanNcbi8vIG1vZHVsZSBpZCA9IDM0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBudW5qdWNrcyA9IHJlcXVpcmUoXCJudW5qdWNrcy9icm93c2VyL251bmp1Y2tzLXNsaW1cIik7XG52YXIgZW52O1xuaWYgKCFudW5qdWNrcy5jdXJyZW50RW52KXtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudiA9IG5ldyBudW5qdWNrcy5FbnZpcm9ubWVudChbXSwge1wiZGV2XCI6ZmFsc2UsXCJhdXRvZXNjYXBlXCI6dHJ1ZSxcInRocm93T25VbmRlZmluZWRcIjpmYWxzZSxcInRyaW1CbG9ja3NcIjpmYWxzZSxcImxzdHJpcEJsb2Nrc1wiOmZhbHNlfSk7XG59IGVsc2Uge1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52O1xufVxudmFyIGNvbmZpZ3VyZSA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi8uLi9udW5qdWNrcy5jb25maWcuanNcIikoZW52KTtcbnZhciBkZXBlbmRlbmNpZXMgPSBudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzIHx8IChudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzID0ge30pO1xuZGVwZW5kZW5jaWVzW1widGlsZXMvdGlsZS1kZXRhaWwtYmFzZS1ncm91cFwiXSA9IHJlcXVpcmUoIFwidGlsZXMvdGlsZS1kZXRhaWwtYmFzZS1ncm91cFwiICk7XG5kZXBlbmRlbmNpZXNbXCJpbmNsdWRlL21hY3Jvcy5odG1sXCJdID0gcmVxdWlyZSggXCJpbmNsdWRlL21hY3Jvcy5odG1sXCIgKTtcblxuXG5cblxudmFyIHNoaW0gPSByZXF1aXJlKFwiL2hvbWUvc2FzY2hhL3ByL2Nvc2lubnVzLWNvcmUvbm9kZV9tb2R1bGVzL251bmp1Y2tzLWxvYWRlci9ydW50aW1lLXNoaW1cIik7XG5cblxuKGZ1bmN0aW9uKCkgeyhudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkID0gbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZCB8fCB7fSlbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtZGV0YWlsLXByb2plY3RzLmh0bWxcIl0gPSAoZnVuY3Rpb24oKSB7XG5mdW5jdGlvbiByb290KGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG52YXIgcGFyZW50VGVtcGxhdGUgPSBudWxsO1xuZW52LmdldFRlbXBsYXRlKFwidGlsZXMvdGlsZS1kZXRhaWwtYmFzZS1ncm91cFwiLCB0cnVlLCBcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtcHJvamVjdHMuaHRtbFwiLCBmYWxzZSwgZnVuY3Rpb24odF8yLF9wYXJlbnRUZW1wbGF0ZSkge1xuaWYodF8yKSB7IGNiKHRfMik7IHJldHVybjsgfVxucGFyZW50VGVtcGxhdGUgPSBfcGFyZW50VGVtcGxhdGVcbmZvcih2YXIgdF8xIGluIHBhcmVudFRlbXBsYXRlLmJsb2Nrcykge1xuY29udGV4dC5hZGRCbG9jayh0XzEsIHBhcmVudFRlbXBsYXRlLmJsb2Nrc1t0XzFdKTtcbn1cbm91dHB1dCArPSBcIlxcblwiO1xuZW52LmdldFRlbXBsYXRlKFwiaW5jbHVkZS9tYWNyb3MuaHRtbFwiLCBmYWxzZSwgXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtZGV0YWlsLXByb2plY3RzLmh0bWxcIiwgZmFsc2UsIGZ1bmN0aW9uKHRfNCx0XzMpIHtcbmlmKHRfNCkgeyBjYih0XzQpOyByZXR1cm47IH1cbnRfMy5nZXRFeHBvcnRlZChmdW5jdGlvbih0XzUsdF8zKSB7XG5pZih0XzUpIHsgY2IodF81KTsgcmV0dXJuOyB9XG5jb250ZXh0LnNldFZhcmlhYmxlKFwibWFjcm9zXCIsIHRfMyk7XG5vdXRwdXQgKz0gXCJcXG5cXG5cXG5cIjtcbihwYXJlbnRUZW1wbGF0ZSA/IGZ1bmN0aW9uKGUsIGMsIGYsIHIsIGNiKSB7IGNiKFwiXCIpOyB9IDogY29udGV4dC5nZXRCbG9jayhcImFjdGlvbl9idXR0b25zXCIpKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzcsdF82KSB7XG5pZih0XzcpIHsgY2IodF83KTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF82O1xub3V0cHV0ICs9IFwiXFxuXCI7XG5pZihwYXJlbnRUZW1wbGF0ZSkge1xucGFyZW50VGVtcGxhdGUucm9vdFJlbmRlckZ1bmMoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpO1xufSBlbHNlIHtcbmNiKG51bGwsIG91dHB1dCk7XG59XG59KX0pfSl9KTtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX2FjdGlvbl9idXR0b25zKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5jb250ZXh0LmdldFN1cGVyKGVudiwgXCJhY3Rpb25fYnV0dG9uc1wiLCBiX2FjdGlvbl9idXR0b25zLCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF84LGhvbGVfMCkge1xuaWYodF84KSB7IGNiKHRfOCk7IHJldHVybjsgfVxuaG9sZV8wID0gcnVudGltZS5tYXJrU2FmZShob2xlXzApO1xub3V0cHV0ICs9IFwiXFxuICAgIDxkaXYgY2xhc3M9XFxcInRpbGUtc2VjdGlvbiB0aWxlLXNlY3Rpb24tYnV0dG9uLWxpc3RcXFwiPlxcbiAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGhvbGVfMCwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIFxcbiAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImlzX21lbWJlclwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPGEgY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uIGJ1dHRvbi1hY3Rpb24gZGlzYWJsZWRcXFwiPlxcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwicm91bmRlZC1idXR0b24taW5uZXJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc1M9XFxcImZhIGZhLWNoZWNrXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiWW91IGFyZSBhIE1lbWJlclwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgPGEgaHJlZj1cXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWN0aW9uX3VybF8xXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbiBidXR0b24tYWN0aW9uXFxcIj5cXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uLWlubmVyXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJpc19pbnZpdGVkXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIllvdSBhcmUgaW52aXRlZCFcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImlzX3BlbmRpbmdcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiTWVtYmVyc2hpcCByZXF1ZXN0IHBlbmRpbmcuLi5cIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0ICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJKb2luIFByb2plY3RcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgICA8L2E+XFxuICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImFjdGlvbl91cmxfMlwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPGEgaHJlZj1cXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWN0aW9uX3VybF8yXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbiBidXR0b24tYWN0aW9uXFxcIj5cXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uLWlubmVyXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJNZXNzYWdlIFByb2plY3RcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgICAgIDwvYT5cXG4gICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgIDwvZGl2PlxcbiAgICBcXG4gICAgPGRpdiBjbGFzcz1cXFwibm8taW5wdXRcXFwiPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwibm93LWZvbGxvd2luZy1tZXNzYWdlIG1lc3NhZ2Utc3VjY2VzcyBleHRyYS1zcGFjZS10b3BcXFwiIHN0eWxlPVxcXCJkaXNwbGF5OiBub25lO1xcXCI+XFxuICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhcyBmYS1iZWxsXFxcIj48L2k+XFxuICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJZb3Ugd2lsbCBub3cgcmVjZWl2ZSBub3RpZmljYXRpb25zIGZvciBjb250ZW50IHBvc3RlZCBpbiB0aGlzIHByb2plY3QuXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJJZiB5b3UgZG8gbm90IHdhbnQgbm90aWZpY2F0aW9ucywgY2xpY2sgdGhlIHVuZm9sbG93IGJ1dHRvbiFcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgIFxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwibGlrZS1idXR0b24tZXJyb3IgbWVzc2FnZS1lcnJvciBleHRyYS1zcGFjZS10b3BcXFwiIHN0eWxlPVxcXCJkaXNwbGF5OiBub25lO1xcXCI+XFxuICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJDb3VsZCBub3Qgc2F2ZSB5b3VyIGxpa2Ugc2V0dGluZyBiZWNhdXNlIG9mIGFuIGVycm9yLlwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmb2xsb3ctYnV0dG9uLWVycm9yIG1lc3NhZ2UtZXJyb3IgZXh0cmEtc3BhY2UtdG9wXFxcIiBzdHlsZT1cXFwiZGlzcGxheTogbm9uZTtcXFwiPlxcbiAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiQ291bGQgbm90IHNhdmUgeW91ciBmb2xsb3cgc2V0dGluZyBiZWNhdXNlIG9mIGFuIGVycm9yLlwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcblwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbn0pO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbnJldHVybiB7XG5iX2FjdGlvbl9idXR0b25zOiBiX2FjdGlvbl9idXR0b25zLFxucm9vdDogcm9vdFxufTtcblxufSkoKTtcbn0pKCk7XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHNoaW0obnVuanVja3MsIGVudiwgbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZFtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtcHJvamVjdHMuaHRtbFwiXSAsIGRlcGVuZGVuY2llcylcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Nvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtcHJvamVjdHMuaHRtbFxuLy8gbW9kdWxlIGlkID0gMzVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIG51bmp1Y2tzID0gcmVxdWlyZShcIm51bmp1Y2tzL2Jyb3dzZXIvbnVuanVja3Mtc2xpbVwiKTtcbnZhciBlbnY7XG5pZiAoIW51bmp1Y2tzLmN1cnJlbnRFbnYpe1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52ID0gbmV3IG51bmp1Y2tzLkVudmlyb25tZW50KFtdLCB1bmRlZmluZWQpO1xufSBlbHNlIHtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudjtcbn1cbnZhciBjb25maWd1cmUgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vLi4vbnVuanVja3MuY29uZmlnLmpzXCIpKGVudik7XG52YXIgZGVwZW5kZW5jaWVzID0gbnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyB8fCAobnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyA9IHt9KTtcbmRlcGVuZGVuY2llc1tcInRpbGVzL3RpbGUtZGV0YWlsLWJhc2VcIl0gPSByZXF1aXJlKCBcInRpbGVzL3RpbGUtZGV0YWlsLWJhc2VcIiApO1xuZGVwZW5kZW5jaWVzW1wiaW5jbHVkZS9tYWNyb3MuaHRtbFwiXSA9IHJlcXVpcmUoIFwiaW5jbHVkZS9tYWNyb3MuaHRtbFwiICk7XG5cblxuXG5cbnZhciBzaGltID0gcmVxdWlyZShcIi9ob21lL3Nhc2NoYS9wci9jb3Npbm51cy1jb3JlL25vZGVfbW9kdWxlcy9udW5qdWNrcy1sb2FkZXIvcnVudGltZS1zaGltXCIpO1xuXG5cbihmdW5jdGlvbigpIHsobnVuanVja3MubnVuanVja3NQcmVjb21waWxlZCA9IG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgfHwge30pW1wiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy90aWxlLWRldGFpbC1iYXNlLWdyb3VwLmh0bWxcIl0gPSAoZnVuY3Rpb24oKSB7XG5mdW5jdGlvbiByb290KGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG52YXIgcGFyZW50VGVtcGxhdGUgPSBudWxsO1xuZW52LmdldFRlbXBsYXRlKFwidGlsZXMvdGlsZS1kZXRhaWwtYmFzZVwiLCB0cnVlLCBcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtYmFzZS1ncm91cC5odG1sXCIsIGZhbHNlLCBmdW5jdGlvbih0XzIsX3BhcmVudFRlbXBsYXRlKSB7XG5pZih0XzIpIHsgY2IodF8yKTsgcmV0dXJuOyB9XG5wYXJlbnRUZW1wbGF0ZSA9IF9wYXJlbnRUZW1wbGF0ZVxuZm9yKHZhciB0XzEgaW4gcGFyZW50VGVtcGxhdGUuYmxvY2tzKSB7XG5jb250ZXh0LmFkZEJsb2NrKHRfMSwgcGFyZW50VGVtcGxhdGUuYmxvY2tzW3RfMV0pO1xufVxub3V0cHV0ICs9IFwiXFxuXCI7XG5lbnYuZ2V0VGVtcGxhdGUoXCJpbmNsdWRlL21hY3Jvcy5odG1sXCIsIGZhbHNlLCBcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtYmFzZS1ncm91cC5odG1sXCIsIGZhbHNlLCBmdW5jdGlvbih0XzQsdF8zKSB7XG5pZih0XzQpIHsgY2IodF80KTsgcmV0dXJuOyB9XG50XzMuZ2V0RXhwb3J0ZWQoZnVuY3Rpb24odF81LHRfMykge1xuaWYodF81KSB7IGNiKHRfNSk7IHJldHVybjsgfVxuY29udGV4dC5zZXRWYXJpYWJsZShcIm1hY3Jvc1wiLCB0XzMpO1xub3V0cHV0ICs9IFwiXFxuXFxuXFxuXCI7XG4ocGFyZW50VGVtcGxhdGUgPyBmdW5jdGlvbihlLCBjLCBmLCByLCBjYikgeyBjYihcIlwiKTsgfSA6IGNvbnRleHQuZ2V0QmxvY2soXCJyZWxhdGVkX2NvbnRlbnRcIikpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfNyx0XzYpIHtcbmlmKHRfNykgeyBjYih0XzcpOyByZXR1cm47IH1cbm91dHB1dCArPSB0XzY7XG5vdXRwdXQgKz0gXCJcXG5cXG5cIjtcbihwYXJlbnRUZW1wbGF0ZSA/IGZ1bmN0aW9uKGUsIGMsIGYsIHIsIGNiKSB7IGNiKFwiXCIpOyB9IDogY29udGV4dC5nZXRCbG9jayhcImFjdGlvbl9idXR0b25zXCIpKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzksdF84KSB7XG5pZih0XzkpIHsgY2IodF85KTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF84O1xub3V0cHV0ICs9IFwiXFxuXFxuXFxuXCI7XG4ocGFyZW50VGVtcGxhdGUgPyBmdW5jdGlvbihlLCBjLCBmLCByLCBjYikgeyBjYihcIlwiKTsgfSA6IGNvbnRleHQuZ2V0QmxvY2soXCJjb250YWN0XCIpKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzExLHRfMTApIHtcbmlmKHRfMTEpIHsgY2IodF8xMSk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfMTA7XG5vdXRwdXQgKz0gXCJcXG5cIjtcbmlmKHBhcmVudFRlbXBsYXRlKSB7XG5wYXJlbnRUZW1wbGF0ZS5yb290UmVuZGVyRnVuYyhlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYik7XG59IGVsc2Uge1xuY2IobnVsbCwgb3V0cHV0KTtcbn1cbn0pfSl9KX0pfSl9KTtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX3JlbGF0ZWRfY29udGVudChlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xub3V0cHV0ICs9IFwiXFxuICAgIFxcbiAgICBcIjtcbmNvbnRleHQuZ2V0QmxvY2soXCJncm91cF9ldmVudHNcIikoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF8xMyx0XzEyKSB7XG5pZih0XzEzKSB7IGNiKHRfMTMpOyByZXR1cm47IH1cbm91dHB1dCArPSB0XzEyO1xub3V0cHV0ICs9IFwiXFxuXFxuICAgIFwiO1xuaWYoZW52LmdldEZpbHRlcihcImxlbmd0aFwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwib3JnYW5pemF0aW9uc1wiKSkgPiAwKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcInRpbGUtc2VjdGlvbiB0aWxlLXNlY3Rpb24tZGl2aWRlZFxcXCI+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwic3ViaGVhZGluZ1xcXCI+XFxuICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1idWlsZGluZ1xcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICBcIjtcbmlmKGVudi5nZXRGaWx0ZXIoXCJsZW5ndGhcIikuY2FsbChjb250ZXh0LCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm9yZ2FuaXphdGlvbnNcIikpID4gMSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIFxcdFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0ICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIk9yZ2FuaXphdGlvbnNcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbm91dHB1dCArPSBcIlxcblxcdCAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcblxcdCAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJPcmdhbml6YXRpb25cIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLXNlY3Rpb25cXFwiPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInJvd1xcXCI+XFxuICAgICAgICAgICAgICAgIFwiO1xuZnJhbWUgPSBmcmFtZS5wdXNoKCk7XG52YXIgdF8xNiA9IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwib3JnYW5pemF0aW9uc1wiKTtcbmlmKHRfMTYpIHt2YXIgdF8xNSA9IHRfMTYubGVuZ3RoO1xuZm9yKHZhciB0XzE0PTA7IHRfMTQgPCB0XzE2Lmxlbmd0aDsgdF8xNCsrKSB7XG52YXIgdF8xNyA9IHRfMTZbdF8xNF07XG5mcmFtZS5zZXQoXCJvcmdhbml6YXRpb25cIiwgdF8xNyk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfMTQgKyAxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXgwXCIsIHRfMTQpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleFwiLCB0XzE1IC0gdF8xNCk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4MFwiLCB0XzE1IC0gdF8xNCAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzE0ID09PSAwKTtcbmZyYW1lLnNldChcImxvb3AubGFzdFwiLCB0XzE0ID09PSB0XzE1IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzE1KTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTZcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSgobGluZW5vID0gNDAsIGNvbG5vID0gNDAsIHJ1bnRpbWUuY2FsbFdyYXAocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibWFjcm9zXCIpKSxcIml0ZW1DYXJkXCIpLCBcIm1hY3Jvc1tcXFwiaXRlbUNhcmRcXFwiXVwiLCBjb250ZXh0LCBbcnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTcpLFwicG9ydGFsXCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzE3KSxcInNsdWdcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTcpLFwidGl0bGVcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTcpLFwidHlwZVwiKSxydW50aW1lLm1lbWJlckxvb2t1cCgodF8xNyksXCJpY29uSW1hZ2VVcmxcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTcpLFwibG9jYXRpb25cIiksXCJmYS1tYXAtbWFya2VyXCJdKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgXCI7XG47XG59XG59XG5mcmFtZSA9IGZyYW1lLnBvcCgpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgXFxuXCI7XG5jYihudWxsLCBvdXRwdXQpO1xufSk7XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl9ncm91cF9ldmVudHMoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcblxcdCAgICBcIjtcbmlmKGVudi5nZXRGaWx0ZXIoXCJsZW5ndGhcIikuY2FsbChjb250ZXh0LCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImV2ZW50c1wiKSkgPiAwKSB7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgICAgIDxkaXYgY2xhc3M9XFxcInRpbGUtc2VjdGlvbiB0aWxlLXNlY3Rpb24tZGl2aWRlZFxcXCI+XFxuXFx0ICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwic3ViaGVhZGluZ1xcXCI+XFxuXFx0ICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1jYWxlbmRhclxcXCI+PC9pPlxcblxcdCAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcblxcdCAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJFdmVudHNcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCIgKFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RmlsdGVyKFwibGVuZ3RoXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJldmVudHNcIikpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIilcXG5cXHQgICAgICAgICAgICA8L2Rpdj5cXG5cXHQgICAgICAgIDwvZGl2PlxcblxcdCAgICAgICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uXFxcIj5cXG5cXHQgICAgICAgICAgICBcIjtcbmZyYW1lID0gZnJhbWUucHVzaCgpO1xudmFyIHRfMjAgPSBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImV2ZW50c1wiKTtcbmlmKHRfMjApIHt2YXIgdF8xOSA9IHRfMjAubGVuZ3RoO1xuZm9yKHZhciB0XzE4PTA7IHRfMTggPCB0XzIwLmxlbmd0aDsgdF8xOCsrKSB7XG52YXIgdF8yMSA9IHRfMjBbdF8xOF07XG5mcmFtZS5zZXQoXCJldmVudFwiLCB0XzIxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXhcIiwgdF8xOCArIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleDBcIiwgdF8xOCk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4XCIsIHRfMTkgLSB0XzE4KTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXgwXCIsIHRfMTkgLSB0XzE4IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmZpcnN0XCIsIHRfMTggPT09IDApO1xuZnJhbWUuc2V0KFwibG9vcC5sYXN0XCIsIHRfMTggPT09IHRfMTkgLSAxKTtcbmZyYW1lLnNldChcImxvb3AubGVuZ3RoXCIsIHRfMTkpO1xub3V0cHV0ICs9IFwiXFxuXFx0ICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSgobGluZW5vID0gMTcsIGNvbG5vID0gMzMsIHJ1bnRpbWUuY2FsbFdyYXAocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibWFjcm9zXCIpKSxcIml0ZW1DYXJkXCIpLCBcIm1hY3Jvc1tcXFwiaXRlbUNhcmRcXFwiXVwiLCBjb250ZXh0LCBbcnVudGltZS5tZW1iZXJMb29rdXAoKHRfMjEpLFwicG9ydGFsXCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzIxKSxcInNsdWdcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMjEpLFwidGl0bGVcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMjEpLFwidHlwZVwiKSxydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm51bGxcIiksZW52LmdldEZpbHRlcihcInNhZmVcIikuY2FsbChjb250ZXh0LCBydW50aW1lLm1lbWJlckxvb2t1cCgodF8yMSksXCJkYXRhU2xvdDFcIikpLFwiZmEtY2xvY2stb1wiLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzIxKSxcImFkZHJlc3NcIiksXCJmYS1tYXAtbWFya2VyXCIscnVudGltZS5tYWtlS2V5d29yZEFyZ3Moe1wiY29zaW5udXNfYWN0aXZlX3VzZXJcIjogcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb3Npbm51c19hY3RpdmVfdXNlclwiKSxcImdyb3VwX3NsdWdcIjogcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzbHVnXCIpfSldKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0ICAgICAgICAgICAgXCI7XG47XG59XG59XG5mcmFtZSA9IGZyYW1lLnBvcCgpO1xub3V0cHV0ICs9IFwiXFxuXFx0ICAgICAgICA8L2Rpdj5cXG5cXHQgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgXCI7XG5jYihudWxsLCBvdXRwdXQpO1xuO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfYWN0aW9uX2J1dHRvbnMoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcbiAgICBcIjtcbmlmKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb250cm9sVmlld1wiKSksXCJwb3J0YWxJbmZvXCIpKSxcImN1cnJlbnRcIikgPT0gcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJwb3J0YWxcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgPGEgY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uIGJ1dHRvbi1hY3Rpb25cXG4gICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvc2lubnVzX2FjdGl2ZV91c2VyXCIpKSB7XG5vdXRwdXQgKz0gXCJidXR0b24tZm9sbG93XFxcIiBcIjtcbjtcbn1cbmVsc2Uge1xub3V0cHV0ICs9IFwiXFxcIiBocmVmPVxcXCIvc2lnbnVwLz9hY2NfcmVxX21zZz0xJm5leHQ9L21hcC9cXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIlwiO1xuO1xufVxub3V0cHV0ICs9IFwiPlxcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbi1pbm5lclxcXCI+XFxuICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJmb2xsb3dlZFwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzUz1cXFwiZmFzIGZhLWJlbGxcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJGb2xsb3dpbmdcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc1M9XFxcImZhciBmYS1iZWxsXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiRm9sbG93XCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgPC9hPlxcblxcbiAgICAgICAgPGEgY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uIGJ1dHRvbi1hY3Rpb24gXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvc2lubnVzX2FjdGl2ZV91c2VyXCIpKSB7XG5vdXRwdXQgKz0gXCIgYnV0dG9uLXN0YXIgXCI7XG47XG59XG5lbHNlIHtcbm91dHB1dCArPSBcIlxcXCIgaHJlZj1cXFwiL3NpZ251cC8/YWNjX3JlcV9tc2c9MSZuZXh0PS9tYXAvXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCJcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcXCI+XFxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uLWlubmVyXFxcIj5cXG4gICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInN0YXJyZWRcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhcyBmYS1zdGFyXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzdGFycmluZ0xhYmVsXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmFyIGZhLXN0YXJcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInN0YXJMYWJlbFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICA8L2E+XFxuICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXCI7XG5jYihudWxsLCBvdXRwdXQpO1xuO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfY29udGFjdChlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xub3V0cHV0ICs9IFwiXFxuXFxuICAgIDxkaXYgY2xhc3M9XFxcInRpbGUtc2VjdGlvbiB0aWxlLXNlY3Rpb24tZGl2aWRlZFxcXCI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJyb3dcXFwiPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC14cy02XFxcIj5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwic3ViaGVhZGluZ1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiQ29udGFjdFwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgXCI7XG5pZighcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ5b3V0dWJlX3VybFwiKSAmJiAhcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0d2l0dGVyX3VzZXJuYW1lXCIpICYmICFydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImZsaWNrcl91cmxcIikgJiYgIXJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwid2Vic2l0ZV91cmxcIikgJiYgIXJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29udGFjdFwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cXFwicGFsZS1jb2xvclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGk+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIk5vIGluZm8uXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9pPlxcbiAgICAgICAgICAgICAgICAgICAgPC9wPlxcbiAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29udGFjdFwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRGaWx0ZXIoXCJzYWZlXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb250YWN0XCIpKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwid2Vic2l0ZV91cmxcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInRpbGUtc2VjdGlvbiB0aWxlLXNlY3Rpb24tY29tcGFjdFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XFxcIlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIndlYnNpdGVfdXJsXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiIGNsYXNzPVxcXCJjb21wYWN0LWxpbmtcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWdsb2JlXFxcIj48L2k+XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwid2Vic2l0ZV91cmxcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYT5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ5b3V0dWJlX3VybFwiKSB8fCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInR3aXR0ZXJfdXNlcm5hbWVcIikgfHwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJmbGlja3JfdXJsXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLXNlY3Rpb24gdGlsZS1zZWN0aW9uLWNvbXBhY3RcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ5b3V0dWJlX3VybFwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInRpbGUtc2VjdGlvbi1oZWFkZXJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwid2Vic2l0ZV91cmxcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCIgY2xhc3M9XFxcImNvbXBhY3QtbGlua1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLXlvdXR1YmVcXFwiPjwvaT5Zb3V0dWJlXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2E+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInR3aXR0ZXJfdXNlcm5hbWVcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLXNlY3Rpb24taGVhZGVyXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XFxcIlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIndlYnNpdGVfdXJsXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiIGNsYXNzPVxcXCJjb21wYWN0LWxpbmtcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS10d2l0dGVyXFxcIj48L2k+VHdpdHRlclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJmbGlja3JfdXJsXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uLWhlYWRlclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVxcXCJcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJmbGlja3JfdXJsXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiIGNsYXNzPVxcXCJjb21wYWN0LWxpbmtcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWZsaWNrclxcXCI+PC9pPkZsaWNrclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgXFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXhzLTZcXFwiPlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJzdWJoZWFkaW5nXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuaWYoZW52LmdldEZpbHRlcihcImxlbmd0aFwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWRtaW5zXCIpKSA+IDEpIHtcbm91dHB1dCArPSBcIiBcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkFkbWluaXN0cmF0b3JcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkFkbWluaXN0cmF0b3JzXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuaWYoZW52LmdldEZpbHRlcihcImxlbmd0aFwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWRtaW5zXCIpKSA+IDApIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuZnJhbWUgPSBmcmFtZS5wdXNoKCk7XG52YXIgdF8yNCA9IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWRtaW5zXCIpO1xuaWYodF8yNCkge3ZhciB0XzIzID0gdF8yNC5sZW5ndGg7XG5mb3IodmFyIHRfMjI9MDsgdF8yMiA8IHRfMjQubGVuZ3RoOyB0XzIyKyspIHtcbnZhciB0XzI1ID0gdF8yNFt0XzIyXTtcbmZyYW1lLnNldChcImFkbWluXCIsIHRfMjUpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleFwiLCB0XzIyICsgMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4MFwiLCB0XzIyKTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXhcIiwgdF8yMyAtIHRfMjIpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleDBcIiwgdF8yMyAtIHRfMjIgLSAxKTtcbmZyYW1lLnNldChcImxvb3AuZmlyc3RcIiwgdF8yMiA9PT0gMCk7XG5mcmFtZS5zZXQoXCJsb29wLmxhc3RcIiwgdF8yMiA9PT0gdF8yMyAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5sZW5ndGhcIiwgdF8yMyk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKChsaW5lbm8gPSAxNTIsIGNvbG5vID0gNDQsIHJ1bnRpbWUuY2FsbFdyYXAocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibWFjcm9zXCIpKSxcIml0ZW1DYXJkXCIpLCBcIm1hY3Jvc1tcXFwiaXRlbUNhcmRcXFwiXVwiLCBjb250ZXh0LCBbcnVudGltZS5tZW1iZXJMb29rdXAoKHRfMjUpLFwicG9ydGFsXCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzI1KSxcInNsdWdcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMjUpLFwidGl0bGVcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMjUpLFwidHlwZVwiKSxydW50aW1lLm1lbWJlckxvb2t1cCgodF8yNSksXCJpY29uSW1hZ2VVcmxcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMjUpLFwiYWRkcmVzc1wiKSxcImZhLW1hcC1tYXJrZXJcIixydW50aW1lLm1ha2VLZXl3b3JkQXJncyh7XCJjb3Npbm51c19hY3RpdmVfdXNlclwiOiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvc2lubnVzX2FjdGl2ZV91c2VyXCIpfSldKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG59XG5mcmFtZSA9IGZyYW1lLnBvcCgpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2k+XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiQWRtaW5pc3RyYXRvcnMgdW5rbm93blwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIjwvaT5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9kaXY+XFxuICAgIFxcbiAgICA8L2Rpdj5cXG4gICAgXFxuICAgIFxcblwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5yZXR1cm4ge1xuYl9yZWxhdGVkX2NvbnRlbnQ6IGJfcmVsYXRlZF9jb250ZW50LFxuYl9ncm91cF9ldmVudHM6IGJfZ3JvdXBfZXZlbnRzLFxuYl9hY3Rpb25fYnV0dG9uczogYl9hY3Rpb25fYnV0dG9ucyxcbmJfY29udGFjdDogYl9jb250YWN0LFxucm9vdDogcm9vdFxufTtcblxufSkoKTtcbn0pKCk7XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHNoaW0obnVuanVja3MsIGVudiwgbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZFtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtYmFzZS1ncm91cC5odG1sXCJdICwgZGVwZW5kZW5jaWVzKVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy90aWxlLWRldGFpbC1iYXNlLWdyb3VwLmh0bWxcbi8vIG1vZHVsZSBpZCA9IDM2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBudW5qdWNrcyA9IHJlcXVpcmUoXCJudW5qdWNrcy9icm93c2VyL251bmp1Y2tzLXNsaW1cIik7XG52YXIgZW52O1xuaWYgKCFudW5qdWNrcy5jdXJyZW50RW52KXtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudiA9IG5ldyBudW5qdWNrcy5FbnZpcm9ubWVudChbXSwgdW5kZWZpbmVkKTtcbn0gZWxzZSB7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnY7XG59XG52YXIgY29uZmlndXJlID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uLy4uL251bmp1Y2tzLmNvbmZpZy5qc1wiKShlbnYpO1xudmFyIGRlcGVuZGVuY2llcyA9IG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgfHwgKG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgPSB7fSk7XG5kZXBlbmRlbmNpZXNbXCJpbmNsdWRlL21hY3Jvcy5odG1sXCJdID0gcmVxdWlyZSggXCJpbmNsdWRlL21hY3Jvcy5odG1sXCIgKTtcblxuXG5cblxudmFyIHNoaW0gPSByZXF1aXJlKFwiL2hvbWUvc2FzY2hhL3ByL2Nvc2lubnVzLWNvcmUvbm9kZV9tb2R1bGVzL251bmp1Y2tzLWxvYWRlci9ydW50aW1lLXNoaW1cIik7XG5cblxuKGZ1bmN0aW9uKCkgeyhudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkID0gbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZCB8fCB7fSlbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtZGV0YWlsLWJhc2UuaHRtbFwiXSA9IChmdW5jdGlvbigpIHtcbmZ1bmN0aW9uIHJvb3QoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbnZhciBwYXJlbnRUZW1wbGF0ZSA9IG51bGw7XG5lbnYuZ2V0VGVtcGxhdGUoXCJpbmNsdWRlL21hY3Jvcy5odG1sXCIsIGZhbHNlLCBcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtYmFzZS5odG1sXCIsIGZhbHNlLCBmdW5jdGlvbih0XzIsdF8xKSB7XG5pZih0XzIpIHsgY2IodF8yKTsgcmV0dXJuOyB9XG50XzEuZ2V0RXhwb3J0ZWQoZnVuY3Rpb24odF8zLHRfMSkge1xuaWYodF8zKSB7IGNiKHRfMyk7IHJldHVybjsgfVxuY29udGV4dC5zZXRWYXJpYWJsZShcIm1hY3Jvc1wiLCB0XzEpO1xub3V0cHV0ICs9IFwiXFxuXFxuPGRpdiBjbGFzcz1cXFwidGlsZS1kZXRhaWwgdGlsZS1cIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0eXBlXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIiBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2VsZWN0ZWRcIikpIHtcbm91dHB1dCArPSBcInNlbGVjdGVkXCI7XG47XG59XG5vdXRwdXQgKz0gXCIgbW9iaWxlLXZpZXcgbW9iaWxlLXZpZXctZGV0YWlsLXZpc2libGUtYmxvY2tcXFwiIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJub01vZGVsXCIpKSB7XG5vdXRwdXQgKz0gXCJzdHlsZT1cXFwiZGlzcGxheTogbm9uZTtcXFwiXCI7XG47XG59XG5vdXRwdXQgKz0gXCI+XFxuICAgIDxkaXYgY2xhc3M9XFxcInRpbGUtY2xvc2UtYnV0dG9uXFxcIj5cXG4gICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1mdyBmYS1jbG9zZVxcXCI+PC9pPlxcbiAgICA8L2Rpdj5cXG4gICAgXFxuICAgIFwiO1xuKHBhcmVudFRlbXBsYXRlID8gZnVuY3Rpb24oZSwgYywgZiwgciwgY2IpIHsgY2IoXCJcIik7IH0gOiBjb250ZXh0LmdldEJsb2NrKFwiY29udGVudFwiKSkoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF81LHRfNCkge1xuaWYodF81KSB7IGNiKHRfNSk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfNDtcbm91dHB1dCArPSBcIlxcbiAgICBcXG4gICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgPGRpdiBjbGFzcz1cXFwic3BhY2VyIG1vYmlsZS1vbmx5XFxcIj4mbmJzcDs8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwic3BhY2VyIG1vYmlsZS1vbmx5XFxcIj4mbmJzcDs8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwic3BhY2VyIG1vYmlsZS1vbmx5XFxcIj4mbmJzcDs8L2Rpdj5cXG48L2Rpdj5cXG5cIjtcbmlmKHBhcmVudFRlbXBsYXRlKSB7XG5wYXJlbnRUZW1wbGF0ZS5yb290UmVuZGVyRnVuYyhlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYik7XG59IGVsc2Uge1xuY2IobnVsbCwgb3V0cHV0KTtcbn1cbn0pfSl9KTtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX2NvbnRlbnQoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcbiAgICBcXG4gICAgICAgIFwiO1xuY29udGV4dC5nZXRCbG9jayhcInR5cGVfYXJlYVwiKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzcsdF82KSB7XG5pZih0XzcpIHsgY2IodF83KTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF82O1xub3V0cHV0ICs9IFwiXFxuICAgICAgICBcXG4gICAgICAgIFwiO1xuY29udGV4dC5nZXRCbG9jayhcImhlYWRlcl9pbWFnZVwiKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzksdF84KSB7XG5pZih0XzkpIHsgY2IodF85KTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF84O1xub3V0cHV0ICs9IFwiXFxuICAgICAgICBcXG4gICAgICAgIFxcbiAgICAgICAgXCI7XG5jb250ZXh0LmdldEJsb2NrKFwidGl0bGVcIikoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF8xMSx0XzEwKSB7XG5pZih0XzExKSB7IGNiKHRfMTEpOyByZXR1cm47IH1cbm91dHB1dCArPSB0XzEwO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICBcXG4gICAgICAgIFwiO1xuY29udGV4dC5nZXRCbG9jayhcInRvcF9saW5lXCIpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfMTMsdF8xMikge1xuaWYodF8xMykgeyBjYih0XzEzKTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF8xMjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgXFxuICAgICAgICBcXG4gICAgICAgIFwiO1xuY29udGV4dC5nZXRCbG9jayhcImFkZGl0aW9uYWxfdG9wX2xpbmVcIikoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF8xNSx0XzE0KSB7XG5pZih0XzE1KSB7IGNiKHRfMTUpOyByZXR1cm47IH1cbm91dHB1dCArPSB0XzE0O1xub3V0cHV0ICs9IFwiXFxuICAgICAgICBcXG4gICAgICAgIFxcbiAgICAgICAgXCI7XG5jb250ZXh0LmdldEJsb2NrKFwidG9waWNfbGluZVwiKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzE3LHRfMTYpIHtcbmlmKHRfMTcpIHsgY2IodF8xNyk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfMTY7XG5vdXRwdXQgKz0gXCJcXG5cXG4gICAgICAgIFwiO1xuY29udGV4dC5nZXRCbG9jayhcInRleHRfdG9waWNfbGluZVwiKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzE5LHRfMTgpIHtcbmlmKHRfMTkpIHsgY2IodF8xOSk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfMTg7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIFxcbiAgICAgICAgXCI7XG5jb250ZXh0LmdldEJsb2NrKFwibWFuYWdlZF90YWdzXCIpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfMjEsdF8yMCkge1xuaWYodF8yMSkgeyBjYih0XzIxKTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF8yMDtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgXFxuICAgICAgICBcXG4gICAgICAgIFwiO1xuY29udGV4dC5nZXRCbG9jayhcImFjdGlvbl9idXR0b25zXCIpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfMjMsdF8yMikge1xuaWYodF8yMykgeyBjYih0XzIzKTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF8yMjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgXFxuICAgICAgICBcXG4gICAgICAgIFwiO1xuY29udGV4dC5nZXRCbG9jayhcImRlc2NyaXB0aW9uXCIpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfMjUsdF8yNCkge1xuaWYodF8yNSkgeyBjYih0XzI1KTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF8yNDtcbm91dHB1dCArPSBcIlxcblxcblxcbiAgICAgICAgXCI7XG5jb250ZXh0LmdldEJsb2NrKFwic2Rnc1wiKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzI3LHRfMjYpIHtcbmlmKHRfMjcpIHsgY2IodF8yNyk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfMjY7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIFxcbiAgICAgICAgXCI7XG5jb250ZXh0LmdldEJsb2NrKFwicmVsYXRlZF9jb250ZW50XCIpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfMjksdF8yOCkge1xuaWYodF8yOSkgeyBjYih0XzI5KTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF8yODtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgXFxuICAgICAgICBcXG4gICAgICAgIFwiO1xuY29udGV4dC5nZXRCbG9jayhcImNvbnRhY3RcIikoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF8zMSx0XzMwKSB7XG5pZih0XzMxKSB7IGNiKHRfMzEpOyByZXR1cm47IH1cbm91dHB1dCArPSB0XzMwO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICBcXG4gICAgICAgIFwiO1xuY29udGV4dC5nZXRCbG9jayhcInJlcG9ydF9vYmplY3RcIikoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF8zMyx0XzMyKSB7XG5pZih0XzMzKSB7IGNiKHRfMzMpOyByZXR1cm47IH1cbm91dHB1dCArPSB0XzMyO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICBcXG4gICAgXCI7XG5jYihudWxsLCBvdXRwdXQpO1xufSl9KX0pfSl9KX0pfSl9KX0pfSl9KX0pfSl9KTtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX3R5cGVfYXJlYShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uLWhlYWRlciBvbmUtbGluZVxcXCI+XFxuICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSgobGluZW5vID0gMTEsIGNvbG5vID0gMzMsIHJ1bnRpbWUuY2FsbFdyYXAocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibWFjcm9zXCIpKSxcInR5cGVMYWJlbFwiKSwgXCJtYWNyb3NbXFxcInR5cGVMYWJlbFxcXCJdXCIsIGNvbnRleHQsIFtydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInR5cGVcIikscnVudGltZS5tYWtlS2V5d29yZEFyZ3Moe1wic2luZ3VsYXJcIjogMSxcIkNPU0lOTlVTX1RSQU5TXCI6IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiQ09TSU5OVVNfVFJBTlNcIil9KV0pKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInBvcnRhbFwiKSA9PSBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIkNPU0lOTlVTX0VYQ0hBTkdFX1BPUlRBTF9JRFwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIFxcdFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0ICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcImZyb21cIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCI6IFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNvdXJjZVwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgXFxuICAgICAgICAgICAgICAgIFwiO1xuaWYoIXJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiaXNTbWFsbFwiKSAmJiBydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29udHJvbFZpZXdcIikpLFwicG9ydGFsSW5mb1wiKSksXCJjdXJyZW50XCIpICE9IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicG9ydGFsXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJpbmxpbmUtc3BhY2VyXFxcIj48L3NwYW4+XFxuICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz1cXFwicG9ydGFsLWlubGluayB1bmNvbG9yZWQtbGlua1xcXCIgaHJlZj1cXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29udHJvbFZpZXdcIikpLFwicG9ydGFsSW5mb1wiKSkscnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJwb3J0YWxcIikpKSxcImRvbWFpblwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIiB0aXRsZT1cXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29udHJvbFZpZXdcIikpLFwicG9ydGFsSW5mb1wiKSkscnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJwb3J0YWxcIikpKSxcIm5hbWVcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvbnRyb2xWaWV3XCIpKSxcInBvcnRhbEluZm9cIikpLHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicG9ydGFsXCIpKSksXCJuYW1lXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgPC9hPiBcXG4gICAgICAgICAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIFwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX2hlYWRlcl9pbWFnZShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uIGhlYWRlci1pbWFnZVxcXCI+XFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImR1YWwtdGlsZS1pbWFnZSBcIjtcbmlmKCFydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImJhY2tncm91bmRJbWFnZUxhcmdlVXJsXCIpKSB7XG5vdXRwdXQgKz0gXCJpbWFnZS1wbGFjZWhvbGRlci1iYWNrZ3JvdW5kIGltYWdlLXBsYWNlaG9sZGVyLWJhY2tncm91bmQtXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwidHlwZVwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG47XG59XG5vdXRwdXQgKz0gXCJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImJhY2tncm91bmRJbWFnZUxhcmdlVXJsXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIGNsYXNzPVxcXCJ0aWxlLWltYWdlIHRpbGUtaW1hZ2UtYmFja2dyb3VuZFxcXCIgc3JjPVxcXCJcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJiYWNrZ3JvdW5kSW1hZ2VMYXJnZVVybFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiIC8+IFxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIDxpbWcgY2xhc3M9XFxcImZsb2F0aW5nLXRpbGUtaW1hZ2VcXFwiIHNyYz1cXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiaWNvbkltYWdlVXJsXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCIgLz5cXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICBcIjtcbmNiKG51bGwsIG91dHB1dCk7XG47XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl90aXRsZShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uIHRpdGxlXFxcIj5cXG4gICAgICAgICAgICAgICAgPGEgaHJlZj1cXFwiXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInR5cGVcIikgPT0gXCJwZW9wbGVcIikge1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvbnRyb2xWaWV3XCIpKSxcInBvcnRhbEluZm9cIikpLHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicG9ydGFsXCIpKSksXCJkb21haW5cIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xuO1xufVxub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInVybFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIiBjbGFzcz1cXFwidW5jb2xvcmVkLWxpbmtcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGgxPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInRpdGxlXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJpc1lvdVwiKSkge1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0ICAgIFxcdFxcdDxpIGNsYXNzPVxcXCJwYWxlLWNvbG9yXFxcIj5cXG5cXHRcXHRcXHRcXHQgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHQgICAgICAgICAgICAgICAgKFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIllvdVwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIilcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHQ8L2k+XFxuXFx0XFx0XFx0XFx0XFx0XFx0XCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtZXh0ZXJuYWwtbGlua1xcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICAgICAgPC9oMT5cXG4gICAgICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgXCI7XG5jYihudWxsLCBvdXRwdXQpO1xuO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfdG9wX2xpbmUoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJhZGRyZXNzXCIpIHx8IChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImdyb3VwX3NsdWdcIikgJiYgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJncm91cF9uYW1lXCIpICYmIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicG9ydGFsXCIpKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInRpbGUtc2VjdGlvbiB0b3AtbGluZSBvbmUtbGluZSBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiaXNTbWFsbFwiKSkge1xub3V0cHV0ICs9IFwibm8tc3BhY2VcIjtcbjtcbn1cbmVsc2Uge1xub3V0cHV0ICs9IFwiZXh0cmEtc3BhY2VcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcXCI+XFxuICAgICAgICAgICAgICAgICAgICBcIjtcbmNvbnRleHQuZ2V0QmxvY2soXCJ0b3BfbGluZV9ncm91cFwiKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzM1LHRfMzQpIHtcbmlmKHRfMzUpIHsgY2IodF8zNSk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfMzQ7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG5jb250ZXh0LmdldEJsb2NrKFwidG9wX2xpbmVfYWRkcmVzc1wiKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzM3LHRfMzYpIHtcbmlmKHRfMzcpIHsgY2IodF8zNyk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfMzY7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgXCI7XG59KX0pO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICBcIjtcbmNiKG51bGwsIG91dHB1dCk7XG47XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl90b3BfbGluZV9ncm91cChlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImdyb3VwX3NsdWdcIikgJiYgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJncm91cF9uYW1lXCIpICYmIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicG9ydGFsXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInBhbGUtY29sb3JcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInR5cGVcIikgPT0gXCJwcm9qZWN0c1wiKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoKGxpbmVubyA9IDYzLCBjb2xubyA9IDUzLCBydW50aW1lLmNhbGxXcmFwKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm1hY3Jvc1wiKSksXCJ0eXBlTGFiZWxcIiksIFwibWFjcm9zW1xcXCJ0eXBlTGFiZWxcXFwiXVwiLCBjb250ZXh0LCBbXCJncm91cHNcIixydW50aW1lLm1ha2VLZXl3b3JkQXJncyh7XCJzaW5ndWxhclwiOiAxLFwidXNlU3R5bGVzXCI6IDAsXCJjb2xvblwiOiAxLFwic2hvd0ljb25cIjogMCxcIkNPU0lOTlVTX1RSQU5TXCI6IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiQ09TSU5OVVNfVFJBTlNcIil9KV0pKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoKGxpbmVubyA9IDY0LCBjb2xubyA9IDU0LCBydW50aW1lLmNhbGxXcmFwKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm1hY3Jvc1wiKSksXCJyZXN1bHRMaW5rXCIpLCBcIm1hY3Jvc1tcXFwicmVzdWx0TGlua1xcXCJdXCIsIGNvbnRleHQsIFtydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInBvcnRhbFwiKSxydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImdyb3VwX3NsdWdcIikscnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJncm91cF9uYW1lXCIpLFwiZ3JvdXBzXCJdKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKChsaW5lbm8gPSA2NiwgY29sbm8gPSA1MywgcnVudGltZS5jYWxsV3JhcChydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJtYWNyb3NcIikpLFwidHlwZUxhYmVsXCIpLCBcIm1hY3Jvc1tcXFwidHlwZUxhYmVsXFxcIl1cIiwgY29udGV4dCwgW1wicHJvamVjdHNcIixydW50aW1lLm1ha2VLZXl3b3JkQXJncyh7XCJzaW5ndWxhclwiOiAxLFwidXNlU3R5bGVzXCI6IDAsXCJjb2xvblwiOiAxLFwic2hvd0ljb25cIjogMCxcIkNPU0lOTlVTX1RSQU5TXCI6IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiQ09TSU5OVVNfVFJBTlNcIil9KV0pKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoKGxpbmVubyA9IDY3LCBjb2xubyA9IDU0LCBydW50aW1lLmNhbGxXcmFwKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm1hY3Jvc1wiKSksXCJyZXN1bHRMaW5rXCIpLCBcIm1hY3Jvc1tcXFwicmVzdWx0TGlua1xcXCJdXCIsIGNvbnRleHQsIFtydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInBvcnRhbFwiKSxydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImdyb3VwX3NsdWdcIikscnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJncm91cF9uYW1lXCIpLFwicHJvamVjdHNcIl0pKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImlubGluZS1zcGFjZXJcXFwiPjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG5jYihudWxsLCBvdXRwdXQpO1xuO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfdG9wX2xpbmVfYWRkcmVzcyhlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImFkZHJlc3NcIikgJiYgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0eXBlXCIpICE9IFwiZXZlbnRzXCIpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiYWRkcmVzcyBjYXBpdGFsaXplXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1tYXAtbWFya2VyXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJhZGRyZXNzXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX2FkZGl0aW9uYWxfdG9wX2xpbmUoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgXCI7XG5jYihudWxsLCBvdXRwdXQpO1xuO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfdG9waWNfbGluZShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgXCI7XG5pZihlbnYuZ2V0RmlsdGVyKFwibGVuZ3RoXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0b3BpY3NcIikpID4gMCkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInRpbGUtc2VjdGlvbiB0b3BpYy1saW5lXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJwYWxlLWNvbG9yXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIlRvcGljc1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIjpcXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj4gXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbmZyYW1lID0gZnJhbWUucHVzaCgpO1xudmFyIHRfNDAgPSBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInRvcGljc1wiKTtcbmlmKHRfNDApIHt2YXIgdF8zOSA9IHRfNDAubGVuZ3RoO1xuZm9yKHZhciB0XzM4PTA7IHRfMzggPCB0XzQwLmxlbmd0aDsgdF8zOCsrKSB7XG52YXIgdF80MSA9IHRfNDBbdF8zOF07XG5mcmFtZS5zZXQoXCJ0b3BpY1wiLCB0XzQxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXhcIiwgdF8zOCArIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleDBcIiwgdF8zOCk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4XCIsIHRfMzkgLSB0XzM4KTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXgwXCIsIHRfMzkgLSB0XzM4IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmZpcnN0XCIsIHRfMzggPT09IDApO1xuZnJhbWUuc2V0KFwibG9vcC5sYXN0XCIsIHRfMzggPT09IHRfMzkgLSAxKTtcbmZyYW1lLnNldChcImxvb3AubGVuZ3RoXCIsIHRfMzkpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XFxcInRvcGljLWZpbHRlci1saW5rXFxcIiBkYXRhLXRvcGljLWlkPVxcXCJcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUodF80MSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiPlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29udHJvbFZpZXdcIikpLFwiYWxsVG9waWNzXCIpKSx0XzQxKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCI8L2E+XCI7XG5pZighcnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibG9vcFwiKSksXCJsYXN0XCIpKSB7XG5vdXRwdXQgKz0gXCIsXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxufVxuZnJhbWUgPSBmcmFtZS5wb3AoKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgXCI7XG5jYihudWxsLCBvdXRwdXQpO1xuO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfdGV4dF90b3BpY19saW5lKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbmlmKGVudi5nZXRGaWx0ZXIoXCJsZW5ndGhcIikuY2FsbChjb250ZXh0LCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInRleHRfdG9waWNzXCIpKSA+IDApIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLXNlY3Rpb24gdG9waWMtbGluZVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwicGFsZS1jb2xvclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJDYXRlZ29yaWVzXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiOlxcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG5mcmFtZSA9IGZyYW1lLnB1c2goKTtcbnZhciB0XzQ0ID0gcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0ZXh0X3RvcGljc1wiKTtcbmlmKHRfNDQpIHt2YXIgdF80MyA9IHRfNDQubGVuZ3RoO1xuZm9yKHZhciB0XzQyPTA7IHRfNDIgPCB0XzQ0Lmxlbmd0aDsgdF80MisrKSB7XG52YXIgdF80NSA9IHRfNDRbdF80Ml07XG5mcmFtZS5zZXQoXCJ0ZXh0X3RvcGljXCIsIHRfNDUpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleFwiLCB0XzQyICsgMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4MFwiLCB0XzQyKTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXhcIiwgdF80MyAtIHRfNDIpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleDBcIiwgdF80MyAtIHRfNDIgLSAxKTtcbmZyYW1lLnNldChcImxvb3AuZmlyc3RcIiwgdF80MiA9PT0gMCk7XG5mcmFtZS5zZXQoXCJsb29wLmxhc3RcIiwgdF80MiA9PT0gdF80MyAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5sZW5ndGhcIiwgdF80Myk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz1cXFwidGV4dC10b3BpYy1maWx0ZXItbGlua1xcXCIgZGF0YS10ZXh0LXRvcGljLWlkPVxcXCJcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUodF80NSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiPlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29udHJvbFZpZXdcIikpLFwiYWxsVGV4dFRvcGljc1wiKSksdF80NSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiPC9hPlwiO1xuaWYoIXJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImxvb3BcIikpLFwibGFzdFwiKSkge1xub3V0cHV0ICs9IFwiLFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbn1cbmZyYW1lID0gZnJhbWUucG9wKCk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIFwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX21hbmFnZWRfdGFncyhlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgXCI7XG5pZihlbnYuZ2V0RmlsdGVyKFwibGVuZ3RoXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJtYW5hZ2VkX3RhZ3NcIikpID4gMCAmJiBlbnYuZ2V0RmlsdGVyKFwibGVuZ3RoXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29udHJvbFZpZXdcIikpLFwiYWxsTWFuYWdlZFRhZ3NcIikpID4gMCkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInRpbGUtc2VjdGlvbiB0b3BpYy1saW5lXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJwYWxlLWNvbG9yXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvbnRyb2xWaWV3XCIpKSxcIm1hbmFnZWRUYWdzTGFiZWxzXCIpKSxcIk1BTkFHRURfVEFHX01BUF9MQUJFTFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCI6XFxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+IFxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG5mcmFtZSA9IGZyYW1lLnB1c2goKTtcbnZhciB0XzQ4ID0gcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJtYW5hZ2VkX3RhZ3NcIik7XG5pZih0XzQ4KSB7dmFyIHRfNDcgPSB0XzQ4Lmxlbmd0aDtcbmZvcih2YXIgdF80Nj0wOyB0XzQ2IDwgdF80OC5sZW5ndGg7IHRfNDYrKykge1xudmFyIHRfNDkgPSB0XzQ4W3RfNDZdO1xuZnJhbWUuc2V0KFwibWFuYWdlZF90YWdfaWRcIiwgdF80OSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfNDYgKyAxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXgwXCIsIHRfNDYpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleFwiLCB0XzQ3IC0gdF80Nik7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4MFwiLCB0XzQ3IC0gdF80NiAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzQ2ID09PSAwKTtcbmZyYW1lLnNldChcImxvb3AubGFzdFwiLCB0XzQ2ID09PSB0XzQ3IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzQ3KTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xudmFyIHRfNTA7XG50XzUwID0gcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJsb29wXCIpO1xuZnJhbWUuc2V0KFwib3V0ZXJfbG9vcFwiLCB0XzUwLCB0cnVlKTtcbmlmKGZyYW1lLnRvcExldmVsKSB7XG5jb250ZXh0LnNldFZhcmlhYmxlKFwib3V0ZXJfbG9vcFwiLCB0XzUwKTtcbn1cbmlmKGZyYW1lLnRvcExldmVsKSB7XG5jb250ZXh0LmFkZEV4cG9ydChcIm91dGVyX2xvb3BcIiwgdF81MCk7XG59XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHQgICAgICAgICAgICAgICAgXCI7XG5mcmFtZSA9IGZyYW1lLnB1c2goKTtcbnZhciB0XzUzID0gcnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29udHJvbFZpZXdcIikpLFwiYWxsTWFuYWdlZFRhZ3NcIik7XG5pZih0XzUzKSB7dmFyIHRfNTIgPSB0XzUzLmxlbmd0aDtcbmZvcih2YXIgdF81MT0wOyB0XzUxIDwgdF81My5sZW5ndGg7IHRfNTErKykge1xudmFyIHRfNTQgPSB0XzUzW3RfNTFdO1xuZnJhbWUuc2V0KFwibWFuYWdlZF90YWdcIiwgdF81NCk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfNTEgKyAxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXgwXCIsIHRfNTEpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleFwiLCB0XzUyIC0gdF81MSk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4MFwiLCB0XzUyIC0gdF81MSAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzUxID09PSAwKTtcbmZyYW1lLnNldChcImxvb3AubGFzdFwiLCB0XzUxID09PSB0XzUyIC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzUyKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdCAgICAgICAgICAgICAgICAgICAgXCI7XG5pZih0XzQ5ID09IHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzU0KSxcImlkXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHQgICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz1cXFwibWFuYWdlZC10YWctZmlsdGVyLWxpbmtcXFwiIGRhdGEtbWFuYWdlZC10YWctaWQ9XFxcIlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSh0XzQ5LCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCI+XFxuXFx0XFx0ICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5tZW1iZXJMb29rdXAoKHRfNTQpLFwibmFtZVwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCI8L2E+XFxuXFx0XFx0ICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzU0KSxcInVybFwiKSkge1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIHRhcmdldD1cXFwiX2JsYW5rXFxcIiBocmVmPVxcXCJcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5tZW1iZXJMb29rdXAoKHRfNTQpLFwidXJsXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCI+XFxuXFx0XFx0XFx0XFx0ICAgICAgICAgICAgICAgICAgICAgICAgKDxpIGNsYXNzPVxcXCJmYSBmYS1leHRlcm5hbC1saW5rXFxcIj48L2k+XFxuXFx0XFx0XFx0XFx0ICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHQgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJ3ZWJzaXRlXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiKVxcblxcdFxcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2E+XCI7XG47XG59XG5pZighcnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwib3V0ZXJfbG9vcFwiKSksXCJsYXN0XCIpKSB7XG5vdXRwdXQgKz0gXCIsXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHQgICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXFx0XFx0ICAgICAgICAgICAgICAgIFwiO1xuO1xufVxufVxuZnJhbWUgPSBmcmFtZS5wb3AoKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdCAgICAgICAgICAgIFwiO1xuO1xufVxufVxuZnJhbWUgPSBmcmFtZS5wb3AoKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgXCI7XG5jYihudWxsLCBvdXRwdXQpO1xuO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfYWN0aW9uX2J1dHRvbnMoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgXCI7XG5jYihudWxsLCBvdXRwdXQpO1xuO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfZGVzY3JpcHRpb24oZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInRpbGUtc2VjdGlvbiBkZXNjcmlwdGlvbiBleHRyYS1zcGFjZS10b3BcXFwiPlxcbiAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZGVzY3JpcHRpb25cIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRGaWx0ZXIoXCJzYWZlXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJkZXNjcmlwdGlvblwiKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICA8IS0tXFxuICAgICAgICAgICAgICAgICAgICA8YnIvPlxcbiAgICAgICAgICAgICAgICAgICAgKCggVE9ETzogbWFrZSBtZSBjbGljay1leHBhbmRhYmxlICkpXFxuICAgICAgICAgICAgICAgICAgICAtLT5cXG4gICAgICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cXFwicGFsZS1jb2xvclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGk+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIk5vIGRlc2NyaXB0aW9uIHlldC5cIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2k+XFxuICAgICAgICAgICAgICAgICAgICA8L3A+XFxuICAgICAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgXCI7XG5jYihudWxsLCBvdXRwdXQpO1xuO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfc2RncyhlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgXCI7XG5pZihlbnYuZ2V0RmlsdGVyKFwibGVuZ3RoXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzZGdzXCIpKSA+IDAgJiYgZW52LmdldEZpbHRlcihcImxlbmd0aFwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvbnRyb2xWaWV3XCIpKSxcImFsbFNER1NcIikpID4gMCkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPHA+XFxuICAgICAgICAgICAgICAgIDxiPlxcbiAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJTdXN0YWluYWJsZSBEZXZlbG9wbWVudCBHb2Fsc1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICA8L2I+XFxuICAgICAgICAgICAgPC9wPlxcbiAgICAgICAgICAgIDxwPlxcbiAgICBcXG4gICAgICAgICAgICBcIjtcbmZyYW1lID0gZnJhbWUucHVzaCgpO1xudmFyIHRfNTcgPSBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNkZ3NcIik7XG5pZih0XzU3KSB7dmFyIHRfNTYgPSB0XzU3Lmxlbmd0aDtcbmZvcih2YXIgdF81NT0wOyB0XzU1IDwgdF81Ny5sZW5ndGg7IHRfNTUrKykge1xudmFyIHRfNTggPSB0XzU3W3RfNTVdO1xuZnJhbWUuc2V0KFwic2RnX2lkXCIsIHRfNTgpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleFwiLCB0XzU1ICsgMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4MFwiLCB0XzU1KTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXhcIiwgdF81NiAtIHRfNTUpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleDBcIiwgdF81NiAtIHRfNTUgLSAxKTtcbmZyYW1lLnNldChcImxvb3AuZmlyc3RcIiwgdF81NSA9PT0gMCk7XG5mcmFtZS5zZXQoXCJsb29wLmxhc3RcIiwgdF81NSA9PT0gdF81NiAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5sZW5ndGhcIiwgdF81Nik7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5mcmFtZSA9IGZyYW1lLnB1c2goKTtcbnZhciB0XzYxID0gcnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29udHJvbFZpZXdcIikpLFwiYWxsU0RHU1wiKTtcbmlmKHRfNjEpIHt2YXIgdF82MCA9IHRfNjEubGVuZ3RoO1xuZm9yKHZhciB0XzU5PTA7IHRfNTkgPCB0XzYxLmxlbmd0aDsgdF81OSsrKSB7XG52YXIgdF82MiA9IHRfNjFbdF81OV07XG5mcmFtZS5zZXQoXCJzZGdcIiwgdF82Mik7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfNTkgKyAxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXgwXCIsIHRfNTkpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleFwiLCB0XzYwIC0gdF81OSk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4MFwiLCB0XzYwIC0gdF81OSAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzU5ID09PSAwKTtcbmZyYW1lLnNldChcImxvb3AubGFzdFwiLCB0XzU5ID09PSB0XzYwIC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzYwKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG5pZih0XzU4ID09IHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzYyKSxcImlkXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIGNsYXNzPVxcXCJzZGctaWNvblxcXCIgc3JjPVxcXCJcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5tZW1iZXJMb29rdXAoKHRfNjIpLFwiaWNvblwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG47XG59XG59XG5mcmFtZSA9IGZyYW1lLnBvcCgpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgXCI7XG47XG59XG59XG5mcmFtZSA9IGZyYW1lLnBvcCgpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPC9wPlxcbiAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICBcIjtcbmNiKG51bGwsIG91dHB1dCk7XG47XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl9yZWxhdGVkX2NvbnRlbnQoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgXCI7XG5jYihudWxsLCBvdXRwdXQpO1xuO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfY29udGFjdChlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICBcIjtcbmNiKG51bGwsIG91dHB1dCk7XG47XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl9yZXBvcnRfb2JqZWN0KGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29zaW5udXNfYWN0aXZlX3VzZXJcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJzcGFjZXJcXFwiPiZuYnNwOzwvZGl2PlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJzcGFjZXJcXFwiPiZuYnNwOzwvZGl2PlxcbiAgICAgICAgICAgICAgICA8YSBjbGFzcz1cXFwicGFsZS1jb2xvciBidXR0b24tcmVwb3J0LW9iamVjdFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtd2FybmluZ1xcXCI+PC9pPlxcblwiO1xub3V0cHV0ICs9IFwiXFxuXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiUmVwb3J0IG9mZmVuc2l2ZSBjb250ZW50XCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIDwvYT5cXG4gICAgICAgICAgICAgICAgXFxuICAgICAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIFwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5yZXR1cm4ge1xuYl9jb250ZW50OiBiX2NvbnRlbnQsXG5iX3R5cGVfYXJlYTogYl90eXBlX2FyZWEsXG5iX2hlYWRlcl9pbWFnZTogYl9oZWFkZXJfaW1hZ2UsXG5iX3RpdGxlOiBiX3RpdGxlLFxuYl90b3BfbGluZTogYl90b3BfbGluZSxcbmJfdG9wX2xpbmVfZ3JvdXA6IGJfdG9wX2xpbmVfZ3JvdXAsXG5iX3RvcF9saW5lX2FkZHJlc3M6IGJfdG9wX2xpbmVfYWRkcmVzcyxcbmJfYWRkaXRpb25hbF90b3BfbGluZTogYl9hZGRpdGlvbmFsX3RvcF9saW5lLFxuYl90b3BpY19saW5lOiBiX3RvcGljX2xpbmUsXG5iX3RleHRfdG9waWNfbGluZTogYl90ZXh0X3RvcGljX2xpbmUsXG5iX21hbmFnZWRfdGFnczogYl9tYW5hZ2VkX3RhZ3MsXG5iX2FjdGlvbl9idXR0b25zOiBiX2FjdGlvbl9idXR0b25zLFxuYl9kZXNjcmlwdGlvbjogYl9kZXNjcmlwdGlvbixcbmJfc2RnczogYl9zZGdzLFxuYl9yZWxhdGVkX2NvbnRlbnQ6IGJfcmVsYXRlZF9jb250ZW50LFxuYl9jb250YWN0OiBiX2NvbnRhY3QsXG5iX3JlcG9ydF9vYmplY3Q6IGJfcmVwb3J0X29iamVjdCxcbnJvb3Q6IHJvb3Rcbn07XG5cbn0pKCk7XG59KSgpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBzaGltKG51bmp1Y2tzLCBlbnYsIG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWRbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtZGV0YWlsLWJhc2UuaHRtbFwiXSAsIGRlcGVuZGVuY2llcylcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Nvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtYmFzZS5odG1sXG4vLyBtb2R1bGUgaWQgPSAzN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgbnVuanVja3MgPSByZXF1aXJlKFwibnVuanVja3MvYnJvd3Nlci9udW5qdWNrcy1zbGltXCIpO1xudmFyIGVudjtcbmlmICghbnVuanVja3MuY3VycmVudEVudil7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnYgPSBuZXcgbnVuanVja3MuRW52aXJvbm1lbnQoW10sIHVuZGVmaW5lZCk7XG59IGVsc2Uge1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52O1xufVxudmFyIGNvbmZpZ3VyZSA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi8uLi9udW5qdWNrcy5jb25maWcuanNcIikoZW52KTtcbnZhciBkZXBlbmRlbmNpZXMgPSBudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzIHx8IChudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzID0ge30pO1xuZGVwZW5kZW5jaWVzW1widGlsZXMvdGlsZS1kZXRhaWwtYmFzZS1ncm91cFwiXSA9IHJlcXVpcmUoIFwidGlsZXMvdGlsZS1kZXRhaWwtYmFzZS1ncm91cFwiICk7XG5kZXBlbmRlbmNpZXNbXCJpbmNsdWRlL21hY3Jvcy5odG1sXCJdID0gcmVxdWlyZSggXCJpbmNsdWRlL21hY3Jvcy5odG1sXCIgKTtcblxuXG5cblxudmFyIHNoaW0gPSByZXF1aXJlKFwiL2hvbWUvc2FzY2hhL3ByL2Nvc2lubnVzLWNvcmUvbm9kZV9tb2R1bGVzL251bmp1Y2tzLWxvYWRlci9ydW50aW1lLXNoaW1cIik7XG5cblxuKGZ1bmN0aW9uKCkgeyhudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkID0gbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZCB8fCB7fSlbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtZGV0YWlsLWdyb3Vwcy5odG1sXCJdID0gKGZ1bmN0aW9uKCkge1xuZnVuY3Rpb24gcm9vdChlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xudmFyIHBhcmVudFRlbXBsYXRlID0gbnVsbDtcbmVudi5nZXRUZW1wbGF0ZShcInRpbGVzL3RpbGUtZGV0YWlsLWJhc2UtZ3JvdXBcIiwgdHJ1ZSwgXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtZGV0YWlsLWdyb3Vwcy5odG1sXCIsIGZhbHNlLCBmdW5jdGlvbih0XzIsX3BhcmVudFRlbXBsYXRlKSB7XG5pZih0XzIpIHsgY2IodF8yKTsgcmV0dXJuOyB9XG5wYXJlbnRUZW1wbGF0ZSA9IF9wYXJlbnRUZW1wbGF0ZVxuZm9yKHZhciB0XzEgaW4gcGFyZW50VGVtcGxhdGUuYmxvY2tzKSB7XG5jb250ZXh0LmFkZEJsb2NrKHRfMSwgcGFyZW50VGVtcGxhdGUuYmxvY2tzW3RfMV0pO1xufVxub3V0cHV0ICs9IFwiXFxuXCI7XG5lbnYuZ2V0VGVtcGxhdGUoXCJpbmNsdWRlL21hY3Jvcy5odG1sXCIsIGZhbHNlLCBcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtZ3JvdXBzLmh0bWxcIiwgZmFsc2UsIGZ1bmN0aW9uKHRfNCx0XzMpIHtcbmlmKHRfNCkgeyBjYih0XzQpOyByZXR1cm47IH1cbnRfMy5nZXRFeHBvcnRlZChmdW5jdGlvbih0XzUsdF8zKSB7XG5pZih0XzUpIHsgY2IodF81KTsgcmV0dXJuOyB9XG5jb250ZXh0LnNldFZhcmlhYmxlKFwibWFjcm9zXCIsIHRfMyk7XG5vdXRwdXQgKz0gXCJcXG5cXG5cXG5cIjtcbihwYXJlbnRUZW1wbGF0ZSA/IGZ1bmN0aW9uKGUsIGMsIGYsIHIsIGNiKSB7IGNiKFwiXCIpOyB9IDogY29udGV4dC5nZXRCbG9jayhcImFjdGlvbl9idXR0b25zXCIpKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzcsdF82KSB7XG5pZih0XzcpIHsgY2IodF83KTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF82O1xub3V0cHV0ICs9IFwiXFxuXFxuXFxuXCI7XG4ocGFyZW50VGVtcGxhdGUgPyBmdW5jdGlvbihlLCBjLCBmLCByLCBjYikgeyBjYihcIlwiKTsgfSA6IGNvbnRleHQuZ2V0QmxvY2soXCJyZWxhdGVkX2NvbnRlbnRcIikpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfOSx0XzgpIHtcbmlmKHRfOSkgeyBjYih0XzkpOyByZXR1cm47IH1cbm91dHB1dCArPSB0Xzg7XG5vdXRwdXQgKz0gXCJcXG5cIjtcbmlmKHBhcmVudFRlbXBsYXRlKSB7XG5wYXJlbnRUZW1wbGF0ZS5yb290UmVuZGVyRnVuYyhlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYik7XG59IGVsc2Uge1xuY2IobnVsbCwgb3V0cHV0KTtcbn1cbn0pfSl9KX0pfSk7XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl9hY3Rpb25fYnV0dG9ucyhlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xuY29udGV4dC5nZXRTdXBlcihlbnYsIFwiYWN0aW9uX2J1dHRvbnNcIiwgYl9hY3Rpb25fYnV0dG9ucywgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfMTAsaG9sZV8xKSB7XG5pZih0XzEwKSB7IGNiKHRfMTApOyByZXR1cm47IH1cbmhvbGVfMSA9IHJ1bnRpbWUubWFya1NhZmUoaG9sZV8xKTtcbm91dHB1dCArPSBcIlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLXNlY3Rpb24gdGlsZS1zZWN0aW9uLWJ1dHRvbi1saXN0XFxcIj5cXG4gICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShob2xlXzEsIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgIFxcbiAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImlzX21lbWJlclwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPGEgY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uIGJ1dHRvbi1hY3Rpb24gZGlzYWJsZWRcXFwiPlxcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwicm91bmRlZC1idXR0b24taW5uZXJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc1M9XFxcImZhIGZhLWNoZWNrXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiWW91IGFyZSBhIE1lbWJlclwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgPGEgaHJlZj1cXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWN0aW9uX3VybF8xXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbiBidXR0b24tYWN0aW9uXFxcIj5cXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uLWlubmVyXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJpc19pbnZpdGVkXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIllvdSBhcmUgaW52aXRlZCFcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImlzX3BlbmRpbmdcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiTWVtYmVyc2hpcCByZXF1ZXN0IHBlbmRpbmcuLi5cIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkpvaW4gR3JvdXBcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgICA8L2E+XFxuICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImFjdGlvbl91cmxfMlwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPGEgaHJlZj1cXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWN0aW9uX3VybF8yXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbiBidXR0b24tYWN0aW9uXFxcIj5cXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uLWlubmVyXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJNZXNzYWdlIEdyb3VwXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgICA8L2E+XFxuICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICA8L2Rpdj5cXG4gICAgXFxuICAgIDxkaXYgY2xhc3M9XFxcIm5vLWlucHV0XFxcIj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcIm5vdy1mb2xsb3dpbmctbWVzc2FnZSBtZXNzYWdlLXN1Y2Nlc3MgZXh0cmEtc3BhY2UtdG9wXFxcIiBzdHlsZT1cXFwiZGlzcGxheTogbm9uZTtcXFwiPlxcbiAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYXMgZmEtYmVsbFxcXCI+PC9pPlxcbiAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiWW91IHdpbGwgbm93IHJlY2VpdmUgbm90aWZpY2F0aW9ucyBmb3IgY29udGVudCBwb3N0ZWQgaW4gdGhpcyBncm91cC5cIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIklmIHlvdSBkbyBub3Qgd2FudCBub3RpZmljYXRpb25zLCBjbGljayB0aGUgdW5mb2xsb3cgYnV0dG9uIVwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICAgXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJsaWtlLWJ1dHRvbi1lcnJvciBtZXNzYWdlLWVycm9yIGV4dHJhLXNwYWNlLXRvcFxcXCIgc3R5bGU9XFxcImRpc3BsYXk6IG5vbmU7XFxcIj5cXG4gICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkNvdWxkIG5vdCBzYXZlIHlvdXIgbGlrZSBzZXR0aW5nIGJlY2F1c2Ugb2YgYW4gZXJyb3IuXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImZvbGxvdy1idXR0b24tZXJyb3IgbWVzc2FnZS1lcnJvciBleHRyYS1zcGFjZS10b3BcXFwiIHN0eWxlPVxcXCJkaXNwbGF5OiBub25lO1xcXCI+XFxuICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJDb3VsZCBub3Qgc2F2ZSB5b3VyIGZvbGxvdyBzZXR0aW5nIGJlY2F1c2Ugb2YgYW4gZXJyb3IuXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuXCI7XG5jYihudWxsLCBvdXRwdXQpO1xufSk7XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl9yZWxhdGVkX2NvbnRlbnQoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbmNvbnRleHQuZ2V0U3VwZXIoZW52LCBcInJlbGF0ZWRfY29udGVudFwiLCBiX3JlbGF0ZWRfY29udGVudCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfMTEsaG9sZV8yKSB7XG5pZih0XzExKSB7IGNiKHRfMTEpOyByZXR1cm47IH1cbmhvbGVfMiA9IHJ1bnRpbWUubWFya1NhZmUoaG9sZV8yKTtcbm91dHB1dCArPSBcIlxcbiAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoaG9sZV8yLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcbiAgICBcIjtcbmlmKGVudi5nZXRGaWx0ZXIoXCJsZW5ndGhcIikuY2FsbChjb250ZXh0LCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInByb2plY3RzXCIpKSA+IDApIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uIHRpbGUtc2VjdGlvbi1kaXZpZGVkXFxcIj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJzdWJoZWFkaW5nXFxcIj5cXG4gICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWdyb3VwXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIlByb2plY3RzXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiIChcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEZpbHRlcihcImxlbmd0aFwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicHJvamVjdHNcIikpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIilcXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uXFxcIj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJyb3dcXFwiPlxcbiAgICAgICAgICAgICAgICBcIjtcbmZyYW1lID0gZnJhbWUucHVzaCgpO1xudmFyIHRfMTQgPSBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInByb2plY3RzXCIpO1xuaWYodF8xNCkge3ZhciB0XzEzID0gdF8xNC5sZW5ndGg7XG5mb3IodmFyIHRfMTI9MDsgdF8xMiA8IHRfMTQubGVuZ3RoOyB0XzEyKyspIHtcbnZhciB0XzE1ID0gdF8xNFt0XzEyXTtcbmZyYW1lLnNldChcInByb2plY3RcIiwgdF8xNSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfMTIgKyAxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXgwXCIsIHRfMTIpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleFwiLCB0XzEzIC0gdF8xMik7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4MFwiLCB0XzEzIC0gdF8xMiAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzEyID09PSAwKTtcbmZyYW1lLnNldChcImxvb3AubGFzdFwiLCB0XzEyID09PSB0XzEzIC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzEzKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTZcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSgobGluZW5vID0gNzgsIGNvbG5vID0gNDAsIHJ1bnRpbWUuY2FsbFdyYXAocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibWFjcm9zXCIpKSxcIml0ZW1DYXJkXCIpLCBcIm1hY3Jvc1tcXFwiaXRlbUNhcmRcXFwiXVwiLCBjb250ZXh0LCBbcnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTUpLFwicG9ydGFsXCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzE1KSxcInNsdWdcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTUpLFwidGl0bGVcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTUpLFwidHlwZVwiKSxydW50aW1lLm1lbWJlckxvb2t1cCgodF8xNSksXCJpY29uSW1hZ2VVcmxcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTUpLFwiYWRkcmVzc1wiKSxcImZhLW1hcC1tYXJrZXJcIixydW50aW1lLm1lbWJlckxvb2t1cCgodF8xNSksXCJkYXRhU2xvdDFcIiksXCJmYS1ncm91cFwiLHJ1bnRpbWUubWFrZUtleXdvcmRBcmdzKHtcImNvc2lubnVzX2FjdGl2ZV91c2VyXCI6IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29zaW5udXNfYWN0aXZlX3VzZXJcIil9KV0pKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbn1cbmZyYW1lID0gZnJhbWUucG9wKCk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICBcXG5cIjtcbmNiKG51bGwsIG91dHB1dCk7XG59KTtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5yZXR1cm4ge1xuYl9hY3Rpb25fYnV0dG9uczogYl9hY3Rpb25fYnV0dG9ucyxcbmJfcmVsYXRlZF9jb250ZW50OiBiX3JlbGF0ZWRfY29udGVudCxcbnJvb3Q6IHJvb3Rcbn07XG5cbn0pKCk7XG59KSgpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBzaGltKG51bmp1Y2tzLCBlbnYsIG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWRbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtZGV0YWlsLWdyb3Vwcy5odG1sXCJdICwgZGVwZW5kZW5jaWVzKVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy90aWxlLWRldGFpbC1ncm91cHMuaHRtbFxuLy8gbW9kdWxlIGlkID0gMzhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIG51bmp1Y2tzID0gcmVxdWlyZShcIm51bmp1Y2tzL2Jyb3dzZXIvbnVuanVja3Mtc2xpbVwiKTtcbnZhciBlbnY7XG5pZiAoIW51bmp1Y2tzLmN1cnJlbnRFbnYpe1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52ID0gbmV3IG51bmp1Y2tzLkVudmlyb25tZW50KFtdLCB1bmRlZmluZWQpO1xufSBlbHNlIHtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudjtcbn1cbnZhciBjb25maWd1cmUgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vLi4vbnVuanVja3MuY29uZmlnLmpzXCIpKGVudik7XG52YXIgZGVwZW5kZW5jaWVzID0gbnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyB8fCAobnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyA9IHt9KTtcbmRlcGVuZGVuY2llc1tcInRpbGVzL3RpbGUtZGV0YWlsLWJhc2UtZ3JvdXBcIl0gPSByZXF1aXJlKCBcInRpbGVzL3RpbGUtZGV0YWlsLWJhc2UtZ3JvdXBcIiApO1xuZGVwZW5kZW5jaWVzW1wiaW5jbHVkZS9tYWNyb3MuaHRtbFwiXSA9IHJlcXVpcmUoIFwiaW5jbHVkZS9tYWNyb3MuaHRtbFwiICk7XG5cblxuXG5cbnZhciBzaGltID0gcmVxdWlyZShcIi9ob21lL3Nhc2NoYS9wci9jb3Npbm51cy1jb3JlL25vZGVfbW9kdWxlcy9udW5qdWNrcy1sb2FkZXIvcnVudGltZS1zaGltXCIpO1xuXG5cbihmdW5jdGlvbigpIHsobnVuanVja3MubnVuanVja3NQcmVjb21waWxlZCA9IG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgfHwge30pW1wiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy90aWxlLWRldGFpbC1jb25mZXJlbmNlcy5odG1sXCJdID0gKGZ1bmN0aW9uKCkge1xuZnVuY3Rpb24gcm9vdChlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xudmFyIHBhcmVudFRlbXBsYXRlID0gbnVsbDtcbmVudi5nZXRUZW1wbGF0ZShcInRpbGVzL3RpbGUtZGV0YWlsLWJhc2UtZ3JvdXBcIiwgdHJ1ZSwgXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtZGV0YWlsLWNvbmZlcmVuY2VzLmh0bWxcIiwgZmFsc2UsIGZ1bmN0aW9uKHRfMixfcGFyZW50VGVtcGxhdGUpIHtcbmlmKHRfMikgeyBjYih0XzIpOyByZXR1cm47IH1cbnBhcmVudFRlbXBsYXRlID0gX3BhcmVudFRlbXBsYXRlXG5mb3IodmFyIHRfMSBpbiBwYXJlbnRUZW1wbGF0ZS5ibG9ja3MpIHtcbmNvbnRleHQuYWRkQmxvY2sodF8xLCBwYXJlbnRUZW1wbGF0ZS5ibG9ja3NbdF8xXSk7XG59XG5vdXRwdXQgKz0gXCJcXG5cIjtcbmVudi5nZXRUZW1wbGF0ZShcImluY2x1ZGUvbWFjcm9zLmh0bWxcIiwgZmFsc2UsIFwiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy90aWxlLWRldGFpbC1jb25mZXJlbmNlcy5odG1sXCIsIGZhbHNlLCBmdW5jdGlvbih0XzQsdF8zKSB7XG5pZih0XzQpIHsgY2IodF80KTsgcmV0dXJuOyB9XG50XzMuZ2V0RXhwb3J0ZWQoZnVuY3Rpb24odF81LHRfMykge1xuaWYodF81KSB7IGNiKHRfNSk7IHJldHVybjsgfVxuY29udGV4dC5zZXRWYXJpYWJsZShcIm1hY3Jvc1wiLCB0XzMpO1xub3V0cHV0ICs9IFwiXFxuXFxuXCI7XG4ocGFyZW50VGVtcGxhdGUgPyBmdW5jdGlvbihlLCBjLCBmLCByLCBjYikgeyBjYihcIlwiKTsgfSA6IGNvbnRleHQuZ2V0QmxvY2soXCJhZGRpdGlvbmFsX3RvcF9saW5lXCIpKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzcsdF82KSB7XG5pZih0XzcpIHsgY2IodF83KTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF82O1xub3V0cHV0ICs9IFwiXFxuXFxuXCI7XG4ocGFyZW50VGVtcGxhdGUgPyBmdW5jdGlvbihlLCBjLCBmLCByLCBjYikgeyBjYihcIlwiKTsgfSA6IGNvbnRleHQuZ2V0QmxvY2soXCJncm91cF9ldmVudHNcIikpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfOSx0XzgpIHtcbmlmKHRfOSkgeyBjYih0XzkpOyByZXR1cm47IH1cbm91dHB1dCArPSB0Xzg7XG5vdXRwdXQgKz0gXCJcXG5cXG5cIjtcbihwYXJlbnRUZW1wbGF0ZSA/IGZ1bmN0aW9uKGUsIGMsIGYsIHIsIGNiKSB7IGNiKFwiXCIpOyB9IDogY29udGV4dC5nZXRCbG9jayhcImFjdGlvbl9idXR0b25zXCIpKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzExLHRfMTApIHtcbmlmKHRfMTEpIHsgY2IodF8xMSk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfMTA7XG5vdXRwdXQgKz0gXCJcXG5cIjtcbmlmKHBhcmVudFRlbXBsYXRlKSB7XG5wYXJlbnRUZW1wbGF0ZS5yb290UmVuZGVyRnVuYyhlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYik7XG59IGVsc2Uge1xuY2IobnVsbCwgb3V0cHV0KTtcbn1cbn0pfSl9KX0pfSl9KTtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX2FkZGl0aW9uYWxfdG9wX2xpbmUoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLXNlY3Rpb24gdGlsZS1zZWN0aW9uXFxcIj5cXG4gICAgICAgIDxkaXY+XFxuICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWZ3IGZhLWNsb2NrLW9cXFwiPjwvaT5cIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEZpbHRlcihcInNhZmVcIikuY2FsbChjb250ZXh0LCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInRpbWVfaHRtbFwiKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XFxcInRpbGUtc2VjdGlvbiB0aWxlLXNlY3Rpb25cXFwiPlxcbiAgICAgICAgPGRpdj5cXG4gICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtdXNlclxcXCI+PC9pPlxcblxcdCAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIlBhcnRpY2lwYW50c1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIjogXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicGFydGljaXBhbnRfY291bnRcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0ICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicGFydGljaXBhbnRzX2xpbWl0X2NvdW50XCIpKSB7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAoXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwibWF4LlwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIiBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJwYXJ0aWNpcGFudHNfbGltaXRfY291bnRcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiKSBcXG5cXHQgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuXCI7XG5jYihudWxsLCBvdXRwdXQpO1xuO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfZ3JvdXBfZXZlbnRzKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgXCI7XG5pZihlbnYuZ2V0RmlsdGVyKFwibGVuZ3RoXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJldmVudHNcIikpID4gMCkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLXNlY3Rpb24gdGlsZS1zZWN0aW9uLWRpdmlkZWRcXFwiPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInN1YmhlYWRpbmdcXFwiPlxcbiAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtY2FsZW5kYXJcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiV29ya3Nob3BzXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiIChcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEZpbHRlcihcImxlbmd0aFwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZXZlbnRzXCIpKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCIpXFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcInRpbGUtc2VjdGlvblxcXCI+XFxuICAgICAgICAgICAgXCI7XG5mcmFtZSA9IGZyYW1lLnB1c2goKTtcbnZhciB0XzE0ID0gcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJldmVudHNcIik7XG5pZih0XzE0KSB7dmFyIHRfMTMgPSB0XzE0Lmxlbmd0aDtcbmZvcih2YXIgdF8xMj0wOyB0XzEyIDwgdF8xNC5sZW5ndGg7IHRfMTIrKykge1xudmFyIHRfMTUgPSB0XzE0W3RfMTJdO1xuZnJhbWUuc2V0KFwiZXZlbnRcIiwgdF8xNSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfMTIgKyAxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXgwXCIsIHRfMTIpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleFwiLCB0XzEzIC0gdF8xMik7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4MFwiLCB0XzEzIC0gdF8xMiAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzEyID09PSAwKTtcbmZyYW1lLnNldChcImxvb3AubGFzdFwiLCB0XzEyID09PSB0XzEzIC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzEzKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoKGxpbmVubyA9IDMzLCBjb2xubyA9IDMyLCBydW50aW1lLmNhbGxXcmFwKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm1hY3Jvc1wiKSksXCJpdGVtQ2FyZFwiKSwgXCJtYWNyb3NbXFxcIml0ZW1DYXJkXFxcIl1cIiwgY29udGV4dCwgW3J1bnRpbWUubWVtYmVyTG9va3VwKCh0XzE1KSxcInBvcnRhbFwiKSxydW50aW1lLm1lbWJlckxvb2t1cCgodF8xNSksXCJzbHVnXCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzE1KSxcInRpdGxlXCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzE1KSxcInR5cGVcIikscnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJudWxsXCIpLGVudi5nZXRGaWx0ZXIoXCJzYWZlXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTUpLFwiZGF0YVNsb3QxXCIpKSxcImZhLWNsb2NrLW9cIixydW50aW1lLm1lbWJlckxvb2t1cCgodF8xNSksXCJhZGRyZXNzXCIpLFwiZmEtbWFwLW1hcmtlclwiLHJ1bnRpbWUubWFrZUtleXdvcmRBcmdzKHtcImNvc2lubnVzX2FjdGl2ZV91c2VyXCI6IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29zaW5udXNfYWN0aXZlX3VzZXJcIiksXCJncm91cF9zbHVnXCI6IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2x1Z1wiKX0pXSkpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIFwiO1xuO1xufVxufVxuZnJhbWUgPSBmcmFtZS5wb3AoKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgPC9kaXY+XFxuICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXCI7XG5jYihudWxsLCBvdXRwdXQpO1xuO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfYWN0aW9uX2J1dHRvbnMoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbmNvbnRleHQuZ2V0U3VwZXIoZW52LCBcImFjdGlvbl9idXR0b25zXCIsIGJfYWN0aW9uX2J1dHRvbnMsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzE2LGhvbGVfOSkge1xuaWYodF8xNikgeyBjYih0XzE2KTsgcmV0dXJuOyB9XG5ob2xlXzkgPSBydW50aW1lLm1hcmtTYWZlKGhvbGVfOSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uIHRpbGUtc2VjdGlvbi1idXR0b24tbGlzdFxcXCI+XFxuICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoaG9sZV85LCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgXFxuICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiaXNfbWVtYmVyXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICA8YSBjbGFzcz1cXFwicm91bmRlZC1idXR0b24gYnV0dG9uLWFjdGlvbiBkaXNhYmxlZFxcXCI+XFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbi1pbm5lclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzUz1cXFwiZmEgZmEtY2hlY2tcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJZb3UgYXJlIHBhcnRpY2lwYXRpbmdcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgICAgIDwvYT5cXG4gICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgIDxhIGhyZWY9XFxcIlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImFjdGlvbl91cmxfMVwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIiBjbGFzcz1cXFwicm91bmRlZC1idXR0b24gYnV0dG9uLWFjdGlvblxcXCI+XFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbi1pbm5lclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiaXNfaW52aXRlZFwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJZb3UgYXJlIGludml0ZWQhXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJpc19wZW5kaW5nXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIlBhcnRpY2lwYXRpb24gcmVxdWVzdCBwZW5kaW5nLi4uXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xub3V0cHV0ICs9IFwiXFxuXFx0ICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcblxcdCAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiUGFydGljaXBhdGVcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgICA8L2E+XFxuICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImFjdGlvbl91cmxfMlwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPGEgaHJlZj1cXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWN0aW9uX3VybF8yXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbiBidXR0b24tYWN0aW9uXFxcIj5cXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uLWlubmVyXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJDb250YWN0IG9yZ2FuaXplcnNcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgICAgIDwvYT5cXG4gICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgIDwvZGl2PlxcbiAgICBcXG4gICAgPGRpdiBjbGFzcz1cXFwibm8taW5wdXRcXFwiPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwibm93LWZvbGxvd2luZy1tZXNzYWdlIG1lc3NhZ2Utc3VjY2VzcyBleHRyYS1zcGFjZS10b3BcXFwiIHN0eWxlPVxcXCJkaXNwbGF5OiBub25lO1xcXCI+XFxuICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhcyBmYS1iZWxsXFxcIj48L2k+XFxuICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJZb3Ugd2lsbCBub3cgcmVjZWl2ZSBub3RpZmljYXRpb25zIGZvciBjb250ZW50IHBvc3RlZC5cIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIklmIHlvdSBkbyBub3Qgd2FudCBub3RpZmljYXRpb25zLCBjbGljayB0aGUgdW5mb2xsb3cgYnV0dG9uIVwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICAgXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJsaWtlLWJ1dHRvbi1lcnJvciBtZXNzYWdlLWVycm9yIGV4dHJhLXNwYWNlLXRvcFxcXCIgc3R5bGU9XFxcImRpc3BsYXk6IG5vbmU7XFxcIj5cXG4gICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkNvdWxkIG5vdCBzYXZlIHlvdXIgbGlrZSBzZXR0aW5nIGJlY2F1c2Ugb2YgYW4gZXJyb3IuXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImZvbGxvdy1idXR0b24tZXJyb3IgbWVzc2FnZS1lcnJvciBleHRyYS1zcGFjZS10b3BcXFwiIHN0eWxlPVxcXCJkaXNwbGF5OiBub25lO1xcXCI+XFxuICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJDb3VsZCBub3Qgc2F2ZSB5b3VyIGZvbGxvdyBzZXR0aW5nIGJlY2F1c2Ugb2YgYW4gZXJyb3IuXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuXCI7XG5jYihudWxsLCBvdXRwdXQpO1xufSk7XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxucmV0dXJuIHtcbmJfYWRkaXRpb25hbF90b3BfbGluZTogYl9hZGRpdGlvbmFsX3RvcF9saW5lLFxuYl9ncm91cF9ldmVudHM6IGJfZ3JvdXBfZXZlbnRzLFxuYl9hY3Rpb25fYnV0dG9uczogYl9hY3Rpb25fYnV0dG9ucyxcbnJvb3Q6IHJvb3Rcbn07XG5cbn0pKCk7XG59KSgpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBzaGltKG51bmp1Y2tzLCBlbnYsIG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWRbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtZGV0YWlsLWNvbmZlcmVuY2VzLmh0bWxcIl0gLCBkZXBlbmRlbmNpZXMpXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtZGV0YWlsLWNvbmZlcmVuY2VzLmh0bWxcbi8vIG1vZHVsZSBpZCA9IDM5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBudW5qdWNrcyA9IHJlcXVpcmUoXCJudW5qdWNrcy9icm93c2VyL251bmp1Y2tzLXNsaW1cIik7XG52YXIgZW52O1xuaWYgKCFudW5qdWNrcy5jdXJyZW50RW52KXtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudiA9IG5ldyBudW5qdWNrcy5FbnZpcm9ubWVudChbXSwgdW5kZWZpbmVkKTtcbn0gZWxzZSB7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnY7XG59XG52YXIgY29uZmlndXJlID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uLy4uL251bmp1Y2tzLmNvbmZpZy5qc1wiKShlbnYpO1xudmFyIGRlcGVuZGVuY2llcyA9IG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgfHwgKG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgPSB7fSk7XG5kZXBlbmRlbmNpZXNbXCJ0aWxlcy90aWxlLWRldGFpbC1iYXNlXCJdID0gcmVxdWlyZSggXCJ0aWxlcy90aWxlLWRldGFpbC1iYXNlXCIgKTtcbmRlcGVuZGVuY2llc1tcImluY2x1ZGUvbWFjcm9zLmh0bWxcIl0gPSByZXF1aXJlKCBcImluY2x1ZGUvbWFjcm9zLmh0bWxcIiApO1xuXG5cblxuXG52YXIgc2hpbSA9IHJlcXVpcmUoXCIvaG9tZS9zYXNjaGEvcHIvY29zaW5udXMtY29yZS9ub2RlX21vZHVsZXMvbnVuanVja3MtbG9hZGVyL3J1bnRpbWUtc2hpbVwiKTtcblxuXG4oZnVuY3Rpb24oKSB7KG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgPSBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkIHx8IHt9KVtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtcGVvcGxlLmh0bWxcIl0gPSAoZnVuY3Rpb24oKSB7XG5mdW5jdGlvbiByb290KGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG52YXIgcGFyZW50VGVtcGxhdGUgPSBudWxsO1xuZW52LmdldFRlbXBsYXRlKFwidGlsZXMvdGlsZS1kZXRhaWwtYmFzZVwiLCB0cnVlLCBcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtcGVvcGxlLmh0bWxcIiwgZmFsc2UsIGZ1bmN0aW9uKHRfMixfcGFyZW50VGVtcGxhdGUpIHtcbmlmKHRfMikgeyBjYih0XzIpOyByZXR1cm47IH1cbnBhcmVudFRlbXBsYXRlID0gX3BhcmVudFRlbXBsYXRlXG5mb3IodmFyIHRfMSBpbiBwYXJlbnRUZW1wbGF0ZS5ibG9ja3MpIHtcbmNvbnRleHQuYWRkQmxvY2sodF8xLCBwYXJlbnRUZW1wbGF0ZS5ibG9ja3NbdF8xXSk7XG59XG5vdXRwdXQgKz0gXCJcXG5cIjtcbmVudi5nZXRUZW1wbGF0ZShcImluY2x1ZGUvbWFjcm9zLmh0bWxcIiwgZmFsc2UsIFwiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy90aWxlLWRldGFpbC1wZW9wbGUuaHRtbFwiLCBmYWxzZSwgZnVuY3Rpb24odF80LHRfMykge1xuaWYodF80KSB7IGNiKHRfNCk7IHJldHVybjsgfVxudF8zLmdldEV4cG9ydGVkKGZ1bmN0aW9uKHRfNSx0XzMpIHtcbmlmKHRfNSkgeyBjYih0XzUpOyByZXR1cm47IH1cbmNvbnRleHQuc2V0VmFyaWFibGUoXCJtYWNyb3NcIiwgdF8zKTtcbm91dHB1dCArPSBcIlxcblxcblwiO1xuKHBhcmVudFRlbXBsYXRlID8gZnVuY3Rpb24oZSwgYywgZiwgciwgY2IpIHsgY2IoXCJcIik7IH0gOiBjb250ZXh0LmdldEJsb2NrKFwiaGVhZGVyX2ltYWdlXCIpKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzcsdF82KSB7XG5pZih0XzcpIHsgY2IodF83KTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF82O1xub3V0cHV0ICs9IFwiXFxuXFxuXCI7XG4ocGFyZW50VGVtcGxhdGUgPyBmdW5jdGlvbihlLCBjLCBmLCByLCBjYikgeyBjYihcIlwiKTsgfSA6IGNvbnRleHQuZ2V0QmxvY2soXCJ0b3BpY19saW5lXCIpKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzksdF84KSB7XG5pZih0XzkpIHsgY2IodF85KTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF84O1xub3V0cHV0ICs9IFwiXFxuXFxuXCI7XG4ocGFyZW50VGVtcGxhdGUgPyBmdW5jdGlvbihlLCBjLCBmLCByLCBjYikgeyBjYihcIlwiKTsgfSA6IGNvbnRleHQuZ2V0QmxvY2soXCJhY3Rpb25fYnV0dG9uc1wiKSkoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF8xMSx0XzEwKSB7XG5pZih0XzExKSB7IGNiKHRfMTEpOyByZXR1cm47IH1cbm91dHB1dCArPSB0XzEwO1xub3V0cHV0ICs9IFwiXFxuXFxuXFxuXCI7XG4ocGFyZW50VGVtcGxhdGUgPyBmdW5jdGlvbihlLCBjLCBmLCByLCBjYikgeyBjYihcIlwiKTsgfSA6IGNvbnRleHQuZ2V0QmxvY2soXCJyZWxhdGVkX2NvbnRlbnRcIikpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfMTMsdF8xMikge1xuaWYodF8xMykgeyBjYih0XzEzKTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF8xMjtcbm91dHB1dCArPSBcIlxcblwiO1xuaWYocGFyZW50VGVtcGxhdGUpIHtcbnBhcmVudFRlbXBsYXRlLnJvb3RSZW5kZXJGdW5jKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKTtcbn0gZWxzZSB7XG5jYihudWxsLCBvdXRwdXQpO1xufVxufSl9KX0pfSl9KX0pfSk7XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl9oZWFkZXJfaW1hZ2UoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJzaW5nbGUtdGlsZS1pbWFnZVxcXCI+XFxuICAgICAgICA8aW1nIGNsYXNzPVxcXCJmcmFtZWQtdGlsZS1pbWFnZVxcXCIgc3JjPVxcXCJcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJpY29uSW1hZ2VVcmxcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxcIiAvPlxcbiAgICA8L2Rpdj5cXG5cIjtcbmNiKG51bGwsIG91dHB1dCk7XG47XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl90b3BpY19saW5lKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5jb250ZXh0LmdldFN1cGVyKGVudiwgXCJ0b3BpY19saW5lXCIsIGJfdG9waWNfbGluZSwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfMTQsaG9sZV80KSB7XG5pZih0XzE0KSB7IGNiKHRfMTQpOyByZXR1cm47IH1cbmhvbGVfNCA9IHJ1bnRpbWUubWFya1NhZmUoaG9sZV80KTtcbm91dHB1dCArPSBcIlxcblxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShob2xlXzQsIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFxuICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJtYXlfYmVfY29udGFjdGVkXCIpID09IHRydWUpIHtcbm91dHB1dCArPSBcIlxcblxcdFxcdDxkaXYgY2xhc3M9XFxcInRvcC1saW5lIGV4dHJhLXNwYWNlIGV4dHJhLXNwYWNlLXRvcFxcXCI+XFxuICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWZ3IGZhLWNvbW1lbnRpbmctb1xcXCI+PC9pPlxcbiAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiT3BlbiB0byBiZSBjb250YWN0ZWQgYWJvdXQgcG90ZW50aWFsIGNvbGxhYm9yYXRpb24gb3Bwb3J0dW5pdGllc1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgPC9kaXY+XFxuXFx0XCI7XG47XG59XG5lbHNlIHtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibWF5X2JlX2NvbnRhY3RlZFwiKSA9PSBmYWxzZSkge1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0PGRpdiBjbGFzcz1cXFwidG9wLWxpbmUgZXh0cmEtc3BhY2UgZXh0cmEtc3BhY2UtdG9wXFxcIj5cXG4gICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtZncgZmEtYmFuXFxcIj48L2k+XFxuICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJEb2VzIE5PVCB3aXNoIHRvIGJlIGNvbnRhY3RlZCBmb3IgcG90ZW50aWFsIGNvbGxhYm9yYXRpb24hXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICA8L2Rpdj5cXG5cXHRcIjtcbjtcbn1cbjtcbn1cbm91dHB1dCArPSBcIlxcblxcblwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbn0pO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfYWN0aW9uX2J1dHRvbnMoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbmNvbnRleHQuZ2V0U3VwZXIoZW52LCBcImFjdGlvbl9idXR0b25zXCIsIGJfYWN0aW9uX2J1dHRvbnMsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzE1LGhvbGVfNSkge1xuaWYodF8xNSkgeyBjYih0XzE1KTsgcmV0dXJuOyB9XG5ob2xlXzUgPSBydW50aW1lLm1hcmtTYWZlKGhvbGVfNSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcIjtcbmlmKCFydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImlzX3NlbGZcIikpIHtcbm91dHB1dCArPSBcIlxcblxcdCAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLXNlY3Rpb24gdGlsZS1zZWN0aW9uLWJ1dHRvbi1saXN0XFxcIj5cXG4gICAgICAgICAgICA8YSBjbGFzcz1cXFwicm91bmRlZC1idXR0b24gYnV0dG9uLWFjdGlvbiBidXR0b24tc3RhclxcXCI+XFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbi1pbm5lclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic3RhcnJlZFwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhcyBmYS1zdGFyXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic3RhcnJpbmdMYWJlbFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmFyIGZhLXN0YXJcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzdGFyTGFiZWxcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgICAgPC9hPlxcblxcdCAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImFjdGlvbl91cmxfMVwiKSkge1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0ICAgICAgICA8YSBocmVmPVxcXCJcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJhY3Rpb25fdXJsXzFcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCIgY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uIGJ1dHRvbi1hY3Rpb25cXFwiPlxcblxcdFxcdCAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbi1pbm5lclxcXCI+XFxuXFx0XFx0ICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0ICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIlNlbmQgTWVzc2FnZVwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdCAgICAgICAgICAgIDwvc3Bhbj5cXG5cXHRcXHQgICAgICAgIDwvYT5cXG4gICAgICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIDxhIGhyZWY9XFxcIlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvbnRyb2xWaWV3XCIpKSxcInBvcnRhbEluZm9cIikpLHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicG9ydGFsXCIpKSksXCJkb21haW5cIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInVybFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIiBjbGFzcz1cXFwicm91bmRlZC1idXR0b24gYnV0dG9uLWFjdGlvbiBidXR0b24tc3RhclxcXCI+XFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbi1pbm5lclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtdXNlclxcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHQgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJUbyBQcm9maWxlXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgICA8L2E+XFxuXFx0ICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoaG9sZV81LCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdCAgICA8L2Rpdj5cXG4gICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cIjtcbmNiKG51bGwsIG91dHB1dCk7XG59KTtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX3JlbGF0ZWRfY29udGVudChlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xub3V0cHV0ICs9IFwiXFxuXFxuICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJleHRyYV9odG1sXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRGaWx0ZXIoXCJzYWZlXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJleHRyYV9odG1sXCIpKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cXG4gICAgXCI7XG5pZihlbnYuZ2V0RmlsdGVyKFwibGVuZ3RoXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJncm91cHNcIikpID4gMCkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjbGVhcmZpeFxcXCI+PC9kaXY+XFxuICAgIFxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uIHRpbGUtc2VjdGlvbi1kaXZpZGVkXFxcIj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJzdWJoZWFkaW5nXFxcIj5cXG4gICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLXNpdGVtYXBcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiR3JvdXBzXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiIChcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEZpbHRlcihcImxlbmd0aFwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZ3JvdXBzXCIpKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCIpXFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcInRpbGUtc2VjdGlvblxcXCI+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwicm93XFxcIj5cXG4gICAgICAgICAgICAgICAgXCI7XG5mcmFtZSA9IGZyYW1lLnB1c2goKTtcbnZhciB0XzE4ID0gcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJncm91cHNcIik7XG5pZih0XzE4KSB7dmFyIHRfMTcgPSB0XzE4Lmxlbmd0aDtcbmZvcih2YXIgdF8xNj0wOyB0XzE2IDwgdF8xOC5sZW5ndGg7IHRfMTYrKykge1xudmFyIHRfMTkgPSB0XzE4W3RfMTZdO1xuZnJhbWUuc2V0KFwiZ3JvdXBcIiwgdF8xOSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfMTYgKyAxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXgwXCIsIHRfMTYpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleFwiLCB0XzE3IC0gdF8xNik7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4MFwiLCB0XzE3IC0gdF8xNiAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzE2ID09PSAwKTtcbmZyYW1lLnNldChcImxvb3AubGFzdFwiLCB0XzE2ID09PSB0XzE3IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzE3KTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTZcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSgobGluZW5vID0gODMsIGNvbG5vID0gNDAsIHJ1bnRpbWUuY2FsbFdyYXAocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibWFjcm9zXCIpKSxcIml0ZW1DYXJkXCIpLCBcIm1hY3Jvc1tcXFwiaXRlbUNhcmRcXFwiXVwiLCBjb250ZXh0LCBbcnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTkpLFwicG9ydGFsXCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzE5KSxcInNsdWdcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTkpLFwidGl0bGVcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTkpLFwidHlwZVwiKSxydW50aW1lLm1lbWJlckxvb2t1cCgodF8xOSksXCJpY29uSW1hZ2VVcmxcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTkpLFwiYWRkcmVzc1wiKSxcImZhLW1hcC1tYXJrZXJcIixydW50aW1lLm1lbWJlckxvb2t1cCgodF8xOSksXCJkYXRhU2xvdDFcIiksXCJmYS1ncm91cFwiLHJ1bnRpbWUubWFrZUtleXdvcmRBcmdzKHtcImNvc2lubnVzX2FjdGl2ZV91c2VyXCI6IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29zaW5udXNfYWN0aXZlX3VzZXJcIil9KV0pKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbn1cbmZyYW1lID0gZnJhbWUucG9wKCk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblxcbiAgICBcIjtcbmlmKGVudi5nZXRGaWx0ZXIoXCJsZW5ndGhcIikuY2FsbChjb250ZXh0LCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInByb2plY3RzXCIpKSA+IDApIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uIHRpbGUtc2VjdGlvbi1kaXZpZGVkXFxcIj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJzdWJoZWFkaW5nXFxcIj5cXG4gICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWdyb3VwXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIlByb2plY3RzXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiIChcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEZpbHRlcihcImxlbmd0aFwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicHJvamVjdHNcIikpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIilcXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uXFxcIj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJyb3dcXFwiPlxcbiAgICAgICAgICAgICAgICBcIjtcbmZyYW1lID0gZnJhbWUucHVzaCgpO1xudmFyIHRfMjIgPSBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInByb2plY3RzXCIpO1xuaWYodF8yMikge3ZhciB0XzIxID0gdF8yMi5sZW5ndGg7XG5mb3IodmFyIHRfMjA9MDsgdF8yMCA8IHRfMjIubGVuZ3RoOyB0XzIwKyspIHtcbnZhciB0XzIzID0gdF8yMlt0XzIwXTtcbmZyYW1lLnNldChcInByb2plY3RcIiwgdF8yMyk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfMjAgKyAxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXgwXCIsIHRfMjApO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleFwiLCB0XzIxIC0gdF8yMCk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4MFwiLCB0XzIxIC0gdF8yMCAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzIwID09PSAwKTtcbmZyYW1lLnNldChcImxvb3AubGFzdFwiLCB0XzIwID09PSB0XzIxIC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzIxKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTZcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSgobGluZW5vID0gMTAyLCBjb2xubyA9IDQwLCBydW50aW1lLmNhbGxXcmFwKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm1hY3Jvc1wiKSksXCJpdGVtQ2FyZFwiKSwgXCJtYWNyb3NbXFxcIml0ZW1DYXJkXFxcIl1cIiwgY29udGV4dCwgW3J1bnRpbWUubWVtYmVyTG9va3VwKCh0XzIzKSxcInBvcnRhbFwiKSxydW50aW1lLm1lbWJlckxvb2t1cCgodF8yMyksXCJzbHVnXCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzIzKSxcInRpdGxlXCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzIzKSxcInR5cGVcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMjMpLFwiaWNvbkltYWdlVXJsXCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzIzKSxcImFkZHJlc3NcIiksXCJmYS1tYXAtbWFya2VyXCIscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMjMpLFwiZGF0YVNsb3QxXCIpLFwiZmEtZ3JvdXBcIixydW50aW1lLm1ha2VLZXl3b3JkQXJncyh7XCJjb3Npbm51c19hY3RpdmVfdXNlclwiOiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvc2lubnVzX2FjdGl2ZV91c2VyXCIpfSldKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgXCI7XG47XG59XG59XG5mcmFtZSA9IGZyYW1lLnBvcCgpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgXFxuXCI7XG5jYihudWxsLCBvdXRwdXQpO1xuO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbnJldHVybiB7XG5iX2hlYWRlcl9pbWFnZTogYl9oZWFkZXJfaW1hZ2UsXG5iX3RvcGljX2xpbmU6IGJfdG9waWNfbGluZSxcbmJfYWN0aW9uX2J1dHRvbnM6IGJfYWN0aW9uX2J1dHRvbnMsXG5iX3JlbGF0ZWRfY29udGVudDogYl9yZWxhdGVkX2NvbnRlbnQsXG5yb290OiByb290XG59O1xuXG59KSgpO1xufSkoKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gc2hpbShudW5qdWNrcywgZW52LCBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkW1wiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy90aWxlLWRldGFpbC1wZW9wbGUuaHRtbFwiXSAsIGRlcGVuZGVuY2llcylcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Nvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtcGVvcGxlLmh0bWxcbi8vIG1vZHVsZSBpZCA9IDQwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBudW5qdWNrcyA9IHJlcXVpcmUoXCJudW5qdWNrcy9icm93c2VyL251bmp1Y2tzLXNsaW1cIik7XG52YXIgZW52O1xuaWYgKCFudW5qdWNrcy5jdXJyZW50RW52KXtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudiA9IG5ldyBudW5qdWNrcy5FbnZpcm9ubWVudChbXSwgdW5kZWZpbmVkKTtcbn0gZWxzZSB7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnY7XG59XG52YXIgY29uZmlndXJlID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uLy4uL251bmp1Y2tzLmNvbmZpZy5qc1wiKShlbnYpO1xudmFyIGRlcGVuZGVuY2llcyA9IG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgfHwgKG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgPSB7fSk7XG5kZXBlbmRlbmNpZXNbXCJ0aWxlcy90aWxlLWRldGFpbC1iYXNlXCJdID0gcmVxdWlyZSggXCJ0aWxlcy90aWxlLWRldGFpbC1iYXNlXCIgKTtcbmRlcGVuZGVuY2llc1tcImluY2x1ZGUvbWFjcm9zLmh0bWxcIl0gPSByZXF1aXJlKCBcImluY2x1ZGUvbWFjcm9zLmh0bWxcIiApO1xuXG5cblxuXG52YXIgc2hpbSA9IHJlcXVpcmUoXCIvaG9tZS9zYXNjaGEvcHIvY29zaW5udXMtY29yZS9ub2RlX21vZHVsZXMvbnVuanVja3MtbG9hZGVyL3J1bnRpbWUtc2hpbVwiKTtcblxuXG4oZnVuY3Rpb24oKSB7KG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgPSBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkIHx8IHt9KVtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtZXZlbnRzLmh0bWxcIl0gPSAoZnVuY3Rpb24oKSB7XG5mdW5jdGlvbiByb290KGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG52YXIgcGFyZW50VGVtcGxhdGUgPSBudWxsO1xuZW52LmdldFRlbXBsYXRlKFwidGlsZXMvdGlsZS1kZXRhaWwtYmFzZVwiLCB0cnVlLCBcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtZXZlbnRzLmh0bWxcIiwgZmFsc2UsIGZ1bmN0aW9uKHRfMixfcGFyZW50VGVtcGxhdGUpIHtcbmlmKHRfMikgeyBjYih0XzIpOyByZXR1cm47IH1cbnBhcmVudFRlbXBsYXRlID0gX3BhcmVudFRlbXBsYXRlXG5mb3IodmFyIHRfMSBpbiBwYXJlbnRUZW1wbGF0ZS5ibG9ja3MpIHtcbmNvbnRleHQuYWRkQmxvY2sodF8xLCBwYXJlbnRUZW1wbGF0ZS5ibG9ja3NbdF8xXSk7XG59XG5vdXRwdXQgKz0gXCJcXG5cIjtcbmVudi5nZXRUZW1wbGF0ZShcImluY2x1ZGUvbWFjcm9zLmh0bWxcIiwgZmFsc2UsIFwiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy90aWxlLWRldGFpbC1ldmVudHMuaHRtbFwiLCBmYWxzZSwgZnVuY3Rpb24odF80LHRfMykge1xuaWYodF80KSB7IGNiKHRfNCk7IHJldHVybjsgfVxudF8zLmdldEV4cG9ydGVkKGZ1bmN0aW9uKHRfNSx0XzMpIHtcbmlmKHRfNSkgeyBjYih0XzUpOyByZXR1cm47IH1cbmNvbnRleHQuc2V0VmFyaWFibGUoXCJtYWNyb3NcIiwgdF8zKTtcbm91dHB1dCArPSBcIlxcblxcblwiO1xuKHBhcmVudFRlbXBsYXRlID8gZnVuY3Rpb24oZSwgYywgZiwgciwgY2IpIHsgY2IoXCJcIik7IH0gOiBjb250ZXh0LmdldEJsb2NrKFwiaGVhZGVyX2ltYWdlXCIpKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzcsdF82KSB7XG5pZih0XzcpIHsgY2IodF83KTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF82O1xub3V0cHV0ICs9IFwiXFxuXFxuICAgICAgICBcXG5cIjtcbihwYXJlbnRUZW1wbGF0ZSA/IGZ1bmN0aW9uKGUsIGMsIGYsIHIsIGNiKSB7IGNiKFwiXCIpOyB9IDogY29udGV4dC5nZXRCbG9jayhcImFkZGl0aW9uYWxfdG9wX2xpbmVcIikpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfOSx0XzgpIHtcbmlmKHRfOSkgeyBjYih0XzkpOyByZXR1cm47IH1cbm91dHB1dCArPSB0Xzg7XG5vdXRwdXQgKz0gXCJcXG5cXG5cIjtcbihwYXJlbnRUZW1wbGF0ZSA/IGZ1bmN0aW9uKGUsIGMsIGYsIHIsIGNiKSB7IGNiKFwiXCIpOyB9IDogY29udGV4dC5nZXRCbG9jayhcImFjdGlvbl9idXR0b25zXCIpKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzExLHRfMTApIHtcbmlmKHRfMTEpIHsgY2IodF8xMSk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfMTA7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIFxcblxcblwiO1xuKHBhcmVudFRlbXBsYXRlID8gZnVuY3Rpb24oZSwgYywgZiwgciwgY2IpIHsgY2IoXCJcIik7IH0gOiBjb250ZXh0LmdldEJsb2NrKFwicmVsYXRlZF9jb250ZW50XCIpKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzEzLHRfMTIpIHtcbmlmKHRfMTMpIHsgY2IodF8xMyk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfMTI7XG5vdXRwdXQgKz0gXCJcXG5cIjtcbmlmKHBhcmVudFRlbXBsYXRlKSB7XG5wYXJlbnRUZW1wbGF0ZS5yb290UmVuZGVyRnVuYyhlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYik7XG59IGVsc2Uge1xuY2IobnVsbCwgb3V0cHV0KTtcbn1cbn0pfSl9KX0pfSl9KX0pO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfaGVhZGVyX2ltYWdlKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImJhY2tncm91bmRJbWFnZUxhcmdlVXJsXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcInRpbGUtc2VjdGlvbiBoZWFkZXItaW1hZ2VcXFwiPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImR1YWwtdGlsZS1pbWFnZVxcXCI+XFxuICAgICAgICAgICAgICAgIDxpbWcgY2xhc3M9XFxcInRpbGUtaW1hZ2UgdGlsZS1pbWFnZS1iYWNrZ3JvdW5kXFxcIiBzcmM9XFxcIlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImJhY2tncm91bmRJbWFnZUxhcmdlVXJsXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCIgLz4gXFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cIjtcbmNiKG51bGwsIG91dHB1dCk7XG47XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl9hZGRpdGlvbmFsX3RvcF9saW5lKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uIHRpbGUtc2VjdGlvblxcXCI+XFxuICAgICAgICA8ZGl2PlxcbiAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1mdyBmYS1jbG9jay1vXFxcIj48L2k+XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRGaWx0ZXIoXCJzYWZlXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0aW1lX2h0bWxcIikpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWRkcmVzc1wiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY2FwaXRhbGl6ZVxcXCI+XFxuICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1mdyBmYS1tYXAtbWFya2VyXFxcIj48L2k+XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWRkcmVzc1wiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgIDwvZGl2PlxcblwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX2FjdGlvbl9idXR0b25zKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5jb250ZXh0LmdldFN1cGVyKGVudiwgXCJhY3Rpb25fYnV0dG9uc1wiLCBiX2FjdGlvbl9idXR0b25zLCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF8xNCxob2xlXzEyKSB7XG5pZih0XzE0KSB7IGNiKHRfMTQpOyByZXR1cm47IH1cbmhvbGVfMTIgPSBydW50aW1lLm1hcmtTYWZlKGhvbGVfMTIpO1xub3V0cHV0ICs9IFwiXFxuICAgIDxkaXYgY2xhc3M9XFxcInRpbGUtc2VjdGlvbiB0aWxlLXNlY3Rpb24tYnV0dG9uLWxpc3RcXFwiPlxcbiAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicG9ydGFsXCIpID09IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiQ09TSU5OVVNfRVhDSEFOR0VfUE9SVEFMX0lEXCIpICYmIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwidXJsXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIDxhIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbiBidXR0b24tYWN0aW9uXFxcIiBocmVmPVxcXCJcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ1cmxcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCI+XFxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uLWlubmVyXFxcIj5cXG4gICAgICAgICAgICAgICAgPGkgY2xhc1M9XFxcImZhIGZhLWV4dGVybmFsLWxpbmtcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiRXZlbnRcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCIgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwib25cIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCIgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic291cmNlXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgIDwvYT5cXG4gICAgXCI7XG47XG59XG5lbHNlIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgXCI7XG5pZihydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29udHJvbFZpZXdcIikpLFwicG9ydGFsSW5mb1wiKSksXCJjdXJyZW50XCIpID09IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicG9ydGFsXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICA8YSBjbGFzcz1cXFwicm91bmRlZC1idXR0b24gYnV0dG9uLWFjdGlvbiBcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb3Npbm51c19hY3RpdmVfdXNlclwiKSkge1xub3V0cHV0ICs9IFwiYnV0dG9uLWxpa2VcXFwiIFwiO1xuO1xufVxuZWxzZSB7XG5vdXRwdXQgKz0gXCJcXFwiIGhyZWY9XFxcIi9zaWdudXAvP2FjY19yZXFfbXNnPTEmbmV4dD0vbWFwL1xcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiXCI7XG47XG59XG5vdXRwdXQgKz0gXCI+XFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbi1pbm5lclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibGlrZWRcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNTPVxcXCJmYXMgZmEtaGVhcnRcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkxpa2VkXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc1M9XFxcImZhciBmYS1oZWFydFxcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiTGlrZVwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgICAgIDwvYT5cXG4gICAgICAgICAgICA8YSBjbGFzcz1cXFwicm91bmRlZC1idXR0b24gYnV0dG9uLWFjdGlvbiBidXR0b24tc3RhclxcXCI+XFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbi1pbm5lclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic3RhcnJlZFwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhcyBmYS1zdGFyXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic3RhcnJpbmdMYWJlbFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmFyIGZhLXN0YXJcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzdGFyTGFiZWxcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgICAgIDxhIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbiBidXR0b24tYWN0aW9uXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29zaW5udXNfYWN0aXZlX3VzZXJcIikpIHtcbm91dHB1dCArPSBcImJ1dHRvbi1mb2xsb3dcXFwiIFwiO1xuO1xufVxuZWxzZSB7XG5vdXRwdXQgKz0gXCJcXFwiIGhyZWY9XFxcIi9zaWdudXAvP2FjY19yZXFfbXNnPTEmbmV4dD0vbWFwL1xcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiXCI7XG47XG59XG5vdXRwdXQgKz0gXCI+XFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbi1pbm5lclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZm9sbG93ZWRcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNTPVxcXCJmYXMgZmEtYmVsbFxcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiRm9sbG93aW5nXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc1M9XFxcImZhciBmYS1iZWxsXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJGb2xsb3dcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgICA8L2E+XFxuICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblxcbiAgICAgICAgPGEgY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uIGJ1dHRvbi1hY3Rpb25cXFwiIGhyZWY9XFxcIlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInVybFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIj5cXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwicm91bmRlZC1idXR0b24taW5uZXJcXFwiPlxcbiAgICAgICAgICAgICAgICA8aSBjbGFzUz1cXFwiZmEgZmEtZXh0ZXJuYWwtbGlua1xcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJWaXNpdCBFdmVudCBQYWdlXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgPC9hPlxcbiAgICAgICAgXFxuICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoaG9sZV8xMiwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgPC9kaXY+XFxuICAgIFxcbiAgICA8ZGl2IGNsYXNzPVxcXCJuby1pbnB1dFxcXCI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJub3ctZm9sbG93aW5nLW1lc3NhZ2UgbWVzc2FnZS1zdWNjZXNzIGV4dHJhLXNwYWNlLXRvcFxcXCIgc3R5bGU9XFxcImRpc3BsYXk6IG5vbmU7XFxcIj5cXG4gICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmFzIGZhLWJlbGxcXFwiPjwvaT5cXG4gICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIllvdSB3aWxsIG5vdyByZWNlaXZlIG5vdGlmaWNhdGlvbnMgZm9yIGNvbW1lbnRzIG9yIHdoZW4gdGhpcyBldmVudCBpcyB1cGRhdGVkIG9yIGl0cyBkZXRhaWxzIGNoYW5nZS5cIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIklmIHlvdSBkbyBub3Qgd2FudCBub3RpZmljYXRpb25zLCBjbGljayB0aGUgdW5mb2xsb3cgYnV0dG9uIVwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICAgXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJsaWtlLWJ1dHRvbi1lcnJvciBtZXNzYWdlLWVycm9yIGV4dHJhLXNwYWNlLXRvcFxcXCIgc3R5bGU9XFxcImRpc3BsYXk6IG5vbmU7XFxcIj5cXG4gICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkNvdWxkIG5vdCBzYXZlIHlvdXIgbGlrZSBzZXR0aW5nIGJlY2F1c2Ugb2YgYW4gZXJyb3IuXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImZvbGxvdy1idXR0b24tZXJyb3IgbWVzc2FnZS1lcnJvciBleHRyYS1zcGFjZS10b3BcXFwiIHN0eWxlPVxcXCJkaXNwbGF5OiBub25lO1xcXCI+XFxuICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJDb3VsZCBub3Qgc2F2ZSB5b3VyIGZvbGxvdyBzZXR0aW5nIGJlY2F1c2Ugb2YgYW4gZXJyb3IuXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cIjtcbmNiKG51bGwsIG91dHB1dCk7XG59KTtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX3JlbGF0ZWRfY29udGVudChlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xub3V0cHV0ICs9IFwiXFxuXFxuICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJwYXJ0aWNpcGFudF9jb3VudFwiKSA+IDApIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uIHRpbGUtc2VjdGlvbi1kaXZpZGVkXFxcIj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJzdWJoZWFkaW5nXFxcIj5cXG4gICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLXVzZXJcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiUGFydGljaXBhbnRzXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiIChcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJwYXJ0aWNpcGFudF9jb3VudFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCIpXFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcInRpbGUtc2VjdGlvblxcXCI+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwicm93XFxcIj5cXG4gICAgICAgICAgICAgICAgXCI7XG5mcmFtZSA9IGZyYW1lLnB1c2goKTtcbnZhciB0XzE3ID0gcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJwYXJ0aWNpcGFudHNcIik7XG5pZih0XzE3KSB7dmFyIHRfMTYgPSB0XzE3Lmxlbmd0aDtcbmZvcih2YXIgdF8xNT0wOyB0XzE1IDwgdF8xNy5sZW5ndGg7IHRfMTUrKykge1xudmFyIHRfMTggPSB0XzE3W3RfMTVdO1xuZnJhbWUuc2V0KFwicGFydGljaXBhbnRcIiwgdF8xOCk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfMTUgKyAxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXgwXCIsIHRfMTUpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleFwiLCB0XzE2IC0gdF8xNSk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4MFwiLCB0XzE2IC0gdF8xNSAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzE1ID09PSAwKTtcbmZyYW1lLnNldChcImxvb3AubGFzdFwiLCB0XzE1ID09PSB0XzE2IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzE2KTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTZcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSgobGluZW5vID0gMTI3LCBjb2xubyA9IDQwLCBydW50aW1lLmNhbGxXcmFwKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm1hY3Jvc1wiKSksXCJpdGVtQ2FyZFwiKSwgXCJtYWNyb3NbXFxcIml0ZW1DYXJkXFxcIl1cIiwgY29udGV4dCwgW3J1bnRpbWUubWVtYmVyTG9va3VwKCh0XzE4KSxcInBvcnRhbFwiKSxydW50aW1lLm1lbWJlckxvb2t1cCgodF8xOCksXCJzbHVnXCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzE4KSxcInRpdGxlXCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzE4KSxcInR5cGVcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTgpLFwiaWNvbkltYWdlVXJsXCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzE4KSxcImFkZHJlc3NcIiksXCJmYS1tYXAtbWFya2VyXCIscnVudGltZS5tYWtlS2V5d29yZEFyZ3Moe1wiY29zaW5udXNfYWN0aXZlX3VzZXJcIjogcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb3Npbm51c19hY3RpdmVfdXNlclwiKX0pXSkpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgIFwiO1xuO1xufVxufVxuZnJhbWUgPSBmcmFtZS5wb3AoKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJwYXJ0aWNpcGFudF9jb3VudFwiKSAtIGVudi5nZXRGaWx0ZXIoXCJsZW5ndGhcIikuY2FsbChjb250ZXh0LCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInBhcnRpY2lwYW50c1wiKSkgPiAwKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxpPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICtcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJwYXJ0aWNpcGFudF9jb3VudFwiKSAtIGVudi5nZXRGaWx0ZXIoXCJsZW5ndGhcIikuY2FsbChjb250ZXh0LCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInBhcnRpY2lwYW50c1wiKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiIFxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJwYXJ0aWNpcGFudF9jb3VudFwiKSAtIGVudi5nZXRGaWx0ZXIoXCJsZW5ndGhcIikuY2FsbChjb250ZXh0LCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInBhcnRpY2lwYW50c1wiKSkgPiAxKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiSGlkZGVuIFVzZXJzXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJIaWRkZW4gVXNlclwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICA8L2k+XFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICA8L2Rpdj5cXG4gICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgXFxuXCI7XG5jYihudWxsLCBvdXRwdXQpO1xuO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbnJldHVybiB7XG5iX2hlYWRlcl9pbWFnZTogYl9oZWFkZXJfaW1hZ2UsXG5iX2FkZGl0aW9uYWxfdG9wX2xpbmU6IGJfYWRkaXRpb25hbF90b3BfbGluZSxcbmJfYWN0aW9uX2J1dHRvbnM6IGJfYWN0aW9uX2J1dHRvbnMsXG5iX3JlbGF0ZWRfY29udGVudDogYl9yZWxhdGVkX2NvbnRlbnQsXG5yb290OiByb290XG59O1xuXG59KSgpO1xufSkoKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gc2hpbShudW5qdWNrcywgZW52LCBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkW1wiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy90aWxlLWRldGFpbC1ldmVudHMuaHRtbFwiXSAsIGRlcGVuZGVuY2llcylcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Nvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtZXZlbnRzLmh0bWxcbi8vIG1vZHVsZSBpZCA9IDQxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBudW5qdWNrcyA9IHJlcXVpcmUoXCJudW5qdWNrcy9icm93c2VyL251bmp1Y2tzLXNsaW1cIik7XG52YXIgZW52O1xuaWYgKCFudW5qdWNrcy5jdXJyZW50RW52KXtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudiA9IG5ldyBudW5qdWNrcy5FbnZpcm9ubWVudChbXSwgdW5kZWZpbmVkKTtcbn0gZWxzZSB7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnY7XG59XG52YXIgY29uZmlndXJlID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uLy4uL251bmp1Y2tzLmNvbmZpZy5qc1wiKShlbnYpO1xudmFyIGRlcGVuZGVuY2llcyA9IG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgfHwgKG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgPSB7fSk7XG5kZXBlbmRlbmNpZXNbXCJ0aWxlcy90aWxlLWRldGFpbC1iYXNlXCJdID0gcmVxdWlyZSggXCJ0aWxlcy90aWxlLWRldGFpbC1iYXNlXCIgKTtcbmRlcGVuZGVuY2llc1tcImluY2x1ZGUvbWFjcm9zLmh0bWxcIl0gPSByZXF1aXJlKCBcImluY2x1ZGUvbWFjcm9zLmh0bWxcIiApO1xuXG5cblxuXG52YXIgc2hpbSA9IHJlcXVpcmUoXCIvaG9tZS9zYXNjaGEvcHIvY29zaW5udXMtY29yZS9ub2RlX21vZHVsZXMvbnVuanVja3MtbG9hZGVyL3J1bnRpbWUtc2hpbVwiKTtcblxuXG4oZnVuY3Rpb24oKSB7KG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgPSBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkIHx8IHt9KVtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtaWRlYXMuaHRtbFwiXSA9IChmdW5jdGlvbigpIHtcbmZ1bmN0aW9uIHJvb3QoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbnZhciBwYXJlbnRUZW1wbGF0ZSA9IG51bGw7XG5lbnYuZ2V0VGVtcGxhdGUoXCJ0aWxlcy90aWxlLWRldGFpbC1iYXNlXCIsIHRydWUsIFwiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy90aWxlLWRldGFpbC1pZGVhcy5odG1sXCIsIGZhbHNlLCBmdW5jdGlvbih0XzIsX3BhcmVudFRlbXBsYXRlKSB7XG5pZih0XzIpIHsgY2IodF8yKTsgcmV0dXJuOyB9XG5wYXJlbnRUZW1wbGF0ZSA9IF9wYXJlbnRUZW1wbGF0ZVxuZm9yKHZhciB0XzEgaW4gcGFyZW50VGVtcGxhdGUuYmxvY2tzKSB7XG5jb250ZXh0LmFkZEJsb2NrKHRfMSwgcGFyZW50VGVtcGxhdGUuYmxvY2tzW3RfMV0pO1xufVxub3V0cHV0ICs9IFwiXFxuXCI7XG5lbnYuZ2V0VGVtcGxhdGUoXCJpbmNsdWRlL21hY3Jvcy5odG1sXCIsIGZhbHNlLCBcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtaWRlYXMuaHRtbFwiLCBmYWxzZSwgZnVuY3Rpb24odF80LHRfMykge1xuaWYodF80KSB7IGNiKHRfNCk7IHJldHVybjsgfVxudF8zLmdldEV4cG9ydGVkKGZ1bmN0aW9uKHRfNSx0XzMpIHtcbmlmKHRfNSkgeyBjYih0XzUpOyByZXR1cm47IH1cbmNvbnRleHQuc2V0VmFyaWFibGUoXCJtYWNyb3NcIiwgdF8zKTtcbm91dHB1dCArPSBcIlxcblxcblwiO1xuKHBhcmVudFRlbXBsYXRlID8gZnVuY3Rpb24oZSwgYywgZiwgciwgY2IpIHsgY2IoXCJcIik7IH0gOiBjb250ZXh0LmdldEJsb2NrKFwiaGVhZGVyX2ltYWdlXCIpKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzcsdF82KSB7XG5pZih0XzcpIHsgY2IodF83KTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF82O1xub3V0cHV0ICs9IFwiXFxuXFxuXCI7XG4ocGFyZW50VGVtcGxhdGUgPyBmdW5jdGlvbihlLCBjLCBmLCByLCBjYikgeyBjYihcIlwiKTsgfSA6IGNvbnRleHQuZ2V0QmxvY2soXCJ0aXRsZVwiKSkoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF85LHRfOCkge1xuaWYodF85KSB7IGNiKHRfOSk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfODtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgXFxuXCI7XG4ocGFyZW50VGVtcGxhdGUgPyBmdW5jdGlvbihlLCBjLCBmLCByLCBjYikgeyBjYihcIlwiKTsgfSA6IGNvbnRleHQuZ2V0QmxvY2soXCJ0b3BfbGluZVwiKSkoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF8xMSx0XzEwKSB7XG5pZih0XzExKSB7IGNiKHRfMTEpOyByZXR1cm47IH1cbm91dHB1dCArPSB0XzEwO1xub3V0cHV0ICs9IFwiXFxuXFxuXCI7XG4ocGFyZW50VGVtcGxhdGUgPyBmdW5jdGlvbihlLCBjLCBmLCByLCBjYikgeyBjYihcIlwiKTsgfSA6IGNvbnRleHQuZ2V0QmxvY2soXCJhY3Rpb25fYnV0dG9uc1wiKSkoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF8xMyx0XzEyKSB7XG5pZih0XzEzKSB7IGNiKHRfMTMpOyByZXR1cm47IH1cbm91dHB1dCArPSB0XzEyO1xub3V0cHV0ICs9IFwiXFxuXFxuXFxuXCI7XG4ocGFyZW50VGVtcGxhdGUgPyBmdW5jdGlvbihlLCBjLCBmLCByLCBjYikgeyBjYihcIlwiKTsgfSA6IGNvbnRleHQuZ2V0QmxvY2soXCJyZWxhdGVkX2NvbnRlbnRcIikpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfMTUsdF8xNCkge1xuaWYodF8xNSkgeyBjYih0XzE1KTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF8xNDtcbm91dHB1dCArPSBcIlxcblxcblwiO1xuaWYocGFyZW50VGVtcGxhdGUpIHtcbnBhcmVudFRlbXBsYXRlLnJvb3RSZW5kZXJGdW5jKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKTtcbn0gZWxzZSB7XG5jYihudWxsLCBvdXRwdXQpO1xufVxufSl9KX0pfSl9KX0pfSl9KTtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX2hlYWRlcl9pbWFnZShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xub3V0cHV0ICs9IFwiXFxuICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJiYWNrZ3JvdW5kSW1hZ2VMYXJnZVVybFwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLXNlY3Rpb24gaGVhZGVyLWltYWdlXFxcIj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJkdWFsLXRpbGUtaW1hZ2VcXFwiPlxcbiAgICAgICAgICAgICAgICA8aW1nIGNsYXNzPVxcXCJ0aWxlLWltYWdlIHRpbGUtaW1hZ2UtYmFja2dyb3VuZFxcXCIgc3JjPVxcXCJcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJiYWNrZ3JvdW5kSW1hZ2VMYXJnZVVybFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiIC8+IFxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9kaXY+XFxuICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXCI7XG5jYihudWxsLCBvdXRwdXQpO1xuO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfdGl0bGUoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLXNlY3Rpb24gdGl0bGVcXFwiPlxcbiAgICAgICAgPGgxPlxcbiAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInRpdGxlXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgPC9oMT5cXG4gICAgPC9kaXY+XFxuXCI7XG5jYihudWxsLCBvdXRwdXQpO1xuO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfdG9wX2xpbmUoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLXNlY3Rpb24gdG9wLWxpbmUgb25lLWxpbmUgZXh0cmEtc3BhY2VcXFwiPlxcbiAgICAgICAgPHNwYW4gY2xhc3M9XFxcIm11bHRpLXNwYW5cXFwiPlxcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJwYWxlLWNvbG9yXFxcIj5cXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiQXV0aG9yXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiOlxcbiAgICAgICAgICAgIDwvc3Bhbj4gXFxuICAgICAgICAgICAgXCI7XG5pZighcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb3Npbm51c19hY3RpdmVfdXNlclwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIDxhIGhyZWY9XFxcIi9zaWdudXAvP2FjY19yZXFfbXNnPTEmbmV4dD0vbWFwL1xcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiPlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNyZWF0b3JfbmFtZVwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCI8L2E+XFxuICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoKGxpbmVubyA9IDMxLCBjb2xubyA9IDM0LCBydW50aW1lLmNhbGxXcmFwKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm1hY3Jvc1wiKSksXCJyZXN1bHRMaW5rXCIpLCBcIm1hY3Jvc1tcXFwicmVzdWx0TGlua1xcXCJdXCIsIGNvbnRleHQsIFtydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInBvcnRhbFwiKSxydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNyZWF0b3Jfc2x1Z1wiKSxydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNyZWF0b3JfbmFtZVwiKSxcInBlb3BsZVwiXSkpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICA8L3NwYW4+XFxuICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWRkcmVzc1wiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcIm11bHRpLXNwYW4gaGFsZi1saW5lIGNhcGl0YWxpemVcXFwiIHRpdGxlPVxcXCJcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJhZGRyZXNzXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCI+XFxuICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1mdyBmYS1tYXAtbWFya2VyXFxcIj48L2k+XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWRkcmVzc1wiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInBhcnRpY2lwYW50X2NvdW50XCIpID4gMCkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcIm11bHRpLXNwYW4gY2FwaXRhbGl6ZVxcXCI+XFxuICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1mdyBmYS1oZWFydCBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibGlrZWRcIikpIHtcbm91dHB1dCArPSBcImFwcGx5LWNvbG9yLWxpa2VkXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicGFydGljaXBhbnRfY291bnRcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgPC9kaXY+XFxuXCI7XG5jYihudWxsLCBvdXRwdXQpO1xuO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfYWN0aW9uX2J1dHRvbnMoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbmNvbnRleHQuZ2V0U3VwZXIoZW52LCBcImFjdGlvbl9idXR0b25zXCIsIGJfYWN0aW9uX2J1dHRvbnMsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzE2LGhvbGVfMTcpIHtcbmlmKHRfMTYpIHsgY2IodF8xNik7IHJldHVybjsgfVxuaG9sZV8xNyA9IHJ1bnRpbWUubWFya1NhZmUoaG9sZV8xNyk7XG5vdXRwdXQgKz0gXCJcXG4gICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uIHRpbGUtc2VjdGlvbi1idXR0b24tbGlzdFxcXCI+XFxuICAgICAgICBcIjtcbmlmKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb250cm9sVmlld1wiKSksXCJwb3J0YWxJbmZvXCIpKSxcImN1cnJlbnRcIikgPT0gcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJwb3J0YWxcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIDxhIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbiBidXR0b24tYWN0aW9uIFxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvc2lubnVzX2FjdGl2ZV91c2VyXCIpKSB7XG5vdXRwdXQgKz0gXCJidXR0b24tbGlrZVxcXCIgXCI7XG47XG59XG5lbHNlIHtcbm91dHB1dCArPSBcIlxcXCIgaHJlZj1cXFwiL3NpZ251cC8/YWNjX3JlcV9tc2c9MSZuZXh0PS9tYXAvXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCJcIjtcbjtcbn1cbm91dHB1dCArPSBcIj5cXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uLWlubmVyXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJsaWtlZFwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc1M9XFxcImZhcyBmYS1oZWFydFxcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiTGlrZWRcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzUz1cXFwiZmFyIGZhLWhlYXJ0XFxcIj48L2k+XFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJMaWtlXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJsaWtlZFwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIDxhIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbiBidXR0b24tYWN0aW9uIGJ1dHRvbi1zdGFyXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbi1pbm5lclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInN0YXJyZWRcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmFzIGZhLXN0YXJcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic3RhcnJpbmdMYWJlbFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYXIgZmEtc3RhclxcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzdGFyTGFiZWxcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgICAgICAgICA8YSBjbGFzcz1cXFwicm91bmRlZC1idXR0b24gYnV0dG9uLWFjdGlvbiBidXR0b24tZm9sbG93XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbi1pbm5lclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImZvbGxvd2VkXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc1M9XFxcImZhcyBmYS1iZWxsXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkZvbGxvd2luZ1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc1M9XFxcImZhciBmYS1iZWxsXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkZvbGxvd1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgICAgICAgIDwvYT5cXG4gICAgICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIDxhIGhyZWY9XFxcIlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImFjdGlvbl91cmxfMVwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIiBjbGFzcz1cXFwicm91bmRlZC1idXR0b24gYnV0dG9uLWFjdGlvblxcXCI+XFxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uLWlubmVyXFxcIj5cXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiQ3JlYXRlIFByb2plY3QgZnJvbSBJZGVhXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgPC9hPlxcbiAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIkNPU0lOTlVTX1NIT1dfU1VQRVJVU0VSX0NPTlRST0xTXCIpIHx8IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29zaW5udXNfYWN0aXZlX3VzZXJcIikgJiYgcnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29zaW5udXNfYWN0aXZlX3VzZXJcIikpLFwidXNlcm5hbWVcIikgPT0gcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjcmVhdG9yX3NsdWdcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIDxhIGhyZWY9XFxcIi9pZGVhcy9cIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzbHVnXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIi9lZGl0L1xcXCIgY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uIGJ1dHRvbi1hY3Rpb25cXFwiPlxcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwicm91bmRlZC1idXR0b24taW5uZXJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkVkaXQgeW91ciBJZGVhXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgICA8L2E+XFxuICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgXFxuICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoaG9sZV8xNywgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgPC9kaXY+XFxuICAgIFxcbiAgICA8ZGl2IGNsYXNzPVxcXCJuby1pbnB1dFxcXCI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJub3ctZm9sbG93aW5nLW1lc3NhZ2UgbWVzc2FnZS1zdWNjZXNzIGV4dHJhLXNwYWNlLXRvcFxcXCIgc3R5bGU9XFxcImRpc3BsYXk6IG5vbmU7XFxcIj5cXG4gICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmFzIGZhLWJlbGxcXFwiPjwvaT5cXG4gICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIllvdSB3aWxsIHJlY2VpdmUgYSBub3RpZmljYXRpb24gd2hlbiBhIHByb2plY3QgaXMgY3JlYXRlZCBmcm9tIHlvdXIgbGlrZWQgaWRlYS5cIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIklmIHlvdSBkbyBub3Qgd2FudCBub3RpZmljYXRpb25zLCBjbGljayB0aGUgdW5mb2xsb3cgYnV0dG9uIVwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICAgXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJsaWtlLWJ1dHRvbi1lcnJvciBtZXNzYWdlLWVycm9yIGV4dHJhLXNwYWNlLXRvcFxcXCIgc3R5bGU9XFxcImRpc3BsYXk6IG5vbmU7XFxcIj5cXG4gICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkNvdWxkIG5vdCBzYXZlIHlvdXIgbGlrZSBzZXR0aW5nIGJlY2F1c2Ugb2YgYW4gZXJyb3IuXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImZvbGxvdy1idXR0b24tZXJyb3IgbWVzc2FnZS1lcnJvciBleHRyYS1zcGFjZS10b3BcXFwiIHN0eWxlPVxcXCJkaXNwbGF5OiBub25lO1xcXCI+XFxuICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJDb3VsZCBub3Qgc2F2ZSB5b3VyIGZvbGxvdyBzZXR0aW5nIGJlY2F1c2Ugb2YgYW4gZXJyb3IuXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcInN0YXItYnV0dG9uLWVycm9yIG1lc3NhZ2UtZXJyb3IgZXh0cmEtc3BhY2UtdG9wXFxcIiBzdHlsZT1cXFwiZGlzcGxheTogbm9uZTtcXFwiPlxcbiAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiQ291bGQgbm90IHNhdmUgeW91ciBmb2xsb3cgc2V0dGluZyBiZWNhdXNlIG9mIGFuIGVycm9yLlwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcblwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbn0pO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfcmVsYXRlZF9jb250ZW50KGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5jb250ZXh0LmdldFN1cGVyKGVudiwgXCJyZWxhdGVkX2NvbnRlbnRcIiwgYl9yZWxhdGVkX2NvbnRlbnQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzE3LGhvbGVfMTgpIHtcbmlmKHRfMTcpIHsgY2IodF8xNyk7IHJldHVybjsgfVxuaG9sZV8xOCA9IHJ1bnRpbWUubWFya1NhZmUoaG9sZV8xOCk7XG5vdXRwdXQgKz0gXCJcXG4gICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGhvbGVfMTgsIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFxuICAgIFwiO1xuaWYoZW52LmdldEZpbHRlcihcImxlbmd0aFwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicHJvamVjdHNcIikpID4gMCkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLXNlY3Rpb24gdGlsZS1zZWN0aW9uLWRpdmlkZWRcXFwiPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInN1YmhlYWRpbmdcXFwiPlxcbiAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtZ3JvdXBcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiUHJvamVjdHMgLSBDcmVhdGVkIGZyb20gdGhpcyBJZGVhXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiIChcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEZpbHRlcihcImxlbmd0aFwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicHJvamVjdHNcIikpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIilcXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uXFxcIj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJyb3dcXFwiPlxcbiAgICAgICAgICAgICAgICBcIjtcbmZyYW1lID0gZnJhbWUucHVzaCgpO1xudmFyIHRfMjAgPSBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInByb2plY3RzXCIpO1xuaWYodF8yMCkge3ZhciB0XzE5ID0gdF8yMC5sZW5ndGg7XG5mb3IodmFyIHRfMTg9MDsgdF8xOCA8IHRfMjAubGVuZ3RoOyB0XzE4KyspIHtcbnZhciB0XzIxID0gdF8yMFt0XzE4XTtcbmZyYW1lLnNldChcInByb2plY3RcIiwgdF8yMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfMTggKyAxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXgwXCIsIHRfMTgpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleFwiLCB0XzE5IC0gdF8xOCk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4MFwiLCB0XzE5IC0gdF8xOCAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzE4ID09PSAwKTtcbmZyYW1lLnNldChcImxvb3AubGFzdFwiLCB0XzE4ID09PSB0XzE5IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzE5KTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTZcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSgobGluZW5vID0gMTUwLCBjb2xubyA9IDQwLCBydW50aW1lLmNhbGxXcmFwKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm1hY3Jvc1wiKSksXCJpdGVtQ2FyZFwiKSwgXCJtYWNyb3NbXFxcIml0ZW1DYXJkXFxcIl1cIiwgY29udGV4dCwgW3J1bnRpbWUubWVtYmVyTG9va3VwKCh0XzIxKSxcInBvcnRhbFwiKSxydW50aW1lLm1lbWJlckxvb2t1cCgodF8yMSksXCJzbHVnXCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzIxKSxcInRpdGxlXCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzIxKSxcInR5cGVcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMjEpLFwiaWNvbkltYWdlVXJsXCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzIxKSxcImFkZHJlc3NcIiksXCJmYS1tYXAtbWFya2VyXCIscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMjEpLFwiZGF0YVNsb3QxXCIpLFwiZmEtZ3JvdXBcIixydW50aW1lLm1ha2VLZXl3b3JkQXJncyh7XCJjb3Npbm51c19hY3RpdmVfdXNlclwiOiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvc2lubnVzX2FjdGl2ZV91c2VyXCIpfSldKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgXCI7XG47XG59XG59XG5mcmFtZSA9IGZyYW1lLnBvcCgpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgXFxuXCI7XG5jYihudWxsLCBvdXRwdXQpO1xufSk7XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxucmV0dXJuIHtcbmJfaGVhZGVyX2ltYWdlOiBiX2hlYWRlcl9pbWFnZSxcbmJfdGl0bGU6IGJfdGl0bGUsXG5iX3RvcF9saW5lOiBiX3RvcF9saW5lLFxuYl9hY3Rpb25fYnV0dG9uczogYl9hY3Rpb25fYnV0dG9ucyxcbmJfcmVsYXRlZF9jb250ZW50OiBiX3JlbGF0ZWRfY29udGVudCxcbnJvb3Q6IHJvb3Rcbn07XG5cbn0pKCk7XG59KSgpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBzaGltKG51bmp1Y2tzLCBlbnYsIG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWRbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtZGV0YWlsLWlkZWFzLmh0bWxcIl0gLCBkZXBlbmRlbmNpZXMpXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtZGV0YWlsLWlkZWFzLmh0bWxcbi8vIG1vZHVsZSBpZCA9IDQyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBudW5qdWNrcyA9IHJlcXVpcmUoXCJudW5qdWNrcy9icm93c2VyL251bmp1Y2tzLXNsaW1cIik7XG52YXIgZW52O1xuaWYgKCFudW5qdWNrcy5jdXJyZW50RW52KXtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudiA9IG5ldyBudW5qdWNrcy5FbnZpcm9ubWVudChbXSwgdW5kZWZpbmVkKTtcbn0gZWxzZSB7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnY7XG59XG52YXIgY29uZmlndXJlID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uLy4uL251bmp1Y2tzLmNvbmZpZy5qc1wiKShlbnYpO1xudmFyIGRlcGVuZGVuY2llcyA9IG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgfHwgKG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgPSB7fSk7XG5kZXBlbmRlbmNpZXNbXCJ0aWxlcy90aWxlLWRldGFpbC1iYXNlLWdyb3VwXCJdID0gcmVxdWlyZSggXCJ0aWxlcy90aWxlLWRldGFpbC1iYXNlLWdyb3VwXCIgKTtcbmRlcGVuZGVuY2llc1tcImluY2x1ZGUvbWFjcm9zLmh0bWxcIl0gPSByZXF1aXJlKCBcImluY2x1ZGUvbWFjcm9zLmh0bWxcIiApO1xuXG5cblxuXG52YXIgc2hpbSA9IHJlcXVpcmUoXCIvaG9tZS9zYXNjaGEvcHIvY29zaW5udXMtY29yZS9ub2RlX21vZHVsZXMvbnVuanVja3MtbG9hZGVyL3J1bnRpbWUtc2hpbVwiKTtcblxuXG4oZnVuY3Rpb24oKSB7KG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgPSBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkIHx8IHt9KVtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtb3JnYW5pemF0aW9ucy5odG1sXCJdID0gKGZ1bmN0aW9uKCkge1xuZnVuY3Rpb24gcm9vdChlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xudmFyIHBhcmVudFRlbXBsYXRlID0gbnVsbDtcbmVudi5nZXRUZW1wbGF0ZShcInRpbGVzL3RpbGUtZGV0YWlsLWJhc2UtZ3JvdXBcIiwgdHJ1ZSwgXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtZGV0YWlsLW9yZ2FuaXphdGlvbnMuaHRtbFwiLCBmYWxzZSwgZnVuY3Rpb24odF8yLF9wYXJlbnRUZW1wbGF0ZSkge1xuaWYodF8yKSB7IGNiKHRfMik7IHJldHVybjsgfVxucGFyZW50VGVtcGxhdGUgPSBfcGFyZW50VGVtcGxhdGVcbmZvcih2YXIgdF8xIGluIHBhcmVudFRlbXBsYXRlLmJsb2Nrcykge1xuY29udGV4dC5hZGRCbG9jayh0XzEsIHBhcmVudFRlbXBsYXRlLmJsb2Nrc1t0XzFdKTtcbn1cbm91dHB1dCArPSBcIlxcblwiO1xuZW52LmdldFRlbXBsYXRlKFwiaW5jbHVkZS9tYWNyb3MuaHRtbFwiLCBmYWxzZSwgXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtZGV0YWlsLW9yZ2FuaXphdGlvbnMuaHRtbFwiLCBmYWxzZSwgZnVuY3Rpb24odF80LHRfMykge1xuaWYodF80KSB7IGNiKHRfNCk7IHJldHVybjsgfVxudF8zLmdldEV4cG9ydGVkKGZ1bmN0aW9uKHRfNSx0XzMpIHtcbmlmKHRfNSkgeyBjYih0XzUpOyByZXR1cm47IH1cbmNvbnRleHQuc2V0VmFyaWFibGUoXCJtYWNyb3NcIiwgdF8zKTtcbm91dHB1dCArPSBcIlxcblxcblxcblwiO1xuKHBhcmVudFRlbXBsYXRlID8gZnVuY3Rpb24oZSwgYywgZiwgciwgY2IpIHsgY2IoXCJcIik7IH0gOiBjb250ZXh0LmdldEJsb2NrKFwidGl0bGVcIikpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfNyx0XzYpIHtcbmlmKHRfNykgeyBjYih0XzcpOyByZXR1cm47IH1cbm91dHB1dCArPSB0XzY7XG5vdXRwdXQgKz0gXCJcXG5cXG5cIjtcbihwYXJlbnRUZW1wbGF0ZSA/IGZ1bmN0aW9uKGUsIGMsIGYsIHIsIGNiKSB7IGNiKFwiXCIpOyB9IDogY29udGV4dC5nZXRCbG9jayhcInRvcF9saW5lX2dyb3VwXCIpKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzksdF84KSB7XG5pZih0XzkpIHsgY2IodF85KTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF84O1xub3V0cHV0ICs9IFwiXFxuXFxuXCI7XG4ocGFyZW50VGVtcGxhdGUgPyBmdW5jdGlvbihlLCBjLCBmLCByLCBjYikgeyBjYihcIlwiKTsgfSA6IGNvbnRleHQuZ2V0QmxvY2soXCJhY3Rpb25fYnV0dG9uc1wiKSkoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF8xMSx0XzEwKSB7XG5pZih0XzExKSB7IGNiKHRfMTEpOyByZXR1cm47IH1cbm91dHB1dCArPSB0XzEwO1xub3V0cHV0ICs9IFwiXFxuXFxuXCI7XG4ocGFyZW50VGVtcGxhdGUgPyBmdW5jdGlvbihlLCBjLCBmLCByLCBjYikgeyBjYihcIlwiKTsgfSA6IGNvbnRleHQuZ2V0QmxvY2soXCJjb250YWN0XCIpKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzEzLHRfMTIpIHtcbmlmKHRfMTMpIHsgY2IodF8xMyk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfMTI7XG5pZihwYXJlbnRUZW1wbGF0ZSkge1xucGFyZW50VGVtcGxhdGUucm9vdFJlbmRlckZ1bmMoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpO1xufSBlbHNlIHtcbmNiKG51bGwsIG91dHB1dCk7XG59XG59KX0pfSl9KX0pfSl9KTtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX3RpdGxlKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uIHRpdGxlXFxcIj5cXG4gICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJpc19zdXBlcnVzZXJcIikgfHwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJpc19tZW1iZXJcIikgJiYgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJlZGl0X3VybFwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICA8YSBocmVmPVxcXCJcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJlZGl0X3VybFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIiBjbGFzcz1cXFwidW5jb2xvcmVkLWxpbmtcXFwiPlxcbiAgICAgICAgICAgIDxoMT5cXG4gICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwidGl0bGVcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1wZW5jaWxcXFwiPjwvaT5cXG4gICAgICAgICAgICA8L2gxPlxcbiAgICAgICAgPC9hPlxcbiAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgPGgxPlxcbiAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInRpdGxlXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgPC9oMT5cXG4gICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgIDwvZGl2PlxcblwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX3RvcF9saW5lX2dyb3VwKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uIHRvcGljLWxpbmUgb25lLWxpbmVcXFwiPlxcbiAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwib3JnYW5pemF0aW9uX3R5cGVcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgIDwvZGl2PlxcblwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX2FjdGlvbl9idXR0b25zKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5vdXRwdXQgKz0gXCJcXG5cIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicG9ydGFsXCIpID09IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiQ09TSU5OVVNfRVhDSEFOR0VfUE9SVEFMX0lEXCIpICYmIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwidXJsXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uIHRpbGUtc2VjdGlvbi1idXR0b24tbGlzdFxcXCI+XFxuICAgICAgICA8YSBjbGFzcz1cXFwicm91bmRlZC1idXR0b24gYnV0dG9uLWFjdGlvblxcXCIgaHJlZj1cXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwidXJsXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiPlxcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbi1pbm5lclxcXCI+XFxuICAgICAgICAgICAgICAgIDxpIGNsYXNTPVxcXCJmYSBmYS1leHRlcm5hbC1saW5rXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIk9yZ2FuaXphdGlvblwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIiBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJvblwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIiBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzb3VyY2VcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgPC9hPlxcbiAgICA8L2Rpdj5cXG5cIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX2NvbnRhY3QoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcblwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJwb3J0YWxcIikgIT0gcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJDT1NJTk5VU19FWENIQU5HRV9QT1JUQUxfSURcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLXNlY3Rpb24gdGlsZS1zZWN0aW9uLWRpdmlkZWRcXFwiPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwicm93XFxcIj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wteHMtNlxcXCI+XFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInN1YmhlYWRpbmdcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkNvbnRhY3RcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ3ZWJzaXRlX3VybFwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLXNlY3Rpb24gb25lLWxpbmUgbm8tc3BhY2VcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XFxcIlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIndlYnNpdGVfdXJsXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiIGNsYXNzPVxcXCJjb21wYWN0LWxpbmtcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtZ2xvYmVcXFwiPjwvaT5cIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ3ZWJzaXRlX3VybFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2E+XFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5mcmFtZSA9IGZyYW1lLnB1c2goKTtcbnZhciB0XzE2ID0gcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzb2NpYWxfbWVkaWFcIik7XG5pZih0XzE2KSB7dmFyIHRfMTUgPSB0XzE2Lmxlbmd0aDtcbmZvcih2YXIgdF8xND0wOyB0XzE0IDwgdF8xNi5sZW5ndGg7IHRfMTQrKykge1xudmFyIHRfMTcgPSB0XzE2W3RfMTRdO1xuZnJhbWUuc2V0KFwic21cIiwgdF8xNyk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfMTQgKyAxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXgwXCIsIHRfMTQpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleFwiLCB0XzE1IC0gdF8xNCk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4MFwiLCB0XzE1IC0gdF8xNCAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzE0ID09PSAwKTtcbmZyYW1lLnNldChcImxvb3AubGFzdFwiLCB0XzE0ID09PSB0XzE1IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzE1KTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uIG9uZS1saW5lIG5vLXNwYWNlXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVxcXCJcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTcpLFwidXJsXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiIGNsYXNzPVxcXCJjb21wYWN0LWxpbmtcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzE3KSxcImljb25cIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxcIj48L2k+XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzE3KSxcInVybFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2E+XFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgXCI7XG47XG59XG59XG5mcmFtZSA9IGZyYW1lLnBvcCgpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJlbWFpbFwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLXNlY3Rpb24gb25lLWxpbmUgbm8tc3BhY2VcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XFxcIm1haWx0bzpcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJlbWFpbFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIiBjbGFzcz1cXFwiY29tcGFjdC1saW5rXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWVudmVsb3BlXFxcIj48L2k+XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZW1haWxcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJwaG9uZV9udW1iZXJcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uIG9uZS1saW5lIG5vLXNwYWNlXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVxcXCJ0ZWw6XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicGhvbmVfbnVtYmVyXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiIGNsYXNzPVxcXCJjb21wYWN0LWxpbmtcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtcGhvbmVcXFwiPjwvaT5cIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJwaG9uZV9udW1iZXJcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXhzLTZcXFwiPlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJzdWJoZWFkaW5nXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuaWYoZW52LmdldEZpbHRlcihcImxlbmd0aFwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWRtaW5zXCIpKSA+IDEpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiQWRtaW5pc3RyYXRvclwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiQWRtaW5pc3RyYXRvcnNcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLXNlY3Rpb25cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG5pZihlbnYuZ2V0RmlsdGVyKFwibGVuZ3RoXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJhZG1pbnNcIikpID4gMCkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5mcmFtZSA9IGZyYW1lLnB1c2goKTtcbnZhciB0XzIwID0gcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJhZG1pbnNcIik7XG5pZih0XzIwKSB7dmFyIHRfMTkgPSB0XzIwLmxlbmd0aDtcbmZvcih2YXIgdF8xOD0wOyB0XzE4IDwgdF8yMC5sZW5ndGg7IHRfMTgrKykge1xudmFyIHRfMjEgPSB0XzIwW3RfMThdO1xuZnJhbWUuc2V0KFwiYWRtaW5cIiwgdF8yMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfMTggKyAxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXgwXCIsIHRfMTgpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleFwiLCB0XzE5IC0gdF8xOCk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4MFwiLCB0XzE5IC0gdF8xOCAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzE4ID09PSAwKTtcbmZyYW1lLnNldChcImxvb3AubGFzdFwiLCB0XzE4ID09PSB0XzE5IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzE5KTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoKGxpbmVubyA9IDkyLCBjb2xubyA9IDQ0LCBydW50aW1lLmNhbGxXcmFwKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm1hY3Jvc1wiKSksXCJpdGVtQ2FyZFwiKSwgXCJtYWNyb3NbXFxcIml0ZW1DYXJkXFxcIl1cIiwgY29udGV4dCwgW3J1bnRpbWUubWVtYmVyTG9va3VwKCh0XzIxKSxcInBvcnRhbFwiKSxydW50aW1lLm1lbWJlckxvb2t1cCgodF8yMSksXCJzbHVnXCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzIxKSxcInRpdGxlXCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzIxKSxcInR5cGVcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMjEpLFwiaWNvbkltYWdlVXJsXCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzIxKSxcImFkZHJlc3NcIiksXCJmYS1tYXAtbWFya2VyXCIscnVudGltZS5tYWtlS2V5d29yZEFyZ3Moe1wiY29zaW5udXNfYWN0aXZlX3VzZXJcIjogcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb3Npbm51c19hY3RpdmVfdXNlclwiKX0pXSkpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxufVxuZnJhbWUgPSBmcmFtZS5wb3AoKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9pPlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkFkbWluaXN0cmF0b3JzIHVua25vd25cIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCI8L2k+XFxuICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uIHRpbGUtc2VjdGlvbi1idXR0b24tbGlzdFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiaXNfbWVtYmVyXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz1cXFwicm91bmRlZC1idXR0b24gYnV0dG9uLWFjdGlvbiBkaXNhYmxlZFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbi1pbm5lclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzUz1cXFwiZmEgZmEtY2hlY2tcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJZb3UgYXJlIGEgQWRtaW5cIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYT5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImlzX2ludml0ZWRcIikgfHwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJpc19wZW5kaW5nXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XFxcIlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImFjY2VwdF91cmxcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCIgY2xhc3M9XFxcInJvdW5kZWQtYnV0dG9uIGJ1dHRvbi1hY3Rpb25cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwicm91bmRlZC1idXR0b24taW5uZXJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImlzX2ludml0ZWRcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiWW91IGFyZSBpbnZpdGVkIVwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiaXNfcGVuZGluZ1wiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJPd25lcnNoaXAgcmVxdWVzdCBwZW5kaW5nLi4uXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG5cXG4gICAgPC9kaXY+XFxuXFxuICAgIFwiO1xuaWYoZW52LmdldEZpbHRlcihcImxlbmd0aFwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZ3JvdXBzXCIpKSA+IDApIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwidGlsZS1zZWN0aW9uIHRpbGUtc2VjdGlvbi1kaXZpZGVkXFxcIj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJzdWJoZWFkaW5nXFxcIj5cXG4gICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWdyb3VwXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgIFwiO1xuaWYoZW52LmdldEZpbHRlcihcImxlbmd0aFwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwib3JnYW5pemF0aW9uc1wiKSkgPiAxKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgXFx0XCI7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiUHJvamVjdHMgYW5kIGdyb3Vwc1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xub3V0cHV0ICs9IFwiXFxuXFx0ICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0ICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIlByb2plY3QvZ3JvdXBcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ0aWxlLXNlY3Rpb25cXFwiPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInJvd1xcXCI+XFxuICAgICAgICAgICAgICAgIFwiO1xuZnJhbWUgPSBmcmFtZS5wdXNoKCk7XG52YXIgdF8yNCA9IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZ3JvdXBzXCIpO1xuaWYodF8yNCkge3ZhciB0XzIzID0gdF8yNC5sZW5ndGg7XG5mb3IodmFyIHRfMjI9MDsgdF8yMiA8IHRfMjQubGVuZ3RoOyB0XzIyKyspIHtcbnZhciB0XzI1ID0gdF8yNFt0XzIyXTtcbmZyYW1lLnNldChcImdyb3VwXCIsIHRfMjUpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleFwiLCB0XzIyICsgMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4MFwiLCB0XzIyKTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXhcIiwgdF8yMyAtIHRfMjIpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleDBcIiwgdF8yMyAtIHRfMjIgLSAxKTtcbmZyYW1lLnNldChcImxvb3AuZmlyc3RcIiwgdF8yMiA9PT0gMCk7XG5mcmFtZS5zZXQoXCJsb29wLmxhc3RcIiwgdF8yMiA9PT0gdF8yMyAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5sZW5ndGhcIiwgdF8yMyk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS02XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoKGxpbmVubyA9IDE0NCwgY29sbm8gPSA0MCwgcnVudGltZS5jYWxsV3JhcChydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJtYWNyb3NcIikpLFwiaXRlbUNhcmRcIiksIFwibWFjcm9zW1xcXCJpdGVtQ2FyZFxcXCJdXCIsIGNvbnRleHQsIFtydW50aW1lLm1lbWJlckxvb2t1cCgodF8yNSksXCJwb3J0YWxcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMjUpLFwic2x1Z1wiKSxydW50aW1lLm1lbWJlckxvb2t1cCgodF8yNSksXCJ0aXRsZVwiKSxydW50aW1lLm1lbWJlckxvb2t1cCgodF8yNSksXCJ0eXBlXCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzI1KSxcImljb25JbWFnZVVybFwiKSxydW50aW1lLm1lbWJlckxvb2t1cCgodF8yNSksXCJsb2NhdGlvblwiKSxcImZhLW1hcC1tYXJrZXJcIl0pKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbn1cbmZyYW1lID0gZnJhbWUucG9wKCk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXCI7XG5jYihudWxsLCBvdXRwdXQpO1xuO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbnJldHVybiB7XG5iX3RpdGxlOiBiX3RpdGxlLFxuYl90b3BfbGluZV9ncm91cDogYl90b3BfbGluZV9ncm91cCxcbmJfYWN0aW9uX2J1dHRvbnM6IGJfYWN0aW9uX2J1dHRvbnMsXG5iX2NvbnRhY3Q6IGJfY29udGFjdCxcbnJvb3Q6IHJvb3Rcbn07XG5cbn0pKCk7XG59KSgpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBzaGltKG51bmp1Y2tzLCBlbnYsIG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWRbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtZGV0YWlsLW9yZ2FuaXphdGlvbnMuaHRtbFwiXSAsIGRlcGVuZGVuY2llcylcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Nvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtb3JnYW5pemF0aW9ucy5odG1sXG4vLyBtb2R1bGUgaWQgPSA0M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgbnVuanVja3MgPSByZXF1aXJlKFwibnVuanVja3MvYnJvd3Nlci9udW5qdWNrcy1zbGltXCIpO1xudmFyIGVudjtcbmlmICghbnVuanVja3MuY3VycmVudEVudil7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnYgPSBuZXcgbnVuanVja3MuRW52aXJvbm1lbnQoW10sIHVuZGVmaW5lZCk7XG59IGVsc2Uge1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52O1xufVxudmFyIGNvbmZpZ3VyZSA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi8uLi9udW5qdWNrcy5jb25maWcuanNcIikoZW52KTtcbnZhciBkZXBlbmRlbmNpZXMgPSBudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzIHx8IChudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzID0ge30pO1xuZGVwZW5kZW5jaWVzW1widGlsZXMvdGlsZS1kZXRhaWwtYmFzZVwiXSA9IHJlcXVpcmUoIFwidGlsZXMvdGlsZS1kZXRhaWwtYmFzZVwiICk7XG5kZXBlbmRlbmNpZXNbXCJpbmNsdWRlL21hY3Jvcy5odG1sXCJdID0gcmVxdWlyZSggXCJpbmNsdWRlL21hY3Jvcy5odG1sXCIgKTtcblxuXG5cblxudmFyIHNoaW0gPSByZXF1aXJlKFwiL2hvbWUvc2FzY2hhL3ByL2Nvc2lubnVzLWNvcmUvbm9kZV9tb2R1bGVzL251bmp1Y2tzLWxvYWRlci9ydW50aW1lLXNoaW1cIik7XG5cblxuKGZ1bmN0aW9uKCkgeyhudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkID0gbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZCB8fCB7fSlbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtZGV0YWlsLWVycm9yLTQwMy5odG1sXCJdID0gKGZ1bmN0aW9uKCkge1xuZnVuY3Rpb24gcm9vdChlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xudmFyIHBhcmVudFRlbXBsYXRlID0gbnVsbDtcbmVudi5nZXRUZW1wbGF0ZShcInRpbGVzL3RpbGUtZGV0YWlsLWJhc2VcIiwgdHJ1ZSwgXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtZGV0YWlsLWVycm9yLTQwMy5odG1sXCIsIGZhbHNlLCBmdW5jdGlvbih0XzIsX3BhcmVudFRlbXBsYXRlKSB7XG5pZih0XzIpIHsgY2IodF8yKTsgcmV0dXJuOyB9XG5wYXJlbnRUZW1wbGF0ZSA9IF9wYXJlbnRUZW1wbGF0ZVxuZm9yKHZhciB0XzEgaW4gcGFyZW50VGVtcGxhdGUuYmxvY2tzKSB7XG5jb250ZXh0LmFkZEJsb2NrKHRfMSwgcGFyZW50VGVtcGxhdGUuYmxvY2tzW3RfMV0pO1xufVxub3V0cHV0ICs9IFwiXFxuXCI7XG5lbnYuZ2V0VGVtcGxhdGUoXCJpbmNsdWRlL21hY3Jvcy5odG1sXCIsIGZhbHNlLCBcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdGlsZXMvdGlsZS1kZXRhaWwtZXJyb3ItNDAzLmh0bWxcIiwgZmFsc2UsIGZ1bmN0aW9uKHRfNCx0XzMpIHtcbmlmKHRfNCkgeyBjYih0XzQpOyByZXR1cm47IH1cbnRfMy5nZXRFeHBvcnRlZChmdW5jdGlvbih0XzUsdF8zKSB7XG5pZih0XzUpIHsgY2IodF81KTsgcmV0dXJuOyB9XG5jb250ZXh0LnNldFZhcmlhYmxlKFwibWFjcm9zXCIsIHRfMyk7XG5vdXRwdXQgKz0gXCJcXG5cXG5cIjtcbihwYXJlbnRUZW1wbGF0ZSA/IGZ1bmN0aW9uKGUsIGMsIGYsIHIsIGNiKSB7IGNiKFwiXCIpOyB9IDogY29udGV4dC5nZXRCbG9jayhcImNvbnRlbnRcIikpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfNyx0XzYpIHtcbmlmKHRfNykgeyBjYih0XzcpOyByZXR1cm47IH1cbm91dHB1dCArPSB0XzY7XG5vdXRwdXQgKz0gXCJcXG5cIjtcbmlmKHBhcmVudFRlbXBsYXRlKSB7XG5wYXJlbnRUZW1wbGF0ZS5yb290UmVuZGVyRnVuYyhlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYik7XG59IGVsc2Uge1xuY2IobnVsbCwgb3V0cHV0KTtcbn1cbn0pfSl9KX0pO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfY29udGVudChlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xub3V0cHV0ICs9IFwiXFxuICAgIDxoMSBjbGFzcz1cXFwiZXJyb3ItdGl0bGVcXFwiPlxcbiAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIlByb3RlY3RlZCBDb250ZW50XCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgIDwvaDE+XFxuICAgIDxkaXYgY2xhc3M9XFxcImVycm9yLXRleHRcXFwiPlxcbiAgICAgICAgPHA+XFxuICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJTb3JyeSwgYnV0IHlvdSBjYW5ub3QgdmlldyBkZXRhaWxzIGZvciB0aGlzIGNvbnRlbnQuXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICA8L3A+XFxuICAgICAgICA8cD5cXG4gICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY29zaW5udXNfYWN0aXZlX3VzZXJcIikpIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJUaGlzIGNhbiBoYXBwZW4gd2hlbiBpdHMgdmlzaWJpbGl0eSBzZXR0aW5ncyBoYXZlIGNoYW5nZWQgcmVjZW50bHkuXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICA8YSBocmVmPVxcXCIvc2lnbnVwLz9hY2NfcmVxX21zZz0xJm5leHQ9L21hcC9cXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJQbGVhc2UgcmVnaXN0ZXIgb3IgbG9nIGluIHRvIGNvbnRpbnVlIVwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICA8L2E+XFxuICAgICAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIDwvcD5cXG4gICAgPC9kaXY+XFxuXCI7XG5jYihudWxsLCBvdXRwdXQpO1xuO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbnJldHVybiB7XG5iX2NvbnRlbnQ6IGJfY29udGVudCxcbnJvb3Q6IHJvb3Rcbn07XG5cbn0pKCk7XG59KSgpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBzaGltKG51bmp1Y2tzLCBlbnYsIG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWRbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtZGV0YWlsLWVycm9yLTQwMy5odG1sXCJdICwgZGVwZW5kZW5jaWVzKVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy90aWxlLWRldGFpbC1lcnJvci00MDMuaHRtbFxuLy8gbW9kdWxlIGlkID0gNDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIG51bmp1Y2tzID0gcmVxdWlyZShcIm51bmp1Y2tzL2Jyb3dzZXIvbnVuanVja3Mtc2xpbVwiKTtcbnZhciBlbnY7XG5pZiAoIW51bmp1Y2tzLmN1cnJlbnRFbnYpe1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52ID0gbmV3IG51bmp1Y2tzLkVudmlyb25tZW50KFtdLCB1bmRlZmluZWQpO1xufSBlbHNlIHtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudjtcbn1cbnZhciBjb25maWd1cmUgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vLi4vbnVuanVja3MuY29uZmlnLmpzXCIpKGVudik7XG52YXIgZGVwZW5kZW5jaWVzID0gbnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyB8fCAobnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyA9IHt9KTtcbmRlcGVuZGVuY2llc1tcInRpbGVzL3RpbGUtZGV0YWlsLWJhc2VcIl0gPSByZXF1aXJlKCBcInRpbGVzL3RpbGUtZGV0YWlsLWJhc2VcIiApO1xuZGVwZW5kZW5jaWVzW1wiaW5jbHVkZS9tYWNyb3MuaHRtbFwiXSA9IHJlcXVpcmUoIFwiaW5jbHVkZS9tYWNyb3MuaHRtbFwiICk7XG5cblxuXG5cbnZhciBzaGltID0gcmVxdWlyZShcIi9ob21lL3Nhc2NoYS9wci9jb3Npbm51cy1jb3JlL25vZGVfbW9kdWxlcy9udW5qdWNrcy1sb2FkZXIvcnVudGltZS1zaGltXCIpO1xuXG5cbihmdW5jdGlvbigpIHsobnVuanVja3MubnVuanVja3NQcmVjb21waWxlZCA9IG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgfHwge30pW1wiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy90aWxlLWRldGFpbC1lcnJvci5odG1sXCJdID0gKGZ1bmN0aW9uKCkge1xuZnVuY3Rpb24gcm9vdChlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xudmFyIHBhcmVudFRlbXBsYXRlID0gbnVsbDtcbmVudi5nZXRUZW1wbGF0ZShcInRpbGVzL3RpbGUtZGV0YWlsLWJhc2VcIiwgdHJ1ZSwgXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3RpbGVzL3RpbGUtZGV0YWlsLWVycm9yLmh0bWxcIiwgZmFsc2UsIGZ1bmN0aW9uKHRfMixfcGFyZW50VGVtcGxhdGUpIHtcbmlmKHRfMikgeyBjYih0XzIpOyByZXR1cm47IH1cbnBhcmVudFRlbXBsYXRlID0gX3BhcmVudFRlbXBsYXRlXG5mb3IodmFyIHRfMSBpbiBwYXJlbnRUZW1wbGF0ZS5ibG9ja3MpIHtcbmNvbnRleHQuYWRkQmxvY2sodF8xLCBwYXJlbnRUZW1wbGF0ZS5ibG9ja3NbdF8xXSk7XG59XG5vdXRwdXQgKz0gXCJcXG5cIjtcbmVudi5nZXRUZW1wbGF0ZShcImluY2x1ZGUvbWFjcm9zLmh0bWxcIiwgZmFsc2UsIFwiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy90aWxlLWRldGFpbC1lcnJvci5odG1sXCIsIGZhbHNlLCBmdW5jdGlvbih0XzQsdF8zKSB7XG5pZih0XzQpIHsgY2IodF80KTsgcmV0dXJuOyB9XG50XzMuZ2V0RXhwb3J0ZWQoZnVuY3Rpb24odF81LHRfMykge1xuaWYodF81KSB7IGNiKHRfNSk7IHJldHVybjsgfVxuY29udGV4dC5zZXRWYXJpYWJsZShcIm1hY3Jvc1wiLCB0XzMpO1xub3V0cHV0ICs9IFwiXFxuXFxuXCI7XG4ocGFyZW50VGVtcGxhdGUgPyBmdW5jdGlvbihlLCBjLCBmLCByLCBjYikgeyBjYihcIlwiKTsgfSA6IGNvbnRleHQuZ2V0QmxvY2soXCJjb250ZW50XCIpKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzcsdF82KSB7XG5pZih0XzcpIHsgY2IodF83KTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF82O1xub3V0cHV0ICs9IFwiXFxuXCI7XG5pZihwYXJlbnRUZW1wbGF0ZSkge1xucGFyZW50VGVtcGxhdGUucm9vdFJlbmRlckZ1bmMoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpO1xufSBlbHNlIHtcbmNiKG51bGwsIG91dHB1dCk7XG59XG59KX0pfSl9KTtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX2NvbnRlbnQoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcbiAgICA8aDEgY2xhc3M9XFxcImVycm9yLXRpdGxlXFxcIj5cXG4gICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJFcnJvciFcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgPC9oMT5cXG4gICAgPGRpdiBjbGFzcz1cXFwiZXJyb3ItdGV4dFxcXCI+XFxuICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiU29ycnksIGJ1dCB0aGUgcmVxdWVzdGVkIGNvbnRlbnQgY291bGQgbm90IGJlIHJldHJpZXZlZCBmcm9tIHRoZSBzZXJ2ZXIuXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgIDwvZGl2PlxcblwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5yZXR1cm4ge1xuYl9jb250ZW50OiBiX2NvbnRlbnQsXG5yb290OiByb290XG59O1xuXG59KSgpO1xufSkoKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gc2hpbShudW5qdWNrcywgZW52LCBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkW1wiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy90aWxlLWRldGFpbC1lcnJvci5odG1sXCJdICwgZGVwZW5kZW5jaWVzKVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC90aWxlcy90aWxlLWRldGFpbC1lcnJvci5odG1sXG4vLyBtb2R1bGUgaWQgPSA0NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbnZhciBCYXNlVmlldyA9IHJlcXVpcmUoJ3ZpZXdzL2Jhc2UvdmlldycpO1xudmFyIHV0aWwgPSByZXF1aXJlKCdsaWIvdXRpbCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEJhc2VWaWV3LmV4dGVuZCh7XG5cbiAgICBhcHA6IG51bGwsXG5cbiAgICB0ZW1wbGF0ZTogcmVxdWlyZSgnbmF2YmFyL3F1aWNrc2VhcmNoJyksXG5cbiAgICBmZXRjaFVSTDogJy9zZWFyY2gvYXBpL3F1aWNrc2VhcmNoLycsXG5cbiAgICAvLyB0aGUgcGFyZW50IGVsLCBjb250YWluaW5nIHRoZSBzZWFyY2ggdGV4dGJveCBhbmQgYnV0dG9uXG4gICAgJHNlYXJjaEJhckVsOiBudWxsLFxuXG4gICAgLy8gd2lsbCBiZSBzZXQgdG8gc2VsZi5vcHRpb25zIGR1cmluZyBpbml0aWFsaXphdGlvblxuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIHF1ZXJ5OiBudWxsLFxuICAgICAgICBzZWFyY2hNZXRob2RzOiB7XG4gICAgICAgICAgICAnZGVmYXVsdCc6ICcvc2VhcmNoLz9xPXt7cX19JyxcbiAgICAgICAgICAgICdtYXAnOiAnL21hcC8/cT17e3F9fScsXG4gICAgICAgICAgICAnZ3JvdXBzJzogJy9zZWFyY2gvP2dyb3Vwcz1taW5lJnE9e3txfX0nLFxuICAgICAgICAgICAgJ2Nsb3VkZmlsZXMnOiAnL3NlYXJjaC9jbG91ZGZpbGVzLz9xPXt7cX19J1xuICAgICAgICB9LFxuICAgICAgICB0b3BpY3NTZWFyY2hNZXRob2RzOiB7XG4gICAgICAgICAgICAvLyA8dGl0bGU+OiA8dXJsPixcbiAgICAgICAgfSxcbiAgICAgICAgLy8gdGhpcyB3aWxsIGJlIGFkZGVkIHRvIHRoZSBzdGF0ZS50b3BpY3NTZWFyY2hNZXRob2RzIGZvciBtYXRjaGluZyB0b3BpY3NcbiAgICAgICAgdG9waWNzVXJsOiAnL21hcC8/dG9waWNzPXt7dH19JyxcbiAgICAgICAgc2RnU2VhcmNoTWV0aG9kczoge30sXG4gICAgICAgIHNkZ3NVcmw6ICcvbWFwLz9zZGdzPXt7dH19JyxcblxuICAgICAgICBzdGF0ZToge1xuICAgICAgICAgICAgbG9hZGluZzogZmFsc2UsIC8vIGlmIHRydWUsIGEgcmVxdWVzdCBpcyBjdXJyZW50bHkgbG9hZGluZ1xuICAgICAgICAgICAgY3VycmVudFJlcXVlc3Q6IG51bGwsIC8vIHRoZSBYTUxIdHRwUmVxdWVzdCB0aGF0IGlzIGN1cnJlbnRseSBsb2FkaW5nXG4gICAgICAgICAgICBoYWRFcnJvcnM6IGZhbHNlLFxuXG4gICAgICAgICAgICBxdWlja3NlYXJjaFJlc3VsdHM6IFtdLFxuXG4gICAgICAgICAgICBmaXJlUXVpY2tzZWFyY2hUaW1lb3V0OiBudWxsXG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gVGhlIERPTSBldmVudHMgc3BlY2lmaWMgdG8gYW4gaXRlbS5cbiAgICBldmVudHM6IHtcbiAgICB9LFxuXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gKG9wdGlvbnMsIGFwcCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHNlbGYuYXBwID0gYXBwO1xuICAgICAgICBCYXNlVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHNlbGYsIG9wdGlvbnMpO1xuXG4gICAgICAgIHNlbGYuJHNlYXJjaEJhckVsID0gJCgnI25hdi1xdWlja3NlYXJjaCcpO1xuICAgICAgICAvLyBldmVudHMgdGhhdCBoYXZlIHRvIGJlIGRlZmluZWQgaGVyZSBiZWNhdXNlIHRoZXkgaGFwcGVuIGluIHRoZSBzZWFyY2hCYXJFbDpcbiAgICAgICAgc2VsZi4kc2VhcmNoQmFyRWwub24oJ2ZvY3VzJywgJy5uYXYtc2VhcmNoLWJveCcsIHNlbGYudGhpc0NvbnRleHQoc2VsZi5vblNlYXJjaEJveEZvY3VzSW4pKTtcbiAgICAgICAgc2VsZi4kc2VhcmNoQmFyRWwub24oJ2tleWRvd24nLCAnLm5hdi1zZWFyY2gtYm94Jywgc2VsZi50aGlzQ29udGV4dChzZWxmLm9uU2VhcmNoQm94S2V5RG93bikpO1xuICAgICAgICBzZWxmLiRzZWFyY2hCYXJFbC5vbignaW5wdXQnLCAnLm5hdi1zZWFyY2gtYm94Jywgc2VsZi50aGlzQ29udGV4dChzZWxmLm9uU2VhcmNoQm94VHlwZWQpKTtcbiAgICAgICAgc2VsZi4kc2VhcmNoQmFyRWwub24oJ2NsaWNrJywgJy5uYXYtYnV0dG9uLXNlYXJjaCcsIHNlbGYudGhpc0NvbnRleHQoc2VsZi5vblNlYXJjaEljb25DbGlja2VkKSk7XG4gICAgICAgIHNlbGYuJHNlYXJjaEJhckVsLm9uKCdjbGljaycsICcucXVpY2tzZWFyY2gtZmlsdGVyYnV0dG9uJywgc2VsZi50aGlzQ29udGV4dChzZWxmLm9uUXVpY2tTZWFyY2hGaWx0ZXJCdXR0b25DbGlja2VkKSk7XG5cblxuICAgICAgICAvLyBUT0RPOiBhZGQgYSBjb2xsZWN0aW9uIGZvciBxdWlja3NlYXJjaCBEQiByZXN1bHRzIVxuICAgICAgICByZXR1cm47XG5cbiAgICAgICAgLy8gcmVzdWx0IGV2ZW50c1xuICAgICAgICBzZWxmLmNvbGxlY3Rpb24ub24oe1xuICAgICAgICAgICAgJ2FkZCc6IHNlbGYudGhpc0NvbnRleHQoc2VsZi50aWxlQWRkKSxcbiAgICAgICAgICAgICdjaGFuZ2UnOiBzZWxmLnRoaXNDb250ZXh0KHNlbGYudGlsZVVwZGF0ZSksXG4gICAgICAgICAgICAncmVtb3ZlJzogc2VsZi50aGlzQ29udGV4dChzZWxmLnRpbGVSZW1vdmUpLFxuICAgICAgICAgICAgJ3VwZGF0ZSc6IHNlbGYudGhpc0NvbnRleHQoc2VsZi50aWxlc1VwZGF0ZSksXG4gICAgICAgICAgICAncmVzZXQnOiBzZWxmLnRoaXNDb250ZXh0KHNlbGYudGlsZXNSZXNldCksXG4gICAgICAgIH0pO1xuXG4gICAgfSxcblxuICAgIHJlbmRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIEJhc2VWaWV3LnByb3RvdHlwZS5yZW5kZXIuY2FsbChzZWxmKTtcblxuICAgICAgICB1dGlsLmxvZygnKioqIFJlbmRlcmVkIHF1aWNrc2VhcmNoISAqKionKVxuICAgICAgICB0aGlzLiRzZWFyY2hCYXJFbC5maW5kKCcuZHJvcGRvd24tdW5kZXJkcm9wJykuaGVpZ2h0KHRoaXMuJGVsLm91dGVySGVpZ2h0KCkpO1xuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqIEV4dGVuZCB0aGUgdGVtcGxhdGUgZGF0YSBieSB0aGUgY29udHJvbFZpZXcncyBvcHRpb25zIGFuZCBzdGF0ZSAqL1xuICAgIGdldFRlbXBsYXRlRGF0YTogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBkYXRhID0gQmFzZVZpZXcucHJvdG90eXBlLmdldFRlbXBsYXRlRGF0YS5jYWxsKHNlbGYpO1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9LFxuXG4gICAgLyoqIFNlYXJjaGJveCBmb2N1c2VkICovXG4gICAgb25TZWFyY2hCb3hGb2N1c0luOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdGhpcy4kc2VhcmNoQmFyRWwuZmluZCgnLm5hdi1zZWFyY2gtYm94JykuYXR0cigncGxhY2Vob2xkZXInLCB0aGlzLm9wdGlvbnMucGxhY2Vob2xkZXIpO1xuICAgICAgICB0aGlzLnNob3dEcm9wZG93bigpO1xuICAgIH0sXG5cbiAgICAvKiogU2VhcmNoYm94IGtleSBkb3ducywgZm9yIHNwZWNpYWwga2V5cyAqL1xuICAgIG9uU2VhcmNoQm94S2V5RG93bjogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IDEzKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmVTZWFyY2goKTtcbiAgICAgICAgfSBlbHNlIGlmIChldmVudC5rZXlDb2RlID09IDI3KSB7XG4gICAgICAgICAgICB0aGlzLiRzZWFyY2hCYXJFbC5yZW1vdmVDbGFzcygnYWN0aXZlJykuZmluZCgnLm5hdi1zZWFyY2gtYm94JykuYmx1cigpO1xuICAgICAgICAgICAgJCgnLnYyLW5hdmJhcicpLnJlbW92ZUNsYXNzKCdzZWFyY2gtb3BlbicpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIG9uUXVpY2tTZWFyY2hGaWx0ZXJCdXR0b25DbGlja2VkOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyIHR5cGUgPSBldmVudC5jdXJyZW50VGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1yZXN1bHQtZmlsdGVyLXR5cGUnKTtcbiAgICAgICAgdmFyIHF1ZXJ5ID0gdGhpcy5nZXRDdXJyZW50UXVlcnkoKTtcblxuICAgICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgICAgICdxJzogcXVlcnkgPyBxdWVyeSA6ICcnLFxuICAgICAgICAgICAgJ3Blb3BsZSc6IHR5cGUgPT09ICdwZW9wbGUnLFxuICAgICAgICAgICAgJ2V2ZW50cyc6IHR5cGUgPT09ICdldmVudHMnLFxuICAgICAgICAgICAgJ3Byb2plY3RzJzogdHlwZSA9PT0gJ3Byb2plY3RzJyxcbiAgICAgICAgICAgICdncm91cHMnOiB0eXBlID09PSAnZ3JvdXBzJyxcbiAgICAgICAgICAgICdpZGVhcyc6IHR5cGUgPT09ICdpZGVhcycsXG4gICAgICAgICAgICAnY29uZmVyZW5jZXMnOiB0eXBlID09PSAnY29uZmVyZW5jZXMnLFxuICAgICAgICAgICAgJ29yZ2FuaXphdGlvbnMnOiB0eXBlID09PSAnb3JnYW5pemF0aW9ucydcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgcGFyYW1zID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgZCBpbiBkYXRhKSB7XG4gICAgICAgICAgICBwYXJhbXMucHVzaChlbmNvZGVVUklDb21wb25lbnQoZCkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQoZGF0YVtkXSkpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB1cmwgPSAnL21hcC8/JyArIHBhcmFtcy5qb2luKCcmJyk7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gdXJsO1xuICAgIH0sXG5cbiAgICAvKiogU2VhcmNoYm94IHRleHQgaW5wdXQgKi9cbiAgICBvblNlYXJjaEJveFR5cGVkOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBpZiAoIWV2ZW50LnNoaWZ0S2V5ICYmICFldmVudC5jdHJsS2V5KSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5zdGF0ZS5maXJlUXVpY2tzZWFyY2hUaW1lb3V0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gcHJldmVudCB0aGUgcXVpY2tzZWFyY2ggcmVxdWVzdCBmcm9tIGJlaW5nIHN0YXJ0ZWRcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoc2VsZi5zdGF0ZS5maXJlUXVpY2tzZWFyY2hUaW1lb3V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudXBkYXRlU2VhcmNoU3VnZ2VzdGlvbnMoKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKiogcmVyZW5kZXJzIHRoZSBsaXN0IG9mIGNsaWNrYWJsZSBzZWFyY2ggc3VnZ2VzdGlvbnMsIGUuZy4gYWZ0ZXIgbmV3IGlucHV0IHdhcyBtYWRlICovXG4gICAgdXBkYXRlU2VhcmNoU3VnZ2VzdGlvbnM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB2YXIgcXVlcnkgPSBzZWxmLmdldEN1cnJlbnRRdWVyeSgpO1xuXG4gICAgICAgIC8vIGFwcGx5IHRoZSBjdXJyZW50IHF1ZXJ5IHRvIHRoZSB1cmxzIGluIHNlYXJjaE1ldGhvZHNcbiAgICAgICAgdmFyIHNlYXJjaE1ldGhvZHMgPSBfKHNlbGYub3B0aW9ucy5zZWFyY2hNZXRob2RzKS5jbG9uZSgpO1xuICAgICAgICBmb3IgKHZhciBtZXRob2QgaW4gc2VhcmNoTWV0aG9kcykge1xuICAgICAgICAgICAgc2VhcmNoTWV0aG9kc1ttZXRob2RdID0gc2VhcmNoTWV0aG9kc1ttZXRob2RdLnJlcGxhY2UoJ3t7cX19JywgZW5jb2RlVVJJQ29tcG9uZW50KHF1ZXJ5KSk7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5zdGF0ZS5zZWFyY2hNZXRob2RzID0gc2VhcmNoTWV0aG9kcztcbiAgICAgICAgLy8gbWF0Y2ggdG9waWNzIHRvIHRoZSBjdXJyZW50IHF1ZXJ5IGFuZCBnZW5lcmF0ZSB0b3BpYyBzZWFyY2ggc3VnZ2VzdGlvbnNcbiAgICAgICAgdmFyIHRvcGljc1NlYXJjaE1ldGhvZHMgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgdG9waWNJZCBpbiBzZWxmLm9wdGlvbnMudG9waWNzSnNvbikge1xuICAgICAgICAgICAgdmFyIHRvcGljID0gc2VsZi5vcHRpb25zLnRvcGljc0pzb25bdG9waWNJZF07XG4gICAgICAgICAgICBpZiAodG9waWMgJiYgdG9waWMudG9Mb3dlckNhc2UoKS5pbmRleE9mKHF1ZXJ5LnRvTG93ZXJDYXNlKCkpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAvLyBoaWdobGlnaHQgdGhlIHRvcGljIG9jY3VyZW5jZVxuICAgICAgICAgICAgICAgIHZhciB0aXRsZSA9IHV0aWwuaVJlcGxhY2UodG9waWMsIHF1ZXJ5LCAnPGI+JDE8L2I+Jyk7XG4gICAgICAgICAgICAgICAgdmFyIHVybCA9IHNlbGYub3B0aW9ucy50b3BpY3NVcmwucmVwbGFjZSgne3t0fX0nLCB0b3BpY0lkKTtcbiAgICAgICAgICAgICAgICB0b3BpY3NTZWFyY2hNZXRob2RzW3RpdGxlXSA9IHVybDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZWxmLm9wdGlvbnMuc2Rnc0pzb24ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdmFyIHNkZ1NlYXJjaE1ldGhvZHMgPSB7fTtcbiAgICAgICAgICAgIGZvciAodmFyIHNkZ0lkIGluIHNlbGYub3B0aW9ucy5zZGdzSnNvbikge1xuICAgICAgICAgICAgICAgIHZhciBzZGcgPSBzZWxmLm9wdGlvbnMuc2Rnc0pzb25bc2RnSWRdO1xuICAgICAgICAgICAgICAgIGlmIChzZGcgJiYgc2RnLm5hbWUudG9Mb3dlckNhc2UoKS5pbmRleE9mKHF1ZXJ5LnRvTG93ZXJDYXNlKCkpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpdGxlID0gdXRpbC5pUmVwbGFjZShzZGcubmFtZSwgcXVlcnksICc8Yj4kMTwvYj4nKVxuICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gc2VsZi5vcHRpb25zLnNkZ3NVcmwucmVwbGFjZSgne3t0fX0nLCBzZGcuaWQpO1xuICAgICAgICAgICAgICAgICAgICBzZGdTZWFyY2hNZXRob2RzW3RpdGxlXSA9IHVybDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuXG4gICAgICAgIHNlbGYuc3RhdGUudG9waWNzU2VhcmNoTWV0aG9kcyA9IHRvcGljc1NlYXJjaE1ldGhvZHNcbiAgICAgICAgc2VsZi5zdGF0ZS5zZGdTZWFyY2hNZXRob2RzID0gc2RnU2VhcmNoTWV0aG9kc1xuXG4gICAgICAgIHNlbGYuc3RhdGUucXVlcnkgPSBxdWVyeSB8fCBudWxsO1xuICAgICAgICBzZWxmLnN0YXRlLnF1aWNrc2VhcmNoUmVzdWx0cyA9IFtdO1xuICAgICAgICBzZWxmLnJlbmRlcigpO1xuXG4gICAgICAgIGlmIChzZWxmLnN0YXRlLnF1ZXJ5ICYmIHNlbGYuc3RhdGUucXVlcnkubGVuZ3RoID4gMikge1xuICAgICAgICAgICAgLy8gd2FpdCBhIHNob3J0IHRpbWUgYmVmb3JlIGlzc3VpbmcgYSBIVFRQIHJlcXVlc3QsIFxuICAgICAgICAgICAgLy8gaW4gY2FzZSB0aGUgdXNlciB0eXBlcyBtb3JlIHN0dWZmIGluIHRoZSBtZWFudGltZTtcbiAgICAgICAgICAgIC8vIGluIHRoYXQgY2FzZSwgdGhlIHRpbWVvdXQgd2lsbCBiZSBjbGVhcmVkL2NhbmNlbGxlZC5cbiAgICAgICAgICAgIHNlbGYuc3RhdGUuZmlyZVF1aWNrc2VhcmNoVGltZW91dCA9IHNldFRpbWVvdXQoc2VsZi5sb2FkUXVpY2tSZXN1bHRzLCAzMDAsIHNlbGYsIHNlbGYuc3RhdGUucXVlcnkpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKiBHZXQgdGhlIHRleHQgZnJvbSB0aGUgc2VhcmNoIGJveCAqL1xuICAgIGdldEN1cnJlbnRRdWVyeTogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kc2VhcmNoQmFyRWwuZmluZCgnLm5hdi1zZWFyY2gtYm94JykudmFsKCkudHJpbSgpO1xuICAgIH0sXG5cbiAgICAvKiogRmlyZSBvZmYgYSBzZWFyY2guIElmIG5vIGFyZ3VtZW50cyBnaXZlbiwgZmlyZXMgdGhlIGRlZmF1bHQgc2VhcmNoXG4gICAgICogXHR3aXRoIHRoZSBjdXJyZW50bHkgZW50ZXJlZCB0ZXh0ICovXG4gICAgZmlyZVNlYXJjaDogZnVuY3Rpb24gKHR5cGUsIHF1ZXJ5KSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgaWYgKCF0eXBlKSB7XG4gICAgICAgICAgICB0eXBlID0gJ2RlZmF1bHQnO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcXVlcnkpIHtcbiAgICAgICAgICAgIHF1ZXJ5ID0gc2VsZi5nZXRDdXJyZW50UXVlcnkoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocXVlcnkgJiYgcXVlcnkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdmFyIHVybCA9IHNlbGYub3B0aW9ucy5zZWFyY2hNZXRob2RzW3R5cGVdLnJlcGxhY2UoJ3t7cX19JywgZW5jb2RlVVJJQ29tcG9uZW50KHF1ZXJ5KSk7XG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24gPSB1cmw7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqIFNob3dzIHRoZSBxdWlja3NlYXJjaCByZXN1bHQgbGlzdCAqL1xuICAgIHNob3dEcm9wZG93bjogZnVuY3Rpb24gKCkge1xuICAgICAgICB1dGlsLmxvZygnKioqIFNob3dpbmcgcXVpY2tzZWFyY2ggcmVzdWx0cyAqKionKVxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMudGhpc0NvbnRleHQodGhpcy5jaGVja1F1aWNrU2VhcmNoRm9jdXNPdXQpKTtcbiAgICAgICAgdGhpcy4kc2VhcmNoQmFyRWwuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAkKCcudjItbmF2YmFyJykuYWRkQ2xhc3MoJ3NlYXJjaC1vcGVuJyk7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfSxcblxuICAgIC8qKiBIaWRlcyB0aGUgcXVpY2tzZWFyY2ggcmVzdWx0IGxpc3QgKi9cbiAgICBoaWRlRHJvcGRvd246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdXRpbC5sb2coJyoqKiBIaWRpbmcgcXVpY2tzZWFyY2ggcmVzdWx0cyAqKionKVxuICAgICAgICB0aGlzLiRlbC5oaWRlKCk7XG4gICAgfSxcblxuICAgIC8qKiBXaGlsZSB3ZSBhcmUgZm9jdXNlZCwgY2hlY2sgZm9yIGNsaWNrcyBvdXRzaWRlIHRvIHRyaWdnZXIgY2xvc2luZyB0aGUgbWVudSAqL1xuICAgIGNoZWNrUXVpY2tTZWFyY2hGb2N1c091dDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmICgodGhpcy4kc2VhcmNoQmFyRWwuaGFzQ2xhc3MoJ2FjdGl2ZScpICYmICF0aGlzLiRzZWFyY2hCYXJFbFswXS5jb250YWlucyhldmVudC50YXJnZXQpKVxuICAgICAgICAgICAgfHwgJChldmVudC50YXJnZXQpLmhhc0NsYXNzKCduYXYtc2VhcmNoLWJhY2tkcm9wJykpIHtcbiAgICAgICAgICAgIHRoaXMuJHNlYXJjaEJhckVsLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICQoJy52Mi1uYXZiYXInKS5yZW1vdmVDbGFzcygnc2VhcmNoLW9wZW4nKTtcbiAgICAgICAgICAgIHRoaXMuJHNlYXJjaEJhckVsLmZpbmQoJy5uYXYtc2VhcmNoLWJveCcpLmF0dHIoJ3BsYWNlaG9sZGVyJywgJycpO1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnRoaXNDb250ZXh0KHRoaXMuY2hlY2tRdWlja1NlYXJjaEZvY3VzT3V0KSk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgb25TZWFyY2hJY29uQ2xpY2tlZDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLiRzZWFyY2hCYXJFbC5oYXNDbGFzcygnYWN0aXZlJykpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZVNlYXJjaCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy4kc2VhcmNoQmFyRWwuZmluZCgnLm5hdi1zZWFyY2gtYm94JykuYXR0cigncGxhY2Vob2xkZXInLCB0aGlzLm9wdGlvbnMucGxhY2Vob2xkZXIpO1xuICAgICAgICAgICAgdGhpcy4kc2VhcmNoQmFyRWwuZmluZCgnLm5hdi1zZWFyY2gtYm94JykuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKiogUXVpY2tzZWFyY2ggcmVzdWx0cyBkYXRhIGZldGNoIGxvZ2ljICovXG5cbiAgICAvKiogTG9hZHMgYSBuZXcgc2V0IG9mIHF1aWNrc2VhcmNoIHJlc3VsdHMgZm9yIHRoZSBnaXZlbiBxdWVyeS5cbiAgICAgKiAgQ2FsbGluZyB0aGlzIHdpbGwgY2FuY2VsIHRoZSBjdXJyZW50bHkgcnVubmluZyByZXF1ZXN0LCBpZiBleGlzdGluZy4gKi9cbiAgICBsb2FkUXVpY2tSZXN1bHRzOiBmdW5jdGlvbiAoc2VsZiwgcXVlcnkpIHtcbiAgICAgICAgaWYgKHNlbGYuc3RhdGUubG9hZGluZykge1xuICAgICAgICAgICAgaWYgKHNlbGYuc3RhdGUuY3VycmVudFJlcXVlc3QgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBzZWxmLnN0YXRlLmN1cnJlbnRSZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgICAgICAgICAgc2VsZi5zdGF0ZS5jdXJyZW50UmVxdWVzdCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWxmLnN0YXRlLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGYuc3RhdGUubG9hZGluZyA9IHRydWU7XG4gICAgICAgIC8vc2VsZi5zaG93TG9hZGluZ1BsYWNlaG9sZGVyKCk7XG4gICAgICAgIC8vc2VsZi5oaWRlRXJyb3JNZXNzYWdlKCk7XG4gICAgICAgIC8vIHVzaW5nIHRoaXMgaW5zdGVhZCBvZiAuZmluYWxseSgpIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSBpbiBicm93c2Vyc1xuXG4gICAgICAgIHZhciBmaW5hbGx5X2NvbXBhdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNlbGYuc3RhdGUubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgLy9zZWxmLmhpZGVMb2FkaW5nUGxhY2Vob2xkZXIoKTtcbiAgICAgICAgfTtcbiAgICAgICAgc2VsZi5sb2FkRGF0YShxdWVyeSkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgdXRpbC5sb2coJyMgcXVpY2tzZWFyY2ggcmVjZWl2ZWQgZGF0YSBhbmQgaXMgbm93IGhhbmRsaW5nIGl0Jyk7XG4gICAgICAgICAgICBzZWxmLmhhbmRsZURhdGEoZGF0YSk7XG4gICAgICAgICAgICBmaW5hbGx5X2NvbXBhdCgpO1xuICAgICAgICB9KS8qKi5jYXRjaChmdW5jdGlvbihtZXNzYWdlKXtcblx0XHRcdHNlbGYuaGFuZGxlRXJyb3IobWVzc2FnZSk7XG5cdFx0XHRmaW5hbGx5X2NvbXBhdCgpO1xuXHRcdH0pKi87XG4gICAgfSxcblxuXG4gICAgLyoqIExvYWRzIGEgc2V0IG9mIGRhdGEgZnJvbSB0aGUgc2VydmVyLiBSZXR1cm5zIGEgcHJvbWlzZVxuICAgICAqICB3aG9zZSByZXNvbHZlIGZ1bmN0aW9uIGdldHMgcGFzc2VkIHRoZSBkYXRhICovXG4gICAgbG9hZERhdGE6IGZ1bmN0aW9uIChxdWVyeSkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAvLyBidWlsZCBVUkxcbiAgICAgICAgICAgIHZhciB1cmwgPSBzZWxmLmZldGNoVVJMICsgJz8nICsgJC5wYXJhbSh7ICdxJzogcXVlcnkgfSk7XG4gICAgICAgICAgICBzZWxmLnN0YXRlLmN1cnJlbnRSZXF1ZXN0ID0gJC5hamF4KHVybCwge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSwgdGV4dFN0YXR1cywgeGhyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzID09IDIwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXNwb25zZVsnZGF0YSddKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdCh4aHIuc3RhdHVzVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCB0ZXh0U3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdCh0ZXh0U3RhdHVzKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc3RhdGUuY3VycmVudFJlcXVlc3QgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgaGFuZGxlRGF0YTogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB1dGlsLmxvZygnIyAjIEZldGNoZWQgZGF0YSBmb3IgcXVpY2tzZWFyY2gnKTtcblxuICAgICAgICAvLyBkaXNwbGF5IGl0ZW1zIGlmIGFueVxuICAgICAgICBpZiAoZGF0YVsnY291bnQnXSA+IDApIHtcbiAgICAgICAgICAgIHNlbGYuc3RhdGUucXVpY2tzZWFyY2hSZXN1bHRzID0gZGF0YVsnaXRlbXMnXTtcbiAgICAgICAgICAgICQuZWFjaChzZWxmLnN0YXRlLnF1aWNrc2VhcmNoUmVzdWx0cywgZnVuY3Rpb24gKGl0ZW1JZHgsIGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAvLyB3ZSBleHBlY3QgZXNjYXBlZCB0ZXh0IGhlcmUhIFxuICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSwgd2UgY291bGQgbWFrZSBpdCBzYWZlIHVzaW5nOiB2YXIgdGV4dCA9ICQoJzxkaXY+JykudGV4dChpdGVtWyd0ZXh0J10pLmh0bWwoKTtcbiAgICAgICAgICAgICAgICB2YXIgdGV4dCA9IGl0ZW1bJ3RleHQnXTtcbiAgICAgICAgICAgICAgICAkLmVhY2goc2VsZi5zdGF0ZS5xdWVyeS5zcGxpdCgnICcpLCBmdW5jdGlvbiAocXVlcnlUZXJtSWR4LCBxdWVyeVRlcm0pIHtcblxuICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gdXRpbC5pUmVwbGFjZSh0ZXh0LCBxdWVyeVRlcm0sICc8Yj4kMTwvYj4nKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpdGVtWyd0ZXh0J10gPSB0ZXh0O1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgKGl0ZW0uc3VidGV4dCkgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN1YnRleHQgPSBpdGVtLnN1YnRleHQ7XG4gICAgICAgICAgICAgICAgICAgICQuZWFjaChzZWxmLnN0YXRlLnF1ZXJ5LnNwbGl0KCcgJyksIGZ1bmN0aW9uIChxdWVyeVRlcm1JZHgsIHF1ZXJ5VGVybSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3VidGV4dCA9IHV0aWwuaVJlcGxhY2Uoc3VidGV4dCwgcXVlcnlUZXJtLCAnPGI+JDE8L2I+Jyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpdGVtLnN1YnRleHQgPSBzdWJ0ZXh0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc2VsZi5yZW5kZXIoKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBoYW5kbGVFcnJvcjogZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB1dGlsLmxvZygnIyBFcnJvciBkdXJpbmcgcXVpY2tzZWFyY2ggcmVxdWVzdCEnKTtcbiAgICAgICAgLy9zZWxmLnNob3dFcnJvck1lc3NhZ2UoKTtcbiAgICB9LFxuXG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29zaW5udXMvY2xpZW50L3ZpZXdzL25hdmJhci9xdWlja3NlYXJjaC12aWV3LmpzXG4vLyBtb2R1bGUgaWQgPSA0NlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgbnVuanVja3MgPSByZXF1aXJlKFwibnVuanVja3MvYnJvd3Nlci9udW5qdWNrcy1zbGltXCIpO1xudmFyIGVudjtcbmlmICghbnVuanVja3MuY3VycmVudEVudil7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnYgPSBuZXcgbnVuanVja3MuRW52aXJvbm1lbnQoW10sIHVuZGVmaW5lZCk7XG59IGVsc2Uge1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52O1xufVxudmFyIGNvbmZpZ3VyZSA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi8uLi9udW5qdWNrcy5jb25maWcuanNcIikoZW52KTtcbnZhciBkZXBlbmRlbmNpZXMgPSBudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzIHx8IChudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzID0ge30pO1xuZGVwZW5kZW5jaWVzW1wiaW5jbHVkZS9tYWNyb3MuaHRtbFwiXSA9IHJlcXVpcmUoIFwiaW5jbHVkZS9tYWNyb3MuaHRtbFwiICk7XG5cblxuXG5cbnZhciBzaGltID0gcmVxdWlyZShcIi9ob21lL3Nhc2NoYS9wci9jb3Npbm51cy1jb3JlL25vZGVfbW9kdWxlcy9udW5qdWNrcy1sb2FkZXIvcnVudGltZS1zaGltXCIpO1xuXG5cbihmdW5jdGlvbigpIHsobnVuanVja3MubnVuanVja3NQcmVjb21waWxlZCA9IG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgfHwge30pW1wiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC9uYXZiYXIvcXVpY2tzZWFyY2guaHRtbFwiXSA9IChmdW5jdGlvbigpIHtcbmZ1bmN0aW9uIHJvb3QoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbnZhciBwYXJlbnRUZW1wbGF0ZSA9IG51bGw7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJwYXNzVGhyb3VnaFwiKVtcInJ1blwiXShjb250ZXh0LHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiaTE4blwiKSksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cIjtcbmVudi5nZXRUZW1wbGF0ZShcImluY2x1ZGUvbWFjcm9zLmh0bWxcIiwgZmFsc2UsIFwiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC9uYXZiYXIvcXVpY2tzZWFyY2guaHRtbFwiLCBmYWxzZSwgZnVuY3Rpb24odF8yLHRfMSkge1xuaWYodF8yKSB7IGNiKHRfMik7IHJldHVybjsgfVxudF8xLmdldEV4cG9ydGVkKGZ1bmN0aW9uKHRfMyx0XzEpIHtcbmlmKHRfMykgeyBjYih0XzMpOyByZXR1cm47IH1cbmNvbnRleHQuc2V0VmFyaWFibGUoXCJtYWNyb3NcIiwgdF8xKTtcbm91dHB1dCArPSBcIlxcblxcbjx1bCBjbGFzcz1cXFwiaXRlbS1saXN0XFxcIj5cXG5cXG5cXHQ8bGk+XFxuXFx0ICAgIDxkaXYgY2xhc3M9XFxcIm5hdi1xdWlja3NlYXJjaC1idXR0b25zXFxcIj5cXG5cXHRcXHRcXHQ8ZGl2IGNsYXNzPVxcXCJidG4tbm8taW50ZXJhY3QgbmF2LXF1aWNrc2VhcmNoLWJ1dHRvbi1sYWJlbFxcXCI+XFxuXFx0XFx0XFx0XFx0XCI7XG52YXIgdF80O1xudF80ID0gKGZ1bmN0aW9uKCkge1xudmFyIG91dHB1dCA9IFwiXCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkZpbmQgb24gbWFwOlwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFwiO1xuO1xucmV0dXJuIG91dHB1dDtcbn0pKClcbjtcbmZyYW1lLnNldChcImZpbHRlcl9hbm5vdGF0aW9uc19wcmVmaXhcIiwgdF80LCB0cnVlKTtcbmlmKGZyYW1lLnRvcExldmVsKSB7XG5jb250ZXh0LnNldFZhcmlhYmxlKFwiZmlsdGVyX2Fubm90YXRpb25zX3ByZWZpeFwiLCB0XzQpO1xufVxuaWYoZnJhbWUudG9wTGV2ZWwpIHtcbmNvbnRleHQuYWRkRXhwb3J0KFwiZmlsdGVyX2Fubm90YXRpb25zX3ByZWZpeFwiLCB0XzQpO1xufVxub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0ICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImZpbHRlcl9hbm5vdGF0aW9uc19wcmVmaXhcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0ICAgIDwvZGl2PlxcblxcdFxcdCAgICA8ZGl2PlxcblxcdFxcdFxcdFxcdDxhIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbiBidXR0b24tY29sb3ItcGVvcGxlIHJlc3VsdC1maWx0ZXItYnV0dG9uIHF1aWNrc2VhcmNoLWZpbHRlcmJ1dHRvblxcXCIgZGF0YS1yZXN1bHQtZmlsdGVyLXR5cGU9XFxcInBlb3BsZVxcXCI+XFxuXFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKChsaW5lbm8gPSAxNiwgY29sbm8gPSAyMiwgcnVudGltZS5jYWxsV3JhcChydW50aW1lLm1lbWJlckxvb2t1cCgodF8xKSxcInR5cGVMYWJlbFwiKSwgXCJtYWNyb3NbXFxcInR5cGVMYWJlbFxcXCJdXCIsIGNvbnRleHQsIFtcInBlb3BsZVwiLFwicm91bmRlZC1idXR0b24taW5uZXJcIixydW50aW1lLm1ha2VLZXl3b3JkQXJncyh7XCJ1c2VTdHlsZXNcIjogZmFsc2UsXCJDT1NJTk5VU19UUkFOU1wiOiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIkNPU0lOTlVTX1RSQU5TXCIpfSldKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0PC9hPlxcblxcdFxcdFxcdFxcdDxhIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbiBidXR0b24tY29sb3ItcHJvamVjdHMgcmVzdWx0LWZpbHRlci1idXR0b24gcXVpY2tzZWFyY2gtZmlsdGVyYnV0dG9uXFxcIiBkYXRhLXJlc3VsdC1maWx0ZXItdHlwZT1cXFwicHJvamVjdHNcXFwiPlxcblxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSgobGluZW5vID0gMTksIGNvbG5vID0gMjIsIHJ1bnRpbWUuY2FsbFdyYXAocnVudGltZS5tZW1iZXJMb29rdXAoKHRfMSksXCJ0eXBlTGFiZWxcIiksIFwibWFjcm9zW1xcXCJ0eXBlTGFiZWxcXFwiXVwiLCBjb250ZXh0LCBbXCJwcm9qZWN0c1wiLFwicm91bmRlZC1idXR0b24taW5uZXJcIixydW50aW1lLm1ha2VLZXl3b3JkQXJncyh7XCJ1c2VTdHlsZXNcIjogZmFsc2UsXCJDT1NJTk5VU19UUkFOU1wiOiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIkNPU0lOTlVTX1RSQU5TXCIpfSldKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0PC9hPlxcblxcdFxcdFxcdFxcdDxhIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbiBidXR0b24tY29sb3ItZ3JvdXBzIHJlc3VsdC1maWx0ZXItYnV0dG9uIHF1aWNrc2VhcmNoLWZpbHRlcmJ1dHRvblxcXCIgZGF0YS1yZXN1bHQtZmlsdGVyLXR5cGU9XFxcImdyb3Vwc1xcXCI+XFxuXFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKChsaW5lbm8gPSAyMiwgY29sbm8gPSAyMiwgcnVudGltZS5jYWxsV3JhcChydW50aW1lLm1lbWJlckxvb2t1cCgodF8xKSxcInR5cGVMYWJlbFwiKSwgXCJtYWNyb3NbXFxcInR5cGVMYWJlbFxcXCJdXCIsIGNvbnRleHQsIFtcImdyb3Vwc1wiLFwicm91bmRlZC1idXR0b24taW5uZXJcIixydW50aW1lLm1ha2VLZXl3b3JkQXJncyh7XCJ1c2VTdHlsZXNcIjogZmFsc2UsXCJDT1NJTk5VU19UUkFOU1wiOiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIkNPU0lOTlVTX1RSQU5TXCIpfSldKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0PC9hPlxcblxcdFxcdFxcdFxcdDxhIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbiBidXR0b24tY29sb3ItZXZlbnRzIHJlc3VsdC1maWx0ZXItYnV0dG9uIHF1aWNrc2VhcmNoLWZpbHRlcmJ1dHRvblxcXCIgZGF0YS1yZXN1bHQtZmlsdGVyLXR5cGU9XFxcImV2ZW50c1xcXCI+XFxuXFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKChsaW5lbm8gPSAyNSwgY29sbm8gPSAyMiwgcnVudGltZS5jYWxsV3JhcChydW50aW1lLm1lbWJlckxvb2t1cCgodF8xKSxcInR5cGVMYWJlbFwiKSwgXCJtYWNyb3NbXFxcInR5cGVMYWJlbFxcXCJdXCIsIGNvbnRleHQsIFtcImV2ZW50c1wiLFwicm91bmRlZC1idXR0b24taW5uZXJcIixydW50aW1lLm1ha2VLZXl3b3JkQXJncyh7XCJ1c2VTdHlsZXNcIjogZmFsc2UsXCJDT1NJTk5VU19UUkFOU1wiOiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIkNPU0lOTlVTX1RSQU5TXCIpfSldKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0PC9hPlxcblxcdFxcdFxcdFxcdFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJDT1NJTk5VU19DT05GRVJFTkNFU19FTkFCTEVEXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHQ8YSBjbGFzcz1cXFwicm91bmRlZC1idXR0b24gYnV0dG9uLWNvbG9yLWNvbmZlcmVuY2VzIHJlc3VsdC1maWx0ZXItYnV0dG9uIHF1aWNrc2VhcmNoLWZpbHRlcmJ1dHRvblxcXCIgZGF0YS1yZXN1bHQtZmlsdGVyLXR5cGU9XFxcImNvbmZlcmVuY2VzXFxcIj5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoKGxpbmVubyA9IDI5LCBjb2xubyA9IDIzLCBydW50aW1lLmNhbGxXcmFwKHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzEpLFwidHlwZUxhYmVsXCIpLCBcIm1hY3Jvc1tcXFwidHlwZUxhYmVsXFxcIl1cIiwgY29udGV4dCwgW1wiY29uZmVyZW5jZXNcIixcInJvdW5kZWQtYnV0dG9uLWlubmVyXCIscnVudGltZS5tYWtlS2V5d29yZEFyZ3Moe1widXNlU3R5bGVzXCI6IGZhbHNlLFwiQ09TSU5OVVNfVFJBTlNcIjogcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJDT1NJTk5VU19UUkFOU1wiKX0pXSkpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdDwvYT5cXG5cXHRcXHRcXHRcXHRcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJDT1NJTk5VU19JREVBU19FTkFCTEVEXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHQ8YSBjbGFzcz1cXFwicm91bmRlZC1idXR0b24gYnV0dG9uLWNvbG9yLWlkZWFzIHJlc3VsdC1maWx0ZXItYnV0dG9uIHF1aWNrc2VhcmNoLWZpbHRlcmJ1dHRvblxcXCIgZGF0YS1yZXN1bHQtZmlsdGVyLXR5cGU9XFxcImlkZWFzXFxcIj5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoKGxpbmVubyA9IDM0LCBjb2xubyA9IDIzLCBydW50aW1lLmNhbGxXcmFwKHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzEpLFwidHlwZUxhYmVsXCIpLCBcIm1hY3Jvc1tcXFwidHlwZUxhYmVsXFxcIl1cIiwgY29udGV4dCwgW1wiaWRlYXNcIixcInJvdW5kZWQtYnV0dG9uLWlubmVyXCIscnVudGltZS5tYWtlS2V5d29yZEFyZ3Moe1widXNlU3R5bGVzXCI6IGZhbHNlLFwiQ09TSU5OVVNfVFJBTlNcIjogcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJDT1NJTk5VU19UUkFOU1wiKX0pXSkpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdDwvYT5cXG5cXHRcXHRcXHRcXHRcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiQ09TSU5OVVNfT1JHQU5JWkFUSU9OU19FTkFCTEVEXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPVxcXCJyb3VuZGVkLWJ1dHRvbiBidXR0b24tY29sb3Itb3JnYW5pemF0aW9ucyByZXN1bHQtZmlsdGVyLWJ1dHRvbiBxdWlja3NlYXJjaC1maWx0ZXJidXR0b25cXFwiIGRhdGEtcmVzdWx0LWZpbHRlci10eXBlPVxcXCJvcmdhbml6YXRpb25zXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoKGxpbmVubyA9IDM5LCBjb2xubyA9IDQxLCBydW50aW1lLmNhbGxXcmFwKHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzEpLFwidHlwZUxhYmVsXCIpLCBcIm1hY3Jvc1tcXFwidHlwZUxhYmVsXFxcIl1cIiwgY29udGV4dCwgW1wib3JnYW5pemF0aW9uc1wiLFwicm91bmRlZC1idXR0b24taW5uZXJcIixydW50aW1lLm1ha2VLZXl3b3JkQXJncyh7XCJ1c2VTdHlsZXNcIjogZmFsc2UsXCJDT1NJTk5VU19UUkFOU1wiOiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIkNPU0lOTlVTX1RSQU5TXCIpfSldKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICA8L2E+XFxuICAgICAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0PC9kaXY+XFxuXFx0XFx0PC9kaXY+XFxuXFx0PC9saT5cXG5cXG5cXHRcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicXVlcnlcIikgJiYgZW52LmdldEZpbHRlcihcImxlbmd0aFwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicXVlcnlcIikpID4gMikge1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XCI7XG52YXIgdF81O1xudF81ID0gKGZ1bmN0aW9uKCkge1xudmFyIG91dHB1dCA9IFwiXCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkVudGlyZSBOZXR3b3JrXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XCI7XG47XG5yZXR1cm4gb3V0cHV0O1xufSkoKVxuO1xuZnJhbWUuc2V0KFwiZGVmYXVsdF9hbm5vdGF0aW9uXCIsIHRfNSwgdHJ1ZSk7XG5pZihmcmFtZS50b3BMZXZlbCkge1xuY29udGV4dC5zZXRWYXJpYWJsZShcImRlZmF1bHRfYW5ub3RhdGlvblwiLCB0XzUpO1xufVxuaWYoZnJhbWUudG9wTGV2ZWwpIHtcbmNvbnRleHQuYWRkRXhwb3J0KFwiZGVmYXVsdF9hbm5vdGF0aW9uXCIsIHRfNSk7XG59XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcIjtcbnZhciB0XzY7XG50XzYgPSAoZnVuY3Rpb24oKSB7XG52YXIgb3V0cHV0ID0gXCJcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiT24gdGhlIE1hcFwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFwiO1xuO1xucmV0dXJuIG91dHB1dDtcbn0pKClcbjtcbmZyYW1lLnNldChcIm1hcF9hbm5vdGF0aW9uXCIsIHRfNiwgdHJ1ZSk7XG5pZihmcmFtZS50b3BMZXZlbCkge1xuY29udGV4dC5zZXRWYXJpYWJsZShcIm1hcF9hbm5vdGF0aW9uXCIsIHRfNik7XG59XG5pZihmcmFtZS50b3BMZXZlbCkge1xuY29udGV4dC5hZGRFeHBvcnQoXCJtYXBfYW5ub3RhdGlvblwiLCB0XzYpO1xufVxub3V0cHV0ICs9IFwiXFxuXFx0XFx0XCI7XG52YXIgdF83O1xudF83ID0gKGZ1bmN0aW9uKCkge1xudmFyIG91dHB1dCA9IFwiXCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkluIG15IEdyb3VwcyBhbmQgUHJvamVjdHNcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcIjtcbjtcbnJldHVybiBvdXRwdXQ7XG59KSgpXG47XG5mcmFtZS5zZXQoXCJncm91cHNfYW5ub3RhdGlvblwiLCB0XzcsIHRydWUpO1xuaWYoZnJhbWUudG9wTGV2ZWwpIHtcbmNvbnRleHQuc2V0VmFyaWFibGUoXCJncm91cHNfYW5ub3RhdGlvblwiLCB0XzcpO1xufVxuaWYoZnJhbWUudG9wTGV2ZWwpIHtcbmNvbnRleHQuYWRkRXhwb3J0KFwiZ3JvdXBzX2Fubm90YXRpb25cIiwgdF83KTtcbn1cbm91dHB1dCArPSBcIlxcblxcdFxcdFwiO1xudmFyIHRfODtcbnRfOCA9IChmdW5jdGlvbigpIHtcbnZhciBvdXRwdXQgPSBcIlwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJJbiBteSBDbG91ZCBGaWxlc1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFwiO1xuO1xucmV0dXJuIG91dHB1dDtcbn0pKClcbjtcbmZyYW1lLnNldChcImNsb3VkZmlsZXNfYW5ub3RhdGlvblwiLCB0XzgsIHRydWUpO1xuaWYoZnJhbWUudG9wTGV2ZWwpIHtcbmNvbnRleHQuc2V0VmFyaWFibGUoXCJjbG91ZGZpbGVzX2Fubm90YXRpb25cIiwgdF84KTtcbn1cbmlmKGZyYW1lLnRvcExldmVsKSB7XG5jb250ZXh0LmFkZEV4cG9ydChcImNsb3VkZmlsZXNfYW5ub3RhdGlvblwiLCB0XzgpO1xufVxub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFxuXFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKChsaW5lbm8gPSA2NCwgY29sbm8gPSAxOCwgcnVudGltZS5jYWxsV3JhcChydW50aW1lLm1lbWJlckxvb2t1cCgodF8xKSxcImxpc3RJdGVtXCIpLCBcIm1hY3Jvc1tcXFwibGlzdEl0ZW1cXFwiXVwiLCBjb250ZXh0LCBbcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJxdWVyeVwiKSxydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzZWFyY2hNZXRob2RzXCIpKSxcImRlZmF1bHRcIiksXCJmYS1zZWFyY2hcIixydW50aW1lLm1ha2VLZXl3b3JkQXJncyh7XCJhbm5vdGF0aW9uXCI6IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZGVmYXVsdF9hbm5vdGF0aW9uXCIpLFwiaW5jbHVkZVVuZGVyZHJvcFwiOiB0cnVlfSldKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKChsaW5lbm8gPSA2NSwgY29sbm8gPSAxOCwgcnVudGltZS5jYWxsV3JhcChydW50aW1lLm1lbWJlckxvb2t1cCgodF8xKSxcImxpc3RJdGVtXCIpLCBcIm1hY3Jvc1tcXFwibGlzdEl0ZW1cXFwiXVwiLCBjb250ZXh0LCBbcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJxdWVyeVwiKSxydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzZWFyY2hNZXRob2RzXCIpKSxcIm1hcFwiKSxcImZhLXNlYXJjaFwiLHJ1bnRpbWUubWFrZUtleXdvcmRBcmdzKHtcImFubm90YXRpb25cIjogcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJtYXBfYW5ub3RhdGlvblwiKSxcImluY2x1ZGVVbmRlcmRyb3BcIjogdHJ1ZX0pXSkpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSgobGluZW5vID0gNjYsIGNvbG5vID0gMTgsIHJ1bnRpbWUuY2FsbFdyYXAocnVudGltZS5tZW1iZXJMb29rdXAoKHRfMSksXCJsaXN0SXRlbVwiKSwgXCJtYWNyb3NbXFxcImxpc3RJdGVtXFxcIl1cIiwgY29udGV4dCwgW3J1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicXVlcnlcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic2VhcmNoTWV0aG9kc1wiKSksXCJncm91cHNcIiksXCJmYS1zZWFyY2hcIixydW50aW1lLm1ha2VLZXl3b3JkQXJncyh7XCJhbm5vdGF0aW9uXCI6IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZ3JvdXBzX2Fubm90YXRpb25cIiksXCJpbmNsdWRlVW5kZXJkcm9wXCI6IHRydWV9KV0pKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXG5cXHRcXHRcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiY2xvdWRFbmFibGVkXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoKGxpbmVubyA9IDY5LCBjb2xubyA9IDE5LCBydW50aW1lLmNhbGxXcmFwKHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzEpLFwibGlzdEl0ZW1cIiksIFwibWFjcm9zW1xcXCJsaXN0SXRlbVxcXCJdXCIsIGNvbnRleHQsIFtydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInF1ZXJ5XCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNlYXJjaE1ldGhvZHNcIikpLFwiY2xvdWRmaWxlc1wiKSxcImZhLXNlYXJjaFwiLHJ1bnRpbWUubWFrZUtleXdvcmRBcmdzKHtcImFubm90YXRpb25cIjogcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjbG91ZGZpbGVzX2Fubm90YXRpb25cIiksXCJpbmNsdWRlVW5kZXJkcm9wXCI6IHRydWV9KV0pKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblxcdFxcdFxcblxcdFxcdFwiO1xuZnJhbWUgPSBmcmFtZS5wdXNoKCk7XG52YXIgdF8xMSA9IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwidG9waWNzU2VhcmNoTWV0aG9kc1wiKTtcbmlmKHRfMTEpIHt2YXIgdF85O1xuaWYocnVudGltZS5pc0FycmF5KHRfMTEpKSB7XG52YXIgdF8xMCA9IHRfMTEubGVuZ3RoO1xuZm9yKHRfOT0wOyB0XzkgPCB0XzExLmxlbmd0aDsgdF85KyspIHtcbnZhciB0XzEyID0gdF8xMVt0XzldWzBdXG5mcmFtZS5zZXQoXCJ0b3BpY190aXRsZVwiLCB0XzExW3RfOV1bMF0pO1xudmFyIHRfMTMgPSB0XzExW3RfOV1bMV1cbmZyYW1lLnNldChcInRvcGljX3VybFwiLCB0XzExW3RfOV1bMV0pO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleFwiLCB0XzkgKyAxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXgwXCIsIHRfOSk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4XCIsIHRfMTAgLSB0XzkpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleDBcIiwgdF8xMCAtIHRfOSAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzkgPT09IDApO1xuZnJhbWUuc2V0KFwibG9vcC5sYXN0XCIsIHRfOSA9PT0gdF8xMCAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5sZW5ndGhcIiwgdF8xMCk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcIjtcbnZhciB0XzE0O1xudF8xNCA9IChmdW5jdGlvbigpIHtcbnZhciBvdXRwdXQgPSBcIlwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJUb3BpY1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIjogXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRGaWx0ZXIoXCJzYWZlXCIpLmNhbGwoY29udGV4dCwgdF8xMiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XCI7XG47XG5yZXR1cm4gb3V0cHV0O1xufSkoKVxuO1xuZnJhbWUuc2V0KFwidG9waWNfbGFiZWxcIiwgdF8xNCwgdHJ1ZSk7XG5pZihmcmFtZS50b3BMZXZlbCkge1xuY29udGV4dC5zZXRWYXJpYWJsZShcInRvcGljX2xhYmVsXCIsIHRfMTQpO1xufVxuaWYoZnJhbWUudG9wTGV2ZWwpIHtcbmNvbnRleHQuYWRkRXhwb3J0KFwidG9waWNfbGFiZWxcIiwgdF8xNCk7XG59XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoKGxpbmVubyA9IDc3LCBjb2xubyA9IDE5LCBydW50aW1lLmNhbGxXcmFwKHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzEpLFwibGlzdEl0ZW1cIiksIFwibWFjcm9zW1xcXCJsaXN0SXRlbVxcXCJdXCIsIGNvbnRleHQsIFtlbnYuZ2V0RmlsdGVyKFwic2FmZVwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwidG9waWNfbGFiZWxcIikpLHRfMTMsXCJmYS1maWx0ZXJcIixydW50aW1lLm1ha2VLZXl3b3JkQXJncyh7XCJpbmNsdWRlVW5kZXJkcm9wXCI6IHRydWV9KV0pKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcIjtcbjtcbn1cbn0gZWxzZSB7XG50XzkgPSAtMTtcbnZhciB0XzEwID0gcnVudGltZS5rZXlzKHRfMTEpLmxlbmd0aDtcbmZvcih2YXIgdF8xNSBpbiB0XzExKSB7XG50XzkrKztcbnZhciB0XzE2ID0gdF8xMVt0XzE1XTtcbmZyYW1lLnNldChcInRvcGljX3RpdGxlXCIsIHRfMTUpO1xuZnJhbWUuc2V0KFwidG9waWNfdXJsXCIsIHRfMTYpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleFwiLCB0XzkgKyAxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXgwXCIsIHRfOSk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4XCIsIHRfMTAgLSB0XzkpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleDBcIiwgdF8xMCAtIHRfOSAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzkgPT09IDApO1xuZnJhbWUuc2V0KFwibG9vcC5sYXN0XCIsIHRfOSA9PT0gdF8xMCAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5sZW5ndGhcIiwgdF8xMCk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcIjtcbnZhciB0XzE3O1xudF8xNyA9IChmdW5jdGlvbigpIHtcbnZhciBvdXRwdXQgPSBcIlwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJUb3BpY1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIjogXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRGaWx0ZXIoXCJzYWZlXCIpLmNhbGwoY29udGV4dCwgdF8xNSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XCI7XG47XG5yZXR1cm4gb3V0cHV0O1xufSkoKVxuO1xuZnJhbWUuc2V0KFwidG9waWNfbGFiZWxcIiwgdF8xNywgdHJ1ZSk7XG5pZihmcmFtZS50b3BMZXZlbCkge1xuY29udGV4dC5zZXRWYXJpYWJsZShcInRvcGljX2xhYmVsXCIsIHRfMTcpO1xufVxuaWYoZnJhbWUudG9wTGV2ZWwpIHtcbmNvbnRleHQuYWRkRXhwb3J0KFwidG9waWNfbGFiZWxcIiwgdF8xNyk7XG59XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoKGxpbmVubyA9IDc3LCBjb2xubyA9IDE5LCBydW50aW1lLmNhbGxXcmFwKHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzEpLFwibGlzdEl0ZW1cIiksIFwibWFjcm9zW1xcXCJsaXN0SXRlbVxcXCJdXCIsIGNvbnRleHQsIFtlbnYuZ2V0RmlsdGVyKFwic2FmZVwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwidG9waWNfbGFiZWxcIikpLHRfMTYsXCJmYS1maWx0ZXJcIixydW50aW1lLm1ha2VLZXl3b3JkQXJncyh7XCJpbmNsdWRlVW5kZXJkcm9wXCI6IHRydWV9KV0pKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcIjtcbjtcbn1cbn1cbn1cbmZyYW1lID0gZnJhbWUucG9wKCk7XG5vdXRwdXQgKz0gXCIgXFxuXFxuXFx0XFx0XCI7XG5mcmFtZSA9IGZyYW1lLnB1c2goKTtcbnZhciB0XzIwID0gcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzZGdTZWFyY2hNZXRob2RzXCIpO1xuaWYodF8yMCkge3ZhciB0XzE4O1xuaWYocnVudGltZS5pc0FycmF5KHRfMjApKSB7XG52YXIgdF8xOSA9IHRfMjAubGVuZ3RoO1xuZm9yKHRfMTg9MDsgdF8xOCA8IHRfMjAubGVuZ3RoOyB0XzE4KyspIHtcbnZhciB0XzIxID0gdF8yMFt0XzE4XVswXVxuZnJhbWUuc2V0KFwic2RnX3RpdGxlXCIsIHRfMjBbdF8xOF1bMF0pO1xudmFyIHRfMjIgPSB0XzIwW3RfMThdWzFdXG5mcmFtZS5zZXQoXCJzZGdfdXJsXCIsIHRfMjBbdF8xOF1bMV0pO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleFwiLCB0XzE4ICsgMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4MFwiLCB0XzE4KTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXhcIiwgdF8xOSAtIHRfMTgpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleDBcIiwgdF8xOSAtIHRfMTggLSAxKTtcbmZyYW1lLnNldChcImxvb3AuZmlyc3RcIiwgdF8xOCA9PT0gMCk7XG5mcmFtZS5zZXQoXCJsb29wLmxhc3RcIiwgdF8xOCA9PT0gdF8xOSAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5sZW5ndGhcIiwgdF8xOSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcIjtcbnZhciB0XzIzO1xudF8yMyA9IChmdW5jdGlvbigpIHtcbnZhciBvdXRwdXQgPSBcIlwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJTREdcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCI6IFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RmlsdGVyKFwic2FmZVwiKS5jYWxsKGNvbnRleHQsIHRfMjEpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFwiO1xuO1xucmV0dXJuIG91dHB1dDtcbn0pKClcbjtcbmZyYW1lLnNldChcInNkZ19sYWJlbFwiLCB0XzIzLCB0cnVlKTtcbmlmKGZyYW1lLnRvcExldmVsKSB7XG5jb250ZXh0LnNldFZhcmlhYmxlKFwic2RnX2xhYmVsXCIsIHRfMjMpO1xufVxuaWYoZnJhbWUudG9wTGV2ZWwpIHtcbmNvbnRleHQuYWRkRXhwb3J0KFwic2RnX2xhYmVsXCIsIHRfMjMpO1xufVxub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKChsaW5lbm8gPSA4NSwgY29sbm8gPSAxOSwgcnVudGltZS5jYWxsV3JhcChydW50aW1lLm1lbWJlckxvb2t1cCgodF8xKSxcImxpc3RJdGVtXCIpLCBcIm1hY3Jvc1tcXFwibGlzdEl0ZW1cXFwiXVwiLCBjb250ZXh0LCBbZW52LmdldEZpbHRlcihcInNhZmVcIikuY2FsbChjb250ZXh0LCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNkZ19sYWJlbFwiKSksdF8yMixcImZhLWZpbHRlclwiLHJ1bnRpbWUubWFrZUtleXdvcmRBcmdzKHtcImluY2x1ZGVVbmRlcmRyb3BcIjogdHJ1ZX0pXSkpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFwiO1xuO1xufVxufSBlbHNlIHtcbnRfMTggPSAtMTtcbnZhciB0XzE5ID0gcnVudGltZS5rZXlzKHRfMjApLmxlbmd0aDtcbmZvcih2YXIgdF8yNCBpbiB0XzIwKSB7XG50XzE4Kys7XG52YXIgdF8yNSA9IHRfMjBbdF8yNF07XG5mcmFtZS5zZXQoXCJzZGdfdGl0bGVcIiwgdF8yNCk7XG5mcmFtZS5zZXQoXCJzZGdfdXJsXCIsIHRfMjUpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleFwiLCB0XzE4ICsgMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4MFwiLCB0XzE4KTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXhcIiwgdF8xOSAtIHRfMTgpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleDBcIiwgdF8xOSAtIHRfMTggLSAxKTtcbmZyYW1lLnNldChcImxvb3AuZmlyc3RcIiwgdF8xOCA9PT0gMCk7XG5mcmFtZS5zZXQoXCJsb29wLmxhc3RcIiwgdF8xOCA9PT0gdF8xOSAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5sZW5ndGhcIiwgdF8xOSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcIjtcbnZhciB0XzI2O1xudF8yNiA9IChmdW5jdGlvbigpIHtcbnZhciBvdXRwdXQgPSBcIlwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJTREdcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCI6IFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RmlsdGVyKFwic2FmZVwiKS5jYWxsKGNvbnRleHQsIHRfMjQpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFwiO1xuO1xucmV0dXJuIG91dHB1dDtcbn0pKClcbjtcbmZyYW1lLnNldChcInNkZ19sYWJlbFwiLCB0XzI2LCB0cnVlKTtcbmlmKGZyYW1lLnRvcExldmVsKSB7XG5jb250ZXh0LnNldFZhcmlhYmxlKFwic2RnX2xhYmVsXCIsIHRfMjYpO1xufVxuaWYoZnJhbWUudG9wTGV2ZWwpIHtcbmNvbnRleHQuYWRkRXhwb3J0KFwic2RnX2xhYmVsXCIsIHRfMjYpO1xufVxub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKChsaW5lbm8gPSA4NSwgY29sbm8gPSAxOSwgcnVudGltZS5jYWxsV3JhcChydW50aW1lLm1lbWJlckxvb2t1cCgodF8xKSxcImxpc3RJdGVtXCIpLCBcIm1hY3Jvc1tcXFwibGlzdEl0ZW1cXFwiXVwiLCBjb250ZXh0LCBbZW52LmdldEZpbHRlcihcInNhZmVcIikuY2FsbChjb250ZXh0LCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNkZ19sYWJlbFwiKSksdF8yNSxcImZhLWZpbHRlclwiLHJ1bnRpbWUubWFrZUtleXdvcmRBcmdzKHtcImluY2x1ZGVVbmRlcmRyb3BcIjogdHJ1ZX0pXSkpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFwiO1xuO1xufVxufVxufVxuZnJhbWUgPSBmcmFtZS5wb3AoKTtcbm91dHB1dCArPSBcIiBcXG5cXHRcXHRcXG5cXHRcXHRcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFwiO1xuZnJhbWUgPSBmcmFtZS5wdXNoKCk7XG52YXIgdF8yOSA9IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwicXVpY2tzZWFyY2hSZXN1bHRzXCIpO1xuaWYodF8yOSkge3ZhciB0XzI4ID0gdF8yOS5sZW5ndGg7XG5mb3IodmFyIHRfMjc9MDsgdF8yNyA8IHRfMjkubGVuZ3RoOyB0XzI3KyspIHtcbnZhciB0XzMwID0gdF8yOVt0XzI3XTtcbmZyYW1lLnNldChcIml0ZW1cIiwgdF8zMCk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfMjcgKyAxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXgwXCIsIHRfMjcpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleFwiLCB0XzI4IC0gdF8yNyk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4MFwiLCB0XzI4IC0gdF8yNyAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzI3ID09PSAwKTtcbmZyYW1lLnNldChcImxvb3AubGFzdFwiLCB0XzI3ID09PSB0XzI4IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzI4KTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XCI7XG5pZihydW50aW1lLm1lbWJlckxvb2t1cCgodF8zMCksXCJpY29uXCIpID09IFwiZmEtY2xvdWRcIikge1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKChsaW5lbm8gPSA5MiwgY29sbm8gPSAyMCwgcnVudGltZS5jYWxsV3JhcChydW50aW1lLm1lbWJlckxvb2t1cCgodF8xKSxcImxpc3RJdGVtXCIpLCBcIm1hY3Jvc1tcXFwibGlzdEl0ZW1cXFwiXVwiLCBjb250ZXh0LCBbcnVudGltZS5tZW1iZXJMb29rdXAoKHRfMzApLFwidGV4dFwiKSxydW50aW1lLm1lbWJlckxvb2t1cCgodF8zMCksXCJ1cmxcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMzApLFwiaWNvblwiKSxydW50aW1lLm1ha2VLZXl3b3JkQXJncyh7XCJzdWJ0ZXh0XCI6IHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzMwKSxcInN1YnRleHRcIiksXCJhbm5vdGF0aW9uXCI6IHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzMwKSxcImdyb3VwXCIpLFwiYW5ub3RhdGlvbkljb25cIjogcnVudGltZS5tZW1iZXJMb29rdXAoKHRfMzApLFwiZ3JvdXBfaWNvblwiKSxcImluY2x1ZGVVbmRlcmRyb3BcIjogdHJ1ZX0pXSkpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFwiO1xuO1xufVxuZWxzZSB7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoKGxpbmVubyA9IDk0LCBjb2xubyA9IDIwLCBydW50aW1lLmNhbGxXcmFwKHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzEpLFwibGlzdEl0ZW1cIiksIFwibWFjcm9zW1xcXCJsaXN0SXRlbVxcXCJdXCIsIGNvbnRleHQsIFtydW50aW1lLm1lbWJlckxvb2t1cCgodF8zMCksXCJ0ZXh0XCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzMwKSxcInVybFwiKSxydW50aW1lLm1lbWJlckxvb2t1cCgodF8zMCksXCJpY29uXCIpLHJ1bnRpbWUubWFrZUtleXdvcmRBcmdzKHtcImFubm90YXRpb25cIjogcnVudGltZS5tZW1iZXJMb29rdXAoKHRfMzApLFwiZ3JvdXBcIiksXCJhbm5vdGF0aW9uSWNvblwiOiBydW50aW1lLm1lbWJlckxvb2t1cCgodF8zMCksXCJncm91cF9pY29uXCIpLFwiaW5jbHVkZVVuZGVyZHJvcFwiOiB0cnVlfSldKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcIjtcbjtcbn1cbn1cbmZyYW1lID0gZnJhbWUucG9wKCk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbjwvdWw+XFxuXCI7XG5pZihwYXJlbnRUZW1wbGF0ZSkge1xucGFyZW50VGVtcGxhdGUucm9vdFJlbmRlckZ1bmMoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpO1xufSBlbHNlIHtcbmNiKG51bGwsIG91dHB1dCk7XG59XG59KX0pO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbnJldHVybiB7XG5yb290OiByb290XG59O1xuXG59KSgpO1xufSkoKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gc2hpbShudW5qdWNrcywgZW52LCBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkW1wiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC9uYXZiYXIvcXVpY2tzZWFyY2guaHRtbFwiXSAsIGRlcGVuZGVuY2llcylcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Nvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvbmF2YmFyL3F1aWNrc2VhcmNoLmh0bWxcbi8vIG1vZHVsZSBpZCA9IDQ3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxudmFyIEJhc2VWaWV3ID0gcmVxdWlyZSgndmlld3MvYmFzZS92aWV3Jyk7XG52YXIgdXRpbCA9IHJlcXVpcmUoJ2xpYi91dGlsJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gQmFzZVZpZXcuZXh0ZW5kKHtcbiAgICBcbiAgICAvLyByZWZlcmVuY2UgYmFjayB0byB0aGUgbWFpbiBBcHBcbiAgICBhcHA6IG51bGwsXG4gICAgXG4gICAgdGVtcGxhdGU6IHJlcXVpcmUoJ25hdmJhci9tYWluLW1lbnUnKSxcbiAgICBcbiAgICAvLyBUaGUgRE9NIGV2ZW50cyBzcGVjaWZpYyB0byBhbiBpdGVtLlxuICAgIGV2ZW50czoge1xuICAgIH0sXG4gICAgXG4gICAgZGVmYXVsdHM6IHtcblxuICAgICAgICBzdGF0ZToge1xuICAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gKG9wdGlvbnMsIGFwcCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHNlbGYuYXBwID0gYXBwO1xuICAgICAgICBCYXNlVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHNlbGYsIG9wdGlvbnMpO1xuICAgICAgICAvLyBkZWNvZGUgdGhlIGBjb250ZXh0RGF0YUpTT05gIHRoYXQgZ290IHBhc3NlZCBieSB0aGUgYXBwLmpzIGluaXQgY2FsbCBhcyBIVE1MIGVuY29kZWQgc3RyaW5ncyBcbiAgICAgICAgZm9yICh2YXIgZGF0YWtleSBpbiBzZWxmLm9wdGlvbnMuY29udGV4dERhdGFKU09OKSB7XG4gICAgICAgIFx0c2VsZi5vcHRpb25zW2RhdGFrZXldID0gSlNPTi5wYXJzZSgkKFwiPHRleHRhcmVhLz5cIikuaHRtbChzZWxmLm9wdGlvbnMuY29udGV4dERhdGFKU09OW2RhdGFrZXldKS50ZXh0KCkpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGRhdGFrZXkgaW4gc2VsZi5vcHRpb25zLmNvbnRleHREYXRhKSB7XG4gICAgICAgIFx0c2VsZi5vcHRpb25zW2RhdGFrZXldID0gc2VsZi5vcHRpb25zLmNvbnRleHREYXRhW2RhdGFrZXldO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgIH0sXG5cbiAgICByZW5kZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBCYXNlVmlldy5wcm90b3R5cGUucmVuZGVyLmNhbGwoc2VsZik7XG4gICAgICAgIHV0aWwubG9nKCcqKiogUmVuZGVyZWQgbmF2YmFyIG1haW4gbWVudSEgKioqJylcbiAgICAgICAgJC5jb3Npbm51cy5yZW5kZXJNb21lbnREYXRhRGF0ZSgpO1xuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuICAgIFxuICAgIC8qKiBFeHRlbmQgdGhlIHRlbXBsYXRlIGRhdGEgYnkgdGhlIGNvbnRyb2xWaWV3J3Mgb3B0aW9ucyBhbmQgc3RhdGUgKi9cbiAgICBnZXRUZW1wbGF0ZURhdGE6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB2YXIgZGF0YSA9IEJhc2VWaWV3LnByb3RvdHlwZS5nZXRUZW1wbGF0ZURhdGEuY2FsbChzZWxmKTtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSxcbiAgICBcbiAgICBcbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy9jbGllbnQvdmlld3MvbmF2YmFyL21haW4tbWVudS12aWV3LmpzXG4vLyBtb2R1bGUgaWQgPSA0OFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgbnVuanVja3MgPSByZXF1aXJlKFwibnVuanVja3MvYnJvd3Nlci9udW5qdWNrcy1zbGltXCIpO1xudmFyIGVudjtcbmlmICghbnVuanVja3MuY3VycmVudEVudil7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnYgPSBuZXcgbnVuanVja3MuRW52aXJvbm1lbnQoW10sIHVuZGVmaW5lZCk7XG59IGVsc2Uge1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52O1xufVxudmFyIGNvbmZpZ3VyZSA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi8uLi9udW5qdWNrcy5jb25maWcuanNcIikoZW52KTtcbnZhciBkZXBlbmRlbmNpZXMgPSBudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzIHx8IChudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzID0ge30pO1xuZGVwZW5kZW5jaWVzW1wiaW5jbHVkZS9tYWNyb3MuaHRtbFwiXSA9IHJlcXVpcmUoIFwiaW5jbHVkZS9tYWNyb3MuaHRtbFwiICk7XG5cblxuXG5cbnZhciBzaGltID0gcmVxdWlyZShcIi9ob21lL3Nhc2NoYS9wci9jb3Npbm51cy1jb3JlL25vZGVfbW9kdWxlcy9udW5qdWNrcy1sb2FkZXIvcnVudGltZS1zaGltXCIpO1xuXG5cbihmdW5jdGlvbigpIHsobnVuanVja3MubnVuanVja3NQcmVjb21waWxlZCA9IG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgfHwge30pW1wiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC9uYXZiYXIvbWFpbi1tZW51Lmh0bWxcIl0gPSAoZnVuY3Rpb24oKSB7XG5mdW5jdGlvbiByb290KGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG52YXIgcGFyZW50VGVtcGxhdGUgPSBudWxsO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwicGFzc1Rocm91Z2hcIilbXCJydW5cIl0oY29udGV4dCxydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImkxOG5cIikpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXCI7XG5lbnYuZ2V0VGVtcGxhdGUoXCJpbmNsdWRlL21hY3Jvcy5odG1sXCIsIGZhbHNlLCBcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvbmF2YmFyL21haW4tbWVudS5odG1sXCIsIGZhbHNlLCBmdW5jdGlvbih0XzIsdF8xKSB7XG5pZih0XzIpIHsgY2IodF8yKTsgcmV0dXJuOyB9XG50XzEuZ2V0RXhwb3J0ZWQoZnVuY3Rpb24odF8zLHRfMSkge1xuaWYodF8zKSB7IGNiKHRfMyk7IHJldHVybjsgfVxuY29udGV4dC5zZXRWYXJpYWJsZShcIm1hY3Jvc1wiLCB0XzEpO1xub3V0cHV0ICs9IFwiXFxuXFxuPGRpdiBjbGFzcz1cXFwibWFpbi1tZW51XFxcIj5cXG5cXHQ8ZGl2IGNsYXNzPVxcXCJuYXYtY29sdW1uXFxcIj5cXG5cXHRcXHRcXG5cXHRcXHRcIjtcbmlmKGVudi5nZXRGaWx0ZXIoXCJsZW5ndGhcIikuY2FsbChjb250ZXh0LCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImdyb3Vwc19pbnZpdGVkXCIpKSA+IDApIHtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdDxoMiBjbGFzcz1cXFwiaGVhZGxpbmUgaGVhZGxpbmUtY29uZGVuc2VkXFxcIj5cXG5cXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkludml0YXRpb25zXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiIChcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEZpbHRlcihcImxlbmd0aFwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZ3JvdXBzX2ludml0ZWRcIikpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIilcXG5cXHRcXHRcXHQ8L2gyPlxcblxcdFxcdFxcblxcdFxcdFxcdDx1bCBjbGFzcz1cXFwiaXRlbS1saXN0XFxcIj5cXG5cXHRcXHRcXHRcXHRcIjtcbmZyYW1lID0gZnJhbWUucHVzaCgpO1xudmFyIHRfNiA9IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZ3JvdXBzX2ludml0ZWRcIik7XG5pZih0XzYpIHt2YXIgdF81ID0gdF82Lmxlbmd0aDtcbmZvcih2YXIgdF80PTA7IHRfNCA8IHRfNi5sZW5ndGg7IHRfNCsrKSB7XG52YXIgdF83ID0gdF82W3RfNF07XG5mcmFtZS5zZXQoXCJpdGVtXCIsIHRfNyk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfNCArIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleDBcIiwgdF80KTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXhcIiwgdF81IC0gdF80KTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXgwXCIsIHRfNSAtIHRfNCAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzQgPT09IDApO1xuZnJhbWUuc2V0KFwibG9vcC5sYXN0XCIsIHRfNCA9PT0gdF81IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKChsaW5lbm8gPSAxNCwgY29sbm8gPSAyMSwgcnVudGltZS5jYWxsV3JhcChydW50aW1lLm1lbWJlckxvb2t1cCgodF8xKSxcImxpc3RJdGVtXCIpLCBcIm1hY3Jvc1tcXFwibGlzdEl0ZW1cXFwiXVwiLCBjb250ZXh0LCBbcnVudGltZS5tZW1iZXJMb29rdXAoKHRfNyksXCJ0ZXh0XCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzcpLFwidXJsXCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzcpLFwiaWNvblwiKSxydW50aW1lLm1ha2VLZXl3b3JkQXJncyh7XCJpc19lbXBoYXNpemVkXCI6IHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzcpLFwiaXNfZW1waGFzaXplZFwiKX0pXSkpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFwiO1xuO1xufVxufVxuZnJhbWUgPSBmcmFtZS5wb3AoKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdDwvdWw+XFxuXFx0XFx0XFx0XFxuXFx0XFx0XFx0PGhyPlxcblxcdFxcdFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFxuXFx0XFx0XCI7XG5pZihlbnYuZ2V0RmlsdGVyKFwibGVuZ3RoXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJncm91cF9yZXF1ZXN0c1wiKSkgPiAwKSB7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHQ8aDIgY2xhc3M9XFxcImhlYWRsaW5lIGhlYWRsaW5lLWNvbmRlbnNlZFxcXCI+XFxuXFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJNZW1iZXJzaGlwIFJlcXVlc3RzXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiIChcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJncm91cF9yZXF1ZXN0c19jb3VudFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCIpXFxuXFx0XFx0XFx0PC9oMj5cXG5cXHRcXHRcXG5cXHRcXHRcXHQ8dWwgY2xhc3M9XFxcIml0ZW0tbGlzdFxcXCI+XFxuXFx0XFx0XFx0XFx0XCI7XG5mcmFtZSA9IGZyYW1lLnB1c2goKTtcbnZhciB0XzEwID0gcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJncm91cF9yZXF1ZXN0c1wiKTtcbmlmKHRfMTApIHt2YXIgdF85ID0gdF8xMC5sZW5ndGg7XG5mb3IodmFyIHRfOD0wOyB0XzggPCB0XzEwLmxlbmd0aDsgdF84KyspIHtcbnZhciB0XzExID0gdF8xMFt0XzhdO1xuZnJhbWUuc2V0KFwiaXRlbVwiLCB0XzExKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXhcIiwgdF84ICsgMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4MFwiLCB0XzgpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleFwiLCB0XzkgLSB0XzgpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleDBcIiwgdF85IC0gdF84IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmZpcnN0XCIsIHRfOCA9PT0gMCk7XG5mcmFtZS5zZXQoXCJsb29wLmxhc3RcIiwgdF84ID09PSB0XzkgLSAxKTtcbmZyYW1lLnNldChcImxvb3AubGVuZ3RoXCIsIHRfOSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoKGxpbmVubyA9IDI5LCBjb2xubyA9IDIxLCBydW50aW1lLmNhbGxXcmFwKHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzEpLFwibGlzdEl0ZW1cIiksIFwibWFjcm9zW1xcXCJsaXN0SXRlbVxcXCJdXCIsIGNvbnRleHQsIFtydW50aW1lLm1lbWJlckxvb2t1cCgodF8xMSksXCJ0ZXh0XCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzExKSxcInVybFwiKSxydW50aW1lLm1lbWJlckxvb2t1cCgodF8xMSksXCJpY29uXCIpLHJ1bnRpbWUubWFrZUtleXdvcmRBcmdzKHtcImlzX2VtcGhhc2l6ZWRcIjogcnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTEpLFwiaXNfZW1waGFzaXplZFwiKX0pXSkpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFwiO1xuO1xufVxufVxuZnJhbWUgPSBmcmFtZS5wb3AoKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdDwvdWw+XFxuXFx0XFx0XFx0XFxuXFx0XFx0XFx0PGhyPlxcblxcdFxcdFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXFxuXFx0XFx0XCI7XG5pZihlbnYuZ2V0RmlsdGVyKFwibGVuZ3RoXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb25mZXJlbmNlX3JlcXVlc3RzXCIpKSA+IDApIHtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdDxoMiBjbGFzcz1cXFwiaGVhZGxpbmUgaGVhZGxpbmUtY29uZGVuc2VkXFxcIj5cXG5cXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkNvbmZlcmVuY2UgQXBwbGljYXRpb25zXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiIChcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJjb25mZXJlbmNlX3JlcXVlc3RzX2NvdW50XCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIilcXG5cXHRcXHRcXHQ8L2gyPlxcblxcdFxcdFxcblxcdFxcdFxcdDx1bCBjbGFzcz1cXFwiaXRlbS1saXN0XFxcIj5cXG5cXHRcXHRcXHRcXHRcIjtcbmZyYW1lID0gZnJhbWUucHVzaCgpO1xudmFyIHRfMTQgPSBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImNvbmZlcmVuY2VfcmVxdWVzdHNcIik7XG5pZih0XzE0KSB7dmFyIHRfMTMgPSB0XzE0Lmxlbmd0aDtcbmZvcih2YXIgdF8xMj0wOyB0XzEyIDwgdF8xNC5sZW5ndGg7IHRfMTIrKykge1xudmFyIHRfMTUgPSB0XzE0W3RfMTJdO1xuZnJhbWUuc2V0KFwiaXRlbVwiLCB0XzE1KTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXhcIiwgdF8xMiArIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleDBcIiwgdF8xMik7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4XCIsIHRfMTMgLSB0XzEyKTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXgwXCIsIHRfMTMgLSB0XzEyIC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmZpcnN0XCIsIHRfMTIgPT09IDApO1xuZnJhbWUuc2V0KFwibG9vcC5sYXN0XCIsIHRfMTIgPT09IHRfMTMgLSAxKTtcbmZyYW1lLnNldChcImxvb3AubGVuZ3RoXCIsIHRfMTMpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKChsaW5lbm8gPSA0NCwgY29sbm8gPSAyMSwgcnVudGltZS5jYWxsV3JhcChydW50aW1lLm1lbWJlckxvb2t1cCgodF8xKSxcImxpc3RJdGVtXCIpLCBcIm1hY3Jvc1tcXFwibGlzdEl0ZW1cXFwiXVwiLCBjb250ZXh0LCBbcnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTUpLFwidGV4dFwiKSxydW50aW1lLm1lbWJlckxvb2t1cCgodF8xNSksXCJ1cmxcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTUpLFwiaWNvblwiKSxydW50aW1lLm1ha2VLZXl3b3JkQXJncyh7XCJpc19lbXBoYXNpemVkXCI6IHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzE1KSxcImlzX2VtcGhhc2l6ZWRcIil9KV0pKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcIjtcbjtcbn1cbn1cbmZyYW1lID0gZnJhbWUucG9wKCk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHQ8L3VsPlxcblxcdFxcdFxcdFxcblxcdFxcdFxcdDxocj5cXG5cXHRcXHRcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblxcdFxcdFxcblxcdFxcdDxoMiBjbGFzcz1cXFwiaGVhZGxpbmUgaGVhZGxpbmUtY29uZGVuc2VkXFxcIj5cXG5cXHRcXHRcXHRcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIk15IEdyb3VwcyBhbmQgUHJvamVjdHNcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHQ8L2gyPlxcblxcdFxcdFxcblxcdFxcdDx1bCBjbGFzcz1cXFwiaXRlbS1saXN0XFxcIj5cXG5cXHRcXHRcXHRcIjtcbmlmKGVudi5nZXRGaWx0ZXIoXCJsZW5ndGhcIikuY2FsbChjb250ZXh0LCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImdyb3VwX2NsdXN0ZXJzXCIpKSA+IDApIHtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFwiO1xuZnJhbWUgPSBmcmFtZS5wdXNoKCk7XG52YXIgdF8xOCA9IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZ3JvdXBfY2x1c3RlcnNcIik7XG5pZih0XzE4KSB7dmFyIHRfMTcgPSB0XzE4Lmxlbmd0aDtcbmZvcih2YXIgdF8xNj0wOyB0XzE2IDwgdF8xOC5sZW5ndGg7IHRfMTYrKykge1xudmFyIHRfMTkgPSB0XzE4W3RfMTZdO1xuZnJhbWUuc2V0KFwiY2x1c3RlclwiLCB0XzE5KTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXhcIiwgdF8xNiArIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleDBcIiwgdF8xNik7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4XCIsIHRfMTcgLSB0XzE2KTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXgwXCIsIHRfMTcgLSB0XzE2IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmZpcnN0XCIsIHRfMTYgPT09IDApO1xuZnJhbWUuc2V0KFwibG9vcC5sYXN0XCIsIHRfMTYgPT09IHRfMTcgLSAxKTtcbmZyYW1lLnNldChcImxvb3AubGVuZ3RoXCIsIHRfMTcpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XCI7XG5mcmFtZSA9IGZyYW1lLnB1c2goKTtcbnZhciB0XzIyID0gdF8xOTtcbmlmKHRfMjIpIHt2YXIgdF8yMSA9IHRfMjIubGVuZ3RoO1xuZm9yKHZhciB0XzIwPTA7IHRfMjAgPCB0XzIyLmxlbmd0aDsgdF8yMCsrKSB7XG52YXIgdF8yMyA9IHRfMjJbdF8yMF07XG5mcmFtZS5zZXQoXCJpdGVtXCIsIHRfMjMpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleFwiLCB0XzIwICsgMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4MFwiLCB0XzIwKTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXhcIiwgdF8yMSAtIHRfMjApO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleDBcIiwgdF8yMSAtIHRfMjAgLSAxKTtcbmZyYW1lLnNldChcImxvb3AuZmlyc3RcIiwgdF8yMCA9PT0gMCk7XG5mcmFtZS5zZXQoXCJsb29wLmxhc3RcIiwgdF8yMCA9PT0gdF8yMSAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5sZW5ndGhcIiwgdF8yMSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHRcIjtcbmlmKHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzIzKSxcImhhc21vcmVsaW5rXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHQ8bGk+XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0PGEgY2xhc3M9XFxcImxpc3QtaXRlbSBsaXN0LWl0ZW0tbGlua1xcXCIgaHJlZj1cXFwiI1xcXCIgcm9sZT1cXFwiYnV0dG9uXFxcIiB0aXRsZWRieT1cXFwiLml0ZW0tdGV4dFxcXCI+IFxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdDxkaXYgaWQ9XFxcIm1vcmUtbGluazFcXFwiIGNsYXNzPVxcXCJpdGVtLXRleHRcXFwiPlxcblxcdFxcdFxcdFxcdFxcdFxcdCAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIlNob3cgbW9yZSBQcm9qZWN0cyBvZiB0aGlzIEdyb3VwXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0PC9kaXY+XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0PGE+XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0PC9saT5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcIjtcbjtcbn1cbmVsc2Uge1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKChsaW5lbm8gPSA3MCwgY29sbm8gPSAyMywgcnVudGltZS5jYWxsV3JhcChydW50aW1lLm1lbWJlckxvb2t1cCgodF8xKSxcImxpc3RJdGVtXCIpLCBcIm1hY3Jvc1tcXFwibGlzdEl0ZW1cXFwiXVwiLCBjb250ZXh0LCBbcnVudGltZS5tZW1iZXJMb29rdXAoKHRfMjMpLFwidGV4dFwiKSxydW50aW1lLm1lbWJlckxvb2t1cCgodF8yMyksXCJ1cmxcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMjMpLFwiaWNvblwiKSxydW50aW1lLm1ha2VLZXl3b3JkQXJncyh7XCJpc19lbXBoYXNpemVkXCI6IHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzIzKSxcImlzX2VtcGhhc2l6ZWRcIil9KV0pKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHRcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFwiO1xuO1xufVxufVxuZnJhbWUgPSBmcmFtZS5wb3AoKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcblxcdFxcdFxcdFxcdFxcdFwiO1xuaWYoIXJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImxvb3BcIikpLFwibGFzdFwiKSkge1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XFx0PGxpPlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdDxocj5cXG5cXHRcXHRcXHRcXHRcXHRcXHQ8L2xpPlxcblxcdFxcdFxcdFxcdFxcdFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XCI7XG47XG59XG59XG5mcmFtZSA9IGZyYW1lLnBvcCgpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XCI7XG47XG59XG5lbHNlIHtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdDxsaT5cXG5cXHRcXHRcXHRcXHRcXHQ8c3BhbiBjbGFzcz1cXFwibGlzdC1pdGVtIGxpc3QtaXRlbS1saW5rIG5vLXNlbGVjdFxcXCIgaHJlZj1cXFwiI1xcXCIgcm9sZT1cXFwiYnV0dG9uXFxcIiB0aXRsZWRieT1cXFwiLml0ZW0tdGV4dFxcXCI+IFxcblxcdFxcdFxcdCAgICBcXHRcXHQ8ZGl2IGNsYXNzPVxcXCJpdGVtLXRleHRcXFwiPlxcblxcdFxcdFxcdCAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIllvdSBhcmUgbm90IGluIGFueSBncm91cHMgb3IgcHJvamVjdHMgeWV0XCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0ICAgIFxcdFxcdDwvZGl2PlxcblxcdFxcdFxcdFxcdFxcdDwvc3Bhbj5cXG5cXHRcXHRcXHRcXHQ8L2xpPlxcblxcdFxcdFxcdFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXFx0XFx0PC91bD5cXG5cXHRcXHRcXG5cXHRcXHQ8aHI+XFxuXFx0XFx0XFxuXFx0XFx0PGRpdiBjbGFzcz1cXFwibWFpbi1tZW51LWxpbmtzXFxcIj5cXG5cXHRcXHQgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIkNPU0lOTlVTX1NIT1dfUFJPSkVDVF9BTkRfR1JPVVBfQ1JFQVRFX0JVVFRPTlNcIikpIHtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdDxkaXY+PGEgaHJlZj1cXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZ3JvdXBfYWRkX3VybFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiPlxcblxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiQ3JlYXRlIG5ldyBHcm91cFwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdDwvYT48L2Rpdj5cXG5cXHRcXHRcXHRcXHQ8ZGl2PjxhIGhyZWY9XFxcIlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInByb2plY3RfYWRkX3VybFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiPlxcblxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiQ3JlYXRlIG5ldyBQcm9qZWN0XCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiIFxcblxcdFxcdFxcdFxcdDwvYT48L2Rpdj5cXG5cXHRcXHRcXHRcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdDxkaXY+PGEgaHJlZj1cXFwiL2dyb3Vwcy9cXFwiPlxcblxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiQnJvd3NlIGFsbCBHcm91cHNcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCIgXFxuXFx0XFx0XFx0PC9hPjwvZGl2PlxcblxcdFxcdFxcdDxkaXY+PGEgaHJlZj1cXFwiL3Byb2plY3RzL1xcXCI+XFxuXFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJCcm93c2UgYWxsIFByb2plY3RzXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiIFxcblxcdFxcdFxcdDwvYT48L2Rpdj5cXG5cXHRcXHQ8L2Rpdj5cXG5cXHQ8L2Rpdj5cXG5cXHRcXG5cXHRcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiQ09TSU5OVVNfQ09ORkVSRU5DRVNfRU5BQkxFRFwiKSB8fCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIkNPU0lOTlVTX0lERUFTX0VOQUJMRURcIikgfHwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJDT1NJTk5VU19PUkdBTklaQVRJT05TX0VOQUJMRURcIikpIHtcbm91dHB1dCArPSBcIlxcblxcdDxkaXYgY2xhc3M9XFxcIm5hdi1jb2x1bW5cXFwiPlxcblxcdCAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiQ09TSU5OVVNfQ09ORkVSRU5DRVNfRU5BQkxFRFwiKSkge1xub3V0cHV0ICs9IFwiXFxuXFx0ICAgICAgICA8aDIgY2xhc3M9XFxcImhlYWRsaW5lIGhlYWRsaW5lLWNvbmRlbnNlZFxcXCI+XFxuXFx0XFx0XFx0ICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJDT1NJTk5VU19UUkFOU1wiKSksXCJDT1NJTk5VU19UUkFOU19NWV9DT05GRVJFTkNFU1wiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgICAgIDwvaDI+XFxuXFx0ICAgICAgICBcXG5cXHQgICAgICAgIDx1bCBjbGFzcz1cXFwiaXRlbS1saXN0XFxcIj5cXG5cXHQgICAgICAgICAgICBcIjtcbmlmKGVudi5nZXRGaWx0ZXIoXCJsZW5ndGhcIikuY2FsbChjb250ZXh0LCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm15X2NvbmZlcmVuY2VzXCIpKSkge1xub3V0cHV0ICs9IFwiXFxuXFx0ICAgICAgICAgICAgICAgIFwiO1xuZnJhbWUgPSBmcmFtZS5wdXNoKCk7XG52YXIgdF8yNiA9IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibXlfY29uZmVyZW5jZXNcIik7XG5pZih0XzI2KSB7dmFyIHRfMjUgPSB0XzI2Lmxlbmd0aDtcbmZvcih2YXIgdF8yND0wOyB0XzI0IDwgdF8yNi5sZW5ndGg7IHRfMjQrKykge1xudmFyIHRfMjcgPSB0XzI2W3RfMjRdO1xuZnJhbWUuc2V0KFwiaXRlbVwiLCB0XzI3KTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXhcIiwgdF8yNCArIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleDBcIiwgdF8yNCk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4XCIsIHRfMjUgLSB0XzI0KTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXgwXCIsIHRfMjUgLSB0XzI0IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmZpcnN0XCIsIHRfMjQgPT09IDApO1xuZnJhbWUuc2V0KFwibG9vcC5sYXN0XCIsIHRfMjQgPT09IHRfMjUgLSAxKTtcbmZyYW1lLnNldChcImxvb3AubGVuZ3RoXCIsIHRfMjUpO1xub3V0cHV0ICs9IFwiXFxuXFx0ICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoKGxpbmVubyA9IDEyNiwgY29sbm8gPSAzNywgcnVudGltZS5jYWxsV3JhcChydW50aW1lLm1lbWJlckxvb2t1cCgodF8xKSxcImxpc3RJdGVtXCIpLCBcIm1hY3Jvc1tcXFwibGlzdEl0ZW1cXFwiXVwiLCBjb250ZXh0LCBbcnVudGltZS5tZW1iZXJMb29rdXAoKHRfMjcpLFwidGV4dFwiKSxydW50aW1lLm1lbWJlckxvb2t1cCgodF8yNyksXCJ1cmxcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMjcpLFwiaWNvblwiKSxydW50aW1lLm1ha2VLZXl3b3JkQXJncyh7XCJpc19lbXBoYXNpemVkXCI6IHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzI3KSxcImlzX2VtcGhhc2l6ZWRcIil9KV0pKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgICAgICAgICAgICAgXCI7XG47XG59XG59XG5mcmFtZSA9IGZyYW1lLnBvcCgpO1xub3V0cHV0ICs9IFwiXFxuXFx0ICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbm91dHB1dCArPSBcIlxcblxcdCAgICAgICAgICAgICAgICA8bGk+XFxuXFx0ICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwibGlzdC1pdGVtIGxpc3QtaXRlbS1saW5rIG5vLXNlbGVjdFxcXCIgaHJlZj1cXFwiI1xcXCIgcm9sZT1cXFwiYnV0dG9uXFxcIiB0aXRsZWRieT1cXFwiLml0ZW0tdGV4dFxcXCI+XFxuXFx0ICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiaXRlbS10ZXh0XFxcIj5cXG5cXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIkNPU0lOTlVTX1RSQU5TXCIpKSxcIkNPU0lOTlVTX1RSQU5TX01ZX0NPTkZFUkVOQ0VTX0VNUFRZXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdCAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcblxcdCAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxcblxcdCAgICAgICAgICAgICAgICA8L2xpPiAgICBcXG5cXHRcXHQgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXFx0ICAgICAgICA8L3VsPlxcblxcdCAgICAgICAgICAgIFxcblxcdCAgICAgICAgPGhyPlxcblxcdCAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIkNPU0lOTlVTX1VTRVJfQ0FOX0NSRUFURV9DT05GRVJFTkNFXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcIm1haW4tbWVudS1saW5rc1xcXCI+XFxuXFx0XFx0ICAgICAgICAgICA8ZGl2PjxhIGhyZWY9XFxcIi9jb25mZXJlbmNlcy9hZGQvXFxcIj5cXG5cXHQgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJDT1NJTk5VU19UUkFOU1wiKSksXCJDT1NJTk5VU19UUkFOU19DUkVBVEVfQ09ORkVSRU5DRVwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCIgXFxuXFx0ICAgICAgICAgICAgICAgIDwvYT48L2Rpdj5cXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJtYWluLW1lbnUtbGlua3NcXFwiPlxcbiAgICAgICAgICAgICAgICA8ZGl2PjxhIGhyZWY9XFxcIi9jb25mZXJlbmNlcy9cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIkNPU0lOTlVTX1RSQU5TXCIpKSxcIkNPU0lOTlVTX1RSQU5TX0JST1dTRV9BTExfQ09ORkVSRU5DRVNcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIDwvYT48L2Rpdj5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiQ09TSU5OVVNfT1JHQU5JWkFUSU9OU19FTkFCTEVEXCIpIHx8IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiQ09TSU5OVVNfSURFQVNfRU5BQkxFRFwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgPGhyPlxcbiAgICAgICAgICAgIFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblxcdFxcblxcdFxcdFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJDT1NJTk5VU19PUkdBTklaQVRJT05TX0VOQUJMRURcIikpIHtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdDxoMiBjbGFzcz1cXFwiaGVhZGxpbmUgaGVhZGxpbmUtY29uZGVuc2VkXFxcIj5cXG5cXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIk15IE9yZ2FuaXphdGlvbnNcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHQ8L2gyPlxcblxcdFxcdCAgICA8dWwgY2xhc3M9XFxcIml0ZW0tbGlzdFxcXCI+XFxuXFx0XFx0XFx0XCI7XG5pZihlbnYuZ2V0RmlsdGVyKFwibGVuZ3RoXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJteV9vcmdhbml6YXRpb25zXCIpKSkge1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XCI7XG5mcmFtZSA9IGZyYW1lLnB1c2goKTtcbnZhciB0XzMwID0gcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJteV9vcmdhbml6YXRpb25zXCIpO1xuaWYodF8zMCkge3ZhciB0XzI5ID0gdF8zMC5sZW5ndGg7XG5mb3IodmFyIHRfMjg9MDsgdF8yOCA8IHRfMzAubGVuZ3RoOyB0XzI4KyspIHtcbnZhciB0XzMxID0gdF8zMFt0XzI4XTtcbmZyYW1lLnNldChcIml0ZW1cIiwgdF8zMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfMjggKyAxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXgwXCIsIHRfMjgpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleFwiLCB0XzI5IC0gdF8yOCk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4MFwiLCB0XzI5IC0gdF8yOCAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzI4ID09PSAwKTtcbmZyYW1lLnNldChcImxvb3AubGFzdFwiLCB0XzI4ID09PSB0XzI5IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzI5KTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSgobGluZW5vID0gMTY2LCBjb2xubyA9IDIxLCBydW50aW1lLmNhbGxXcmFwKHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzEpLFwibGlzdEl0ZW1cIiksIFwibWFjcm9zW1xcXCJsaXN0SXRlbVxcXCJdXCIsIGNvbnRleHQsIFtydW50aW1lLm1lbWJlckxvb2t1cCgodF8zMSksXCJ0ZXh0XCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzMxKSxcInVybFwiKSxydW50aW1lLm1lbWJlckxvb2t1cCgodF8zMSksXCJpY29uXCIpLHJ1bnRpbWUubWFrZUtleXdvcmRBcmdzKHtcImlzX2VtcGhhc2l6ZWRcIjogcnVudGltZS5tZW1iZXJMb29rdXAoKHRfMzEpLFwiaXNfZW1waGFzaXplZFwiKX0pXSkpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFwiO1xuO1xufVxufVxuZnJhbWUgPSBmcmFtZS5wb3AoKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFwiO1xuO1xufVxuZWxzZSB7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHQ8bGk+XFxuXFx0XFx0XFx0XFx0XFx0PHNwYW4gY2xhc3M9XFxcImxpc3QtaXRlbSBsaXN0LWl0ZW0tbGluayBuby1zZWxlY3RcXFwiIGhyZWY9XFxcIiNcXFwiIHJvbGU9XFxcImJ1dHRvblxcXCIgdGl0bGVkYnk9XFxcIi5pdGVtLXRleHRcXFwiPlxcblxcdFxcdFxcdFxcdFxcdFxcdDxkaXYgY2xhc3M9XFxcIml0ZW0tdGV4dFxcXCI+XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJZb3UgaGF2ZSBub3QgY3JlYXRlZCBhbnkgb3JnYW5pemF0aW9ucyB5ZXQuXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XFx0PC9kaXY+XFxuXFx0XFx0XFx0XFx0XFx0PC9zcGFuPlxcblxcdFxcdFxcdFxcdDwvbGk+XFxuXFx0XFx0XFx0XCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHQ8L3VsPlxcblxcdFxcdFxcdDxocj5cXG5cXHRcXHRcXHRcXG5cXHRcXHRcXHQ8ZGl2IGNsYXNzPVxcXCJtYWluLW1lbnUtbGlua3NcXFwiPlxcblxcdFxcdFxcdFxcdDxkaXY+PGEgaHJlZj1cXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwib3JnYW5pemF0aW9uX2FkZF91cmxcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxcIj5cXG5cXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkNyZWF0ZSBuZXcgT3JnYW5pemF0aW9uXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiIFxcblxcdFxcdFxcdFxcdDwvYT48L2Rpdj5cXG5cXHRcXHRcXHRcXHQ8ZGl2PjxhIGhyZWY9XFxcIi9vcmdhbml6YXRpb25zL1xcXCI+XFxuXFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJCcm93c2UgYWxsIE9yZ2FuaXphdGlvbnNcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCIgXFxuXFx0XFx0XFx0XFx0PC9hPjwvZGl2PlxcblxcdFxcdFxcdFxcdDxkaXYgc3R5bGU9XFxcImRpc3BsYXk6bm9uZTtcXFwiPjxhIGhyZWY9XFxcIi9tYXAvP3Blb3BsZT1mYWxzZSZldmVudHM9ZmFsc2UmcHJvamVjdHM9ZmFsc2UmZ3JvdXBzPWZhbHNlJmlkZWFzPWZhbHNlJm9yZ2FuaXphdGlvbnM9dHJ1ZVxcXCI+XFxuXFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJTZWFyY2ggZm9yIE9yZ2FuaXphdGlvbnNcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCIgXFxuXFx0XFx0XFx0XFx0PC9hPjwvZGl2PlxcblxcdFxcdFxcdDwvZGl2PlxcblxcdFxcdFxcdFxcblxcdFxcdFxcdFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJDT1NJTk5VU19JREVBU19FTkFCTEVEXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHQ8aHI+XFxuXFx0XFx0XFx0XCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblxcdFxcdFxcblxcdFxcdFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJDT1NJTk5VU19JREVBU19FTkFCTEVEXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHQ8aDIgY2xhc3M9XFxcImhlYWRsaW5lIGhlYWRsaW5lLWNvbmRlbnNlZFxcXCI+XFxuXFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJJZGVhcyBJIGFtIGZvbGxvd2luZ1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdDwvaDI+XFxuXFx0XFx0XFx0XFxuXFx0XFx0XFx0PHVsIGNsYXNzPVxcXCJpdGVtLWxpc3RcXFwiPlxcblxcdFxcdFxcdFxcdFwiO1xuaWYoZW52LmdldEZpbHRlcihcImxlbmd0aFwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZm9sbG93ZWRfaWRlYXNcIikpID4gMCkge1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XCI7XG5mcmFtZSA9IGZyYW1lLnB1c2goKTtcbnZhciB0XzM0ID0gcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJmb2xsb3dlZF9pZGVhc1wiKTtcbmlmKHRfMzQpIHt2YXIgdF8zMyA9IHRfMzQubGVuZ3RoO1xuZm9yKHZhciB0XzMyPTA7IHRfMzIgPCB0XzM0Lmxlbmd0aDsgdF8zMisrKSB7XG52YXIgdF8zNSA9IHRfMzRbdF8zMl07XG5mcmFtZS5zZXQoXCJpdGVtXCIsIHRfMzUpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleFwiLCB0XzMyICsgMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4MFwiLCB0XzMyKTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXhcIiwgdF8zMyAtIHRfMzIpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleDBcIiwgdF8zMyAtIHRfMzIgLSAxKTtcbmZyYW1lLnNldChcImxvb3AuZmlyc3RcIiwgdF8zMiA9PT0gMCk7XG5mcmFtZS5zZXQoXCJsb29wLmxhc3RcIiwgdF8zMiA9PT0gdF8zMyAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5sZW5ndGhcIiwgdF8zMyk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoKGxpbmVubyA9IDIxMCwgY29sbm8gPSAyMiwgcnVudGltZS5jYWxsV3JhcChydW50aW1lLm1lbWJlckxvb2t1cCgodF8xKSxcImxpc3RJdGVtXCIpLCBcIm1hY3Jvc1tcXFwibGlzdEl0ZW1cXFwiXVwiLCBjb250ZXh0LCBbcnVudGltZS5tZW1iZXJMb29rdXAoKHRfMzUpLFwidGV4dFwiKSxydW50aW1lLm1lbWJlckxvb2t1cCgodF8zNSksXCJ1cmxcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMzUpLFwiaWNvblwiKSxydW50aW1lLm1ha2VLZXl3b3JkQXJncyh7XCJpc19lbXBoYXNpemVkXCI6IHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzM1KSxcImlzX2VtcGhhc2l6ZWRcIil9KV0pKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcIjtcbjtcbn1cbn1cbmZyYW1lID0gZnJhbWUucG9wKCk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcIjtcbjtcbn1cbmVsc2Uge1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0PGxpPlxcblxcdFxcdFxcdFxcdFxcdFxcdDxzcGFuIGNsYXNzPVxcXCJsaXN0LWl0ZW0gbGlzdC1pdGVtLWxpbmsgbm8tc2VsZWN0XFxcIiBocmVmPVxcXCIjXFxcIiByb2xlPVxcXCJidXR0b25cXFwiIHRpdGxlZGJ5PVxcXCIuaXRlbS10ZXh0XFxcIj4gXFxuXFx0XFx0XFx0XFx0ICAgIFxcdFxcdDxkaXYgY2xhc3M9XFxcIml0ZW0tdGV4dFxcXCI+XFxuXFx0XFx0XFx0XFx0ICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiWW91IGFyZSBub3QgZm9sbG93aW5nIGFueSBpZGVhcyB5ZXQuXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0ICAgIFxcdFxcdDwvZGl2PlxcblxcdFxcdFxcdFxcdFxcdFxcdDwvc3Bhbj5cXG5cXHRcXHRcXHRcXHRcXHQ8L2xpPlxcblxcdFxcdFxcdFxcdFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0PC91bD5cXG5cXHRcXHRcXHRcXG5cXHRcXHRcXHQ8aHI+XFxuXFx0XFx0XFx0XFxuXFx0XFx0XFx0XCI7XG5pZihlbnYuZ2V0RmlsdGVyKFwibGVuZ3RoXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJteV9pZGVhc1wiKSkpIHtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdDxoMiBjbGFzcz1cXFwiaGVhZGxpbmUgaGVhZGxpbmUtY29uZGVuc2VkXFxcIj5cXG5cXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIk15IElkZWFzXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0PC9oMj5cXG5cXHRcXHRcXHRcXHQ8dWwgY2xhc3M9XFxcIml0ZW0tbGlzdFxcXCI+XFxuXFx0XFx0XFx0XFx0XFx0XCI7XG5mcmFtZSA9IGZyYW1lLnB1c2goKTtcbnZhciB0XzM4ID0gcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJteV9pZGVhc1wiKTtcbmlmKHRfMzgpIHt2YXIgdF8zNyA9IHRfMzgubGVuZ3RoO1xuZm9yKHZhciB0XzM2PTA7IHRfMzYgPCB0XzM4Lmxlbmd0aDsgdF8zNisrKSB7XG52YXIgdF8zOSA9IHRfMzhbdF8zNl07XG5mcmFtZS5zZXQoXCJpdGVtXCIsIHRfMzkpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleFwiLCB0XzM2ICsgMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4MFwiLCB0XzM2KTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXhcIiwgdF8zNyAtIHRfMzYpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleDBcIiwgdF8zNyAtIHRfMzYgLSAxKTtcbmZyYW1lLnNldChcImxvb3AuZmlyc3RcIiwgdF8zNiA9PT0gMCk7XG5mcmFtZS5zZXQoXCJsb29wLmxhc3RcIiwgdF8zNiA9PT0gdF8zNyAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5sZW5ndGhcIiwgdF8zNyk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoKGxpbmVubyA9IDIzMywgY29sbm8gPSAyMiwgcnVudGltZS5jYWxsV3JhcChydW50aW1lLm1lbWJlckxvb2t1cCgodF8xKSxcImxpc3RJdGVtXCIpLCBcIm1hY3Jvc1tcXFwibGlzdEl0ZW1cXFwiXVwiLCBjb250ZXh0LCBbcnVudGltZS5tZW1iZXJMb29rdXAoKHRfMzkpLFwidGV4dFwiKSxydW50aW1lLm1lbWJlckxvb2t1cCgodF8zOSksXCJ1cmxcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMzkpLFwiaWNvblwiKSxydW50aW1lLm1ha2VLZXl3b3JkQXJncyh7XCJpc19lbXBoYXNpemVkXCI6IHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzM5KSxcImlzX2VtcGhhc2l6ZWRcIil9KV0pKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcIjtcbjtcbn1cbn1cbmZyYW1lID0gZnJhbWUucG9wKCk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHQ8L3VsPlxcblxcdFxcdFxcdFxcdDxocj5cXG5cXHRcXHRcXHRcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcblxcdFxcdFxcdDxkaXYgY2xhc3M9XFxcIm1haW4tbWVudS1saW5rc1xcXCI+XFxuXFx0XFx0XFx0XFx0PGRpdj48YSBocmVmPVxcXCJcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJpZGVhX2FkZF91cmxcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxcIj5cXG5cXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIlBvc3QgbmV3IElkZWFcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCIgXFxuXFx0XFx0XFx0XFx0PC9hPjwvZGl2PlxcblxcdFxcdFxcdFxcdDxkaXY+PGEgaHJlZj1cXFwiL2lkZWFzL1xcXCI+XFxuXFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJCcm93c2UgYWxsIElkZWFzXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiIFxcblxcdFxcdFxcdFxcdDwvYT48L2Rpdj5cXG5cXHRcXHRcXHRcXHQ8ZGl2IHN0eWxlPVxcXCJkaXNwbGF5Om5vbmU7XFxcIj48YSBocmVmPVxcXCIvbWFwLz9wZW9wbGU9ZmFsc2UmZXZlbnRzPWZhbHNlJnByb2plY3RzPWZhbHNlJmdyb3Vwcz1mYWxzZSZjb25mZXJlbmNlcz1mYWxzZSZpZGVhcz10cnVlJm9yZ2FuaXphdGlvbnM9ZmFsc2VcXFwiPlxcblxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiU2VhcmNoIGZvciBJZGVhc1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIiBcXG5cXHRcXHRcXHRcXHQ8L2E+PC9kaXY+XFxuXFx0XFx0XFx0PC9kaXY+XFxuXFx0XFx0XCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXG5cXHQ8L2Rpdj5cXG5cXHRcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblxcdFxcblxcdDxkaXYgY2xhc3M9XFxcIm5hdi1jb2x1bW5cXFwiPlxcblxcdFxcdDxoMiBjbGFzcz1cXFwiaGVhZGxpbmUgaGVhZGxpbmUtY29uZGVuc2VkXFxcIj5cXG5cXHRcXHRcXHRcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIk15IEV2ZW50c1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdDwvaDI+XFxuXFx0XFx0XFxuXFx0XFx0PHVsIGNsYXNzPVxcXCJpdGVtLWxpc3RcXFwiPlxcblxcdFxcdFxcdFwiO1xuaWYoZW52LmdldEZpbHRlcihcImxlbmd0aFwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYXR0ZW5kaW5nX2V2ZW50c1wiKSkgPiAwKSB7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcIjtcbmZyYW1lID0gZnJhbWUucHVzaCgpO1xudmFyIHRfNDIgPSBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImF0dGVuZGluZ19ldmVudHNcIik7XG5pZih0XzQyKSB7dmFyIHRfNDEgPSB0XzQyLmxlbmd0aDtcbmZvcih2YXIgdF80MD0wOyB0XzQwIDwgdF80Mi5sZW5ndGg7IHRfNDArKykge1xudmFyIHRfNDMgPSB0XzQyW3RfNDBdO1xuZnJhbWUuc2V0KFwiaXRlbVwiLCB0XzQzKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXhcIiwgdF80MCArIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleDBcIiwgdF80MCk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4XCIsIHRfNDEgLSB0XzQwKTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXgwXCIsIHRfNDEgLSB0XzQwIC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmZpcnN0XCIsIHRfNDAgPT09IDApO1xuZnJhbWUuc2V0KFwibG9vcC5sYXN0XCIsIHRfNDAgPT09IHRfNDEgLSAxKTtcbmZyYW1lLnNldChcImxvb3AubGVuZ3RoXCIsIHRfNDEpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKChsaW5lbm8gPSAyNjcsIGNvbG5vID0gMjEsIHJ1bnRpbWUuY2FsbFdyYXAocnVudGltZS5tZW1iZXJMb29rdXAoKHRfMSksXCJsaXN0SXRlbVwiKSwgXCJtYWNyb3NbXFxcImxpc3RJdGVtXFxcIl1cIiwgY29udGV4dCwgW3J1bnRpbWUubWVtYmVyTG9va3VwKCh0XzQzKSxcInRleHRcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfNDMpLFwidXJsXCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzQzKSxcImljb25cIikscnVudGltZS5tYWtlS2V5d29yZEFyZ3Moe1wic3VidGV4dFwiOiBydW50aW1lLm1lbWJlckxvb2t1cCgodF80MyksXCJzdWJ0ZXh0XCIpLFwiaXNfZW1waGFzaXplZFwiOiBydW50aW1lLm1lbWJlckxvb2t1cCgodF80MyksXCJpc19lbXBoYXNpemVkXCIpfSldKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XCI7XG47XG59XG59XG5mcmFtZSA9IGZyYW1lLnBvcCgpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XCI7XG47XG59XG5lbHNlIHtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdDxsaT5cXG5cXHRcXHRcXHRcXHRcXHQ8c3BhbiBjbGFzcz1cXFwibGlzdC1pdGVtIGxpc3QtaXRlbS1saW5rIG5vLXNlbGVjdFxcXCIgaHJlZj1cXFwiI1xcXCIgcm9sZT1cXFwiYnV0dG9uXFxcIiB0aXRsZWRieT1cXFwiLml0ZW0tdGV4dFxcXCI+IFxcblxcdFxcdFxcdCAgICBcXHRcXHQ8ZGl2IGNsYXNzPVxcXCJpdGVtLXRleHRcXFwiPlxcblxcdFxcdFxcdCAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIllvdSBoYXZlIG5vdCBSU1ZQZWQgdG8gYW55IEV2ZW50cy5cIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHQgICAgXFx0XFx0PC9kaXY+XFxuXFx0XFx0XFx0XFx0XFx0PC9zcGFuPlxcblxcdFxcdFxcdFxcdDwvbGk+XFxuXFx0XFx0XFx0XCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHQ8L3VsPlxcblxcdFxcdFxcblxcdFxcdFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJldmVudF9hZGRfdXJsXCIpIHx8IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZXZlbnRfY2FsZW5kYXJfdXJsXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHQ8aHI+XFxuXFx0XFx0XFx0XFxuXFx0XFx0XFx0PGRpdiBjbGFzcz1cXFwibWFpbi1tZW51LWxpbmtzXFxcIj5cXG5cXHRcXHRcXHQgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImV2ZW50X2FkZF91cmxcIikpIHtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdDxkaXY+PGEgaHJlZj1cXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZXZlbnRfYWRkX3VybFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiPlxcblxcdFxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiQWRkIEV2ZW50XCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiIFxcblxcdFxcdFxcdFxcdFxcdDwvYT48L2Rpdj5cXG5cXHQgICAgICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJldmVudF9jYWxlbmRhcl91cmxcIikpIHtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdDxkaXY+PGEgaHJlZj1cXFwiXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZXZlbnRfY2FsZW5kYXJfdXJsXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCI+XFxuXFx0XFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJHbyB0byBDYWxlbmRhclwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIiBcXG5cXHRcXHRcXHRcXHRcXHQ8L2E+PC9kaXY+XFxuXFx0ICAgICAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHQ8L2Rpdj5cXG5cXHRcXHRcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblxcdFxcdFxcblxcdDwvZGl2PlxcbjwvZGl2PlwiO1xuaWYocGFyZW50VGVtcGxhdGUpIHtcbnBhcmVudFRlbXBsYXRlLnJvb3RSZW5kZXJGdW5jKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKTtcbn0gZWxzZSB7XG5jYihudWxsLCBvdXRwdXQpO1xufVxufSl9KTtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5yZXR1cm4ge1xucm9vdDogcm9vdFxufTtcblxufSkoKTtcbn0pKCk7XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHNoaW0obnVuanVja3MsIGVudiwgbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZFtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvbmF2YmFyL21haW4tbWVudS5odG1sXCJdICwgZGVwZW5kZW5jaWVzKVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC9uYXZiYXIvbWFpbi1tZW51Lmh0bWxcbi8vIG1vZHVsZSBpZCA9IDQ5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxudmFyIERlbGVnYXRlZFdpZGdldFZpZXcgPSByZXF1aXJlKCd2aWV3cy9iYXNlL2RlbGVnYXRlZC13aWRnZXQtdmlldycpO1xudmFyIHV0aWwgPSByZXF1aXJlKCdsaWIvdXRpbCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IERlbGVnYXRlZFdpZGdldFZpZXcuZXh0ZW5kKHtcblxuXHRhcHA6IG51bGwsXG4gICAgdGVtcGxhdGU6IHJlcXVpcmUoJ25hdmJhci9ub3RpZmljYXRpb24td2lkZ2V0JyksXG4gICAgXG4gICAgZmV0Y2hVUkw6ICcvcHJvZmlsZS9hcGkvYWxlcnRzL2dldC8nLCAvLyBvdmVycmlkZGVuIGZvciBzdWJ2aWV3XG4gICAgXG4gICAgLy8gdGhlIG5vdGlmaWNhdGlvbi1zaG93IGJ1dHRvbiBpbiB0aGUgbmF2YmFyXG4gICAgJG5vdGlmaWNhdGlvbkJ1dHRvbkVsOiBudWxsLFxuICAgIFxuICAgIC8vIHRoZSBtZXNzYWdlcy1zaG93IGJ1dHRvbiBpbiB0aGUgbmF2YmFyXG4gICAgJG1lc3NhZ2VzQnV0dG9uRWw6IG51bGwsXG4gICAgXG4gICAgLy8gdGhlIHNldFRpbWVvdXQgb2JqZWN0XG5cdHBvbGxJbnRlcnZhbE9iajogbnVsbCxcblx0XG4gICAgLy8gd2lsbCBiZSBzZXQgdG8gc2VsZi5vcHRpb25zIGR1cmluZyBpbml0aWFsaXphdGlvblxuICAgIGRlZmF1bHRzOiB7XG4gICAgXHRcbiAgICBcdHR5cGU6IG51bGwsIC8vIHRoZSB0eXBlIG9mIHRoZSBjb250ZW50IHRoZSB3aWRnZXQgZGlzcGxheXNcbiAgICBcdGxvYWRNb3JlRW5hYmxlZDogdHJ1ZSwgLy8gd2lkZ2V0IHRlbXBsYXRlIG9wdGlvbnNcbiAgICBcdFxuICAgIFx0cG9sbEludGVydmFsOiA2MDAwMCwgLy8gcG9sbGluZyBpbnRlcnZhbCBpbiBtc1xuICAgIFx0XG4gICAgXHQvLyBmb3IgcmVzdW1lZCBjb25uZWN0aW9ucywgYWZ0ZXIgaG93IG1pbnV0ZXMgb2YgKm5vdCBoYXZpbmcgcG9sbGVkKixcbiAgICBcdC8vIHdpbGwgdGhlIGVudGlyZSB3aWRnZXQgYmUgcmVsb2FkZWQgaW5zdGVhZCBvZiBwb2xsaW5nIG5ldyBkYXRhIFxuICAgIFx0cG9sbFJlc2V0TWludXRlczogNjAsIC8vIHJlc2V0IGludGVydmFsIGluIG1pbnV0ZXNcbiAgICAgICAgXG4gICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgICBuZXdlc3RUaW1lc3RhbXA6IG51bGwsXG4gICAgICAgICAgICB1bnNlZW5Db3VudDogMCxcbiAgICAgICAgICAgIGhhc1VucmVuZGVyZWRJdGVtczogdHJ1ZSxcbiAgICAgICAgICAgIGxhc3RQb2xsRGF0ZTogbnVsbCxcbiAgICAgICAgICAgIG9yaWdpbmFsUGFnZVRpdGxlOiBudWxsLFxuICAgICAgICB9XG4gICAgfSxcbiAgICBcbiAgICAvLyBUaGUgRE9NIGV2ZW50cyBzcGVjaWZpYyB0byBhbiBpdGVtLlxuICAgIGV2ZW50czoge1xuICAgIFx0J2NsaWNrIC5zaG93LW1vcmUnOiAnb25TaG93TW9yZUNsaWNrZWQnLFxuICAgIH0sXG4gICAgXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gKG9wdGlvbnMsIGFwcCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHNlbGYuYXBwID0gYXBwO1xuICAgICAgICBEZWxlZ2F0ZWRXaWRnZXRWaWV3LnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwoc2VsZiwgb3B0aW9ucyk7XG4gICAgICAgIHNlbGYub3B0aW9ucy50eXBlID0gb3B0aW9ucy50eXBlOyAvLyB3b3VsZCBoYXZlIGhhcHBlbmVkIGluIGluaXRpYWxpemUgYWxyZWFkeSBidXQgbGV0J3MgYmUgZXhwbGljaXRcbiAgICAgICAgXG4gICAgICAgIHNlbGYuJG5vdGlmaWNhdGlvbkJ1dHRvbkVsID0gJCgnI25hdmJhci1ub3RpZmljYXRpb25zLWJ1dHRvbicpO1xuICAgICAgICBzZWxmLiRtZXNzYWdlc0J1dHRvbkVsID0gJCgnI25hdmJhci1tZXNzYWdlcy1idXR0b24nKTtcbiAgICAgICAgXG4gICAgICAgIC8vIGV2ZW50cyB0aGF0IGhhdmUgdG8gYmUgZGVmaW5lZCBoZXJlIGJlY2F1c2UgdGhleSBoYXBwZW4gaW4gdGhlIG5vdGlmaWNhdGlvbiBidXR0b246XG4gICAgICAgIHNlbGYuJG5vdGlmaWNhdGlvbkJ1dHRvbkVsLm9uKCdjbGljaycsIHNlbGYudGhpc0NvbnRleHQoc2VsZi5vbk5vdGlmaWNhdGlvbkJ1dHRvbkNsaWNrZWQpKTtcbiAgICAgICAgXG4gICAgICAgIHNlbGYuc3RhdGUub3JpZ2luYWxQYWdlVGl0bGUgPSBkb2N1bWVudC50aXRsZTtcbiAgICB9LFxuICAgIFxuICAgIC8qKiBPdmVycmlkaW5nIGJhc2UgZnVuY3Rpb24gZm9yIHVuaXF1ZSB3aWRnZXQgSUQuICovXG4gICAgZ2V0V2lkZ2V0SWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gJ25vdGlmaWNhdGlvbi13aWRnZXQnO1xuICAgIH0sXG4gICAgXG4gICAgLyoqIE92ZXJyaWRpbmcgcGFyYW1zIGZvciByZXF1ZXN0ICovXG4gICAgZ2V0UGFyYW1zRm9yRmV0Y2hSZXF1ZXN0OiBmdW5jdGlvbihsb2FkT3B0aW9ucykge1xuICAgIFx0dmFyIHNlbGYgPSB0aGlzO1xuICAgIFx0aWYgKHR5cGVvZiBsb2FkT3B0aW9ucyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBsb2FkT3B0aW9ucy5pc1BvbGwgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmxTdWZmaXg6IHNlbGYuc3RhdGUubmV3ZXN0VGltZXN0YW1wLFxuICAgICAgICAgICAgICAgIHVybFBhcmFtczogbnVsbFxuICAgICAgICAgICAgfTtcbiAgICBcdH1cbiAgICBcdHZhciB1cmxQYXJhbXMgPSBudWxsO1xuICAgICAgICBpZiAoc2VsZi5vcHRpb25zLmxvYWRNb3JlRW5hYmxlZCAmJiBzZWxmLnN0YXRlLm9mZnNldFRpbWVzdGFtcCkge1xuICAgICAgICAgICAgdXJsUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgICdvZmZzZXRfdGltZXN0YW1wJzogc2VsZi5zdGF0ZS5vZmZzZXRUaW1lc3RhbXAsXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHVybFN1ZmZpeDogbnVsbCxcbiAgICAgICAgICAgIHVybFBhcmFtczogdXJsUGFyYW1zLFxuICAgICAgICB9XG4gICAgfSxcbiAgICBcbiAgICAvKiogSGFuZGxlcyBkYXRhIHRoYXQgaGFzIGJlZW4gbG9hZGVkLlxuICAgICAgICBXZSBhcmUgKm5vdCogY2FsbGluZyBzdXBlcigpIGhlcmUhICovXG4gICAgaGFuZGxlRGF0YTogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIGRhdGEgPSByZXNwb25zZVsnZGF0YSddO1xuICAgICAgICBcbiAgICAgICAgaWYgKGRhdGEucG9sbGVkX3RpbWVzdGFtcCkge1xuICAgICAgICAgICAgLy8gd2FzIGEgcG9sbCBxdWVyeS4gcHJlcGVuZCBuZXcgaXRlbXMgYmVmb3JlIGV4aXN0aW5nIGl0ZW1zXG4gICAgICAgICAgICBpZiAoZGF0YVsnaXRlbXMnXS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5hZGROZXdlckl0ZW1zKGRhdGFbJ2l0ZW1zJ10pO1xuICAgICAgICAgICAgICAgIHNlbGYuc3RhdGUuaGFzVW5yZW5kZXJlZEl0ZW1zID0gdHJ1ZTsgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoc2VsZi5zdGF0ZS5vZmZzZXRUaW1lc3RhbXApIHtcbiAgICAgICAgICAgIC8vIHdhcyBhIGxvYWQtbW9yZSBxdWVyeS4gYXBwZW5kIG5ldyBpdGVtcyB0byBleGlzdGluZyBpdGVtc1xuICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoc2VsZi53aWRnZXREYXRhWydpdGVtcyddLCBkYXRhWydpdGVtcyddKTtcbiAgICAgICAgICAgIC8vIGFsd2F5cyBzZXQgdHJ1ZSwgc28gd2UgcmUtcmVuZGVyIGFsd2F5cyAobWFrZSB0aGUgbG9hZC1tb3JlIGJ1dHRvbiBkaXNhcHBlYXIgb24gMCBuZXcgaXRlbXMpIFxuICAgICAgICAgICAgc2VsZi5zdGF0ZS5oYXNVbnJlbmRlcmVkSXRlbXMgPSB0cnVlOyBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGZpcnN0IGRhdGEgbG9hZCBxdWVyeSwgc2V0IGRhdGEgYW5kIGluaXQgcG9sbGluZ1xuICAgICAgICAgICAgc2VsZi53aWRnZXREYXRhID0gZGF0YTtcbiAgICAgICAgICAgIHNlbGYuc3RhdGUuaGFzVW5yZW5kZXJlZEl0ZW1zID0gdHJ1ZTtcbiAgICAgICAgICAgIHNlbGYuaW5pdFBvbGwoKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKCFkYXRhLnBvbGxlZF90aW1lc3RhbXAgJiYgc2VsZi5vcHRpb25zLmxvYWRNb3JlRW5hYmxlZCkge1xuICAgICAgICAgICAgaWYgKCdoYXNfbW9yZScgaW4gZGF0YSkge1xuICAgICAgICAgICAgICAgIHNlbGYuc3RhdGUuaGFzTW9yZSA9IGRhdGFbJ2hhc19tb3JlJ107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoJ29mZnNldF90aW1lc3RhbXAnIGluIGRhdGEgJiYgZGF0YVsnb2Zmc2V0X3RpbWVzdGFtcCddKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5zdGF0ZS5vZmZzZXRUaW1lc3RhbXAgPSBkYXRhWydvZmZzZXRfdGltZXN0YW1wJ107XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIGlmIGdpdmVuLCBzZXQgdGhlIHRpbWVzdGFtcCBvZiB0aGUgbmV3ZXN0IGl0ZW0sIGZyb20gd2hpY2ggb24gd2Ugd2lsbCBwb2xsXG4gICAgICAgIGlmIChkYXRhWyduZXdlc3RfdGltZXN0YW1wJ10gIT09IFwidW5kZWZpbmVkXCIgJiYgZGF0YVsnbmV3ZXN0X3RpbWVzdGFtcCddKSB7XG4gICAgICAgICAgICBzZWxmLnN0YXRlLm5ld2VzdFRpbWVzdGFtcCA9IGRhdGFbJ25ld2VzdF90aW1lc3RhbXAnXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY291bnRlck51bWJlcnMgPSBmYWxzZTtcbiAgICAgICAgaWYgKGRhdGFbJ3Vuc2Vlbl9jb3VudCddICE9PSBcInVuZGVmaW5lZFwiICYmIGRhdGFbJ3Vuc2Vlbl9jb3VudCddID49IDApIHtcbiAgICAgICAgICAgIHNlbGYuc3RhdGUudW5zZWVuQ291bnQgPSBkYXRhWyd1bnNlZW5fY291bnQnXTtcbiAgICAgICAgICAgIGNvdW50ZXJOdW1iZXJzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YVsndW5yZWFkX21lc3NhZ2VzX2NvdW50J10gIT09IFwidW5kZWZpbmVkXCIgJiYgZGF0YVsndW5yZWFkX21lc3NhZ2VzX2NvdW50J10gPj0gMCkge1xuICAgICAgICAgICAgc2VsZi5zdGF0ZS51bnJlYWRNZXNzYWdlc0NvdW50ID0gZGF0YVsndW5yZWFkX21lc3NhZ2VzX2NvdW50J107XG4gICAgICAgICAgICBjb3VudGVyTnVtYmVycyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvdW50ZXJOdW1iZXJzID09IHRydWUpIHtcbiAgICAgICAgICAgIHNlbGYuYWZ0ZXJSZW5kZXIoKTtcbiAgICAgICAgICAgIHNlbGYudXBkYXRlUGFnZVRpdGxlKCk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIFxuICAgIC8qKiBQcmVwZW5kcyB0aGUgZ2l2ZW4gaXRlbXMgdG8gdGhlIGV4aXN0aW5nIGl0ZW1zLCBlZy4gYWZ0ZXIgYSBwb2xsIGV2ZW50LlxuICAgICAgICBUaGlzIHdpbGwgcmVtb3ZlIGFueSBleGlzdGluZyBpdGVtcyB3aXRoIHRoZSBzYW1lIGlkIGFzIGFueSBvZiB0aGUgbmV3IGl0ZW1zXG4gICAgICAgIChpbiB0aGlzIGNhc2UgdGhleSB3ZXJlIHJlZnJlc2hlZCBvbiB0aGUgc2VydmVyKSAqL1xuICAgIGFkZE5ld2VySXRlbXM6IGZ1bmN0aW9uIChpdGVtcykge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBvbGRJdGVtcyA9IHNlbGYud2lkZ2V0RGF0YVsnaXRlbXMnXTtcbiAgICAgICAgLy8gcmVtb3ZlIHNhbWUtaWQgb2xkIGl0ZW1zXG4gICAgICAgIGZvciAodmFyIGk9b2xkSXRlbXMubGVuZ3RoLTE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICB2YXIgb2xkSXRlbUlkID0gb2xkSXRlbXNbaV0uaWQ7XG4gICAgICAgICAgICB2YXIgY29udGFpbmVkID0gZmFsc2U7XG4gICAgICAgICAgICBmb3IgKHZhciBqPTA7IGogPCBpdGVtcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGlmIChpdGVtc1tqXS5pZCA9PSBvbGRJdGVtSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbnRhaW5lZCkge1xuICAgICAgICAgICAgICAgIG9sZEl0ZW1zLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIH0gICAgICAgICAgICBcbiAgICAgICAgfVxuICAgICAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShpdGVtcywgb2xkSXRlbXMpXG4gICAgICAgIHNlbGYud2lkZ2V0RGF0YVsnaXRlbXMnXSA9IGl0ZW1zO1xuICAgIH0sXG4gICAgXG4gICAgLyoqIEluaXRpYWxpemUgcG9sbGluZyAqL1xuICAgIGluaXRQb2xsOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgaWYgKHNlbGYucG9sbEludGVydmFsT2JqID09IG51bGwpIHtcbiAgICAgICAgICAgIHNlbGYucG9sbEludGVydmFsT2JqID0gc2V0VGltZW91dChzZWxmLnRoaXNDb250ZXh0KHNlbGYucG9sbEZ1bmN0aW9uKSwgc2VsZi5vcHRpb25zLnBvbGxJbnRlcnZhbCk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIFxuICAgIC8qKiBUYXJnZXQgaW50ZXJ2YWwgZnVuY3Rpb24gZm9yIGVhY2ggcG9sbCAqL1xuICAgIHBvbGxGdW5jdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciByZWxvYWQgPSBmYWxzZTtcbiAgICAgICAgLy8gZmluZCBvdXQgaWYgdGhpcyB3aW5kb3cgaGFzIGJlZW4gYSBsb25nIHRpbWUgc2luY2UgbGFzdCBwb2xsLFxuICAgICAgICAvLyBhbmQgaWYgc28sIHJlbG9hZCB0aGUgd2lkZ2V0IGluc3RlYWQgb2YgcG9sbGluZ1xuICAgICAgICBpZiAoc2VsZi5zdGF0ZS5sYXN0UG9sbERhdGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBkaWZmID0gTWF0aC5hYnMoc2VsZi5zdGF0ZS5sYXN0UG9sbERhdGUgLSBuZXcgRGF0ZSgpKTtcbiAgICAgICAgICAgIHZhciBtaW51dGVzID0gTWF0aC5mbG9vcigoZGlmZi8xMDAwKS82MCk7XG4gICAgICAgICAgICByZWxvYWQgPSBtaW51dGVzID49IHNlbGYub3B0aW9ucy5wb2xsUmVzZXRNaW51dGVzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZWxvYWQpIHtcbiAgICAgICAgICAgIHNlbGYucmVsb2FkV2lkZ2V0KCk7ICBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHJldHJpZXZlIG5ldyBpdGVtcy4gaWYgYW55LCBzZWxmLmhhbmRsZURhdGEoKSB3aWxsIGhhbmRsZSB0aGUgcG9sbCBkaWZmZXJlbnRseVxuICAgICAgICAgICAgc2VsZi5sb2FkKHtcbiAgICAgICAgICAgICAgICAnaXNQb2xsJzogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzZWxmLnN0YXRlLmxhc3RQb2xsRGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAvLyByZW5ldyBwb2xsXG4gICAgICAgICAgICBzZWxmLnBvbGxJbnRlcnZhbE9iaiA9IHNldFRpbWVvdXQoc2VsZi50aGlzQ29udGV4dChzZWxmLnBvbGxGdW5jdGlvbiksIHNlbGYub3B0aW9ucy5wb2xsSW50ZXJ2YWwpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBcbiAgICAvKiogU3RvcHMgcG9sbGluZyAqL1xuICAgIHN0b3BQb2xsOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgY2xlYXJUaW1lb3V0KHNlbGYucG9sbEludGVydmFsT2JqKTtcbiAgICAgICAgc2VsZi5wb2xsSW50ZXJ2YWxPYmogPSBudWxsO1xuICAgIH0sXG4gICAgXG4gICAgLyoqIFJlbG9hZHMgdGhlIGVudGlyZSB3aWRnZXQgYW5ldywgd2l0aCBmcmVzaCBkYXRhICovXG4gICAgcmVsb2FkV2lkZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgc2VsZi5zdG9wUG9sbCgpO1xuICAgICAgICBzZWxmLnN0YXRlLm9mZnNldFRpbWVzdGFtcCA9IG51bGw7ICBcbiAgICAgICAgc2VsZi5zdGF0ZS5uZXdlc3RUaW1lc3RhbXAgPSBudWxsO1xuICAgICAgICBzZWxmLnN0YXRlLnVuc2VlbkNvdW50ID0gMDtcbiAgICAgICAgc2VsZi5zdGF0ZS51bnJlYWRNZXNzYWdlc0NvdW50ID0gMDtcbiAgICAgICAgc2VsZi5zdGF0ZS5sYXN0UG9sbERhdGUgPSBudWxsO1xuICAgICAgICBzZWxmLmxvYWQoKTtcbiAgICB9LFxuICAgIFxuICAgIHJlbmRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIFxuICAgICAgICAvLyBvbmx5IHJlbmRlciBpdGVtcyBpZiB3ZSBoYXZlIHVucmVuZGVyZWQgaXRlbXMgKGllLiBub3Qgb24gYSBwb2xsIHdpdGggMCBuZXcgaXRlbXMpXG4gICAgICAgIGlmIChzZWxmLnN0YXRlLmhhc1VucmVuZGVyZWRJdGVtcykge1xuICAgICAgICAgICAgc2VsZi5zdGF0ZS5oYXNVbnJlbmRlcmVkSXRlbXMgPSBmYWxzZTtcbiAgICAgICAgICAgIERlbGVnYXRlZFdpZGdldFZpZXcucHJvdG90eXBlLnJlbmRlci5jYWxsKHNlbGYpO1xuICAgICAgICAgICAgdXRpbC5sb2coJyMgIyMgUmVuZGVyZWQgbm90aWZpY2F0aW9uIHdpZGdldCAnICsgc2VsZi53aWRnZXRJZCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcGlnZ3liYWNraW5nIG9uIHRoaXMgcG9sbCwgd2UgcmVmcmVzaCB0aGUgbW9tZW50IGRhdGVzIG9uIHRoZSBlbnRpcmUgcGFnZSFcbiAgICAgICAgJC5jb3Npbm51cy5yZW5kZXJNb21lbnREYXRhRGF0ZSgpO1xuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuICAgIFxuICAgIGFmdGVyUmVuZGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgLy8gdXBkYXRlIG91dC1vZi1mcmFtZSBlbGVtZW50c1xuICAgICAgICBpZiAoc2VsZi5zdGF0ZS51bnNlZW5Db3VudCAmJiBzZWxmLnN0YXRlLnVuc2VlbkNvdW50ID4gMCkge1xuICAgICAgICAgICAgc2VsZi4kbm90aWZpY2F0aW9uQnV0dG9uRWwuZmluZCgnLm1lc3NhZ2UtY291bnRlcicpLnRleHQoc2VsZi5zdGF0ZS51bnNlZW5Db3VudCkuc2hvdygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2VsZi4kbm90aWZpY2F0aW9uQnV0dG9uRWwuZmluZCgnLm1lc3NhZ2UtY291bnRlcicpLmhpZGUoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VsZi5zdGF0ZS51bnJlYWRNZXNzYWdlc0NvdW50ICYmIHNlbGYuc3RhdGUudW5yZWFkTWVzc2FnZXNDb3VudCA+IDApIHtcbiAgICAgICAgICAgIHNlbGYuJG1lc3NhZ2VzQnV0dG9uRWwuZmluZCgnLm1lc3NhZ2UtY291bnRlcicpLnRleHQoc2VsZi5zdGF0ZS51bnJlYWRNZXNzYWdlc0NvdW50KS5zaG93KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZWxmLiRtZXNzYWdlc0J1dHRvbkVsLmZpbmQoJy5tZXNzYWdlLWNvdW50ZXInKS5oaWRlKCk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIFxuICAgIC8qKiBFeHRlbmQgdGhlIHRlbXBsYXRlIGRhdGEgYnkgdGhlIGNvbnRyb2xWaWV3J3Mgb3B0aW9ucyBhbmQgc3RhdGUgKi9cbiAgICBnZXRUZW1wbGF0ZURhdGE6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB2YXIgZGF0YSA9IERlbGVnYXRlZFdpZGdldFZpZXcucHJvdG90eXBlLmdldFRlbXBsYXRlRGF0YS5jYWxsKHNlbGYpO1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9LFxuICAgIFxuICAgIC8qKiBGaXJlZCB3aGVuIHRoZSBuYXZiYXIgbm90aWZpY2F0aW9uIGJ1dHRvbiBpcyBjbGlja2VkICovXG4gICAgb25Ob3RpZmljYXRpb25CdXR0b25DbGlja2VkOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy4kbm90aWZpY2F0aW9uQnV0dG9uRWwuaGFzQ2xhc3MoJ2NvbGxhcHNlZCcpKSB7XG4gICAgICAgICAgICAvLyBmaXJlZCBvbmx5IHdoZW4gdGhlIG1lbnUgaXMgb3BlbmVkXG4gICAgICAgICAgICBpZiAoc2VsZi5zdGF0ZS5uZXdlc3RUaW1lc3RhbXApIHtcbiAgICAgICAgICAgICAgICBzZWxmLm1hcmtTZWVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gXG4gICAgfSxcbiAgICBcbiAgICAvKiogUG9zdHMgdG8gdGhlIHNlcnZlciwgc2V0cyBhbGwgYWxlcnRzIG9sZGVyIHRoYW4gdGhlIG5ld2VzdCBkaXNwbGF5ZWQgYXMgc2VlbiBvbiB0aGUgc2VydmVyICovXG4gICAgbWFya1NlZW46IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciB1cmwgPSAnL3Byb2ZpbGUvYXBpL2FsZXJ0cy9tYXJrc2Vlbi8nICsgc2VsZi5zdGF0ZS5uZXdlc3RUaW1lc3RhbXAgKyAnLyc7XG4gICAgICAgICQuYWpheCh1cmwsIHtcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgIHRpbWVvdXQ6IDE1MDAwLFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlLCB0ZXh0U3RhdHVzLCB4aHIpIHtcbiAgICAgICAgICAgICAgICBzZWxmLm1hcmtTZWVuTG9jYWwoKTtcbiAgICAgICAgICAgICAgICB1dGlsLmxvZygnU3VjY2Vzc2Z1bGx5IG1hcmtlZCBhcyBzZWVuIScpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCB0ZXh0U3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgLy8gbWFya2luZyBzZWVuIGV2ZW4gaWYgaXQgd2Fzbid0IHBlcnNpc3RlZCAoZXZlbiBtb3JlIGFubm95aW5nIGlmIG5vdClcbiAgICAgICAgICAgICAgICBzZWxmLm1hcmtTZWVuTG9jYWwoKTsgXG4gICAgICAgICAgICAgICAgdXRpbC5sb2coJ0Vycm9yIGR1cmluZyBtYXJraW5nIGFzIHNlZW4hJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKiogUmVtb3ZlcyB0aGUgbm90aWZpY2F0aW9uIGJ1dHRvbiB1bnNlZW4gbnVtYmVyIGJhZGdlLCBpbiBsb2NhbCBmcm9udGVuZCBvbmx5LiAqLyAgICBcbiAgICBtYXJrU2VlbkxvY2FsOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzOyAgXG4gICAgICAgIHNlbGYuc3RhdGUudW5zZWVuQ291bnQgPSAwO1xuICAgICAgICBzZWxmLmFmdGVyUmVuZGVyKCk7XG4gICAgICAgIHNlbGYudXBkYXRlUGFnZVRpdGxlKCk7XG4gICAgfSxcbiAgICBcbiAgICAvKiogVXBkYXRlcyB0aGUgcGFnZSB0aXRsZSBieSBwcmVmaXhpbmcgYSAoMykgdW5yZWFkIGNvdW50ZXIgdG8gaXQgKi9cbiAgICB1cGRhdGVQYWdlVGl0bGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciB1bnNlZW5QcmVmaXggPSAnJztcbiAgICAgICAgdmFyIHRvdGFsQ291bnQgPSBzZWxmLnN0YXRlLnVuc2VlbkNvdW50ICsgc2VsZi5zdGF0ZS51bnJlYWRNZXNzYWdlc0NvdW50O1xuICAgICAgICBcbiAgICAgICAgaWYgKHRvdGFsQ291bnQgPiAwKSB7XG4gICAgICAgICAgICB1bnNlZW5QcmVmaXggPSAnKCcgKyB0b3RhbENvdW50ICsgJykgJztcbiAgICAgICAgfVxuICAgICAgICBkb2N1bWVudC50aXRsZSA9IHVuc2VlblByZWZpeCArIHNlbGYuc3RhdGUub3JpZ2luYWxQYWdlVGl0bGU7ICBcbiAgICB9LFxuXG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29zaW5udXMvY2xpZW50L3ZpZXdzL25hdmJhci9ub3RpZmljYXRpb24td2lkZ2V0LXZpZXcuanNcbi8vIG1vZHVsZSBpZCA9IDUwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxudmFyIEJhc2VWaWV3ID0gcmVxdWlyZSgndmlld3MvYmFzZS92aWV3Jyk7XG52YXIgdXRpbCA9IHJlcXVpcmUoJ2xpYi91dGlsJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gQmFzZVZpZXcuZXh0ZW5kKHtcbiAgICBcbiAgICAvLyByZWZlcmVuY2UgYmFjayB0byB0aGUgbWFpbiBBcHBcbiAgICBBcHA6IG51bGwsXG4gICAgXG4gICAgZmV0Y2hVUkw6IG51bGwsIC8vIHRvIGJlIG92ZXJyaWRkZW4gaW4gc3ViY2xhc3NcblxuICAgIHdpZGdldElkOiBudWxsLCAvLyBzZXQgYXQgaW5pdGlhbGl6YXRpb25cbiAgICB3aWRnZXREYXRhOiB7fSxcbiAgICBcbiAgICAvLyB3aWxsIGJlIHNldCB0byBzZWxmLm9wdGlvbnMgZHVyaW5nIGluaXRpYWxpemF0aW9uXG4gICAgZGVmYXVsdHM6IHtcbiAgICBcdFxuICAgIFx0aXNNb3ZhYmxlOiBmYWxzZSwgLy8gd2lkZ2V0IHRlbXBsYXRlIG9wdGlvbnNcbiAgICBcdGlzSGlkYWJsZTogZmFsc2UsIC8vIHdpZGdldCB0ZW1wbGF0ZSBvcHRpb25zXG4gICAgXHRsb2FkTW9yZUVuYWJsZWQ6IGZhbHNlLCAvLyB3aWRnZXQgdGVtcGxhdGUgb3B0aW9uc1xuICAgIFx0XG4gICAgICAgIHN0YXRlOiB7XG4gICAgICAgIFx0c29ydEluZGV4OiAwLFxuICAgICAgICBcdGhhc01vcmU6IGZhbHNlLFxuICAgIFx0XHRvZmZzZXRUaW1lc3RhbXA6IG51bGwsXG4gICAgICAgIH1cbiAgICB9LFxuICAgIFxuICAgIC8vIFlvdSB3aWxsIG5lZWQgdG8gYWRkIHRoZXNlIGV2ZW50cyB0byBleHRlbmRpbmcgd2lkZ2V0IHZpZXdzIGFzIHdlbGwhXG4gICAgZXZlbnRzOiB7XG4gICAgXHQnY2xpY2sgLnNob3ctbW9yZSc6ICdvblNob3dNb3JlQ2xpY2tlZCcsXG4gICAgfSxcblxuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIChvcHRpb25zLCBhcHApIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBzZWxmLmFwcCA9IGFwcDtcbiAgICAgICAgQmFzZVZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbChzZWxmLCBvcHRpb25zKTtcbiAgICAgICAgc2VsZi53aWRnZXRJZCA9IHNlbGYuZ2V0V2lkZ2V0SWQoKTtcbiAgICB9LFxuICAgIFxuICAgIC8qKiBcbiAgICAgKiBTZXQgdGhlIHVuaXF1ZSB3aWRnZXQgSUQgZm9yIHRoaXMgd2lkZ2V0LlxuICAgICAqIFN0dWIgdG8gYmUgb3ZlcnJpZGRlbi4gXG4gICAgICogICovXG4gICAgZ2V0V2lkZ2V0SWQ6IGZ1bmN0aW9uKCkge1xuICAgIFx0YWxlcnQoJ0ltcHJvcGVybHlJbXBsZW1lbnRlZDogdGhpcyB2aWV3IG11c3QgaW1wbGVtZW50IHRoZSBmdW5jdGlvbiBcInNldFdpZGdldElkXCIhJyk7XG4gICAgfSxcbiAgICBcbiAgICAvKiogXG4gICAgICogIEdldCBhbGwgcGFyYW1zIHJlcXVpcmVkIGZvciB0aGUgZmV0Y2ggb2Ygd2lkZ2V0IGRhdGEgdG8gdGhlIFVSTCBgc2VsZi5mZXRjaFVSTGBcbiAgICAgKiAgU3R1YiB0byBiZSBvdmVycmlkZGVuLlxuICAgICAqICAqL1xuICAgIGdldFBhcmFtc0ZvckZldGNoUmVxdWVzdDogZnVuY3Rpb24oKSB7XG4gICAgXHR2YXIgc2VsZiA9IHRoaXM7XG4gICAgXHR2YXIgdXJsUGFyYW1zID0ge307XG4gICAgXHRpZiAoc2VsZi5vcHRpb25zLmxvYWRNb3JlRW5hYmxlZCAmJiBzZWxmLnN0YXRlLm9mZnNldFRpbWVzdGFtcCkge1xuICAgIFx0XHR1cmxQYXJhbXMgPSB7XG5cdFx0XHRcdCdvZmZzZXRfdGltZXN0YW1wJzogc2VsZi5zdGF0ZS5vZmZzZXRUaW1lc3RhbXAsXG5cdFx0XHRcdCdwYWdlX3NpemUnOiA1LFxuICAgIFx0XHR9XG4gICAgXHR9XG4gICAgXHRyZXR1cm4ge1xuICAgIFx0XHR1cmxTdWZmaXg6IG51bGwsXG4gICAgXHRcdHVybFBhcmFtczogdXJsUGFyYW1zLFxuICAgIFx0fVxuICAgIH0sXG4gICAgICAgXG4gICAgLyoqXG4gICAgICogTG9hZHMgdGhlIGNvbnRlbnRzIGZvciB0aGlzIHdpZGdldCBmcm9tIGBzZWxmLmZldGNoVXJsYCwgc2V0cyB0aGVtIGFzIGRhdGEgZm9yIHRoaXMgdmlldyBhbmRcbiAgICAgKiByZW5kZXJzIHRoZSB3aWRnZXQuXG4gICAgICogXG4gICAgICogUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgYWZ0ZXIgdGhlIGNoYWluIGNvbXBsZXRlcyBvciBhbiBlcnJvciBvY2N1cmVkIFxuICAgICAqICh0aGUgd2lkZ2V0IHNob3dzIGFuIGVycm9yIG1lc3NhZ2UgdGhlbikuIE5ldmVyIHJlamVjdHMuXG4gICAgICovXG4gICAgbG9hZDogZnVuY3Rpb24obG9hZE9wdGlvbnMpIHtcbiAgICBcdHZhciBzZWxmID0gdGhpcztcbiAgICBcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICBcdFx0c2VsZi5sb2FkRGF0YShsb2FkT3B0aW9ucylcblx0ICAgIFx0XHQudGhlbihzZWxmLnRoaXNDb250ZXh0KHNlbGYucmVuZGVyKSlcblx0ICAgIFx0XHQudGhlbihmdW5jdGlvbigpe1xuXHQgICAgXHRcdFx0dXRpbC5sb2coJyMgIyMjIGxvYWRlZCBhbmQgcmVzb2x2aW5nIHdpZGdldCAnICsgc2VsZi53aWRnZXRJZCk7XG5cdCAgICBcdFx0XHRyZXNvbHZlKCk7XG5cdCAgICBcdFx0fSk7XG4gICAgXHR9KTtcbiAgICB9LFxuICAgIFxuICAgIGxvYWREYXRhOiBmdW5jdGlvbihsb2FkT3B0aW9ucykge1xuICAgIFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblx0XHRcdHNlbGYuc3RhdGVbJ2hhZEVycm9ycyddID0gZmFsc2U7XG5cdFx0XHRzZWxmLnN0YXRlWydlcnJvclJlc3BvbnNlVGV4dCddID0gbnVsbDtcblx0XHRcdFxuXHRcdFx0Ly8gYnVpbGQgVVJMXG5cdFx0XHR2YXIgcGFyYW1zID0gc2VsZi5nZXRQYXJhbXNGb3JGZXRjaFJlcXVlc3QobG9hZE9wdGlvbnMpO1xuXHRcdFx0dmFyIHVybCA9IHNlbGYuZmV0Y2hVUkwgKyAocGFyYW1zLnVybFN1ZmZpeCA/IHBhcmFtcy51cmxTdWZmaXggKyAnLycgOiAnJyk7XG5cdFx0XHRpZiAocGFyYW1zLnVybFBhcmFtcykge1xuXHRcdFx0XHR1cmwgKz0gJz8nICsgJC5wYXJhbShwYXJhbXMudXJsUGFyYW1zKTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0JC5hamF4KHVybCwge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSwgdGV4dFN0YXR1cywgeGhyKSB7XG4gICAgICAgICAgICAgICAgICAgIHV0aWwubG9nKCcjICMgRmV0Y2hlZCBkYXRhIGZvciB3aWRnZXQgJyArIHNlbGYud2lkZ2V0SWQpO1xuICAgIFx0XHRcdFxuICAgICAgICAgICAgICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PSAyMDApIHtcbiAgICAgICAgICAgICAgICAgICAgXHRzZWxmLmhhbmRsZURhdGEocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBcdHNlbGYuc3RhdGVbJ2hhZEVycm9ycyddID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIHRleHRTdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zdGF0ZVsnaGFkRXJyb3JzJ10gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnN0YXRlWydlcnJvclJlc3BvbnNlVGV4dCddID0geGhyLnJlc3BvbnNlVGV4dDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoeGhyLCB0ZXh0U3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgXHRyZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgXHR9KTtcbiAgICB9LFxuICAgIFxuICAgIC8qKiBIYW5kbGVzIGRhdGEgdGhhdCBoYXMgYmVlbiBsb2FkZWQgKi9cbiAgICBoYW5kbGVEYXRhOiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICBcdHZhciBzZWxmID0gdGhpcztcbiAgICBcdHZhciBkYXRhID0gcmVzcG9uc2VbJ2RhdGEnXTtcbiAgICBcdFxuICAgIFx0aWYgKHNlbGYuc3RhdGUub2Zmc2V0VGltZXN0YW1wKSB7XG4gICAgXHRcdC8vIGFwcGVuZCBpdGVtIGRhdGFcbiAgICBcdFx0QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoc2VsZi53aWRnZXREYXRhWydpdGVtcyddLCBkYXRhWydpdGVtcyddKVxuICAgIFx0fSBlbHNlIHtcbiAgICBcdFx0Ly8gZmlyc3QgZGF0YSBsb2FkXG4gICAgXHRcdHNlbGYud2lkZ2V0RGF0YSA9IGRhdGE7XG4gICAgXHR9XG4gICAgXHRcbiAgICBcdGlmIChzZWxmLm9wdGlvbnMubG9hZE1vcmVFbmFibGVkKSB7XG4gICAgXHRcdGlmICgnaGFzX21vcmUnIGluIGRhdGEpIHtcbiAgICBcdFx0XHRzZWxmLnN0YXRlLmhhc01vcmUgPSBkYXRhWydoYXNfbW9yZSddO1xuICAgIFx0XHR9XG4gICAgXHRcdGlmICgnb2Zmc2V0X3RpbWVzdGFtcCcgaW4gZGF0YSkge1xuICAgIFx0XHRcdHNlbGYuc3RhdGUub2Zmc2V0VGltZXN0YW1wID0gZGF0YVsnb2Zmc2V0X3RpbWVzdGFtcCddO1xuICAgIFx0XHR9XG4gICAgXHR9XG4gICAgfSxcbiAgICBcbiAgICAvKiogTG9hZCBtb3JlIGl0ZW1zICovXG4gICAgb25TaG93TW9yZUNsaWNrZWQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIFx0dGhpcy5sb2FkKCkudGhlbihmdW5jdGlvbigpe1xuICAgIFx0XHQkLmNvc2lubnVzLnJlbmRlck1vbWVudERhdGFEYXRlKCk7XG4gICAgXHR9KTtcbiAgICB9LFxuICAgIFxuICAgIC8qKlxuICAgICAqICBEZWZhdWx0IGltcGxlbWVudGF0aW9uIHRvIHJldHJpZXZlIGRhdGEgdG8gYmUgcmVuZGVyZWQuXG4gICAgICogIElmIGEgbW9kZWwgaXMgc2V0LCByZXR1cm4gaXRzIGF0dHJpYnV0ZXMgYXMgSlNPTiwgb3RoZXJ3aXNlXG4gICAgICogIGFuIGVtcHR5IG9iamVjdCB3aXRoIGFueSBvcHRpb25zIGFuZCBzdGF0ZSBhdHRyaWJ1dGVzIG9uIHRoZSBcbiAgICAgKiAgdmlldyBtaXhlZCBpbi5cbiAgICAgKi9cbiAgICBnZXRUZW1wbGF0ZURhdGE6IGZ1bmN0aW9uICgpIHtcbiAgICBcdHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIGRhdGEgPSBCYXNlVmlldy5wcm90b3R5cGUuZ2V0VGVtcGxhdGVEYXRhKHNlbGYpO1xuICAgICAgICB2YXIgZGF0YSA9IF8uZXh0ZW5kKFxuICAgICAgICBcdGRhdGEsXG4gICAgICAgIFx0c2VsZi5zdGF0ZSxcbiAgICAgICAgXHRzZWxmLm9wdGlvbnMsXG4gICAgICAgICAgICBzZWxmLndpZGdldERhdGFcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSxcbiAgICBcbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy9jbGllbnQvdmlld3MvYmFzZS9kZWxlZ2F0ZWQtd2lkZ2V0LXZpZXcuanNcbi8vIG1vZHVsZSBpZCA9IDUxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBudW5qdWNrcyA9IHJlcXVpcmUoXCJudW5qdWNrcy9icm93c2VyL251bmp1Y2tzLXNsaW1cIik7XG52YXIgZW52O1xuaWYgKCFudW5qdWNrcy5jdXJyZW50RW52KXtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudiA9IG5ldyBudW5qdWNrcy5FbnZpcm9ubWVudChbXSwgdW5kZWZpbmVkKTtcbn0gZWxzZSB7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnY7XG59XG52YXIgY29uZmlndXJlID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uLy4uL251bmp1Y2tzLmNvbmZpZy5qc1wiKShlbnYpO1xudmFyIGRlcGVuZGVuY2llcyA9IG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgfHwgKG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgPSB7fSk7XG5kZXBlbmRlbmNpZXNbXCJpbmNsdWRlL21hY3Jvcy5odG1sXCJdID0gcmVxdWlyZSggXCJpbmNsdWRlL21hY3Jvcy5odG1sXCIgKTtcbmRlcGVuZGVuY2llc1tcImluY2x1ZGUvbm90aWZpY2F0aW9uLWl0ZW0uaHRtbFwiXSA9IHJlcXVpcmUoIFwiaW5jbHVkZS9ub3RpZmljYXRpb24taXRlbS5odG1sXCIgKTtcblxuXG5cblxudmFyIHNoaW0gPSByZXF1aXJlKFwiL2hvbWUvc2FzY2hhL3ByL2Nvc2lubnVzLWNvcmUvbm9kZV9tb2R1bGVzL251bmp1Y2tzLWxvYWRlci9ydW50aW1lLXNoaW1cIik7XG5cblxuKGZ1bmN0aW9uKCkgeyhudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkID0gbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZCB8fCB7fSlbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL25hdmJhci9ub3RpZmljYXRpb24td2lkZ2V0Lmh0bWxcIl0gPSAoZnVuY3Rpb24oKSB7XG5mdW5jdGlvbiByb290KGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG52YXIgcGFyZW50VGVtcGxhdGUgPSBudWxsO1xuZW52LmdldFRlbXBsYXRlKFwiaW5jbHVkZS9tYWNyb3MuaHRtbFwiLCBmYWxzZSwgXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL25hdmJhci9ub3RpZmljYXRpb24td2lkZ2V0Lmh0bWxcIiwgZmFsc2UsIGZ1bmN0aW9uKHRfMix0XzEpIHtcbmlmKHRfMikgeyBjYih0XzIpOyByZXR1cm47IH1cbnRfMS5nZXRFeHBvcnRlZChmdW5jdGlvbih0XzMsdF8xKSB7XG5pZih0XzMpIHsgY2IodF8zKTsgcmV0dXJuOyB9XG5jb250ZXh0LnNldFZhcmlhYmxlKFwibWFjcm9zXCIsIHRfMSk7XG5vdXRwdXQgKz0gXCJcXG5cIjtcbmVudi5nZXRUZW1wbGF0ZShcImluY2x1ZGUvbm90aWZpY2F0aW9uLWl0ZW0uaHRtbFwiLCBmYWxzZSwgXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL25hdmJhci9ub3RpZmljYXRpb24td2lkZ2V0Lmh0bWxcIiwgZmFsc2UsIGZ1bmN0aW9uKHRfNSx0XzQpIHtcbmlmKHRfNSkgeyBjYih0XzUpOyByZXR1cm47IH1cbnRfNC5nZXRFeHBvcnRlZChmdW5jdGlvbih0XzYsdF80KSB7XG5pZih0XzYpIHsgY2IodF82KTsgcmV0dXJuOyB9XG5jb250ZXh0LnNldFZhcmlhYmxlKFwibm90aWZpY2F0aW9uX21hY3Jvc1wiLCB0XzQpO1xub3V0cHV0ICs9IFwiXFxuXFxuPGRpdiBjbGFzcz1cXFwibmF2LWNvbHVtbiBuYXYtY29sdW1uLWZ1bGx3aWR0aFxcXCI+XFxuICAgIFxcblxcdFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJoYWRFcnJvcnNcIikpIHtcbm91dHB1dCArPSBcIlxcblxcdCAgICA8dWwgY2xhc3M9XFxcIml0ZW0tbGlzdFxcXCI+XFxuXFx0ICAgICAgICA8bGk+XFxuXFx0ICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImxpc3QtaXRlbSBsaXN0LWl0ZW0tbGluayBsaXN0LWl0ZW0tY2VudGVyIG5vLXNlbGVjdFxcXCIgaHJlZj1cXFwiI1xcXCIgcm9sZT1cXFwiYnV0dG9uXFxcIiB0aXRsZWRieT1cXFwiLml0ZW0tdGV4dFxcXCI+IFxcblxcdCAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJpdGVtLXRleHRcXFwiPlxcblxcdCAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIlRoZXJlIHdhcyBhbiBlcnJvciBsb2FkaW5nIHRoZSB3aWRnZXRcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgICAgICAgICAgICAgPC9kaXY+XFxuXFx0ICAgICAgICAgICAgPC9zcGFuPlxcblxcdCAgICAgICAgPC9saT5cXG5cXHQgICAgPC91bD5cXG5cXHRcIjtcbjtcbn1cbmVsc2Uge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICA8aDIgY2xhc3M9XFxcImhlYWRsaW5lIGhlYWRsaW5lLWNvbmRlbnNlZFxcXCI+XFxuICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJOb3RpZmljYXRpb25zXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICA8L2gyPlxcbiAgICAgICAgXFxuICAgICAgICA8dWwgY2xhc3M9XFxcIml0ZW0tbGlzdCBpdGVtLWxpc3QtZGl2aWRlZCBib3JkZXJlZFxcXCI+XFxuICAgICAgICAgICAgXCI7XG5pZihlbnYuZ2V0RmlsdGVyKFwibGVuZ3RoXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJpdGVtc1wiKSkgPiAwKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgXCI7XG5mcmFtZSA9IGZyYW1lLnB1c2goKTtcbnZhciB0XzkgPSBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIml0ZW1zXCIpO1xuaWYodF85KSB7dmFyIHRfOCA9IHRfOS5sZW5ndGg7XG5mb3IodmFyIHRfNz0wOyB0XzcgPCB0XzkubGVuZ3RoOyB0XzcrKykge1xudmFyIHRfMTAgPSB0XzlbdF83XTtcbmZyYW1lLnNldChcIml0ZW1cIiwgdF8xMCk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfNyArIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleDBcIiwgdF83KTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXhcIiwgdF84IC0gdF83KTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXgwXCIsIHRfOCAtIHRfNyAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzcgPT09IDApO1xuZnJhbWUuc2V0KFwibG9vcC5sYXN0XCIsIHRfNyA9PT0gdF84IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzgpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoKGxpbmVubyA9IDI1LCBjb2xubyA9IDU3LCBydW50aW1lLmNhbGxXcmFwKHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzQpLFwibm90aWZpY2F0aW9uSXRlbVwiKSwgXCJub3RpZmljYXRpb25fbWFjcm9zW1xcXCJub3RpZmljYXRpb25JdGVtXFxcIl1cIiwgY29udGV4dCwgW3J1bnRpbWUubWVtYmVyTG9va3VwKCh0XzEwKSxcInRleHRcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTApLFwidXJsXCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzEwKSxcInVzZXJfaWNvbl9vcl9pbWFnZV91cmxcIikscnVudGltZS5tYWtlS2V5d29yZEFyZ3Moe1wic3VidGV4dFwiOiBydW50aW1lLm1lbWJlckxvb2t1cCgodF8xMCksXCJncm91cFwiKSxcInN1YnRleHRJY29uXCI6IHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzEwKSxcImdyb3VwX2ljb25cIiksXCJhY3Rpb25UaW1lXCI6IHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzEwKSxcImFjdGlvbl9kYXRldGltZVwiKSxcImFubm90YXRpb25JY29uXCI6IHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzEwKSxcIml0ZW1faWNvbl9vcl9pbWFnZV91cmxcIiksXCJpc19lbXBoYXNpemVkXCI6IHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzEwKSxcImlzX2VtcGhhc2l6ZWRcIiksXCJzdWJJdGVtc1wiOiBydW50aW1lLm1lbWJlckxvb2t1cCgodF8xMCksXCJzdWJfaXRlbXNcIiksXCJpdGVtSWRcIjogcnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTApLFwiaWRcIiksXCJtYWtlU2FmZVwiOiB0cnVlfSldKSksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIFwiO1xuO1xufVxufVxuZnJhbWUgPSBmcmFtZS5wb3AoKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibG9hZE1vcmVFbmFibGVkXCIpICYmIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiaGFzTW9yZVwiKSkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICA8bGk+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XFxcImxpc3QtaXRlbSBsaXN0LWl0ZW0tbGluayBzaG93LW1vcmVcXFwiIHJvbGU9XFxcImJ1dHRvblxcXCIgdGl0bGVkYnk9XFxcIi5pdGVtLXRleHRcXFwiPiBcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiaXRlbS1pY29uIGl0ZW0taWNvbi1vZmZzZXRcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhcyBmYS1md1xcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiaXRlbS10ZXh0XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJTaG93IG1vcmVcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgICAgICAgICAgICAgPC9saT5cXG4gICAgICAgICAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbjtcbn1cbmVsc2Uge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgIDxsaT5cXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJsaXN0LWl0ZW0gbGlzdC1pdGVtLWxpbmsgbm8tc2VsZWN0XFxcIiBocmVmPVxcXCIjXFxcIiByb2xlPVxcXCJidXR0b25cXFwiIHRpdGxlZGJ5PVxcXCIuaXRlbS10ZXh0XFxcIj4gXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiaXRlbS10ZXh0XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiTm8gY3VycmVudCBub3RpZmljYXRpb25zXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgICAgICAgIDwvbGk+XFxuICAgICAgICAgICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIDwvdWw+XFxuICAgICAgICBcXG5cXHRcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblxcdFxcbjwvZGl2PlxcblwiO1xuaWYocGFyZW50VGVtcGxhdGUpIHtcbnBhcmVudFRlbXBsYXRlLnJvb3RSZW5kZXJGdW5jKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKTtcbn0gZWxzZSB7XG5jYihudWxsLCBvdXRwdXQpO1xufVxufSl9KX0pfSk7XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxucmV0dXJuIHtcbnJvb3Q6IHJvb3Rcbn07XG5cbn0pKCk7XG59KSgpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBzaGltKG51bmp1Y2tzLCBlbnYsIG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWRbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL25hdmJhci9ub3RpZmljYXRpb24td2lkZ2V0Lmh0bWxcIl0gLCBkZXBlbmRlbmNpZXMpXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL25hdmJhci9ub3RpZmljYXRpb24td2lkZ2V0Lmh0bWxcbi8vIG1vZHVsZSBpZCA9IDUyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBudW5qdWNrcyA9IHJlcXVpcmUoXCJudW5qdWNrcy9icm93c2VyL251bmp1Y2tzLXNsaW1cIik7XG52YXIgZW52O1xuaWYgKCFudW5qdWNrcy5jdXJyZW50RW52KXtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudiA9IG5ldyBudW5qdWNrcy5FbnZpcm9ubWVudChbXSwgdW5kZWZpbmVkKTtcbn0gZWxzZSB7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnY7XG59XG52YXIgY29uZmlndXJlID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uLy4uL251bmp1Y2tzLmNvbmZpZy5qc1wiKShlbnYpO1xudmFyIGRlcGVuZGVuY2llcyA9IG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgfHwgKG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgPSB7fSk7XG5kZXBlbmRlbmNpZXNbXCJpbmNsdWRlL21hY3Jvcy5odG1sXCJdID0gcmVxdWlyZSggXCJpbmNsdWRlL21hY3Jvcy5odG1sXCIgKTtcblxuXG5cblxudmFyIHNoaW0gPSByZXF1aXJlKFwiL2hvbWUvc2FzY2hhL3ByL2Nvc2lubnVzLWNvcmUvbm9kZV9tb2R1bGVzL251bmp1Y2tzLWxvYWRlci9ydW50aW1lLXNoaW1cIik7XG5cblxuKGZ1bmN0aW9uKCkgeyhudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkID0gbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZCB8fCB7fSlbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL2luY2x1ZGUvbm90aWZpY2F0aW9uLWl0ZW0uaHRtbFwiXSA9IChmdW5jdGlvbigpIHtcbmZ1bmN0aW9uIHJvb3QoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbnZhciBwYXJlbnRUZW1wbGF0ZSA9IG51bGw7XG5lbnYuZ2V0VGVtcGxhdGUoXCJpbmNsdWRlL21hY3Jvcy5odG1sXCIsIGZhbHNlLCBcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvaW5jbHVkZS9ub3RpZmljYXRpb24taXRlbS5odG1sXCIsIGZhbHNlLCBmdW5jdGlvbih0XzIsdF8xKSB7XG5pZih0XzIpIHsgY2IodF8yKTsgcmV0dXJuOyB9XG50XzEuZ2V0RXhwb3J0ZWQoZnVuY3Rpb24odF8zLHRfMSkge1xuaWYodF8zKSB7IGNiKHRfMyk7IHJldHVybjsgfVxuY29udGV4dC5zZXRWYXJpYWJsZShcIm1hY3Jvc1wiLCB0XzEpO1xub3V0cHV0ICs9IFwiXFxuXFxuXCI7XG52YXIgbWFjcm9fdF80ID0gcnVudGltZS5tYWtlTWFjcm8oXG5bXCJ0ZXh0XCIsIFwidXJsXCIsIFwiaWNvblwiXSwgXG5bXCJzdWJ0ZXh0XCIsIFwic3VidGV4dEljb25cIiwgXCJhY3Rpb25UaW1lXCIsIFwiYW5ub3RhdGlvbkljb25cIiwgXCJpc19lbXBoYXNpemVkXCIsIFwic3ViSXRlbXNcIiwgXCJpdGVtSWRcIiwgXCJpbmFjdGl2ZVwiLCBcIm1ha2VTYWZlXCJdLCBcbmZ1bmN0aW9uIChsX3RleHQsIGxfdXJsLCBsX2ljb24sIGt3YXJncykge1xuZnJhbWUgPSBmcmFtZS5wdXNoKHRydWUpO1xua3dhcmdzID0ga3dhcmdzIHx8IHt9O1xuaWYgKGt3YXJncy5oYXNPd25Qcm9wZXJ0eShcImNhbGxlclwiKSkge1xuZnJhbWUuc2V0KFwiY2FsbGVyXCIsIGt3YXJncy5jYWxsZXIpOyB9XG5mcmFtZS5zZXQoXCJ0ZXh0XCIsIGxfdGV4dCk7XG5mcmFtZS5zZXQoXCJ1cmxcIiwgbF91cmwpO1xuZnJhbWUuc2V0KFwiaWNvblwiLCBsX2ljb24pO1xuZnJhbWUuc2V0KFwic3VidGV4dFwiLCBrd2FyZ3MuaGFzT3duUHJvcGVydHkoXCJzdWJ0ZXh0XCIpID8ga3dhcmdzW1wic3VidGV4dFwiXSA6IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibnVsbFwiKSk7XG5mcmFtZS5zZXQoXCJzdWJ0ZXh0SWNvblwiLCBrd2FyZ3MuaGFzT3duUHJvcGVydHkoXCJzdWJ0ZXh0SWNvblwiKSA/IGt3YXJnc1tcInN1YnRleHRJY29uXCJdIDogcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJudWxsXCIpKTtcbmZyYW1lLnNldChcImFjdGlvblRpbWVcIiwga3dhcmdzLmhhc093blByb3BlcnR5KFwiYWN0aW9uVGltZVwiKSA/IGt3YXJnc1tcImFjdGlvblRpbWVcIl0gOiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm51bGxcIikpO1xuZnJhbWUuc2V0KFwiYW5ub3RhdGlvbkljb25cIiwga3dhcmdzLmhhc093blByb3BlcnR5KFwiYW5ub3RhdGlvbkljb25cIikgPyBrd2FyZ3NbXCJhbm5vdGF0aW9uSWNvblwiXSA6IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibnVsbFwiKSk7XG5mcmFtZS5zZXQoXCJpc19lbXBoYXNpemVkXCIsIGt3YXJncy5oYXNPd25Qcm9wZXJ0eShcImlzX2VtcGhhc2l6ZWRcIikgPyBrd2FyZ3NbXCJpc19lbXBoYXNpemVkXCJdIDogZmFsc2UpO1xuZnJhbWUuc2V0KFwic3ViSXRlbXNcIiwga3dhcmdzLmhhc093blByb3BlcnR5KFwic3ViSXRlbXNcIikgPyBrd2FyZ3NbXCJzdWJJdGVtc1wiXSA6IFtdKTtcbmZyYW1lLnNldChcIml0ZW1JZFwiLCBrd2FyZ3MuaGFzT3duUHJvcGVydHkoXCJpdGVtSWRcIikgPyBrd2FyZ3NbXCJpdGVtSWRcIl0gOiBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm51bGxcIikpO1xuZnJhbWUuc2V0KFwiaW5hY3RpdmVcIiwga3dhcmdzLmhhc093blByb3BlcnR5KFwiaW5hY3RpdmVcIikgPyBrd2FyZ3NbXCJpbmFjdGl2ZVwiXSA6IGZhbHNlKTtcbmZyYW1lLnNldChcIm1ha2VTYWZlXCIsIGt3YXJncy5oYXNPd25Qcm9wZXJ0eShcIm1ha2VTYWZlXCIpID8ga3dhcmdzW1wibWFrZVNhZmVcIl0gOiB0cnVlKTtcbnZhciB0XzUgPSBcIlwiO3RfNSArPSBcIlxcblxcbiAgICA8bGkgY2xhc3M9XFxcImxpc3QtaXRlbS1ncm91cFxcXCI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJtYWluLWl0ZW1cXFwiPlxcbiAgICAgICAgICAgIDxhIGNsYXNzPVxcXCJsaXN0LWl0ZW0gbGlzdC1pdGVtLWV4dGVuZGVkIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJpc19lbXBoYXNpemVkXCIpKSB7XG50XzUgKz0gXCJsaXN0LWl0ZW0tZW1waGFzaXplZCBcIjtcbjtcbn1cbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiaW5hY3RpdmVcIikpIHtcbnRfNSArPSBcImluYWN0aXZlIG5vLXNlbGVjdFwiO1xuO1xufVxudF81ICs9IFwiXFxcIiBocmVmPVxcXCJcIjtcbnRfNSArPSBydW50aW1lLnN1cHByZXNzVmFsdWUobF91cmwsIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xudF81ICs9IFwiXFxcIiByb2xlPVxcXCJidXR0b25cXFwiIHRpdGxlZGJ5PVxcXCIuaXRlbS10ZXh0LXByaW1hcnlcXFwiPiBcXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiaXRlbS1pY29uIGl0ZW0taWNvbi1vZmZzZXQgaXRlbS1pY29uLXZlcnRpY2FsLWNlbnRlclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICBcIjtcbmlmKGxfaWNvbiAmJiBydW50aW1lLmluT3BlcmF0b3IoXCIvXCIsbF9pY29uKSkge1xudF81ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XFxcIlwiO1xudF81ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShsX2ljb24sIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xudF81ICs9IFwiXFxcIj48L2ltZz5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG50XzUgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmFzIGZhLWZ3IFwiO1xudF81ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShsX2ljb24sIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xudF81ICs9IFwiXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbnRfNSArPSBcIlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiaXRlbS10ZXh0IGl0ZW0tdGV4dC1kdWFsXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcIml0ZW0tdGV4dC1wcmltYXJ5XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibWFrZVNhZmVcIikpIHtcbnRfNSArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbnRfNSArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEZpbHRlcihcInNhZmVcIikuY2FsbChjb250ZXh0LCBsX3RleHQpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbnRfNSArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG50XzUgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG50XzUgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGxfdGV4dCwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG50XzUgKz0gXCIgXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG50XzUgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInN1YnRleHRcIikgfHwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJhY3Rpb25UaW1lXCIpKSB7XG50XzUgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJpdGVtLXRleHQtdGVydGlhcnlcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYWN0aW9uVGltZVwiKSkge1xudF81ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmFzIGZhLWZ3IGZhLWNsb2NrXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwibW9tZW50LWRhdGEtZGF0ZVxcXCIgZGF0YS1kYXRlPVxcXCJcIjtcbnRfNSArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJhY3Rpb25UaW1lXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbnRfNSArPSBcIlxcXCI+PC9zcGFuPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcIml0ZW0tdGV4dC1pbmxpbmUtc3BhY2VyXFxcIj48L3NwYW4+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxudF81ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzdWJ0ZXh0XCIpKSB7XG50XzUgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzdWJ0ZXh0SWNvblwiKSkge1xudF81ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhcyBmYS1mdyBcIjtcbnRfNSArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzdWJ0ZXh0SWNvblwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG50XzUgKz0gXCJcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxudF81ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbnRfNSArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzdWJ0ZXh0XCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbnRfNSArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbnRfNSArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG50XzUgKz0gXCJcXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJhbm5vdGF0aW9uSWNvblwiKSkge1xudF81ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJyaWdodC1zaWRlLWFubm90YXRpb24gaXRlbS1pY29uIGl0ZW0taWNvbi12ZXJ0aWNhbC1jZW50ZXIgaXRlbS1pY29uLWZpeGVkLXdpZHRoXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYW5ub3RhdGlvbkljb25cIikgJiYgcnVudGltZS5pbk9wZXJhdG9yKFwiL1wiLHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiYW5ub3RhdGlvbkljb25cIikpKSB7XG50XzUgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XFxcIlwiO1xudF81ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImFubm90YXRpb25JY29uXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbnRfNSArPSBcIlxcXCI+PC9pbWc+XFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG47XG59XG5lbHNlIHtcbnRfNSArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmFzIGZhLWZ3IFwiO1xudF81ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImFubm90YXRpb25JY29uXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbnRfNSArPSBcIlxcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxudF81ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgXCI7XG47XG59XG50XzUgKz0gXCJcXG4gICAgICAgICAgICA8L2E+XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgXCI7XG5pZihlbnYuZ2V0RmlsdGVyKFwibGVuZ3RoXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJzdWJJdGVtc1wiKSkgPiAwKSB7XG50XzUgKz0gXCJcXG4gICAgICAgICAgICAgICAgPGEgY2xhc3M9XFxcImxpc3QtaXRlbS1ncm91cC1kcm9wZG93bi1saW5rIGNvbGxhcHNlZFxcXCIgZGF0YS10b2dnbGU9XFxcImNvbGxhcHNlXFxcIiBocmVmPVxcXCIjbm90aWZpY2F0aW9uLWNvbGxhcHNlLVwiO1xudF81ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIml0ZW1JZFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG50XzUgKz0gXCJcXFwiIFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU9XFxcImJ1dHRvblxcXCIgYXJpYS1leHBhbmRlZD1cXFwiZmFsc2VcXFwiIGFyaWEtY29udHJvbHM9XFxcIm5vdGlmaWNhdGlvbi1jb2xsYXBzZS1cIjtcbnRfNSArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJpdGVtSWRcIiksIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xudF81ICs9IFwiXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYXMgZmEtZncgZmEtY2FyZXQtcmlnaHQgc2hvdy1jb2xsYXBzZWRcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYXMgZmEtZncgZmEtY2FyZXQtZG93biBzaG93LXVuY29sbGFwc2VkXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgIDwvYT5cXG4gICAgICAgICAgICBcIjtcbjtcbn1cbnRfNSArPSBcIlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICBcXG4gICAgICAgIFwiO1xuaWYoZW52LmdldEZpbHRlcihcImxlbmd0aFwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic3ViSXRlbXNcIikpID4gMCkge1xudF81ICs9IFwiXFxuXFx0ICAgICAgICA8ZGl2IGNsYXNzPVxcXCJzdWItaXRlbS1jb250YWluZXIgY29sbGFwc2VcXFwiIGlkPVxcXCJub3RpZmljYXRpb24tY29sbGFwc2UtXCI7XG50XzUgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiaXRlbUlkXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbnRfNSArPSBcIlxcXCI+XFxuXFx0ICAgICAgICAgICAgPHVsIGNsYXNzPVxcXCJpdGVtLWxpc3QgaXRlbS1saXN0LWRpdmlkZWRcXFwiPlxcblxcdCAgICAgICAgICAgICAgICBcIjtcbmZyYW1lID0gZnJhbWUucHVzaCgpO1xudmFyIHRfOCA9IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwic3ViSXRlbXNcIik7XG5pZih0XzgpIHt2YXIgdF83ID0gdF84Lmxlbmd0aDtcbmZvcih2YXIgdF82PTA7IHRfNiA8IHRfOC5sZW5ndGg7IHRfNisrKSB7XG52YXIgdF85ID0gdF84W3RfNl07XG5mcmFtZS5zZXQoXCJzdWJJdGVtXCIsIHRfOSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfNiArIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleDBcIiwgdF82KTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXhcIiwgdF83IC0gdF82KTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXgwXCIsIHRfNyAtIHRfNiAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzYgPT09IDApO1xuZnJhbWUuc2V0KFwibG9vcC5sYXN0XCIsIHRfNiA9PT0gdF83IC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzcpO1xudF81ICs9IFwiXFxuXFx0ICAgICAgICAgICAgICAgICAgICBcIjtcbnRfNSArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoKGxpbmVubyA9IDYyLCBjb2xubyA9IDM3LCBydW50aW1lLmNhbGxXcmFwKHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzEpLFwibGlzdEl0ZW1cIiksIFwibWFjcm9zW1xcXCJsaXN0SXRlbVxcXCJdXCIsIGNvbnRleHQsIFtydW50aW1lLm1lbWJlckxvb2t1cCgodF85KSxcInRpdGxlXCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzkpLFwidXJsXCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzkpLFwiaWNvbl9vcl9pbWFnZV91cmxcIikscnVudGltZS5tYWtlS2V5d29yZEFyZ3Moe1wicGFkZGVkXCI6IHRydWV9KV0pKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG50XzUgKz0gXCJcXG5cXHQgICAgICAgICAgICAgICAgXCI7XG47XG59XG59XG5mcmFtZSA9IGZyYW1lLnBvcCgpO1xudF81ICs9IFwiXFxuXFx0ICAgICAgICAgICAgPC91bD5cXG5cXHQgICAgICAgIDwvZGl2PlxcbiAgICAgICAgXCI7XG47XG59XG50XzUgKz0gXCJcXG4gICAgPC9saT5cXG5cIjtcbjtcbmZyYW1lID0gZnJhbWUucG9wKCk7XG5yZXR1cm4gbmV3IHJ1bnRpbWUuU2FmZVN0cmluZyh0XzUpO1xufSk7XG5jb250ZXh0LmFkZEV4cG9ydChcIm5vdGlmaWNhdGlvbkl0ZW1cIik7XG5jb250ZXh0LnNldFZhcmlhYmxlKFwibm90aWZpY2F0aW9uSXRlbVwiLCBtYWNyb190XzQpO1xub3V0cHV0ICs9IFwiXFxuXCI7XG5pZihwYXJlbnRUZW1wbGF0ZSkge1xucGFyZW50VGVtcGxhdGUucm9vdFJlbmRlckZ1bmMoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpO1xufSBlbHNlIHtcbmNiKG51bGwsIG91dHB1dCk7XG59XG59KX0pO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbnJldHVybiB7XG5yb290OiByb290XG59O1xuXG59KSgpO1xufSkoKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gc2hpbShudW5qdWNrcywgZW52LCBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkW1wiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC9pbmNsdWRlL25vdGlmaWNhdGlvbi1pdGVtLmh0bWxcIl0gLCBkZXBlbmRlbmNpZXMpXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL2luY2x1ZGUvbm90aWZpY2F0aW9uLWl0ZW0uaHRtbFxuLy8gbW9kdWxlIGlkID0gNTNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgQmFzZVZpZXcgPSByZXF1aXJlKCd2aWV3cy9iYXNlL3ZpZXcnKTtcblxudmFyIFRpbWVsaW5lVmlldyA9IHJlcXVpcmUoJ3ZpZXdzL3VzZXJkYXNoYm9hcmQvdGltZWxpbmUtdmlldycpO1xudmFyIEdyb3VwV2lkZ2V0VmlldyA9IHJlcXVpcmUoJ3ZpZXdzL3VzZXJkYXNoYm9hcmQvZ3JvdXAtd2lkZ2V0LXZpZXcnKTtcbnZhciBJZGVhc1dpZGdldFZpZXcgPSByZXF1aXJlKCd2aWV3cy91c2VyZGFzaGJvYXJkL2lkZWFzLXdpZGdldC12aWV3Jyk7XG52YXIgU3RhcnJlZFVzZXJzV2lkZ2V0VmlldyA9IHJlcXVpcmUoJ3ZpZXdzL3VzZXJkYXNoYm9hcmQvc3RhcnJlZC11c2Vycy13aWRnZXQtdmlldycpO1xudmFyIFN0YXJyZWRPYmplY3RzV2lkZ2V0VmlldyA9IHJlcXVpcmUoJ3ZpZXdzL3VzZXJkYXNoYm9hcmQvc3RhcnJlZC1vYmplY3RzLXdpZGdldC12aWV3Jyk7XG52YXIgRm9sbG93ZWRPYmplY3RzV2lkZ2V0VmlldyA9IHJlcXVpcmUoJ3ZpZXdzL3VzZXJkYXNoYm9hcmQvZm9sbG93ZWQtb2JqZWN0cy13aWRnZXQtdmlldycpO1xudmFyIFR5cGVkQ29udGVudFdpZGdldFZpZXcgPSByZXF1aXJlKCd2aWV3cy91c2VyZGFzaGJvYXJkL3R5cGVkLWNvbnRlbnQtd2lkZ2V0LXZpZXcnKTtcbnZhciBVaVByZWZzVmlldyA9IHJlcXVpcmUoJ3ZpZXdzL3VzZXJkYXNoYm9hcmQvdWktcHJlZnMtdmlldycpO1xuXG52YXIgdXRpbCA9IHJlcXVpcmUoJ2xpYi91dGlsJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gQmFzZVZpZXcuZXh0ZW5kKHtcblxuXHRhcHA6IG51bGwsXG4gICAgdGVtcGxhdGU6IG51bGwsXG4gICAgZWw6IG51bGwsIC8vIHdpbGwgYmUgc2V0IHRvIGRhc2hib2FyZCByb290IG1hbnVhbGx5XG4gICAgJGVsOiBudWxsLCAvLyB3aWxsIGJlIHNldCB0byBkYXNoYm9hcmQgcm9vdCBtYW51YWxseVxuICAgIGxlZnRCYXI6ICcuZGFzaGJvYXJkLWxlZnQtYmFyLWNvbnRlbnQnLFxuICAgICRsZWZ0QmFyOiBudWxsLCBcbiAgICByaWdodEJhcjogJy5kYXNoYm9hcmQtcmlnaHQtYmFyLWNvbnRlbnQnLFxuICAgICRyaWdodEJhcjogbnVsbCxcbiAgICB0aW1lbGluZTogJy50aW1lbGluZS1yb290JyxcbiAgICAkdGltZWxpbmU6IG51bGwsXG4gICAgXG4gICAgdGltZWxpbmVWaWV3OiBudWxsLFxuICAgIFxuICAgIGdyb3VwV2lkZ2V0VmlldzogbnVsbCxcblx0aWRlYXNXaWRnZXRWaWV3OiBudWxsLFxuXHRzdGFycmVkVXNlcnNXaWRnZXRWaWV3OiBudWxsLFxuXHRzdGFycmVkT2JqZWN0c1dpZGdldFZpZXc6IG51bGwsXG5cdGZvbGxvd2VkT2JqZWN0c1dpZGdldFZpZXc6IG51bGwsXG4gICAgdWlQcmVmc1ZpZXc6IG51bGwsXG4gICAgXG4gICAgdHlwZWRDb250ZW50V2lkZ2V0VHlwZXM6IFsncGFkcycsICdmaWxlcyddXG5cdFx0LmNvbmNhdCgoQ09TSU5OVVNfUk9DS0VUX0VOQUJMRUQgfHwgIUNPU0lOTlVTX01FU1NBR0VTX0VOQUJMRUQpID8gW10gOiBbJ21lc3NhZ2VzJ10pXG4gICAgICAgIC5jb25jYXQoQ09TSU5OVVNfQ0xPVURfREFTSEJPQVJEX1dJREdFVF9FTkFCTEVEID8gWydjbG91ZF9maWxlcyddIDogW10pXG5cdCAgICAuY29uY2F0KFsnZXZlbnRzJywgJ3RvZG9zJywgJ3BvbGxzJ10pXG5cdFx0LmNvbmNhdChDT1NJTk5VU19WMl9EQVNIQk9BUkRfU0hPV19NQVJLRVRQTEFDRSA/IFsnb2ZmZXJzJ10gOiBbXSksXG4gICAgdHlwZWRDb250ZW50V2lkZ2V0czoge30sXG4gICAgXG4gICAgdWlQcmVmS2V5UmlnaHRCYXJXaWRnZXQ6ICdkYXNoYm9hcmRfd2lkZ2V0c19zb3J0X2tleV9fJyxcbiAgICBcbiAgICAvLyB3aWxsIGJlIHNldCB0byBzZWxmLm9wdGlvbnMgZHVyaW5nIGluaXRpYWxpemF0aW9uXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgXG4gICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgICBcbiAgICAgICAgfVxuICAgIH0sXG4gICAgXG4gICAgLy8gVGhlIERPTSBldmVudHMgc3BlY2lmaWMgdG8gYW4gaXRlbS5cbiAgICBldmVudHM6IHtcbiAgICBcdC8vJ2ZvY3VzIC5uYXYtc2VhcmNoLWJveCc6ICdvblNlYXJjaEJveEZvY3VzSW4nLFxuICAgIH0sXG4gICAgXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gKG9wdGlvbnMsIGFwcCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHNlbGYuYXBwID0gYXBwO1xuICAgICAgICBCYXNlVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHNlbGYsIG9wdGlvbnMpO1xuICAgICAgICBcbiAgICAgICAgc2VsZi51aVByZWZzVmlldyA9IG5ldyBVaVByZWZzVmlldyhzZWxmLm9wdGlvbnMudWlQcmVmcyk7XG4gICAgICAgIFxuICAgICAgICBzZWxmLmVsID0gJy52Mi1kYXNoYm9hcmQnO1xuICAgICAgICBzZWxmLiRlbCA9ICQoc2VsZi5lbCk7XG4gICAgICAgIHNlbGYuJGVsLnJlbW92ZUNsYXNzKCdsb2FkaW5nJyk7XG4gICAgICAgIFxuICAgICAgICBzZWxmLiRsZWZ0QmFyID0gc2VsZi4kZWwuZmluZChzZWxmLmxlZnRCYXIpO1xuICAgICAgICBzZWxmLiRyaWdodEJhciA9IHNlbGYuJGVsLmZpbmQoc2VsZi5yaWdodEJhcik7XG4gICAgICAgIHNlbGYuJHRpbWVsaW5lID0gc2VsZi4kZWwuZmluZChzZWxmLnRpbWVsaW5lKTtcbiAgICAgICAgXG4gICAgICAgIHNlbGYubG9hZExlZnRCYXIoKTtcbiAgICAgICAgc2VsZi5sb2FkUmlnaHRCYXIoKTtcbiAgICAgICAgc2VsZi5sb2FkVGltZWxpbmUoKTtcbiAgICB9LFxuICAgIFxuICAgIC8qKiBMb2FkcyBhbGwgd2lkZ2V0cyBvbiB0aGUgbGVmdCBiYXIgYW5kIG9ubHkgdGhlbiBkaXNwbGF5cyBpdCAqL1xuICAgIGxvYWRMZWZ0QmFyOiBmdW5jdGlvbiAoKSB7XG4gICAgXHR2YXIgc2VsZiA9IHRoaXM7XG4gICAgXHRzZWxmLmdyb3VwV2lkZ2V0VmlldyA9IG5ldyBHcm91cFdpZGdldFZpZXcoe1xuICAgIFx0XHRlbDogc2VsZi4kZWwuZmluZCgnLmdyb3VwLXdpZGdldC1yb290JyksXG4gICAgXHR9LCBzZWxmLmFwcCk7XG4gICAgXHRcbiAgICBcdHZhciBsZWZ0QmFyUHJvbWlzZXMgPSBbXG4gICAgXHRcdHNlbGYuZ3JvdXBXaWRnZXRWaWV3LmxvYWQoKSxcbiAgICBcdF07XG4gICAgXHRpZiAoQ09TSU5OVVNfSURFQVNfRU5BQkxFRCkge1xuICAgIFx0ICAgIHNlbGYuaWRlYXNXaWRnZXRWaWV3ID0gbmV3IElkZWFzV2lkZ2V0Vmlldyh7XG4gICAgICAgICAgICAgICAgZWw6IHNlbGYuJGVsLmZpbmQoJy5pZGVhcy13aWRnZXQtcm9vdCcpLFxuICAgICAgICAgICAgfSwgc2VsZi5hcHApO1xuICAgIFx0XHRsZWZ0QmFyUHJvbWlzZXMucHVzaChzZWxmLmlkZWFzV2lkZ2V0Vmlldy5sb2FkKCkpO1xuXHRcdH1cblx0XHRzZWxmLnN0YXJyZWRVc2Vyc1dpZGdldFZpZXcgPSBuZXcgU3RhcnJlZFVzZXJzV2lkZ2V0Vmlldyh7XG5cdFx0XHRlbDogc2VsZi4kZWwuZmluZCgnLnN0YXJyZWQtdXNlcnMtd2lkZ2V0LXJvb3QnKSxcblx0XHR9LCBzZWxmLmFwcCk7XG5cdFx0bGVmdEJhclByb21pc2VzLnB1c2goc2VsZi5zdGFycmVkVXNlcnNXaWRnZXRWaWV3LmxvYWQoKSk7XG5cbiAgICBcdHNlbGYuc3RhcnJlZE9iamVjdHNXaWRnZXRWaWV3ID0gbmV3IFN0YXJyZWRPYmplY3RzV2lkZ2V0Vmlldyh7XG5cdFx0XHRlbDogc2VsZi4kZWwuZmluZCgnLnN0YXJyZWQtb2JqZWN0cy13aWRnZXQtcm9vdCcpLFxuXHRcdH0sIHNlbGYuYXBwKTtcblx0XHRsZWZ0QmFyUHJvbWlzZXMucHVzaChzZWxmLnN0YXJyZWRPYmplY3RzV2lkZ2V0Vmlldy5sb2FkKCkpO1xuXG5cdFx0c2VsZi5mb2xsb3dlZE9iamVjdHNXaWRnZXRWaWV3ID0gbmV3IEZvbGxvd2VkT2JqZWN0c1dpZGdldFZpZXcoe1xuXHRcdFx0ZWw6IHNlbGYuJGVsLmZpbmQoJy5mb2xsb3dlZC1vYmplY3RzLXdpZGdldC1yb290JyksXG5cdFx0fSwgc2VsZi5hcHApO1xuXHRcdGxlZnRCYXJQcm9taXNlcy5wdXNoKHNlbGYuZm9sbG93ZWRPYmplY3RzV2lkZ2V0Vmlldy5sb2FkKCkpO1xuXG5cdFx0UHJvbWlzZS5hbGwobGVmdEJhclByb21pc2VzKS50aGVuKGZ1bmN0aW9uKCl7XG4gICAgXHRcdHNlbGYuJGxlZnRCYXIuc2hvdygpO1xuICAgIFx0XHQvLyB0aGUgdXNlcmRhc2hib2FyZCBtYXAgd2lkZ2V0IChhcyBhbiBpZnJhbWUpIGNhdXNlcyBwcm9ibGVtcyB3aXRoIHRoZSBtYXAgYXBwIGl0IHNob3dzXG4gICAgXHRcdC8vIGlmIGl0IGlzIGxvYWRlZCB3aGlsZSBoaWRkZW5cbiAgICBcdFx0dmFyIGlmcmFtZSA9ICQoJyN1c2VyZGFzaGJvYXJkLW1hcC1pZnJhbWUnKTtcbiAgICBcdFx0aWYgKGlmcmFtZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIFx0XHRpZnJhbWUuYXR0cignc3JjJywgaWZyYW1lLmF0dHIoJ3NyY19kZWxheWVkJykpO1xuICAgIFx0XHR9XG4gICAgXHR9KTtcbiAgICB9LFxuICAgIFxuICAgIC8qKiBMb2FkcyBhbGwgd2lkZ2V0cyBvbiB0aGUgcmlnaHQgYmFyIGFuZCBvbmx5IHRoZW4gZGlzcGxheXMgaXQgKi9cbiAgICBsb2FkUmlnaHRCYXI6IGZ1bmN0aW9uICgpIHtcbiAgICBcdHZhciBzZWxmID0gdGhpcztcblxuICAgIFx0dmFyIHJpZ2h0QmFyUHJvbWlzZXMgPSBbXTtcbiAgICBcdC8vIGZvciBlYWNoIGNvbnRlbnQgdHlwZSwgaW5pdGlhbGl6ZSB0aGUgd2lkZ2V0IG9uIHRoYXQgdHlwZSBhbmQgbG9hZCBpdHMgY29udGVudHNcbiAgICBcdCQuZWFjaChzZWxmLnR5cGVkQ29udGVudFdpZGdldFR5cGVzLCBmdW5jdGlvbihpLCB0eXBlKXtcbiAgICBcdFx0c2VsZi50eXBlZENvbnRlbnRXaWRnZXRzW3R5cGVdID0gbmV3IFR5cGVkQ29udGVudFdpZGdldFZpZXcoe1xuICAgICAgICBcdFx0ZWxQYXJlbnQ6IHNlbGYuJGVsLmZpbmQoJy50eXBlZC13aWRnZXRzLXJvb3QnKSxcbiAgICAgICAgXHRcdHR5cGU6IHR5cGUsXG4gICAgICAgIFx0XHRzb3J0SW5kZXg6IHNlbGYudWlQcmVmc1ZpZXcuZ2V0VWlQcmVmKHNlbGYudWlQcmVmS2V5UmlnaHRCYXJXaWRnZXQgKyB0eXBlKSxcbiAgICAgICAgXHR9LCBzZWxmLmFwcCk7XG4gICAgXHRcdHJpZ2h0QmFyUHJvbWlzZXMucHVzaChzZWxmLnR5cGVkQ29udGVudFdpZGdldHNbdHlwZV0ubG9hZCgpKTtcbiAgICBcdH0pO1xuICAgIFx0UHJvbWlzZS5hbGwocmlnaHRCYXJQcm9taXNlcykudGhlbihmdW5jdGlvbigpe1xuICAgICAgICBcdCQuY29zaW5udXMucmVuZGVyTW9tZW50RGF0YURhdGUoKTtcbiAgICAgICAgXHRzZWxmLnNvcnRSaWdodEJhcldpZGdldHMoKTtcbiAgICAgICAgXHRzZWxmLm1hbmFnZVdpZGdldENvbmRpdGlvbnMoKTtcbiAgICBcdFx0c2VsZi4kcmlnaHRCYXIuc2hvdygpO1xuICAgIFx0XHR1dGlsLmxvZygnIyAjIyMjIHNob3dpbmcgcmlnaHQgYmFyLicpXG4gICAgXHR9KTtcbiAgICB9LFxuICAgIFxuICAgIHNvcnRSaWdodEJhcldpZGdldHM6IGZ1bmN0aW9uICgpIHtcbiAgICBcdHRoaXMuJHJpZ2h0QmFyLmZpbmQoJ2Rpdi53aWRnZXQtY29udGVudCcpLnNvcnRFbGVtZW50cyhmdW5jdGlvbihhLCBiKXtcbiAgICBcdFx0cmV0dXJuICQoYSkuYXR0cignZGF0YS1zb3J0LWluZGV4JykgPiAkKGIpLmF0dHIoJ2RhdGEtc29ydC1pbmRleCcpID8gMSA6IC0xO1xuICAgIFx0fSk7XG4gICAgfSxcbiAgICBcbiAgICAvKiogQWZ0ZXIgZW1wdHkgd2lkZ2V0cyBoYXZlIHJlbW92ZWQgdGhlbXNlbHZlcywgd2lsbCBkaXNwbGF5IHRoZSBcIm5ldyB1c2Vyc1wiXG4gICAgICogIGluZm8gYm94IGlmIHRvbyBvciBub25lIGZldyBhcmUgc2hvd24gKi9cbiAgICBtYW5hZ2VXaWRnZXRDb25kaXRpb25zOiBmdW5jdGlvbiAoKSB7XG4gICAgXHQvLyBzaG93IHdpZGdldCBpbmZvIGJveCBpZiB1aSBwcmVmIGlzIHNldFxuICAgIFx0aWYgKHRoaXMudWlQcmVmc1ZpZXcuZ2V0VWlQcmVmKCd0aW1lbGluZV9faGlkZV93ZWxjb21lX3dpZGdldF9ib3gnKSkge1xuICAgIFx0XHR0aGlzLiRyaWdodEJhci5maW5kKCcud2VsY29tZV93aWRnZXRfYm94JykucmVtb3ZlKCk7XG4gICAgXHR9IGVsc2Uge1xuICAgIFx0XHR0aGlzLiRyaWdodEJhci5maW5kKCcud2VsY29tZV93aWRnZXRfYm94Jykuc2hvdygpO1xuICAgIFx0fVxuICAgIH0sXG4gICAgXG4gICAgbG9hZFRpbWVsaW5lOiBmdW5jdGlvbiAoKSB7XG4gICAgXHR2YXIgc2VsZiA9IHRoaXM7XG4gICAgXHRcbiAgICBcdC8vIHNob3cgd2VsY29tZSBzY3JlZW4gaWYgdWkgcHJlZiBpcyBzZXRcbiAgICBcdHZhciAkd2VsY29tZUZyYW1lID0gc2VsZi4kZWwuZmluZCgnLmRhc2hib2FyZC13ZWxjb21lLWZyYW1lJyk7XG4gICAgXHRpZiAoc2VsZi51aVByZWZzVmlldy5nZXRVaVByZWYoJ3RpbWVsaW5lX19oaWRlX3dlbGNvbWVfc2NyZWVuJykgfHwgJHdlbGNvbWVGcmFtZS5sZW5ndGggPT0gMCkge1xuICAgIFx0ICAgIGlmICgkd2VsY29tZUZyYW1lLmxlbmd0aCA+IDApIHtcbiAgICAgICAgXHRcdCR3ZWxjb21lRnJhbWUucmVtb3ZlKCk7XG4gICAgXHQgICAgfVxuICAgIFx0XHRcbiAgICBcdFx0Ly8gaWYgd2UgYXJlIG5vdCBzaG93aW5nIHRoZSB3ZWxjb21lIHNjcmVlbiwgc2hvdyB0aGUgZGFzaGJvYXJkIGFubm91bmNlbWVudCwgaWYgb25lIGV4aXN0c1xuICAgIFx0XHR2YXIgJGFubm91bmNlbWVudEZyYW1lID0gc2VsZi4kZWwuZmluZCgnLmRhc2hib2FyZC1hbm5vdW5jZW1lbnQtZnJhbWUnKTtcbiAgICBcdFx0aWYgKCRhbm5vdW5jZW1lbnRGcmFtZS5sZW5ndGggPiAwKSB7XG4gICAgXHRcdCAgICAkYW5ub3VuY2VtZW50RnJhbWUuc2hvdygpO1xuICAgIFx0XHR9XG4gICAgXHR9IGVsc2Uge1xuICAgIFx0XHQkd2VsY29tZUZyYW1lLnNob3coKTtcbiAgICBcdH1cbiAgICBcdFxuICAgIFx0c2VsZi50aW1lbGluZVZpZXcgPSBuZXcgVGltZWxpbmVWaWV3KHtcbiAgICBcdFx0ZWw6IHNlbGYuJGVsLmZpbmQoJy50aW1lbGluZS1yb290JyksXG4gICAgXHRcdGZvcmNlT25seU1pbmU6IHNlbGYub3B0aW9ucy5mb3JjZU9ubHlNaW5lLFxuICAgIFx0fSwgc2VsZi5hcHAsIHNlbGYudWlQcmVmc1ZpZXcpO1xuICAgIFx0c2VsZi50aW1lbGluZVZpZXcubG9hZCgpO1xuICAgIH0sXG4gICAgXG4gICAgXG4gICAgLyoqIFdoaWxlIHdlIGFyZSBmb2N1c2VkLCBjaGVjayBmb3IgY2xpY2tzIG91dHNpZGUgdG8gdHJpZ2dlciBjbG9zaW5nIHRoZSBtZW51ICovXG4gICAgY2hlY2tRdWlja1NlYXJjaEZvY3VzT3V0OiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBcdGlmICh0aGlzLiRlbC5oYXNDbGFzcygnYWN0aXZlJykgJiYgIXRoaXMuZWwuY29udGFpbnMoZXZlbnQudGFyZ2V0KSkge1xuICAgIFx0XHR0aGlzLiRlbC5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgXHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy50aGlzQ29udGV4dCh0aGlzLmNoZWNrUXVpY2tTZWFyY2hGb2N1c091dCkpO1xuICAgIFx0fVxuICAgIH0sXG4gICAgXG4gICAgLyoqIE1vdmVzIGEgd2lkZ2V0IHVwIG9yIGRvd24gYnkgc3dhcHBpbmcgaXQgd2l0aCBpdHMgc2libGluZy5cbiAgICAgKiAgUGFyYW1zOlxuICAgICAqICBcdC0gdHlwZTogdGhlIGNvbnRlbnQgdHlwZSBvZiB0aGUgc291cmNlIHdpZGdldCAoaS5lLiAnZXZlbnRzJylcbiAgICAgKiAgXHQtIGRpcmVjdGlvblVwOiB0cnVlIGZvciB1cCwgZmFsc2UgZm9yIGRvd25cbiAgICAgKi9cbiAgICBtb3ZlUmlnaHRTaWRlV2lkZ2V0OiBmdW5jdGlvbiAodHlwZSwgZGlyZWN0aW9uVXApIHtcbiAgICBcdHZhciBzZWxmID0gdGhpcztcbiAgICBcdFxuICAgIFx0Ly8gZmluZCBib3RoIHdpZGdldHNcbiAgICBcdHZhciB3aWRnZXQgPSBzZWxmLiRyaWdodEJhci5maW5kKCcud2lkZ2V0LWNvbnRlbnRbZGF0YS1jb250ZW50LXR5cGU9XCInICsgdHlwZSArICdcIl0nKTtcbiAgICBcdGlmICh3aWRnZXQubGVuZ3RoID09IDApIHtcbiAgICBcdFx0cmV0dXJuO1xuICAgIFx0fVxuICAgIFx0dmFyIG90aGVyX3dpZGdldCA9IGRpcmVjdGlvblVwID8gd2lkZ2V0LnByZXYoJy53aWRnZXQtY29udGVudCcpIDogd2lkZ2V0Lm5leHQoJy53aWRnZXQtY29udGVudCcpO1xuICAgIFx0aWYgKG90aGVyX3dpZGdldC5sZW5ndGggPT0gMCkge1xuICAgIFx0XHRyZXR1cm47XG4gICAgXHR9XG4gICAgXHRcbiAgICBcdC8vIHN3YXAgdGhlaXIgc29ydCBpbmRleFxuICAgIFx0dmFyIGlkeCA9IHdpZGdldC5hdHRyKCdkYXRhLXNvcnQtaW5kZXgnKTtcbiAgICBcdHZhciBvdGhlcl9pZHggPSBvdGhlcl93aWRnZXQuYXR0cignZGF0YS1zb3J0LWluZGV4Jyk7XG4gICAgXHR3aWRnZXQuYXR0cignZGF0YS1zb3J0LWluZGV4Jywgb3RoZXJfaWR4KTtcbiAgICBcdG90aGVyX3dpZGdldC5hdHRyKCdkYXRhLXNvcnQtaW5kZXgnLCBpZHgpO1xuICAgIFx0XG4gICAgXHQvLyBzb3J0IHRoZSB3aWRnZXRzXG4gICAgXHRzZWxmLnNvcnRSaWdodEJhcldpZGdldHMoKTtcbiAgICBcdFxuICAgIFx0Ly8gc2F2ZSB0aGUgdWlQcmVmc1xuICAgIFx0dmFyIHVpUHJlZnMgPSB7fTtcbiAgICBcdHVpUHJlZnNbc2VsZi51aVByZWZLZXlSaWdodEJhcldpZGdldCArIHdpZGdldC5hdHRyKCdkYXRhLWNvbnRlbnQtdHlwZScpXSA9IG90aGVyX2lkeDtcbiAgICBcdHVpUHJlZnNbc2VsZi51aVByZWZLZXlSaWdodEJhcldpZGdldCArIG90aGVyX3dpZGdldC5hdHRyKCdkYXRhLWNvbnRlbnQtdHlwZScpXSA9IGlkeDtcbiAgICBcdHNlbGYudWlQcmVmc1ZpZXcuc2F2ZVVpUHJlZnModWlQcmVmcyk7XG4gICAgfSxcblxufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Nvc2lubnVzL2NsaWVudC92aWV3cy91c2VyZGFzaGJvYXJkL3VzZXJkYXNoYm9hcmQtdmlldy5qc1xuLy8gbW9kdWxlIGlkID0gNTRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgQmFzZVZpZXcgPSByZXF1aXJlKCd2aWV3cy9iYXNlL3ZpZXcnKTtcbnZhciB1dGlsID0gcmVxdWlyZSgnbGliL3V0aWwnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBCYXNlVmlldy5leHRlbmQoe1xuXG5cdGFwcDogbnVsbCxcbiAgICB0ZW1wbGF0ZTogcmVxdWlyZSgndXNlcmRhc2hib2FyZC90aW1lbGluZScpLFxuICAgIFxuICAgIGZldGNoVVJMOiAnL2Rhc2hib2FyZC9hcGkvdGltZWxpbmUvJyxcbiAgICBcbiAgICB1aVByZWZzVmlldzogbnVsbCwgLy8gc2V0IGR1cmluZyBpbml0aWFsaXphdGlvblxuICAgIFxuICAgIC8vIHdpbGwgYmUgc2V0IHRvIHNlbGYub3B0aW9ucyBkdXJpbmcgaW5pdGlhbGl6YXRpb25cbiAgICBkZWZhdWx0czoge1xuICAgICAgICBcbiAgICBcdGZvcmNlT25seU1pbmU6IGZhbHNlLCAvLyBvdmVyd3JpdHRlbiBmcm9tIHBhc3NlZCBvcHRpb25zIGZyb20gaGlnaGVyIHZpZXdzXG4gICAgXHQvLyB0aGUgZm9sbG93aW5nIGFyZSAqY29tYmluYWJsZSogQU5EIGZpbHRlcnMsIG5vdCBleGNsdXNpdmUsIFxuICAgIFx0Ly8gbGlrZSB0aGUgaGlzdG9yaWNhbCBuYW1lIFwib25seVwiIHN1Z2dlc3RzIVxuICAgIFx0b25seU1pbmU6IHRydWUsIC8vIGNvbWJpbmFibGUgY29udGVudCBmaWx0ZXIuIGluaXRlZCBmcm9tIHVpUHJlZnNcbiAgICAgICAgb25seUZvcnVtOiB0cnVlLCAvLyBjb21iaW5hYmxlIGNvbnRlbnQgZmlsdGVyLiBpbml0ZWQgZnJvbSB1aVByZWZzXG4gICAgICAgIG9ubHlQdWJsaWM6IGZhbHNlLCAvLyBjb21iaW5hYmxlIGNvbnRlbnQgZmlsdGVyLiBpbml0ZWQgZnJvbSB1aVByZWZzXG4gICAgXHRcbiAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgXHRsb2FkaW5nOiBmYWxzZSwgLy8gaWYgdHJ1ZSwgYSByZXF1ZXN0IGlzIGN1cnJlbnRseSBsb2FkaW5nXG4gICAgICAgICAgICBjdXJyZW50UmVxdWVzdDogbnVsbCwgLy8gdGhlIFhNTEh0dHBSZXF1ZXN0IHRoYXQgaXMgY3VycmVudGx5IGxvYWRpbmdcbiAgICAgICAgICAgIGhhZEVycm9yczogZmFsc2UsXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIGxvYWQgcGFyYW1zLiBhbHNvIGluaXRpYWxpemVkIGluIGBpbml0aWFsaXplUGFyYW1zYFxuICAgIFx0XHRpdGVtc0xvYWRlZDogMCxcbiAgICBcdFx0b2Zmc2V0VGltZXN0YW1wOiBudWxsLFxuICAgIFx0XHRoYXNNb3JlOiB0cnVlLFxuICAgICAgICB9XG4gICAgfSxcbiAgICBcbiAgICAvLyBUaGUgRE9NIGV2ZW50cyBzcGVjaWZpYyB0byBhbiBpdGVtLlxuICAgIGV2ZW50czoge1xuICAgIFx0Ly8nZm9jdXMgLm5hdi1zZWFyY2gtYm94JzogJ29uU2VhcmNoQm94Rm9jdXNJbicsXG4gICAgXHQvLyB0b2RvOiBvbmx5TWluZSBidXR0b25cbiAgICBcdCdjaGFuZ2UgLnRvZ2dsZS1vbmx5LW1pbmUnOiAndG9nZ2xlT25seU1pbmVDbGlja2VkJyxcbiAgICAgICAgJ2NoYW5nZSAudG9nZ2xlLW9ubHktZm9ydW0nOiAndG9nZ2xlT25seUZvcnVtQ2xpY2tlZCcsXG4gICAgICAgICdjaGFuZ2UgLnRvZ2dsZS1vbmx5LXB1YmxpYyc6ICd0b2dnbGVPbmx5UHVibGljQ2xpY2tlZCcsXG4gICAgXHQnY2xpY2sgLnJldHJ5LWxvYWQnOiAncmV0cnlMb2FkQWZ0ZXJFcnJvcnMnLFxuICAgIFx0J2NsaWNrIC5zaG93LWFsbC1jb21tZW50cyc6ICdzaG93QWxsQ29tbWVudHNGb3JJdGVtJyxcbiAgICBcdCdjbGljayAuY29tbWVudC1mb3JtIDpub3QodGV4dGFyZWEpJzogJ2RlbGVnYXRlVGV4dElucHV0Q2xpY2snLFxuICAgIFx0J2tleXByZXNzIC5jb21tZW50LWZvcm0gdGV4dGFyZWEnOiAnY29tbWVudFRleHRib3hLZXlQcmVzc2VkJyxcbiAgICB9LFxuXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gKG9wdGlvbnMsIGFwcCwgdWlQcmVmc1ZpZXcpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBzZWxmLmFwcCA9IGFwcDtcbiAgICAgICAgQmFzZVZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbChzZWxmLCBvcHRpb25zKTtcbiAgICAgICAgXG4gICAgICAgIHNlbGYudWlQcmVmc1ZpZXcgPSB1aVByZWZzVmlldztcbiAgICAgICAgc2VsZi5vcHRpb25zLm9ubHlNaW5lID0gc2VsZi51aVByZWZzVmlldy5nZXRVaVByZWYoJ3RpbWVsaW5lX19vbmx5X21pbmUnKTtcbiAgICAgICAgc2VsZi5vcHRpb25zLm9ubHlGb3J1bSA9IHNlbGYudWlQcmVmc1ZpZXcuZ2V0VWlQcmVmKCd0aW1lbGluZV9fb25seV9mb3J1bScpO1xuICAgICAgICBzZWxmLm9wdGlvbnMub25seVB1YmxpYyA9IHNlbGYudWlQcmVmc1ZpZXcuZ2V0VWlQcmVmKCd0aW1lbGluZV9fb25seV9wdWJsaWMnKTtcbiAgICAgICAgc2VsZi5pbml0aWFsaXplUGFyYW1zKCk7XG4gICAgICAgIHNlbGYucmVuZGVyKCk7XG4gICAgfSxcbiAgICBcbiAgICBpbml0aWFsaXplUGFyYW1zOiBmdW5jdGlvbiAoKSB7XG4gICAgXHR2YXIgc2VsZiA9IHRoaXM7XG4gICAgXHRzZWxmLnN0YXRlLml0ZW1zTG9hZGVkID0gMDtcbiAgICBcdHNlbGYuc3RhdGUub2Zmc2V0VGltZXN0YW1wID0gbnVsbDtcbiAgICBcdHNlbGYuc3RhdGUuaGFzTW9yZSA9IHRydWU7XG4gICAgfSxcbiAgICBcbiAgICBnZXRQYXJhbXNGb3JGZXRjaFJlcXVlc3Q6IGZ1bmN0aW9uKCkge1xuICAgIFx0dmFyIHNlbGYgPSB0aGlzO1xuICAgIFx0dmFyIHVybFBhcmFtcyA9IHtcblx0XHRcdCdvbmx5X21pbmUnOiBzZWxmLm9wdGlvbnMuZm9yY2VPbmx5TWluZSB8fCBzZWxmLm9wdGlvbnMub25seU1pbmUsXG4gICAgICAgICAgICAnb25seV9mb3J1bSc6IHNlbGYub3B0aW9ucy5vbmx5Rm9ydW0sXG4gICAgICAgICAgICAnb25seV9wdWJsaWMnOiBzZWxmLm9wdGlvbnMub25seVB1YmxpYyxcbiAgICAgICAgICAgIFxuICAgIFx0fTtcbiAgICBcdGlmIChzZWxmLnN0YXRlLm9mZnNldFRpbWVzdGFtcCkge1xuICAgIFx0XHR1cmxQYXJhbXNbJ29mZnNldF90aW1lc3RhbXAnXSA9IHNlbGYuc3RhdGUub2Zmc2V0VGltZXN0YW1wO1xuICAgIFx0fVxuICAgIFx0cmV0dXJuIHt1cmxTdWZmaXg6IG51bGwsIHVybFBhcmFtczogdXJsUGFyYW1zfVxuICAgIH0sXG5cbiAgICByZW5kZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBCYXNlVmlldy5wcm90b3R5cGUucmVuZGVyLmNhbGwoc2VsZik7XG4gICAgICAgIHV0aWwubG9nKCcqKiogUmVuZGVyZWQgdGltZWxpbmUhICoqKicpXG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG4gICAgXG4gICAgLyoqIFJlc2V0cyBhbGwgdGltZWxpbmUtaXRlbXMgYW5kIGxvYWRzIGZyb20gd2l0aCBmcmVzaCBwYXJhbXMgKi9cbiAgICByZXNldEFuZExvYWQ6IGZ1bmN0aW9uICgpIHtcbiAgICBcdHZhciBzZWxmID0gdGhpcztcbiAgICBcdGlmIChzZWxmLnN0YXRlLmN1cnJlbnRSZXF1ZXN0KSB7XG4gICAgXHRcdHNlbGYuc3RhdGUuY3VycmVudFJlcXVlc3QuYWJvcnQoKTtcbiAgICBcdFx0c2VsZi5zdGF0ZS5jdXJyZW50UmVxdWVzdCA9IG51bGw7XG4gICAgXHR9XG4gICAgXHRzZWxmLnN0YXRlLmxvYWRpbmcgPSBmYWxzZTtcbiAgICBcdHNlbGYuc3RhdGUuaGFkRXJyb3JzID0gZmFsc2U7XG4gICAgXHRzZWxmLmluaXRpYWxpemVQYXJhbXMoKTtcbiAgICBcdHNlbGYucmVuZGVyKCk7XG4gICAgXHRzZWxmLmxvYWQoKTtcbiAgICB9LFxuICAgIFxuICAgIC8qKiBDYWxsZWQgZnJvbSB0aGUgXCJSZXRyeVwiIGJ1dHRvbiBzaG93biB3aXRoIGFuIGVycm9yIG1lc3NhZ2UgKi9cbiAgICByZXRyeUxvYWRBZnRlckVycm9yczogZnVuY3Rpb24gKCkge1xuICAgIFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdHNlbGYuc3RhdGUuaGFkRXJyb3JzID0gZmFsc2U7XG5cdFx0c2VsZi5sb2FkKCk7XG4gICAgfSxcbiAgICBcbiAgICAvKiogQ2FsbGVkIGZyb20gYSBcInNob3cgYWxsIGNvbW1lbnRzXCIgbGluayBmcm9tIGFuIGl0ZW0gKi9cbiAgICBzaG93QWxsQ29tbWVudHNGb3JJdGVtOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBcdHZhciBzZWxmID0gdGhpcztcblx0XHR2YXIgJHRhcmdldCA9ICQoZXZlbnQudGFyZ2V0KTtcblx0XHQkdGFyZ2V0LnBhcmVudHMoJy50aW1lbGluZS1pdGVtLWNvbW1lbnRzJykuZmluZCgnLnNob3duLXdoZW4tbW9yZScpLmhpZGUoKTtcblx0XHQkdGFyZ2V0LnBhcmVudHMoJy50aW1lbGluZS1pdGVtLWNvbW1lbnRzJykuZmluZCgnLmNvbW1lbnQtaGlkZGVuJykuZmFkZUluKCk7XG4gICAgfSxcbiAgICBcbiAgICAvKiogTWFrZXMgdGhlIGkuZmEgaWNvbiBjbGlja2FibGUgYXMgaWYgaXQgd2VyZSB0aGUgdGV4dGFyZWEgKi9cbiAgICBkZWxlZ2F0ZVRleHRJbnB1dENsaWNrOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBcdCQoZXZlbnQudGFyZ2V0KS5wYXJlbnRzKCcuY29tbWVudC1mb3JtJykuZmluZCgndGV4dGFyZWEnKS5mb2N1cygpO1xuICAgIH0sXG4gICAgXG4gICAgLyoqIFByZXNzaW5nIGVudGVyICh1bmxlc3Mgd2l0aCBzaGlmdCBvciBjdHJsKSBzZW5kcyB0aGUgZm9ybSAqL1xuICAgIGNvbW1lbnRUZXh0Ym94S2V5UHJlc3NlZDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgXHRpZiAoZXZlbnQua2V5Q29kZSA9PSAxMyAmJiAhZXZlbnQuc2hpZnRLZXkgJiYgIWV2ZW50LmN0cmxLZXkpIHtcbiAgICBcdCAgICB2YXIgJGZvcm0gPSAkKGV2ZW50LnRhcmdldCkucGFyZW50cygnZm9ybScpO1xuICAgIFx0ICAgIGlmICghJGZvcm0uaGFzQ2xhc3MoJ2Rpc2FibGVkJykpIHtcbiAgICBcdCAgICBcdCRmb3JtLnN1Ym1pdCgpO1xuICAgIFx0ICAgIH1cbiAgICBcdCAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIFx0fVxuICAgIH0sXG4gICAgXG4gICAgLyoqIENhbGwgdG8gbG9hZCBhIG5ldyBwYWdlIG9mIGl0ZW1zIGZyb20gdGhlIGN1cnJlbnQgb2Zmc2V0LFxuICAgICAqICB3aWxsIG9ubHkgZmlyZSBhIHJlcXVlc3QgaWYgbm8gb3RoZXIgcmVxdWVzdCBpcyBjdXJyZW50bHkgcnVubmluZyAqL1xuICAgIGxvYWQ6IGZ1bmN0aW9uICgpIHtcbiAgICBcdHZhciBzZWxmID0gdGhpcztcbiAgICBcdGlmICghc2VsZi5zdGF0ZS5sb2FkaW5nICYmICFzZWxmLnN0YXRlLmhhZEVycm9ycyAmJiBzZWxmLnN0YXRlLmhhc01vcmUpIHtcblx0ICAgIFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgXHRcdHNlbGYuc3RhdGUubG9hZGluZyA9IHRydWU7XG5cdCAgICBcdFx0c2VsZi5zaG93TG9hZGluZ1BsYWNlaG9sZGVyKCk7XG5cdCAgICBcdFx0c2VsZi5oaWRlRXJyb3JNZXNzYWdlKCk7XG5cdCAgICBcdFx0Ly8gdXNpbmcgdGhpcyBpbnN0ZWFkIG9mIC5maW5hbGx5KCkgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IGluIGJyb3dzZXJzXG5cdCAgICBcdFx0dmFyIGZpbmFsbHlfY29tcGF0ID0gZnVuY3Rpb24oKSB7XG5cdCAgICBcdFx0XHRzZWxmLnN0YXRlLmxvYWRpbmcgPSBmYWxzZTtcblx0ICAgIFx0XHRcdHNlbGYuaGlkZUxvYWRpbmdQbGFjZWhvbGRlcigpO1xuXHQgICAgXHRcdFx0cmVzb2x2ZSgpO1xuXHQgICAgXHRcdH07XG5cdCAgICBcdFx0c2VsZi5sb2FkRGF0YSgpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XG5cdCAgICBcdFx0XHR1dGlsLmxvZygnIyB0aW1lbGluZSByZWNlaXZlZCBkYXRhIGFuZCB3aWxsIGhhbmRsZSB0aGVtJyk7XG5cdCAgICBcdFx0XHRzZWxmLmVuYWJsZUluZmluaXRlU2Nyb2xsKCk7XG5cdCAgICBcdFx0XHRzZWxmLmhhbmRsZURhdGEoZGF0YSk7XG5cdCAgICBcdFx0XHRmaW5hbGx5X2NvbXBhdCgpO1xuXHQgICAgXHRcdH0pLmNhdGNoKGZ1bmN0aW9uKG1lc3NhZ2Upe1xuXHQgICAgXHRcdFx0c2VsZi5oYW5kbGVFcnJvcihtZXNzYWdlKTtcblx0ICAgIFx0XHRcdGZpbmFsbHlfY29tcGF0KCk7XG5cdCAgICBcdFx0fSk7XG5cdCAgICBcdH0pO1xuICAgIFx0fVxuICAgIH0sXG4gICAgXG4gICAgLyoqIExvYWRzIGEgc2V0IG9mIGRhdGEgZnJvbSB0aGUgc2VydmVyLiBSZXR1cm5zIGEgcHJvbWlzZVxuICAgICAqICB3aG9zZSByZXNvbHZlIGZ1bmN0aW9uIGdldHMgcGFzc2VkIHRoZSBkYXRhICovXG4gICAgbG9hZERhdGE6IGZ1bmN0aW9uKCkge1xuICAgIFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblx0XHRcdC8vIGJ1aWxkIFVSTFxuXHRcdFx0dmFyIHBhcmFtcyA9IHNlbGYuZ2V0UGFyYW1zRm9yRmV0Y2hSZXF1ZXN0KCk7XG5cdFx0XHR2YXIgdXJsID0gc2VsZi5mZXRjaFVSTCArIChwYXJhbXMudXJsU3VmZml4ID8gcGFyYW1zLnVybFN1ZmZpeCArICcvJyA6ICcnKTtcblx0XHRcdGlmIChwYXJhbXMudXJsUGFyYW1zKSB7XG5cdFx0XHRcdHVybCArPSAnPycgKyAkLnBhcmFtKHBhcmFtcy51cmxQYXJhbXMpO1xuXHRcdFx0fVxuXHRcdFx0c2VsZi5zdGF0ZS5jdXJyZW50UmVxdWVzdCA9ICQuYWpheCh1cmwsIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnR0VUJyxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UsIHRleHRTdGF0dXMsIHhocikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PSAyMDApIHtcbiAgICAgICAgICAgICAgICAgICAgXHRyZXNvbHZlKHJlc3BvbnNlWydkYXRhJ10pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBcdHJlamVjdCh4aHIuc3RhdHVzVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCB0ZXh0U3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgXHRyZWplY3QodGV4dFN0YXR1cyk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgXHRzZWxmLnN0YXRlLmN1cnJlbnRSZXF1ZXN0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICBcdH0pO1xuICAgIH0sXG4gICAgXG4gICAgaGFuZGxlRGF0YTogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICBcdHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdXRpbC5sb2coJyMgIyBGZXRjaGVkIGRhdGEgZm9yIHRpbWVsaW5lJyk7XG4gICAgICAgIHV0aWwubG9nKGRhdGEpXG4gICAgICAgIFxuICAgICAgICAvLyBkaXNwbGF5IGl0ZW1zIGlmIGFueVxuICAgICAgICBpZiAoZGF0YVsnY291bnQnXSA+IDApIHtcbiAgICAgICAgXHRzZWxmLnJlbmRlckxvYWRlZEl0ZW1zKGRhdGFbJ2l0ZW1zJ10pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhWydoYXNfbW9yZSddID09IHRydWUpIHtcbiAgICAgICAgXHQvLyBzZXQgaGFzTW9yZSBhbmQgb2Zmc2V0XG4gICAgICAgIFx0c2VsZi5zdGF0ZS5oYXNNb3JlID0gdHJ1ZTtcbiAgICAgICAgXHRzZWxmLnN0YXRlLm9mZnNldFRpbWVzdGFtcCA9IGRhdGFbJ2xhc3RfdGltZXN0YW1wJ107XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgIFx0Ly8gc2hvdyBmaW5hbCBkb3QgYW5kIGRpc2FibGUgaW5maW5pdGVzY3JvbGwgaWYgbm8gaGFzTW9yZVxuICAgICAgICBcdHNlbGYuc3RhdGUuaGFzTW9yZSA9IGZhbHNlO1xuICAgICAgICBcdHNlbGYuc2hvd0ZpbmFsRG90KCk7XG4gICAgICAgIFx0c2VsZi5kaXNhYmxlSW5maW5pdGVTY3JvbGwoKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgXG4gICAgcmVuZGVyTG9hZGVkSXRlbXM6IGZ1bmN0aW9uIChpdGVtcykge1xuICAgIFx0dmFyIHNlbGYgPSB0aGlzO1xuICAgIFx0dmFyIHRpbWVsaW5lID0gc2VsZi4kZWwuZmluZCgnLnRpbWVsaW5lJyk7XG4gICAgXHQkLmVhY2goaXRlbXMsIGZ1bmN0aW9uKGksIGl0ZW0pe1xuICAgIFx0XHR0aW1lbGluZS5hcHBlbmQoaXRlbSk7XG4gICAgXHR9KTtcblxuICAgIFx0JC5jb3Npbm51cy5yZW5kZXJNb21lbnREYXRhRGF0ZSgpO1xuXHRcdCQuY29zaW5udXMudHJ1bmNhdGVkVGV4dGZpZWxkKCk7XG5cdFx0c2VsZi5yZW1vdmVFbXB0eURpdnMoKTtcbiAgICB9LFxuICAgIFxuICAgIGhhbmRsZUVycm9yOiBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgIFx0dmFyIHNlbGYgPSB0aGlzO1xuICAgIFx0dXRpbC5sb2coJyMgIyBGZXRjaGVkIGRhdGEgZm9yIHRpbWVsaW5lJyk7XG4gICAgXHRzZWxmLmRpc2FibGVJbmZpbml0ZVNjcm9sbCgpO1xuICAgIFx0c2VsZi5zaG93RXJyb3JNZXNzYWdlKCk7XG4gICAgfSxcbiAgICBcbiAgICBzaG93RXJyb3JNZXNzYWdlOiBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgIFx0dGhpcy4kZWwuZmluZCgnLnRpbWVsaW5lLWVycm9yLW1lc3NhZ2UnKS5zaG93KCk7XG4gICAgfSxcbiAgICBcbiAgICBoaWRlRXJyb3JNZXNzYWdlOiBmdW5jdGlvbiAoKSB7XG4gICAgXHR0aGlzLiRlbC5maW5kKCcudGltZWxpbmUtZXJyb3ItbWVzc2FnZScpLmhpZGUoKTtcbiAgICB9LFxuICAgIFxuICAgIHNob3dMb2FkaW5nUGxhY2Vob2xkZXI6IGZ1bmN0aW9uICgpIHtcbiAgICBcdHZhciB0b3BIZWlnaHQgPSB0aGlzLiRlbC5oZWlnaHQoKTtcbiAgICBcdHRoaXMuJGVsLmZpbmQoJy50aW1lbGluZS1wbGFjZWhvbGRlci1mcmFtZScpLmNzcyh7J3RvcCc6IHRvcEhlaWdodH0pLnNob3coKTtcbiAgICB9LFxuICAgIFxuICAgIGhpZGVMb2FkaW5nUGxhY2Vob2xkZXI6IGZ1bmN0aW9uICgpIHtcbiAgICBcdHRoaXMuJGVsLmZpbmQoJy50aW1lbGluZS1wbGFjZWhvbGRlci1mcmFtZScpLmhpZGUoKTtcbiAgICB9LFxuICAgIFxuICAgIHNob3dGaW5hbERvdDogZnVuY3Rpb24gKCkge1xuICAgIFx0dGhpcy4kZWwuZmluZCgnLnRpbWVsaW5lLWZpbmFsLWRvdCcpLnNob3coKTtcbiAgICB9LFxuICAgIFxuICAgIGVuYWJsZUluZmluaXRlU2Nyb2xsOiBmdW5jdGlvbiAoKSB7XG4gICAgXHR2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICQod2luZG93KS5vZmYoJ3Njcm9sbCcpLm9uKCdzY3JvbGwnLCBzZWxmLnRoaXNDb250ZXh0KHRoaXMub25TY3JvbGwpKTtcbiAgICB9LFxuICAgIFxuICAgIGRpc2FibGVJbmZpbml0ZVNjcm9sbDogZnVuY3Rpb24gKCkge1xuICAgICAgICAkKHdpbmRvdykub2ZmKCdzY3JvbGwnKTtcbiAgICB9LFxuICAgIFxuICAgIHRvZ2dsZU9ubHlNaW5lQ2xpY2tlZDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgaWYgKHNlbGYub3B0aW9ucy5mb3JjZU9ubHlNaW5lKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5vcHRpb25zLm9ubHlNaW5lID0gZXZlbnQudGFyZ2V0LmNoZWNrZWQ7XG4gICAgICAgIC8vIHNhdmUgdWkgcHJlZlxuICAgICAgICBzZWxmLnVpUHJlZnNWaWV3LnNhdmVVaVByZWZzKHsndGltZWxpbmVfX29ubHlfbWluZSc6IHNlbGYub3B0aW9ucy5vbmx5TWluZX0pO1xuICAgICAgICBzZWxmLnJlc2V0QW5kTG9hZCgpO1xuICAgIH0sXG4gICAgXG4gICAgdG9nZ2xlT25seUZvcnVtQ2xpY2tlZDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgaWYgKHNlbGYub3B0aW9ucy5mb3JjZU9ubHlNaW5lKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5vcHRpb25zLm9ubHlGb3J1bSA9IGV2ZW50LnRhcmdldC5jaGVja2VkO1xuICAgICAgICAvLyBzYXZlIHVpIHByZWZcbiAgICAgICAgc2VsZi51aVByZWZzVmlldy5zYXZlVWlQcmVmcyh7J3RpbWVsaW5lX19vbmx5X2ZvcnVtJzogc2VsZi5vcHRpb25zLm9ubHlGb3J1bX0pO1xuICAgICAgICBzZWxmLnJlc2V0QW5kTG9hZCgpO1xuICAgIH0sXG4gICAgXG4gICAgdG9nZ2xlT25seVB1YmxpY0NsaWNrZWQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIGlmIChzZWxmLm9wdGlvbnMuZm9yY2VPbmx5TWluZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYub3B0aW9ucy5vbmx5UHVibGljID0gZXZlbnQudGFyZ2V0LmNoZWNrZWQ7XG4gICAgICAgIC8vIHNhdmUgdWkgcHJlZlxuICAgICAgICBzZWxmLnVpUHJlZnNWaWV3LnNhdmVVaVByZWZzKHsndGltZWxpbmVfX29ubHlfcHVibGljJzogc2VsZi5vcHRpb25zLm9ubHlQdWJsaWN9KTtcbiAgICAgICAgc2VsZi5yZXNldEFuZExvYWQoKTtcbiAgICB9LFxuICAgIFxuICAgIFxuICAgIFxuICAgIHJlbW92ZUVtcHR5RGl2czogZnVuY3Rpb24gKCkge1xuICAgIFx0dmFyIHNlbGYgPSB0aGlzO1xuICAgIFx0c2VsZi4kZWwuZmluZCgnLnJlbW92ZS1pZi1wcmV2LWVtcHR5JykuZWFjaChmdW5jdGlvbigpe1xuXHRcdFx0dmFyICRpdGVtID0gJCh0aGlzKTtcblx0XHRcdGlmICgkaXRlbS5wcmV2KCkudGV4dCgpLnJlcGxhY2UoL1xccy9nLCAnJykubGVuZ3RoID09IDApIHtcblx0XHRcdFx0JGl0ZW0ucmVtb3ZlKCk7XG5cdFx0XHR9XG5cdFx0fSk7XG4gICAgXHRzZWxmLiRlbC5maW5kKCcucmVtb3ZlLWlmLW5leHQtZW1wdHknKS5lYWNoKGZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgJGl0ZW0gPSAkKHRoaXMpO1xuXHRcdFx0aWYgKCRpdGVtLm5leHQoKS50ZXh0KCkucmVwbGFjZSgvXFxzL2csICcnKS5sZW5ndGggPT0gMCkge1xuXHRcdFx0XHQkaXRlbS5yZW1vdmUoKTtcblx0XHRcdH1cblx0XHR9KTtcbiAgICBcdHNlbGYuJGVsLmZpbmQoJy5yZW1vdmUtaWYtZW1wdHknKS5lYWNoKGZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgJGl0ZW0gPSAkKHRoaXMpO1xuXHRcdFx0aWYgKCRpdGVtLnRleHQoKS5yZXBsYWNlKC9cXHMvZywgJycpLmxlbmd0aCA9PSAwKSB7XG5cdFx0XHRcdCRpdGVtLnJlbW92ZSgpO1xuXHRcdFx0fVxuXHRcdH0pO1xuICAgIH0sXG4gICAgXG4gICAgLyoqIEhhbmRsZXMgZXZlbnRzIGZvciBpbmZpbml0ZSBzY3JvbGwgKi9cbiAgICBvblNjcm9sbDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgXHR2YXIgc2VsZiA9IHRoaXM7XG4gICAgXHQvLyBvbmx5IGNoZWNrIHNjcm9sbGluZyBpZiB0aGUgdGltZWxpbmUgaXMgdmlzaWJsZVxuICAgIFx0aWYgKHNlbGYuJGVsLmlzKCc6dmlzaWJsZScpKSB7XG4gICAgXHRcdHZhciAkd2luZG93ID0gJCh3aW5kb3cpO1xuICAgIFx0XHRpZiAoJHdpbmRvdy5oZWlnaHQoKSArICR3aW5kb3cuc2Nyb2xsVG9wKCkgPj0gJChkb2N1bWVudCkuaGVpZ2h0KCkgLSAyNTApIHtcbiAgICBcdFx0XHRzZWxmLmxvYWQoKTsgIC8vIGxvYWQoKSBoYW5kbGVzIHN0YXRlIGNoZWNrcyBpdHNlbGYgc28gaXQncyBzYWZlIHRvIGNhbGwgbXVsdGlwbGUgdGltZXMuXG4gICAgXHRcdH1cbiAgICBcdH1cbiAgICB9LFxuXG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29zaW5udXMvY2xpZW50L3ZpZXdzL3VzZXJkYXNoYm9hcmQvdGltZWxpbmUtdmlldy5qc1xuLy8gbW9kdWxlIGlkID0gNTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIG51bmp1Y2tzID0gcmVxdWlyZShcIm51bmp1Y2tzL2Jyb3dzZXIvbnVuanVja3Mtc2xpbVwiKTtcbnZhciBlbnY7XG5pZiAoIW51bmp1Y2tzLmN1cnJlbnRFbnYpe1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52ID0gbmV3IG51bmp1Y2tzLkVudmlyb25tZW50KFtdLCB1bmRlZmluZWQpO1xufSBlbHNlIHtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudjtcbn1cbnZhciBjb25maWd1cmUgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vLi4vbnVuanVja3MuY29uZmlnLmpzXCIpKGVudik7XG52YXIgZGVwZW5kZW5jaWVzID0gbnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyB8fCAobnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyA9IHt9KTtcbmRlcGVuZGVuY2llc1tcInVzZXJkYXNoYm9hcmQvdGltZWxpbmUtaXRlbS1wbGFjZWhvbGRlclwiXSA9IHJlcXVpcmUoIFwidXNlcmRhc2hib2FyZC90aW1lbGluZS1pdGVtLXBsYWNlaG9sZGVyXCIgKTtcblxuXG5cblxudmFyIHNoaW0gPSByZXF1aXJlKFwiL2hvbWUvc2FzY2hhL3ByL2Nvc2lubnVzLWNvcmUvbm9kZV9tb2R1bGVzL251bmp1Y2tzLWxvYWRlci9ydW50aW1lLXNoaW1cIik7XG5cblxuKGZ1bmN0aW9uKCkgeyhudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkID0gbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZCB8fCB7fSlbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3VzZXJkYXNoYm9hcmQvdGltZWxpbmUuaHRtbFwiXSA9IChmdW5jdGlvbigpIHtcbmZ1bmN0aW9uIHJvb3QoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbnZhciBwYXJlbnRUZW1wbGF0ZSA9IG51bGw7XG5pZighcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJmb3JjZU9ubHlNaW5lXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG5cXHQ8ZGl2IGNsYXNzPVxcXCJ0aW1lbGluZS1jb250cm9sc1xcXCI+XFxuXFx0XFxuXFx0ICAgIDxoMiBjbGFzcz1cXFwiaGVhZGxpbmUgaW5sYXllZC1oZWFkbGluZVxcXCI+XFxuXFx0ICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcblxcdCAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiRmlsdGVyXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0ICAgIDwvaDI+XFxuXFx0ICAgIFxcbiAgICAgICAgPHRhYmxlIGNsYXNzPVxcXCJvbm9mZnN3aXRjaC1mcmFtZVxcXCI+XFxuICAgICAgICAgICAgPHRyPlxcbiAgICAgICAgICAgICAgICA8dGQ+XFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJvbm9mZnN3aXRjaFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiBuYW1lPVxcXCJvbm9mZnN3aXRjaC1vbmx5LWZvcnVtXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XFxcIm9ub2Zmc3dpdGNoLWNoZWNrYm94IHRvZ2dsZS1vbmx5LWZvcnVtXFxcIiBpZD1cXFwiY2hlY2stb25seS1mb3J1bVxcXCIgXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwib25seUZvcnVtXCIpKSB7XG5vdXRwdXQgKz0gXCJjaGVja2VkXCI7XG47XG59XG5vdXRwdXQgKz0gXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJvbm9mZnN3aXRjaC1sYWJlbFxcXCIgZm9yPVxcXCJjaGVjay1vbmx5LWZvcnVtXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcIm9ub2Zmc3dpdGNoLWlubmVyXFxcIj48L3NwYW4+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJvbm9mZnN3aXRjaC1zd2l0Y2hcXFwiPjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgIDwvdGQ+XFxuICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFwib25vZmZzd2l0Y2gtdGV4dC1sYWJlbCB0ZXh0LWJvbGQgdGV4dC1zbWFsbFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiQ29udGVudCBmcm9tIHRoZSBGb3J1bVwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICA8L3RkPlxcbiAgICAgICAgICAgIDwvdHI+XFxuICAgICAgICA8L3RhYmxlPlxcblxcdFxcblxcdFxcdDx0YWJsZSBjbGFzcz1cXFwib25vZmZzd2l0Y2gtZnJhbWVcXFwiPlxcbiAgICAgICAgICAgIDx0cj5cXG4gICAgICAgICAgICAgICAgPHRkPlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwib25vZmZzd2l0Y2hcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJjaGVja2JveFxcXCIgbmFtZT1cXFwib25vZmZzd2l0Y2gtb25seS1taW5lXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XFxcIm9ub2Zmc3dpdGNoLWNoZWNrYm94IHRvZ2dsZS1vbmx5LW1pbmVcXFwiIGlkPVxcXCJjaGVjay1vbmx5LW1pbmVcXFwiIFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm9ubHlNaW5lXCIpKSB7XG5vdXRwdXQgKz0gXCJjaGVja2VkXCI7XG47XG59XG5vdXRwdXQgKz0gXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJvbm9mZnN3aXRjaC1sYWJlbFxcXCIgZm9yPVxcXCJjaGVjay1vbmx5LW1pbmVcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwib25vZmZzd2l0Y2gtaW5uZXJcXFwiPjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcIm9ub2Zmc3dpdGNoLXN3aXRjaFxcXCI+PC9zcGFuPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgPC90ZD5cXG4gICAgICAgICAgICAgICAgPHRkIGNsYXNzPVxcXCJvbm9mZnN3aXRjaC10ZXh0LWxhYmVsIHRleHQtYm9sZCB0ZXh0LXNtYWxsXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJDb250ZW50IGZyb20gbXkgR3JvdXBzIGFuZCBQcm9qZWN0c1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICA8L3RkPlxcbiAgICAgICAgICAgIDwvdHI+XFxuICAgICAgICA8L3RhYmxlPlxcbiAgICAgICAgXFxuICAgICAgICA8dGFibGUgY2xhc3M9XFxcIm9ub2Zmc3dpdGNoLWZyYW1lXFxcIj5cXG4gICAgICAgICAgICA8dHI+XFxuICAgICAgICAgICAgICAgIDx0ZD5cXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcIm9ub2Zmc3dpdGNoXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIG5hbWU9XFxcIm9ub2Zmc3dpdGNoLW9ubHktcHVibGljXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XFxcIm9ub2Zmc3dpdGNoLWNoZWNrYm94IHRvZ2dsZS1vbmx5LXB1YmxpY1xcXCIgaWQ9XFxcImNoZWNrLW9ubHktcHVibGljXFxcIiBcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xuaWYocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJvbmx5UHVibGljXCIpKSB7XG5vdXRwdXQgKz0gXCJjaGVja2VkXCI7XG47XG59XG5vdXRwdXQgKz0gXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJvbm9mZnN3aXRjaC1sYWJlbFxcXCIgZm9yPVxcXCJjaGVjay1vbmx5LXB1YmxpY1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJvbm9mZnN3aXRjaC1pbm5lclxcXCI+PC9zcGFuPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwib25vZmZzd2l0Y2gtc3dpdGNoXFxcIj48L3NwYW4+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICA8L3RkPlxcbiAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcIm9ub2Zmc3dpdGNoLXRleHQtbGFiZWwgdGV4dC1ib2xkIHRleHQtc21hbGxcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgXCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIkNPU0lOTlVTX1VTRVJfRVhURVJOQUxfVVNFUlNfRk9SQklEREVOXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIlBsYXRmb3JtIGNvbnRlbnRcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIFwiO1xuO1xufVxuZWxzZSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIlB1YmxpYyBjb250ZW50XCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgICAgICA8L3RkPlxcbiAgICAgICAgICAgIDwvdHI+XFxuICAgICAgICA8L3RhYmxlPlxcblxcdDwvZGl2PlxcblwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXFxuPGRpdiBjbGFzcz1cXFwidGltZWxpbmVcXFwiPlxcblxcdFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0PGRpdiBkYXRhLXRhcmdldD1cXFwiYWpheC1mb3JtLXJlc3VsdC1hbmNob3JcXFwiIGRhdGEtYWpheC1mb3JtLWlkPVxcXCJub3RlLWNyZWF0ZS1mb3JtXFxcIj48L2Rpdj5cXG48L2Rpdj5cXG5cXG5cXG48ZGl2IGNsYXNzPVxcXCJ0aW1lbGluZS1lcnJvci1tZXNzYWdlXFxcIiBzdHlsZT1cXFwiZGlzcGxheTogbm9uZTtcXFwiPlxcblxcdDxkaXY+XFxuXFx0XFx0XCI7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIldlIGNvdWxkIG5vdCBsb2FkIG1vcmUgZGF0YSBhdCB0aGlzIHRpbWUuXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0PGEgaHJlZj1cXFwiI1xcXCIgY2xhc3M9XFxcInJldHJ5LWxvYWRcXFwiPlxcblxcdCAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG5cXHQgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIlJldHJ5XCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0ICAgIDwvYT5cXG4gICAgPC9kaXY+XFxuPC9kaXY+XFxuXFxuPGRpdiBjbGFzcz1cXFwidGltZWxpbmUtZmluYWwtZG90XFxcIiBzdHlsZT1cXFwiZGlzcGxheTogbm9uZTtcXFwiPlxcblxcdDxkaXY+XFxuXFx0XFx0PGkgY2xhc3M9XFxcImZhcyBmYS1mdyBmYS1jaXJjbGVcXFwiPjwvaT5cXG5cXHQ8L2Rpdj5cXG48L2Rpdj5cXG5cXG48ZGl2IGNsYXNzPVxcXCJ0aW1lbGluZS1wbGFjZWhvbGRlci1mcmFtZVxcXCIgc3R5bGU9XFxcImRpc3BsYXk6IG5vbmU7XFxcIj5cXG5cXHRcIjtcbmVudi5nZXRUZW1wbGF0ZShcInVzZXJkYXNoYm9hcmQvdGltZWxpbmUtaXRlbS1wbGFjZWhvbGRlclwiLCBmYWxzZSwgXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3VzZXJkYXNoYm9hcmQvdGltZWxpbmUuaHRtbFwiLCBudWxsLCBmdW5jdGlvbih0XzMsdF8xKSB7XG5pZih0XzMpIHsgY2IodF8zKTsgcmV0dXJuOyB9XG50XzEucmVuZGVyKGNvbnRleHQuZ2V0VmFyaWFibGVzKCksIGZyYW1lLCBmdW5jdGlvbih0XzQsdF8yKSB7XG5pZih0XzQpIHsgY2IodF80KTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF8yXG5vdXRwdXQgKz0gXCJcXG5cXHRcIjtcbmVudi5nZXRUZW1wbGF0ZShcInVzZXJkYXNoYm9hcmQvdGltZWxpbmUtaXRlbS1wbGFjZWhvbGRlclwiLCBmYWxzZSwgXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3VzZXJkYXNoYm9hcmQvdGltZWxpbmUuaHRtbFwiLCBudWxsLCBmdW5jdGlvbih0XzcsdF81KSB7XG5pZih0XzcpIHsgY2IodF83KTsgcmV0dXJuOyB9XG50XzUucmVuZGVyKGNvbnRleHQuZ2V0VmFyaWFibGVzKCksIGZyYW1lLCBmdW5jdGlvbih0XzgsdF82KSB7XG5pZih0XzgpIHsgY2IodF84KTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF82XG5vdXRwdXQgKz0gXCJcXG5cXHRcIjtcbmVudi5nZXRUZW1wbGF0ZShcInVzZXJkYXNoYm9hcmQvdGltZWxpbmUtaXRlbS1wbGFjZWhvbGRlclwiLCBmYWxzZSwgXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3VzZXJkYXNoYm9hcmQvdGltZWxpbmUuaHRtbFwiLCBudWxsLCBmdW5jdGlvbih0XzExLHRfOSkge1xuaWYodF8xMSkgeyBjYih0XzExKTsgcmV0dXJuOyB9XG50XzkucmVuZGVyKGNvbnRleHQuZ2V0VmFyaWFibGVzKCksIGZyYW1lLCBmdW5jdGlvbih0XzEyLHRfMTApIHtcbmlmKHRfMTIpIHsgY2IodF8xMik7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfMTBcbm91dHB1dCArPSBcIlxcbjwvZGl2PlxcblwiO1xuaWYocGFyZW50VGVtcGxhdGUpIHtcbnBhcmVudFRlbXBsYXRlLnJvb3RSZW5kZXJGdW5jKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKTtcbn0gZWxzZSB7XG5jYihudWxsLCBvdXRwdXQpO1xufVxufSl9KX0pfSl9KX0pO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbnJldHVybiB7XG5yb290OiByb290XG59O1xuXG59KSgpO1xufSkoKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gc2hpbShudW5qdWNrcywgZW52LCBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkW1wiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC91c2VyZGFzaGJvYXJkL3RpbWVsaW5lLmh0bWxcIl0gLCBkZXBlbmRlbmNpZXMpXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3VzZXJkYXNoYm9hcmQvdGltZWxpbmUuaHRtbFxuLy8gbW9kdWxlIGlkID0gNTZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIG51bmp1Y2tzID0gcmVxdWlyZShcIm51bmp1Y2tzL2Jyb3dzZXIvbnVuanVja3Mtc2xpbVwiKTtcbnZhciBlbnY7XG5pZiAoIW51bmp1Y2tzLmN1cnJlbnRFbnYpe1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52ID0gbmV3IG51bmp1Y2tzLkVudmlyb25tZW50KFtdLCB1bmRlZmluZWQpO1xufSBlbHNlIHtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudjtcbn1cbnZhciBjb25maWd1cmUgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vLi4vbnVuanVja3MuY29uZmlnLmpzXCIpKGVudik7XG52YXIgZGVwZW5kZW5jaWVzID0gbnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyB8fCAobnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyA9IHt9KTtcblxuXG5cblxudmFyIHNoaW0gPSByZXF1aXJlKFwiL2hvbWUvc2FzY2hhL3ByL2Nvc2lubnVzLWNvcmUvbm9kZV9tb2R1bGVzL251bmp1Y2tzLWxvYWRlci9ydW50aW1lLXNoaW1cIik7XG5cblxuKGZ1bmN0aW9uKCkgeyhudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkID0gbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZCB8fCB7fSlbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3VzZXJkYXNoYm9hcmQvdGltZWxpbmUtaXRlbS1wbGFjZWhvbGRlci5odG1sXCJdID0gKGZ1bmN0aW9uKCkge1xuZnVuY3Rpb24gcm9vdChlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xudmFyIHBhcmVudFRlbXBsYXRlID0gbnVsbDtcbm91dHB1dCArPSBcIjxkaXYgY2xhc3M9XFxcInRpbWVsaW5lLWl0ZW0gcGxhY2Vob2xkZXJcXFwiPlxcblxcdFxcblxcdDxkaXYgY2xhc3M9XFxcInRpbWVsaW5lLWl0ZW0tcm93IGhlYWRlclxcXCI+XFxuXFx0XFx0PGRpdiBjbGFzcz1cXFwiaGVhZGVyLWF2YXRhclxcXCI+XFxuXFx0XFx0XFx0PGRpdiBjbGFzcz1cXFwiYW5pbWF0ZWQtYmFja2dyb3VuZCBpbWFnZVxcXCI+PC9kaXY+XFxuXFx0XFx0PC9kaXY+XFxuXFx0XFx0PGRpdiBjbGFzcz1cXFwiaGVhZGVyLWluZm9cXFwiPlxcblxcdFxcdFxcdDxkaXYgY2xhc3M9XFxcIml0ZW0taW5mb1xcXCI+XFxuXFx0XFx0XFx0XFx0PGRpdiBjbGFzcz1cXFwiYW5pbWF0ZWQtYmFja2dyb3VuZCByZWd1bGFyLWxpbmUgdzFcXFwiPjwvZGl2PlxcblxcdFxcdFxcdDwvZGl2PlxcblxcdFxcdFxcdDxkaXYgY2xhc3M9XFxcIml0ZW0tZGF0ZSBwYWxlLWNvbG9yXFxcIj5cXG5cXHRcXHRcXHRcXHQ8ZGl2IGNsYXNzPVxcXCJhbmltYXRlZC1iYWNrZ3JvdW5kIHRoaW4tbGluZSB3MlxcXCI+PC9kaXY+XFxuXFx0XFx0XFx0PC9kaXY+XFxuXFx0XFx0PC9kaXY+XFxuXFx0PC9kaXY+XFxuXFx0XFxuXFx0PGRpdiBjbGFzcz1cXFwidGltZWxpbmUtaXRlbS1yb3cgYm9keVxcXCI+XFxuXFx0XFx0PGRpdiBjbGFzcz1cXFwiYW5pbWF0ZWQtYmFja2dyb3VuZCByZWd1bGFyLWxpbmUgdzNcXFwiPjwvZGl2PlxcblxcdFxcdDxkaXYgY2xhc3M9XFxcImFuaW1hdGVkLWJhY2tncm91bmQgcmVndWxhci1saW5lIHc0XFxcIj48L2Rpdj5cXG5cXHRcXHQ8ZGl2IGNsYXNzPVxcXCJhbmltYXRlZC1iYWNrZ3JvdW5kIHJlZ3VsYXItbGluZSB3NVxcXCI+PC9kaXY+XFxuXFx0XFx0PGRpdiBjbGFzcz1cXFwicGxhY2Vob2xkZXItc3BhY2VyXFxcIj48L2Rpdj5cXG5cXHQ8L2Rpdj5cXG5cXHRcXG48L2Rpdj5cIjtcbmlmKHBhcmVudFRlbXBsYXRlKSB7XG5wYXJlbnRUZW1wbGF0ZS5yb290UmVuZGVyRnVuYyhlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYik7XG59IGVsc2Uge1xuY2IobnVsbCwgb3V0cHV0KTtcbn1cbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5yZXR1cm4ge1xucm9vdDogcm9vdFxufTtcblxufSkoKTtcbn0pKCk7XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHNoaW0obnVuanVja3MsIGVudiwgbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZFtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdXNlcmRhc2hib2FyZC90aW1lbGluZS1pdGVtLXBsYWNlaG9sZGVyLmh0bWxcIl0gLCBkZXBlbmRlbmNpZXMpXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3VzZXJkYXNoYm9hcmQvdGltZWxpbmUtaXRlbS1wbGFjZWhvbGRlci5odG1sXG4vLyBtb2R1bGUgaWQgPSA1N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbnZhciBEZWxlZ2F0ZWRXaWRnZXRWaWV3ID0gcmVxdWlyZSgndmlld3MvYmFzZS9kZWxlZ2F0ZWQtd2lkZ2V0LXZpZXcnKTtcbnZhciB1dGlsID0gcmVxdWlyZSgnbGliL3V0aWwnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBEZWxlZ2F0ZWRXaWRnZXRWaWV3LmV4dGVuZCh7XG5cblx0YXBwOiBudWxsLFxuICAgIHRlbXBsYXRlOiByZXF1aXJlKCd1c2VyZGFzaGJvYXJkL2dyb3VwLXdpZGdldCcpLFxuICAgIFxuICAgIGZldGNoVVJMOiAnL2Rhc2hib2FyZC9hcGkvdXNlcl9ncm91cHMvJywgLy8gb3ZlcnJpZGRlbiBmb3Igc3Vidmlld1xuICAgIFxuICAgIC8vIHdpbGwgYmUgc2V0IHRvIHNlbGYub3B0aW9ucyBkdXJpbmcgaW5pdGlhbGl6YXRpb25cbiAgICBkZWZhdWx0czoge1xuICAgICAgICBcbiAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgfSxcbiAgICBcbiAgICAvLyBUaGUgRE9NIGV2ZW50cyBzcGVjaWZpYyB0byBhbiBpdGVtLlxuICAgIGV2ZW50czoge1xuICAgIFx0Ly8nZm9jdXMgLm5hdi1zZWFyY2gtYm94JzogJ29uU2VhcmNoQm94Rm9jdXNJbicsXG4gICAgfSxcblxuICAgIC8qKiBPdmVycmlkaW5nIGJhc2UgZnVuY3Rpb24gZm9yIHVuaXF1ZSB3aWRnZXQgSUQuICovXG4gICAgZ2V0V2lkZ2V0SWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gJ2dyb3VwLXdpZGdldCc7XG4gICAgfSxcbiAgICBcbiAgICAvKiogT3ZlcnJpZGluZyBwYXJhbXMgZm9yIHJlcXVlc3QgKi9cbiAgICBnZXRQYXJhbXNGb3JGZXRjaFJlcXVlc3Q6IGZ1bmN0aW9uKCkge1xuICAgIFx0cmV0dXJuIHt1cmxTdWZmaXg6IG51bGwsIHVybFBhcmFtczoge319XG4gICAgfSxcbiAgICBcblxuICAgIHJlbmRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIERlbGVnYXRlZFdpZGdldFZpZXcucHJvdG90eXBlLnJlbmRlci5jYWxsKHNlbGYpO1xuICAgICAgICBcbiAgICAgICAgdXRpbC5sb2coJyoqKiBSZW5kZXJlZCBncm91cC13aWRnZXQhICoqKicpXG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG4gICAgXG4gICAgLyoqIEV4dGVuZCB0aGUgdGVtcGxhdGUgZGF0YSBieSB0aGUgY29udHJvbFZpZXcncyBvcHRpb25zIGFuZCBzdGF0ZSAqL1xuICAgIGdldFRlbXBsYXRlRGF0YTogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBkYXRhID0gRGVsZWdhdGVkV2lkZ2V0Vmlldy5wcm90b3R5cGUuZ2V0VGVtcGxhdGVEYXRhLmNhbGwoc2VsZik7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH0sXG4gICAgXG4gICAgXG4gICAgXG5cbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy9jbGllbnQvdmlld3MvdXNlcmRhc2hib2FyZC9ncm91cC13aWRnZXQtdmlldy5qc1xuLy8gbW9kdWxlIGlkID0gNThcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIG51bmp1Y2tzID0gcmVxdWlyZShcIm51bmp1Y2tzL2Jyb3dzZXIvbnVuanVja3Mtc2xpbVwiKTtcbnZhciBlbnY7XG5pZiAoIW51bmp1Y2tzLmN1cnJlbnRFbnYpe1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52ID0gbmV3IG51bmp1Y2tzLkVudmlyb25tZW50KFtdLCB1bmRlZmluZWQpO1xufSBlbHNlIHtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudjtcbn1cbnZhciBjb25maWd1cmUgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vLi4vbnVuanVja3MuY29uZmlnLmpzXCIpKGVudik7XG52YXIgZGVwZW5kZW5jaWVzID0gbnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyB8fCAobnVuanVja3Mud2VicGFja0RlcGVuZGVuY2llcyA9IHt9KTtcbmRlcGVuZGVuY2llc1tcInVzZXJkYXNoYm9hcmQvYmFzZS13aWRnZXRcIl0gPSByZXF1aXJlKCBcInVzZXJkYXNoYm9hcmQvYmFzZS13aWRnZXRcIiApO1xuZGVwZW5kZW5jaWVzW1wiaW5jbHVkZS9tYWNyb3MuaHRtbFwiXSA9IHJlcXVpcmUoIFwiaW5jbHVkZS9tYWNyb3MuaHRtbFwiICk7XG5cblxuXG5cbnZhciBzaGltID0gcmVxdWlyZShcIi9ob21lL3Nhc2NoYS9wci9jb3Npbm51cy1jb3JlL25vZGVfbW9kdWxlcy9udW5qdWNrcy1sb2FkZXIvcnVudGltZS1zaGltXCIpO1xuXG5cbihmdW5jdGlvbigpIHsobnVuanVja3MubnVuanVja3NQcmVjb21waWxlZCA9IG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgfHwge30pW1wiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC91c2VyZGFzaGJvYXJkL2dyb3VwLXdpZGdldC5odG1sXCJdID0gKGZ1bmN0aW9uKCkge1xuZnVuY3Rpb24gcm9vdChlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xudmFyIHBhcmVudFRlbXBsYXRlID0gbnVsbDtcbmVudi5nZXRUZW1wbGF0ZShcInVzZXJkYXNoYm9hcmQvYmFzZS13aWRnZXRcIiwgdHJ1ZSwgXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3VzZXJkYXNoYm9hcmQvZ3JvdXAtd2lkZ2V0Lmh0bWxcIiwgZmFsc2UsIGZ1bmN0aW9uKHRfMixfcGFyZW50VGVtcGxhdGUpIHtcbmlmKHRfMikgeyBjYih0XzIpOyByZXR1cm47IH1cbnBhcmVudFRlbXBsYXRlID0gX3BhcmVudFRlbXBsYXRlXG5mb3IodmFyIHRfMSBpbiBwYXJlbnRUZW1wbGF0ZS5ibG9ja3MpIHtcbmNvbnRleHQuYWRkQmxvY2sodF8xLCBwYXJlbnRUZW1wbGF0ZS5ibG9ja3NbdF8xXSk7XG59XG5vdXRwdXQgKz0gXCJcXG5cIjtcbmVudi5nZXRUZW1wbGF0ZShcImluY2x1ZGUvbWFjcm9zLmh0bWxcIiwgZmFsc2UsIFwiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC91c2VyZGFzaGJvYXJkL2dyb3VwLXdpZGdldC5odG1sXCIsIGZhbHNlLCBmdW5jdGlvbih0XzQsdF8zKSB7XG5pZih0XzQpIHsgY2IodF80KTsgcmV0dXJuOyB9XG50XzMuZ2V0RXhwb3J0ZWQoZnVuY3Rpb24odF81LHRfMykge1xuaWYodF81KSB7IGNiKHRfNSk7IHJldHVybjsgfVxuY29udGV4dC5zZXRWYXJpYWJsZShcIm1hY3Jvc1wiLCB0XzMpO1xub3V0cHV0ICs9IFwiXFxuXFxuXCI7XG4ocGFyZW50VGVtcGxhdGUgPyBmdW5jdGlvbihlLCBjLCBmLCByLCBjYikgeyBjYihcIlwiKTsgfSA6IGNvbnRleHQuZ2V0QmxvY2soXCJ0aXRsZVwiKSkoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF83LHRfNikge1xuaWYodF83KSB7IGNiKHRfNyk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfNjtcbm91dHB1dCArPSBcIlxcblxcblwiO1xuKHBhcmVudFRlbXBsYXRlID8gZnVuY3Rpb24oZSwgYywgZiwgciwgY2IpIHsgY2IoXCJcIik7IH0gOiBjb250ZXh0LmdldEJsb2NrKFwiY29udGVudFwiKSkoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF85LHRfOCkge1xuaWYodF85KSB7IGNiKHRfOSk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfODtcbmlmKHBhcmVudFRlbXBsYXRlKSB7XG5wYXJlbnRUZW1wbGF0ZS5yb290UmVuZGVyRnVuYyhlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYik7XG59IGVsc2Uge1xuY2IobnVsbCwgb3V0cHV0KTtcbn1cbn0pfSl9KX0pfSk7XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl90aXRsZShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xub3V0cHV0ICs9IFwiXFxuICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiR3JvdXBzIGFuZCBQcm9qZWN0c1wiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX2NvbnRlbnQoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcblxcdFxcblxcdFwiO1xuaWYoZW52LmdldEZpbHRlcihcImxlbmd0aFwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZ3JvdXBfY2x1c3RlcnNcIikpID4gMCkge1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0PHVsIGNsYXNzPVxcXCJpdGVtLWxpc3RcXFwiPlxcblxcdFxcdFxcdFwiO1xuZnJhbWUgPSBmcmFtZS5wdXNoKCk7XG52YXIgdF8xMiA9IHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiZ3JvdXBfY2x1c3RlcnNcIik7XG5pZih0XzEyKSB7dmFyIHRfMTEgPSB0XzEyLmxlbmd0aDtcbmZvcih2YXIgdF8xMD0wOyB0XzEwIDwgdF8xMi5sZW5ndGg7IHRfMTArKykge1xudmFyIHRfMTMgPSB0XzEyW3RfMTBdO1xuZnJhbWUuc2V0KFwiY2x1c3RlclwiLCB0XzEzKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXhcIiwgdF8xMCArIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleDBcIiwgdF8xMCk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4XCIsIHRfMTEgLSB0XzEwKTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXgwXCIsIHRfMTEgLSB0XzEwIC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmZpcnN0XCIsIHRfMTAgPT09IDApO1xuZnJhbWUuc2V0KFwibG9vcC5sYXN0XCIsIHRfMTAgPT09IHRfMTEgLSAxKTtcbmZyYW1lLnNldChcImxvb3AubGVuZ3RoXCIsIHRfMTEpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XCI7XG5mcmFtZSA9IGZyYW1lLnB1c2goKTtcbnZhciB0XzE2ID0gdF8xMztcbmlmKHRfMTYpIHt2YXIgdF8xNSA9IHRfMTYubGVuZ3RoO1xuZm9yKHZhciB0XzE0PTA7IHRfMTQgPCB0XzE2Lmxlbmd0aDsgdF8xNCsrKSB7XG52YXIgdF8xNyA9IHRfMTZbdF8xNF07XG5mcmFtZS5zZXQoXCJpdGVtXCIsIHRfMTcpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleFwiLCB0XzE0ICsgMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4MFwiLCB0XzE0KTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXhcIiwgdF8xNSAtIHRfMTQpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleDBcIiwgdF8xNSAtIHRfMTQgLSAxKTtcbmZyYW1lLnNldChcImxvb3AuZmlyc3RcIiwgdF8xNCA9PT0gMCk7XG5mcmFtZS5zZXQoXCJsb29wLmxhc3RcIiwgdF8xNCA9PT0gdF8xNSAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5sZW5ndGhcIiwgdF8xNSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcIjtcbmlmKHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzE3KSxcImhhc21vcmVsaW5rXCIpKSB7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHQ8bGk+XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0PGEgY2xhc3M9XFxcImxpc3QtaXRlbSBsaXN0LWl0ZW0tbGlua1xcXCIgaHJlZj1cXFwiI1xcXCIgcm9sZT1cXFwiYnV0dG9uXFxcIiB0aXRsZWRieT1cXFwiLml0ZW0tdGV4dFxcXCI+IFxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdDxkaXYgaWQ9XFxcIm1vcmUtbGluazFcXFwiIGNsYXNzPVxcXCJpdGVtLXRleHRcXFwiPlxcblxcdFxcdFxcdFxcdFxcdCAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIlNob3cgbW9yZSBQcm9qZWN0cyBvZiB0aGlzIEdyb3VwXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0PC9kaXY+XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0PGE+XFxuXFx0XFx0XFx0XFx0XFx0XFx0PC9saT5cXG5cXHRcXHRcXHRcXHRcXHRcIjtcbjtcbn1cbmVsc2Uge1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKChsaW5lbm8gPSAyNCwgY29sbm8gPSAyMiwgcnVudGltZS5jYWxsV3JhcChydW50aW1lLm1lbWJlckxvb2t1cCgocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJtYWNyb3NcIikpLFwibGlzdEl0ZW1cIiksIFwibWFjcm9zW1xcXCJsaXN0SXRlbVxcXCJdXCIsIGNvbnRleHQsIFtydW50aW1lLm1lbWJlckxvb2t1cCgodF8xNyksXCJ0ZXh0XCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzE3KSxcInVybFwiKSxydW50aW1lLm1lbWJlckxvb2t1cCgodF8xNyksXCJpY29uXCIpLHJ1bnRpbWUubWFrZUtleXdvcmRBcmdzKHtcImlzX2VtcGhhc2l6ZWRcIjogcnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTcpLFwiaXNfZW1waGFzaXplZFwiKX0pXSkpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XCI7XG47XG59XG59XG5mcmFtZSA9IGZyYW1lLnBvcCgpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFxuXFx0XFx0XFx0XFx0XCI7XG5pZighcnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibG9vcFwiKSksXCJsYXN0XCIpKSB7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHQ8bGk+XFxuXFx0XFx0XFx0XFx0XFx0XFx0PGhyPlxcblxcdFxcdFxcdFxcdFxcdDwvbGk+XFxuXFx0XFx0XFx0XFx0XCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcIjtcbjtcbn1cbn1cbmZyYW1lID0gZnJhbWUucG9wKCk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHQ8L3VsPlxcblxcdFwiO1xuO1xufVxuZWxzZSB7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHQ8ZGl2IGNsYXNzPVxcXCJ3aWRnZXQtaW5mby1ib3ggbm8tc2VsZWN0XFxcIj5cXG4gICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkhlcmUgeW91IGNhbiBmaW5kIGFuIG92ZXJ2aWV3IG9mIHlvdXIgR3JvdXBzIGFuZCBQcm9qZWN0cyBvbmNlIHlvdSBiZWNvbWUgYWN0aXZlIGluIG9uZSBvciBtb3JlIG9mIHRoZW0uXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0PGJyLz5cXG5cXHRcXHRcXHQ8YnIvPlxcbiAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiWW91IGNhbiBjcmVhdGUgR3JvdXBzIG9yIFByb2plY3RzIHZpYSB0aGUgJysnIGJ1dHRvbiBpbiB0aGUgaGVhZGVyLlwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdDwvZGl2PlxcblxcdFwiO1xuO1xufVxub3V0cHV0ICs9IFwiXFxuXFx0XFxuXCI7XG5jYihudWxsLCBvdXRwdXQpO1xuO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbnJldHVybiB7XG5iX3RpdGxlOiBiX3RpdGxlLFxuYl9jb250ZW50OiBiX2NvbnRlbnQsXG5yb290OiByb290XG59O1xuXG59KSgpO1xufSkoKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gc2hpbShudW5qdWNrcywgZW52LCBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkW1wiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC91c2VyZGFzaGJvYXJkL2dyb3VwLXdpZGdldC5odG1sXCJdICwgZGVwZW5kZW5jaWVzKVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC91c2VyZGFzaGJvYXJkL2dyb3VwLXdpZGdldC5odG1sXG4vLyBtb2R1bGUgaWQgPSA1OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgbnVuanVja3MgPSByZXF1aXJlKFwibnVuanVja3MvYnJvd3Nlci9udW5qdWNrcy1zbGltXCIpO1xudmFyIGVudjtcbmlmICghbnVuanVja3MuY3VycmVudEVudil7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnYgPSBuZXcgbnVuanVja3MuRW52aXJvbm1lbnQoW10sIHVuZGVmaW5lZCk7XG59IGVsc2Uge1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52O1xufVxudmFyIGNvbmZpZ3VyZSA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi8uLi9udW5qdWNrcy5jb25maWcuanNcIikoZW52KTtcbnZhciBkZXBlbmRlbmNpZXMgPSBudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzIHx8IChudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzID0ge30pO1xuZGVwZW5kZW5jaWVzW1wiaW5jbHVkZS9tYWNyb3MuaHRtbFwiXSA9IHJlcXVpcmUoIFwiaW5jbHVkZS9tYWNyb3MuaHRtbFwiICk7XG5cblxuXG5cbnZhciBzaGltID0gcmVxdWlyZShcIi9ob21lL3Nhc2NoYS9wci9jb3Npbm51cy1jb3JlL25vZGVfbW9kdWxlcy9udW5qdWNrcy1sb2FkZXIvcnVudGltZS1zaGltXCIpO1xuXG5cbihmdW5jdGlvbigpIHsobnVuanVja3MubnVuanVja3NQcmVjb21waWxlZCA9IG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgfHwge30pW1wiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC91c2VyZGFzaGJvYXJkL2Jhc2Utd2lkZ2V0Lmh0bWxcIl0gPSAoZnVuY3Rpb24oKSB7XG5mdW5jdGlvbiByb290KGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG52YXIgcGFyZW50VGVtcGxhdGUgPSBudWxsO1xuZW52LmdldFRlbXBsYXRlKFwiaW5jbHVkZS9tYWNyb3MuaHRtbFwiLCBmYWxzZSwgXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3VzZXJkYXNoYm9hcmQvYmFzZS13aWRnZXQuaHRtbFwiLCBmYWxzZSwgZnVuY3Rpb24odF8yLHRfMSkge1xuaWYodF8yKSB7IGNiKHRfMik7IHJldHVybjsgfVxudF8xLmdldEV4cG9ydGVkKGZ1bmN0aW9uKHRfMyx0XzEpIHtcbmlmKHRfMykgeyBjYih0XzMpOyByZXR1cm47IH1cbmNvbnRleHQuc2V0VmFyaWFibGUoXCJtYWNyb3NcIiwgdF8xKTtcbm91dHB1dCArPSBcIlxcblxcbjxkaXYgY2xhc3M9XFxcIndpZGdldC1jb250ZW50XFxcIiBcIjtcbihwYXJlbnRUZW1wbGF0ZSA/IGZ1bmN0aW9uKGUsIGMsIGYsIHIsIGNiKSB7IGNiKFwiXCIpOyB9IDogY29udGV4dC5nZXRCbG9jayhcImF0dHJzXCIpKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzUsdF80KSB7XG5pZih0XzUpIHsgY2IodF81KTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF80O1xub3V0cHV0ICs9IFwiPlxcblxcdFwiO1xuKHBhcmVudFRlbXBsYXRlID8gZnVuY3Rpb24oZSwgYywgZiwgciwgY2IpIHsgY2IoXCJcIik7IH0gOiBjb250ZXh0LmdldEJsb2NrKFwid2lkZ2V0X2Ryb3Bkb3duXCIpKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzcsdF82KSB7XG5pZih0XzcpIHsgY2IodF83KTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF82O1xub3V0cHV0ICs9IFwiXFxuXFx0XFxuXFx0PGgyIGNsYXNzPVxcXCJoZWFkbGluZVxcXCI+XFxuXFx0XFx0XCI7XG4ocGFyZW50VGVtcGxhdGUgPyBmdW5jdGlvbihlLCBjLCBmLCByLCBjYikgeyBjYihcIlwiKTsgfSA6IGNvbnRleHQuZ2V0QmxvY2soXCJ0aXRsZVwiKSkoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF85LHRfOCkge1xuaWYodF85KSB7IGNiKHRfOSk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfODtcbm91dHB1dCArPSBcIlxcblxcdDwvaDI+XFxuXFx0XFxuXFx0XCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImhhZEVycm9yc1wiKSkge1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0PHVsIGNsYXNzPVxcXCJpdGVtLWxpc3RcXFwiPlxcblxcdFxcdFxcdDxsaT5cXG5cXHRcXHRcXHRcXHQ8c3BhbiBjbGFzcz1cXFwibGlzdC1pdGVtIGxpc3QtaXRlbS1saW5rIGxpc3QtaXRlbS1jZW50ZXIgbm8tc2VsZWN0XFxcIiBocmVmPVxcXCIjXFxcIiByb2xlPVxcXCJidXR0b25cXFwiIHRpdGxlZGJ5PVxcXCIuaXRlbS10ZXh0XFxcIj4gXFxuXFx0XFx0ICAgIFxcdFxcdDxkaXYgY2xhc3M9XFxcIml0ZW0tdGV4dFxcXCI+XFxuXFx0XFx0ICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiVGhlcmUgd2FzIGFuIGVycm9yIGxvYWRpbmcgdGhlIHdpZGdldFwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdCAgICBcXHRcXHQ8L2Rpdj5cXG5cXHRcXHRcXHRcXHQ8L3NwYW4+XFxuXFx0XFx0XFx0PC9saT5cXG5cXHRcXHQ8L3VsPlxcblxcdFwiO1xuO1xufVxuZWxzZSB7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXG5cXHRcXHRcIjtcbihwYXJlbnRUZW1wbGF0ZSA/IGZ1bmN0aW9uKGUsIGMsIGYsIHIsIGNiKSB7IGNiKFwiXCIpOyB9IDogY29udGV4dC5nZXRCbG9jayhcImNvbnRlbnRcIikpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfMTEsdF8xMCkge1xuaWYodF8xMSkgeyBjYih0XzExKTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF8xMDtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcblxcdFwiO1xufSk7XG59XG5vdXRwdXQgKz0gXCJcXG48L2Rpdj5cXG5cIjtcbmlmKHBhcmVudFRlbXBsYXRlKSB7XG5wYXJlbnRUZW1wbGF0ZS5yb290UmVuZGVyRnVuYyhlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYik7XG59IGVsc2Uge1xuY2IobnVsbCwgb3V0cHV0KTtcbn1cbn0pfSl9KX0pfSk7XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl9hdHRycyhlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX3dpZGdldF9kcm9wZG93bihlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XCI7XG5pZihydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImlzTW92YWJsZVwiKSB8fCBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcImlzSGlkYWJsZVwiKSkge1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0PGRpdiBjbGFzcz1cXFwid2lkZ2V0LWRyb3Bkb3duIHYyLWRyb3Bkb3duIGRyb3Bkb3duXFxcIj5cXG5cXHRcXHQgICAgXFx0PGEgaHJlZj1cXFwiI1xcXCIgY2xhc3M9XFxcImRyb3Bkb3duLXRvZ2dsZVxcXCIgZGF0YS10b2dnbGU9XFxcImRyb3Bkb3duXFxcIj5cXG5cXHRcXHQgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmFzIGZhLWVsbGlwc2lzLWhcXFwiPjwvaT5cXG5cXHRcXHQgICAgICAgIDwvYT5cXG5cXHRcXHQgICAgICAgIDx1bCBjbGFzcz1cXFwiZHJvcGRvd24tbWVudVxcXCI+XFxuXFx0XFx0XFx0XFx0XFx0PGxpPlxcblxcdFxcdFxcdFxcdFxcdFxcdDxhIGNsYXNzPVxcXCJzb3J0LXVwXFxcIj5cXG5cXHRcXHQgICAgICAgICAgICAgICAgXFx0XCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJNb3ZlIHVwXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XFx0PC9hPlxcblxcdFxcdFxcdFxcdFxcdDwvbGk+XFxuXFx0XFx0XFx0XFx0XFx0PGxpPlxcblxcdFxcdFxcdFxcdFxcdFxcdDxhIGNsYXNzPVxcXCJzb3J0LWRvd25cXFwiPlxcblxcdFxcdCAgICAgICAgICAgICAgICBcXHRcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIk1vdmUgZG93blwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFxcdDwvYT5cXG5cXHRcXHRcXHRcXHRcXHQ8L2xpPlxcblxcdFxcdCAgICAgICAgPC91bD5cXG5cXHRcXHRcXHQ8L2Rpdj5cXG5cXHRcXHRcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblxcdFwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX3RpdGxlKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5jYihudWxsLCBvdXRwdXQpO1xuO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfY29udGVudChlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XCI7XG5pZihlbnYuZ2V0RmlsdGVyKFwibGVuZ3RoXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJpdGVtc1wiKSkgPiAwKSB7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHQ8dWwgY2xhc3M9XFxcIml0ZW0tbGlzdFxcXCI+XFxuXFx0XFx0XFx0XFx0XFx0XCI7XG5mcmFtZSA9IGZyYW1lLnB1c2goKTtcbnZhciB0XzE0ID0gcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJpdGVtc1wiKTtcbmlmKHRfMTQpIHt2YXIgdF8xMyA9IHRfMTQubGVuZ3RoO1xuZm9yKHZhciB0XzEyPTA7IHRfMTIgPCB0XzE0Lmxlbmd0aDsgdF8xMisrKSB7XG52YXIgdF8xNSA9IHRfMTRbdF8xMl07XG5mcmFtZS5zZXQoXCJpdGVtXCIsIHRfMTUpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleFwiLCB0XzEyICsgMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4MFwiLCB0XzEyKTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXhcIiwgdF8xMyAtIHRfMTIpO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleDBcIiwgdF8xMyAtIHRfMTIgLSAxKTtcbmZyYW1lLnNldChcImxvb3AuZmlyc3RcIiwgdF8xMiA9PT0gMCk7XG5mcmFtZS5zZXQoXCJsb29wLmxhc3RcIiwgdF8xMiA9PT0gdF8xMyAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5sZW5ndGhcIiwgdF8xMyk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoKGxpbmVubyA9IDQ4LCBjb2xubyA9IDIyLCBydW50aW1lLmNhbGxXcmFwKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm1hY3Jvc1wiKSksXCJsaXN0SXRlbVwiKSwgXCJtYWNyb3NbXFxcImxpc3RJdGVtXFxcIl1cIiwgY29udGV4dCwgW3J1bnRpbWUubWVtYmVyTG9va3VwKCh0XzE1KSxcInRleHRcIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTUpLFwidXJsXCIpLHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzE1KSxcImljb25cIikscnVudGltZS5tZW1iZXJMb29rdXAoKHRfMTUpLFwic3VidGV4dFwiKSxydW50aW1lLm1ha2VLZXl3b3JkQXJncyh7XCJpc19lbXBoYXNpemVkXCI6IHJ1bnRpbWUubWVtYmVyTG9va3VwKCh0XzE1KSxcImlzX2VtcGhhc2l6ZWRcIil9KV0pKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcIjtcbjtcbn1cbn1cbmZyYW1lID0gZnJhbWUucG9wKCk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcIjtcbmlmKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibG9hZE1vcmVFbmFibGVkXCIpICYmIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiaGFzTW9yZVwiKSkge1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XFx0PGxpPlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdDxhIGNsYXNzPVxcXCJsaXN0LWl0ZW0gbGlzdC1pdGVtLWxpbmsgc2hvdy1tb3JlXFxcIiByb2xlPVxcXCJidXR0b25cXFwiIHRpdGxlZGJ5PVxcXCIuaXRlbS10ZXh0XFxcIj4gXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0PGRpdiBjbGFzcz1cXFwiaXRlbS1pY29uIGl0ZW0taWNvbi1vZmZzZXRcXFwiPlxcblxcdFxcdFxcdFxcdFxcdCAgICBcXHRcXHRcXHQ8aSBjbGFzcz1cXFwiZmFzIGZhLWZ3XFxcIj48L2k+XFxuXFx0XFx0XFx0XFx0XFx0ICAgIFxcdFxcdDwvZGl2PlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdDxkaXYgY2xhc3M9XFxcIml0ZW0tdGV4dFxcXCI+XFxuXFx0XFx0XFx0XFx0XFx0ICAgICAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiU2hvdyBtb3JlXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0PC9kaXY+XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0PC9hPlxcblxcdFxcdFxcdFxcdFxcdFxcdDwvbGk+XFxuXFx0XFx0XFx0XFx0XFx0XCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHQ8L3VsPlxcblxcdFxcdFxcdFwiO1xuO1xufVxuZWxzZSB7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcIjtcbmNvbnRleHQuZ2V0QmxvY2soXCJlbXB0eV9jb250ZW50XCIpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfMTcsdF8xNikge1xuaWYodF8xNykgeyBjYih0XzE3KTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF8xNjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFwiO1xufSk7XG59XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcIjtcbmNiKG51bGwsIG91dHB1dCk7XG47XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl9lbXB0eV9jb250ZW50KGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHQ8bGk+XFxuXFx0XFx0XFx0XFx0XFx0XFx0PHNwYW4gY2xhc3M9XFxcImxpc3QtaXRlbSBsaXN0LWl0ZW0tbGluayBsaXN0LWl0ZW0tY2VudGVyIG5vLXNlbGVjdFxcXCIgaHJlZj1cXFwiI1xcXCIgcm9sZT1cXFwiYnV0dG9uXFxcIiB0aXRsZWRieT1cXFwiLml0ZW0tdGV4dFxcXCI+IFxcblxcdFxcdFxcdFxcdCAgICBcXHRcXHQ8ZGl2IGNsYXNzPVxcXCJpdGVtLXRleHRcXFwiPlxcblxcdFxcdFxcdFxcdCAgICAgICAgICAgICAgICBcIjtcbmNvbnRleHQuZ2V0QmxvY2soXCJlbXB0eV9tZXNzYWdlXCIpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfMTksdF8xOCkge1xuaWYodF8xOSkgeyBjYih0XzE5KTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF8xODtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdCAgICBcXHRcXHQ8L2Rpdj5cXG5cXHRcXHRcXHRcXHRcXHRcXHQ8L3NwYW4+XFxuXFx0XFx0XFx0XFx0XFx0PC9saT5cXG5cXHRcXHRcXHRcXHRcIjtcbmNiKG51bGwsIG91dHB1dCk7XG59KTtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX2VtcHR5X21lc3NhZ2UoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdCAgICAgICAgICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIlRoZXJlIGFyZSBubyBpdGVtcyB5ZXRcIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcIjtcbmNiKG51bGwsIG91dHB1dCk7XG47XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxucmV0dXJuIHtcbmJfYXR0cnM6IGJfYXR0cnMsXG5iX3dpZGdldF9kcm9wZG93bjogYl93aWRnZXRfZHJvcGRvd24sXG5iX3RpdGxlOiBiX3RpdGxlLFxuYl9jb250ZW50OiBiX2NvbnRlbnQsXG5iX2VtcHR5X2NvbnRlbnQ6IGJfZW1wdHlfY29udGVudCxcbmJfZW1wdHlfbWVzc2FnZTogYl9lbXB0eV9tZXNzYWdlLFxucm9vdDogcm9vdFxufTtcblxufSkoKTtcbn0pKCk7XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHNoaW0obnVuanVja3MsIGVudiwgbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZFtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdXNlcmRhc2hib2FyZC9iYXNlLXdpZGdldC5odG1sXCJdICwgZGVwZW5kZW5jaWVzKVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC91c2VyZGFzaGJvYXJkL2Jhc2Utd2lkZ2V0Lmh0bWxcbi8vIG1vZHVsZSBpZCA9IDYwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxudmFyIERlbGVnYXRlZFdpZGdldFZpZXcgPSByZXF1aXJlKCd2aWV3cy9iYXNlL2RlbGVnYXRlZC13aWRnZXQtdmlldycpO1xudmFyIHV0aWwgPSByZXF1aXJlKCdsaWIvdXRpbCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IERlbGVnYXRlZFdpZGdldFZpZXcuZXh0ZW5kKHtcblxuXHRhcHA6IG51bGwsXG4gICAgdGVtcGxhdGU6IHJlcXVpcmUoJ3VzZXJkYXNoYm9hcmQvaWRlYXMtd2lkZ2V0JyksXG4gICAgXG4gICAgZmV0Y2hVUkw6ICcvZGFzaGJvYXJkL2FwaS91c2VyX2xpa2VkX2lkZWFzLycsIC8vIG92ZXJyaWRkZW4gZm9yIHN1YnZpZXdcbiAgICBcbiAgICAvLyB3aWxsIGJlIHNldCB0byBzZWxmLm9wdGlvbnMgZHVyaW5nIGluaXRpYWxpemF0aW9uXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgXG4gICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgICBcbiAgICAgICAgfVxuICAgIH0sXG4gICAgXG4gICAgLy8gVGhlIERPTSBldmVudHMgc3BlY2lmaWMgdG8gYW4gaXRlbS5cbiAgICBldmVudHM6IHtcbiAgICBcdC8vJ2ZvY3VzIC5uYXYtc2VhcmNoLWJveCc6ICdvblNlYXJjaEJveEZvY3VzSW4nLFxuICAgIH0sXG5cbiAgICAvKiogT3ZlcnJpZGluZyBiYXNlIGZ1bmN0aW9uIGZvciB1bmlxdWUgd2lkZ2V0IElELiAqL1xuICAgIGdldFdpZGdldElkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICdpZGVhcy13aWRnZXQnO1xuICAgIH0sXG4gICAgXG4gICAgLyoqIE92ZXJyaWRpbmcgcGFyYW1zIGZvciByZXF1ZXN0ICovXG4gICAgZ2V0UGFyYW1zRm9yRmV0Y2hSZXF1ZXN0OiBmdW5jdGlvbigpIHtcbiAgICBcdHJldHVybiB7dXJsU3VmZml4OiBudWxsLCB1cmxQYXJhbXM6IHt9fVxuICAgIH0sXG4gICAgXG5cbiAgICByZW5kZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBEZWxlZ2F0ZWRXaWRnZXRWaWV3LnByb3RvdHlwZS5yZW5kZXIuY2FsbChzZWxmKTtcbiAgICAgICAgXG4gICAgICAgIHV0aWwubG9nKCcqKiogUmVuZGVyZWQgaWRlYXMtd2lkZ2V0ISAqKionKVxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuICAgIFxuICAgIC8qKiBFeHRlbmQgdGhlIHRlbXBsYXRlIGRhdGEgYnkgdGhlIGNvbnRyb2xWaWV3J3Mgb3B0aW9ucyBhbmQgc3RhdGUgKi9cbiAgICBnZXRUZW1wbGF0ZURhdGE6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB2YXIgZGF0YSA9IERlbGVnYXRlZFdpZGdldFZpZXcucHJvdG90eXBlLmdldFRlbXBsYXRlRGF0YS5jYWxsKHNlbGYpO1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9LFxuICAgIFxuICAgIFxuICAgIFxuXG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29zaW5udXMvY2xpZW50L3ZpZXdzL3VzZXJkYXNoYm9hcmQvaWRlYXMtd2lkZ2V0LXZpZXcuanNcbi8vIG1vZHVsZSBpZCA9IDYxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBudW5qdWNrcyA9IHJlcXVpcmUoXCJudW5qdWNrcy9icm93c2VyL251bmp1Y2tzLXNsaW1cIik7XG52YXIgZW52O1xuaWYgKCFudW5qdWNrcy5jdXJyZW50RW52KXtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudiA9IG5ldyBudW5qdWNrcy5FbnZpcm9ubWVudChbXSwgdW5kZWZpbmVkKTtcbn0gZWxzZSB7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnY7XG59XG52YXIgY29uZmlndXJlID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uLy4uL251bmp1Y2tzLmNvbmZpZy5qc1wiKShlbnYpO1xudmFyIGRlcGVuZGVuY2llcyA9IG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgfHwgKG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgPSB7fSk7XG5kZXBlbmRlbmNpZXNbXCJ1c2VyZGFzaGJvYXJkL2Jhc2Utd2lkZ2V0XCJdID0gcmVxdWlyZSggXCJ1c2VyZGFzaGJvYXJkL2Jhc2Utd2lkZ2V0XCIgKTtcbmRlcGVuZGVuY2llc1tcImluY2x1ZGUvbWFjcm9zLmh0bWxcIl0gPSByZXF1aXJlKCBcImluY2x1ZGUvbWFjcm9zLmh0bWxcIiApO1xuXG5cblxuXG52YXIgc2hpbSA9IHJlcXVpcmUoXCIvaG9tZS9zYXNjaGEvcHIvY29zaW5udXMtY29yZS9ub2RlX21vZHVsZXMvbnVuanVja3MtbG9hZGVyL3J1bnRpbWUtc2hpbVwiKTtcblxuXG4oZnVuY3Rpb24oKSB7KG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgPSBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkIHx8IHt9KVtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdXNlcmRhc2hib2FyZC9pZGVhcy13aWRnZXQuaHRtbFwiXSA9IChmdW5jdGlvbigpIHtcbmZ1bmN0aW9uIHJvb3QoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbnZhciBwYXJlbnRUZW1wbGF0ZSA9IG51bGw7XG5lbnYuZ2V0VGVtcGxhdGUoXCJ1c2VyZGFzaGJvYXJkL2Jhc2Utd2lkZ2V0XCIsIHRydWUsIFwiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC91c2VyZGFzaGJvYXJkL2lkZWFzLXdpZGdldC5odG1sXCIsIGZhbHNlLCBmdW5jdGlvbih0XzIsX3BhcmVudFRlbXBsYXRlKSB7XG5pZih0XzIpIHsgY2IodF8yKTsgcmV0dXJuOyB9XG5wYXJlbnRUZW1wbGF0ZSA9IF9wYXJlbnRUZW1wbGF0ZVxuZm9yKHZhciB0XzEgaW4gcGFyZW50VGVtcGxhdGUuYmxvY2tzKSB7XG5jb250ZXh0LmFkZEJsb2NrKHRfMSwgcGFyZW50VGVtcGxhdGUuYmxvY2tzW3RfMV0pO1xufVxub3V0cHV0ICs9IFwiXFxuXCI7XG5lbnYuZ2V0VGVtcGxhdGUoXCJpbmNsdWRlL21hY3Jvcy5odG1sXCIsIGZhbHNlLCBcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdXNlcmRhc2hib2FyZC9pZGVhcy13aWRnZXQuaHRtbFwiLCBmYWxzZSwgZnVuY3Rpb24odF80LHRfMykge1xuaWYodF80KSB7IGNiKHRfNCk7IHJldHVybjsgfVxudF8zLmdldEV4cG9ydGVkKGZ1bmN0aW9uKHRfNSx0XzMpIHtcbmlmKHRfNSkgeyBjYih0XzUpOyByZXR1cm47IH1cbmNvbnRleHQuc2V0VmFyaWFibGUoXCJtYWNyb3NcIiwgdF8zKTtcbm91dHB1dCArPSBcIlxcblxcblwiO1xuKHBhcmVudFRlbXBsYXRlID8gZnVuY3Rpb24oZSwgYywgZiwgciwgY2IpIHsgY2IoXCJcIik7IH0gOiBjb250ZXh0LmdldEJsb2NrKFwidGl0bGVcIikpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfNyx0XzYpIHtcbmlmKHRfNykgeyBjYih0XzcpOyByZXR1cm47IH1cbm91dHB1dCArPSB0XzY7XG5vdXRwdXQgKz0gXCJcXG5cXG5cIjtcbihwYXJlbnRUZW1wbGF0ZSA/IGZ1bmN0aW9uKGUsIGMsIGYsIHIsIGNiKSB7IGNiKFwiXCIpOyB9IDogY29udGV4dC5nZXRCbG9jayhcImVtcHR5X2NvbnRlbnRcIikpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfOSx0XzgpIHtcbmlmKHRfOSkgeyBjYih0XzkpOyByZXR1cm47IH1cbm91dHB1dCArPSB0Xzg7XG5pZihwYXJlbnRUZW1wbGF0ZSkge1xucGFyZW50VGVtcGxhdGUucm9vdFJlbmRlckZ1bmMoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpO1xufSBlbHNlIHtcbmNiKG51bGwsIG91dHB1dCk7XG59XG59KX0pfSl9KX0pO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfdGl0bGUoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcbiAgICBcIjtcbm91dHB1dCArPSBcIlxcblxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIklkZWFzIEkgbGlrZVwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX2VtcHR5X2NvbnRlbnQoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcblxcdDxkaXYgY2xhc3M9XFxcIndpZGdldC1pbmZvLWJveCBuby1zZWxlY3RcXFwiPlxcbiAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJIZXJlIHlvdSBjYW4gZmluZCBhbiBvdmVydmlldyBvZiBJZGVhcyB5b3UgaGF2ZSBsaWtlZC5cIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHQ8YnIvPlxcblxcdFxcdDxici8+XFxuICAgICAgICBcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIllvdSBjYW4gY3JlYXRlIHlvdXIgb3duIElkZWFzIHZpYSB0aGUgJysnIGJ1dHRvbiBpbiB0aGUgaGVhZGVyIG9yIHlvdSBjYW4gZGlzY292ZXIgZXhpc3RpbmcgSWRlYXMgaGVyZVwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIjpcXG5cXHRcXHQ8YSBocmVmPVxcXCIvbWFwLz9wZW9wbGU9ZmFsc2UmZXZlbnRzPWZhbHNlJnByb2plY3RzPWZhbHNlJmdyb3Vwcz1mYWxzZSZjb25mZXJlbmNlcz1mYWxzZSZpZGVhcz10cnVlJm9yZ2FuaXphdGlvbnM9ZmFsc2VcXFwiPlxcblxcdFxcdCAgICBcIjtcbm91dHB1dCArPSBcIlxcblxcdFxcdFxcdFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShlbnYuZ2V0RXh0ZW5zaW9uKFwidHJhbnNsYXRpb25cIilbXCJydW5cIl0oY29udGV4dCxcIkRpc2NvdmVyXCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0PC9hPlxcblxcdDwvZGl2PlxcblwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5yZXR1cm4ge1xuYl90aXRsZTogYl90aXRsZSxcbmJfZW1wdHlfY29udGVudDogYl9lbXB0eV9jb250ZW50LFxucm9vdDogcm9vdFxufTtcblxufSkoKTtcbn0pKCk7XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHNoaW0obnVuanVja3MsIGVudiwgbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZFtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdXNlcmRhc2hib2FyZC9pZGVhcy13aWRnZXQuaHRtbFwiXSAsIGRlcGVuZGVuY2llcylcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Nvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdXNlcmRhc2hib2FyZC9pZGVhcy13aWRnZXQuaHRtbFxuLy8gbW9kdWxlIGlkID0gNjJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRGVsZWdhdGVkV2lkZ2V0VmlldyA9IHJlcXVpcmUoJ3ZpZXdzL2Jhc2UvZGVsZWdhdGVkLXdpZGdldC12aWV3Jyk7XG52YXIgdXRpbCA9IHJlcXVpcmUoJ2xpYi91dGlsJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gRGVsZWdhdGVkV2lkZ2V0Vmlldy5leHRlbmQoe1xuXG5cdGFwcDogbnVsbCxcbiAgICB0ZW1wbGF0ZTogcmVxdWlyZSgndXNlcmRhc2hib2FyZC9zdGFycmVkLXVzZXJzLXdpZGdldCcpLFxuICAgIFxuICAgIGZldGNoVVJMOiAnL2Rhc2hib2FyZC9hcGkvdXNlcl9zdGFycmVkX3VzZXJzLycsIC8vIG92ZXJyaWRkZW4gZm9yIHN1YnZpZXdcbiAgICBcbiAgICAvLyB3aWxsIGJlIHNldCB0byBzZWxmLm9wdGlvbnMgZHVyaW5nIGluaXRpYWxpemF0aW9uXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgXG4gICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgICBcbiAgICAgICAgfVxuICAgIH0sXG4gICAgXG4gICAgLy8gVGhlIERPTSBldmVudHMgc3BlY2lmaWMgdG8gYW4gaXRlbS5cbiAgICBldmVudHM6IHtcbiAgICBcdC8vJ2ZvY3VzIC5uYXYtc2VhcmNoLWJveCc6ICdvblNlYXJjaEJveEZvY3VzSW4nLFxuICAgIH0sXG5cbiAgICAvKiogT3ZlcnJpZGluZyBiYXNlIGZ1bmN0aW9uIGZvciB1bmlxdWUgd2lkZ2V0IElELiAqL1xuICAgIGdldFdpZGdldElkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICdzdGFycmVkLXVzZXJzLXdpZGdldCc7XG4gICAgfSxcbiAgICBcbiAgICAvKiogT3ZlcnJpZGluZyBwYXJhbXMgZm9yIHJlcXVlc3QgKi9cbiAgICBnZXRQYXJhbXNGb3JGZXRjaFJlcXVlc3Q6IGZ1bmN0aW9uKCkge1xuICAgIFx0cmV0dXJuIHt1cmxTdWZmaXg6IG51bGwsIHVybFBhcmFtczoge319XG4gICAgfSxcbiAgICBcblxuICAgIHJlbmRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIERlbGVnYXRlZFdpZGdldFZpZXcucHJvdG90eXBlLnJlbmRlci5jYWxsKHNlbGYpO1xuICAgICAgICBcbiAgICAgICAgdXRpbC5sb2coJyoqKiBSZW5kZXJlZCBpZGVhcy13aWRnZXQhICoqKicpXG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG4gICAgXG4gICAgLyoqIEV4dGVuZCB0aGUgdGVtcGxhdGUgZGF0YSBieSB0aGUgY29udHJvbFZpZXcncyBvcHRpb25zIGFuZCBzdGF0ZSAqL1xuICAgIGdldFRlbXBsYXRlRGF0YTogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBkYXRhID0gRGVsZWdhdGVkV2lkZ2V0Vmlldy5wcm90b3R5cGUuZ2V0VGVtcGxhdGVEYXRhLmNhbGwoc2VsZik7XG4gICAgICAgIGRhdGEudGl0bGUgPSBDT1NJTk5VU19TVEFSUkVEX1VTRVJTX0xJU1RcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSxcbiAgICBcbiAgICBcbiAgICBcblxufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Nvc2lubnVzL2NsaWVudC92aWV3cy91c2VyZGFzaGJvYXJkL3N0YXJyZWQtdXNlcnMtd2lkZ2V0LXZpZXcuanNcbi8vIG1vZHVsZSBpZCA9IDYzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBudW5qdWNrcyA9IHJlcXVpcmUoXCJudW5qdWNrcy9icm93c2VyL251bmp1Y2tzLXNsaW1cIik7XG52YXIgZW52O1xuaWYgKCFudW5qdWNrcy5jdXJyZW50RW52KXtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudiA9IG5ldyBudW5qdWNrcy5FbnZpcm9ubWVudChbXSwgdW5kZWZpbmVkKTtcbn0gZWxzZSB7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnY7XG59XG52YXIgY29uZmlndXJlID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uLy4uL251bmp1Y2tzLmNvbmZpZy5qc1wiKShlbnYpO1xudmFyIGRlcGVuZGVuY2llcyA9IG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgfHwgKG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgPSB7fSk7XG5kZXBlbmRlbmNpZXNbXCJ1c2VyZGFzaGJvYXJkL2Jhc2Utd2lkZ2V0XCJdID0gcmVxdWlyZSggXCJ1c2VyZGFzaGJvYXJkL2Jhc2Utd2lkZ2V0XCIgKTtcbmRlcGVuZGVuY2llc1tcImluY2x1ZGUvbWFjcm9zLmh0bWxcIl0gPSByZXF1aXJlKCBcImluY2x1ZGUvbWFjcm9zLmh0bWxcIiApO1xuXG5cblxuXG52YXIgc2hpbSA9IHJlcXVpcmUoXCIvaG9tZS9zYXNjaGEvcHIvY29zaW5udXMtY29yZS9ub2RlX21vZHVsZXMvbnVuanVja3MtbG9hZGVyL3J1bnRpbWUtc2hpbVwiKTtcblxuXG4oZnVuY3Rpb24oKSB7KG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgPSBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkIHx8IHt9KVtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdXNlcmRhc2hib2FyZC9zdGFycmVkLXVzZXJzLXdpZGdldC5odG1sXCJdID0gKGZ1bmN0aW9uKCkge1xuZnVuY3Rpb24gcm9vdChlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xudmFyIHBhcmVudFRlbXBsYXRlID0gbnVsbDtcbmVudi5nZXRUZW1wbGF0ZShcInVzZXJkYXNoYm9hcmQvYmFzZS13aWRnZXRcIiwgdHJ1ZSwgXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3VzZXJkYXNoYm9hcmQvc3RhcnJlZC11c2Vycy13aWRnZXQuaHRtbFwiLCBmYWxzZSwgZnVuY3Rpb24odF8yLF9wYXJlbnRUZW1wbGF0ZSkge1xuaWYodF8yKSB7IGNiKHRfMik7IHJldHVybjsgfVxucGFyZW50VGVtcGxhdGUgPSBfcGFyZW50VGVtcGxhdGVcbmZvcih2YXIgdF8xIGluIHBhcmVudFRlbXBsYXRlLmJsb2Nrcykge1xuY29udGV4dC5hZGRCbG9jayh0XzEsIHBhcmVudFRlbXBsYXRlLmJsb2Nrc1t0XzFdKTtcbn1cbm91dHB1dCArPSBcIlxcblwiO1xuZW52LmdldFRlbXBsYXRlKFwiaW5jbHVkZS9tYWNyb3MuaHRtbFwiLCBmYWxzZSwgXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3VzZXJkYXNoYm9hcmQvc3RhcnJlZC11c2Vycy13aWRnZXQuaHRtbFwiLCBmYWxzZSwgZnVuY3Rpb24odF80LHRfMykge1xuaWYodF80KSB7IGNiKHRfNCk7IHJldHVybjsgfVxudF8zLmdldEV4cG9ydGVkKGZ1bmN0aW9uKHRfNSx0XzMpIHtcbmlmKHRfNSkgeyBjYih0XzUpOyByZXR1cm47IH1cbmNvbnRleHQuc2V0VmFyaWFibGUoXCJtYWNyb3NcIiwgdF8zKTtcbm91dHB1dCArPSBcIlxcblxcblwiO1xuKHBhcmVudFRlbXBsYXRlID8gZnVuY3Rpb24oZSwgYywgZiwgciwgY2IpIHsgY2IoXCJcIik7IH0gOiBjb250ZXh0LmdldEJsb2NrKFwidGl0bGVcIikpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfNyx0XzYpIHtcbmlmKHRfNykgeyBjYih0XzcpOyByZXR1cm47IH1cbm91dHB1dCArPSB0XzY7XG5vdXRwdXQgKz0gXCJcXG5cXG5cIjtcbihwYXJlbnRUZW1wbGF0ZSA/IGZ1bmN0aW9uKGUsIGMsIGYsIHIsIGNiKSB7IGNiKFwiXCIpOyB9IDogY29udGV4dC5nZXRCbG9jayhcImNvbnRlbnRcIikpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfOSx0XzgpIHtcbmlmKHRfOSkgeyBjYih0XzkpOyByZXR1cm47IH1cbm91dHB1dCArPSB0Xzg7XG5pZihwYXJlbnRUZW1wbGF0ZSkge1xucGFyZW50VGVtcGxhdGUucm9vdFJlbmRlckZ1bmMoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpO1xufSBlbHNlIHtcbmNiKG51bGwsIG91dHB1dCk7XG59XG59KX0pfSl9KX0pO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfdGl0bGUoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcbiAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0aXRsZVwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cIjtcbmNiKG51bGwsIG91dHB1dCk7XG47XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl9jb250ZW50KGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgXCI7XG5pZihlbnYuZ2V0RmlsdGVyKFwibGVuZ3RoXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJpdGVtc1wiKSkgPiAwKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIDx1bCBjbGFzcz1cXFwiaXRlbS1saXN0XFxcIj5cXG4gICAgICAgICAgICBcIjtcbmZyYW1lID0gZnJhbWUucHVzaCgpO1xudmFyIHRfMTIgPSBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIml0ZW1zXCIpO1xuaWYodF8xMikge3ZhciB0XzExID0gdF8xMi5sZW5ndGg7XG5mb3IodmFyIHRfMTA9MDsgdF8xMCA8IHRfMTIubGVuZ3RoOyB0XzEwKyspIHtcbnZhciB0XzEzID0gdF8xMlt0XzEwXTtcbmZyYW1lLnNldChcIml0ZW1cIiwgdF8xMyk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfMTAgKyAxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXgwXCIsIHRfMTApO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleFwiLCB0XzExIC0gdF8xMCk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4MFwiLCB0XzExIC0gdF8xMCAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzEwID09PSAwKTtcbmZyYW1lLnNldChcImxvb3AubGFzdFwiLCB0XzEwID09PSB0XzExIC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzExKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSgobGluZW5vID0gMTEsIGNvbG5vID0gMzUsIHJ1bnRpbWUuY2FsbFdyYXAocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibWFjcm9zXCIpKSxcInN0YXJyZWRsaXN0SXRlbVwiKSwgXCJtYWNyb3NbXFxcInN0YXJyZWRsaXN0SXRlbVxcXCJdXCIsIGNvbnRleHQsIFt0XzEzXSkpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIFwiO1xuO1xufVxufVxuZnJhbWUgPSBmcmFtZS5wb3AoKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgPC91bD5cXG4gICAgXCI7XG47XG59XG5lbHNlIHtcbm91dHB1dCArPSBcIlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJ3aWRnZXQtaW5mby1ib3ggbm8tc2VsZWN0XFxcIj5cXG4gICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiTm90aGluZyBoZXJlIHlldC5cIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHQ8L2Rpdj5cXG4gICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cIjtcbmNiKG51bGwsIG91dHB1dCk7XG47XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxucmV0dXJuIHtcbmJfdGl0bGU6IGJfdGl0bGUsXG5iX2NvbnRlbnQ6IGJfY29udGVudCxcbnJvb3Q6IHJvb3Rcbn07XG5cbn0pKCk7XG59KSgpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBzaGltKG51bmp1Y2tzLCBlbnYsIG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWRbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3VzZXJkYXNoYm9hcmQvc3RhcnJlZC11c2Vycy13aWRnZXQuaHRtbFwiXSAsIGRlcGVuZGVuY2llcylcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2Nvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdXNlcmRhc2hib2FyZC9zdGFycmVkLXVzZXJzLXdpZGdldC5odG1sXG4vLyBtb2R1bGUgaWQgPSA2NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbnZhciBEZWxlZ2F0ZWRXaWRnZXRWaWV3ID0gcmVxdWlyZSgndmlld3MvYmFzZS9kZWxlZ2F0ZWQtd2lkZ2V0LXZpZXcnKTtcbnZhciB1dGlsID0gcmVxdWlyZSgnbGliL3V0aWwnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBEZWxlZ2F0ZWRXaWRnZXRWaWV3LmV4dGVuZCh7XG5cblx0YXBwOiBudWxsLFxuICAgIHRlbXBsYXRlOiByZXF1aXJlKCd1c2VyZGFzaGJvYXJkL3N0YXJyZWQtb2JqZWN0cy13aWRnZXQnKSxcbiAgICBcbiAgICBmZXRjaFVSTDogJy9kYXNoYm9hcmQvYXBpL3VzZXJfc3RhcnJlZF9vYmplY3RzLycsIC8vIG92ZXJyaWRkZW4gZm9yIHN1YnZpZXdcbiAgICBcbiAgICAvLyB3aWxsIGJlIHNldCB0byBzZWxmLm9wdGlvbnMgZHVyaW5nIGluaXRpYWxpemF0aW9uXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgXG4gICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgICBcbiAgICAgICAgfVxuICAgIH0sXG4gICAgXG4gICAgLy8gVGhlIERPTSBldmVudHMgc3BlY2lmaWMgdG8gYW4gaXRlbS5cbiAgICBldmVudHM6IHtcbiAgICBcdC8vJ2ZvY3VzIC5uYXYtc2VhcmNoLWJveCc6ICdvblNlYXJjaEJveEZvY3VzSW4nLFxuICAgIH0sXG5cbiAgICAvKiogT3ZlcnJpZGluZyBiYXNlIGZ1bmN0aW9uIGZvciB1bmlxdWUgd2lkZ2V0IElELiAqL1xuICAgIGdldFdpZGdldElkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICdzdGFycmVkLW9iamVjdHMtd2lkZ2V0JztcbiAgICB9LFxuICAgIFxuICAgIC8qKiBPdmVycmlkaW5nIHBhcmFtcyBmb3IgcmVxdWVzdCAqL1xuICAgIGdldFBhcmFtc0ZvckZldGNoUmVxdWVzdDogZnVuY3Rpb24oKSB7XG4gICAgXHRyZXR1cm4ge3VybFN1ZmZpeDogbnVsbCwgdXJsUGFyYW1zOiB7fX1cbiAgICB9LFxuICAgIFxuXG4gICAgcmVuZGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgRGVsZWdhdGVkV2lkZ2V0Vmlldy5wcm90b3R5cGUucmVuZGVyLmNhbGwoc2VsZik7XG4gICAgICAgIFxuICAgICAgICB1dGlsLmxvZygnKioqIFJlbmRlcmVkIGlkZWFzLXdpZGdldCEgKioqJylcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcbiAgICBcbiAgICAvKiogRXh0ZW5kIHRoZSB0ZW1wbGF0ZSBkYXRhIGJ5IHRoZSBjb250cm9sVmlldydzIG9wdGlvbnMgYW5kIHN0YXRlICovXG4gICAgZ2V0VGVtcGxhdGVEYXRhOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIGRhdGEgPSBEZWxlZ2F0ZWRXaWRnZXRWaWV3LnByb3RvdHlwZS5nZXRUZW1wbGF0ZURhdGEuY2FsbChzZWxmKTtcbiAgICAgICAgZGF0YS50aXRsZSA9IENPU0lOTlVTX1NUQVJSRURfT0JKRUNUU19MSVNUXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH0sXG4gICAgXG4gICAgXG4gICAgXG5cbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy9jbGllbnQvdmlld3MvdXNlcmRhc2hib2FyZC9zdGFycmVkLW9iamVjdHMtd2lkZ2V0LXZpZXcuanNcbi8vIG1vZHVsZSBpZCA9IDY1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBudW5qdWNrcyA9IHJlcXVpcmUoXCJudW5qdWNrcy9icm93c2VyL251bmp1Y2tzLXNsaW1cIik7XG52YXIgZW52O1xuaWYgKCFudW5qdWNrcy5jdXJyZW50RW52KXtcblx0ZW52ID0gbnVuanVja3MuY3VycmVudEVudiA9IG5ldyBudW5qdWNrcy5FbnZpcm9ubWVudChbXSwgdW5kZWZpbmVkKTtcbn0gZWxzZSB7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnY7XG59XG52YXIgY29uZmlndXJlID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uLy4uL251bmp1Y2tzLmNvbmZpZy5qc1wiKShlbnYpO1xudmFyIGRlcGVuZGVuY2llcyA9IG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgfHwgKG51bmp1Y2tzLndlYnBhY2tEZXBlbmRlbmNpZXMgPSB7fSk7XG5kZXBlbmRlbmNpZXNbXCJ1c2VyZGFzaGJvYXJkL2Jhc2Utd2lkZ2V0XCJdID0gcmVxdWlyZSggXCJ1c2VyZGFzaGJvYXJkL2Jhc2Utd2lkZ2V0XCIgKTtcbmRlcGVuZGVuY2llc1tcImluY2x1ZGUvbWFjcm9zLmh0bWxcIl0gPSByZXF1aXJlKCBcImluY2x1ZGUvbWFjcm9zLmh0bWxcIiApO1xuXG5cblxuXG52YXIgc2hpbSA9IHJlcXVpcmUoXCIvaG9tZS9zYXNjaGEvcHIvY29zaW5udXMtY29yZS9ub2RlX21vZHVsZXMvbnVuanVja3MtbG9hZGVyL3J1bnRpbWUtc2hpbVwiKTtcblxuXG4oZnVuY3Rpb24oKSB7KG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWQgPSBudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkIHx8IHt9KVtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdXNlcmRhc2hib2FyZC9zdGFycmVkLW9iamVjdHMtd2lkZ2V0Lmh0bWxcIl0gPSAoZnVuY3Rpb24oKSB7XG5mdW5jdGlvbiByb290KGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG52YXIgcGFyZW50VGVtcGxhdGUgPSBudWxsO1xuZW52LmdldFRlbXBsYXRlKFwidXNlcmRhc2hib2FyZC9iYXNlLXdpZGdldFwiLCB0cnVlLCBcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdXNlcmRhc2hib2FyZC9zdGFycmVkLW9iamVjdHMtd2lkZ2V0Lmh0bWxcIiwgZmFsc2UsIGZ1bmN0aW9uKHRfMixfcGFyZW50VGVtcGxhdGUpIHtcbmlmKHRfMikgeyBjYih0XzIpOyByZXR1cm47IH1cbnBhcmVudFRlbXBsYXRlID0gX3BhcmVudFRlbXBsYXRlXG5mb3IodmFyIHRfMSBpbiBwYXJlbnRUZW1wbGF0ZS5ibG9ja3MpIHtcbmNvbnRleHQuYWRkQmxvY2sodF8xLCBwYXJlbnRUZW1wbGF0ZS5ibG9ja3NbdF8xXSk7XG59XG5vdXRwdXQgKz0gXCJcXG5cIjtcbmVudi5nZXRUZW1wbGF0ZShcImluY2x1ZGUvbWFjcm9zLmh0bWxcIiwgZmFsc2UsIFwiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC91c2VyZGFzaGJvYXJkL3N0YXJyZWQtb2JqZWN0cy13aWRnZXQuaHRtbFwiLCBmYWxzZSwgZnVuY3Rpb24odF80LHRfMykge1xuaWYodF80KSB7IGNiKHRfNCk7IHJldHVybjsgfVxudF8zLmdldEV4cG9ydGVkKGZ1bmN0aW9uKHRfNSx0XzMpIHtcbmlmKHRfNSkgeyBjYih0XzUpOyByZXR1cm47IH1cbmNvbnRleHQuc2V0VmFyaWFibGUoXCJtYWNyb3NcIiwgdF8zKTtcbm91dHB1dCArPSBcIlxcblxcblwiO1xuKHBhcmVudFRlbXBsYXRlID8gZnVuY3Rpb24oZSwgYywgZiwgciwgY2IpIHsgY2IoXCJcIik7IH0gOiBjb250ZXh0LmdldEJsb2NrKFwidGl0bGVcIikpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfNyx0XzYpIHtcbmlmKHRfNykgeyBjYih0XzcpOyByZXR1cm47IH1cbm91dHB1dCArPSB0XzY7XG5vdXRwdXQgKz0gXCJcXG5cXG5cIjtcbihwYXJlbnRUZW1wbGF0ZSA/IGZ1bmN0aW9uKGUsIGMsIGYsIHIsIGNiKSB7IGNiKFwiXCIpOyB9IDogY29udGV4dC5nZXRCbG9jayhcImNvbnRlbnRcIikpKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGZ1bmN0aW9uKHRfOSx0XzgpIHtcbmlmKHRfOSkgeyBjYih0XzkpOyByZXR1cm47IH1cbm91dHB1dCArPSB0Xzg7XG5pZihwYXJlbnRUZW1wbGF0ZSkge1xucGFyZW50VGVtcGxhdGUucm9vdFJlbmRlckZ1bmMoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpO1xufSBlbHNlIHtcbmNiKG51bGwsIG91dHB1dCk7XG59XG59KX0pfSl9KX0pO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfdGl0bGUoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbm91dHB1dCArPSBcIlxcbiAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0aXRsZVwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cIjtcbmNiKG51bGwsIG91dHB1dCk7XG47XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl9jb250ZW50KGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgXCI7XG5pZihlbnYuZ2V0RmlsdGVyKFwibGVuZ3RoXCIpLmNhbGwoY29udGV4dCwgcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJpdGVtc1wiKSkgPiAwKSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgIDx1bCBjbGFzcz1cXFwiaXRlbS1saXN0XFxcIj5cXG4gICAgICAgICAgICBcIjtcbmZyYW1lID0gZnJhbWUucHVzaCgpO1xudmFyIHRfMTIgPSBydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIml0ZW1zXCIpO1xuaWYodF8xMikge3ZhciB0XzExID0gdF8xMi5sZW5ndGg7XG5mb3IodmFyIHRfMTA9MDsgdF8xMCA8IHRfMTIubGVuZ3RoOyB0XzEwKyspIHtcbnZhciB0XzEzID0gdF8xMlt0XzEwXTtcbmZyYW1lLnNldChcIml0ZW1cIiwgdF8xMyk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4XCIsIHRfMTAgKyAxKTtcbmZyYW1lLnNldChcImxvb3AuaW5kZXgwXCIsIHRfMTApO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleFwiLCB0XzExIC0gdF8xMCk7XG5mcmFtZS5zZXQoXCJsb29wLnJldmluZGV4MFwiLCB0XzExIC0gdF8xMCAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5maXJzdFwiLCB0XzEwID09PSAwKTtcbmZyYW1lLnNldChcImxvb3AubGFzdFwiLCB0XzEwID09PSB0XzExIC0gMSk7XG5mcmFtZS5zZXQoXCJsb29wLmxlbmd0aFwiLCB0XzExKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZSgobGluZW5vID0gMTEsIGNvbG5vID0gMzUsIHJ1bnRpbWUuY2FsbFdyYXAocnVudGltZS5tZW1iZXJMb29rdXAoKHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwibWFjcm9zXCIpKSxcInN0YXJyZWRsaXN0SXRlbVwiKSwgXCJtYWNyb3NbXFxcInN0YXJyZWRsaXN0SXRlbVxcXCJdXCIsIGNvbnRleHQsIFt0XzEzXSkpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIFwiO1xuO1xufVxufVxuZnJhbWUgPSBmcmFtZS5wb3AoKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgPC91bD5cXG4gICAgXCI7XG47XG59XG5lbHNlIHtcbm91dHB1dCArPSBcIlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJ3aWRnZXQtaW5mby1ib3ggbm8tc2VsZWN0XFxcIj5cXG4gICAgICAgIFwiO1xub3V0cHV0ICs9IFwiXFxuXFx0XFx0XCI7XG5vdXRwdXQgKz0gcnVudGltZS5zdXBwcmVzc1ZhbHVlKGVudi5nZXRFeHRlbnNpb24oXCJ0cmFuc2xhdGlvblwiKVtcInJ1blwiXShjb250ZXh0LFwiTm90aGluZyBoZXJlIHlldC5cIiksIHRydWUgJiYgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cXHQ8L2Rpdj5cXG4gICAgXCI7XG47XG59XG5vdXRwdXQgKz0gXCJcXG5cIjtcbmNiKG51bGwsIG91dHB1dCk7XG47XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxucmV0dXJuIHtcbmJfdGl0bGU6IGJfdGl0bGUsXG5iX2NvbnRlbnQ6IGJfY29udGVudCxcbnJvb3Q6IHJvb3Rcbn07XG5cbn0pKCk7XG59KSgpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBzaGltKG51bmp1Y2tzLCBlbnYsIG51bmp1Y2tzLm51bmp1Y2tzUHJlY29tcGlsZWRbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3VzZXJkYXNoYm9hcmQvc3RhcnJlZC1vYmplY3RzLXdpZGdldC5odG1sXCJdICwgZGVwZW5kZW5jaWVzKVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC91c2VyZGFzaGJvYXJkL3N0YXJyZWQtb2JqZWN0cy13aWRnZXQuaHRtbFxuLy8gbW9kdWxlIGlkID0gNjZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRGVsZWdhdGVkV2lkZ2V0VmlldyA9IHJlcXVpcmUoJ3ZpZXdzL2Jhc2UvZGVsZWdhdGVkLXdpZGdldC12aWV3Jyk7XG52YXIgdXRpbCA9IHJlcXVpcmUoJ2xpYi91dGlsJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gRGVsZWdhdGVkV2lkZ2V0Vmlldy5leHRlbmQoe1xuXG5cdGFwcDogbnVsbCxcbiAgICB0ZW1wbGF0ZTogcmVxdWlyZSgndXNlcmRhc2hib2FyZC9mb2xsb3dlZC1vYmplY3RzLXdpZGdldCcpLFxuICAgIFxuICAgIGZldGNoVVJMOiAnL2Rhc2hib2FyZC9hcGkvdXNlcl9mb2xsb3dlZF9vYmplY3RzLycsIC8vIG92ZXJyaWRkZW4gZm9yIHN1YnZpZXdcbiAgICBcbiAgICAvLyB3aWxsIGJlIHNldCB0byBzZWxmLm9wdGlvbnMgZHVyaW5nIGluaXRpYWxpemF0aW9uXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgXG4gICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgICBcbiAgICAgICAgfVxuICAgIH0sXG4gICAgXG4gICAgLy8gVGhlIERPTSBldmVudHMgc3BlY2lmaWMgdG8gYW4gaXRlbS5cbiAgICBldmVudHM6IHtcbiAgICBcdC8vJ2ZvY3VzIC5uYXYtc2VhcmNoLWJveCc6ICdvblNlYXJjaEJveEZvY3VzSW4nLFxuICAgIH0sXG5cbiAgICAvKiogT3ZlcnJpZGluZyBiYXNlIGZ1bmN0aW9uIGZvciB1bmlxdWUgd2lkZ2V0IElELiAqL1xuICAgIGdldFdpZGdldElkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICdmb2xsb3dlZC1vYmplY3RzLXdpZGdldCc7XG4gICAgfSxcbiAgICBcbiAgICAvKiogT3ZlcnJpZGluZyBwYXJhbXMgZm9yIHJlcXVlc3QgKi9cbiAgICBnZXRQYXJhbXNGb3JGZXRjaFJlcXVlc3Q6IGZ1bmN0aW9uKCkge1xuICAgIFx0cmV0dXJuIHt1cmxTdWZmaXg6IG51bGwsIHVybFBhcmFtczoge319XG4gICAgfSxcbiAgICBcblxuICAgIHJlbmRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIERlbGVnYXRlZFdpZGdldFZpZXcucHJvdG90eXBlLnJlbmRlci5jYWxsKHNlbGYpO1xuICAgICAgICBcbiAgICAgICAgdXRpbC5sb2coJyoqKiBSZW5kZXJlZCBpZGVhcy13aWRnZXQhICoqKicpXG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG4gICAgXG4gICAgLyoqIEV4dGVuZCB0aGUgdGVtcGxhdGUgZGF0YSBieSB0aGUgY29udHJvbFZpZXcncyBvcHRpb25zIGFuZCBzdGF0ZSAqL1xuICAgIGdldFRlbXBsYXRlRGF0YTogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBkYXRhID0gRGVsZWdhdGVkV2lkZ2V0Vmlldy5wcm90b3R5cGUuZ2V0VGVtcGxhdGVEYXRhLmNhbGwoc2VsZik7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH0sXG4gICAgXG4gICAgXG4gICAgXG5cbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy9jbGllbnQvdmlld3MvdXNlcmRhc2hib2FyZC9mb2xsb3dlZC1vYmplY3RzLXdpZGdldC12aWV3LmpzXG4vLyBtb2R1bGUgaWQgPSA2N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgbnVuanVja3MgPSByZXF1aXJlKFwibnVuanVja3MvYnJvd3Nlci9udW5qdWNrcy1zbGltXCIpO1xudmFyIGVudjtcbmlmICghbnVuanVja3MuY3VycmVudEVudil7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnYgPSBuZXcgbnVuanVja3MuRW52aXJvbm1lbnQoW10sIHVuZGVmaW5lZCk7XG59IGVsc2Uge1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52O1xufVxudmFyIGNvbmZpZ3VyZSA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi8uLi9udW5qdWNrcy5jb25maWcuanNcIikoZW52KTtcbnZhciBkZXBlbmRlbmNpZXMgPSBudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzIHx8IChudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzID0ge30pO1xuZGVwZW5kZW5jaWVzW1widXNlcmRhc2hib2FyZC9iYXNlLXdpZGdldFwiXSA9IHJlcXVpcmUoIFwidXNlcmRhc2hib2FyZC9iYXNlLXdpZGdldFwiICk7XG5kZXBlbmRlbmNpZXNbXCJpbmNsdWRlL21hY3Jvcy5odG1sXCJdID0gcmVxdWlyZSggXCJpbmNsdWRlL21hY3Jvcy5odG1sXCIgKTtcblxuXG5cblxudmFyIHNoaW0gPSByZXF1aXJlKFwiL2hvbWUvc2FzY2hhL3ByL2Nvc2lubnVzLWNvcmUvbm9kZV9tb2R1bGVzL251bmp1Y2tzLWxvYWRlci9ydW50aW1lLXNoaW1cIik7XG5cblxuKGZ1bmN0aW9uKCkgeyhudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkID0gbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZCB8fCB7fSlbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3VzZXJkYXNoYm9hcmQvZm9sbG93ZWQtb2JqZWN0cy13aWRnZXQuaHRtbFwiXSA9IChmdW5jdGlvbigpIHtcbmZ1bmN0aW9uIHJvb3QoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbnZhciBwYXJlbnRUZW1wbGF0ZSA9IG51bGw7XG5lbnYuZ2V0VGVtcGxhdGUoXCJ1c2VyZGFzaGJvYXJkL2Jhc2Utd2lkZ2V0XCIsIHRydWUsIFwiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC91c2VyZGFzaGJvYXJkL2ZvbGxvd2VkLW9iamVjdHMtd2lkZ2V0Lmh0bWxcIiwgZmFsc2UsIGZ1bmN0aW9uKHRfMixfcGFyZW50VGVtcGxhdGUpIHtcbmlmKHRfMikgeyBjYih0XzIpOyByZXR1cm47IH1cbnBhcmVudFRlbXBsYXRlID0gX3BhcmVudFRlbXBsYXRlXG5mb3IodmFyIHRfMSBpbiBwYXJlbnRUZW1wbGF0ZS5ibG9ja3MpIHtcbmNvbnRleHQuYWRkQmxvY2sodF8xLCBwYXJlbnRUZW1wbGF0ZS5ibG9ja3NbdF8xXSk7XG59XG5vdXRwdXQgKz0gXCJcXG5cIjtcbmVudi5nZXRUZW1wbGF0ZShcImluY2x1ZGUvbWFjcm9zLmh0bWxcIiwgZmFsc2UsIFwiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC91c2VyZGFzaGJvYXJkL2ZvbGxvd2VkLW9iamVjdHMtd2lkZ2V0Lmh0bWxcIiwgZmFsc2UsIGZ1bmN0aW9uKHRfNCx0XzMpIHtcbmlmKHRfNCkgeyBjYih0XzQpOyByZXR1cm47IH1cbnRfMy5nZXRFeHBvcnRlZChmdW5jdGlvbih0XzUsdF8zKSB7XG5pZih0XzUpIHsgY2IodF81KTsgcmV0dXJuOyB9XG5jb250ZXh0LnNldFZhcmlhYmxlKFwibWFjcm9zXCIsIHRfMyk7XG5vdXRwdXQgKz0gXCJcXG5cXG5cIjtcbihwYXJlbnRUZW1wbGF0ZSA/IGZ1bmN0aW9uKGUsIGMsIGYsIHIsIGNiKSB7IGNiKFwiXCIpOyB9IDogY29udGV4dC5nZXRCbG9jayhcInRpdGxlXCIpKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzcsdF82KSB7XG5pZih0XzcpIHsgY2IodF83KTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF82O1xub3V0cHV0ICs9IFwiXFxuXFxuXCI7XG4ocGFyZW50VGVtcGxhdGUgPyBmdW5jdGlvbihlLCBjLCBmLCByLCBjYikgeyBjYihcIlwiKTsgfSA6IGNvbnRleHQuZ2V0QmxvY2soXCJjb250ZW50XCIpKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzksdF84KSB7XG5pZih0XzkpIHsgY2IodF85KTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF84O1xuaWYocGFyZW50VGVtcGxhdGUpIHtcbnBhcmVudFRlbXBsYXRlLnJvb3RSZW5kZXJGdW5jKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKTtcbn0gZWxzZSB7XG5jYihudWxsLCBvdXRwdXQpO1xufVxufSl9KX0pfSl9KTtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX3RpdGxlKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5vdXRwdXQgKz0gXCJcXG4gICAgXCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJJdGVtcyB5b3UgZm9sbG93XCIpLCB0cnVlICYmIGVudi5vcHRzLmF1dG9lc2NhcGUpO1xub3V0cHV0ICs9IFwiXFxuXCI7XG5jYihudWxsLCBvdXRwdXQpO1xuO1xufSBjYXRjaCAoZSkge1xuICBjYihydW50aW1lLmhhbmRsZUVycm9yKGUsIGxpbmVubywgY29sbm8pKTtcbn1cbn1cbmZ1bmN0aW9uIGJfY29udGVudChlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xub3V0cHV0ICs9IFwiXFxuICAgIFwiO1xuaWYoZW52LmdldEZpbHRlcihcImxlbmd0aFwiKS5jYWxsKGNvbnRleHQsIHJ1bnRpbWUuY29udGV4dE9yRnJhbWVMb29rdXAoY29udGV4dCwgZnJhbWUsIFwiaXRlbXNcIikpID4gMCkge1xub3V0cHV0ICs9IFwiXFxuICAgICAgICA8dWwgY2xhc3M9XFxcIml0ZW0tbGlzdFxcXCI+XFxuICAgICAgICAgICAgXCI7XG5mcmFtZSA9IGZyYW1lLnB1c2goKTtcbnZhciB0XzEyID0gcnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJpdGVtc1wiKTtcbmlmKHRfMTIpIHt2YXIgdF8xMSA9IHRfMTIubGVuZ3RoO1xuZm9yKHZhciB0XzEwPTA7IHRfMTAgPCB0XzEyLmxlbmd0aDsgdF8xMCsrKSB7XG52YXIgdF8xMyA9IHRfMTJbdF8xMF07XG5mcmFtZS5zZXQoXCJpdGVtXCIsIHRfMTMpO1xuZnJhbWUuc2V0KFwibG9vcC5pbmRleFwiLCB0XzEwICsgMSk7XG5mcmFtZS5zZXQoXCJsb29wLmluZGV4MFwiLCB0XzEwKTtcbmZyYW1lLnNldChcImxvb3AucmV2aW5kZXhcIiwgdF8xMSAtIHRfMTApO1xuZnJhbWUuc2V0KFwibG9vcC5yZXZpbmRleDBcIiwgdF8xMSAtIHRfMTAgLSAxKTtcbmZyYW1lLnNldChcImxvb3AuZmlyc3RcIiwgdF8xMCA9PT0gMCk7XG5mcmFtZS5zZXQoXCJsb29wLmxhc3RcIiwgdF8xMCA9PT0gdF8xMSAtIDEpO1xuZnJhbWUuc2V0KFwibG9vcC5sZW5ndGhcIiwgdF8xMSk7XG5vdXRwdXQgKz0gXCJcXG4gICAgICAgICAgICBcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoKGxpbmVubyA9IDEyLCBjb2xubyA9IDM2LCBydW50aW1lLmNhbGxXcmFwKHJ1bnRpbWUubWVtYmVyTG9va3VwKChydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIm1hY3Jvc1wiKSksXCJmb2xsb3dlZGxpc3RJdGVtXCIpLCBcIm1hY3Jvc1tcXFwiZm9sbG93ZWRsaXN0SXRlbVxcXCJdXCIsIGNvbnRleHQsIFt0XzEzXSkpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcbiAgICAgICAgICAgIFwiO1xuO1xufVxufVxuZnJhbWUgPSBmcmFtZS5wb3AoKTtcbm91dHB1dCArPSBcIlxcblxcdFxcdDwvdWw+XFxuXFx0XCI7XG47XG59XG5lbHNlIHtcbm91dHB1dCArPSBcIlxcblxcdDxkaXYgY2xhc3M9XFxcIndpZGdldC1pbmZvLWJveCBuby1zZWxlY3RcXFwiPlxcbiAgICAgICAgXCI7XG5vdXRwdXQgKz0gXCJcXG5cXHRcXHRcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUoZW52LmdldEV4dGVuc2lvbihcInRyYW5zbGF0aW9uXCIpW1wicnVuXCJdKGNvbnRleHQsXCJOb3RoaW5nIGhlcmUgeWV0LlwiKSwgdHJ1ZSAmJiBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcblxcdDwvZGl2PlxcbiAgICBcIjtcbjtcbn1cbm91dHB1dCArPSBcIlxcblwiO1xuY2IobnVsbCwgb3V0cHV0KTtcbjtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5yZXR1cm4ge1xuYl90aXRsZTogYl90aXRsZSxcbmJfY29udGVudDogYl9jb250ZW50LFxucm9vdDogcm9vdFxufTtcblxufSkoKTtcbn0pKCk7XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHNoaW0obnVuanVja3MsIGVudiwgbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZFtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdXNlcmRhc2hib2FyZC9mb2xsb3dlZC1vYmplY3RzLXdpZGdldC5odG1sXCJdICwgZGVwZW5kZW5jaWVzKVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC91c2VyZGFzaGJvYXJkL2ZvbGxvd2VkLW9iamVjdHMtd2lkZ2V0Lmh0bWxcbi8vIG1vZHVsZSBpZCA9IDY4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxudmFyIERlbGVnYXRlZFdpZGdldFZpZXcgPSByZXF1aXJlKCd2aWV3cy9iYXNlL2RlbGVnYXRlZC13aWRnZXQtdmlldycpO1xudmFyIHV0aWwgPSByZXF1aXJlKCdsaWIvdXRpbCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IERlbGVnYXRlZFdpZGdldFZpZXcuZXh0ZW5kKHtcblxuXHRhcHA6IG51bGwsXG4gICAgdGVtcGxhdGU6IHJlcXVpcmUoJ3VzZXJkYXNoYm9hcmQvdHlwZWQtY29udGVudC13aWRnZXQnKSxcbiAgICBcbiAgICBmZXRjaFVSTDogJy9kYXNoYm9hcmQvYXBpL3VzZXJfdHlwZWRfY29udGVudC9yZWNlbnQvJywgLy8gb3ZlcnJpZGRlbiBmb3Igc3Vidmlld1xuICAgIFxuICAgIC8vIHdpbGwgYmUgc2V0IHRvIHNlbGYub3B0aW9ucyBkdXJpbmcgaW5pdGlhbGl6YXRpb25cbiAgICBkZWZhdWx0czoge1xuICAgIFx0XG4gICAgXHR0eXBlOiBudWxsLCAvLyB0aGUgdHlwZSBvZiB0aGUgY29udGVudCB0aGUgd2lkZ2V0IGRpc3BsYXlzXG4gICAgXHRpc01vdmFibGU6IHRydWUsIC8vIHdpZGdldCB0ZW1wbGF0ZSBvcHRpb25zXG4gICAgXHRpc0hpZGFibGU6IGZhbHNlLCAvLyB3aWRnZXQgdGVtcGxhdGUgb3B0aW9uc1xuICAgIFx0bG9hZE1vcmVFbmFibGVkOiB0cnVlLCAvLyB3aWRnZXQgdGVtcGxhdGUgb3B0aW9uc1xuICAgICAgICBcbiAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgXHRzb3J0SW5kZXg6IDAsXG4gICAgICAgICAgICBcbiAgICAgICAgfVxuICAgIH0sXG4gICAgXG4gICAgLy8gVGhlIERPTSBldmVudHMgc3BlY2lmaWMgdG8gYW4gaXRlbS5cbiAgICBldmVudHM6IHtcbiAgICBcdCdjbGljayAuc29ydC11cCc6ICdvbk1vdmVVcENsaWNrZWQnLFxuICAgIFx0J2NsaWNrIC5zb3J0LWRvd24nOiAnb25Nb3ZlRG93bkNsaWNrZWQnLFxuICAgIFx0J2NsaWNrIC5zaG93LW1vcmUnOiAnb25TaG93TW9yZUNsaWNrZWQnLFxuICAgIH0sXG4gICAgXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gKG9wdGlvbnMsIGFwcCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHNlbGYuYXBwID0gYXBwO1xuICAgICAgICBEZWxlZ2F0ZWRXaWRnZXRWaWV3LnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwoc2VsZiwgb3B0aW9ucyk7XG4gICAgICAgIHNlbGYub3B0aW9ucy50eXBlID0gb3B0aW9ucy50eXBlOyAvLyB3b3VsZCBoYXZlIGhhcHBlbmVkIGluIGluaXRpYWxpemUgYWxyZWFkeSBidXQgbGV0J3MgYmUgZXhwbGljaXRcbiAgICAgICAgc2VsZi5zdGF0ZS5zb3J0SW5kZXggPSBvcHRpb25zLnNvcnRJbmRleDtcbiAgICB9LFxuICAgIFxuICAgIC8qKiBPdmVycmlkaW5nIGJhc2UgZnVuY3Rpb24gZm9yIHVuaXF1ZSB3aWRnZXQgSUQuICovXG4gICAgZ2V0V2lkZ2V0SWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50eXBlICsgJy1jb250ZW50LXdpZGdldCc7XG4gICAgfSxcbiAgICBcbiAgICAvKiogT3ZlcnJpZGluZyBwYXJhbXMgZm9yIHJlcXVlc3QgKi9cbiAgICBnZXRQYXJhbXNGb3JGZXRjaFJlcXVlc3Q6IGZ1bmN0aW9uKCkge1xuICAgIFx0dmFyIHNlbGYgPSB0aGlzO1xuICAgIFx0dmFyIHN1cGVyUGFyYW1zID0gRGVsZWdhdGVkV2lkZ2V0Vmlldy5wcm90b3R5cGUuZ2V0UGFyYW1zRm9yRmV0Y2hSZXF1ZXN0LmNhbGwoc2VsZik7XG4gICAgXHRyZXR1cm4ge3VybFN1ZmZpeDogdGhpcy5vcHRpb25zLnR5cGUsIHVybFBhcmFtczogc3VwZXJQYXJhbXNbJ3VybFBhcmFtcyddfVxuICAgIH0sXG4gICAgXG4gICAgb25Nb3ZlVXBDbGlja2VkOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBcdHZhciBzZWxmID0gdGhpcztcbiAgICBcdEFwcC51c2VyRGFzaGJvYXJkVmlldy5tb3ZlUmlnaHRTaWRlV2lkZ2V0KHNlbGYub3B0aW9ucy50eXBlLCB0cnVlKTtcbiAgICB9LFxuICAgIFxuICAgIG9uTW92ZURvd25DbGlja2VkOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBcdHZhciBzZWxmID0gdGhpcztcbiAgICBcdEFwcC51c2VyRGFzaGJvYXJkVmlldy5tb3ZlUmlnaHRTaWRlV2lkZ2V0KHNlbGYub3B0aW9ucy50eXBlLCBmYWxzZSk7XG4gICAgfSxcblxuICAgIHJlbmRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIERlbGVnYXRlZFdpZGdldFZpZXcucHJvdG90eXBlLnJlbmRlci5jYWxsKHNlbGYpO1xuICAgICAgICBcbiAgICAgICAgdXRpbC5sb2coJyMgIyMgUmVuZGVyZWQgd2lkZ2V0ICcgKyBzZWxmLndpZGdldElkKTtcbiAgICBcdFxuICAgICAgICAvLyByZW1vdmUgd2lkZ2V0IGlmIGVtcHR5XG4gICAgICAgIGlmIChzZWxmLndpZGdldERhdGEgJiYgc2VsZi53aWRnZXREYXRhLml0ZW1zICYmIHNlbGYud2lkZ2V0RGF0YS5pdGVtcy5sZW5ndGggPT0gMCkge1xuICAgICAgICBcdHNlbGYuJGVsLnJlbW92ZSgpXG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVtb3ZlIHdpZGdldCBpZiB1bmtub3duIGNvbnRlbnQgdHlwZSAoYXBwIHR5cGUgbWlnaHQgYmUgZGlzYWJsZWQpXG4gICAgICAgIGlmIChzZWxmLnN0YXRlWydlcnJvclJlc3BvbnNlVGV4dCddICYmIHNlbGYuc3RhdGVbJ2Vycm9yUmVzcG9uc2VUZXh0J10uc3RhcnRzV2l0aCgnVW5rbm93biBjb250ZW50IHR5cGUgc3VwcGxpZWQnKSkge1xuICAgICAgICAgICAgc2VsZi4kZWwucmVtb3ZlKClcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG4gICAgXG4gICAgLyoqIEV4dGVuZCB0aGUgdGVtcGxhdGUgZGF0YSBieSB0aGUgY29udHJvbFZpZXcncyBvcHRpb25zIGFuZCBzdGF0ZSAqL1xuICAgIGdldFRlbXBsYXRlRGF0YTogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBkYXRhID0gRGVsZWdhdGVkV2lkZ2V0Vmlldy5wcm90b3R5cGUuZ2V0VGVtcGxhdGVEYXRhLmNhbGwoc2VsZik7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH0sXG4gICAgXG4gICAgXG4gICAgXG5cbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy9jbGllbnQvdmlld3MvdXNlcmRhc2hib2FyZC90eXBlZC1jb250ZW50LXdpZGdldC12aWV3LmpzXG4vLyBtb2R1bGUgaWQgPSA2OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgbnVuanVja3MgPSByZXF1aXJlKFwibnVuanVja3MvYnJvd3Nlci9udW5qdWNrcy1zbGltXCIpO1xudmFyIGVudjtcbmlmICghbnVuanVja3MuY3VycmVudEVudil7XG5cdGVudiA9IG51bmp1Y2tzLmN1cnJlbnRFbnYgPSBuZXcgbnVuanVja3MuRW52aXJvbm1lbnQoW10sIHVuZGVmaW5lZCk7XG59IGVsc2Uge1xuXHRlbnYgPSBudW5qdWNrcy5jdXJyZW50RW52O1xufVxudmFyIGNvbmZpZ3VyZSA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi8uLi9udW5qdWNrcy5jb25maWcuanNcIikoZW52KTtcbnZhciBkZXBlbmRlbmNpZXMgPSBudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzIHx8IChudW5qdWNrcy53ZWJwYWNrRGVwZW5kZW5jaWVzID0ge30pO1xuZGVwZW5kZW5jaWVzW1widXNlcmRhc2hib2FyZC9iYXNlLXdpZGdldFwiXSA9IHJlcXVpcmUoIFwidXNlcmRhc2hib2FyZC9iYXNlLXdpZGdldFwiICk7XG5kZXBlbmRlbmNpZXNbXCJpbmNsdWRlL21hY3Jvcy5odG1sXCJdID0gcmVxdWlyZSggXCJpbmNsdWRlL21hY3Jvcy5odG1sXCIgKTtcblxuXG5cblxudmFyIHNoaW0gPSByZXF1aXJlKFwiL2hvbWUvc2FzY2hhL3ByL2Nvc2lubnVzLWNvcmUvbm9kZV9tb2R1bGVzL251bmp1Y2tzLWxvYWRlci9ydW50aW1lLXNoaW1cIik7XG5cblxuKGZ1bmN0aW9uKCkgeyhudW5qdWNrcy5udW5qdWNrc1ByZWNvbXBpbGVkID0gbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZCB8fCB7fSlbXCJjb3Npbm51cy90ZW1wbGF0ZXMvY29zaW5udXMvdW5pdmVyc2FsL3VzZXJkYXNoYm9hcmQvdHlwZWQtY29udGVudC13aWRnZXQuaHRtbFwiXSA9IChmdW5jdGlvbigpIHtcbmZ1bmN0aW9uIHJvb3QoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgY2IpIHtcbnZhciBsaW5lbm8gPSBudWxsO1xudmFyIGNvbG5vID0gbnVsbDtcbnZhciBvdXRwdXQgPSBcIlwiO1xudHJ5IHtcbnZhciBwYXJlbnRUZW1wbGF0ZSA9IG51bGw7XG5lbnYuZ2V0VGVtcGxhdGUoXCJ1c2VyZGFzaGJvYXJkL2Jhc2Utd2lkZ2V0XCIsIHRydWUsIFwiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC91c2VyZGFzaGJvYXJkL3R5cGVkLWNvbnRlbnQtd2lkZ2V0Lmh0bWxcIiwgZmFsc2UsIGZ1bmN0aW9uKHRfMixfcGFyZW50VGVtcGxhdGUpIHtcbmlmKHRfMikgeyBjYih0XzIpOyByZXR1cm47IH1cbnBhcmVudFRlbXBsYXRlID0gX3BhcmVudFRlbXBsYXRlXG5mb3IodmFyIHRfMSBpbiBwYXJlbnRUZW1wbGF0ZS5ibG9ja3MpIHtcbmNvbnRleHQuYWRkQmxvY2sodF8xLCBwYXJlbnRUZW1wbGF0ZS5ibG9ja3NbdF8xXSk7XG59XG5vdXRwdXQgKz0gXCJcXG5cIjtcbmVudi5nZXRUZW1wbGF0ZShcImluY2x1ZGUvbWFjcm9zLmh0bWxcIiwgZmFsc2UsIFwiY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC91c2VyZGFzaGJvYXJkL3R5cGVkLWNvbnRlbnQtd2lkZ2V0Lmh0bWxcIiwgZmFsc2UsIGZ1bmN0aW9uKHRfNCx0XzMpIHtcbmlmKHRfNCkgeyBjYih0XzQpOyByZXR1cm47IH1cbnRfMy5nZXRFeHBvcnRlZChmdW5jdGlvbih0XzUsdF8zKSB7XG5pZih0XzUpIHsgY2IodF81KTsgcmV0dXJuOyB9XG5jb250ZXh0LnNldFZhcmlhYmxlKFwibWFjcm9zXCIsIHRfMyk7XG5vdXRwdXQgKz0gXCJcXG5cXG5cIjtcbihwYXJlbnRUZW1wbGF0ZSA/IGZ1bmN0aW9uKGUsIGMsIGYsIHIsIGNiKSB7IGNiKFwiXCIpOyB9IDogY29udGV4dC5nZXRCbG9jayhcImF0dHJzXCIpKShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBmdW5jdGlvbih0XzcsdF82KSB7XG5pZih0XzcpIHsgY2IodF83KTsgcmV0dXJuOyB9XG5vdXRwdXQgKz0gdF82O1xub3V0cHV0ICs9IFwiXFxuXFxuXCI7XG4ocGFyZW50VGVtcGxhdGUgPyBmdW5jdGlvbihlLCBjLCBmLCByLCBjYikgeyBjYihcIlwiKTsgfSA6IGNvbnRleHQuZ2V0QmxvY2soXCJ0aXRsZVwiKSkoZW52LCBjb250ZXh0LCBmcmFtZSwgcnVudGltZSwgZnVuY3Rpb24odF85LHRfOCkge1xuaWYodF85KSB7IGNiKHRfOSk7IHJldHVybjsgfVxub3V0cHV0ICs9IHRfODtcbm91dHB1dCArPSBcIlxcblxcblxcblwiO1xuaWYocGFyZW50VGVtcGxhdGUpIHtcbnBhcmVudFRlbXBsYXRlLnJvb3RSZW5kZXJGdW5jKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKTtcbn0gZWxzZSB7XG5jYihudWxsLCBvdXRwdXQpO1xufVxufSl9KX0pfSl9KTtcbn0gY2F0Y2ggKGUpIHtcbiAgY2IocnVudGltZS5oYW5kbGVFcnJvcihlLCBsaW5lbm8sIGNvbG5vKSk7XG59XG59XG5mdW5jdGlvbiBiX2F0dHJzKGVudiwgY29udGV4dCwgZnJhbWUsIHJ1bnRpbWUsIGNiKSB7XG52YXIgbGluZW5vID0gbnVsbDtcbnZhciBjb2xubyA9IG51bGw7XG52YXIgb3V0cHV0ID0gXCJcIjtcbnRyeSB7XG5vdXRwdXQgKz0gXCJkYXRhLXNvcnQtaW5kZXg9XFxcIlwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcInNvcnRJbmRleFwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXFwiIGRhdGEtY29udGVudC10eXBlPVxcXCJcIjtcbm91dHB1dCArPSBydW50aW1lLnN1cHByZXNzVmFsdWUocnVudGltZS5jb250ZXh0T3JGcmFtZUxvb2t1cChjb250ZXh0LCBmcmFtZSwgXCJ0eXBlXCIpLCBlbnYub3B0cy5hdXRvZXNjYXBlKTtcbm91dHB1dCArPSBcIlxcXCJcIjtcbmNiKG51bGwsIG91dHB1dCk7XG47XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxuZnVuY3Rpb24gYl90aXRsZShlbnYsIGNvbnRleHQsIGZyYW1lLCBydW50aW1lLCBjYikge1xudmFyIGxpbmVubyA9IG51bGw7XG52YXIgY29sbm8gPSBudWxsO1xudmFyIG91dHB1dCA9IFwiXCI7XG50cnkge1xub3V0cHV0ICs9IFwiXFxuICAgIFwiO1xub3V0cHV0ICs9IHJ1bnRpbWUuc3VwcHJlc3NWYWx1ZShydW50aW1lLmNvbnRleHRPckZyYW1lTG9va3VwKGNvbnRleHQsIGZyYW1lLCBcIndpZGdldF90aXRsZVwiKSwgZW52Lm9wdHMuYXV0b2VzY2FwZSk7XG5vdXRwdXQgKz0gXCJcXG5cIjtcbmNiKG51bGwsIG91dHB1dCk7XG47XG59IGNhdGNoIChlKSB7XG4gIGNiKHJ1bnRpbWUuaGFuZGxlRXJyb3IoZSwgbGluZW5vLCBjb2xubykpO1xufVxufVxucmV0dXJuIHtcbmJfYXR0cnM6IGJfYXR0cnMsXG5iX3RpdGxlOiBiX3RpdGxlLFxucm9vdDogcm9vdFxufTtcblxufSkoKTtcbn0pKCk7XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHNoaW0obnVuanVja3MsIGVudiwgbnVuanVja3MubnVuanVja3NQcmVjb21waWxlZFtcImNvc2lubnVzL3RlbXBsYXRlcy9jb3Npbm51cy91bml2ZXJzYWwvdXNlcmRhc2hib2FyZC90eXBlZC1jb250ZW50LXdpZGdldC5odG1sXCJdICwgZGVwZW5kZW5jaWVzKVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29zaW5udXMvdGVtcGxhdGVzL2Nvc2lubnVzL3VuaXZlcnNhbC91c2VyZGFzaGJvYXJkL3R5cGVkLWNvbnRlbnQtd2lkZ2V0Lmh0bWxcbi8vIG1vZHVsZSBpZCA9IDcwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWwgPSByZXF1aXJlKCdsaWIvdXRpbC5qcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcbiAgICBcblx0dWlQcmVmczogbnVsbCxcblx0ZmV0Y2hVcmw6ICcvZGFzaGJvYXJkL2FwaS9zYXZlX3VpX3ByZWZzLycsXG5cdFxuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uICh1aVByZWZzKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgQmFja2JvbmUuVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHNlbGYpO1xuICAgICAgICAkKCdib2R5Jykub24oJ2NsaWNrJywgJ1tkYXRhLXRhcmdldD1cInVpLXByZWZcIl0nLCBzZWxmLm9uVWlQcmVmTGlua0NsaWNrZWQuYmluZCh0aGlzKSk7XG4gICAgICAgIHNlbGYudWlQcmVmcyA9IHVpUHJlZnM7XG4gICAgfSxcbiAgICBcbiAgICAvKiogUmV0dXJucyBhIHVpUHJlZiBmb3IgdGhlIGdpdmVuIHVpX3ByZWYga2V5LCBlLmcuICd0aW1lbGluZV9fb25seV9taW5lJyAqL1xuICAgIGdldFVpUHJlZjogZnVuY3Rpb24odWlQcmVmKSB7XG4gICAgXHRpZiAodWlQcmVmIGluIHRoaXMudWlQcmVmcykge1xuICAgIFx0XHRyZXR1cm4gdGhpcy51aVByZWZzW3VpUHJlZl07XG4gICAgXHR9XG4gICAgXHRyZXR1cm4gbnVsbDtcbiAgICB9LFxuICAgIFxuICAgIC8qKiBBcHBsaWVzIHRoZSBnaXZlbiB1aVByZWZzIGludG8gdGhlIGN1cnJlbnQgc3RhdGUgYW5kXG4gICAgICogXHRzZW5kcyBhIHJlcXVlc3QgdG8gcGVyc2lzdCB0aGVtIGluIHRoZSBEQiBmb3IgdGhpcyB1c2VyLlxuICAgICAqIFx0VGhlIEFQSSBvbmx5IHBlcnNpc3RzIHdlbGwtZm9ybWVkLCBleGlzdGluZyB1aSBwcmVmcywgc29cbiAgICAgKiAgd2UgZG9uJ3QgbmVlZCB0byB3b3JyeSBhYm91dCB2YWxpZGF0aW5nIHRoZW0uICovXG4gICAgc2F2ZVVpUHJlZnM6IGZ1bmN0aW9uKHVpUHJlZkRpY3QpIHtcbiAgICBcdHZhciB1cmwgPSB0aGlzLmZldGNoVXJsO1xuICAgIFx0JC5leHRlbmQodHJ1ZSwgc2VsZi51aVByZWZzLCB1aVByZWZEaWN0KTtcbiAgICBcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblx0XHRcdCQuYWpheCh1cmwsIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgdGltZW91dDogMTUwMDAsXG4gICAgICAgICAgICAgICAgZGF0YTogdWlQcmVmRGljdCxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UsIHRleHRTdGF0dXMsIHhocikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PSAyMDApIHtcbiAgICAgICAgICAgICAgICBcdFx0cmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBcdHJlamVjdCh4aHIuc3RhdHVzVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCB0ZXh0U3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgXHRyZWplY3QoeGhyLnN0YXR1c1RleHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIFx0fSk7XG4gICAgXHRcbiAgICB9LFxuICAgIFxuICAgIC8qKiBBIGxpc3RlbmVyIGZvciBjbGlja3Mgb24gbGlua3MgdGhhdCBjYXVzZSB1aSBwcmVmIGNoYW5nZXMuIFxuICAgICAqIFx0UmVxdWlyZWQgYXR0cmlidXRlcyBvbiB0aGUgbGluayBhcmU6XG4gICAgICogXHRcdC0gYGRhdGEtdGFyZ2V0PVwidWktcHJlZlwiYDogYXMgaWRlbnRpZmllclxuICAgICAqIFx0XHQtIGBkYXRhLXVpLXByZWZgOiBzZXQgdG8gdGhlIG5hbWUgb2YgdGhlIHVpIHByZWZcbiAgICAgKiBcdFx0LSBgZGF0YS11aS1wcmVmLXZhbHVlYDogc2V0IHRvIHRoZSB2YWx1ZSB0aGUgdWkgcHJlZiBzaG91bGQgdGFrZVxuICAgICAqIFx0XHQtIGBkYXRhLWhpZGUtYWZ0ZXJgOiAob3B0aW9uYWwpIGEgc2VsZWN0b3IgZm9yIGFuIGVsZW1lbnQgdGhhdCBzaG91bGQgYmUgaGlkZGVuIFxuICAgICAqIFx0XHRcdFx0YWZ0ZXIgdGhlIHVpIHByZWYgd2FzIHNhdmVkXG4gICAgICogICovXG4gICAgb25VaVByZWZMaW5rQ2xpY2tlZDogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBcdHZhciBzZWxmID0gdGhpcztcbiAgICBcdHZhciBwcmVmcyA9IHt9O1xuICAgIFx0dmFyICRsaW5rID0gJChldmVudC50YXJnZXQpO1xuICAgIFx0XG4gICAgXHRpZiAoISRsaW5rLmlzKCdbZGF0YS10YXJnZXQ9XCJ1aS1wcmVmXCJdJykpIHtcbiAgICBcdCAgICAkbGluayA9ICRsaW5rLnBhcmVudHMoJ1tkYXRhLXRhcmdldD1cInVpLXByZWZcIl0nKTtcbiAgICBcdH1cbiAgICBcdGlmICgkbGluay5pcygnW2RhdGEtdGFyZ2V0PVwidWktcHJlZlwiXScpKSB7XG4gICAgICAgIFx0cHJlZnNbJGxpbmsuYXR0cignZGF0YS11aS1wcmVmJyldID0gJGxpbmsuYXR0cignZGF0YS11aS1wcmVmLXZhbHVlJyk7XG4gICAgICAgIFx0dGhpcy5zYXZlVWlQcmVmcyhwcmVmcyk7XG4gICAgICAgIFx0XG4gICAgICAgIFx0Ly8gaWYgYW4gZWxlbWVudCBpcyBnaXZlbiBpbiBgZGF0YS1oaWRlLWFmdGVyYCwgaGlkZSB0aGF0IGVsZW1lbnRcbiAgICAgICAgXHR2YXIgaGlkZUFmdGVyID0gJGxpbmsuYXR0cignZGF0YS1oaWRlLWFmdGVyJyk7XG4gICAgICAgIFx0aWYgKGhpZGVBZnRlcikge1xuICAgICAgICBcdFx0JChoaWRlQWZ0ZXIpLmZhZGVPdXQoKTtcbiAgICAgICAgXHR9XG4gICAgXHR9XG4gICAgfSxcbiAgICBcbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb3Npbm51cy9jbGllbnQvdmlld3MvdXNlcmRhc2hib2FyZC91aS1wcmVmcy12aWV3LmpzXG4vLyBtb2R1bGUgaWQgPSA3MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9